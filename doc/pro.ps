%!PS-Adobe-1.0
%%Creator: devps (Pipeline Associates, Inc.)
%%CreationDate: Tue Jul 30 13:51:10 1996
%%Pages: (atend)
%%DocumentFonts: (atend)

/devps 180 dict def devps begin
/res 10.000000 def
/y_offset 843 def
/X{exch}bind def
/mm {transform round X round X itransform} bind def
/r{rmoveto}bind def
/m{moveto}bind def
/l{lineto}bind def
/rl{rlineto}bind def
/st{stroke}bind def
/gs{gsave}bind def
/gr{grestore}bind def
/cp{currentpoint}bind def
/np{newpath}bind def
/ct{curveto}bind def
systemdict /setpacking known
 { /savepacking currentpacking def true setpacking } if
/m0{0 0 moveto}bind def
/xc{//res div}bind def
/yc{//res neg div //y_offset add}bind def
/lc{yc X xc X l st}bind def
/mc{yc X xc X m}bind def
/el{gs /a X def a div 1 X scale cp np a xc 2 div 0 360 arc st gr}bind def
/ar{cp 7 2 roll np xc 5 1 roll atan 3 1 roll atan X arc st}bind def
/sp{yc X xc X 6 2 roll yc X xc X 6 2 roll yc X xc X 6 2 roll ct}bind def
/V{//res neg div //y_offset add
currentpoint pop X
m}bind def
/H{//res div
0 transform X round X itransform pop
currentpoint X pop
moveto}bind def
/h{//res div 0 r}bind def
/v{//res neg div 0 X r}bind def
/S{X H show}bind def
/A{H //res div 1 index stringwidth pop sub 1 index length div 0 3 2 roll ashow}bind def
/psize 10 def
/height 0 def
/cheight { height 0 ne { height } { psize } ifelse } bind def
/slant 0 def
/FF{findfont X dup 30 div 0 mm pop setlinewidth /psize X def
    [psize 0 cheight slant sin slant cos div mul cheight 0 0]
    makefont setfont}bind def
/shade{gs
 /dy X def
 /dx X def
 np m
 0 /dy rl
 /dx 0 rl
 0 /dy neg rl
 /dx neg 0 rl
 closepath
 .9 setgray
 fill
gr}bind def
1 setlinecap

/resolution res 72 mul def


/startFig {
	/SavedState save def
	userdict maxlength dict begin
	currentpoint transform

	DocumentInitState setmiterlimit setgray setdash setlinejoin setlinecap
		setlinewidth setmatrix

	itransform moveto

	/ury exch def
	/urx exch def
	/lly exch def
	/llx exch def
	/y exch 72 mul resolution div def
	/x exch 72 mul resolution div def
	
	currentpoint /cy exch def /cx exch def

	/sx x urx llx sub div def
	/sy y ury lly sub div def

	sx sy scale

	cx sx div llx sub
	cy sy div ury sub translate
	
	/DefFigCTM matrix currentmatrix def

	/initmatrix {
		DefFigCTM setmatrix
	} def
	/defaultmatrix {
		DefFigCTM exch copy
	} def

	/initgraphics {
		DocumentInitState setmiterlimit setgray setdash 
			setlinejoin setlinecap setlinewidth setmatrix
		DefFigCTM setmatrix
	} def

	/showpage {
		initgraphics
	} def

}bind  def
/clipFig {
	currentpoint 6 2 roll
	newpath 4 copy
	4 2 roll moveto
	6 -1 roll exch lineto
	exch lineto
	exch lineto
	closepath clip
	newpath
	moveto
}bind  def
/doclip { llx lly urx ury clipFig } def
/endFig {
	end SavedState restore
}bind  def
/globalstart {
	fontnum psize slant height resolution currentpoint 
	pagesave restore gsave 
}bind  def
/globalend {
	grestore moveto
	/resolution exch def /height exch def
	/slant exch def /psize exch def /fontnum exch def
	F
	/pagesave save def
}bind  def


/fontnum 1 def 
systemdict /setpacking known { savepacking setpacking} if
end
/BP{
save mark devps begin m0
/DocumentInitState [ matrix currentmatrix currentlinewidth currentlinecap
currentlinejoin currentdash currentgray currentmiterlimit ] cvx def
}bind def
/EP{
end cleartomark restore showpage}def
/R{/Times-Roman FF}def
/B{/Times-Bold FF}def

/Encoding-1 256 array def
0 1 255 {Encoding-1 exch /.notdef put} for
Encoding-1 8#301 StandardEncoding 8#101 26 getinterval putinterval %A-B
Encoding-1 8#341 StandardEncoding 8#141 26 getinterval putinterval %a-b
Encoding-1 8#241 StandardEncoding 8#301 16 getinterval putinterval %accents
Encoding-1 8#373 StandardEncoding 8#365 1 getinterval putinterval %dotlessi
Encoding-1
dup 8#41 /copyright put
dup 8#42 /registered put
dup 8#43 /trademark put
dup 8#44 /logicalnot put
dup 8#45 /Eth put
dup 8#46 /eth put
dup 8#47 /Thorn put
dup 8#50 /thorn put
dup 8#51 /brokenbar put
dup 8#52 /degree put
dup 8#53 /divide put
dup 8#54 /multiply put
dup 8#55 /minus put
dup 8#56 /onehalf put
dup 8#57 /onequarter put
dup 8#60 /threequarters put
dup 8#101 /Aacute put
dup 8#102 /Acircumflex put
dup 8#103 /Adieresis put
dup 8#104 /Agrave put
dup 8#105 /Aring put
dup 8#106 /Atilde put
dup 8#107 /Ccedilla put
dup 8#110 /Eacute put
dup 8#111 /Ecircumflex put
dup 8#112 /Edieresis put
dup 8#113 /Egrave put
dup 8#114 /Iacute put
dup 8#115 /Icircumflex put
dup 8#116 /Idieresis put
dup 8#117 /Igrave put
dup 8#120 /Ntilde put
dup 8#121 /Oacute put
dup 8#122 /Ocircumflex put
dup 8#123 /Odieresis put
dup 8#124 /Ograve put
dup 8#125 /Otilde put
dup 8#126 /Scaron put
dup 8#127 /Uacute put
dup 8#130 /Ucircumflex put
dup 8#131 /Udieresis put
dup 8#132 /Ugrave put
dup 8#133 /Ydieresis put
dup 8#134 /Zcaron put
dup 8#135 /aacute put
dup 8#136 /acircumflex put
dup 8#137 /adieresis put
dup 8#140 /agrave put
dup 8#141 /aring put
dup 8#142 /atilde put
dup 8#143 /ccedilla put
dup 8#144 /eacute put
dup 8#145 /ecircumflex put
dup 8#146 /edieresis put
dup 8#147 /egrave put
dup 8#150 /iacute put
dup 8#151 /icircumflex put
dup 8#152 /idieresis put
dup 8#153 /igrave put
dup 8#154 /ntilde put
dup 8#155 /oacute put
dup 8#156 /ocircumflex put
dup 8#157 /odieresis put
dup 8#160 /ograve put
dup 8#161 /otilde put
dup 8#162 /scaron put
dup 8#163 /uacute put
dup 8#164 /ucircumflex put
dup 8#165 /udieresis put
dup 8#166 /ugrave put
dup 8#167 /ydieresis put
dup 8#170 /zcaron put
pop

/Enc-dict 30 dict def
Enc-dict /tmpstr1 50 string put
Enc-dict /tmpstr2 50 string put
Enc-dict /tmpstr3 50 string dup (Encoding-) exch cvs pop put
/AEnc-def { % arguments: the original font's name, encoding nr
Enc-dict begin
tmpstr2 cvs /Enc-no exch def % Remember the number in a string
dup /OrigName exch def % remember the name
findfont dup maxlength dict /newdict exch def % get dictionary for new font
{ exch dup /FID ne
   { exch newdict 3 1 roll put }
   { pop pop } % Ignore FID
   ifelse
} forall
newdict begin
/Encoding
  tmpstr3 9 Enc-no putinterval tmpstr3 0 9 Enc-no length add getinterval
  cvn load
  def % Replace encoding
currentdict /UniqueID known
{ /UniqueID UniqueID Enc-no cvi 49999 mul add def } if % Derive New UniqueID
end % newdict
/FNlength OrigName tmpstr1 cvs length def % convert name, remember length
FNlength 1 add Enc-no length add string
dup 0 OrigName tmpstr1 cvs putinterval
dup FNlength (-) putinterval
dup FNlength 1 add Enc-no putinterval
dup 0 tmpstr1 0 FNlength getinterval putinterval % Add old name
cvn dup newdict /FontName 3 2 roll put newdict definefont
end % Enc-dict
} def
/Times-Roman 1 AEnc-def pop
/R-1{/Times-Roman-1 FF}def
/I{/Times-Italic FF}def
%% Troff special characters not on Symbol font
%% Copyright (C) 1986 by Pipeline Associates, Inc.
%% Version 1.0
%% $Header: Troff.pro,v 1.7 90/08/14 16:07:55 keie Exp $
/altRTD 20 dict def
altRTD begin
/s{setcachedevice}bind def
/m{moveto}bind def
/c{curveto}bind def
/S{stroke}bind def
/l{lineto}bind def
end
/F_Troff 17 dict def F_Troff begin
systemdict /currentpacking known
{/SavePacking currentpacking def true setpacking}if
/PaintType 0 def
/FontType 3 def
/StrokeWidth 25 def
/UniqueID 8277030 def
/FontMatrix [.001000 0 0 .001000 0 0] def
/FontBBox [-85 -150 1000 1000 ] def
/Encoding 256 array def
/CD 256 1 add dict def
/FontInfo 3 dict def FontInfo begin
/UnderlinePosition -133 def /UnderlineThickness 20 def end
/FontName (Troff) def
0 1 256 1 sub{Encoding exch /.notdef put}for
CD /.notdef{500 0 setcharwidth{}}put
Encoding (1) 0 get /br put
%% bold vertical rule used by tbl
CD /br{
0 0 -500 -500 1000 1000 s
np
clw
0 -100 m
0 900 l
{S}
}put
Encoding (2) 0 get /ul put
%% underline used by tbl
CD /ul{
500 0 0 -200 500 0 s
np
clw
0 -100 m
500 -100 l
{S}
}put
Encoding (3) 0 get /ru put
%% baseline rule
CD /ru{
500 0 -500 -500 1000 1000 s
np
clw
m0
500 0 l
{S}
}put
Encoding (4) 0 get /vr put
%% vertical rule
CD /vr{
0 0 -500 -500 1000 1000 s
np
clw
m0
0 1000 l
{S}
}put
Encoding (5) 0 get /sq put
%% square
CD /sq{
500 0 0 0 500 1000 s
np
m0
0 500 rl
500 0 rl
0 -500 rl
-500 0 rl
closepath
61 61 m
378 0 rl
0 378 rl
-378 0 rl
closepath
{fill}
}put
Encoding (6) 0 get /bx put
%% solid box
CD /bx{
500 0 0 0 500 1000 s
np
m0
0 500 rl
500 0 rl
0 -500 rl
closepath
{fill}
}put
Encoding (7) 0 get /rn put
%% radical extender
CD /rn{
500 0 -500 -500 1000 1000 s
np
30 setlinewidth
-30 900 m
500 0 rl
{S}
}put
Encoding 120 /rc put
%% top of right bracket above braceex
CD /rc {
494 0 -85 -80 255 926 s
201 -80 m 201 872 l -85 872 l -85 926 l 255 926 l 255 -80 l
closepath {fill}
} put
Encoding 121 /lc put
%% top of left bracket above braceex
CD /lc {
491 0 201 -80 541 926 s
201 -80 m 201 926 l 541 926 l 541 872 l 255 872 l 255 -80 l
closepath {fill}
} put
Encoding 122 /rf put
%% bottom of right bracket below braceex
CD /rf {
494 0 -85 -80 255 926 s
-85 -80 m -85 -26 l 201 -26 l 201 926 l 255 926 l 255 -80 l
closepath {fill}
} put
Encoding 123 /lf put
%% bottom of left bracket below braceex
CD /lf {
494 0 201 -80 541 926 s
201 -80 m 201 926 l 255 926 l 255 -26 l 872 -26 l 872 -80 l
closepath {fill}
} put
Encoding 97 /a put
CD /a{5 setlinewidth 1000 0 0 66 942 421 s 430 415
m 578 406 678 349 662 319 c 655 306 614 287 583
296 c 570 300 466 340 438 332 c 365 309 335 213
270 209 c 0 310 m 108 310 l 108 114 l 0
114 l 0 310 l 42 161 m 42 134 l 66 134 l 66
161 l 42 161 l 47 155 m 47 140 l 62 140 l 62
155 l 47 155 l 110 133 m 226 113 300 66 410
80 c 497 91 550 69 634 76 c 645 76 663 92 669
107 c 677 125 673 141 668 160 c 725 334 m 758
332 734 253 701 250 c 501 325 m 475 316 476 309
473 302 c 465 282 482 263 499 257 c 552 236 615
253 689 253 c 701 253 713 236 713 218 c 712 194
702 168 678 161 c 671 159 663 160 655 160 c 591
158 516 156 479 168 c 461 173 453 191 453 210 c 453
224 456 235 466 244 c 476 253 490 252 503 255 c 459
84 m 447 96 435 106 435 123 c 435 136 440 145 447
155 c 453 163 462 168 469 173 c 110 293 m 173
318 300 421 435 415 c 609 407 852 416 885 411 c 898
409 924 411 930 380 c 942 316 828 339 742 334 c 731
334 730 335 725 335 c 701 336 685 336 660 336 c{S}}put
Encoding 98 /b put
CD /b{5 setlinewidth 1000 0 -12 66 930 421 s 500
415 m 352 406 252 349 268 319 c 275 306 316 287
347 296 c 360 300 464 340 492 332 c 565 309 595
213 660 209 c 930 310 m 822 310 l 822 114 l 930
114 l 930 310 l 888 161 m 888 134 l 864 134
l 864 161 l 888 161 l 883 155 m 883 140 l 868
140 l 868 155 l 883 155 l 820 133 m 704 113
630 66 520 80 c 433 91 380 69 296 76 c 285 76
267 92 261 107 c 253 125 257 141 262 160 c 205
334 m 172 332 196 253 229 250 c 429 325 m 455
316 454 309 457 302 c 465 282 448 263 431 257 c 378
236 315 253 241 253 c 229 253 217 236 217 218 c 218
194 228 168 252 161 c 259 159 267 160 275 160 c 339
158 414 156 451 168 c 469 173 477 191 477 210 c 477
224 474 235 464 244 c 454 253 440 252 427 255 c 471
84 m 483 96 495 106 495 123 c 495 136 490 145 483
155 c 477 163 468 168 461 173 c 820 293 m 757
318 630 421 495 415 c 321 407 78 416 45 411 c 32
409 6 411 0 380 c -12 316 102 339 188 334 c 199
334 200 335 205 335 c 229 336 245 336 270 336 c{S}}put
Encoding 99 /c put
CD /c{710 0 0 0 700 700 s
33 setlinewidth
335 23 m 335 325 302 -90 270 arc
{S}}put
Encoding 100 /d put
CD /d{590 0 134 158 477 500 s 300
160 m 208 162 134 238 135 330 c 136 423 212 500
305 500 c 397 500 473 427 475 335 c 477 239 396
158 300 160 c{fill}}put
Encoding 101 /e put
CD /e { % produces the VU symbol
760 0 0 0 750 750 s
267 267 scale
0 setlinejoin
.045 setlinewidth
0 setlinecap
3 setmiterlimit
newpath
0 0 moveto
0 2.8 rlineto
0.38 0 rlineto
0 -2.3 rlineto
0.02 0 rlineto
0.67 2.3 rlineto
0.38 0 rlineto
-0.83 -2.8 rlineto
closepath
1.61 2.8 moveto
0.38 0 rlineto
-0.687 -2.32 rlineto
-.03 -.1 -0.03 -0.1 0 -0.1 rcurveto
1.027 0 rlineto
0 2.42 rlineto
0.38 0 rlineto
currentpoint pop 0 % x 0
2.0 0
0.28 arcto
4 {pop} repeat
0.78 0 1.61 2.8 0.15 arcto
4 {pop} repeat
closepath
{S}} put
/BuildChar{altRTD /BuildChar get exec}def end
altRTD begin /BuildChar{altRTD begin
/char exch def /fontdict exch def save
/charname fontdict /Encoding get char get def
/clw { 37 0 mm pop setlinewidth}bind def
fontdict /StrokeWidth get setlinewidth
0 setlinecap
0 setlinejoin
fontdict /CD get dup charname known
{charname}{/.notdef}ifelse get newpath exec
fontdict /PaintType get 0 eq{exec}{pop S}ifelse
restore end}def end
systemdict /currentpacking known{F_Troff /SavePacking get setpacking}if
/Troff F_Troff definefont pop
/Y1{/Troff FF}def
/Times-Bold 1 AEnc-def pop
/B-1{/Times-Bold-1 FF}def
/C{/Courier FF}def
/Times-Italic 1 AEnc-def pop
/I-1{/Times-Italic-1 FF}def
/Y{/Symbol FF}def
/Courier 1 AEnc-def pop
/C-1{/Courier-1 FF}def
%%EndProlog
%%Page: 1 1
BP
/slant 0 def
/height 0 def
2320 V
18 R
1818(The)S
2146(Amoeba)S
2804(Reference)S
3587(Manual)S
3180 V
24 B
1908(Programming)S
3418(Guide)S
4170 V
1898 H
2210 
2320 
125.00 
325.00 
346.00 
557.00 
startFig 
%%!PS-Adobe-2.0 EPSF-1.2
%%%
%%%	@(#)logo.ps	1.3	92/05/18 11:09:23
%%%
%%% (c) copyright 1991,1992 Vrije Universiteit
%%%DocumentFonts: Helvetica-Bold
%%%Pages: 1
%%%BoundingBox: 125 325 346 557
%%%EndComments

50 dict begin

/arrowHeight 8 def
/arrowWidth 4 def
/none null def
/numGraphicParameters 17 def
/stringLimit 65535 def

/Begin {
save
numGraphicParameters dict begin
} def

/End {
end
restore
} def

/SetB {
dup type /nulltype eq {
pop
false /brushRightArrow idef
false /brushLeftArrow idef
true /brushNone idef
} {
/brushDashOffset idef
/brushDashArray idef
0 ne /brushRightArrow idef
0 ne /brushLeftArrow idef
/brushWidth idef
false /brushNone idef
} ifelse
} def

/SetCFg {
/fgblue idef
/fggreen idef
/fgred idef
} def

/SetCBg {
/bgblue idef
/bggreen idef
/bgred idef
} def

/SetF {
/printSize idef
/printFont idef
} def

/SetP {
dup type /nulltype eq {
pop true /patternNone idef
} {
dup -1 eq {
/patternGrayLevel idef
/patternString idef
} {
/patternGrayLevel idef
} ifelse
false /patternNone idef
} ifelse
} def

/BSpl {
0 begin
storexyn
newpath
n 1 gt {
0 0 0 0 0 0 1 1 true subspline
n 2 gt {
0 0 0 0 1 1 2 2 false subspline
1 1 n 3 sub {
/i exch def
i 1 sub dup i dup i 1 add dup i 2 add dup false subspline
} for
n 3 sub dup n 2 sub dup n 1 sub dup 2 copy false subspline
} if
n 2 sub dup n 1 sub dup 2 copy 2 copy false subspline
patternNone not brushLeftArrow not brushRightArrow not and and { ifill } if
brushNone not { istroke } if
0 0 1 1 leftarrow
n 2 sub dup n 1 sub dup rightarrow
} if
end
} dup 0 4 dict put def

/Circ {
newpath
0 360 arc
patternNone not { ifill } if
brushNone not { istroke } if
} def

/CBSpl {
0 begin
dup 2 gt {
storexyn
newpath
n 1 sub dup 0 0 1 1 2 2 true subspline
1 1 n 3 sub {
/i exch def
i 1 sub dup i dup i 1 add dup i 2 add dup false subspline
} for
n 3 sub dup n 2 sub dup n 1 sub dup 0 0 false subspline
n 2 sub dup n 1 sub dup 0 0 1 1 false subspline
patternNone not { ifill } if
brushNone not { istroke } if
} {
Poly
} ifelse
end
} dup 0 4 dict put def

/Elli {
0 begin
newpath
4 2 roll
translate
scale
0 0 1 0 360 arc
patternNone not { ifill } if
brushNone not { istroke } if
end
} dup 0 1 dict put def

/Line {
0 begin
2 storexyn
newpath
x 0 get y 0 get moveto
x 1 get y 1 get lineto
brushNone not { istroke } if
0 0 1 1 leftarrow
0 0 1 1 rightarrow
end
} dup 0 4 dict put def

/MLine {
0 begin
storexyn
newpath
n 1 gt {
x 0 get y 0 get moveto
1 1 n 1 sub {
/i exch def
x i get y i get lineto
} for
patternNone not brushLeftArrow not brushRightArrow not and and { ifill } if
brushNone not { istroke } if
0 0 1 1 leftarrow
n 2 sub dup n 1 sub dup rightarrow
} if
end
} dup 0 4 dict put def

/Poly {
3 1 roll
newpath
moveto
-1 add
{ lineto } repeat
closepath
patternNone not { ifill } if
brushNone not { istroke } if
} def

/Rect {
0 begin
/t exch def
/r exch def
/b exch def
/l exch def
newpath
l b moveto
l t lineto
r t lineto
r b lineto
closepath
patternNone not { ifill } if
brushNone not { istroke } if
end
} dup 0 4 dict put def

/Text {
ishow
} def

/idef {
dup where { pop pop pop } { exch def } ifelse
} def

/ifill {
0 begin
gsave
patternGrayLevel -1 ne {
fgred bgred fgred sub patternGrayLevel mul add
fggreen bggreen fggreen sub patternGrayLevel mul add
fgblue bgblue fgblue sub patternGrayLevel mul add setrgbcolor
eofill
} {
eoclip
originalCTM setmatrix
pathbbox /t exch def /r exch def /b exch def /l exch def
/w r l sub ceiling cvi def
/h t b sub ceiling cvi def
/imageByteWidth w 8 div ceiling cvi def
/imageHeight h def
bgred bggreen bgblue setrgbcolor
eofill
fgred fggreen fgblue setrgbcolor
w 0 gt h 0 gt and {
l b translate w h scale
w h true [w 0 0 h neg 0 h] { patternproc } imagemask
} if
} ifelse
grestore
end
} dup 0 8 dict put def

/istroke {
gsave
brushDashOffset -1 eq {
[] 0 setdash
1 setgray
} {
brushDashArray brushDashOffset setdash
fgred fggreen fgblue setrgbcolor
} ifelse
brushWidth setlinewidth
originalCTM setmatrix
stroke
grestore
} def

/ishow {
0 begin
gsave
fgred fggreen fgblue setrgbcolor
/fontDict printFont findfont printSize scalefont dup setfont def
/descender fontDict begin 0 [FontBBox] 1 get FontMatrix end
transform exch pop def
/vertoffset 0 descender sub printSize sub printFont /Courier ne
printFont /Courier-Bold ne and { 1 add } if def {
0 vertoffset moveto show
/vertoffset vertoffset printSize sub def
} forall
grestore
end
} dup 0 3 dict put def

/patternproc {
0 begin
/patternByteLength patternString length def
/patternHeight patternByteLength 8 mul sqrt cvi def
/patternWidth patternHeight def
/patternByteWidth patternWidth 8 idiv def
/imageByteMaxLength imageByteWidth imageHeight mul
stringLimit patternByteWidth sub min def
/imageMaxHeight imageByteMaxLength imageByteWidth idiv patternHeight idiv
patternHeight mul patternHeight max def
/imageHeight imageHeight imageMaxHeight sub store
/imageString imageByteWidth imageMaxHeight mul patternByteWidth add string def
0 1 imageMaxHeight 1 sub {
/y exch def
/patternRow y patternByteWidth mul patternByteLength mod def
/patternRowString patternString patternRow patternByteWidth getinterval def
/imageRow y imageByteWidth mul def
0 patternByteWidth imageByteWidth 1 sub {
/x exch def
imageString imageRow x add patternRowString putinterval
} for
} for
imageString
end
} dup 0 12 dict put def

/min {
dup 3 2 roll dup 4 3 roll lt { exch } if pop
} def

/max {
dup 3 2 roll dup 4 3 roll gt { exch } if pop
} def

/arrowhead {
0 begin
transform originalCTM itransform
/taily exch def
/tailx exch def
transform originalCTM itransform
/tipy exch def
/tipx exch def
/dy tipy taily sub def
/dx tipx tailx sub def
/angle dx 0 ne dy 0 ne or { dy dx atan } { 90 } ifelse def
gsave
originalCTM setmatrix
tipx tipy translate
angle rotate
newpath
0 0 moveto
arrowHeight neg arrowWidth 2 div lineto
arrowHeight neg arrowWidth 2 div neg lineto
closepath
patternNone not {
originalCTM setmatrix
/padtip arrowHeight 2 exp 0.25 arrowWidth 2 exp mul add sqrt brushWidth mul
arrowWidth div def
/padtail brushWidth 2 div def
tipx tipy translate
angle rotate
padtip 0 translate
arrowHeight padtip add padtail add arrowHeight div dup scale
arrowheadpath
ifill
} if
brushNone not {
originalCTM setmatrix
tipx tipy translate
angle rotate
arrowheadpath
istroke
} if
grestore
end
} dup 0 9 dict put def

/arrowheadpath {
newpath
0 0 moveto
arrowHeight neg arrowWidth 2 div lineto
arrowHeight neg arrowWidth 2 div neg lineto
closepath
} def

/leftarrow {
0 begin
y exch get /taily exch def
x exch get /tailx exch def
y exch get /tipy exch def
x exch get /tipx exch def
brushLeftArrow { tipx tipy tailx taily arrowhead } if
end
} dup 0 4 dict put def

/rightarrow {
0 begin
y exch get /tipy exch def
x exch get /tipx exch def
y exch get /taily exch def
x exch get /tailx exch def
brushRightArrow { tipx tipy tailx taily arrowhead } if
end
} dup 0 4 dict put def

/midpoint {
0 begin
/y1 exch def
/x1 exch def
/y0 exch def
/x0 exch def
x0 x1 add 2 div
y0 y1 add 2 div
end
} dup 0 4 dict put def

/thirdpoint {
0 begin
/y1 exch def
/x1 exch def
/y0 exch def
/x0 exch def
x0 2 mul x1 add 3 div
y0 2 mul y1 add 3 div
end
} dup 0 4 dict put def

/subspline {
0 begin
/movetoNeeded exch def
y exch get /y3 exch def
x exch get /x3 exch def
y exch get /y2 exch def
x exch get /x2 exch def
y exch get /y1 exch def
x exch get /x1 exch def
y exch get /y0 exch def
x exch get /x0 exch def
x1 y1 x2 y2 thirdpoint
/p1y exch def
/p1x exch def
x2 y2 x1 y1 thirdpoint
/p2y exch def
/p2x exch def
x1 y1 x0 y0 thirdpoint
p1x p1y midpoint
/p0y exch def
/p0x exch def
x2 y2 x3 y3 thirdpoint
p2x p2y midpoint
/p3y exch def
/p3x exch def
movetoNeeded { p0x p0y moveto } if
p1x p1y p2x p2y p3x p3y curveto
end
} dup 0 17 dict put def

/storexyn {
/n exch def
/y n array def
/x n array def
n 1 sub -1 0 {
/i exch def
y i 3 2 roll put
x i 3 2 roll put
} for
} def

%%%EndProlog

%%I Idraw 7 Grid 8 

%%%Page: 1 1

Begin
%%I b u
%%I cfg u
%%I cbg u
%%I f u
%%I p u
%%I t
[ 0.8 0 0 0.8 0 0 ] concat
/originalCTM matrix currentmatrix def

Begin %I CBSpl
%%I b 65535
1 0 0 [] 0 SetB
%%I cfg Black
0 0 0 SetCFg
%%I cbg White
1 1 1 SetCBg
none SetP %I p n
%%I t
[ 1 0 0 1 148 197 ] concat
%%I 33
81 488
124 497
141 473
152 443
188 436
215 452
221 487
264 476
283 444
283 394
230 385
218 334
233 286
273 272
272 242
262 220
231 212
189 226
173 261
132 291
112 288
86 262
57 251
18 263
11 285
22 313
58 319
81 338
90 379
51 384
18 398
27 444
83 438
33 CBSpl
End

Begin %I Elli
%%I b 65535
2 0 0 [] 0 SetB
%%I cfg Black
0 0 0 SetCFg
%%I cbg White
1 1 1 SetCBg
none SetP %I p n
%%I t
[ 1 0 0 1 148 271 ] concat
%%I
107 368 8 8 Elli
End

Begin %I Elli
%%I b 65535
1 0 0 [] 0 SetB
%%I cfg Black
0 0 0 SetCFg
%%I cbg White
1 1 1 SetCBg
none SetP %I p n
%%I t
[ 1 0 0 1 148 271 ] concat
%%I
66 341 4 4 Elli
End

Begin %I Elli
%%I b 65535
1 0 0 [] 0 SetB
%%I cfg Black
0 0 0 SetCFg
%%I cbg White
1 1 1 SetCBg
none SetP %I p n
%%I t
[ 1 0 0 1 148 271 ] concat
%%I
228 365 9 8 Elli
End

Begin %I Elli
%%I b 65535
1 0 0 [] 0 SetB
%%I cfg Black
0 0 0 SetCFg
%%I cbg White
1 1 1 SetCBg
none SetP %I p n
%%I t
[ 1 0 0 1 148 271 ] concat
%%I
153 341 6 6 Elli
End

Begin %I Elli
%%I b 65535
1 0 0 [] 0 SetB
%%I cfg Black
0 0 0 SetCFg
%%I cbg White
1 1 1 SetCBg
none SetP %I p n
%%I t
[ 1 0 0 1 148 271 ] concat
%%I
194 208 5 7 Elli
End

Begin %I Elli
%%I b 65535
1 0 0 [] 0 SetB
%%I cfg Black
0 0 0 SetCFg
%%I cbg White
1 1 1 SetCBg
none SetP %I p n
%%I t
[ 1 0 0 1 148 271 ] concat
%%I
219 181 11 10 Elli
End

Begin %I Elli
%%I b 65535
1 0 0 [] 0 SetB
%%I cfg Black
0 0 0 SetCFg
%%I cbg White
1 1 1 SetCBg
none SetP %I p n
%%I t
[ 1 0 0 1 148 271 ] concat
%%I
138 248 7 7 Elli
End

Begin %I Elli
%%I b 65535
2 0 0 [] 0 SetB
%%I cfg Black
0 0 0 SetCFg
%%I cbg White
1 1 1 SetCBg
none SetP %I p n
%%I t
[ 1 0 0 1 148 271 ] concat
%%I
67 226 6 6 Elli
End

Begin %I Elli
%%I b 65535
1 0 0 [] 0 SetB
%%I cfg Black
0 0 0 SetCFg
%%I cbg White
1 1 1 SetCBg
none SetP %I p n
%%I t
[ 1 0 0 1 148 271 ] concat
%%I
68 226 10 10 Elli
End

Begin %I Elli
%%I b 65535
1 0 0 [] 0 SetB
%%I cfg Black
0 0 0 SetCFg
%%I cbg White
1 1 1 SetCBg
none SetP %I p n
%%I t
[ 1 0 0 1 148 271 ] concat
%%I
219 331 3 3 Elli
End

Begin %I Elli
%%I b 65535
1 0 0 [] 0 SetB
%%I cfg Black
0 0 0 SetCFg
%%I cbg White
1 1 1 SetCBg
none SetP %I p n
%%I t
[ 1 0 0 1 148 269 ] concat
%%I
107 370 2 3 Elli
End

Begin %I Text
%%I cfg Black
0 0 0 SetCFg
%%I f -b&h-lucida-bold-r-normal-sans-34-240-100-100-p-216-iso8859-1
/Helvetica-Bold 34 SetF
%%I t
[ 1 0 0 1 241 583 ] concat
%%I
[
(AMOEBA)
] Text
End

End %I eop

showpage

%%%Trailer

end
endFig 
7920 V
EP
%%Page: 2 2
BP
/slant 0 def
/height 0 def
860 V
12 R
708(Amoeba)S
1148(is)S
1259(a)S
1343(registered)S
1852(trademark)S
2374(of)S
2505(the)S
2683(Vrije)S
2964(Universiteit)S
3568(in)S
3692(some)S
(countries.)474 3977 A
1000 V
708 H
540 
567 
125.00 
325.00 
346.00 
557.00 
startFig 
%%!PS-Adobe-2.0 EPSF-1.2
%%%
%%%	@(#)logo.ps	1.3	92/05/18 11:09:23
%%%
%%% (c) copyright 1991,1992 Vrije Universiteit
%%%DocumentFonts: Helvetica-Bold
%%%Pages: 1
%%%BoundingBox: 125 325 346 557
%%%EndComments

50 dict begin

/arrowHeight 8 def
/arrowWidth 4 def
/none null def
/numGraphicParameters 17 def
/stringLimit 65535 def

/Begin {
save
numGraphicParameters dict begin
} def

/End {
end
restore
} def

/SetB {
dup type /nulltype eq {
pop
false /brushRightArrow idef
false /brushLeftArrow idef
true /brushNone idef
} {
/brushDashOffset idef
/brushDashArray idef
0 ne /brushRightArrow idef
0 ne /brushLeftArrow idef
/brushWidth idef
false /brushNone idef
} ifelse
} def

/SetCFg {
/fgblue idef
/fggreen idef
/fgred idef
} def

/SetCBg {
/bgblue idef
/bggreen idef
/bgred idef
} def

/SetF {
/printSize idef
/printFont idef
} def

/SetP {
dup type /nulltype eq {
pop true /patternNone idef
} {
dup -1 eq {
/patternGrayLevel idef
/patternString idef
} {
/patternGrayLevel idef
} ifelse
false /patternNone idef
} ifelse
} def

/BSpl {
0 begin
storexyn
newpath
n 1 gt {
0 0 0 0 0 0 1 1 true subspline
n 2 gt {
0 0 0 0 1 1 2 2 false subspline
1 1 n 3 sub {
/i exch def
i 1 sub dup i dup i 1 add dup i 2 add dup false subspline
} for
n 3 sub dup n 2 sub dup n 1 sub dup 2 copy false subspline
} if
n 2 sub dup n 1 sub dup 2 copy 2 copy false subspline
patternNone not brushLeftArrow not brushRightArrow not and and { ifill } if
brushNone not { istroke } if
0 0 1 1 leftarrow
n 2 sub dup n 1 sub dup rightarrow
} if
end
} dup 0 4 dict put def

/Circ {
newpath
0 360 arc
patternNone not { ifill } if
brushNone not { istroke } if
} def

/CBSpl {
0 begin
dup 2 gt {
storexyn
newpath
n 1 sub dup 0 0 1 1 2 2 true subspline
1 1 n 3 sub {
/i exch def
i 1 sub dup i dup i 1 add dup i 2 add dup false subspline
} for
n 3 sub dup n 2 sub dup n 1 sub dup 0 0 false subspline
n 2 sub dup n 1 sub dup 0 0 1 1 false subspline
patternNone not { ifill } if
brushNone not { istroke } if
} {
Poly
} ifelse
end
} dup 0 4 dict put def

/Elli {
0 begin
newpath
4 2 roll
translate
scale
0 0 1 0 360 arc
patternNone not { ifill } if
brushNone not { istroke } if
end
} dup 0 1 dict put def

/Line {
0 begin
2 storexyn
newpath
x 0 get y 0 get moveto
x 1 get y 1 get lineto
brushNone not { istroke } if
0 0 1 1 leftarrow
0 0 1 1 rightarrow
end
} dup 0 4 dict put def

/MLine {
0 begin
storexyn
newpath
n 1 gt {
x 0 get y 0 get moveto
1 1 n 1 sub {
/i exch def
x i get y i get lineto
} for
patternNone not brushLeftArrow not brushRightArrow not and and { ifill } if
brushNone not { istroke } if
0 0 1 1 leftarrow
n 2 sub dup n 1 sub dup rightarrow
} if
end
} dup 0 4 dict put def

/Poly {
3 1 roll
newpath
moveto
-1 add
{ lineto } repeat
closepath
patternNone not { ifill } if
brushNone not { istroke } if
} def

/Rect {
0 begin
/t exch def
/r exch def
/b exch def
/l exch def
newpath
l b moveto
l t lineto
r t lineto
r b lineto
closepath
patternNone not { ifill } if
brushNone not { istroke } if
end
} dup 0 4 dict put def

/Text {
ishow
} def

/idef {
dup where { pop pop pop } { exch def } ifelse
} def

/ifill {
0 begin
gsave
patternGrayLevel -1 ne {
fgred bgred fgred sub patternGrayLevel mul add
fggreen bggreen fggreen sub patternGrayLevel mul add
fgblue bgblue fgblue sub patternGrayLevel mul add setrgbcolor
eofill
} {
eoclip
originalCTM setmatrix
pathbbox /t exch def /r exch def /b exch def /l exch def
/w r l sub ceiling cvi def
/h t b sub ceiling cvi def
/imageByteWidth w 8 div ceiling cvi def
/imageHeight h def
bgred bggreen bgblue setrgbcolor
eofill
fgred fggreen fgblue setrgbcolor
w 0 gt h 0 gt and {
l b translate w h scale
w h true [w 0 0 h neg 0 h] { patternproc } imagemask
} if
} ifelse
grestore
end
} dup 0 8 dict put def

/istroke {
gsave
brushDashOffset -1 eq {
[] 0 setdash
1 setgray
} {
brushDashArray brushDashOffset setdash
fgred fggreen fgblue setrgbcolor
} ifelse
brushWidth setlinewidth
originalCTM setmatrix
stroke
grestore
} def

/ishow {
0 begin
gsave
fgred fggreen fgblue setrgbcolor
/fontDict printFont findfont printSize scalefont dup setfont def
/descender fontDict begin 0 [FontBBox] 1 get FontMatrix end
transform exch pop def
/vertoffset 0 descender sub printSize sub printFont /Courier ne
printFont /Courier-Bold ne and { 1 add } if def {
0 vertoffset moveto show
/vertoffset vertoffset printSize sub def
} forall
grestore
end
} dup 0 3 dict put def

/patternproc {
0 begin
/patternByteLength patternString length def
/patternHeight patternByteLength 8 mul sqrt cvi def
/patternWidth patternHeight def
/patternByteWidth patternWidth 8 idiv def
/imageByteMaxLength imageByteWidth imageHeight mul
stringLimit patternByteWidth sub min def
/imageMaxHeight imageByteMaxLength imageByteWidth idiv patternHeight idiv
patternHeight mul patternHeight max def
/imageHeight imageHeight imageMaxHeight sub store
/imageString imageByteWidth imageMaxHeight mul patternByteWidth add string def
0 1 imageMaxHeight 1 sub {
/y exch def
/patternRow y patternByteWidth mul patternByteLength mod def
/patternRowString patternString patternRow patternByteWidth getinterval def
/imageRow y imageByteWidth mul def
0 patternByteWidth imageByteWidth 1 sub {
/x exch def
imageString imageRow x add patternRowString putinterval
} for
} for
imageString
end
} dup 0 12 dict put def

/min {
dup 3 2 roll dup 4 3 roll lt { exch } if pop
} def

/max {
dup 3 2 roll dup 4 3 roll gt { exch } if pop
} def

/arrowhead {
0 begin
transform originalCTM itransform
/taily exch def
/tailx exch def
transform originalCTM itransform
/tipy exch def
/tipx exch def
/dy tipy taily sub def
/dx tipx tailx sub def
/angle dx 0 ne dy 0 ne or { dy dx atan } { 90 } ifelse def
gsave
originalCTM setmatrix
tipx tipy translate
angle rotate
newpath
0 0 moveto
arrowHeight neg arrowWidth 2 div lineto
arrowHeight neg arrowWidth 2 div neg lineto
closepath
patternNone not {
originalCTM setmatrix
/padtip arrowHeight 2 exp 0.25 arrowWidth 2 exp mul add sqrt brushWidth mul
arrowWidth div def
/padtail brushWidth 2 div def
tipx tipy translate
angle rotate
padtip 0 translate
arrowHeight padtip add padtail add arrowHeight div dup scale
arrowheadpath
ifill
} if
brushNone not {
originalCTM setmatrix
tipx tipy translate
angle rotate
arrowheadpath
istroke
} if
grestore
end
} dup 0 9 dict put def

/arrowheadpath {
newpath
0 0 moveto
arrowHeight neg arrowWidth 2 div lineto
arrowHeight neg arrowWidth 2 div neg lineto
closepath
} def

/leftarrow {
0 begin
y exch get /taily exch def
x exch get /tailx exch def
y exch get /tipy exch def
x exch get /tipx exch def
brushLeftArrow { tipx tipy tailx taily arrowhead } if
end
} dup 0 4 dict put def

/rightarrow {
0 begin
y exch get /tipy exch def
x exch get /tipx exch def
y exch get /taily exch def
x exch get /tailx exch def
brushRightArrow { tipx tipy tailx taily arrowhead } if
end
} dup 0 4 dict put def

/midpoint {
0 begin
/y1 exch def
/x1 exch def
/y0 exch def
/x0 exch def
x0 x1 add 2 div
y0 y1 add 2 div
end
} dup 0 4 dict put def

/thirdpoint {
0 begin
/y1 exch def
/x1 exch def
/y0 exch def
/x0 exch def
x0 2 mul x1 add 3 div
y0 2 mul y1 add 3 div
end
} dup 0 4 dict put def

/subspline {
0 begin
/movetoNeeded exch def
y exch get /y3 exch def
x exch get /x3 exch def
y exch get /y2 exch def
x exch get /x2 exch def
y exch get /y1 exch def
x exch get /x1 exch def
y exch get /y0 exch def
x exch get /x0 exch def
x1 y1 x2 y2 thirdpoint
/p1y exch def
/p1x exch def
x2 y2 x1 y1 thirdpoint
/p2y exch def
/p2x exch def
x1 y1 x0 y0 thirdpoint
p1x p1y midpoint
/p0y exch def
/p0x exch def
x2 y2 x3 y3 thirdpoint
p2x p2y midpoint
/p3y exch def
/p3x exch def
movetoNeeded { p0x p0y moveto } if
p1x p1y p2x p2y p3x p3y curveto
end
} dup 0 17 dict put def

/storexyn {
/n exch def
/y n array def
/x n array def
n 1 sub -1 0 {
/i exch def
y i 3 2 roll put
x i 3 2 roll put
} for
} def

%%%EndProlog

%%I Idraw 7 Grid 8 

%%%Page: 1 1

Begin
%%I b u
%%I cfg u
%%I cbg u
%%I f u
%%I p u
%%I t
[ 0.8 0 0 0.8 0 0 ] concat
/originalCTM matrix currentmatrix def

Begin %I CBSpl
%%I b 65535
1 0 0 [] 0 SetB
%%I cfg Black
0 0 0 SetCFg
%%I cbg White
1 1 1 SetCBg
none SetP %I p n
%%I t
[ 1 0 0 1 148 197 ] concat
%%I 33
81 488
124 497
141 473
152 443
188 436
215 452
221 487
264 476
283 444
283 394
230 385
218 334
233 286
273 272
272 242
262 220
231 212
189 226
173 261
132 291
112 288
86 262
57 251
18 263
11 285
22 313
58 319
81 338
90 379
51 384
18 398
27 444
83 438
33 CBSpl
End

Begin %I Elli
%%I b 65535
2 0 0 [] 0 SetB
%%I cfg Black
0 0 0 SetCFg
%%I cbg White
1 1 1 SetCBg
none SetP %I p n
%%I t
[ 1 0 0 1 148 271 ] concat
%%I
107 368 8 8 Elli
End

Begin %I Elli
%%I b 65535
1 0 0 [] 0 SetB
%%I cfg Black
0 0 0 SetCFg
%%I cbg White
1 1 1 SetCBg
none SetP %I p n
%%I t
[ 1 0 0 1 148 271 ] concat
%%I
66 341 4 4 Elli
End

Begin %I Elli
%%I b 65535
1 0 0 [] 0 SetB
%%I cfg Black
0 0 0 SetCFg
%%I cbg White
1 1 1 SetCBg
none SetP %I p n
%%I t
[ 1 0 0 1 148 271 ] concat
%%I
228 365 9 8 Elli
End

Begin %I Elli
%%I b 65535
1 0 0 [] 0 SetB
%%I cfg Black
0 0 0 SetCFg
%%I cbg White
1 1 1 SetCBg
none SetP %I p n
%%I t
[ 1 0 0 1 148 271 ] concat
%%I
153 341 6 6 Elli
End

Begin %I Elli
%%I b 65535
1 0 0 [] 0 SetB
%%I cfg Black
0 0 0 SetCFg
%%I cbg White
1 1 1 SetCBg
none SetP %I p n
%%I t
[ 1 0 0 1 148 271 ] concat
%%I
194 208 5 7 Elli
End

Begin %I Elli
%%I b 65535
1 0 0 [] 0 SetB
%%I cfg Black
0 0 0 SetCFg
%%I cbg White
1 1 1 SetCBg
none SetP %I p n
%%I t
[ 1 0 0 1 148 271 ] concat
%%I
219 181 11 10 Elli
End

Begin %I Elli
%%I b 65535
1 0 0 [] 0 SetB
%%I cfg Black
0 0 0 SetCFg
%%I cbg White
1 1 1 SetCBg
none SetP %I p n
%%I t
[ 1 0 0 1 148 271 ] concat
%%I
138 248 7 7 Elli
End

Begin %I Elli
%%I b 65535
2 0 0 [] 0 SetB
%%I cfg Black
0 0 0 SetCFg
%%I cbg White
1 1 1 SetCBg
none SetP %I p n
%%I t
[ 1 0 0 1 148 271 ] concat
%%I
67 226 6 6 Elli
End

Begin %I Elli
%%I b 65535
1 0 0 [] 0 SetB
%%I cfg Black
0 0 0 SetCFg
%%I cbg White
1 1 1 SetCBg
none SetP %I p n
%%I t
[ 1 0 0 1 148 271 ] concat
%%I
68 226 10 10 Elli
End

Begin %I Elli
%%I b 65535
1 0 0 [] 0 SetB
%%I cfg Black
0 0 0 SetCFg
%%I cbg White
1 1 1 SetCBg
none SetP %I p n
%%I t
[ 1 0 0 1 148 271 ] concat
%%I
219 331 3 3 Elli
End

Begin %I Elli
%%I b 65535
1 0 0 [] 0 SetB
%%I cfg Black
0 0 0 SetCFg
%%I cbg White
1 1 1 SetCBg
none SetP %I p n
%%I t
[ 1 0 0 1 148 269 ] concat
%%I
107 370 2 3 Elli
End

Begin %I Text
%%I cfg Black
0 0 0 SetCFg
%%I f -b&h-lucida-bold-r-normal-sans-34-240-100-100-p-216-iso8859-1
/Helvetica-Bold 34 SetF
%%I t
[ 1 0 0 1 241 583 ] concat
%%I
[
(AMOEBA)
] Text
End

End %I eop

showpage

%%%Trailer

end
endFig 
1567 V
1278(is)S
1389(a)S
1473(trademark)S
1995(of)S
2126(the)S
2304(Vrije)S
2585(Universiteit.)S
1707 V
708(Sun-3,)S
1068(Sun-4,)S
1428(NFS,)S
1722(SPARCclassic,)S
2500(SPARCstation,)S
3277(MicroSPARC,)S
4027(SunOS)S
4411(and)S
4628(Solaris)S
12 R-1
4965(")S
12 R
5100(are)S
1847 V
708(trademarks)S
1277(of)S
1408(Sun)S
1625(Microsystems,)S
2364(Inc.)S
1987 V
708(SPARC)S
1120(is)S
1231(a)S
1315(registered)S
1824(trademark)S
2346(of)S
2477(SPARC)S
2889(International,)S
3569(Inc.)S
2127 V
11 R
708(UNIX)S
12 R
1015(is)S
1126(a)S
1210(trademark)S
1732(of)S
1863(Unix)S
2135(International.)S
2267 V
708(Irix)S
914(and)S
1118(Personal)S
1565(Iris)S
1758(are)S
1937(trademarks)S
2506(of)S
(Silicon)343 2637 A
3010(Graphics)S
3478(Corporation.)S
2407 V
708(DEC,)S
(VAX,)294 1012 A
(MicroVAX,)590 1338 A
1960(Ultrix)S
2283(and)S
(DEQNA)426 2489 A
2948(are)S
3130(registered)S
3642(trademarks)S
4214(of)S
4348(Digital)S
4719(Equipment)S
2547 V
708(Corporation.)S
2687 V
708(Intel)S
(386,)210 961 A
1201(Pentium,)S
(Multibus)436 1664 A
2130(and)S
2334(Intel)S
2587(are)S
2766(trademarks)S
3335(of)S
3466(Intel)S
3719(Corporation.)S
2827 V
708(Ethernet)S
1149(is)S
1260(a)S
1344(registered)S
1853(trademark)S
2375(of)S
2506(Xerox)S
2839(Corporation.)S
2967 V
708(IBM)S
966(and)S
1170(PC)S
1347(AT)S
1539(are)S
1718(registered)S
2227(trademarks)S
2796(of)S
2927(International)S
3577(Business)S
4036(Machines)S
4536(Corporation.)S
3107 V
708(X)S
(Window)416 826 A
1272(System)S
1658(is)S
1769(a)S
1853(trademark)S
2375(of)S
2506(the)S
2684(Massachusetts)S
(Institute)398 3413 A
3841(of)S
(Technology.)606 3972 A
3247 V
708(WD,)S
992(EtherCard)S
1543(PLUS)S
1892(and)S
2119(EtherCard)S
2670(PLUS16)S
3139(are)S
3341(trademarks)S
3933(of)S
4087(Standard)S
4570(Microsystems)S
3387 V
708(Corporation.)S
3527 V
708(Logitech)S
1168(is)S
1279(a)S
1363(trademark)S
1885(of)S
2016(Logitech,)S
2506(Inc.)S
3667 V
708(Novell)S
1068(is)S
1179(a)S
1263(trademark)S
1785(of)S
1916(Novell,)S
2306(Inc.)S
3807 V
708(3Com)S
1032(and)S
1236(Etherlink)S
1717(II)S
1829(are)S
2008(registered)S
2517(trademarks)S
3086(of)S
3217(3Com)S
3541(Corporation.)S
3947 V
708(MS-DOS)S
1196(is)S
1307(a)S
1391(trademark)S
1913(of)S
2044(Microsoft)S
2552(Corporation.)S
4123 V
708(Amoeba)S
1180(includes)S
1645(software)S
2126(developed)S
2684(by)S
2866(the)S
3076(University)S
3650(of)S
3813(California,)S
4397(Berkeley)S
4897(and)S
5134(its)S
4263 V
708(contributors.)S
4823 V
(Copyright)489 708 A
12 R-1
1246(!)S
12 R
(1996)240 1387 A
1676(Vrije)S
1976(Universiteit)S
2599(te)S
2736(Amsterdam)S
3351(and)S
3574(Stichting)S
4060(Mathematisch)S
4796(Centrum,)S
4963 V
708(The)S
926(Netherlands.)S
1602(All)S
1788(Rights)S
2133(Reserved.)S
7920 V
EP
%%Page: 3 3
BP
/slant 0 def
/height 0 def
880 V
14 B
2707(Contents)S
1406 V
12 B
708(Chapter)S
1169(1.)S
12 R
(About)302 1319 A
1651(This)S
1896(Manual)S
4673(1)S
1686 V
12 B
708(Chapter)S
1169(2.)S
12 R
1319(Paradigms)S
1860(and)S
2064(Implementations)S
4673(2)S
1966 V
828(2.1.)S
1068(The)S
1286(Client-Server)S
1970(Model)S
4673(2)S
2246 V
828(2.2.)S
(Capabilities)579 1068 A
4673(2)S
2526 V
828(2.3.)S
1068(Remote)S
1474(Procedure)S
1995(Call)S
4673(3)S
2806 V
948(2.3.1.)S
1278(Upcoming)S
1818(Features)S
4673(4)S
3086 V
828(2.4.)S
(Group)309 1068 A
1407(Communication)S
4673(5)S
3366 V
828(2.5.)S
1068(Processes)S
1569(and)S
1773(Threads)S
4673(5)S
3646 V
948(2.5.1.)S
(Multithreaded)686 1278 A
1994(Programming)S
4673(5)S
3926 V
828(2.6.)S
1068(Scheduling)S
4673(5)S
4206 V
828(2.7.)S
1068(Signals)S
4673(6)S
4486 V
828(2.8.)S
1068(POSIX)S
1449(Emulation)S
4673(6)S
4766 V
948(2.8.1.)S
1278(Porting)S
1664(UNIX)S
1999(Programs)S
4673(7)S
5046 V
828(2.9.)S
(Languages)523 1068 A
4673(7)S
5326 V
948(2.9.1.)S
1278(Programming)S
1973(in)S
2097(C)S
4673(7)S
5606 V
948(2.9.2.)S
1278(Standard)S
1738(Types)S
4673(8)S
5886 V
948(2.9.3.)S
1278(Standard)S
1738(Commands)S
2317(and)S
2521(Errors)S
4673(8)S
6166 V
12 B
708(Chapter)S
1169(3.)S
12 R
(Writing)377 1319 A
1726(Servers)S
2120(and)S
2324(Clients)S
4673(10)S
6446 V
828(3.1.)S
1068(Servers)S
4673(11)S
6726 V
828(3.2.)S
1068(Clients)S
4673(17)S
7006 V
828(3.3.)S
1068(Using)S
1387(AIL)S
4673(20)S
7286 V
948(3.3.1.)S
(Writing)377 1278 A
1685(a)S
1769(Server)S
2116(with)S
2362(AIL)S
4673(20)S
7700 V
2683(Amoeba)S
3123(5.3)S
(iii)102 5147 A
7920 V
EP
%%Page: 4 4
BP
/slant 0 def
/height 0 def
860 V
12 R
948(3.3.2.)S
(Writing)377 1278 A
1685(a)S
1769(Client)S
2095(with)S
2341(AIL)S
4673(22)S
1140 V
12 B
708(Chapter)S
1169(4.)S
12 R
1319(Amoeba)S
1759(Under)S
2092(Unix)S
4673(24)S
1420 V
12 B
708(Chapter)S
1169(5.)S
12 R
1319(Programming)S
(Languages)523 2014 A
4673(25)S
1700 V
828(5.1.)S
1068(The)S
1286(Amsterdam)S
1882(Compiler)S
2369(Kit)S
2555(\(ACK\))S
4673(26)S
1980 V
948(5.1.1.)S
1278(ACK)S
1564(Description)S
2160(File)S
2379(Reference)S
2901(Manual)S
4673(29)S
2260 V
948(5.1.2.)S
1278(The)S
1496(Link)S
1754(Editor)S
4673(36)S
2540 V
948(5.1.3.)S
1278(ACK)S
1564(STD)S
1823(C)S
1933(Compiler)S
4673(38)S
2820 V
948(5.1.4.)S
1278(ACK)S
1564(Pascal)S
1904(Compiler)S
2391(Compliance)S
3005(Statements)S
4673(45)S
3100 V
948(5.1.5.)S
1278(ACK)S
(Modula-2)476 1564 A
2070(Compiler)S
2557(Compliance)S
3171(Statements)S
4673(60)S
3380 V
12 B
708(Chapter)S
1169(6.)S
12 R
1319(Programming)S
2014(Tools)S
4673(67)S
3660 V
828(6.1.)S
1068(The)S
1286(Amoeba)S
(Interface)433 1726 A
(Language)476 2189 A
2695(\(AIL\))S
3010(Reference)S
3532(Manual)S
4673(68)S
3940 V
948(6.1.1.)S
1278(Overview)S
4673(68)S
4220 V
948(6.1.2.)S
(Language)476 1278 A
1784(Specification)S
4673(69)S
4500 V
828(6.2.)S
1068(The)S
1286(AIL)S
(Cookbook)500 1519 A
4673(76)S
4780 V
828(6.3.)S
1068(Amake)S
1448(User)S
1708(Reference)S
2230(Manual)S
4673(83)S
5060 V
948(6.3.1.)S
(Introduction)598 1278 A
4673(83)S
5340 V
948(6.3.2.)S
1278(Why)S
1542(Amake)S
4673(83)S
5620 V
948(6.3.3.)S
1278(Overview)S
4673(84)S
5900 V
948(6.3.4.)S
1278(Example)S
4673(84)S
6180 V
948(6.3.5.)S
1278(Lexical)S
1672(elements)S
4673(86)S
6460 V
948(6.3.6.)S
1278(Amake)S
1658(Constructions)S
4673(87)S
6740 V
948(6.3.7.)S
1278(Clusters)S
4673(87)S
7020 V
948(6.3.8.)S
1278(Attribute)S
1747(Derivation)S
2296(Rules)S
4673(90)S
7300 V
948(6.3.9.)S
1278(Tool)S
(definitions)518 1536 A
4673(91)S
7700 V
708(iv)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 5 5
BP
/slant 0 def
/height 0 def
860 V
12 R
948(6.3.10.)S
1338(Expressions)S
4673(94)S
1140 V
948(6.3.11.)S
1338(Assignments)S
1993(and)S
2197(Declarations)S
(100)180 4673 A
1420 V
948(6.3.12.)S
1338(Source)S
1704(Inclusions)S
(101)180 4673 A
1700 V
948(6.3.13.)S
1338(Generics)S
(101)180 4673 A
1980 V
948(6.3.14.)S
(Conditional)570 1338 A
(103)180 4673 A
2260 V
948(6.3.15.)S
1338(Import)S
1698(and)S
(Export)329 1902 A
(104)180 4673 A
2540 V
948(6.3.16.)S
1338(Concluding)S
1930(Remarks)S
(104)180 4673 A
2820 V
828(6.4.)S
1068(BAWK)S
1458(\320)S
1598(Basic)S
1897(AWK)S
(105)180 4673 A
3100 V
948(6.4.1.)S
1278(Patterns)S
(105)180 4673 A
3380 V
948(6.4.2.)S
1278(Actions)S
(106)180 4673 A
3660 V
948(6.4.3.)S
1278(Fields)S
(107)180 4673 A
3940 V
948(6.4.4.)S
1278(Predefined)S
1833(Variables)S
(108)180 4673 A
4220 V
948(6.4.5.)S
1278(Limitations)S
(108)180 4673 A
4500 V
828(6.5.)S
(Debugging)536 1068 A
1634(Tools)S
(109)180 4673 A
4780 V
948(6.5.1.)S
1278(Monitoring)S
(109)180 4673 A
5060 V
12 B
708(Chapter)S
1169(7.)S
12 R
1319(Manual)S
1718(Pages)S
(110)180 4673 A
5340 V
12 B
708(Chapter)S
1169(8.)S
12 R
1319(Index)S
(429)180 4673 A
7700 V
2683(Amoeba)S
3123(5.3)S
5189(v)S
7920 V
EP
%%Page: 6 6
BP
/slant 0 def
/height 0 def
7700 V
12 R
708(vi)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 1 7
BP
/slant 0 def
/height 0 def
940 V
14 B
2301(1)S
2476(About)S
2887(This)S
3188(Manual)S
1176 V
12 B
708(Intended)S
1202(Audience)S
1352 V
12 R
708(This)S
959(manual)S
1352(is)S
1470(intended)S
1923(for)S
2102(use)S
2300(by)S
2457(people)S
(writing)351 2816 A
3204(programs)S
3698(for)S
3877(Amoeba.)S
4384(It)S
4496(is)S
4614(assumed)S
5067(that)S
1492 V
708(the)S
886(reader)S
1220(is)S
(familiar)386 1331 A
1747(with)S
1993(the)S
(introductory)598 2171 A
2799(material)S
3228(in)S
3352(the)S
3530(User)S
3790(Guide.)S
1772 V
12 B
708(Scope)S
1948 V
12 R
708(This)S
967(manual)S
1367(explains)S
1814(the)S
2006(basic)S
2299(concepts)S
2766(of)S
2911(Amoeba)S
3365(from)S
3645(a)S
3743(programmer's)S
4474(perspective,)S
5101(the)S
2088 V
708(paradigms,)S
1280(the)S
1466(programming)S
2162(tools,)S
(writing)351 2465 A
2854(clients)S
3208(and)S
3419(servers)S
3800(and)S
4011(using)S
4309(the)S
4494(various)S
(module)362 4887 A
2228 V
(interfaces.)503 708 A
1303(The)S
1553(manual)S
1971(also)S
2228(provides)S
2706(a)S
2822(description)S
3422(of)S
3586(the)S
3797(various)S
4216(library)S
(modules)409 4603 A
5075(and)S
2368 V
708(routines)S
1128(available)S
(under)275 1596 A
1901(Amoeba.)S
2648 V
12 B
708(Advice)S
1095(on)S
1252(the)S
1444(Use)S
1663(of)S
1794(the)S
1986(Manual)S
2824 V
12 R
708(The)S
(introductory)598 955 A
1612(material)S
2070(describing)S
2633(the)S
2841(programming)S
3559(paradigms)S
4123(of)S
4284(Amoeba)S
(should)321 4754 A
5135(be)S
2964 V
(thoroughly)529 708 A
(understood)536 1308 A
1915(before)S
2296(attempting)S
2885(the)S
3104(development)S
3799(of)S
3971(important)S
4512(software.)S
5061(The)S
3104 V
708(tutorial)S
1093(examples)S
1584(are)S
1767(designed)S
2230(to)S
2358(give)S
2600(quick)S
2903(hands-on)S
3380(experience,)S
3970(which)S
(should)321 4301 A
4657(demonstrate)S
3244 V
708(the)S
886(important)S
1387(concepts.)S
1900(It)S
2005(is)S
2116(well)S
2356(worth)S
2669(typing)S
3007(them)S
3279(in)S
3403(and)S
(running)375 3607 A
4012(them.)S
3420 V
(Throughout)569 708 A
1308(the)S
1487(manual)S
1874(there)S
2148(are)S
2328(references)S
2859(of)S
2991(the)S
3170(form)S
12 I
3437(prv)S
12 R
3608(\(L\),)S
12 I
3826(ack)S
12 R
4004(\(U\))S
4206(and)S
12 I
4412(bullet)S
12 R
4698(\(A\).)S
4960(These)S
3560 V
708(refer)S
987(to)S
1129(manual)S
1533(pages)S
1856(at)S
1992(the)S
2188(back)S
2464(of)S
(each)222 2613 A
2883(guide.)S
3258(The)S
3493(following)S
4011(table)S
4294(explains)S
4744(what)S
(each)222 5027 A
3700 V
708(classification)S
1379(refers)S
1687(to)S
1811(and)S
2015(in)S
2139(which)S
2465(guide)S
2763(the)S
2941(manual)S
3327(page)S
3585(can)S
3783(be)S
(found.)311 3927 A
3790 V
12 Y1
1282(2)S
(22222222222222222222222222222222222222222222222222222222)3360 1314 A
3930 V
12 R
1342(Letter)S
1813(Type)S
3168(Location)S
3950 V
12 Y1
1282(2)S
(22222222222222222222222222222222222222222222222222222222)3360 1314 A
4090 V
12 R
1342(\(A\))S
1813(Administrative)S
2571(Program)S
3168(System)S
3554(Administration)S
4318(Guide)S
4230 V
1342(\(H\))S
1813(Include)S
2206(file)S
3168(Programming)S
3863(Guide)S
4370 V
1342(\(L\))S
1813(Library)S
2207(routine)S
3168(Programming)S
3863(Guide)S
4510 V
1342(\(T\))S
1813(Test)S
2052(Program)S
3168(System)S
3554(Administration)S
4318(Guide)S
4650 V
1342(\(U\))S
1813(User)S
(Utility)318 2073 A
3168(User)S
3428(Guide)S
4670 V
12 Y1
1282(2)S
(22222222222222222222222222222222222222222222222222222222)3360 1314 A
1282(1)S
4630 V
1282(1)S
4510 V
1282(1)S
4390 V
1282(1)S
4270 V
1282(1)S
4150 V
1282(1)S
4030 V
1282(1)S
3910 V
1282(1)S
4670 V
1723(1)S
4630 V
1723(1)S
4510 V
1723(1)S
4390 V
1723(1)S
4270 V
1723(1)S
4150 V
1723(1)S
4030 V
1723(1)S
3910 V
1723(1)S
4670 V
3078(1)S
4630 V
3078(1)S
4510 V
3078(1)S
4390 V
3078(1)S
4270 V
3078(1)S
4150 V
3078(1)S
4030 V
3078(1)S
3910 V
3078(1)S
4670 V
4674(1)S
4630 V
4674(1)S
4510 V
4674(1)S
4390 V
4674(1)S
4270 V
4674(1)S
4150 V
4674(1)S
4030 V
4674(1)S
3910 V
4674(1)S
4916 V
12 R
708(There)S
1025(is)S
1140(a)S
1228(full)S
1431(index)S
1733(at)S
1855(the)S
2037(end)S
2245(of)S
2380(the)S
2562(manual)S
2952(providing)S
3456(a)S
3545(permuted)S
4037(cross-reference)S
4815(to)S
4944(all)S
5101(the)S
5056 V
708(material.)S
1210(It)S
1328(gives)S
1626(references)S
2169(to)S
2305(both)S
2561(the)S
2751(manual)S
3149(pages)S
3466(and)S
3682(the)S
(introductory)598 3872 A
4512(material)S
4953(which)S
5196 V
(should)321 708 A
1059(direct)S
(you)180 1366 A
1576(to)S
(enough)354 1700 A
2084(information)S
2686(to)S
2810(clarify)S
3158(any)S
(difficulties)527 3362 A
3919(in)S
(understanding.)714 4043 A
5372 V
(Additional)518 708 A
1286(material)S
1745(may)S
2013(be)S
2187(required)S
2652(for)S
2855(a)S
2970(complete)S
(understanding)684 3475 A
4220(of)S
4382(the)S
4591(programming)S
5512 V
708(environment.)S
1412(In)S
1546(particular)S
2045(the)S
2226(ANSI)S
2540(C)S
2653(and)S
2859(POSIX)S
(1003.1)330 3242 A
3604(standards)S
4093(and)S
4299(some)S
(knowledge)530 4586 A
5148(of)S
5652 V
11 R
708(UNIX)S
12 R
1015(are)S
1194(helpful.)S
5932 V
12 B
708(Warnings)S
6108 V
12 R
708(As)S
876(stated)S
1192(in)S
1319(the)S
1500(release)S
1871(notes,)S
2189(there)S
2465(have)S
2726(been)S
2987(several)S
3364(major)S
3680(changes)S
4103(between)S
4541(Amoeba)S
4981(4)S
5075(and)S
6248 V
708(Amoeba)S
1148(5.)S
1304(More)S
1602(are)S
1787(expected)S
2253(in)S
2383(Amoeba)S
2829(6.)S
2985(It)S
3096(is)S
3213(important)S
3720(that)S
3938(the)S
4121(guidelines)S
4653(for)S
4830(software)S
6388 V
708(development)S
1362(be)S
1506(followed)S
1967(to)S
2092(avoid)S
(upgrade)389 2391 A
(difficulties.)557 2811 A
3429(In)S
3561(particular,)S
4088(it)S
4187(is)S
4299(vital)S
4546(that)S
4759(all)S
4912(remote)S
6528 V
708(procedure)S
1247(calls)S
1525(be)S
1694(encapsulated)S
2374(in)S
2522(stub)S
2777(routines)S
3221(to)S
3369(isolate)S
3740(the)S
3942(rest)S
4172(of)S
4327(the)S
4529(code)S
4811(from)S
5101(the)S
6668 V
708(possible)S
1134(syntactic)S
1595(and)S
1799(semantic)S
2260(changes)S
2679(to)S
2803(this)S
(interface.)456 3008 A
7700 V
2683(Amoeba)S
3123(5.3)S
5189(1)S
7920 V
EP
%%Page: 2 8
BP
/slant 0 def
/height 0 def
940 V
14 B
1908(2)S
2083(Paradigms)S
2768(and)S
3029(Implementations)S
1176 V
12 B
708(2.1.)S
978(The)S
1209(Client-Server)S
1941(Model)S
1352 V
12 R
708(The)S
953(programming)S
1668(model)S
2028(of)S
2187(Amoeba)S
2655(is)S
2794(based)S
3127(on)S
3305(having)S
3691(programs,)S
4236(possibly)S
(running)375 4696 A
5129(on)S
1492 V
708(different)S
1174(processors,)S
1762(working)S
2212(together)S
2656(to)S
2796(perform)S
3233(a)S
3333(task.)S
3634(This)S
3895(is)S
4022(inherent)S
4465(in)S
4605(the)S
4799(nature)S
5148(of)S
1632 V
708(distributed)S
1261(systems.)S
1739(The)S
1962(programs)S
2454(communicate)S
3141(with)S
(each)222 3392 A
3649(other)S
3933(using)S
4229(various)S
(methods,)439 4620 A
5095(but)S
1772 V
708(typically)S
1168(remote)S
1541(procedure)S
2061(call)S
2273(\(RPC\).)S
2678(RPCs)S
2988(may)S
3232(go)S
3388(over)S
3639(a)S
3729(network)S
4161(\(typically)S
4661(Ethernet\))S
5148(or)S
1912 V
708(to)S
856(another)S
1273(process)S
1691(on)S
1866(the)S
2069(same)S
2373(computer.)S
2945(The)S
3188(location)S
3633(of)S
3789(the)S
3992(sender)S
4363(and)S
(receiver)392 4592 A
5039(of)S
5195(a)S
2052 V
708(message)S
1165(is)S
1293(invisible)S
1757(to)S
1898(the)S
2093(sender)S
2456(and)S
(receiver.)422 2677 A
3176(Various)S
3607(functions)S
4103(can)S
4317(be)S
4477(implemented)S
5155(in)S
2192 V
708(programs)S
1218(that)S
1453(offer)S
1744(a)S
1852(service.)S
2310(For)S
2532(example,)S
3026(the)S
3228(file)S
3445(system)S
3835(provides)S
4305(a)S
4413(file)S
4630(creation)S
5075(and)S
2332 V
708(storage)S
1108(service)S
1502(for)S
1694(other)S
1993(programs.)S
2560(It)S
2685(can)S
(accept)310 2903 A
3263(requests)S
3710(to)S
3854(create,)S
4225(read)S
4484(and)S
4708(write)S
5009(files.)S
2472 V
708(Such)S
990(programs)S
1488(which)S
(accept)310 1825 A
2176(requests)S
2614(to)S
2749(perform)S
3181(operations)S
3727(for)S
3911(another)S
4316(program)S
4768(are)S
4959(called)S
2612 V
12 I
708(servers)S
12 R
1068(.)S
1162(Programs)S
1659(which)S
1988(send)S
2242(requests)S
2672(to)S
2799(servers)S
3176(are)S
(known)328 3358 A
3719(as)S
12 I
3853(clients.)S
12 R
4243(Some)S
4551(programs)S
5041(may)S
2752 V
708(at)S
844(various)S
1248(times)S
1559(in)S
1701(their)S
1973(execution)S
2492(switch)S
2858(between)S
3311(being)S
3628(a)S
3731(client)S
4050(and)S
4273(a)S
4376(server)S
4722(and)S
4945(so)S
5101(the)S
2892 V
708(categorization)S
(cannot)322 1432 A
1791(always)S
2165(be)S
2316(strictly)S
2691(applied)S
3084(to)S
3215(a)S
3306(particular)S
3809(program.)S
4316(For)S
4520(example,)S
4996(a)S
5086(file)S
3032 V
708(server)S
1040(may)S
1283(become)S
1694(a)S
1783(client)S
2088(of)S
2224(the)S
2407(time)S
12 R-1
2623(-)S
12 R
2691(of)S
12 R-1
2792(-)S
12 R
2860(day)S
3069(server)S
3401(when)S
3698(it)S
3802(needs)S
4113(to)S
4243(obtain)S
4581(the)S
4765(time)S
5017(for)S
5195(a)S
3172 V
708(time-stamp)S
1284(on)S
1434(a)S
1518(file.)S
3348 V
708(Many)S
1024(standard)S
1469(servers)S
1848(are)S
2032(provided)S
2496(with)S
2747(Amoeba)S
3192(and)S
3401(so)S
3544(applications)S
4165(can)S
4369(usually)S
4754(be)S
(written)345 4904 A
3488 V
708(as)S
863(clients)S
1234(of)S
1389(one)S
1617(or)S
1772(more)S
2075(of)S
2230(the)S
2432(standard)S
2896(services.)S
3401(However)S
3899(it)S
4020(is)S
4154(also)S
4402(possible)S
4851(to)S
4998(write)S
3628 V
708(specialized)S
1277(servers)S
1651(to)S
1775(manage)S
2181(a)S
2265(data)S
2497(base)S
2742(or)S
2873(some)S
3158(other)S
3437(kind)S
3681(of)S
3812(object.)S
3804 V
708(Amoeba)S
1153(is)S
1269(an)S
12 I
1418(object-based)S
12 R
2081(system.)S
2512(\(N.B.)S
2817(Class)S
3115(inheritance)S
3690(is)S
3807(not)S
12 I
3997(enforced)S
12 R
4430(.)S
4526(It)S
4637(is)S
(permitted.)495 4754 A
3944 V
708(Therefore)S
1235(Amoeba)S
1693(is)S
12 B
1822(not)S
12 R
2038(an)S
12 I
2199(object-oriented)S
12 R
2996(system)S
3379(but)S
3580(it)S
3695(is)S
3823(relatively)S
4329(simple)S
4699(to)S
4840(build)S
5135(an)S
4084 V
708(object-oriented)S
1477(system)S
1849(on)S
2005(top)S
2195(of)S
2332(Amoeba.\))S
2879(In)S
3016(general,)S
(each)222 3439 A
3697(server)S
4030(manages)S
4489(a)S
4579(single)S
4904(type)S
5148(of)S
4224 V
708(object.)S
1119(For)S
1342(example,)S
1837(a)S
1946(file)S
2164(server)S
2516(manages)S
2994(files)S
3258(and)S
3486(a)S
3594(disk)S
3849(server)S
4200(manages)S
4677(disks.)S
5039(It)S
5168(is)S
4364 V
708(possible)S
1152(to)S
1294(write)S
1593(servers)S
1985(that)S
2215(manage)S
2639(several)S
3031(types)S
3334(of)S
3483(objects)S
3874(simultaneously)S
4654(but)S
4857(this)S
5081(can)S
4504 V
708(easily)S
1034(lead)S
1279(to)S
1416(inelegant)S
1903(and)S
2120(difficult)S
2555(to)S
2692(maintain)S
3159(programs.)S
3718(Extensions)S
4290(are)S
4481(planned)S
4905(to)S
5041(give)S
4644 V
708(proper)S
(support)362 1054 A
1446(for)S
1618(this)S
1823(to)S
1947(avoid)S
2245(the)S
2423(inelegancies)S
3052(\(see)S
3278(below\).)S
4924 V
12 B
708(2.2.)S
(Capabilities)620 978 A
5100 V
12 R
708(When)S
1034(an)S
1187(object)S
1522(is)S
1642(created,)S
2062(the)S
2249(server)S
2585(that)S
2806(does)S
3066(the)S
3253(creation)S
3683(also)S
3917(creates)S
4294(a)S
12 I
(capability)484 4387 A
12 R
4920(for)S
5101(the)S
5240 V
708(object)S
1036(and)S
1242(gives)S
1529(it)S
1629(to)S
1755(the)S
1934(client.)S
(Access)344 2295 A
2670(to)S
2795(objects)S
3169(is)S
3281(exclusively)S
3863(via)S
(capabilities.)583 4042 A
4686(In)S
4818(principle)S
5380 V
708(programs)S
(should)321 1195 A
1546(never)S
1845(directly)S
2247(examine)S
2688(the)S
2867(contents)S
3301(of)S
(capabilities.)583 3433 A
4077(Servers)S
4472(sometimes)S
5021(need)S
5520 V
708(certain)S
1090(data)S
1343(from)S
1630(a)S
(capability,)508 1734 A
2292(such)S
2563(as)S
2714(the)S
2912(object)S
3258(number)S
3677(or)S
3828(the)S
4026(rights.)S
4412(This)S
4677(information)S
5660 V
(should)321 708 A
1064(be)S
1213(extracted)S
1693(using)S
1989(the)S
2172(specially)S
2638(provided)S
3102(routines)S
3527(\(see)S
12 I
3758(prv)S
12 R
3929(\(L\)\).)S
4221(Similarly,)S
4738(generation)S
5800 V
708(of)S
(capabilities)553 883 A
1510(for)S
1725(new)S
2000(objects)S
(should)321 2416 A
2810(be)S
(done)234 2997 A
3304(with)S
3593(these)S
3915(routines)S
4378(and)S
4625(the)S
4846(function)S
5940 V
12 I
(uniqport)415 708 A
12 R
1133(\(L\).)S
1390(Any)S
1639(programs)S
2137(not)S
2332(conforming)S
2937(to)S
3072(this)S
3288(may)S
(cease)263 3537 A
3841(to)S
3977(function)S
4422(correctly)S
4896(in)S
5032(later)S
6080 V
708(releases)S
1133(of)S
1274(Amoeba)S
1724(since)S
2013(in)S
2147(a)S
2241(subsequent)S
2817(release)S
3195(the)S
3383(sizes)S
3659(of)S
3800(the)S
3988(fields)S
4298(in)S
4431(a)S
(capability)478 4524 A
5041(may)S
6220 V
708(change.)S
6396 V
708(The)S
934(present)S
1322(structure)S
1785(of)S
1924(a)S
(capability)478 2016 A
2532(is)S
2651(shown)S
3004(in)S
3136(figure)S
3464(2.1.)S
3713(It)S
3827(is)S
(128)180 3947 A
4166(bits)S
(long)214 4380 A
4633(and)S
4846(contains)S
6536 V
708(four)S
946(fields.)S
1312(The)S
1536(first)S
1769(field)S
2028(is)S
2145(the)S
12 I
2329(server)S
2668(port)S
12 R
2879(,)S
2945(and)S
3155(is)S
3272(used)S
3529(to)S
3659(identify)S
4072(the)S
4255(\(server\))S
4669(process)S
5067(that)S
6676 V
708(manages)S
1161(the)S
1339(object.)S
1725(It)S
1830(is)S
1941(in)S
2065(effect)S
2373(a)S
2457(48-bit)S
(random)369 2776 A
3175(number)S
3574(chosen)S
3939(by)S
4089(the)S
4267(server.)S
6852 V
708(The)S
(second)335 938 A
1315(field)S
1580(is)S
1703(the)S
12 I
1893(object)S
2231(number)S
12 R
2610(,)S
2682(which)S
3020(is)S
3143(used)S
3406(by)S
3568(the)S
3758(server)S
4097(to)S
4233(identify)S
4652(which)S
4990(of)S
5134(its)S
6992 V
708(objects)S
1084(is)S
1198(being)S
1499(addressed.)S
2068(Together,)S
2567(the)S
2747(server)S
3076(port)S
3303(and)S
3509(object)S
3837(number)S
4238(uniquely)S
4692(identify)S
5101(the)S
7132 V
708(object)S
1034(on)S
1184(which)S
1510(the)S
1688(operation)S
2175(is)S
2286(to)S
2410(be)S
2554(performed.)S
7308 V
708(The)S
948(third)S
1229(field)S
1504(is)S
1637(the)S
12 I
1837(rights)S
12 R
2181(field,)S
2486(which)S
2834(contains)S
3289(a)S
3395(bit)S
3575(map)S
(telling)310 3835 A
4197(which)S
4545(operations)S
5101(the)S
7700 V
708(2)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 3 9
BP
/slant 0 def
/height 0 def
1184 V
12 R
1920(Server)S
1324 V
1981(port)S
1410 V
1538 H
1538 1050 lc
1538 1050 mc
1538 H
2618 1050 lc
2618 1050 mc
2618 H
2618 1410 lc
2618 1410 mc
2618 H
1538 1410 lc
1538 1410 mc
1184 V
2726(Object)S
1324 V
2704(number)S
1410 V
2618 H
2618 1050 lc
2618 1050 mc
2618 H
3158 1050 lc
3158 1050 mc
3158 H
3158 1410 lc
3158 1410 mc
3158 H
2618 1410 lc
2618 1410 mc
1184 V
3168(Rts)S
1410 V
3158 H
3158 1050 lc
3158 1050 mc
3158 H
3338 1050 lc
3338 1050 mc
3338 H
3338 1410 lc
3338 1410 mc
3338 H
3158 1410 lc
3158 1410 mc
1184 V
3724(Check)S
1324 V
3767(field)S
1410 V
3338 H
3338 1050 lc
3338 1050 mc
3338 H
4418 1050 lc
4418 1050 mc
4418 H
4418 1410 lc
4418 1410 mc
4418 H
3338 1410 lc
3338 1410 mc
1004 V
2018(48)S
2828(24)S
3218(8)S
3818(48)S
1782 V
10 B
1659(Fig.)S
1849(2.1.)S
10 R
2024(A)S
(capability.)422 2122 A
2594(The)S
2776(numbers)S
3147(give)S
3345(the)S
3493(current)S
3804(sizes)S
4025(in)S
4128(bits.)S
2034 V
12 R
708(holder)S
1073(of)S
1230(the)S
(capability)478 1434 A
1968(may)S
2232(perform.)S
2739(If)S
2877(all)S
3055(the)S
3259(bits)S
3490(are)S
3695(1s,)S
3889(all)S
4068(operations)S
4629(are)S
4835(allowed.)S
2174 V
708(However,)S
1242(if)S
1376(some)S
1690(of)S
1850(the)S
2057(bits)S
2291(are)S
2499(0s,)S
2695(the)S
2902(holder)S
3270(of)S
3430(the)S
(capability)478 3637 A
4174(may)S
4440(not)S
4652(perform)S
5101(the)S
2314 V
(corresponding)691 708 A
1429(operations.)S
2490 V
708(To)S
875(prevent)S
1271(users)S
1554(from)S
1824(just)S
2033(turning)S
2416(all)S
2572(the)S
2754(0)S
2848(bits)S
3057(in)S
3185(the)S
3367(rights)S
3677(field)S
3934(into)S
4156(1)S
4250(bits,)S
4489(a)S
4577(cryptographic)S
2630 V
708(protection)S
1239(scheme)S
1642(is)S
1763(used.)S
2084(When)S
2412(a)S
2506(server)S
2842(is)S
2962(asked)S
3276(to)S
3409(create)S
3739(an)S
3892(object,)S
4257(it)S
4364(picks)S
4658(an)S
4811(available)S
2770 V
708(slot)S
913(in)S
1037(its)S
1183(internal)S
1585(tables)S
1899(and)S
2104(puts)S
2336(the)S
2515(information)S
(about)268 3118 A
3417(the)S
3596(object)S
3923(in)S
4048(there)S
(along)268 4322 A
4621(with)S
4868(a)S
4953(newly)S
2910 V
708(generated)S
1213(48-bit)S
(random)369 1535 A
1937(number.)S
2399(The)S
2620(index)S
2921(into)S
3142(the)S
3323(table)S
3592(is)S
3706(put)S
3893(into)S
4114(the)S
4295(object)S
4624(number)S
5026(field)S
3050 V
708(of)S
845(the)S
(capability,)508 1029 A
1573(the)S
1757(rights)S
2069(bits)S
2280(are)S
2465(all)S
2623(set)S
2794(to)S
2924(1,)S
3050(and)S
3260(the)S
12 I
(check)276 3444 A
3756(field)S
12 R
4018(is)S
4135(generated)S
4642(by)S
4798(XOR-ing)S
3190 V
708(the)S
899(rights)S
1218(field)S
1483(with)S
1741(the)S
(random)369 1931 A
2342(number)S
2753(and)S
(running)375 2969 A
3386(the)S
3576(result)S
(through)375 3888 A
4305(a)S
(\(publicly)437 4401 A
(known\))369 4880 A
3330 V
12 I
708(one-way)S
1191(function)S
12 R
1597(.)S
1731(The)S
1993(encryption)S
2585(process)S
3023(is)S
(built)222 3179 A
3476(into)S
3739(the)S
3962(routines)S
12 I
4427(prv)S
12 Y1
4588(3)S
12 I
4648(encode)S
12 R
5075(and)S
3470 V
12 I
708(prv)S
12 Y1
869(3)S
12 I
929(decode)S
12 R
1314(\(see)S
12 I
1543(prv)S
12 R
1714(\(L\)\).)S
2003(\(N.B.)S
2334(For)S
2534(efficiency,)S
3082(the)S
3262(one-way)S
3711(function)S
4146(is)S
4259(not)S
4445(applied)S
4833(when)S
5127(all)S
3610 V
708(the)S
904(rights)S
1228(are)S
1425(``on'')S
1757(since)S
2055(there)S
2347(is)S
2477(no)S
2646(gain)S
2903(in)S
3046(security)S
3479(since)S
3777(all)S
3948(rights)S
4273(are)S
4471(available)S
4958(to)S
5101(the)S
3750 V
708(holder)S
1047(of)S
1178(the)S
(capability)478 1356 A
1864(anyway.\))S
3926 V
708(The)S
934(server)S
1269(can)S
1475(construct)S
1957(a)S
2049(new)S
(capability)478 2289 A
2805(with)S
3059(a)S
3151(subset)S
3491(of)S
3630(the)S
3816(rights)S
4130(by)S
4288(turning)S
4675(off)S
4855(some)S
5148(of)S
4066 V
708(the)S
893(rights)S
1206(bits)S
1418(before)S
1765(XOR-ing)S
2253(the)S
2438(rights)S
2751(field)S
3011(with)S
3263(the)S
(random)369 3447 A
3852(number.)S
4317(Each)S
4595(server)S
(should)321 4928 A
4206 V
708(provide)S
1107(a)S
1191(rights-restriction)S
2031(service)S
2405(for)S
2577(clients.)S
4382 V
708(When)S
1027(a)S
(capability)478 1112 A
1621(arrives)S
1983(at)S
2102(a)S
2187(server,)S
2545(the)S
2724(server)S
3052(uses)S
3291(the)S
3470(object)S
3797(field)S
4051(to)S
4176(index)S
4475(into)S
4694(its)S
4840(tables)S
5155(to)S
4522 V
708(locate)S
1035(the)S
1220(information)S
(about)268 1829 A
2134(the)S
2319(object.)S
2712(It)S
2824(performs)S
3299(an)S
3449(XOR)S
3741(of)S
3878(the)S
4062(original)S
(random)369 4475 A
4880(number)S
4662 V
708(in)S
841(its)S
995(table)S
1270(with)S
1525(the)S
1712(rights)S
2027(field)S
2290(of)S
2431(the)S
(capability.)508 2619 A
3197(This)S
3452(number)S
3861(is)S
3982(then)S
4230(run)S
(through)375 4431 A
4846(the)S
5034(one-)S
4802 V
708(way)S
955(function.)S
1462(If)S
1588(the)S
1780(output)S
2132(of)S
2277(the)S
2469(one-way)S
2930(function)S
3377(agrees)S
3731(with)S
3991(the)S
4183(contents)S
4630(of)S
4775(the)S
4967(check)S
4942 V
708(field,)S
995(the)S
(capability)478 1177 A
1689(is)S
1804(deemed)S
2214(valid,)S
2520(and)S
2728(the)S
2910(requested)S
3408(operation)S
3899(is)S
4014(performed)S
4553(if)S
4662(its)S
4811(rights)S
5121(bit)S
5082 V
708(is)S
839(set)S
1024(to)S
1168(1.)S
1338(Due)S
1589(to)S
1732(the)S
1929(fact)S
2161(that)S
2392(the)S
2589(one-way)S
3055(function)S
(cannot)322 3507 A
3878(be)S
4041(inverted,)S
4517(it)S
4634(is)S
4764(extremely)S
5222 V
708(improbable)S
1290(that)S
1503(a)S
1588(user)S
1821(can)S
2020(``decrypt'')S
2578(a)S
(capability)478 2663 A
3172(to)S
3297(get)S
3476(the)S
3656(original)S
(random)369 4065 A
4466(number)S
4867(in)S
4993(order)S
5362 V
708(to)S
832(generate)S
1273(a)S
1357(false)S
(capability)478 1617 A
2125(with)S
2371(more)S
2650(rights.)S
5642 V
12 B
708(2.3.)S
978(Remote)S
1406(Procedure)S
1974(Call)S
5818 V
12 R
708(The)S
951(RPC)S
1233(mechanism)S
1839(of)S
1995(Amoeba)S
2461(is)S
2598(based)S
2929(on)S
3105(four)S
(primitives:)526 3363 A
12 I
3945(trans)S
12 R
4203(,)S
12 I
4289(getreq)S
12 R
4608(,)S
12 I
4694(putrep)S
12 R
5075(and)S
5958 V
12 I
708(timeout)S
12 R
1123(\(see)S
12 I
1360(rpc)S
12 R
1531(\(L\)\).)S
1829(These)S
2159(functions)S
2650(form)S
2927(the)S
3116(basis)S
3399(of)S
3541(inter-process)S
4209(communication.)S
5061(The)S
6098 V
708(RPC)S
(interface)426 970 A
1431(is)S
(built)222 1547 A
1804(on)S
1959(top)S
2148(the)S
2331(Fast)S
2568(Local)S
2879(Internet)S
3292(Protocol)S
3737(\(FLIP\).)S
4163(This)S
4413(network)S
4846(protocol)S
6238 V
708(provides)S
1177(automatic)S
1708(shortest)S
2138(path)S
2399(routing)S
2801(of)S
2955(messages)S
3465(and)S
3692(provides)S
4161(automatic)S
4691(gatewaying)S
6378 V
708(between)S
(connected)490 1161 A
1700(networks.)S
2253(See)S
2477(the)S
(bibliography)617 2674 A
3340(in)S
3483(the)S
12 I
3680(Release)S
4106(Notes)S
12 R
4441(for)S
4633(more)S
4932(details)S
6518 V
(about)268 708 A
1006(FLIP.)S
6694 V
708(The)S
12 I
937(getreq)S
12 R
1297(and)S
12 I
1512(putrep)S
12 R
1878(functions)S
2369(are)S
2560(used)S
2823(by)S
2985(servers.)S
3431(Once)S
3729(a)S
3825(server)S
4164(has)S
(initialized)486 4367 A
4895(itself)S
5181(it)S
6834 V
708(performs)S
1188(the)S
12 I
1378(getreq)S
12 R
1739(operation)S
2238(with)S
2495(the)S
2684(port)S
2920(that)S
3143(it)S
3252(wishes)S
3623(to)S
3758(listen)S
4062(to.)S
4257(The)S
12 I
4486(getreq)S
12 R
4846(function)S
6974 V
708(blocks)S
1073(the)S
1271(server)S
(until)222 1618 A
1890(a)S
1994(client)S
2314(sends)S
2633(a)S
2738(request)S
3139(using)S
12 I
3451(trans)S
12 R
3760(\(see)S
4007(below\).)S
4455(When)S
4794(a)S
4899(request)S
7114 V
708(arrives,)S
1129(the)S
1337(server)S
1694(checks)S
2082(that)S
2323(the)S
(capability)478 2530 A
3067(is)S
3207(valid)S
3508(and)S
3741(has)S
3961(sufficient)S
4479(rights.)S
4874(Then)S
5181(it)S
7254 V
708(performs)S
1176(the)S
1354(requested)S
1848(operation.)S
2395(Finally)S
2768(it)S
2866(sends)S
3164(a)S
3248(reply)S
3527(back)S
3785(to)S
3909(the)S
4087(client)S
4387(using)S
12 I
4678(putrep)S
12 R
5003(.)S
7700 V
2683(Amoeba)S
3123(5.3)S
5189(3)S
7920 V
EP
%%Page: 4 10
BP
/slant 0 def
/height 0 def
860 V
12 R
708(N.B.)S
12 I
1009(getreq)S
12 R
1371(and)S
12 I
1588(putrep)S
12 R
1956(must)S
2234(always)S
2614(come)S
2919(in)S
3056(balanced)S
3529(pairs.)S
3868(If)S
3993(a)S
4091(thread)S
4438(attempts)S
4893(to)S
5031(do)S
5195(a)S
1000 V
12 I
708(putrep)S
12 R
1068(when)S
1365(it)S
1468(has)S
1664(not)S
(done)234 1853 A
2122(a)S
12 I
2211(getreq)S
12 R
2565(or)S
2701(does)S
2957(two)S
12 I
3174(getreq)S
12 R
3528(calls)S
(without)370 3786 A
4191(an)S
4339(intervening)S
12 I
4924(putrep)S
1140 V
12 R
708(\(or)S
12 I
891(grp)S
12 Y1
1058(3)S
12 I
1118(forward)S
12 R
1516(\))S
1598(then)S
1848(this)S
(constitutes)518 2065 A
2625(a)S
2721(programming)S
3421(error)S
3700(and)S
3916(the)S
4106(program)S
(will)190 4558 A
4790(terminate)S
1280 V
708(with)S
954(an)S
1098(uncatchable)S
1706(exception.)S
1456 V
708(The)S
12 I
938(trans)S
12 R
1238(function)S
1683(is)S
1806(used)S
2069(by)S
2231(clients)S
2590(to)S
2726(send)S
2989(requests)S
3428(to)S
3564(servers.)S
4011(The)S
4242(port)S
4480(of)S
4624(the)S
4815(server)S
5155(to)S
1596 V
708(which)S
1046(the)S
1236(RPC)S
1505(must)S
1782(go)S
1944(is)S
2067(embedded)S
2605(in)S
2741(the)S
2930(first)S
3168(parameter)S
3695(to)S
12 I
3830(trans)S
12 R
4088(.)S
4189(The)S
12 I
4418(trans)S
12 R
4717(call)S
4934(blocks)S
1736 V
(until)222 708 A
961(the)S
1140(server)S
1468(sends)S
1767(a)S
1852(reply.)S
2192(The)S
2411(Amoeba)S
2852(kernel)S
3187(on)S
3339(which)S
3667(the)S
12 I
3847(trans)S
12 R
4137(is)S
4250(executed)S
4712(attempts)S
5155(to)S
1876 V
708(locate)S
1030(the)S
1210(server)S
1539(by)S
1691(broadcasting)S
2341(a)S
2427(message)S
2869(with)S
3117(that)S
3331(port)S
3558(in)S
3683(it)S
3782(\(unless)S
4156(it)S
4255(is)S
4367(on)S
4518(the)S
4697(same)S
4977(host\).)S
2016 V
708(If)S
831(another)S
1235(kernel)S
1579(has)S
1781(a)S
1876(server)S
(waiting)364 2214 A
2619(for)S
2802(a)S
2897(request)S
3289(on)S
3451(that)S
3675(port)S
3912(it)S
(responds)429 4022 A
4493(and)S
4709(the)S
4899(RPC)S
5168(is)S
2156 V
708(sent)S
950(to)S
1091(the)S
1286(server)S
1630(which)S
1973(then)S
2228(handles)S
2643(the)S
2837(request)S
3233(and)S
3453(returns)S
3836(a)S
3936(reply.)S
4291(The)S
4525(kernel)S
4874(keeps)S
5195(a)S
2296 V
(cache)276 708 A
1016(of)S
(known)328 1149 A
1509(locations)S
1978(of)S
2111(ports)S
2385(to)S
2511(improve)S
2946(performance)S
3592(for)S
3767(subsequent)S
4336(RPCs.)S
4703(However)S
5181(it)S
2436 V
708(is)S
839(recommended)S
1574(that)S
12 I
1806(trans)S
12 R
2114(not)S
2318(be)S
2482(called)S
2822(directly)S
3243(in)S
3387(client)S
3707(programs.)S
4274(Rather)S
4647(it)S
(should)321 4765 A
5135(be)S
2576 V
708(embedded)S
1254(in)S
1398(a)S
1502(procedure)S
2036(call)S
2262(that)S
2494(handles)S
2913(the)S
3111(marshaling)S
3699(of)S
3850(data)S
4102(and)S
4326(the)S
4524(sending)S
4949(of)S
5101(the)S
2716 V
708(message)S
1148(to)S
1272(the)S
1450(server.)S
1837(This)S
2082(shall)S
2341(be)S
2485(described)S
2979(in)S
3103(more)S
3382(detail)S
3682(below.)S
2892 V
708(Note)S
980(that)S
1198(giving)S
1542(a)S
1632(null)S
1856(port)S
2087(\(i.e.,)S
2342(all)S
2500(bits)S
2712(0\))S
2850(to)S
2981(any)S
3192(of)S
3330(the)S
3515(RPC)S
3779(routines)S
(will)190 4206 A
4433(result)S
4740(in)S
4871(an)S
5022(RPC)S
3032 V
708(error.)S
1060(The)S
1303(null)S
1546(port)S
1796(is)S
1932(not)S
2141(a)S
2250(valid)S
2547(address)S
2964(for)S
3160(a)S
3268(server.)S
3679(The)S
3921(routine)S
12 I
(uniqport)415 4318 A
12 R
4743(\(L\))S
4953(which)S
3172 V
708(generates)S
1196(ports)S
(will)190 1468 A
1688(not)S
(produce)389 1872 A
2291(the)S
2469(null)S
2687(port.)S
3348 V
708(The)S
12 I
936(timeout)S
12 R
1350(function)S
1793(is)S
1914(used)S
2175(to)S
2309(set)S
2485(the)S
(amount)362 2674 A
3077(of)S
3219(time)S
3476(spent)S
3772(searching)S
4277(for)S
4460(the)S
4649(server)S
4987(when)S
3488 V
708(doing)S
1016(a)S
1104(transaction.)S
1730(This)S
1979(is)S
(known)328 2094 A
2456(as)S
2591(the)S
12 I
2773(locate)S
3102(timeout)S
12 R
3476(.)S
3569(If)S
3684(a)S
3771(server)S
4101(is)S
4215(unavailable)S
4806(\(possibly)S
3628 V
708(due)S
931(to)S
1074(network)S
(partitioning)565 1520 A
2134(or)S
2284(a)S
2387(system)S
2773(crash\))S
3120(then)S
3378(programs)S
3885(attempting)S
4453(to)S
4597(communicate)S
3768 V
708(with)S
968(that)S
1194(server)S
(will)190 1535 A
1769(hang)S
2047(for)S
2233(the)S
2425(length)S
2771(of)S
2916(the)S
3108(timeout.)S
3582(The)S
3814(default)S
4195(timeout)S
4609(is)S
4734(5)S
(seconds.)412 4837 A
3908 V
708(Such)S
993(a)S
1091(delay)S
(will)190 1397 A
1631(be)S
1789(very)S
2048(irritating)S
2518(to)S
2656(users)S
2949(so)S
3100(it)S
3212(is)S
3337(important)S
3852(in)S
12 I
3991(interactive)S
12 R
4565(programs)S
5067(that)S
4048 V
708(timeouts)S
1161(be)S
1311(set)S
1482(to)S
1611(a)S
1700(value)S
1997(short)S
(enough)354 2274 A
2663(to)S
2792(avoid)S
3095(irritating)S
3556(the)S
3739(user)S
3976(but)S
(long)214 4165 A
(enough)354 4414 A
4803(to)S
4932(have)S
5195(a)S
4188 V
708(chance)S
1108(to)S
1266(find)S
1525(the)S
1737(server.)S
2158(Two)S
(seconds)382 2444 A
2890(is)S
3035(the)S
3247(recommended)S
3996(minimum)S
4530(for)S
4736(interactive)S
4328 V
708(programs.)S
1281(Any)S
1545(shorter)S
1938(than)S
2202(this)S
2433(may)S
2697(report)S
3043(failure)S
3417(to)S
3567(find)S
3818(the)S
4021(server)S
4373(even)S
(though)334 4656 A
5045(it)S
5168(is)S
4468 V
708(available.)S
1268(For)S
(non-interactive)734 1498 A
2295(programs)S
2815(such)S
3099(as)S
3263(compilers,)S
3834(a)S
(longer)309 3951 A
4323(timeout)S
4756(is)S
4900(usually)S
4608 V
(acceptable)512 708 A
1250(and)S
1454(increases)S
(reliability.)503 1929 A
5028 V
12 B
708(2.3.1.)S
1068(Upcoming)S
1629(Features)S
5204 V
12 R
708(Note)S
992(that)S
12 I
1222(timeout)S
12 R
1644(does)S
1913(not)S
2115(limit)S
2393(the)S
(amount)362 2589 A
2999(of)S
3148(time)S
3412(that)S
3642(a)S
3744(server)S
4089(may)S
4346(spend)S
4676(executing)S
5195(a)S
5344 V
708(request.)S
1162(This)S
1421(timeout)S
1835(is)S
(known)328 1960 A
2332(as)S
2477(the)S
12 I
2669(service)S
3057(timeout)S
12 R
3431(.)S
3535(It)S
3654(is)S
3779(not)S
3977(yet)S
4169(implemented)S
4844(but)S
5041(may)S
5484 V
708(well)S
965(be)S
1126(in)S
1267(a)S
1369(future)S
1707(release.)S
2153(There)S
2484(are)S
2681(also)S
2924(plans)S
3227(to)S
3369(add)S
3591(the)S
(ability)310 3787 A
4145(for)S
12 I
4335(getreq)S
12 R
4702(to)S
4844(listen)S
5155(to)S
5624 V
(multiple)404 708 A
1152(ports.)S
1494(This)S
(will)190 1749 A
1979(be)S
2133(useful)S
2469(in)S
2603(the)S
2791(wide-area)S
3311(network)S
3748(gateways)S
4238(and)S
4451(any)S
4664(other)S
4952(server)S
5764 V
708(that)S
920(wishes)S
1280(to)S
1404(handle)S
1756(more)S
2035(than)S
2273(one)S
2477(type)S
2715(of)S
2846(object.)S
5940 V
(Because)403 708 A
1143(of)S
1276(the)S
1457(improvements)S
2182(planned)S
2597(for)S
2772(this)S
(interface)426 2980 A
3439(in)S
3566(the)S
3747(next)S
3988(major)S
4304(release)S
4675(of)S
4809(Amoeba,)S
6080 V
708(it)S
813(is)S
931(important)S
1439(that)S
1658(calls)S
1918(to)S
2049(the)S
2234(RPC)S
(interface)426 2498 A
2961(routines)S
3388(be)S
3539(embedded)S
4071(in)S
4201(stub)S
4438(routines.)S
4924(A)S
12 I
5048(stub)S
6220 V
708(routine)S
12 R
1105(provides)S
1560(an)S
(interface)426 1713 A
2178(specific)S
2595(to)S
2728(a)S
2821(particular)S
3326(server)S
3662(that)S
3883(hides)S
4177(the)S
4364(details)S
4720(of)S
4860(the)S
5047(data)S
6360 V
708(marshaling)S
1288(and)S
1503(message)S
1954(passing.)S
2417(For)S
2626(example,)S
3107(the)S
3296(routine)S
12 I
3680(b)S
12 Y1
3740(3)S
12 I
3800(read)S
12 R
4072(\(see)S
12 I
4309(bullet)S
12 R
4595(\(L\)\))S
4833(provides)S
6500 V
708(the)S
892(file)S
1091(read)S
(interface)426 1337 A
1800(to)S
1931(the)S
2116(Bullet)S
2449(Server.)S
2863(This)S
3115(routine)S
(bundles)375 3495 A
3907(up)S
4064(the)S
4249(relevant)S
4677(information)S
6640 V
708(for)S
898(a)S
1000(read)S
1257(command)S
1781(and)S
2002(sends)S
2317(it)S
2432(in)S
2573(the)S
2768(form)S
3051(required)S
3502(by)S
3669(the)S
3864(Bullet)S
4207(Server.)S
4631(This)S
4893(has)S
5101(the)S
6780 V
708(effect)S
1033(of)S
1181(hiding)S
1536(the)S
1731(packaging)S
2274(of)S
2422(the)S
2617(data)S
2866(required)S
3317(by)S
3484(the)S
3680(server)S
4025(and)S
4247(providing)S
4764(an)S
4926(simple)S
6920 V
(interface)426 708 A
1178(which)S
1518(minimizes)S
2067(the)S
2259(chance)S
2639(of)S
2784(error.)S
3125(It)S
3244(is)S
3368(possible)S
3807(to)S
3944(automatically)S
4647(generate)S
5101(the)S
7060 V
708(stubs)S
999(and)S
1216(data)S
1461(unmarshaling)S
2162(in)S
2299(the)S
2490(server)S
2830(using)S
12 I
3134(ail)S
12 R
3272(\(U\).)S
3545(This)S
3803(is)S
3927(recommended)S
4655(since)S
4947(it)S
(will)190 5059 A
7200 V
708(allow)S
1010(simple)S
1365(regeneration)S
2003(of)S
2136(servers)S
2512(for)S
2686(new)S
2920(releases)S
3337(of)S
3470(Amoeba.)S
3971(There)S
4285(is)S
4397(more)S
4677(information)S
7700 V
708(4)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 5 11
BP
/slant 0 def
/height 0 def
860 V
12 R
(about)268 708 A
1013(how)S
1258(to)S
1389(use)S
12 I
1587(AIL)S
12 R
1816(in)S
1947(the)S
2132(programming)S
2827(tools)S
3099(section)S
3479(of)S
3617(this)S
3829(manual)S
4222(and)S
4433(in)S
4564(the)S
4749(section)S
5129(on)S
1000 V
(writing)351 708 A
1089(clients)S
1436(and)S
1640(servers.)S
1280 V
12 B
708(2.4.)S
978(Group)S
1350(Communication)S
1456 V
12 R
708(In)S
(addition)396 846 A
1279(to)S
1410(the)S
1595(RPC)S
(interface)426 1859 A
2322(for)S
2501(sending)S
2913(point-to-point)S
3622(messages,)S
4146(it)S
4251(is)S
4370(possible)S
4804(to)S
4936(send)S
5195(a)S
1596 V
708(message)S
1155(to)S
1286(a)S
(group)281 1377 A
1695(of)S
1833(processes.)S
2394(This)S
2646(is)S
2763(sometimes)S
(known)328 3317 A
3681(as)S
12 I
(multicast)445 3818 A
12 R
4309(or)S
12 I
(broadcast)482 4446 A
12 R
4938(.)S
5034(This)S
1736 V
708(is)S
833(a)S
931(powerful)S
1413(tool)S
1645(with)S
1906(many)S
2219(uses.)S
2532(For)S
2745(example)S
3200(it)S
3313(is)S
3439(used)S
3705(for)S
3892(efficient)S
4343(implementation)S
5148(of)S
1876 V
708(distributed)S
1273(shared-memory)S
2080(in)S
2221(Orca)S
2505(and)S
2726(for)S
2915(replication)S
3480(of)S
3627(data)S
3875(such)S
4142(as)S
4289(files.)S
4605(The)S
4839(Amoeba)S
2016 V
(group)281 708 A
1024(communication)S
(primitives)492 1811 A
2338(are)S
2522(described)S
3021(in)S
12 I
3150(grp)S
12 R
3327(\(L\).)S
3578(They)S
3861(are)S
4045(implemented)S
4712(on)S
4868(top)S
5058(of)S
5195(a)S
2156 V
708(reliable)S
(multicast)445 1145 A
1662(protocol)S
2137(and)S
2383(take)S
2657(advantage)S
3218(of)S
3390(any)S
3635(hardware)S
(support)362 4158 A
4591(for)S
(multicast)445 4804 A
2296 V
708(provided)S
1174(by)S
1331(the)S
1516(network.)S
(\(If)123 2010 A
2170(there)S
2450(is)S
(none)234 2568 A
2839(they)S
3084(revert)S
3405(to)S
3536(a)S
3628(series)S
3943(of)S
4082(point-to-point)S
4792(messages)S
2436 V
708(to)S
841(implement)S
1398(the)S
(multicast.\))516 1585 A
2170(The)S
(group)281 2397 A
2717(communication)S
3508(takes)S
3796(advantage)S
4325(of)S
4465(the)S
4651(auto-routing)S
2576 V
(capabilities)553 708 A
1291(of)S
1422(the)S
1600(FLIP)S
1879(network)S
2306(protocol.)S
2856 V
12 B
708(2.5.)S
978(Processes)S
1499(and)S
1723(Threads)S
3032 V
12 R
708(Under)S
1076(many)S
1410(systems)S
1859(\(for)S
2108(example,)S
11 R
2612(UNIX)S
12 R
2889(\),)S
3026(programs)S
3549(consist)S
3951(of)S
4118(a)S
12 I
4238(text)S
4480(segment)S
12 R
4953(which)S
3172 V
708(contains)S
1156(the)S
1349(program)S
1804(instructions,)S
2444(a)S
12 I
2543(data)S
2802(segment)S
12 R
3254(which)S
3595(contains)S
(initialized)486 4043 A
4573(global)S
4919(data,)S
5195(a)S
3312 V
12 I
708(bss)S
923(segment)S
12 R
1391(which)S
1748(contains)S
(uninitialized)606 2212 A
2879(global)S
3242(data)S
3505(and)S
3740(a)S
12 I
3856(stack)S
4167(segment)S
12 R
4574(.)S
4696(These)S
5047(four)S
3452 V
708(segments)S
1199(are)S
1389(typically)S
1854(all)S
2017(in)S
2152(the)S
2340(same)S
2629(address)S
(space)269 3032 A
3341(and)S
3555(together)S
3992(with)S
4248(the)S
4436(program)S
(counter)363 4886 A
3592 V
708(and)S
929(stack)S
1225(pointer,)S
1645(when)S
(running,)405 1954 A
2406(comprise)S
2897(a)S
12 I
2998(process)S
12 R
3377(.)S
3484(The)S
3719(process)S
4129(has)S
4337(a)S
4438(single)S
12 I
4775(thread)S
12 R
5148(of)S
3732 V
708(execution.)S
1280(Under)S
1625(Amoeba)S
(each)222 2077 A
2340(process)S
2744(can)S
2953(have)S
(multiple)404 3222 A
3667(threads)S
4058(of)S
4200(execution)S
4711(all)S
(running)375 4874 A
3872 V
708(within)S
1056(the)S
1242(same)S
1530(address)S
(space.)299 1932 A
2300(Each)S
2581(thread)S
2923(has)S
3123(its)S
3277(own)S
3524(program)S
(counter,)393 3973 A
4405(stack)S
4693(pointer)S
5075(and)S
4012 V
708(stack)S
987(segment)S
1420(but)S
1604(all)S
1756(share)S
2042(the)S
2220(text,)S
2462(data)S
2694(and)S
2898(bss)S
3082(segments.)S
4188 V
708(Since)S
1031(a)S
1139(certain)S
(amount)362 1524 A
1940(of)S
2095(global)S
2451(data)S
2707(was)S
(necessary)471 2950 A
3475(per)S
3685(thread,)S
4073(an)S
4242(extra)S
4540(data)S
4797(type)S
5060(was)S
4328 V
708(created.)S
1157(Each)S
1437(thread)S
1778(keeps)S
2091(a)S
2183(pointer)S
2564(to)S
2696(data)S
2936(allocated)S
3411(at)S
3536(run-time)S
3991(which)S
4324(all)S
4483(the)S
4668(functions)S
5155(in)S
4468 V
708(that)S
920(thread)S
1253(can)S
1451(gain)S
(access)310 1689 A
(through)375 2029 A
2434(a)S
2518(pointer)S
2891(maintained)S
3459(by)S
3609(the)S
3787(library.)S
4201(This)S
4446(data)S
4678(is)S
(known)328 4789 A
5148(as)S
4608 V
708(the)S
12 I
886(glocal)S
12 R
1228(data)S
(\(because)424 1460 A
1914(it)S
2012(is)S
2123(local)S
2389(to)S
2513(a)S
2597(thread)S
2930(but)S
3114(global)S
3446(to)S
3570(all)S
3722(the)S
3900(functions)S
4380(in)S
4504(that)S
4716(thread\).)S
5028 V
12 B
708(2.5.1.)S
1068(Multithreaded)S
1852(Programming)S
5204 V
12 R
708(The)S
(multithreaded)673 928 A
1633(environment)S
2276(is)S
2389(implemented)S
3053(with)S
3302(a)S
3389(set)S
3557(of)S
3691(routines)S
4114(described)S
4611(in)S
12 I
4738(thread)S
12 R
5063(\(L\).)S
5344 V
708(It)S
813(provides)S
1259(routines)S
1679(for)S
1851(creating)S
2272(threads,)S
2682(destroying)S
3222(them)S
3494(and)S
(support)362 3698 A
4090(for)S
4262(glocal)S
4588(data.)S
5520 V
708(Careful)S
(thought)368 1148 A
1592(needs)S
1943(to)S
2114(be)S
2305(given)S
2650(to)S
2821(programming)S
3556(in)S
3727(a)S
(multithreaded)673 3858 A
4608(environment.)S
5660 V
708(Synchronization)S
1534(between)S
1972(threads)S
2356(is)S
(non-trivial)512 2471 A
3017(since)S
3300(it)S
3402(is)S
3517(possible)S
3946(that)S
4161(a)S
4248(library)S
4605(function)S
5041(may)S
5800 V
708(perform)S
1133(a)S
1221(blocking)S
1677(operation)S
2168(and)S
2376(cause)S
2679(rescheduling)S
3331(at)S
3453(an)S
(undesirable)558 3601 A
4193(moment.)S
4683(The)S
4906(normal)S
5940 V
708(way)S
957(to)S
1098(organize)S
1562(synchronization)S
2381(between)S
2832(threads)S
3228(is)S
3355(by)S
3521(using)S
3828(the)S
4022(mutex)S
4370(and/or)S
(semaphore)524 4725 A
6080 V
708(packages)S
1215(\(see)S
12 I
1475(mutex)S
12 R
1775(\(L\))S
1995(and)S
12 I
(semaphore)530 2233 A
12 R
2773(\(L\)\).)S
3094(The)S
3347(routine)S
12 I
3755(threadswitch)S
12 R
4454(also)S
4714(provides)S
5195(a)S
6220 V
708(mechanism)S
1289(for)S
1461(a)S
1545(thread)S
1878(to)S
2002(give)S
2240(up)S
2390(control)S
2763(voluntarily.)S
6500 V
12 B
708(2.6.)S
978(Scheduling)S
6676 V
12 R
708(At)S
881(any)S
1107(instant)S
1482(many)S
1802(threads)S
2204(and)S
2430(processes)S
2946(may)S
3206(be)S
(runnable)423 3372 A
3847(so)S
4006(a)S
4112(scheduler)S
4628(is)S
4761(needed)S
5155(to)S
6816 V
708(determine)S
1223(which)S
1549(to)S
1673(run)S
1864(next.)S
2162(The)S
2380(scheduler)S
2874(uses)S
3112(a)S
3196(priority)S
3590(scheme)S
3983(as)S
4114(follows:)S
6992 V
(Enqueued)482 958 A
1471(interrupt)S
1921(handlers)S
2363(in)S
2489(the)S
2669(kernel)S
3004(have)S
3264(the)S
3444(highest)S
3825(priority,)S
4251(then)S
(runnable)423 4491 A
4946(kernel)S
7132 V
958(threads)S
1338(and)S
1542(finally,)S
1919(if)S
(none)234 2024 A
2288(of)S
2419(the)S
(above)288 2597 A
2915(are)S
(runnable,)453 3094 A
3577(user)S
3809(processes.)S
7308 V
708(Processes)S
1225(are)S
1420(scheduled)S
(round-robin)577 1949 A
2572(on)S
2738(a)S
2838(time-slice)S
3364(\(typically)S
3875(10)S
(milliseconds\))653 4041 A
4740(or)S
4887(when)S
5195(a)S
7700 V
2683(Amoeba)S
3123(5.3)S
5189(5)S
7920 V
EP
%%Page: 6 12
BP
/slant 0 def
/height 0 def
860 V
12 R
708(process)S
1108(blocks.)S
1520(Thus)S
1798(between)S
2238(processes)S
2738(there)S
3017(is)S
3134(preemptive)S
3715(scheduling.)S
4334(However,)S
4845(between)S
1000 V
708(individual)S
1236(threads)S
1624(within)S
1973(a)S
2066(process)S
2468(there)S
2750(is)S
2870(per)S
3064(default)S
3440(no)S
3599(preemption.)S
4249(Thus,)S
4559(if)S
4673(a)S
4766(process)S
5168(is)S
1140 V
708(rescheduled)S
1323(due)S
1534(to)S
1665(a)S
1756(time-slice)S
2273(then)S
2518(when)S
2817(it)S
2922(is)S
3040(restarted)S
3496(the)S
3681(same)S
3966(thread)S
4305(of)S
4442(that)S
4660(process)S
(will)190 5059 A
1280 V
708(be)S
864(resumed.)S
1376(Rescheduling)S
2075(between)S
2521(threads)S
2913(only)S
3169(occurs)S
3527(when)S
3831(a)S
3927(thread)S
4272(executes)S
4731(a)S
4827(blocking)S
1420 V
(primitive.)475 708 A
1264(This)S
1530(includes)S
1984(the)S
2183(transaction)S
(primitives)492 2766 A
12 I
3309(trans)S
12 R
3618(and)S
12 I
3843(getreq)S
12 R
4213(\(see)S
12 I
4459(rpc)S
12 R
4630(\(L\)\))S
4877(and)S
5101(the)S
1560 V
708(mutex)S
(primitives)492 1083 A
1648(\(see)S
12 I
1917(mutex)S
12 R
2217(\(L\)\).)S
2548(There)S
2905(is)S
3060(also)S
3329(a)S
3457(special)S
3868(function)S
12 I
4345(threadswitch)S
12 R
5053(\(see)S
1700 V
12 I
708(thread)S
12 Y1
1023(3)S
12 I
1083(scheduling)S
12 R
1616(\(L\)\))S
1879(which)S
2241(allows)S
2624(a)S
2744(process)S
3173(to)S
3333(reschedule)S
3916(itself)S
(without)370 4225 A
4660(executing)S
5195(a)S
1840 V
708(function)S
1169(which)S
1523(blocks.)S
1956(The)S
2202(kernel)S
2563(is)S
2703(regarded)S
3186(as)S
3346(a)S
3459(process,)S
3911(so)S
4077(there)S
4379(is)S
4519(no)S
4698(preemption)S
1980 V
708(between)S
1142(kernel)S
1475(threads.)S
1915(They)S
2193(are)S
2372(only)S
2616(rescheduled)S
3224(when)S
3516(they)S
3754(block.)S
2156 V
708(It)S
822(is)S
942(also)S
1176(possible)S
1611(to)S
1744(allow)S
2053(a)S
2146(user)S
2387(process)S
2789(to)S
2922(use)S
3122(preemptive)S
3707(scheduling)S
4270(between)S
4714(its)S
4869(threads.)S
2296 V
708(This)S
987(is)S
(done)234 1132 A
1430(on)S
1614(a)S
1732(per)S
1951(process)S
2378(basis)S
2684(so)S
2855(that)S
3101(not)S
3319(all)S
3505(processes)S
4032(have)S
4323(to)S
4480(use)S
4704(preemptive)S
2436 V
708(scheduling.)S
1324(Threads)S
1747(can)S
1948(also)S
2176(be)S
2324(assigned)S
(priorities)439 2774 A
3247(and)S
3455(there)S
3732(is)S
3847(time-slicing)S
4461(between)S
4899(threads)S
2576 V
708(in)S
832(this)S
1037(case.)S
1336(See)S
12 I
1541(thread)S
12 Y1
1856(3)S
12 I
1916(scheduling)S
12 R
2449(\(L\))S
2635(for)S
2807(details.)S
2856 V
12 B
708(2.7.)S
978(Signals)S
3032 V
12 R
708(Signals)S
1100(are)S
1285(a)S
(method)362 1375 A
1773(of)S
1910(sending)S
2321(unsolicited)S
2888(information)S
3497(to)S
3628(a)S
3719(thread)S
4059(or)S
4197(process.)S
4657(Lightweight)S
3172 V
708(signals)S
1081(are)S
1267(sent)S
1499(to)S
1630(threads.)S
2077(The)S
2302(manual)S
2695(page)S
12 I
(signals)342 2960 A
12 R
3312(\(L\))S
3505(explains)S
3944(how)S
4188(they)S
4432(are)S
4617(implemented)S
3312 V
708(and)S
914(used.)S
1227(Heavyweight)S
1905(signals)S
2273(are)S
2454(used)S
2707(to)S
2833(stun)S
3066(a)S
3152(process)S
3547(\(not)S
3774(a)S
3860(thread\).)S
4296(This)S
4544(is)S
4658(described)S
5155(in)S
3452 V
708(manual)S
1110(page)S
1384(for)S
12 I
1572(pro)S
12 Y1
1739(3)S
12 I
1799(stun)S
12 R
2056(\(see)S
12 I
2298(process)S
12 R
2677(\(L\)\).)S
2980(It)S
3101(is)S
3228(important)S
3744(to)S
3883(note)S
4136(that)S
4363(if)S
4483(a)S
4582(thread)S
4930(is)S
5056(in)S
5195(a)S
3592 V
708(transaction)S
1274(the)S
1456(signal)S
1779(handler)S
2176(of)S
2312(the)S
2495(thread)S
(will)190 2833 A
3058(not)S
3247(be)S
3396(called)S
(until)222 3721 A
3978(the)S
4161(transaction)S
4728(completes.)S
3732 V
708(The)S
928(signal)S
(will)190 1249 A
1471(be)S
1617(propagated)S
2186(to)S
2312(the)S
2492(server)S
2820(which)S
3147(may)S
3386(either)S
(ignore)309 3694 A
4034(it)S
4133(or)S
4265(stop)S
4497(what)S
4764(it)S
4863(is)S
4975(doing)S
3872 V
708(and)S
931(reply)S
1229(at)S
1366(once.)S
1703(Thus,)S
2023(when)S
2334(a)S
2437(user)S
2688(interrupts)S
3202(a)S
3306(process)S
3719(with)S
3985(CTRL)S
12 R-1
4293(-)S
12 R
4361(C,)S
4521(it)S
4639(may)S
4897(not)S
5101(die)S
4012 V
708(immediately,)S
1374(but)S
1558(hang)S
(until)222 1822 A
2074(the)S
2252(server)S
2579(replies)S
2933(to)S
3057(the)S
3235(current)S
3609(transaction.)S
4188 V
708(There)S
1026(is)S
1142(a)S
1231(special)S
1603(kind)S
1852(of)S
1988(stun)S
2224(which)S
2555(allows)S
2907(a)S
12 I
2996(trans)S
12 R
3289(to)S
3418(be)S
3568(broken)S
3939(off)S
(without)370 4117 A
(waiting)364 4523 A
4923(for)S
5101(the)S
4328 V
708(server)S
1035(to)S
1159(reply.)S
1498(This)S
1743(is)S
1854(also)S
2079(described)S
2573(in)S
12 I
2697(process)S
12 R
3076(\(L\).)S
4608 V
12 B
708(2.8.)S
978(POSIX)S
1378(Emulation)S
4784 V
12 R
708(The)S
953(POSIX)S
1361(emulation)S
(under)275 1902 A
2235(Amoeba)S
2703(currently)S
3199(provides)S
3673(a)S
3785(subset)S
4145(of)S
4304(the)S
4510(POSIX)S
(1003.1)330 4919 A
4924 V
708(standard.)S
1219(In)S
1361(subsequent)S
1937(releases)S
2362(more)S
2651(of)S
2792(the)S
2980(POSIX)S
(functionality)619 3371 A
(will)190 4030 A
4260(be)S
4414(added,)S
(according)477 4772 A
5064 V
708(to)S
835(what)S
1104(is)S
1218(implementable.)S
2031(At)S
2186(present,)S
2599(the)S
2780(basic)S
3062(calls)S
3318(such)S
3572(as)S
12 I
3706(open)S
12 R
3950(,)S
12 I
4013(close)S
12 R
4272(,)S
12 I
4335(read)S
12 R
4599(and)S
12 I
4807(write)S
12 R
5100(are)S
5204 V
708(implemented)S
(along)268 1377 A
1681(with)S
1933(the)S
2117(directory)S
2591(package,)S
3053(the)S
3237(time)S
3489(of)S
3626(day)S
3836(routines,)S
4292(signal)S
4617(handling)S
5075(and)S
5344 V
708(many)S
1006(miscellaneous)S
1722(functions.)S
5520 V
708(Several)S
1109(POSIX)S
1497(concepts)S
1958(do)S
2116(not)S
2308(make)S
2608(any)S
2820(sense)S
3120(in)S
3252(Amoeba.)S
3760(One)S
4000(is)S
4119(the)S
4305(idea)S
4545(of)S
4684(a)S
4776(user)S
5016(id)S
5148(or)S
5660 V
(group)281 708 A
1030(id.)S
1225(Security)S
1670(is)S
1792(based)S
2108(on)S
(capabilities.)583 2269 A
2923(Identification)S
3618(of)S
3760(users)S
4049(by)S
4209(something)S
4752(other)S
5041(than)S
5800 V
(capabilities)553 708 A
1297(only)S
1547(complicates)S
2162(matters.)S
2616(An)S
2801(emulation)S
3322(of)S
3460(user)S
3699(ids)S
3877(is)S
3995(provided)S
4461(but)S
4652(the)S
(group)281 4837 A
5155(id)S
5940 V
708(is)S
819(always)S
1186(1.)S
1336(\(See)S
12 I
1582(posix)S
12 R
1847(\(L\))S
2033(for)S
2205(more)S
2484(details.\))S
6116 V
708(The)S
930(Bullet)S
1260(File)S
1483(Server)S
1834(creates)S
2206(files)S
2450(atomically.)S
3056(One)S
3292(of)S
3427(the)S
3609(side)S
3838(effects)S
4197(of)S
4333(this)S
4543(is)S
4659(that)S
4876(it)S
4979(is)S
5095(not)S
6256 V
708(possible)S
1139(to)S
1267(read)S
1510(a)S
1598(file)S
1795(as)S
1930(it)S
2032(is)S
2147(being)S
2449(created.)S
2894(Commands)S
3477(such)S
3732(as)S
12 I
3867(tail)S
4063(\261f)S
12 R
4201(are)S
4384(therefore)S
4857(difficult)S
6396 V
708(to)S
832(implement.)S
6572 V
708(To)S
885(manage)S
1304(shared)S
1663(file)S
1869(descriptors)S
(each)222 2444 A
2709(user)S
2954(needs)S
3272(a)S
12 I
3370(session)S
3763(server)S
12 R
4120(\(see)S
12 I
4360(session)S
12 R
4719(\(U\)\).)S
5034(This)S
6712 V
708(also)S
935(deals)S
1216(with)S
1464(the)S
1644(null)S
1864(device,)S
12 I
(/dev/tty)358 2242 A
12 R
2610(,)S
2672(pipes)S
2958(and)S
3163(the)S
3342(forking)S
3729(of)S
3861(processes.)S
4416(Forking)S
4829(is)S
4941(in)S
5066(fact)S
6852 V
708(slow)S
981(and)S
1199(inefficient)S
(under)275 1743 A
2062(Amoeba.)S
2576(This)S
2836(is)S
(because)383 2962 A
3390(when)S
3697(a)S
3796(new)S
4043(process)S
4451(is)S
4577(started)S
4946(it)S
(will)190 5059 A
6992 V
708(usually)S
1095(be)S
1247(started)S
1609(on)S
1767(a)S
1859(different)S
2315(processor)S
2816(from)S
3089(the)S
3274(parent)S
3614(process.)S
4074(The)S
4299(idea)S
4538(of)S
(copying)388 4676 A
5101(the)S
7132 V
708(text)S
940(of)S
1091(a)S
1196(totally)S
1557(irrelevant)S
2074(program)S
2535(to)S
2680(another)S
3094(processor)S
3609(is)S
3741(inefficient)S
4292(in)S
4437(the)S
4636(context)S
5043(of)S
5195(a)S
7272 V
708(distributed)S
1259(system.)S
1688(Therefore)S
2200(there)S
2476(is)S
2590(a)S
2676(routine)S
3051(called)S
12 I
3373(newproc)S
12 R
3798(\(L\))S
3986(which)S
4314(can)S
4514(be)S
4660(used)S
4913(to)S
5039(start)S
7700 V
708(6)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 7 13
BP
/slant 0 def
/height 0 def
860 V
12 R
708(a)S
792(new)S
1024(process)S
1417(more)S
1696(efficiently)S
2226(than)S
2464(with)S
12 I
2710(fork)S
12 R
2945(and)S
12 I
(exec)216 3149 A
12 R
3375(.)S
1036 V
708(See)S
12 I
913(posix)S
12 R
1178(\(L\))S
1364(for)S
1536(further)S
1897(details)S
2244(of)S
2375(POSIX)S
2756(conformance.)S
1456 V
12 B
708(2.8.1.)S
1068(Porting)S
1488(UNIX)S
1829(Programs)S
1632 V
12 R
708(In)S
840(general,)S
1258(porting)S
1638(most)S
1904(programs)S
2392(from)S
11 R
2658(UNIX)S
12 R
(should)321 2967 A
3320(not)S
3506(present)S
3888(problems)S
4370(if)S
4477(they)S
4717(are)S
4898(POSIX)S
1772 V
708(conformant,)S
1332(restrict)S
1707(themselves)S
2281(to)S
2411(the)S
2595(calls)S
2853(defined)S
3251(in)S
(P1003.1)397 3380 A
3812(and)S
4021(do)S
4176(not)S
4365(use)S
11 R
4559(UNIX)S
12 R
4871(specific)S
1912 V
708(networking.)S
1357(Programs)S
1859(that)S
2079(use)S
2278(sockets)S
2672(or)S
2811(the)S
2997(select)S
3312(system)S
3686(call)S
3900(may)S
4146(prove)S
4460(difficult)S
4891(to)S
5024(port.)S
2052 V
708(It)S
832(some)S
1136(cases)S
1441(the)S
(functionality)619 1638 A
2306(of)S
2456(sockets)S
2861(may)S
3118(be)S
3281(able)S
3531(to)S
3673(be)S
(reproduced)544 3835 A
4427(with)S
4691(the)S
(support)362 4887 A
2192 V
708(routines)S
1128(for)S
1300(the)S
1478(TCP/IP)S
1871(server.)S
2472 V
12 B
708(2.9.)S
978(Languages)S
2648 V
12 R
708(Currently)S
1235(several)S
1642(programming)S
(languages)483 2364 A
2911(are)S
3124(provided)S
3617(with)S
3897(Amoeba.)S
4431(The)S
4683(Amsterdam)S
2788 V
708(Compiler)S
1209(Kit)S
1409(\(ACK\))S
1791(provides)S
2251(STD)S
2524(C,)S
2678(Pascal,)S
3062(BASIC,)S
3492(FORTRAN)S
4101(77)S
4265(and)S
(Modula-2.)506 4482 A
5061(The)S
2928 V
708(standard)S
1158(run-time)S
1616(libraries)S
2055(are)S
2244(available)S
2722(for)S
2904(these)S
(languages)483 3193 A
3716(\(see)S
12 I
(libmod2)396 3952 A
12 R
4358(\(L\))S
4555(and)S
12 I
4770(libpc)S
12 R
5022(\(L\)\).)S
3068 V
708(However,)S
1223(the)S
1411(Amoeba)S
1861(library)S
2225(routines)S
2655(have)S
2923(only)S
3177(been)S
3445(provided)S
3914(for)S
4096(C)S
4216(at)S
4343(present.)S
4792(Note)S
5067(that)S
3208 V
708(the)S
916(ACK)S
1232(loader)S
1595(is)S
1736(capable)S
2166(of)S
2327(linking)S
2729(the)S
2938(routines)S
3389(from)S
3686(the)S
3895(C)S
4036(libraries)S
4496(with)S
(Modula-2)476 4773 A
3348 V
708(programs.)S
1255(See)S
12 I
(libmod2)396 1460 A
12 R
1866(\(L\))S
2052(for)S
2224(details.)S
3524 V
708(The)S
926(stub)S
1157(generator)S
12 I
1645(ail)S
12 R
1783(\(U\))S
1983(only)S
2227(provides)S
2673(the)S
(possibility)504 2851 A
3385(of)S
3516(generating)S
4057(stubs)S
4335(in)S
4459(C.)S
3700 V
708(A)S
836(special)S
(language)436 1213 A
1689(for)S
1871(parallel)S
2276(programming)S
2974(has)S
3175(been)S
3443(developed.)S
4039(It)S
4154(is)S
4275(called)S
12 I
4605(Orca)S
12 R
4864(.)S
4965(It)S
5081(can)S
3840 V
708(be)S
852(obtained)S
1298(from)S
1564(the)S
1742(Vrije)S
2023(Universiteit.)S
4016 V
708(The)S
(GNU)264 926 A
1220(C)S
1330(compiler)S
1791(is)S
1902(available)S
2370(for)S
2542(all)S
2694(architectures)S
(under)275 3345 A
3650(Amoeba.)S
4192 V
708(For)S
906(further)S
1267(details)S
1614(on)S
1764(programming)S
(languages)483 2452 A
2965(see)S
3150(chapter)S
3537(5,)S
12 I
3657(Programming)S
(Languages)528 4365 A
12 R
4903(.)S
4612 V
12 B
708(2.9.1.)S
1068(Programming)S
1823(in)S
1954(C)S
4788 V
12 R
708(The)S
938(ACK)S
1236(C)S
1358(compiler)S
1831(distributed)S
2391(with)S
2649(Amoeba)S
3101(is)S
3224(a)S
3320(STD)S
3592(C)S
3715(compiler.)S
4249(The)S
4480(Amoeba)S
4933(source)S
4928 V
708(code)S
968(was)S
(written)345 1189 A
1566(in)S
1692(K&R)S
1986(C)S
2098(but)S
2284(function)S
2719(prototypes)S
3260(and)S
3465(new)S
12 R-1
3667(-)S
12 R
3735(style)S
3995(declarations)S
4612(are)S
4792(gradually)S
5068 V
708(replacing)S
1197(the)S
1383(old-style)S
1846(code.)S
2173(The)S
2400(STD)S
2668(C)S
2787(compiler)S
3257(can)S
3464(be)S
3617(used)S
3877(to)S
4010(compile)S
4439(the)S
4626(system.)S
5061(The)S
5208 V
708(library)S
1062(routines)S
1482(and)S
1686(include)S
2072(files)S
2312(required)S
2746(by)S
2896(STD)S
3155(C)S
3265(are)S
3444(provided.)S
5384 V
708(To)S
883(compile)S
1314(a)S
1409(program)S
(under)275 1860 A
2176(Amoeba)S
2627(it)S
2736(is)S
2858(sufficient)S
3358(to)S
3493(call)S
12 I
3710(cc)S
12 R
3828(\(U\).)S
4100(This)S
(will)190 4357 A
4589(automatically)S
5524 V
708(link)S
930(programs)S
1421(with)S
1671(the)S
1853(correct)S
2225(run-time)S
2677(start-off)S
3104(and)S
3312(the)S
3494(relevant)S
3919(libraries.)S
4412(The)S
4634(two)S
4850(libraries)S
5664 V
708(that)S
923(are)S
1105(of)S
1240(importance)S
1819(are)S
12 I
2002(libamoeba.a)S
12 R
2646(and)S
12 I
2854(libajax.a)S
12 R
3290(.)S
3384(The)S
3606(latter)S
3891(is)S
4006(only)S
4254(required)S
4692(when)S
4988(using)S
5804 V
708(functions)S
1195(that)S
1414(interact)S
1816(with)S
2069(the)S
2253(session)S
2638(server.)S
3031(\(That)S
3330(is,)S
3477(when)S
3775(a)S
3865(program)S
(will)190 4311 A
4537(use)S
4734(shared)S
5086(file)S
5944 V
708(descriptors.\))S
1389(If)S
1520(linking)S
1911(programs)S
(without)370 2417 A
2836(using)S
12 I
3146(cc)S
12 R
3313(then)S
12 I
3570(libajax.a)S
12 R
(should)321 4055 A
4425(be)S
4588(linked)S
4939(before)S
6084 V
12 I
708(libamoeba.a)S
12 R
1318(,)S
1378(which)S
(should)321 1704 A
2055(always)S
2422(be)S
2566(the)S
2744(last)S
2943(library)S
3297(linked.)S
6260 V
708(Note)S
979(that)S
1197(just)S
(calling)330 1408 A
12 I
1774(cc)S
12 R
(will)190 1928 A
2154(result)S
2460(in)S
(compiling)490 2590 A
3116(a)S
3206(program)S
3652(for)S
3830(the)S
4014(default)S
4387(architecture.)S
5057(It)S
5168(is)S
6400 V
708(better)S
1020(to)S
1149(specify)S
1534(the)S
1716(target)S
2027(architecture)S
2635(if)S
2744(there)S
3021(is)S
3136(any)S
(doubt)274 3344 A
3652(or)S
3787(if)S
(cross-compiling)780 3896 A
4710(for)S
4886(another)S
6540 V
708(architecture)S
1312(\(see)S
1538(the)S
12 B-1
1716(-)S
12 B
1784(m)S
12 R
1915(option)S
2253(of)S
12 I
2384(ack)S
12 R
2562(\(U\))S
2762(for)S
2934(details\).)S
6716 V
708(If)S
853(developing)S
1452(a)S
1569(software)S
2051(system)S
2450(it)S
2581(is)S
2725(recommended)S
3473(that)S
12 I
3718(amake)S
12 R
4044(\(U\))S
4278(be)S
4456(used)S
4741(instead)S
5148(of)S
6856 V
12 I
708(make)S
12 R
974(\(U\).)S
12 I
1239(Amake)S
12 R
1614(is)S
1730(more)S
2014(reliable)S
(under)275 2414 A
2724(Amoeba)S
3169(\(it)S
3313(does)S
3569(not)S
3758(use)S
3954(the)S
4137(unreliable)S
4656(time-stamps)S
6996 V
708(on)S
887(directory)S
1384(entries\))S
1808(and)S
2041(provides)S
2516(much)S
2843(more)S
(flexibility.)509 3152 A
3751(There)S
4094(are)S
4303(many)S
4631(examples)S
5148(of)S
7136 V
708(Amakefiles)S
1298(in)S
1422(the)S
1600(Amoeba)S
2040(distribution.)S
7700 V
2683(Amoeba)S
3123(5.3)S
5189(7)S
7920 V
EP
%%Page: 8 14
BP
/slant 0 def
/height 0 def
860 V
12 B
708(2.9.2.)S
1068(Standard)S
1581(Types)S
1036 V
12 R
708(There)S
1029(are)S
1216(many)S
1523(standard)S
1972(types)S
2266(defined)S
2668(using)S
12 I
2968(typedef)S
12 R
3328(.)S
3427(The)S
3654(most)S
3928(important)S
4438(ones)S
4698(are)S
4886(defined)S
1176 V
708(in)S
844(the)S
1034(include)S
1432(file)S
12 I
1637(amoeba.h)S
12 R
2119(.)S
2221(These)S
2552(include)S
2950(the)S
(definitions)518 3140 A
3700(of)S
12 I
(capability)484 3842 A
12 R
4336(,)S
12 I
4407(port)S
12 R
4618(,)S
12 I
4689(header)S
12 R
5075(and)S
1316 V
12 I
(errstat)323 708 A
12 R
1041(.)S
1164(For)S
1395(the)S
1606(sake)S
1884(of)S
(portability)505 2048 A
2616(it)S
2747(is)S
2891(important)S
3425(that)S
3670(these)S
3983(types)S
4302(be)S
4480(used)S
4765(uniformly)S
1456 V
(throughout)529 708 A
1299(applications.)S
2006(In)S
2169(subsequent)S
2767(releases)S
3214(the)S
3424(actual)S
(underlying)523 3775 A
4359(types)S
(will)190 4675 A
4926(almost)S
1596 V
708(certainly)S
1164(change.)S
1597(For)S
1797(example,)S
12 I
2269(bufsize)S
12 R
2647(is)S
2760(presently)S
3236(an)S
3382(unsigned)S
3849(16-bit)S
4170(integer.)S
4599(It)S
4706(is)S
4819(expected)S
1736 V
708(that)S
920(this)S
(will)190 1125 A
1345(be)S
(upgraded)449 1489 A
1968(to)S
2092(a)S
2176(signed)S
2521(32-bit)S
2840(integer)S
3207(in)S
3331(a)S
3415(future)S
3735(release.)S
1912 V
708(Since)S
1018(many)S
1327(types)S
1623(are)S
1813(used)S
2075(it)S
2184(is)S
2306(worthwhile)S
2900(for)S
3083(the)S
3272(programmer)S
3913(to)S
4049(become)S
4467(acquainted)S
5033(with)S
2052 V
708(them.)S
2228 V
708(In)S
(addition)396 844 A
1275(to)S
1404(the)S
1587(type)S
(definitions)518 1830 A
2383(there)S
2661(are)S
2846(several)S
3226(macros)S
3612(defined)S
4011(which)S
4343(relate)S
4650(to)S
4780(the)S
4964(types.)S
2368 V
708(It)S
848(is)S
994(worthwhile)S
1612(becoming)S
2153(acquainted)S
2742(with)S
3022(these)S
3335(as)S
3500(well.)S
3834(Two)S
4120(macros)S
4534(are)S
4747(of)S
4912(special)S
2508 V
708(importance.)S
1349(The)S
1573(macro)S
12 C
(PORTCMP)511 1912 A
12 R
2459(compares)S
2959(two)S
12 I
3177(ports.)S
12 R
3501(It)S
3612(returns)S
3985(1)S
4081(if)S
4192(they)S
4436(are)S
4621(identical)S
5075(and)S
2648 V
708(0)S
817(otherwise.)S
1398(Similarly)S
1899(the)S
2096(macro)S
12 C
(NULLPORT)584 2448 A
12 R
3081(returns)S
3467(1)S
3575(if)S
3698(the)S
3894(given)S
4210(port)S
4453(is)S
4582(null)S
4818(and)S
5040(zero)S
2788 V
708(otherwise.)S
1270(An)S
1448(example)S
1888(of)S
2019(their)S
2272(use)S
2463(is)S
2574(given)S
2872(below.)S
2988 V
11 C
(#include)536 1068 A
("amoeba.h")670 1671 A
3268 V
(port)268 1068 A
(p1;)201 1403 A
3408 V
(port)268 1068 A
(p2;)201 1403 A
3688 V
1068(if)S
(\(PORTCMP\(&p1,)871 1269 A
(&p2\)\))335 2207 A
3828 V
(printf\("p1)670 1336 A
(and)201 2073 A
2341(p2)S
(are)201 2542 A
(equal\\n"\);)670 2810 A
4108 V
1068(if)S
(\(NULLPORT\(&p1\)\))1005 1269 A
4248 V
(printf\("p1)670 1336 A
2073(is)S
(the)201 2274 A
(null)268 2542 A
(port!\\n"\);)670 2877 A
4728 V
12 B
708(2.9.3.)S
1068(Standard)S
1581(Commands)S
2202(and)S
2426(Errors)S
4904 V
12 R
708(Like)S
986(many)S
1310(other)S
1616(operating)S
2130(systems,)S
2600(Amoeba)S
3067(provides)S
3540(a)S
3651(standard)S
4118(set)S
4310(of)S
4468(error)S
4762(messages.)S
5044 V
708(These)S
1060(standard)S
1533(error)S
1833(codes)S
2171(are)S
2383(defined)S
2809(in)S
2965(the)S
3175(include)S
3593(file)S
12 I
3818(stderr.h)S
12 R
4207(.)S
4329(\(See)S
4607(also)S
12 I
4864(err)S
12 R
5022(\(L\).\))S
5184 V
708(Servers)S
1111(may)S
1358(define)S
1700(extra)S
(non)180 1982 A
12 R-1
2162(-)S
12 R
2230(standard)S
2679(error)S
2956(codes)S
3271(which)S
3607(their)S
3870(clients)S
4227(must)S
4502(be)S
4656(made)S
4958(aware)S
5324 V
708(of,)S
883(but)S
1081(these)S
1374(numbers)S
1834(may)S
2086(not)S
2284(conflict)S
2699(with)S
2959(the)S
3151(standard)S
3605(set)S
3784(of)S
3929(errors.)S
4317(Otherwise)S
4860(it)S
4971(is)S
5095(not)S
5464 V
708(possible)S
1153(for)S
1345(the)S
1543(error)S
1830(message)S
2290(routines)S
2730(to)S
2874(print)S
3153(meaningful)S
3754(strings)S
(corresponding)691 4127 A
4868(to)S
5012(error)S
5604 V
708(codes.)S
1089(Furthermore,)S
1771(there)S
2060(are)S
2255(several)S
2645(macros)S
3040(for)S
3227(manipulating)S
3910(an)S
4069(error)S
4351(status.)S
4732(At)S
4899(present)S
5744 V
708(certain)S
1106(unsigned)S
1608(fields)S
1945(in)S
2106(headers)S
2543(are)S
2759(required)S
3230(to)S
3391(carry)S
3708(error)S
4012(codes)S
4354(which)S
4717(are)S
4934(signed)S
5884 V
(quantities.)501 708 A
1277(However)S
1760(to)S
1892(write)S
2181(code)S
2447(that)S
(will)190 2667 A
2895(run)S
3094(on)S
3252(both)S
3504(the)S
3690(current)S
4072(and)S
4284(future)S
4611(releases)S
5033(with)S
6024 V
708(simple)S
1065(recompilation,)S
1802(two)S
2018(macros)S
2403(have)S
2666(been)S
2929(provided.)S
3453(The)S
3676(first)S
3908(is)S
4024(called)S
12 C
(ERR)219 4349 A
12 Y1
4568(3)S
12 C
(STATUS.)511 4628 A
12 R
5174(It)S
6164 V
708(takes)S
999(a)S
1095(single)S
1426(argument)S
1925(\(an)S
2122(unsigned)S
2598(16-bit)S
2928(integer\))S
3347(and)S
3562(determines)S
4135(whether)S
4567(or)S
4709(not)S
4904(it)S
5013(is)S
5135(an)S
6304 V
708(error)S
981(code.)S
1305(A)S
1429(related)S
1796(macro)S
12 C
(ERR)219 2135 A
12 Y1
2354(3)S
12 C
(CONVERT)511 2414 A
12 R
(converts)410 2961 A
3407(an)S
3557(unsigned)S
4028(16-bit)S
4353(integer)S
4726(to)S
4856(the)S
5041(type)S
6444 V
12 I
(errstat)323 708 A
12 R
1041(.)S
1149(In)S
1298(practice)S
1731(almost)S
2102(no)S
2269(user)S
2518(programs)S
(will)190 3022 A
3259(confront)S
3716(these)S
4012(problems)S
4509(if)S
4631(they)S
4886(confine)S
6584 V
708(themselves)S
1281(to)S
(calling)330 1410 A
1775(stub)S
2011(routines)S
2437(whose)S
2782(external)S
(interface)426 3209 A
3671(only)S
3921(deals)S
4206(with)S
4458(the)S
4642(type)S
12 I
(errstat)323 4886 A
12 R
5219(.)S
6724 V
708(Only)S
994(the)S
1186(writers)S
1569(of)S
1714(stubs)S
(will)190 2006 A
(face)203 2240 A
2487(these)S
(compatibility)646 2780 A
3470(problems)S
3964(and)S
4181(by)S
4344(using)S
4648(the)S
4839(Amoeba)S
6864 V
(Interface)433 708 A
(Language)476 1175 A
1685(\(AIL\))S
2004(the)S
2186(stubs)S
2468(can)S
2670(be)S
2818(automatically)S
3512(generated)S
4017(and)S
4225(thus)S
4460(eliminate)S
4946(nearly)S
7004 V
708(all)S
(compatibility)646 860 A
1536(issues.)S
7180 V
708(Command)S
1250(codes)S
1565(sent)S
1801(to)S
1936(servers)S
2321(have)S
2590(also)S
2826(been)S
3095(standardized.)S
3808(There)S
4132(are)S
4322(standard)S
4773(command)S
7320 V
708(codes)S
1040(defined)S
1460(in)S
12 I
1611(stdcmd.h)S
12 R
2111(which)S
2464(must)S
2756(be)S
2926(implemented)S
3614(by)S
3790(all)S
3968(servers)S
4368(where)S
4721(applicable.)S
7700 V
708(8)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 9 15
BP
/slant 0 def
/height 0 def
860 V
12 R
708(\(Those)S
1087(that)S
1312(are)S
1504(not)S
1701(applicable)S
(should)321 2242 A
2606(be)S
(ignored)369 2763 A
3175(and)S
3392(a)S
(good)240 3490 A
3774(status)S
4094(returned.\))S
4643(Furthermore)S
1000 V
708(there)S
988(are)S
1174(reserved)S
1622(command)S
2135(codes)S
2447(for)S
2626(standard)S
3072(servers)S
3452(defined)S
3851(in)S
3981(the)S
4165(include)S
4557(file)S
12 I
4756(cmdreg.h)S
12 R
5219(.)S
1140 V
708(At)S
872(the)S
1062(end)S
1278(of)S
1421(this)S
1638(file)S
1844(is)S
1968(the)S
2159(special)S
2539(symbol)S
12 C
(UNREGISTERED)876 2937 A
12 Y1
3813(3)S
12 C
(FIRST)365 3873 A
12 Y1
4238(3)S
12 C
(COM)219 4298 A
12 R
4560(which)S
4899(defines)S
1280 V
708(where)S
1039(local)S
1309(server's)S
1728(command)S
2238(codes)S
(should)321 2547 A
2902(begin.)S
3264(The)S
3485(reason)S
3834(for)S
4009(this)S
4217(division)S
4639(of)S
4773(command)S
1420 V
708(codes)S
1017(is)S
1132(to)S
1260(allow)S
1564(the)S
(possibility)504 1746 A
2284(of)S
(inheriting)471 2419 A
(interfaces)473 2924 A
3432(in)S
3561(an)S
3710(object-oriented)S
4479(fashion.)S
4930(AIL)S
5168(is)S
1560 V
708(able)S
950(to)S
1084(take)S
1326(advantage)S
1856(of)S
1997(this)S
2212(when)S
2514(building)S
2956(server)S
(interfaces.)503 3293 A
3866(\(See)S
4122(the)S
4310(Programming)S
5014(tools)S
1700 V
708(section)S
1086(for)S
1263(details)S
1615(of)S
1751(AIL)S
1989(class)S
2260(inheritance.\))S
2935(Similarly,)S
3452(if)S
3562(a)S
3651(server)S
3983(needs)S
4293(to)S
4422(use)S
(non-standard)631 4618 A
1840 V
708(error)S
975(codes,)S
1310(they)S
(should)321 1548 A
1899(also)S
2124(be)S
2268(numbered)S
2781(from)S
12 C
(UNREGISTERED)876 3047 A
12 Y1
3923(3)S
12 C
(FIRST)365 3983 A
12 Y1
4348(3)S
12 C
(ERR)219 4408 A
12 R
4627(.)S
7700 V
2683(Amoeba)S
3123(5.3)S
5189(9)S
7920 V
EP
%%Page: 10 16
BP
/slant 0 def
/height 0 def
940 V
14 B
2047(3)S
2222(Writing)S
2734(Servers)S
3224(and)S
3485(Clients)S
1176 V
12 R
708(Servers)S
1118(are)S
1313(used)S
1580(to)S
1720(perform)S
2157(specialized)S
2742(functions)S
3238(and)S
3458(form)S
3741(the)S
3936(basis)S
4225(of)S
4373(centralized)S
4953(object)S
1316 V
708(management.)S
1430(There)S
1757(are)S
1950(many)S
2262(standard)S
2716(servers)S
3104(delivered)S
3598(with)S
3857(Amoeba.)S
4370(These)S
4702(include)S
5101(the)S
1456 V
708(Bullet)S
1048(File)S
1282(Server,)S
1674(the)S
1867(Soap)S
2153(Directory)S
2664(Server,)S
3056(the)S
3249(Virtual)S
3639(Disk)S
3913(Server)S
4275(and)S
4494(the)S
4687(Run)S
4932(Server)S
1596 V
708(\(which)S
1080(does)S
1336(load)S
1579(balancing)S
2084(at)S
2207(process)S
2605(creation-time\),)S
(among)328 3359 A
3722(many)S
4025(others.)S
4416(To)S
4584(develop)S
5000(basic)S
1736 V
708(applications)S
1334(and)S
1549(port)S
(utilities)365 1785 A
2191(from)S
2468(other)S
2758(operating)S
3256(systems)S
3681(the)S
3871(standard)S
4323(servers)S
4709(are)S
4900(usually)S
1876 V
708(adequate.)S
1271(However)S
1789(for)S
2004(some)S
2332(applications)S
2990(this)S
3238(is)S
3392(not)S
(enough.)384 3619 A
4106(This)S
4393(section)S
4808(gives)S
5135(an)S
2016 V
708(indication)S
1226(of)S
1361(how)S
1603(to)S
1731(write)S
(your)221 2016 A
2271(own)S
2513(servers)S
2891(and)S
3099(clients)S
3450(and)S
3658(points)S
3987(out)S
4175(some)S
4464(of)S
4599(the)S
4782(pitfalls)S
5155(to)S
2156 V
708(avoid.)S
2332 V
708(Servers)S
1103(normally)S
1571(have)S
1830(a)S
1915(fixed)S
2195(set)S
2361(of)S
2493(commands)S
3047(that)S
3260(they)S
(accept.)340 3499 A
3900(They)S
4180(sit)S
4327(in)S
4453(a)S
(loop)214 4539 A
(accepting)464 4785 A
2472 V
708(commands,)S
1302(executing)S
1813(them)S
2096(and)S
2311(sending)S
2727(a)S
2822(reply.)S
3172(To)S
3347(simplify)S
3792(the)S
3981(client's)S
4380(interaction)S
4939(with)S
5195(a)S
2612 V
708(server)S
1050(it)S
1163(calls)S
1431(a)S
1530(procedure,)S
(known)328 2089 A
2463(as)S
2610(a)S
12 I
2710(stub)S
12 R
2921(.)S
3027(This)S
3288(packages)S
3777(the)S
3971(command)S
4493(and)S
4713(data)S
4961(in)S
5101(the)S
2752 V
708(manner)S
1105(required)S
1543(by)S
1697(the)S
1879(server)S
2210(and)S
2418(sends)S
2720(it)S
2822(to)S
2950(the)S
3132(server)S
3463(using)S
3757(a)S
3844(remote)S
4214(procedure)S
4731(call)S
4940(\(RPC\))S
2892 V
708(and)S
917(then)S
1160(awaits)S
1506(a)S
1595(reply.)S
1939(The)S
2162(procedure)S
2681(also)S
(unpacks)395 2912 A
3343(any)S
3553(data)S
3791(in)S
3921(the)S
4105(reply)S
4390(and)S
4600(hands)S
4917(it)S
5021(back)S
3032 V
708(to)S
856(the)S
1058(client.)S
1442(The)S
1684(stub)S
1939(allows)S
2310(details)S
2681(of)S
2836(the)S
3038(server)S
(interface)426 3388 A
3867(and)S
4094(the)S
4295(possible)S
4744(byte-order)S
3172 V
708(differences)S
1278(between)S
1712(client)S
2012(and)S
2216(server's)S
2631(processors)S
3172(to)S
3296(be)S
3440(hidden)S
3798(from)S
4064(the)S
4243(programmer.)S
4933(Below)S
3312 V
708(is)S
819(a)S
903(description)S
1471(of)S
1602(how)S
1840(to)S
1964(write)S
2245(servers,)S
2649(their)S
2902(stubs)S
3180(and)S
3384(the)S
3562(clients)S
3909(that)S
4121(use)S
4312(them.)S
3488 V
708(The)S
932(following)S
1439(description)S
2013(of)S
2150(how)S
2394(to)S
2524(write)S
2811(clients)S
3164(and)S
3375(servers)S
3756(begins)S
4108(by)S
4265(showing)S
4711(what)S
4984(the)S
5169(C)S
3628 V
708(code)S
1010(actually)S
(looks)261 1468 A
1803(like)S
2058(for)S
2273(a)S
2400(client)S
2690(/)S
2744(server)S
(interface.)456 3114 A
3673(The)S
3934(reason)S
4323(for)S
4538(this)S
4786(is)S
4940(purely)S
3768 V
708(educational.)S
1378(In)S
1531(fact)S
1767(it)S
1888(is)S
2022(seldom)S
(necessary)471 2424 A
2948(to)S
3095(write)S
3399(the)S
3600(server)S
(loop)214 3950 A
4217(and)S
4444(client)S
4767(stub)S
5021(code)S
3908 V
(yourself.)427 708 A
1242(AIL)S
1522(\(the)S
1788(Amoeba)S
(Interface)433 2275 A
(Language\))517 2785 A
3379(can)S
3624(be)S
3815(used)S
4113(to)S
4283(generate)S
4770(this)S
5021(code)S
4048 V
708(automatically.)S
1464(The)S
1688(implementation)S
2484(of)S
2621(the)S
2805(commands)S
3365(must)S
3637(be)S
(written)345 3788 A
4170(by)S
4327(the)S
4512(programmer)S
5148(of)S
4188 V
708(course.)S
1117(One)S
1352(advantage)S
1875(of)S
2009(this)S
2217(is)S
2331(that)S
2546(if)S
2654(the)S
2835(RPC)S
(interface)426 3094 A
3552(ever)S
3793(changes,)S
4244(then)S
(recompiling)585 4484 A
5101(the)S
4328 V
708(client)S
998(/)S
1052(server)S
(interface)426 1379 A
1835(with)S
2081(AIL)S
(will)190 2314 A
2534(probably)S
2993(be)S
3137(sufficient)S
3627(to)S
3752(port)S
3978(the)S
4157(server)S
4485(to)S
4610(the)S
4789(new)S
5022(RPC)S
4468 V
(interface.)456 708 A
1240(Another)S
1683(advantage)S
2219(is)S
2346(that)S
2573(it)S
2686(is)S
2812(in)S
2951(principle)S
3427(easier)S
3756(to)S
3895(write)S
4191(a)S
4290(specification)S
4955(of)S
5101(the)S
4608 V
(interface)426 708 A
1164(in)S
1288(AIL)S
1521(than)S
1759(to)S
1883(write)S
2164(the)S
2342(code)S
2600(for)S
2772(every)S
(interface)426 3071 A
3527(stub.)S
4784 V
708(Before)S
(writing)351 1100 A
1513(servers)S
1919(and)S
2155(clients)S
2534(it)S
2664(is)S
2807(important)S
3340(to)S
(understand)530 3496 A
4088(the)S
4298(system)S
4696(of)S
(F-boxes)389 4860 A
4924 V
708(described)S
1210(in)S
1342(many)S
1648(of)S
1787(the)S
1973(papers)S
(about)268 2327 A
2633(Amoeba.)S
3141(These)S
3468(have)S
3734(been)S
4000(implemented)S
4669(in)S
4800(software.)S
5064 V
708(The)S
941(idea)S
1188(of)S
1334(the)S
(F-box)288 1528 A
1862(is)S
1989(that)S
2217(it)S
2331(prevents)S
2787(someone)S
3262(starting)S
3672(a)S
3772(server)S
4115(which)S
4457(intercepts)S
4975(RPCs)S
5204 V
708(intended)S
1154(for)S
1326(some)S
1611(other)S
1890(\(important\))S
2473(server)S
2800(by)S
2950(deliberately)S
3553(listening)S
4000(to)S
4124(the)S
4302(same)S
4581(port.)S
5380 V
708(The)S
(F-box)288 928 A
1248(mechanism)S
1831(works)S
2159(as)S
2292(follows.)S
2748(When)S
3068(a)S
12 I
3155(getreq)S
12 R
3507(call)S
3716(is)S
(done)234 3830 A
4097(it)S
4198(listens)S
4541(to)S
4668(the)S
12 I
4849(get-port)S
5520 V
12 R
708(for)S
889(the)S
1076(server.)S
1472(This)S
1726(is)S
1846(a)S
1939(port)S
(known)328 2173 A
2539(only)S
2791(to)S
2923(the)S
3109(server.)S
3504(The)S
3730(server's)S
4153(kernel)S
4494(passes)S
4841(this)S
5054(port)S
5660 V
(through)375 708 A
1117(the)S
1299(routine)S
12 I
(priv2pub)435 1676 A
12 R
2121(\(L\))S
2311(to)S
2439(encrypt)S
2836(the)S
3018(port.)S
3308(The)S
3531(result)S
3836(is)S
(known)328 3952 A
4315(as)S
4451(the)S
12 I
4634(put-port)S
12 R
5075(and)S
5800 V
708(the)S
907(kernel)S
(accepts)357 1261 A
1669(requests)S
2117(sent)S
2363(to)S
2508(the)S
12 I
2707(put-port)S
12 R
3113(.)S
12 I
(Priv2pub)449 3224 A
12 R
3734(is)S
3866(a)S
3971(one-way)S
4439(function)S
4893(so)S
5050(it)S
5168(is)S
5940 V
708(practically)S
1251(impossible)S
1805(to)S
1929(deduce)S
2301(the)S
12 I
2479(get-port)S
12 R
2909(given)S
3207(the)S
12 I
3385(put-port)S
12 R
3791(.)S
6116 V
708(Before)S
1071(doing)S
1378(a)S
12 I
1465(getreq)S
12 R
1817(the)S
1998(server)S
2329(needs)S
2638(to)S
(publish)355 2766 A
3155(the)S
12 I
3337(put-port)S
12 R
(through)375 3777 A
4186(which)S
4516(it)S
4618(can)S
4820(be)S
(found)281 4968 A
6256 V
708(by)S
863(clients.)S
1275(Therefore)S
1789(it)S
1892(also)S
2122(passes)S
2466(the)S
12 I
2649(get-port)S
12 R
(through)375 3083 A
12 I
(priv2pub)435 3492 A
12 R
3971(and)S
(publishes)456 4179 A
4669(the)S
4851(result)S
5155(in)S
6396 V
708(the)S
890(directory)S
1362(server)S
1693(in)S
1821(a)S
(place)256 1909 A
(accessible)492 2199 A
2725(to)S
2854(its)S
3004(clients.)S
3416(In)S
3552(principle)S
4018(it)S
4121(is)S
4237(not)S
4426(possible)S
4857(to)S
4986(listen)S
6536 V
708(for)S
880(requests)S
1307(on)S
1457(the)S
(public)302 1635 A
1967(port)S
2192(unless)S
2524(the)S
12 I
2702(get-port)S
12 R
3132(is)S
(known.)358 3243 A
6712 V
708(This)S
977(actually)S
1415(provides)S
1885(very)S
(little)224 2155 A
2434(security)S
2873(if)S
3003(it)S
3126(is)S
3262(possible)S
3713(for)S
3910(someone)S
4394(to)S
(boot)214 4543 A
4812(modified)S
6852 V
708(Amoeba)S
1168(kernels)S
1567(on)S
(your)221 1736 A
2006(network.)S
2512(They)S
2809(can)S
3026(add)S
3249(a)S
(primitive)445 3352 A
3846(for)S
4037(listening)S
4503(to)S
12 I
4646(put-ports)S
12 R
5148(or)S
6992 V
708(modify)S
1090(a)S
1177(kernel)S
1513(binary)S
1855(to)S
1982(avoid)S
2283(the)S
(conversion)530 2464 A
3028(of)S
12 I
3163(get-port)S
12 R
3597(to)S
12 I
3725(put-port)S
12 R
4165(when)S
12 I
4461(getreq)S
12 R
4814(is)S
4929(called.)S
7132 V
708(The)S
943(same)S
1239(deficiency)S
1791(occurs)S
2154(if)S
2276(the)S
(F-box)288 2471 A
2806(is)S
2934(implemented)S
3613(in)S
3754(hardware)S
4252(and)S
4472(it)S
4586(is)S
4713(possible)S
5155(to)S
7272 V
(connect)376 708 A
1114(to)S
1238(the)S
1416(network)S
(without)370 1843 A
2243(an)S
2387(intervening)S
(F-box.)318 2968 A
7700 V
708(10)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 11 17
BP
/slant 0 def
/height 0 def
860 V
12 B
708(3.1.)S
978(Servers)S
1036 V
12 R
708(Most)S
996(servers)S
1381(have)S
1650(the)S
1839(same)S
2129(basic)S
2419(structure,)S
(although)422 2915 A
3378(exceptions)S
3936(do)S
4097(exist.)S
4427(Each)S
4710(has)S
4912(a)S
5007(main)S
1176 V
708(program)S
1152(which)S
(initializes)473 1482 A
1989(any)S
2197(global)S
2533(variables,)S
(publishes)456 3034 A
3523(the)S
3704(port)S
3932(of)S
4066(the)S
4247(server)S
4577(so)S
4717(that)S
4932(clients)S
1316 V
708(can)S
909(use)S
1103(it)S
1204(and)S
1411(starts)S
1701(one)S
1909(or)S
2044(more)S
2327(instances)S
2805(of)S
2940(the)S
3122(server)S
(loop.)244 3453 A
3761(The)S
3983(server)S
(loop)214 4314 A
4562(is)S
4677(typically)S
5135(an)S
1456 V
708(infinite)S
(loop)214 1104 A
1363(with)S
1624(a)S
12 I
1723(getreq)S
12 R
2087(call)S
2308(at)S
2441(the)S
2634(top,)S
2863(a)S
2962(switch)S
3324(on)S
3489(the)S
3682(command)S
4203(to)S
4342(be)S
4501(executed)S
4976(and)S
5195(a)S
1596 V
12 I
708(putrep)S
12 R
1068(call)S
1279(at)S
1402(the)S
1585(bottom.)S
2022(If)S
2140(the)S
2324(server)S
2657(is)S
(multithreaded)673 2774 A
3483(then)S
3727(resource)S
4174(locking)S
4572(may)S
4816(also)S
5047(take)S
1736 V
(place)256 708 A
997(within)S
1340(the)S
1521(infinite)S
(loop)214 1905 A
2152(as)S
2285(well.)S
2587(It)S
2694(is)S
2807(a)S
(good)240 2893 A
3165(idea)S
3399(to)S
3525(be)S
3671(able)S
3905(to)S
4031(see)S
4218(the)S
4398(matching)S
4880(pairs)S
5148(of)S
1876 V
708(lock/unlock)S
1313(and)S
12 I
1522(getreq)S
12 R
1876(and)S
12 I
2085(putrep)S
12 R
2410(.)S
2505(Unmatched)S
3098(pairs)S
3369(can)S
3572(be)S
3721(difficult)S
4148(to)S
(debug)294 4278 A
4608(so)S
4751(it)S
4855(is)S
4972(better)S
2016 V
708(to)S
832(keep)S
1090(them)S
1362(in)S
1486(the)S
1664(same)S
1943(function)S
2376(wherever)S
2858(possible.)S
2192 V
708(If)S
856(a)S
976(server)S
1339(is)S
1486(expected)S
1982(to)S
2142(have)S
2436(more)S
2751(than)S
3025(one)S
3265(client)S
3601(then)S
3875(it)S
4009(is)S
4156(important)S
4693(to)S
4853(make)S
5181(it)S
2332 V
(multithreaded.)703 708 A
1479(This)S
1732(allows)S
2087(the)S
2273(server)S
2608(to)S
2740(take)S
2980(advantage)S
3508(of)S
3647(any)S
(possibility)504 3858 A
4399(for)S
4578(parallelism)S
5155(in)S
2472 V
708(handling)S
1161(requests.)S
1649(As)S
(soon)227 1815 A
2073(as)S
2205(one)S
2410(thread)S
2745(gets)S
2972(a)S
3058(request,)S
3470(another)S
(will)190 3865 A
4087(be)S
4233(ready)S
4534(to)S
4660(run)S
4853(with)S
5101(the)S
2612 V
708(next)S
947(RPC)S
1205(that)S
1418(arrives.)S
1840(It)S
1946(also)S
2172(means)S
2512(that)S
2725(there)S
2999(is)S
3111(a)S
3196(high)S
(probability)531 3441 A
4003(that)S
4216(the)S
4394(server)S
4721(is)S
4832(listening)S
2752 V
708(to)S
844(its)S
1001(port)S
1238(and)S
1455(so)S
1605(locates)S
1985(of)S
2129(the)S
2320(server)S
(will)190 2660 A
2893(not)S
3090(fail.)S
3356(Each)S
3641(thread)S
3987(in)S
4124(the)S
4315(server)S
4655(that)S
4880(handles)S
2892 V
708(clients)S
(will)190 1063 A
1291(normally)S
1766(run)S
1964(the)S
2149(same)S
2435(code.)S
2760(Of)S
2926(course,)S
3309(there)S
3589(may)S
3834(well)S
4081(be)S
4232(several)S
4613(other)S
4899(threads)S
3032 V
(inaccessible)586 708 A
1324(to)S
1448(clients)S
1795(performing)S
2370(different)S
2819(tasks)S
3091(within)S
3431(the)S
3609(server.)S
3208 V
708(The)S
949(best)S
1197(way)S
1452(to)S
(understand)530 1599 A
2182(the)S
2383(structure)S
2861(of)S
3015(a)S
3122(server)S
3472(is)S
3606(by)S
(looking)368 3779 A
4200(at)S
4342(one.)S
4630(Below)S
5000(is)S
5135(an)S
3348 V
708(example)S
1162(of)S
1307(a)S
1405(server)S
(written)345 1746 A
2135(in)S
2273(C.)S
2457(The)S
2689(example)S
3143(is)S
3268(of)S
3413(a)S
3511(trivial)S
3845(server)S
4185(which)S
4524(when)S
4829(sent)S
5067(two)S
3488 V
(long)214 708 A
956(integers)S
1374(reverses)S
1806(their)S
2063(order)S
2353(in)S
2481(the)S
2663(message)S
3107(and)S
3315(sends)S
3617(them)S
3893(back)S
4155(to)S
4283(the)S
4465(client.)S
4829(This)S
5079(is)S
5195(a)S
3628 V
708(ridiculous)S
1227(thing)S
1510(for)S
1687(a)S
1776(server)S
2108(to)S
2237(do)S
2391(since)S
2674(it)S
2776(is)S
2891(trivially)S
(done)234 3310 A
3578(in)S
3706(the)S
3888(application)S
4460(itself)S
4738(but)S
4926(it)S
5028(does)S
3768 V
708(demonstrate)S
1349(the)S
1546(important)S
2066(aspects)S
2465(of)S
(writing)351 2615 A
3015(servers.)S
3468(Note)S
3754(that)S
3986(some)S
4291(unimportant)S
4932(details)S
3908 V
708(have)S
966(been)S
1224(left)S
1417(out)S
1601(to)S
1725(avoid)S
2023(obscuring)S
2529(the)S
2707(structure.)S
4084 V
708(We)S
912(begin)S
1216(with)S
1468(the)S
1652(include)S
2044(file)S
12 I
2243(this)S
12 Y1
2418(3)S
12 I
2478(server.h)S
12 R
2917(which)S
3249(is)S
3366(particular)S
3868(to)S
3998(this)S
4209(server.)S
4602(It)S
4714(defines)S
5101(the)S
4224 V
708(request)S
1116(buffer)S
1471(size)S
12 C
(REQ)219 1718 A
12 Y1
1937(3)S
12 C
(BUFSZ)365 1997 A
12 R
2362(,)S
2450(the)S
2656(command)S
3190(codes)S
3523(for)S
3723(the)S
3928(commands)S
4508(that)S
4747(the)S
4952(server)S
4364 V
(accepts,)387 708 A
1125(the)S
1303(relevant)S
1724(rights)S
2030(bits)S
2235(for)S
2407(the)S
2585(server)S
2912(and)S
3116(the)S
3295(number)S
3695(of)S
3827(threads)S
4208(that)S
4421(the)S
4600(server)S
(should)321 4928 A
4504 V
708(run.)S
962(They)S
1243(are)S
1425(in)S
1552(an)S
1699(include)S
2088(file)S
2284(since)S
2566(some)S
2854(of)S
2988(this)S
3196(information)S
3800(is)S
3913(also)S
4140(needed)S
4514(by)S
4666(the)S
4846(client)S
5148(or)S
4644 V
708(for)S
880(tuning.)S
4820 V
708(Note)S
984(that)S
1206(it)S
1314(is)S
1435(not)S
(acceptable)512 1629 A
2181(to)S
2315(use)S
2516(just)S
2731(any)S
2945(command)S
3461(codes.)S
3836(You)S
4084(must)S
4360(begin)S
4669(at)S
4798(the)S
4987(value)S
4960 V
12 C
(UNREGISTERED)876 708 A
12 Y1
1584(3)S
12 C
(FIRST)365 1644 A
12 Y1
2009(3)S
12 C
(COM)219 2069 A
12 R
2344(defined)S
2763(in)S
2913(the)S
3117(file)S
12 I
3336(cmdreg.h)S
12 R
3855(as)S
4012(explained)S
4538(in)S
4688(the)S
4892(chapter)S
5100 V
12 I
708(Paradigms)S
(and)180 1268 A
1478(Implementations)S
12 R
2296(.)S
5300 V
10 C
708(/*)S
(the)183 891 A
(include)427 1135 A
(file)244 1623 A
(this)244 1928 A
10 Y1
2172(3)S
10 C
(server.h)488 2222 A
2771(*/)S
5510 V
(#define)427 708 A
(NTHREADS)488 1196 A
2125(5)S
5650 V
(#define)427 708 A
(STACKSZ)427 1196 A
(0x4000)366 2125 A
5860 V
(#define)427 708 A
(SERVER)366 1196 A
10 Y1
1562(3)S
10 C
(CAP)183 1612 A
("/home/this)671 2125 A
10 Y1
2796(3)S
10 C
(server/default")915 2846 A
6000 V
(#define)427 708 A
(REQ)183 1196 A
10 Y1
1379(3)S
10 C
(BUFSZ)305 1429 A
(\(2*sizeof\(long\)\))976 2125 A
6210 V
708(/*)S
(commands)488 891 A
(accepted)488 1440 A
1989(by)S
(the)183 2172 A
(server)366 2416 A
2843(*/)S
6350 V
(#define)427 708 A
1196(DO)S
10 Y1
1318(3)S
10 C
(SWAP)244 1368 A
(UNREGISTERED)732 2125 A
10 Y1
2857(3)S
10 C
(FIRST)305 2907 A
10 Y1
3212(3)S
10 C
(COM)183 3262 A
6490 V
(#define)427 708 A
1196(DO)S
10 Y1
1318(3)S
10 C
(NOTHING)427 1368 A
(\(DO)183 2125 A
10 Y1
2308(3)S
10 C
(SWAP+1\))427 2358 A
6700 V
708(/*)S
(rights)366 891 A
(bits)244 1318 A
1623(in)S
(capabilities)732 1806 A
2599(*/)S
6840 V
(#define)427 708 A
(RGT)183 1196 A
10 Y1
1379(3)S
10 C
(DONOTHING)549 1429 A
(\(\(rights)488 2125 A
10 Y1
2613(3)S
10 C
(bits\)0x01\))610 2663 A
6980 V
(#define)427 708 A
(RGT)183 1196 A
10 Y1
1379(3)S
10 C
(DOSWAP)366 1429 A
(\(\(rights)488 2125 A
10 Y1
2613(3)S
10 C
(bits\)0x02\))610 2663 A
7216 V
12 R
708(Before)S
1082(we)S
(look)214 1268 A
1526(at)S
1658(how)S
1911(the)S
2104(server)S
(loop)214 2446 A
2705(works)S
3046(it)S
3159(is)S
3285(worth)S
(knowing)422 3613 A
4080(how)S
4333(to)S
(invoke)328 4472 A
(multiple)404 4845 A
7700 V
2683(Amoeba)S
3123(5.3)S
5129(11)S
7920 V
EP
%%Page: 12 18
BP
/slant 0 def
/height 0 def
860 V
12 R
708(threads)S
1110(all)S
(running)375 1284 A
1711(the)S
1911(server)S
(loop.)244 2260 A
2586(This)S
2853(is)S
(done)234 2985 A
3270(using)S
3582(the)S
3781(thread)S
(interface)426 4135 A
4612(routines)S
5053(\(see)S
1000 V
12 I
708(thread)S
12 R
1033(\(L\)\).)S
1320(The)S
1538(use)S
1729(of)S
12 I
(priv2pub)435 1860 A
12 R
2335(is)S
2446(also)S
2671(demonstrated.)S
1236 V
10 C
(#include)488 708 A
("amoeba.h")610 1257 A
1376 V
(#include)488 708 A
("stderr.h")610 1257 A
1516 V
(#include)488 708 A
("module/rnd.h")854 1257 A
1656 V
(#include)488 708 A
("module/name.h")915 1257 A
1796 V
(#include)488 708 A
("this)305 1257 A
10 Y1
1562(3)S
10 C
(server.h")549 1612 A
2006 V
(void)244 708 A
(server)366 1013 A
10 Y1
1379(3)S
10 C
(loop\(\);)427 1429 A
2146 V
(capability)610 708 A
(get)183 1379 A
10 Y1
1562(3)S
10 C
(cap;)244 1612 A
2286 V
(port)244 708 A
(check)305 1013 A
10 Y1
1318(3)S
10 C
(field;)366 1368 A
2496 V
(main\(\))366 708 A
2636 V
708({)S
2776 V
(capability)610 952 A
(put)183 1623 A
10 Y1
1806(3)S
10 C
(cap;)244 1856 A
2916 V
(errstat)427 952 A
(err;)244 1440 A
3056 V
(int)183 952 A
1196(i;)S
3266 V
952(/*)S
(initialize)610 1135 A
(the)183 1806 A
(server's)488 2050 A
(get)183 2599 A
(capability)610 2843 A
3514(*/)S
3406 V
(uniqport\(&get)793 952 A
10 Y1
1745(3)S
10 C
(cap.cap)427 1795 A
10 Y1
2222(3)S
10 C
(port\);)366 2272 A
3546 V
(uniqport\(&check)915 952 A
10 Y1
1867(3)S
10 C
(field\);)427 1917 A
3686 V
952(if)S
(\(prv)244 1135 A
10 Y1
1379(3)S
10 C
(encode\(&get)671 1429 A
10 Y1
2100(3)S
10 C
(cap.cap)427 2150 A
10 Y1
2577(3)S
10 C
(priv,)305 2627 A
(\(objnum\))488 2993 A
3542(0,)S
3826 V
(\(rights)427 2120 A
10 Y1
2547(3)S
10 C
(bits\))305 2597 A
(0xFF,)305 2963 A
(&check)366 3329 A
10 Y1
3695(3)S
10 C
(field\))366 3745 A
4172(!=)S
4355(0\))S
4538({)S
3966 V
(printf\("Could)793 1292 A
(not)183 2146 A
(initialize)610 2390 A
(capability\\n"\);)915 3061 A
4106 V
(exit\(1\);)488 1292 A
4246 V
952(})S
4456 V
(priv2pub\(&get)793 952 A
10 Y1
1745(3)S
10 C
(cap.cap)427 1795 A
10 Y1
2222(3)S
10 C
(port,)305 2272 A
(&put)244 2638 A
10 Y1
2882(3)S
10 C
(cap.cap)427 2932 A
10 Y1
3359(3)S
10 C
(port\);)366 3409 A
4596 V
(put)183 952 A
10 Y1
1135(3)S
10 C
(cap.cap)427 1185 A
10 Y1
1612(3)S
10 C
(priv)244 1662 A
1967(=)S
(get)183 2089 A
10 Y1
2272(3)S
10 C
(cap.cap)427 2322 A
10 Y1
2749(3)S
10 C
(priv;)305 2799 A
4736 V
952(/*)S
(publish)427 1135 A
(put)183 1623 A
(capability)610 1867 A
2538(in)S
(directory)549 2721 A
(server)366 3331 A
3758(*/)S
4876 V
952(if)S
(\(\(err)305 1135 A
1501(=)S
(name)244 1623 A
10 Y1
1867(3)S
10 C
(append\(SERVER)793 1917 A
10 Y1
2710(3)S
10 C
(CAP,)244 2760 A
(&put)244 3065 A
10 Y1
3309(3)S
10 C
(cap\)\))305 3359 A
3725(!=)S
(STD)183 3908 A
10 Y1
4091(3)S
10 C
(OK\))183 4141 A
4385({)S
5016 V
(printf\("Cannot)854 1292 A
(append)366 2207 A
2634(to)S
(%s:)183 2817 A
(%s\\n",)366 3061 A
(SERVER)366 3488 A
10 Y1
3854(3)S
10 C
(CAP,)244 3904 A
(err)183 4209 A
10 Y1
4392(3)S
10 C
(why\(err\)\);)610 4442 A
5156 V
(exit\(1\);)488 1292 A
5296 V
952(})S
5506 V
952(/*)S
(start)305 1135 A
(the)183 1501 A
(NTHREADS)488 1745 A
(server)366 2294 A
10 Y1
2660(3)S
10 C
(loop)244 2710 A
(threads)427 3015 A
3503(*/)S
5646 V
(for)183 952 A
1196(\(i)S
1379(=)S
1501(0;)S
1684(i)S
1806(<)S
(NTHREADS-1;)671 1928 A
(i++\))244 2660 A
5786 V
1292(if)S
(\(!thread)488 1475 A
10 Y1
1963(3)S
10 C
(newthread\(server)976 2013 A
10 Y1
2989(3)S
10 C
(loop,)305 3039 A
(STACKSZ,)488 3405 A
(\(char)305 3954 A
4320(*\))S
4503(0,)S
(0\)\))183 4686 A
5926 V
(printf\("Cannot)854 1536 A
(start)305 2451 A
(server)366 2817 A
(thread\\n"\);)671 3244 A
6136 V
(server)366 952 A
10 Y1
1318(3)S
10 C
(loop\(\);)427 1368 A
6276 V
(/*NOTREACHED*/)854 952 A
6416 V
708(})S
6652 V
12 R
708(Note)S
984(that)S
1206(if)S
12 I
1321(main)S
12 R
1613(exits)S
1882(then)S
2130(the)S
2318(process)S
(will)190 2721 A
2951(die.)S
3199(Therefore)S
3718(it)S
3826(is)S
3947(important)S
4458(that)S
12 I
4680(main)S
12 R
4972(either)S
6792 V
708(goes)S
963(into)S
1185(an)S
1333(infinite)S
(loop)214 1718 A
1966(\(in)S
2135(this)S
2344(case)S
2586(by)S
2739(also)S
2967(executing)S
3470(the)S
3651(server)S
(loop\))255 3981 A
4269(or)S
4403(goes)S
4657(to)S
4784(sleep)S
5066(\(for)S
6932 V
708(example,)S
1178(on)S
1328(a)S
1412(mutex\).)S
7108 V
708(In)S
851(the)S
12 I
1041(server)S
12 Y1
1344(3)S
12 I
(loop)214 1404 A
12 R
1670(routine)S
2055(it)S
2165(is)S
2288(assumed)S
2746(that)S
2970(the)S
(initialization)614 3160 A
3816(of)S
3959(global)S
4303(variables)S
4783(has)S
4987(taken)S
7248 V
(place)256 708 A
1008(in)S
1146(the)S
1338(main)S
1624(program)S
2078(which)S
2418(started)S
2786(it.)S
2958(In)S
3103(particular)S
3612(the)S
3803(port)S
4041(listened)S
4461(to)S
4598(by)S
4761(the)S
4952(server)S
7700 V
708(12)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 13 19
BP
/slant 0 def
/height 0 def
860 V
12 R
(should)321 708 A
1068(have)S
1335(been)S
(initialized)486 1602 A
2127(and)S
(published)469 2340 A
(under)275 2848 A
3162(the)S
3349(name)S
3650(defined)S
4052(by)S
12 C
(SERVER)438 4211 A
12 Y1
4649(3)S
12 C
(CAP)219 4709 A
12 R
4967(in)S
5101(the)S
1000 V
708(include)S
1095(file)S
12 I
1289(this)S
12 Y1
1464(3)S
12 I
1524(server.h)S
12 R
1927(.)S
2018(The)S
2237(directory)S
2706(where)S
3034(this)S
(capability)478 3240 A
3749(is)S
3861(to)S
3986(be)S
(found)281 4130 A
4441(must)S
4706(be)S
4850(writable)S
1140 V
708(by)S
858(the)S
1036(person)S
1388(starting)S
1782(the)S
1960(server.)S
2347(Otherwise)S
2877(the)S
3055(new)S
(capability)478 3287 A
(cannot)322 3795 A
4147(be)S
4291(registered.)S
1376 V
10 C
(#include)488 708 A
("amoeba.h")610 1257 A
1516 V
(#include)488 708 A
("cmdreg.h")610 1257 A
1656 V
(#include)488 708 A
("stderr.h")610 1257 A
1796 V
(#include)488 708 A
("this)305 1257 A
10 Y1
1562(3)S
10 C
(server.h")549 1612 A
2006 V
(extern)366 708 A
(capability)610 1135 A
(get)183 1806 A
10 Y1
1989(3)S
10 C
(cap;)244 2039 A
2146 V
(extern)366 708 A
(errstat)427 1135 A
1623(do)S
10 Y1
1745(3)S
10 C
(swap\(\),)427 1795 A
2283(do)S
10 Y1
2405(3)S
10 C
(nothing\(\);)610 2455 A
2356 V
(/*ARGSUSED*/)732 708 A
2496 V
(void)244 708 A
2636 V
(server)366 708 A
10 Y1
1074(3)S
10 C
(loop\(param,)671 1124 A
(size\))305 1856 A
2776 V
(char)244 708 A
1013(*)S
(param;)366 1135 A
2916 V
(int)183 708 A
(size;)305 952 A
3056 V
708({)S
3196 V
(header)366 952 A
(hdr;)244 1379 A
3336 V
(char)244 952 A
(reqbuf[REQ)610 1257 A
10 Y1
1867(3)S
10 C
(BUFSZ],)427 1917 A
(repbuf[REQ)610 2405 A
10 Y1
3015(3)S
10 C
(BUFSZ];)427 3065 A
3476 V
(bufsize)427 952 A
1440(n;)S
3686 V
(for)183 952 A
(\(;;\))244 1196 A
1501({)S
3826 V
(hdr.h)305 1292 A
10 Y1
1597(3)S
10 C
(port)244 1647 A
1952(=)S
(get)183 2074 A
10 Y1
2257(3)S
10 C
(cap.cap)427 2307 A
10 Y1
2734(3)S
10 C
(port;)305 2784 A
3966 V
1292(n)S
1414(=)S
(getreq\(&hdr,)732 1536 A
(reqbuf,)427 2329 A
(REQ)183 2817 A
10 Y1
3000(3)S
10 C
(BUFSZ\);)427 3050 A
4106 V
1292(if)S
(\(ERR)244 1475 A
10 Y1
1719(3)S
10 C
(STATUS\(n\)\))610 1769 A
2440({)S
4246 V
(printf\("getreq)854 1536 A
(failed:)427 2451 A
(%s\\n",)366 2939 A
(err)183 3366 A
10 Y1
3549(3)S
10 C
(why\(\(errstat\))793 3599 A
(n\)\);)244 4453 A
4386 V
(exit\(1\);)488 1536 A
4526 V
1292(})S
4666 V
(switch)366 1292 A
(\(hdr.h)366 1719 A
10 Y1
2085(3)S
10 C
(command\))488 2135 A
2684({)S
4806 V
(case)244 1292 A
1597(DO)S
10 Y1
1719(3)S
10 C
(SWAP:)305 1769 A
4946 V
(hdr.h)305 1536 A
10 Y1
1841(3)S
10 C
(status)366 1891 A
2318(=)S
2440(do)S
10 Y1
2562(3)S
10 C
(swap\(&hdr,)610 2612 A
(reqbuf,)427 3283 A
3771(n,)S
(repbuf\);)488 3954 A
5086 V
(break;)366 1536 A
5261 V
(case)244 1292 A
1597(DO)S
10 Y1
1719(3)S
10 C
(NOTHING:)488 1769 A
5401 V
(hdr.h)305 1536 A
10 Y1
1841(3)S
10 C
(status)366 1891 A
2318(=)S
2440(do)S
10 Y1
2562(3)S
10 C
(nothing\(&hdr,)793 2612 A
(reqbuf,)427 3466 A
3954(n,)S
(repbuf\);)488 4137 A
5541 V
(break;)366 1536 A
5716 V
(default:)488 1292 A
5856 V
(hdr.h)305 1536 A
10 Y1
1841(3)S
10 C
(status)366 1891 A
2318(=)S
(STD)183 2440 A
10 Y1
2623(3)S
10 C
(COMBAD;)427 2673 A
5996 V
(hdr.h)305 1536 A
10 Y1
1841(3)S
10 C
(size)244 1891 A
2196(=)S
2318(0;)S
6136 V
(break;)366 1536 A
6276 V
1292(})S
6416 V
(putrep\(&hdr,)732 1292 A
(repbuf,)427 2085 A
(hdr.h)305 2573 A
10 Y1
2878(3)S
10 C
(size\);)366 2928 A
6556 V
952(})S
6696 V
708(})S
6932 V
12 R
708(The)S
938(routine)S
12 I
1323(err)S
12 Y1
1471(3)S
12 I
1531(why)S
12 R
1777(\(see)S
12 I
2015(error)S
12 R
2280(\(L\)\))S
(produces)436 2520 A
2999(a)S
3096(human)S
3467(readable)S
3921(error)S
4201(message)S
4654(for)S
4839(standard)S
7072 V
708(error)S
975(codes.)S
1340(For)S
(unknown)448 1538 A
2016(error)S
2283(codes)S
2588(it)S
2686(merely)S
3053(returns)S
3420(the)S
3598(string)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(13)S
7920 V
EP
%%Page: 14 20
BP
/slant 0 def
/height 0 def
920 V
11 C
(amoeba)402 1068 A
(error)335 1537 A
11 I
1939(nn)S
1120 V
12 R
708(where)S
12 I
1035(nn)S
12 R
1195(is)S
1306(the)S
1484(error)S
1751(code)S
2009(returned.)S
2503(Note)S
2769(that)S
12 I
2981(getreq)S
12 R
3330(takes)S
3609(a)S
12 I
3693(get-port)S
12 R
4123(as)S
4254(parameter)S
4770(in)S
4894(the)S
12 I
5072(hdr)S
1260 V
12 R
708(variable.)S
1195(However)S
1676(when)S
1974(it)S
2078(returns)S
2451(the)S
12 I
2635(hdr)S
12 R
2848(contains)S
3287(the)S
12 I
3471(put-port)S
12 R
3913(and)S
4123(other)S
4408(fields)S
4714(sent)S
4945(by)S
5101(the)S
1400 V
708(client)S
1008(so)S
1145(it)S
1243(is)S
1354(important)S
1855(to)S
(reinitialize)521 1979 A
12 I
2530(hdr)S
12 R
2737(before)S
(each)222 3077 A
3329(call)S
3535(to)S
12 I
3659(getreq)S
12 R
3978(.)S
1576 V
708(The)S
934(routine)S
12 I
1315(do)S
12 Y1
1435(3)S
12 I
1495(swap)S
12 R
(will)190 1790 A
2019(check)S
2340(the)S
(capability)478 2527 A
3044(in)S
3177(the)S
3364(header,)S
3756(take)S
3997(the)S
12 I
4184(n)S
12 R
4293(bytes)S
4587(of)S
4727(data)S
4968(in)S
5101(the)S
1716 V
708(request)S
1097(buffer)S
1433(and)S
1646(perform)S
2076(the)S
2262(command)S
2776(specified)S
3252(by)S
12 C
3410(DO)S
12 Y1
3556(3)S
12 C
(SWAP)292 3616 A
12 R
3908(.)S
4006(It)S
(fills)190 4119 A
4347(the)S
4533(reply)S
4820(buffer)S
5155(to)S
1856 V
708(be)S
872(returned)S
1326(to)S
1470(the)S
1669(client)S
1990(and)S
2215(returns)S
2603(the)S
2802(status)S
3129(of)S
3281(the)S
3480(command.)S
4067(It)S
4193(returns)S
4581(the)S
4780(status)S
5107(for)S
1996 V
708(clarity.)S
1116(If)S
1235(every)S
1540(entry)S
1825(in)S
1955(the)S
2139(switch)S
2492(sets)S
2710(the)S
2894(return)S
3220(status)S
3532(of)S
3669(the)S
3853(command)S
4365(it)S
4469(is)S
4586(easy)S
4837(to)S
4967(check)S
2136 V
708(that)S
920(all)S
1072(pathways)S
1559(return)S
1879(a)S
1963(status.)S
2329(Other)S
2636(arrangements)S
3319(are)S
3498(also)S
3723(possible.)S
2312 V
708(Now)S
978(we)S
1154(shall)S
1417(consider)S
1861(the)S
2043(structure)S
2502(of)S
2637(the)S
2819(routine)S
12 I
3196(do)S
12 Y1
3316(3)S
12 I
3376(swap)S
12 R
3633(.)S
3727(The)S
3949(structure)S
4408(of)S
4544(the)S
4727(data)S
4964(that)S
5181(it)S
2452 V
708(expects)S
1103(in)S
1229(the)S
1409(request)S
1791(buffer)S
2120(determines)S
2684(what)S
2952(data)S
3186(the)S
3366(client)S
3668(must)S
3935(send)S
4188(to)S
4314(it.)S
4473(Since)S
4773(the)S
4952(server)S
2592 V
(should)321 708 A
1070(also)S
1306(provide)S
1716(the)S
1905(client)S
2216(programs)S
2714(with)S
2971(stub)S
3213(routines)S
3644(to)S
3780(communicate)S
4474(with)S
4732(the)S
4922(server,)S
2732 V
708(the)S
889(routine)S
1265(do)S
12 Y1
1385(3)S
12 R
1445(swap)S
(will)190 1727 A
1950(largely)S
2319(determine)S
2836(the)S
3016(client)S
3318(stubs.)S
3658(However,)S
4165(we)S
4339(first)S
4568(need)S
4828(a)S
4914(way)S
5148(of)S
2872 V
708(validating)S
(capabilities.)583 1227 A
1875(Below)S
2226(is)S
2342(an)S
2491(example)S
2936(routine.)S
3374(Note)S
3645(that)S
3862(it)S
3965(is)S
4082(important)S
4589(to)S
(distinguish)530 4719 A
3012 V
708(between)S
1155(a)S
1252(bad)S
(capability)478 1469 A
1990(and)S
2207(a)S
(capability)478 2304 A
2825(with)S
3084(insufficient)S
3680(rights)S
3999(when)S
4303(generating)S
4856(an)S
5012(error)S
3152 V
708(code.)S
3388 V
10 C
(#include)488 708 A
("amoeba.h")610 1257 A
3528 V
(#include)488 708 A
("cmdreg.h")610 1257 A
3668 V
(#include)488 708 A
("stderr.h")610 1257 A
3808 V
(#include)488 708 A
("module/prv.h")854 1257 A
3983 V
(extern)366 708 A
(port)244 1135 A
(check)305 1440 A
10 Y1
1745(3)S
10 C
(field;)366 1795 A
4158 V
(errstat)427 708 A
4298 V
(check)305 708 A
10 Y1
1013(3)S
10 C
(cap\(priv,)549 1063 A
(required)488 1673 A
10 Y1
2161(3)S
10 C
(rights\))427 2211 A
4438 V
(private)427 708 A
1196(*)S
(priv;)305 1318 A
4578 V
(rights)366 708 A
10 Y1
1074(3)S
10 C
(bits)244 1124 A
(required)488 1429 A
10 Y1
1917(3)S
10 C
(rights;)427 1967 A
4718 V
708({)S
4858 V
(rights)366 952 A
10 Y1
1318(3)S
10 C
(bits)244 1368 A
(rights;)427 1673 A
5033 V
952(if)S
(\(prv)244 1135 A
10 Y1
1379(3)S
10 C
(number\(priv\))732 1429 A
2222(!=)S
2405(0)S
2527(||)S
5173 V
(prv)183 1876 A
10 Y1
2059(3)S
10 C
(decode\(priv,)732 2109 A
(&rights,)488 2902 A
(&check)366 3451 A
10 Y1
3817(3)S
10 C
(field\))366 3867 A
4294(!=)S
4477(0\))S
5313 V
(return)366 1292 A
(STD)183 1719 A
10 Y1
1902(3)S
10 C
(CAPBAD;)427 1952 A
5488 V
952(if)S
(\(\(rights)488 1135 A
1684(&)S
(required)488 1806 A
10 Y1
2294(3)S
10 C
(rights\))427 2344 A
2832(!=)S
(required)488 3015 A
10 Y1
3503(3)S
10 C
(rights\))427 3553 A
5628 V
(return)366 1292 A
(STD)183 1719 A
10 Y1
1902(3)S
10 C
(DENIED;)427 1952 A
5803 V
(return)366 952 A
(STD)183 1379 A
10 Y1
1562(3)S
10 C
(OK;)183 1612 A
5943 V
708(})S
6284 V
12 R
708(In)S
850(this)S
1066(example)S
1517(the)S
1706(server)S
2044(has)S
2246(only)S
2501(one)S
(capability)478 2716 A
3236(of)S
3379(interest,)S
3809(namely)S
4207(the)S
(capability)478 4397 A
4917(for)S
5101(the)S
6424 V
708(server)S
1063(itself.)S
1425(There)S
1766(are)S
1973(no)S
2151(object)S
(capabilities.)583 2505 A
3176(Note)S
3469(well)S
3736(that)S
3975(the)S
(capability)478 4180 A
4715(is)S
4853(checked)S
6564 V
708(against)S
1102(the)S
1301(original)S
12 I
(check)276 1729 A
12 Y1
2005(3)S
12 I
2065(field)S
12 R
2342(and)S
2567(not)S
2772(against)S
3166(the)S
12 I
3365(get)S
12 Y1
3513(3)S
12 I
3573(cap)S
12 R
3757(.)S
3868(If)S
(you)180 4002 A
4234(have)S
4514(more)S
4815(than)S
5075(one)S
6704 V
708(object)S
1059(then)S
1322(the)S
1525(original)S
1957(check)S
2293(field)S
2570(for)S
(each)222 2766 A
3042(object)S
(should)321 3392 A
3767(be)S
3935(stored)S
4285(with)S
4555(the)S
4757(per-object)S
6844 V
708(information)S
1321(and)S
1536(not)S
1731(the)S
12 I
1920(get)S
12 R
2120(or)S
12 I
2263(put)S
12 R
(capability.)508 2469 A
3049(The)S
12 I
(check)276 3279 A
12 Y1
3555(3)S
12 I
3615(field)S
12 R
3883(can)S
4093(be)S
4249(used)S
4512(to)S
4648(generate)S
5101(the)S
6984 V
(capability,)508 708 A
1250(but)S
1438(the)S
(converse)430 1620 A
2084(may)S
2326(not)S
2513(be)S
2660(true.)S
2942(The)S
12 I
3163(prv)S
12 R
3334(\(L\))S
3523(routines)S
(should)321 3976 A
4330(always)S
4700(be)S
4847(used)S
5101(the)S
7124 V
708(to)S
832(check)S
(capabilities)553 1144 A
1727(to)S
1851(protect)S
2218(programs)S
2705(from)S
2971(future)S
3291(changes)S
3710(to)S
3834(data)S
4066(structures.)S
7700 V
708(14)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 15 21
BP
/slant 0 def
/height 0 def
920 V
10 C
(#include)488 708 A
("amoeba.h")610 1257 A
1060 V
(#include)488 708 A
("cmdreg.h")610 1257 A
1200 V
(#include)488 708 A
("stderr.h")610 1257 A
1340 V
(#include)488 708 A
("module/buffers.h")1098 1257 A
1480 V
(#include)488 708 A
("this)305 1257 A
10 Y1
1562(3)S
10 C
(server.h")549 1612 A
1690 V
(errstat)427 708 A
(check)305 1196 A
10 Y1
1501(3)S
10 C
(cap\(\);)366 1551 A
1900 V
(errstat)427 708 A
2040 V
708(do)S
10 Y1
830(3)S
10 C
(swap\(hdr,)549 880 A
(req,)244 1490 A
(reqsz,)366 1795 A
(rep\))244 2222 A
2180 V
(header)366 708 A
1135(*)S
(hdr;)244 1257 A
2320 V
(char)244 708 A
1013(*)S
(req;)244 1135 A
2460 V
(bufsize)427 708 A
(reqsz;)366 1196 A
2600 V
(char)244 708 A
1013(*)S
(rep;)244 1135 A
2740 V
708({)S
2880 V
(char)244 952 A
1257(*)S
1379(p;)S
3020 V
(char)244 952 A
1257(*)S
1379(q;)S
3160 V
(long)244 952 A
(val1,)305 1257 A
(val2;)305 1623 A
3300 V
(errstat)427 952 A
(err;)244 1440 A
3510 V
(hdr->h)366 952 A
10 Y1
1318(3)S
10 C
(size)244 1368 A
1673(=)S
1795(0;)S
1978(/*)S
2161(in)S
(case)244 2344 A
2649(of)S
(error)305 2832 A
3198(*/)S
3650 V
952(if)S
(\(\(err)305 1135 A
1501(=)S
(check)305 1623 A
10 Y1
1928(3)S
10 C
(cap\(&hdr->h)671 1978 A
10 Y1
2649(3)S
10 C
(priv,)305 2699 A
(RGT)183 3065 A
10 Y1
3248(3)S
10 C
(DOSWAP\)\))488 3298 A
3847(!=)S
(STD)183 4030 A
10 Y1
4213(3)S
10 C
(OK\))183 4263 A
3790 V
(return)366 1292 A
(err;)244 1719 A
4000 V
952(q)S
1074(=)S
(req;)244 1196 A
4140 V
952(p)S
1074(=)S
(rep;)244 1196 A
4350 V
952(/*)S
(get)183 1135 A
(the)183 1379 A
(two)183 1623 A
(longs)305 1867 A
(from)244 2233 A
(the)183 2538 A
(request)427 2782 A
(buffer)366 3270 A
3697(*/)S
4490 V
952(q)S
1074(=)S
(buf)183 1196 A
10 Y1
1379(3)S
10 C
(get)183 1429 A
10 Y1
1612(3)S
10 C
(long\(q,)427 1662 A
(req)183 2150 A
2394(+)S
(reqsz,)366 2516 A
(&val1\);)427 2943 A
4630 V
952(q)S
1074(=)S
(buf)183 1196 A
10 Y1
1379(3)S
10 C
(get)183 1429 A
10 Y1
1612(3)S
10 C
(long\(q,)427 1662 A
(req)183 2150 A
2394(+)S
(reqsz,)366 2516 A
(&val2\);)427 2943 A
4770 V
952(/*)S
1135(if)S
1318(q)S
1440(is)S
1623(0)S
(then)244 1745 A
(the)183 2050 A
(request)427 2294 A
(buffer)366 2782 A
(did)183 3209 A
(not)183 3453 A
(contain)427 3697 A
(two)183 4185 A
(longs!)366 4429 A
4856(*/)S
4910 V
952(if)S
1135(\(q)S
1318(==)S
1501(0\))S
5050 V
(return)366 1292 A
(STD)183 1719 A
10 Y1
1902(3)S
10 C
(ARGBAD;)427 1952 A
5260 V
952(/*)S
(now)183 1135 A
(put)183 1379 A
(them)244 1623 A
(into)244 1928 A
(the)183 2233 A
(reply)305 2477 A
(buffer)366 2843 A
3270(in)S
(reverse)427 3453 A
(order)305 3941 A
4307(*/)S
5400 V
952(p)S
1074(=)S
(buf)183 1196 A
10 Y1
1379(3)S
10 C
(put)183 1429 A
10 Y1
1612(3)S
10 C
(long\(p,)427 1662 A
(rep)183 2150 A
2394(+)S
(REQ)183 2516 A
10 Y1
2699(3)S
10 C
(BUFSZ,)366 2749 A
(val2\);)366 3176 A
5540 V
952(p)S
1074(=)S
(buf)183 1196 A
10 Y1
1379(3)S
10 C
(put)183 1429 A
10 Y1
1612(3)S
10 C
(long\(p,)427 1662 A
(rep)183 2150 A
2394(+)S
(REQ)183 2516 A
10 Y1
2699(3)S
10 C
(BUFSZ,)366 2749 A
(val1\);)366 3176 A
5680 V
952(/*)S
1135(if)S
1318(p)S
1440(is)S
1623(0)S
(then)244 1745 A
(the)183 2050 A
(buffer)366 2294 A
2721(of)S
(the)183 2904 A
(server)366 3148 A
3575(is)S
(too)183 3758 A
(small)305 4002 A
4368(*/)S
5820 V
952(if)S
1135(\(p)S
1318(==)S
1501(0\))S
5960 V
(return)366 1292 A
(STD)183 1719 A
10 Y1
1902(3)S
10 C
(SYSERR;)427 1952 A
6170 V
(hdr->h)366 952 A
10 Y1
1318(3)S
10 C
(size)244 1368 A
1673(=)S
1795(p)S
1917(-)S
(rep;)244 2039 A
6310 V
(return)366 952 A
(STD)183 1379 A
10 Y1
1562(3)S
10 C
(OK;)183 1612 A
6450 V
708(})S
6686 V
12 R
708(The)S
941(routine)S
12 I
1329(do)S
12 Y1
1449(3)S
12 I
1509(swap)S
12 R
1811(uses)S
2064(the)S
12 I
2257(buf)S
12 Y1
2411(3)S
12 I
2471(get)S
12 R
2674(and)S
12 I
2894(buf)S
12 Y1
3048(3)S
12 I
3108(put)S
12 R
3318(routines)S
3754(\(see)S
12 I
3996(buffer)S
12 R
4295(\(L\)\))S
4538(to)S
(receive)351 4678 A
5075(and)S
6826 V
708(send)S
971(data.)S
1274(These)S
1604(ensure)S
1961(that)S
2184(no)S
2345(byte-order)S
2891(problems)S
3382(occur)S
3692(between)S
4137(client)S
4448(and)S
4663(server.)S
5061(The)S
6966 V
708(stub)S
949(routines)S
(should)321 1379 A
1740(also)S
1975(use)S
2176(the)S
(corresponding)691 2364 A
3095(routines.)S
3585(The)S
12 I
3813(buf)S
12 Y1
3967(3)S
12 I
4027(get)S
12 R
4225(and)S
12 I
4440(buf)S
12 Y1
4594(3)S
12 I
4654(put)S
12 R
4859(routines)S
7106 V
708(are)S
892(very)S
1142(pleasant)S
1574(to)S
1703(use)S
1899(since)S
2183(it)S
2286(is)S
2402(not)S
(necessary)471 2591 A
3097(to)S
3226(check)S
3542(for)S
3718(errors)S
(until)222 4036 A
4292(the)S
4474(last)S
4677(operation)S
5168(is)S
7246 V
708(completed.)S
1327(They)S
1631(check)S
1969(for)S
2167(buffer)S
2520(overflow)S
3014(and)S
3244(thus)S
3501(prevent)S
(overrunning)590 3920 A
4566(array)S
(bounds.)377 4872 A
7700 V
2683(Amoeba)S
3123(5.3)S
5129(15)S
7920 V
EP
%%Page: 16 22
BP
/slant 0 def
/height 0 def
860 V
12 R
708(They)S
999(return)S
1332(the)S
1523(next)S
1774(free)S
(position)389 2007 A
2439(in)S
2576(the)S
2767(buffer)S
3107(if)S
3225(they)S
(succeed)383 3476 A
3902(and)S
4119(the)S
4309(null)S
4539(pointer)S
4924(if)S
5041(they)S
1000 V
708(fail.)S
965(If)S
1081(given)S
1383(a)S
1471(null)S
1693(pointer)S
2070(as)S
2205(a)S
2293(buffer)S
2624(argument)S
3115(then)S
3357(they)S
3599(immediately)S
4239(return)S
4564(a)S
4653(null)S
4876(pointer.)S
1140 V
708(Thus)S
983(if)S
1092(any)S
1300(of)S
1435(the)S
1617(calls)S
1874(returns)S
2245(a)S
2332(null)S
2553(pointer)S
2929(then)S
3170(all)S
3325(subsequent)S
3894(calls)S
(will)190 4150 A
4373(also)S
4601(do)S
4754(so)S
4894(and)S
5101(the)S
1280 V
708(error)S
975(test)S
1174(need)S
1432(only)S
1676(be)S
(done)234 1820 A
2084(once)S
2342(at)S
2460(the)S
2638(end)S
2842(of)S
2973(a)S
3057(series)S
3364(of)S
12 I
3495(get)S
12 R
3683(or)S
12 I
3814(put)S
12 R
4008(calls.)S
1456 V
708(In)S
843(this)S
1052(example)S
1496(the)S
1678(server)S
2009(expects)S
2406(two)S
(longs)261 2622 A
2917(in)S
3045(the)S
3228(request)S
3613(buffer.)S
4005(It)S
4115(swaps)S
4446(them)S
4723(and)S
4932(inserts)S
1596 V
708(the)S
908(result)S
1229(into)S
1468(the)S
1667(reply)S
1967(buffer)S
2315(using)S
12 I
2627(buf)S
12 Y1
2781(3)S
12 I
2841(put)S
12 Y1
2995(3)S
12 I
(long)214 3055 A
12 R
3330(and)S
3555(returns)S
3943(the)S
4142(total)S
4409(size)S
4649(of)S
4801(the)S
5000(reply)S
1736 V
708(buffer)S
1035(to)S
1159(the)S
12 I
1337(server)S
12 Y1
1640(3)S
12 I
(loop)214 1700 A
12 R
1954(which)S
2280(sends)S
2578(the)S
2756(reply.)S
7700 V
708(16)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 17 23
BP
/slant 0 def
/height 0 def
860 V
12 B
708(3.2.)S
978(Clients)S
1036 V
12 R
708(It)S
824(is)S
946(now)S
1195(time)S
1452(to)S
1587(consider)S
2038(what)S
2315(is)S
2437(needed)S
2820(on)S
2981(the)S
3170(client)S
3481(side.)S
3777(It)S
3893(is)S
4016(possible)S
4454(to)S
4590(write)S
4883(a)S
4979(client)S
1176 V
708(program)S
1173(which)S
(knows)315 1524 A
1894(all)S
(about)268 2071 A
2394(the)S
2597(data)S
2854(formats)S
3280(that)S
3517(the)S
3719(server)S
4070(expects.)S
4547(However)S
5046(it)S
5168(is)S
1316 V
708(almost)S
1083(certainly)S
1560(simpler)S
1976(to)S
2122(provide)S
2543(the)S
2743(client)S
3065(with)S
3333(single)S
3674(routine)S
4069(to)S
4215(call)S
4444(which)S
4793(hides)S
5101(the)S
1456 V
708(details)S
1064(of)S
1203(marshaling)S
1779(the)S
1965(data)S
2205(and)S
2417(sending)S
2830(it)S
2936(to)S
3068(the)S
3254(server.)S
3649(One)S
3889(reason)S
4243(for)S
4423(doing)S
4735(this)S
4948(is)S
5067(that)S
1596 V
708(the)S
887(implementation)S
1678(of)S
1810(the)S
1989(RPC)S
2247(is)S
2359(then)S
2598(hidden)S
2957(from)S
3224(the)S
3403(client)S
3704(program)S
4145(and)S
4350(any)S
4555(of)S
4687(the)S
4867(planned)S
1736 V
708(changes)S
1148(to)S
1293(that)S
(interface)426 1526 A
2003(need)S
2282(only)S
2547(be)S
2711(modified)S
3198(in)S
3342(a)S
3446(few)S
3679(stub)S
3930(routines)S
4370(and)S
4594(the)S
4792(programs)S
1876 V
(should)321 708 A
1059(then)S
1297(continue)S
1743(to)S
1867(function)S
2300(after)S
2554(recompilation.)S
3317(If)S
3429(AIL)S
3662(is)S
3774(used)S
4026(then)S
4265(recompilation)S
4969(of)S
5101(the)S
2016 V
708(sources)S
(should)321 1101 A
1452(be)S
1596(sufficient.)S
2192 V
708(A)S
826(stub)S
1057(routine)S
1430(for)S
12 C
1602(DO)S
12 Y1
1748(3)S
12 C
(SWAP)292 1808 A
12 R
2130(might)S
(look)214 2442 A
2686(like)S
2898(the)S
3076(following.)S
2392 V
10 C
(#include)488 708 A
("amoeba.h")610 1257 A
2532 V
(#include)488 708 A
("cmdreg.h")610 1257 A
2672 V
(#include)488 708 A
("stderr.h")610 1257 A
2812 V
(#include)488 708 A
("module/buffers.h")1098 1257 A
2952 V
(#include)488 708 A
("this)305 1257 A
10 Y1
1562(3)S
10 C
(server.h")549 1612 A
3162 V
(errstat)427 708 A
3302 V
(swap)244 708 A
10 Y1
952(3)S
10 C
(longs\(svr,)610 1002 A
(val1,)305 1673 A
(val2\))305 2039 A
3442 V
(capability)610 708 A
1379(*)S
(svr;)244 1501 A
3582 V
(long)244 708 A
1013(*)S
(val1;)305 1135 A
3722 V
(long)244 708 A
1013(*)S
(val2;)305 1135 A
3862 V
708({)S
4002 V
(header)366 952 A
(hdr;)244 1379 A
4142 V
(bufsize)427 952 A
1440(t;)S
4282 V
(char)244 952 A
(buf[REQ)427 1257 A
10 Y1
1684(3)S
10 C
(BUFSZ];)427 1734 A
4422 V
(char)244 952 A
1257(*)S
1379(p;)S
4632 V
(hdr.h)305 952 A
10 Y1
1257(3)S
10 C
(port)244 1307 A
1612(=)S
(svr->cap)488 1734 A
10 Y1
2222(3)S
10 C
(port;)305 2272 A
4772 V
(hdr.h)305 952 A
10 Y1
1257(3)S
10 C
(priv)244 1307 A
1612(=)S
(svr->cap)488 1734 A
10 Y1
2222(3)S
10 C
(priv;)305 2272 A
4912 V
(hdr.h)305 952 A
10 Y1
1257(3)S
10 C
(command)427 1307 A
1795(=)S
1917(DO)S
10 Y1
2039(3)S
10 C
(SWAP;)305 2089 A
5052 V
952(p)S
1074(=)S
(buf)183 1196 A
10 Y1
1379(3)S
10 C
(put)183 1429 A
10 Y1
1612(3)S
10 C
(long\(buf,)549 1662 A
(buf)183 2272 A
2516(+)S
(REQ)183 2638 A
10 Y1
2821(3)S
10 C
(BUFSZ,)366 2871 A
(*val1\);)427 3298 A
5192 V
952(p)S
1074(=)S
(buf)183 1196 A
10 Y1
1379(3)S
10 C
(put)183 1429 A
10 Y1
1612(3)S
10 C
(long\(p,)427 1662 A
(buf)183 2150 A
2394(+)S
(REQ)183 2516 A
10 Y1
2699(3)S
10 C
(BUFSZ,)366 2749 A
(*val2\);)427 3176 A
5332 V
952(if)S
1135(\(p)S
1318(==)S
1501(0\))S
1684(/*)S
(REQ)183 1867 A
10 Y1
2050(3)S
10 C
(BUFSZ)305 2100 A
2466(is)S
(too)183 2649 A
(small!)366 2893 A
3320(*/)S
5472 V
(return)366 1292 A
(STD)183 1719 A
10 Y1
1902(3)S
10 C
(SYSERR;)427 1952 A
5612 V
952(t)S
1074(=)S
(trans\(&hdr,)671 1196 A
(buf,)244 1928 A
(REQ)183 2233 A
10 Y1
2416(3)S
10 C
(BUFSZ,)366 2466 A
(&hdr,)305 2893 A
(buf,)244 3259 A
(REQ)183 3564 A
10 Y1
3747(3)S
10 C
(BUFSZ\);)427 3797 A
5752 V
952(if)S
(\(ERR)244 1135 A
10 Y1
1379(3)S
10 C
(STATUS\(t\)\))610 1429 A
5892 V
(return)366 1292 A
(ERR)183 1719 A
10 Y1
1902(3)S
10 C
(CONVERT\(t\);)671 1952 A
6032 V
952(if)S
(\(ERR)244 1135 A
10 Y1
1379(3)S
10 C
(STATUS\(hdr.h)732 1429 A
10 Y1
2161(3)S
10 C
(status\)\))488 2211 A
6172 V
(return)366 1292 A
(ERR)183 1719 A
10 Y1
1902(3)S
10 C
(CONVERT\(hdr.h)793 1952 A
10 Y1
2745(3)S
10 C
(status\);)488 2795 A
6312 V
952(p)S
1074(=)S
(buf)183 1196 A
10 Y1
1379(3)S
10 C
(get)183 1429 A
10 Y1
1612(3)S
10 C
(long\(buf,)549 1662 A
(buf)183 2272 A
2516(+)S
2638(t,)S
(val1\);)366 2821 A
6452 V
952(p)S
1074(=)S
(buf)183 1196 A
10 Y1
1379(3)S
10 C
(get)183 1429 A
10 Y1
1612(3)S
10 C
(long\(p,)427 1662 A
(buf)183 2150 A
2394(+)S
2516(t,)S
(val2\);)366 2699 A
6592 V
952(if)S
1135(\(p)S
1318(==)S
1501(0\))S
1684(/*)S
(server)366 1867 A
(returned)488 2294 A
(garbage)427 2843 A
3331(*/)S
6732 V
(return)366 1292 A
(STD)183 1719 A
10 Y1
1902(3)S
10 C
(SYSERR;)427 1952 A
6872 V
(return)366 952 A
(STD)183 1379 A
10 Y1
1562(3)S
10 C
(OK;)183 1612 A
7012 V
708(})S
7248 V
12 R
708(In)S
839(general)S
1226(it)S
1324(is)S
1435(important)S
1936(that)S
2148(stub)S
2379(routines)S
2800(return)S
3121(an)S
3266(error)S
3534(status.)S
3901(This)S
4147(makes)S
4487(it)S
4586(much)S
4885(simpler)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(17)S
7920 V
EP
%%Page: 18 24
BP
/slant 0 def
/height 0 def
860 V
12 R
708(for)S
885(the)S
1068(client)S
1373(to)S
1502(deduce)S
1879(the)S
2062(cause)S
2366(of)S
2502(errors.)S
2881(Returning)S
3398(a)S
3486(null)S
3708(pointer)S
4085(or)S
4220(something)S
4757(similar)S
5129(on)S
1000 V
708(failure)S
1057(complicates)S
1667(things)S
1993(and)S
2199(a)S
2285(single)S
12 I
2606(errno)S
12 R
2884(-like)S
3139(variable)S
3562(is)S
3675(complicated)S
4299(and)S
4505(cumbersome)S
5155(in)S
1140 V
708(a)S
(multithreaded)673 792 A
1495(process.)S
1316 V
708(Note)S
981(once)S
1247(again)S
1547(the)S
1733(use)S
1932(of)S
2071(the)S
12 I
2257(buf)S
12 Y1
2411(3)S
12 I
2471(put)S
12 R
2673(and)S
12 I
2885(buf)S
12 Y1
3039(3)S
12 I
3099(get)S
12 R
3295(routines)S
3723(for)S
3903(marshaling)S
4479(data.)S
4779(There)S
5100(are)S
1456 V
708(routines)S
1130(for)S
1304(various)S
1692(data)S
1926(types.)S
2272(It)S
2378(is)S
2490(important)S
2992(that)S
3205(the)S
3384(server)S
3712(and)S
3917(the)S
4096(stub)S
4328(marshal)S
4743(the)S
4922(data)S
5155(in)S
1596 V
708(the)S
886(same)S
1165(way)S
1397(or)S
1528(the)S
1706(results)S
2053(may)S
2291(be)S
2435(unfortunate.)S
1772 V
708(In)S
844(this)S
1054(example)S
1499(we)S
1676(used)S
1933(the)S
2117(same)S
2402(buffer)S
2735(to)S
2865(send)S
3122(data)S
3360(as)S
3497(to)S
(receive)351 3627 A
4014(it.)S
4178(Similarly)S
4666(we)S
4844(used)S
5101(the)S
1912 V
708(same)S
12 I
990(header)S
12 R
1368(struct)S
1671(to)S
1798(send)S
2052(and)S
(receive)351 2259 A
2643(information.)S
3308(This)S
3556(is)S
3670(perfectly)S
(acceptable)512 4134 A
4678(practice)S
5095(but)S
2052 V
708(the)S
920(following)S
(should)321 1455 A
1840(be)S
2018(noted.)S
2410(The)S
2662(fields)S
12 I
2996(h)S
12 Y1
3056(3)S
12 I
(command)470 3116 A
12 R
3660(and)S
12 I
3898(h)S
12 Y1
3958(3)S
12 I
4018(status)S
12 R
(occupy)348 4374 A
4787(the)S
5000(same)S
2192 V
(position)389 708 A
1133(in)S
1263(the)S
1447(header)S
1806(struct.)S
2172(\(The)S
2437(field)S
2696(name)S
12 I
2994(h)S
12 Y1
3054(3)S
12 I
3114(status)S
12 R
3442(is)S
3559(actually)S
3979(a)S
4069(#define.\))S
4569(Therefore)S
5084(if)S
5195(a)S
2332 V
708(stub)S
968(has)S
1188(a)S
(loop)214 1301 A
1574(of)S
1734(RPCs)S
2067(rather)S
2410(than)S
2677(a)S
2790(single)S
3138(RPC)S
3424(then)S
3691(the)S
12 I
3898(h)S
12 Y1
3958(3)S
12 I
(command)470 4018 A
12 R
4557(field)S
4840(must)S
5135(be)S
2472 V
(reinitialized)581 708 A
(each)222 1319 A
1571(time)S
(around)335 1817 A
2182(the)S
(loop.)244 2360 A
2648 V
708(There)S
1034(are)S
1226(some)S
1524(fields)S
1837(in)S
1974(the)S
12 I
2165(header)S
12 R
2553(struct)S
2866(which)S
3206(are)S
3399(intended)S
3859(for)S
4045(small)S
(amounts)409 4352 A
4805(of)S
4950(out)S
5148(of)S
2788 V
708(band)S
990(data.)S
1300(These)S
1637(could)S
1953(have)S
2229(been)S
2505(used)S
2774(to)S
2916(send)S
3185(and)S
(receive)351 3407 A
3806(small)S
(pieces)303 4117 A
4468(of)S
4617(data.)S
4926(In)S
5074(this)S
2928 V
708(example)S
1158(we)S
1340(have)S
1608(two)S
(longs)261 1830 A
2131(and)S
2346(they)S
2595(do)S
2756(not)S
2951(both)S
3206(fit)S
3356(into)S
3585(the)S
3774(header.)S
4198(All)S
4395(byte)S
4644(swapping)S
5148(of)S
3068 V
708(header)S
1062(fields)S
1363(is)S
(done)234 1475 A
1739(automatically)S
2429(by)S
2579(the)S
2757(kernel)S
3090(and)S
3294(if)S
3399(only)S
3643(one)S
3847(or)S
3978(two)S
4190(small)S
4483(integers)S
4897(need)S
5155(to)S
3208 V
708(be)S
852(sent)S
1077(then)S
1315(it)S
1413(is)S
1524(better)S
1831(to)S
1955(use)S
2146(the)S
2324(header)S
2678(and)S
2883(give)S
3122(the)S
3301(parameter)S
12 C
(NILBUF)438 3818 A
12 R
4287(and)S
4492(buffer)S
4820(size)S
5040(zero)S
3348 V
708(\(0\))S
880(since)S
1159(this)S
(will)190 1364 A
1584(lead)S
1816(to)S
1940(greater)S
2308(efficiency)S
2824(in)S
2948(the)S
3126(marshaling)S
3694(of)S
3825(data.)S
3524 V
708(The)S
929(macros)S
12 C
(ERR)219 1312 A
12 Y1
1531(3)S
12 C
(STATUS)438 1591 A
12 R
2062(and)S
12 C
(ERR)219 2269 A
12 Y1
2488(3)S
12 C
(CONVERT)511 2548 A
12 R
3092(are)S
3274(also)S
3502(important.)S
4066(In)S
4200(the)S
4381(current)S
4758(version)S
5148(of)S
3664 V
708(Amoeba)S
1151(the)S
1332(error)S
1602(status)S
1911(returned)S
2348(by)S
12 I
2501(trans)S
12 R
2792(or)S
2926(in)S
12 I
3053(hdr.h)S
12 Y1
3310(3)S
12 I
3370(status)S
12 R
3695(is)S
3809(an)S
3956(unsigned)S
4424(16-bit)S
4745(integer.)S
5174(It)S
3804 V
708(is)S
822(intended)S
1271(that)S
1486(this)S
1694(be)S
1841(changed)S
2276(to)S
2403(a)S
2490(signed)S
2838(32-bit)S
3160(integer)S
3531(in)S
3659(a)S
3747(future)S
4071(release.)S
4503(However,)S
5012(error)S
3944 V
708(codes)S
1014(are)S
1194(signed.)S
1600(To)S
1765(avoid)S
2064(massive)S
2485(changes)S
2905(later,)S
3183(stubs)S
3462(return)S
3782(a)S
3866(signed)S
4211(32-bit)S
4530(integer)S
4897(and)S
5101(the)S
4084 V
708(grizzly)S
1091(details)S
1454(of)S
1601(the)S
1795(current)S
2186(implementation)S
2993(are)S
3189(thus)S
3437(hidden)S
3812(from)S
4095(the)S
4290(clients)S
4654(and)S
4875(servers.)S
4224 V
708(However)S
1222(it)S
1358(is)S
(necessary)471 1507 A
2046(to)S
2208(make)S
(conversions)577 2538 A
3183(that)S
3433(deal)S
3703(correctly)S
4203(with)S
4487(sign)S
4756(extension.)S
4364 V
708(Therefore)S
1229(the)S
1419(macro)S
12 C
(ERR)219 1764 A
12 Y1
1983(3)S
12 C
(STATUS)438 2043 A
12 R
2523(is)S
2646(provided)S
3117(to)S
3253(determine)S
3780(whether)S
4213(what)S
4491(was)S
4722(returned)S
5168(is)S
4504 V
708(indeed)S
1083(an)S
1250(error)S
1540(and)S
12 C
(ERR)219 1767 A
12 Y1
1986(3)S
12 C
(CONVERT)511 2046 A
12 R
2610(is)S
2744(provided)S
3226(to)S
3373(correctly)S
(convert)363 3858 A
4273(the)S
4473(unsigned)S
4960(16-bit)S
4644 V
708(integer)S
1075(to)S
1199(a)S
1283(signed)S
1628(32-bit)S
(quantity.)426 1947 A
4820 V
708(Now)S
990(let)S
1158(us)S
1311(consider)S
1767(what)S
2049(the)S
2244(main)S
2533(program)S
2990(of)S
3138(the)S
3333(client)S
(looks)261 3650 A
3958(like.)S
4247(One)S
4496(of)S
4644(the)S
4839(things)S
5181(it)S
4960 V
708(needs)S
1014(to)S
1139(do)S
1290(is)S
1402(to)S
1527(get)S
1706(the)S
(capability)478 1885 A
2394(for)S
2567(the)S
2746(server)S
3074(it)S
3172(needs)S
3477(to)S
3601(talk)S
3813(to.)S
3997(In)S
4128(general)S
4515(this)S
4720(is)S
4831(not)S
(done)234 5015 A
5100 V
708(by)S
858(the)S
1036(stub)S
1267(routine)S
(because)383 1640 A
2053(there)S
2326(may)S
2564(be)S
2708(more)S
2987(than)S
3225(one)S
3429(instance)S
3856(of)S
3987(a)S
4071(particular)S
4568(server)S
4896(and)S
5101(the)S
5240 V
708(main)S
987(program)S
(should)321 1434 A
1792(be)S
1943(able)S
2182(to)S
(choose)335 2313 A
2685(the)S
2870(server.)S
3264(It)S
3376(gets)S
3608(the)S
3793(server's)S
(capability)478 4215 A
4729(by)S
4885(doing)S
5195(a)S
5380 V
12 I
708(name)S
12 Y1
970(3)S
12 I
1030(lookup)S
12 R
1407(of)S
1547(the)S
1734(name)S
2035(that)S
2256(the)S
2444(server)S
(should)321 2781 A
3142(have)S
3410(used)S
3671(to)S
(publish)355 3805 A
4200(its)S
(capability.)508 4355 A
4933(In)S
5074(this)S
5520 V
708(case)S
947(it)S
1045(is)S
1156(the)S
1334(name)S
1626(defined)S
2019(by)S
12 C
(SERVER)438 2169 A
12 Y1
2607(3)S
12 C
(CAP)219 2667 A
12 R
2916(in)S
12 I
3040(this)S
12 Y1
3215(3)S
12 I
3275(server.h)S
12 R
3678(.)S
5696 V
708(Having)S
(converted)477 1106 A
1625(the)S
1815(command)S
2333(line)S
2557(arguments)S
3103(to)S
3240(integers,)S
3697(the)S
3888(next)S
4139(step)S
4377(is)S
4501(to)S
4638(call)S
4857(the)S
5048(stub)S
5836 V
708(routine.)S
1153(This)S
1410(is)S
1533(a)S
1629(normal)S
2014(procedure)S
2539(call,)S
2786(but)S
2981(the)S
3170(stub)S
3412(then)S
3661(takes)S
3951(the)S
4140(server's)S
12 I
4566(put)S
12 R
(capability)478 4771 A
5976 V
708(and)S
921(the)S
1108(two)S
1329(integers)S
1752(and)S
1965(puts)S
2205(them)S
2486(into)S
2713(a)S
2806(message)S
3255(which)S
3590(it)S
3697(then)S
3944(sends)S
4251(out.)S
4504(The)S
4731(message)S
5181(it)S
6116 V
708(gets)S
944(back)S
1213(has)S
1415(the)S
1604(two)S
1827(numbers)S
2284(swapped)S
(around)335 2747 A
3122(and)S
3336(it)S
3444(sets)S
3666(them)S
3948(into)S
4176(the)S
4364(original)S
4781(variables,)S
6256 V
708(but)S
892(now)S
1130(in)S
1254(the)S
1432(reverse)S
1813(order.)S
6432 V
708(Thus)S
979(the)S
1157(client)S
1457(might)S
1769(be)S
1913(implemented)S
2575(as)S
2706(follows:)S
7700 V
708(18)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 19 25
BP
/slant 0 def
/height 0 def
920 V
10 C
(#include)488 708 A
("amoeba.h")610 1257 A
1060 V
(#include)488 708 A
("stderr.h")610 1257 A
1200 V
(#include)488 708 A
("stdlib.h")610 1257 A
1340 V
(#include)488 708 A
("this)305 1257 A
10 Y1
1562(3)S
10 C
(server.h")549 1612 A
1480 V
(#include)488 708 A
("module/name.h")915 1257 A
1690 V
(main\(argc,)610 708 A
(argv\))305 1379 A
1830 V
(int)183 708 A
(argc;)305 952 A
1970 V
(char)244 708 A
1013(*)S
(argv[];)427 1135 A
2110 V
708({)S
2250 V
(errstat)427 952 A
(err;)244 1440 A
2390 V
(capability)610 952 A
(svr;)244 1623 A
2530 V
(long)244 952 A
(num1,)305 1257 A
(num2;)305 1623 A
2740 V
952(if)S
(\(argc)305 1135 A
1501(!=)S
1684(3\))S
1867({)S
2880 V
(printf\("Usage:)854 1292 A
2207(%s)S
(num1)244 2390 A
(num2\\n",)488 2695 A
(argv[0]\);)549 3244 A
3020 V
(exit\(1\);)488 1292 A
3160 V
952(})S
3370 V
952(/*)S
(get)183 1135 A
(the)183 1379 A
(capability)610 1623 A
(for)183 2294 A
(the)183 2538 A
(server)366 2782 A
3209(*/)S
3510 V
952(if)S
(\(\(err)305 1135 A
1501(=)S
(name)244 1623 A
10 Y1
1867(3)S
10 C
(lookup\(SERVER)793 1917 A
10 Y1
2710(3)S
10 C
(CAP,)244 2760 A
(&svr\)\))366 3065 A
3492(!=)S
(STD)183 3675 A
10 Y1
3858(3)S
10 C
(OK\))183 3908 A
4152({)S
3650 V
(printf\("%s:)671 1292 A
(lookup)366 2024 A
2451(of)S
2634(%s)S
(failed:)427 2817 A
(%s\\n",)366 3305 A
3790 V
(argv[0],)488 1876 A
(SERVER)366 2425 A
10 Y1
2791(3)S
10 C
(CAP,)244 2841 A
(err)183 3146 A
10 Y1
3329(3)S
10 C
(why\(err\)\);)610 3379 A
3930 V
(exit\(2\);)488 1292 A
4070 V
952(})S
4280 V
(num1)244 952 A
1257(=)S
(strtol\(argv[1],)915 1379 A
(\(char)305 2355 A
(**\))183 2721 A
2965(0,)S
(10\);)244 3148 A
4420 V
(num2)244 952 A
1257(=)S
(strtol\(argv[2],)915 1379 A
(\(char)305 2355 A
(**\))183 2721 A
2965(0,)S
(10\);)244 3148 A
4630 V
952(/*)S
(send)244 1135 A
(the)183 1440 A
(command)427 1684 A
2172(to)S
(the)183 2355 A
(server)366 2599 A
3026(*/)S
4770 V
952(if)S
(\(\(err)305 1135 A
1501(=)S
(swap)244 1623 A
10 Y1
1867(3)S
10 C
(longs\(&svr,)671 1917 A
(&num1,)366 2649 A
(&num2\)\))427 3076 A
3564(!=)S
(STD)183 3747 A
10 Y1
3930(3)S
10 C
(OK\))183 3980 A
4224({)S
4910 V
(printf\("%s:)671 1292 A
(swap)244 2024 A
10 Y1
2268(3)S
10 C
(longs)305 2318 A
(failed:)427 2684 A
(%s\\n",)366 3172 A
(argv[0],)488 3599 A
(err)183 4148 A
10 Y1
4331(3)S
10 C
(why\(err\)\);)610 4381 A
5050 V
(exit\(3\);)488 1292 A
5190 V
952(})S
5400 V
(printf\("new)671 952 A
(number)366 1684 A
(order)305 2111 A
2477(is)S
2660(%d)S
(%d\\n",)366 2843 A
(num1,)305 3270 A
(num2\);)366 3636 A
5540 V
(exit\(0\);)488 952 A
5680 V
708(})S
7700 V
12 R
2683(Amoeba)S
3123(5.3)S
5129(19)S
7920 V
EP
%%Page: 20 26
BP
/slant 0 def
/height 0 def
860 V
12 B
708(3.3.)S
978(Using)S
1304(AIL)S
1036 V
12 R
(Although)456 708 A
1200(it)S
1304(is)S
1421(possible)S
1853(to)S
1983(write)S
2270(the)S
2454(server)S
(loop)214 2787 A
3037(and)S
3247(client)S
3554(stubs)S
3839(by)S
3996(hand)S
4267(it)S
4372(is)S
4490(also)S
4722(possible)S
5155(to)S
1176 V
708(generate)S
1171(the)S
1371(stubs)S
1671(and)S
1897(server)S
(loop)214 2246 A
2512(using)S
2825(the)S
3025(Amoeba)S
(Interface)433 3487 A
(Language)476 3971 A
4498(\(AIL\).)S
4894(All)S
5101(the)S
1316 V
708(details)S
1059(of)S
1194(marshaling)S
1766(and)S
1974(unmarshaling)S
2666(data)S
2902(are)S
3085(handled)S
3501(by)S
3655(AIL.)S
3952(The)S
4174(precise)S
4553(details)S
4905(of)S
5041(how)S
1456 V
708(to)S
837(use)S
1033(AIL)S
1271(are)S
1455(described)S
1954(in)S
12 I
2083(ail)S
12 R
2221(\(U\))S
2426(and)S
2635(the)S
2818(chapter)S
12 I
3209(Programming)S
3921(Tools)S
12 R
4233(in)S
4361(this)S
4570(volume)S
4966(of)S
5101(the)S
1596 V
708(manual.)S
1772 V
708(An)S
925(important)S
1465(thing)S
1782(to)S
1945(watch)S
2304(out)S
2527(for)S
2738(is)S
2888(that)S
3139(AIL-generated)S
3923(servers)S
4337(or)S
4508(clients)S
4895(do)S
12 I
5085(not)S
1912 V
12 R
(necessarily)539 708 A
(cooperate)471 1293 A
1809(with)S
(hand-written)620 2070 A
2735(servers)S
3124(or)S
3270(clients.)S
3692(The)S
3925(reason)S
4286(for)S
4473(this)S
4693(is)S
4819(that)S
5046(AIL)S
2052 V
708(may)S
967(decide)S
1334(to)S
1479(marshal)S
1914(some)S
2220(of)S
2372(the)S
2571(parameters)S
3155(of)S
3307(an)S
3472(operation)S
3980(into)S
4219(the)S
4418(header.)S
4852(Another)S
2192 V
708(optimization)S
1363(it)S
1474(currently)S
1955(performs)S
2436(is)S
2560(the)S
2751(marshaling)S
3332(of)S
3476(parameters)S
4052(to)S
4189(and)S
4405(from)S
4683(request)S
5075(and)S
2332 V
708(reply)S
989(buffers.)S
1425(Rather)S
1780(than)S
2020(marshaling)S
2590(the)S
2771(parameters)S
3337(in)S
3464(a)S
3551(byte-order)S
4089(independent)S
4712(way)S
4947(\(using)S
2472 V
708(the)S
12 I
926(buf)S
12 Y1
1080(3)S
12 I
1140(put)S
12 R
1374(routines,)S
1864(described)S
2397(earlier\))S
2819(it)S
2956(sends)S
3293(them)S
3604(over)S
3888(in)S
4051(the)S
4268(original)S
4714(byte-order.)S
2612 V
(Additionally,)642 708 A
1394(one)S
1612(of)S
1758(the)S
1951(header)S
2319(fields)S
2634(is)S
(initialized)486 2760 A
3291(to)S
3430(allow)S
3745(the)S
3938(server)S
4280(to)S
4419(see)S
4619(whether)S
5055(it)S
5168(is)S
2752 V
(necessary)471 708 A
1209(to)S
1333(byte-swap)S
1861(parameters)S
2424(contained)S
2924(in)S
3048(the)S
3226(buffer.)S
2928 V
708(In)S
846(the)S
1031(next)S
1276(two)S
1495(sections)S
1922(we)S
(will)190 2101 A
2328(reimplement)S
2978(the)S
3163(server)S
3497(described)S
3998(in)S
4129(the)S
(preceding)477 4314 A
4829(sections.)S
3068 V
708(Only)S
980(this)S
1185(time)S
1431(we)S
(will)190 1603 A
1823(show)S
2108(how)S
2346(much)S
2644(of)S
2775(the)S
(labour)309 2953 A
3292(required)S
3726(can)S
3924(be)S
4068(transferred)S
4625(to)S
4749(AIL.)S
3488 V
12 B
708(3.3.1.)S
1068(Writing)S
1508(a)S
1598(Server)S
1971(with)S
2231(AIL)S
3664 V
12 R
708(In)S
850(this)S
1066(section)S
1450(we)S
(will)190 1633 A
1864(show)S
2160(how)S
2409(the)S
2598(example)S
3049(swap)S
3339(server)S
3677(can)S
3886(be)S
4041(implemented)S
4714(using)S
5016(AIL.)S
3804 V
708(The)S
952(most)S
1243(important)S
1769(part)S
2013(of)S
2169(the)S
2372(AIL)S
2630(specification)S
3305(is)S
3441(the)S
(interface)426 3644 A
4125(itself.)S
4484(An)S
(interface)426 4687 A
5168(is)S
3944 V
708(defined)S
1117(by)S
1283(means)S
1638(of)S
12 I
1785(class)S
12 R
(definitions.)548 2083 A
2707(For)S
(each)222 2921 A
3189(command)S
3711(included)S
4173(in)S
4313(the)S
4507(class,)S
4819(the)S
5013(class)S
4084 V
(definition)471 708 A
1210(specifies)S
1666(the)S
12 I
1845(prototype)S
12 R
2349(of)S
2481(the)S
(corresponding)691 2660 A
3382(client)S
3683(stub.)S
3975(For)S
4174(example,)S
4645(the)S
(interface)426 4823 A
4224 V
708(for)S
880(the)S
1058(integer)S
1425(swap)S
1704(server)S
2031(could)S
2329(be)S
2473(specified)S
2941(as)S
3072(follows:)S
4460 V
10 C
708(/*)S
(class)305 891 A
(file)244 1257 A
(swap.cls)488 1562 A
2111(*/)S
4670 V
(#include)488 708 A
("cmdreg.h")610 1257 A
4810 V
(#include)488 708 A
("this)305 1257 A
10 Y1
1562(3)S
10 C
(server.h")549 1612 A
5020 V
(class)305 708 A
(swaplong)488 1074 A
([DO)183 1623 A
10 Y1
1806(3)S
10 C
(SWAP)244 1856 A
2161(..)S
2344(DO)S
10 Y1
2466(3)S
10 C
(NOTHING])488 2516 A
3065({)S
5230 V
1292(do)S
10 Y1
1414(3)S
10 C
(swap)244 1464 A
([DO)183 1769 A
10 Y1
1952(3)S
10 C
(SWAP])305 2002 A
(\(*,)183 2368 A
5370 V
1876(in)S
(out)183 2059 A
(long)244 2303 A
(first,)366 2608 A
5510 V
1876(in)S
(out)183 2059 A
(long)244 2303 A
(second)366 2608 A
5650 V
1292(\);)S
5860 V
1292(do)S
10 Y1
1414(3)S
10 C
(nothing)427 1464 A
([DO)183 1952 A
10 Y1
2135(3)S
10 C
(NOTHING])488 2185 A
(\(*,)183 2734 A
6000 V
1876(in)S
(out)183 2059 A
(long)244 2303 A
(first,)366 2608 A
6140 V
1876(in)S
(out)183 2059 A
(long)244 2303 A
(second)366 2608 A
6280 V
1292(\);)S
6490 V
708(};)S
6726 V
12 R
708(It)S
816(defines)S
1199(the)S
1380(class)S
12 I
(swaplong)461 1649 A
12 R
2153(which)S
2482(consists)S
2898(of)S
3032(commands)S
3588(in)S
3715(the)S
3896(range)S
4199(from)S
12 C
4469(DO)S
12 Y1
4615(3)S
12 C
(SWAP)292 4675 A
12 R
5001(up)S
5155(to)S
6866 V
12 C
708(DO)S
12 Y1
854(3)S
12 C
(NOTHING)511 914 A
12 R
1425(.)S
1524(The)S
1751(client)S
2060(stub)S
2300(for)S
2481(the)S
2668(command)S
12 C
3183(DO)S
12 Y1
3329(3)S
12 C
(SWAP)292 3389 A
12 R
3720(has)S
3920(three)S
4202(parameters:)S
4808(the)S
4995(``*'',)S
7006 V
708(representing)S
1344(the)S
(capability)478 1529 A
2044(for)S
2223(the)S
2408(object)S
2741(on)S
2898(which)S
3231(the)S
3416(operation)S
3911(is)S
4030(performed,)S
4603(and)S
4815(two)S
(long)214 5035 A
7146 V
708(parameters)S
1286(that)S
1513(are)S
1707(passed)S
2074(by)S
2239(reference)S
2737(\(the)S
12 I
2971(in)S
3110(out)S
12 R
3318(clauses)S
3712(are)S
(responsible)551 3905 A
4500(for)S
4686(that\).)S
5013(Note)S
7286 V
708(that)S
(although)422 935 A
1402(the)S
1595(server)S
1937(in)S
2076(this)S
2296(case)S
2550(is)S
2676(not)S
2875(really)S
3197(object-based,)S
3885(the)S
4079(``*'')S
4349(is)S
(still)183 4476 A
4705(required)S
5155(in)S
7700 V
708(20)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 21 27
BP
/slant 0 def
/height 0 def
860 V
12 R
708(order)S
994(to)S
1118(address)S
1511(the)S
1689(server.)S
1036 V
708(The)S
928(class)S
1196(presented)S
1692(here)S
1933(is)S
2046(very)S
2293(simple;)S
2682(in)S
2808(general)S
3197(it)S
3297(may)S
3537(also)S
3764(define)S
4099(class-specific)S
4787(types)S
5075(and)S
1176 V
708(constants.)S
1257(Moreover,)S
1802(a)S
1894(class)S
2168(can)S
2374(inherit)S
2729(procedures,)S
3328(types)S
3621(and)S
3833(constants)S
4321(from)S
4595(other)S
4882(classes,)S
1316 V
708(thus)S
972(making)S
1397(it)S
1528(very)S
1806(easy)S
2085(to)S
2243(write)S
2558(a)S
2676(server)S
(supporting)516 3037 A
3617(a)S
3735(subset)S
4101(of)S
4266(the)S
4478(standard)S
4952(server)S
1456 V
708(commands)S
1272(\(see)S
12 I
1509(std)S
12 R
1660(\(L\)\).)S
1958(In)S
2100(fact)S
2323(all)S
2485(servers)S
(should)321 2869 A
3230(do)S
3390(this.)S
3665(This)S
3920(is)S
4041(outside)S
4430(the)S
4618(scope)S
4933(of)S
5074(this)S
1596 V
(introduction)591 708 A
1329(however.)S
1836(For)S
2034(details)S
2381(see)S
2566(the)S
2744(AIL)S
2977(manuals.)S
1772 V
708(To)S
873(make)S
1166(use)S
1358(of)S
1490(the)S
1669(AIL)S
1903(class)S
(definition,)501 2170 A
2702(the)S
2881(command)S
12 I
3388(ail)S
12 R
3526(\(U\))S
3727(must)S
3993(be)S
4138(told)S
4357(what)S
4625(to)S
4751(do)S
4903(with)S
5151(it.)S
1912 V
708(To)S
877(generate)S
1323(the)S
1506(server)S
(main-loop)497 1838 A
2370(which)S
2700(was)S
2923(hand-coded)S
3520(earlier,)S
3896(the)S
4078(following)S
4583(file)S
(should)321 4780 A
5135(be)S
2052 V
708(given)S
1006(as)S
1137(argument)S
1624(to)S
12 I
1748(ail)S
12 R
1886(:)S
2288 V
10 C
708(/*)S
(file)244 891 A
(swapsvr.gen)671 1196 A
1928(*/)S
2498 V
(#include)488 708 A
("swap.cls")610 1257 A
2708 V
(generate)488 708 A
(swaplong)488 1257 A
1806({)S
2848 V
(client)366 952 A
10 Y1
1318(3)S
10 C
(interface;)610 1368 A
2988 V
(server;)427 952 A
2416(/*)S
(Generate)488 2599 A
(server)366 3148 A
(main)244 3575 A
(loop)244 3880 A
4185(*/)S
3128 V
708(};)S
3364 V
12 R
708(The)S
932(C)S
1048(source)S
1400(for)S
1578(the)S
1762(server)S
(main-loop)497 2095 A
(will)190 2628 A
2854(be)S
(produced)449 3004 A
3489(in)S
3619(the)S
3803(file)S
12 I
4002(ml)S
12 Y1
4124(3)S
12 I
(swaplong.c)545 4184 A
12 R
4739(.)S
4835(This)S
5086(file)S
3504 V
(will)190 708 A
928(include)S
1314(a)S
1398(header)S
1751(file)S
12 I
(swaplong.h)551 1944 A
12 R
2535(which)S
2861(is)S
2972(generated)S
3473(as)S
3604(well.)S
3680 V
708(The)S
(main-loop)497 932 A
1465(generated)S
1972(is)S
2089(called)S
12 I
2415(ml)S
12 Y1
2537(3)S
12 I
(swaplong)461 2597 A
12 R
3068(,)S
3135(and)S
3346(it)S
3451(has)S
3649(a)S
3740(single)S
4066(parameter)S
(supplying)475 4589 A
5101(the)S
3820 V
12 I
708(get-port)S
12 R
1151(the)S
1342(server)S
(should)321 1682 A
2046(be)S
2203(listening)S
2663(to.)S
2860(The)S
3091(code)S
3362(for)S
3547(the)S
3738(function)S
12 I
4184(server)S
12 Y1
4487(3)S
12 I
(loop)214 4547 A
12 R
(suddenly)435 4814 A
3960 V
708(becomes)S
1161(very)S
1406(simple:)S
4196 V
10 C
(#include)488 708 A
("amoeba.h")610 1257 A
4336 V
(#include)488 708 A
("cmdreg.h")610 1257 A
4476 V
(#include)488 708 A
("stderr.h")610 1257 A
4616 V
(#include)488 708 A
("this)305 1257 A
10 Y1
1562(3)S
10 C
(server.h")549 1612 A
4826 V
(errstat)427 708 A
1196(ml)S
10 Y1
1318(3)S
10 C
(swaplong\(\);)671 1368 A
4966 V
(capability)610 708 A
(get)183 1379 A
10 Y1
1562(3)S
10 C
(cap;)244 1612 A
5176 V
(void)244 708 A
5316 V
(server)366 708 A
10 Y1
1074(3)S
10 C
(loop\(\))366 1124 A
5456 V
708({)S
5596 V
(errstat)427 952 A
(err;)244 1440 A
5806 V
(err)183 952 A
1196(=)S
1318(ml)S
10 Y1
1440(3)S
10 C
(swaplong\(&get)793 1490 A
10 Y1
2283(3)S
10 C
(cap.cap)427 2333 A
10 Y1
2760(3)S
10 C
(port\);)366 2810 A
3359(/*)S
(should)366 3542 A
(never)305 3969 A
(return)366 4335 A
4762(*/)S
5946 V
(printf\("getreq)854 952 A
(failed:)427 1867 A
(%s\\n",)366 2355 A
(err)183 2782 A
10 Y1
2965(3)S
10 C
(why\(err\)\);)610 3015 A
6086 V
(exit\(1\);)488 952 A
6226 V
708(})S
6462 V
12 R
708(As)S
(soon)227 879 A
1142(as)S
1279(a)S
1369(request)S
1755(has)S
1952(been)S
(accepted)424 2216 A
2676(by)S
12 I
2832(ml)S
12 Y1
2954(3)S
12 I
(swaplong)461 3014 A
12 R
3521(it)S
(will)190 3625 A
3852(unmarshal)S
4393(the)S
4578(parameters)S
5148(of)S
6602 V
708(the)S
899(command)S
1418(and)S
1635(call)S
1854(a)S
(user-supplied)652 1951 A
2646(function)S
3092(taking)S
3436(care)S
3681(of)S
3824(the)S
4014(actual)S
4346(implementation)S
5148(of)S
6742 V
708(the)S
920(command.)S
1520(After)S
1842(that,)S
2118(it)S
(will)190 2250 A
2504(marshal)S
2952(the)S
3164(result)S
3498(values)S
3871(\(as)S
4078(specified)S
4581(by)S
4766(the)S
4979(client)S
6882 V
(interface\),)497 708 A
1235(return)S
1555(the)S
1733(reply)S
2012(to)S
2136(the)S
2314(client,)S
2644(and)S
2848(wait)S
3088(for)S
3260(a)S
3344(new)S
3576(request.)S
7058 V
708(The)S
992(implementation)S
1848(functions)S
2395(for)S
2634(our)S
2892(swap)S
3238(server)S
3632(are)S
3878(called)S
12 I
4265(impl)S
12 Y1
4481(3)S
12 I
4541(do)S
12 Y1
4661(3)S
12 I
4721(swap)S
12 R
5075(and)S
7198 V
12 I
708(impl)S
12 Y1
924(3)S
12 I
984(do)S
12 Y1
1104(3)S
12 I
1164(nothing)S
12 R
1542(.)S
1632(The)S
1850(code)S
2108(for)S
12 I
2280(impl)S
12 Y1
2496(3)S
12 I
2556(do)S
12 Y1
2676(3)S
12 I
2736(swap)S
12 R
3023(now)S
3261(becomes:)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(21)S
7920 V
EP
%%Page: 22 28
BP
/slant 0 def
/height 0 def
920 V
10 C
(errstat)427 708 A
1060 V
(impl)244 708 A
10 Y1
952(3)S
10 C
1002(do)S
10 Y1
1124(3)S
10 C
(swap\(hdr,)549 1174 A
(first,)366 1784 A
(second\))427 2211 A
1200 V
(header)366 708 A
(*hdr;)305 1135 A
1340 V
(long)244 708 A
(*first,)427 1135 A
(*second;)488 1623 A
1480 V
708({)S
1620 V
(errstat)427 952 A
(check)305 1440 A
10 Y1
1745(3)S
10 C
(cap\(\);)366 1795 A
1760 V
(long)244 952 A
(temp;)305 1257 A
1900 V
(errstat)427 952 A
(err;)244 1440 A
2110 V
952(if)S
(\(\(err)305 1135 A
1501(=)S
(check)305 1623 A
10 Y1
1928(3)S
10 C
(cap\(&hdr->h)671 1978 A
10 Y1
2649(3)S
10 C
(priv,)305 2699 A
(RGT)183 3065 A
10 Y1
3248(3)S
10 C
(DOSWAP\)\))488 3298 A
3847(!=)S
(STD)183 4030 A
10 Y1
4213(3)S
10 C
(OK\))183 4263 A
2250 V
(return)366 1196 A
(err;)244 1623 A
2460 V
(temp)244 952 A
1257(=)S
(*second;)488 1379 A
2600 V
(*second)427 952 A
1440(=)S
(*first;)427 1562 A
2740 V
(*first)366 952 A
1379(=)S
(temp;)305 1501 A
2950 V
(return)366 952 A
(STD)183 1379 A
10 Y1
1562(3)S
10 C
(OK;)183 1612 A
3090 V
708(})S
3326 V
12 R
708(Observe)S
1149(that,)S
1398(compared)S
1912(with)S
2165(function)S
12 I
2605(do)S
12 Y1
2725(3)S
12 I
2785(swap)S
12 R
3079(in)S
3210(the)S
3395(hand-coded)S
3995(example,)S
4472(the)S
4657(code)S
4922(is)S
5041(now)S
3466 V
708(almost)S
1084(trivial,)S
(because)383 1458 A
1894(the)S
2095(programmer)S
2747(is)S
2881(not)S
3088(bothered)S
3564(with)S
3832(the)S
4032(marshaling)S
4622(of)S
(input)248 4775 A
5075(and)S
3606 V
708(output)S
1046(data.)S
3782 V
708(Combined)S
1266(with)S
1538(a)S
1648(completely)S
(analogous)489 2242 A
(definition)471 2787 A
3314(of)S
12 I
3472(impl)S
12 Y1
3688(3)S
12 I
3748(do)S
12 Y1
3868(3)S
12 I
3928(nothing)S
12 R
4363(and)S
4594(the)S
4799(functions)S
3922 V
12 I
708(main)S
12 R
1003(and)S
12 I
(check)276 1220 A
12 Y1
1496(3)S
12 I
1556(cap)S
12 R
1783(taken)S
2088(from)S
2367(the)S
2558(original)S
2978(implementation,)S
3811(our)S
4015(AIL-based)S
4577(server)S
4917(is)S
5041(now)S
4062 V
708(complete.)S
4482 V
12 B
708(3.3.2.)S
1068(Writing)S
1508(a)S
1598(Client)S
1946(with)S
2206(AIL)S
4658 V
12 R
708(Now)S
994(we)S
1186(turn)S
1431(our)S
1642(attention)S
2116(to)S
2260(the)S
2458(client)S
2778(side.)S
3083(We)S
3301(have)S
3579(two)S
3811(options)S
4216(here.)S
4535(When)S
4874(a)S
4979(client)S
4798 V
708(program)S
1161(only)S
1418(consists)S
1844(of)S
1988(a)S
2085(command-line)S
(interface)426 2827 A
3296(to)S
3433(a)S
3530(command)S
(supported)476 4049 A
4568(by)S
4731(the)S
4922(server,)S
4938 V
708(AIL)S
957(is)S
1084(able)S
1332(to)S
1472(generate)S
1929(the)S
2123(program)S
2579(all)S
2747(by)S
2914(itself.)S
3265(The)S
3500(other)S
(possibility)504 3796 A
4347(is)S
4475(to)S
4616(let)S
4785(AIL)S
5035(only)S
5078 V
708(generate)S
1154(the)S
1337(client)S
1642(stubs,)S
(writing)351 1955 A
2341(the)S
2524(rest)S
2735(of)S
2871(the)S
3054(program)S
3499(by)S
3654(hand.)S
(Although)456 3983 A
4474(the)S
4656(latter)S
4941(option)S
5218 V
708(is)S
819(a)S
903(bit)S
1061(more)S
1340(work,)S
1649(it)S
1747(is)S
1858(also)S
2083(more)S
2362(flexible.)S
5394 V
708(We)S
(will)190 906 A
1126(first)S
1353(show)S
1638(an)S
1782(AIL)S
2015(specification)S
2665(generating)S
3206(the)S
3384(entire)S
3691(client)S
3991(program)S
12 I
4431(do)S
12 Y1
4551(3)S
12 I
4611(swap)S
12 R
4868(:)S
5630 V
10 C
(#include)488 708 A
("swap.cls")610 1257 A
5840 V
(generate)488 708 A
(swaplong)488 1257 A
1806({)S
5980 V
(client)366 952 A
10 Y1
1318(3)S
10 C
(interface;)610 1368 A
6120 V
(client)366 952 A
10 Y1
1318(3)S
10 C
(stubs\(do)488 1368 A
10 Y1
1856(3)S
10 C
(swap\);)366 1906 A
6260 V
(command\(do)610 952 A
10 Y1
1562(3)S
10 C
(swap\);)366 1612 A
6400 V
708(};)S
6636 V
12 R
708(The)S
935(clause)S
12 I
1277(client)S
12 Y1
1547(3)S
12 I
1607(interface)S
12 R
2087(causes)S
2442(a)S
2535(header)S
2897(file)S
12 I
(swaplong.h)551 3099 A
12 R
3699(containing)S
4249(C)S
4369(prototypes)S
4919(for)S
5101(the)S
6776 V
708(client)S
1016(stubs)S
1302(to)S
1434(be)S
1586(generated.)S
2155(The)S
2381(client)S
2689(stub)S
2928(for)S
3108(the)S
3294(operation)S
12 C
3789(DO)S
12 Y1
3935(3)S
12 C
(SWAP)292 3995 A
12 R
4325(is)S
4443(requested)S
4944(by)S
5101(the)S
6916 V
12 I
708(client)S
12 Y1
978(3)S
12 I
1038(stubs)S
12 R
1347(clause.)S
1761(It)S
(will)190 1887 A
2128(be)S
(produced)449 2293 A
2794(in)S
2940(the)S
3140(file)S
12 I
3355(do)S
12 Y1
3475(3)S
12 I
3535(swap.c)S
12 R
3876(.)S
3988(The)S
4228(rest)S
4456(of)S
4609(the)S
4809(program,)S
7056 V
708(which)S
1067(takes)S
1379(care)S
1645(of)S
1809(parsing)S
2227(the)S
2437(arguments,)S
(calling)330 3033 A
3425(the)S
3635(stub)S
3898(and)S
4134(printing)S
4579(the)S
4789(results)S
5168(is)S
7196 V
708(requested)S
1202(by)S
1352(the)S
12 I
(command)470 1530 A
12 R
2040(clause.)S
2433(It)S
(will)190 2538 A
2758(be)S
(produced)449 2902 A
3381(in)S
3505(the)S
3683(file)S
12 I
3876(cmd)S
12 Y1
4078(3)S
12 I
4138(do)S
12 Y1
4258(3)S
12 I
4318(swap.c)S
12 R
4659(.)S
7700 V
708(22)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 23 29
BP
/slant 0 def
/height 0 def
860 V
12 R
708(It)S
821(must)S
1094(be)S
1246(noted)S
1552(that)S
1772(the)S
1958(command)S
(produced)449 2472 A
2959(is)S
3078(a)S
3170(direct)S
3485(reflection)S
3989(of)S
4129(the)S
12 I
4316(do)S
12 Y1
4436(3)S
12 I
4496(swap)S
12 R
4792(operation)S
1000 V
708(as)S
846(defined)S
1246(in)S
1377(the)S
1562(class)S
(definition.)501 1835 A
2403(More)S
2702(specifically,)S
3329(it)S
3434(requires)S
3862(the)S
4047(user)S
4286(to)S
4417(specify)S
4803(the)S
4987(name)S
1140 V
708(of)S
844(the)S
1028(swap)S
1313(server)S
(capability)478 1646 A
2160(as)S
2297(the)S
2481(first)S
2714(argument.)S
3267(The)S
(resulting)424 3491 A
3951(program)S
4397(has)S
4594(the)S
4778(following)S
1280 V
(interface:)460 708 A
1480 V
11 C
1068($)S
(swap)268 1202 A
(/home/this)670 1537 A
11 Y1
2207(3)S
11 C
(server/default)938 2262 A
3267(0)S
3401(1)S
1620 V
(first=1)469 1068 A
1760 V
(second=0)536 1068 A
1996 V
12 R
708(The)S
951(other)S
(possibility)504 1255 A
1814(is)S
1950(to)S
2099(use)S
2316(AIL)S
2575(only)S
2845(to)S
2995(generate)S
3462(the)S
3666(client)S
3992(stub)S
12 I
4249(do)S
12 Y1
4369(3)S
12 I
4429(swap)S
12 R
4686(.)S
4802(The)S
5046(AIL)S
2136 V
708(specification)S
1358(becomes:)S
2372 V
10 C
(#include)488 708 A
("swap.cls")610 1257 A
2582 V
(generate)488 708 A
(swaplong)488 1257 A
1806({)S
2722 V
(client)366 952 A
10 Y1
1318(3)S
10 C
(interface;)610 1368 A
2862 V
(client)366 952 A
10 Y1
1318(3)S
10 C
(stubs\(do)488 1368 A
10 Y1
1856(3)S
10 C
(swap\);)366 1906 A
3002 V
708(};)S
3238 V
12 R
708(The)S
932(main)S
1210(program)S
1656(is)S
1773(then)S
2017(the)S
2201(same)S
2486(as)S
2623(in)S
2753(the)S
(hand-written)620 2937 A
3593(case,)S
3868(except)S
4220(that)S
4438(the)S
4623(client)S
4930(stub)S
5168(is)S
3378 V
708(called)S
12 I
1028(do)S
12 Y1
1148(3)S
12 I
1208(swap)S
12 R
1495(rather)S
1809(than)S
12 I
2047(swap)S
12 Y1
2294(3)S
12 I
(longs)261 2354 A
12 R
2625(.)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(23)S
7920 V
EP
%%Page: 24 30
BP
/slant 0 def
/height 0 def
940 V
14 B
2269(4)S
2444(Amoeba)S
2980(Under)S
3399(Unix)S
1176 V
12 R
708(The)S
954(FLIP)S
1261(network)S
1716(protocol)S
2177(can)S
2403(be)S
2575(installed)S
3044(in)S
3196(many)S
(popular)369 3522 A
3949(versions)S
4410(of)S
11 R
4567(UNIX)S
12 R
4902(so)S
5067(that)S
1316 V
708(processes)S
(running)375 1217 A
(under)275 1637 A
11 R
1955(UNIX)S
12 R
2277(can)S
2489(communicate)S
3185(using)S
3490(the)S
3682(Amoeba)S
4136(RPC.)S
4467(Many)S
4792(programs)S
1456 V
708(that)S
943(run)S
(under)275 1157 A
1485(Amoeba)S
(will)190 1948 A
2192(also)S
2441(allow)S
(access)310 2765 A
3129(to)S
3277(Amoeba)S
3741(from)S
11 R
4029(UNIX)S
12 R
4306(.)S
4420(However)S
4919(not)S
5127(all)S
1596 V
708(programs)S
1202(that)S
1421(run)S
(under)275 1619 A
1931(native)S
2264(Amoeba)S
(will)190 2711 A
2937(work)S
(under)275 3222 A
11 R
3531(UNIX)S
12 R
3844(since)S
11 R
4127(UNIX)S
12 R
4440(does)S
4697(not)S
(support)362 4887 A
1736 V
(multithreaded)673 708 A
1413(processes)S
1909(in)S
2035(a)S
2121(the)S
2302(same)S
2584(way)S
2819(as)S
2953(Amoeba.)S
3456(Many)S
3770(threads)S
4153(packages)S
4629(are)S
4811(available)S
1876 V
708(that)S
921(use)S
(non-preemptive)766 1113 A
1910(scheduling)S
2464(between)S
2899(threads)S
3280(so)S
(compatibility)646 3418 A
4095(with)S
4342(Amoeba)S
(should)321 4783 A
5135(be)S
2016 V
708(possible)S
1162(but)S
1374(later)S
1649(releases)S
2092(may)S
2358(present)S
2766(problems.)S
3334(There)S
3675(is)S
3814(a)S
3927(special)S
4323(library)S
4706(for)S
4907(linking)S
2156 V
708(programs)S
1235(that)S
1487(use)S
1718(the)S
1936(Amoeba)S
2416(RPC)S
2713(but)S
2937(which)S
3303(are)S
3522(to)S
3686(run)S
(under)275 3917 A
11 R
4259(UNIX)S
12 R
4536(.)S
4665(It)S
4809(is)S
4959(called)S
2296 V
12 I
708(libamunix.a)S
12 R
1292(.)S
1385(To)S
1552(see)S
1740(how)S
1981(to)S
2108(use)S
2303(it,)S
2435(examine)S
2879(the)S
12 I
(Amakefile)486 3061 A
12 R
3557(s)S
3638(that)S
3854(are)S
4037(distributed)S
4589(with)S
4839(Amoeba)S
2436 V
708(for)S
880(generating)S
1421(programs)S
1908(to)S
2032(run)S
(under)275 2223 A
11 R
2526(UNIX)S
12 R
2803(.)S
2612 V
(Because)403 708 A
1154(of)S
1298(limitations)S
1860(in)S
1997(the)S
11 R
2186(UNIX)S
12 R
2506(networking)S
3101(code,)S
3403(the)S
3595(Amoeba)S
4049(protocols)S
4543(inside)S
4876(a)S
11 R
4972(UNIX)S
2752 V
12 R
708(kernel)S
1049(are)S
1236(usually)S
1623(slower)S
1985(than)S
(under)275 2231 A
2543(native)S
2876(Amoeba.)S
3383(This)S
3635(can)S
3840(lead)S
4079(to)S
4210(the)S
4395(fast)S
4608(client)S
12 R-1
4915(-)S
12 R
5020(slow)S
2892 V
708(server)S
1037(problem.)S
1532(In)S
1665(this)S
1872(case)S
2113(a)S
2199(server)S
(running)375 2528 A
2935(on)S
3087(a)S
3173(slow)S
3434(system)S
(receives)398 3802 A
4232(a)S
4318(request,)S
4731(executes)S
5181(it)S
3032 V
708(and)S
925(sends)S
1236(a)S
1333(reply.)S
1685(However,)S
2203(before)S
2556(it)S
2667(can)S
2878(issue)S
3163(another)S
12 I
3569(getreq)S
12 R
3931(the)S
4122(client)S
4435(is)S
4559(trying)S
4891(to)S
5028(send)S
3172 V
708(another)S
1116(request.)S
1571(Since)S
1885(the)S
2078(server)S
2420(is)S
2546(temporarily)S
3157(unavailable,)S
3790(the)S
3983(client)S
4298(issues)S
4633(one)S
4853(or)S
5000(more)S
3312 V
708(locate)S
1032(broadcasts)S
1577(which)S
1907(can)S
2109(grow)S
2392(into)S
2614(broadcast)S
3112(storms.)S
3529(Under)S
3866(Amoeba)S
4310(this)S
4519(can)S
4720(be)S
4867(avoided)S
3452 V
708(by)S
862(having)S
(multiple)404 1224 A
1662(threads)S
2046(doing)S
2354(a)S
12 I
2442(getreq)S
12 R
2795(on)S
2949(the)S
3131(same)S
3414(port)S
3644(so)S
3786(that)S
4003(a)S
4092(locate)S
4417(always)S
(succeeds.)460 4789 A
3592 V
708(The)S
926(problem)S
1359(of)S
12 I
1490(busy)S
12 R
1751(servers)S
(will)190 2125 A
2345(be)S
2489(solved)S
2834(in)S
2958(a)S
3042(subsequent)S
3608(release.)S
3768 V
708(Two)S
976(commands)S
1545(which)S
1887(are)S
2082(very)S
2343(useful)S
(under)275 2685 A
11 R
3004(UNIX)S
12 R
3327(are)S
12 I
3522(tob)S
12 R
3686(\(U\))S
3902(and)S
12 I
4122(fromb)S
12 R
4421(\(U\))S
4637(which)S
4979(allow)S
3908 V
708(files)S
948(to)S
1072(be)S
1216(sent)S
1441(between)S
11 R
1873(UNIX)S
12 R
2180(and)S
2384(the)S
2562(Bullet)S
2888(file)S
3081(server.)S
4084 V
708(Amoeba)S
1161(has)S
1366(a)S
1464(special)S
1845(server)S
2186(for)S
(converting)517 2372 A
2933(between)S
3381(its)S
3540(network)S
3981(protocol)S
4428(and)S
4646(TCP/IP)S
5053(\(see)S
4224 V
12 I
708(ipsvr)S
12 R
960(\(A\)\).)S
1277(With)S
1565(the)S
1759(aid)S
1953(of)S
2100(this)S
2321(and)S
2541(the)S
2735(program)S
12 I
3191(ttn)S
12 R
3329(\(U\))S
3545(\(an)S
3746(implementation)S
4552(of)S
4699(telnet\))S
5055(it)S
5168(is)S
4364 V
708(possible)S
1143(to)S
1276(do)S
1435(remote)S
1811(login)S
2098(to)S
11 R
2229(UNIX)S
12 R
2545(hosts.)S
2892(Electronic)S
3430(mail)S
3685(can)S
3892(also)S
4126(be)S
4279(transferred)S
4845(between)S
4504 V
708(Amoeba)S
1148(and)S
(public)302 1352 A
1684(TCP/IP)S
2077(networks)S
2551(using)S
2842(the)S
3020(TCP/IP)S
3413(server.)S
7700 V
708(24)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 25 31
BP
/slant 0 def
/height 0 def
940 V
14 B
2126(5)S
2301(Programming)S
3182(Languages)S
1176 V
12 R
708(This)S
953(section)S
1326(describes)S
1807(the)S
1985(various)S
2371(programming)S
(languages)483 3059 A
3572(available)S
(under)275 4040 A
4345(Amoeba.)S
1352 V
708(The)S
939(Amsterdam)S
1548(Compiler)S
2048(Kit)S
2247(\(ACK\))S
2628(provides)S
3088(much)S
3400(of)S
3545(the)S
(language)436 3737 A
(support)362 4217 A
4623(for)S
4809(Amoeba.)S
1492 V
708(Several)S
(languages)483 1138 A
1687(are)S
1902(currently)S
2406(provided:)S
2935(STD)S
3229(C,)S
3404(Pascal,)S
3809(BASIC,)S
4260(FORTRAN)S
4890(77)S
5075(and)S
1632 V
(Modula-2.)506 708 A
1286(The)S
1517(target)S
1837(architectures)S
2501(currently)S
(supported)476 2982 A
3501(by)S
3664(the)S
3855(compiler)S
(under)275 4329 A
4647(Amoeba)S
5100(are)S
1772 V
708(the)S
(MC680x0)487 886 A
1403(family)S
1750(and)S
1954(the)S
2132(Intel)S
(80386.)330 2385 A
1948 V
708(Details)S
1083(of)S
1214(how)S
1452(to)S
(invoke)328 1576 A
1935(these)S
2215(compilers)S
2724(are)S
2904(provided)S
3364(in)S
3489(the)S
3668(User)S
3929(Guide.)S
4316(See)S
12 I
4522(ack)S
12 R
4700(\(U\),)S
12 I
4931(cc)S
12 R
5049(\(U\),)S
2088 V
12 I
708(f)S
752(77)S
12 R
882(\(U\),)S
12 I
1136(m2)S
12 R
1294(\(U\))S
1518(and)S
12 I
1746(pascal)S
12 R
2071(\(U\))S
2295(for)S
2491(further)S
2876(details.)S
3307(In)S
(addition)396 3461 A
3910(an)S
4077(archiver,)S
4558(name)S
4873(list)S
5075(and)S
2228 V
708(sizing)S
1027(program)S
1467(are)S
1646(provided.)S
2165(See)S
12 I
2370(aal)S
12 R
2534(\(U\),)S
12 I
2764(anm)S
12 R
2982(\(U\))S
3182(and)S
12 I
3386(size)S
12 R
3578(\(U\))S
3778(for)S
3950(details.)S
2404 V
708(The)S
926(internal)S
1327(details)S
1674(of)S
1805(ACK,)S
2121(including)S
2607(the)S
2785(link)S
3003(editor)S
3316(and)S
3521(information)S
(about)268 4124 A
4423(descriptions)S
5039(files)S
2544 V
708(for)S
888(front)S
1162(and)S
1374(back-ends)S
1902(is)S
2021(rather)S
2343(esoteric)S
2759(and)S
2971(irrelevant)S
3475(to)S
3607(most)S
3880(programmers.)S
4624(However)S
5107(for)S
2684 V
708(completeness)S
1395(there)S
1673(is)S
1790(a)S
1880(description)S
2454(of)S
2591(the)S
2775(structure)S
3236(of)S
3373(the)S
3557(compiler)S
4024(kit)S
4188(and)S
4398(the)S
4582(manual)S
4974(pages)S
2824 V
708(for)S
881(the)S
1060(linker)S
1374(and)S
1579(description)S
2148(files.)S
2449(Also)S
2708(included)S
3154(is)S
3265(a)S
3349(specification)S
3999(of)S
4130(the)S
4308(conformance)S
4970(of)S
5101(the)S
2964 V
708(STD)S
967(C,)S
1107(Pascal)S
1447(and)S
(Modula)375 1651 A
2056(2)S
2146(compilers.)S
3140 V
708(In)S
(addition)396 866 A
1319(to)S
1470(ACK)S
1783(the)S
(GNU)264 1988 A
2309(C)S
2446(Compiler)S
2960(is)S
3098(available)S
(under)275 3593 A
3925(Amoeba)S
4393(for)S
4593(all)S
(supported)476 4773 A
3280 V
708(architectures.)S
1428(It)S
1542(is)S
1662(freely)S
1985(available)S
2462(but)S
2654(does)S
2913(not)S
3105(form)S
3379(part)S
3606(of)S
3745(the)S
3931(distribution.)S
4587(For)S
4793(details)S
5148(of)S
3420 V
708(its)S
860(use)S
1058(see)S
1250(the)S
1435(separate)S
(GNU)264 1870 A
2172(documentation)S
2928(for)S
3108(the)S
3294(compiler.)S
3823(The)S
4049(command)S
12 I
4563(f2c)S
12 R
4721(\(U\))S
4929(can)S
5135(be)S
3560 V
708(used)S
959(as)S
1090(a)S
1174(preprocessor)S
1823(for)S
1995(the)S
(GNU)264 2173 A
2467(C)S
2577(compiler)S
3038(to)S
3162(compile)S
3582(Fortran)S
3969(77.)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(25)S
7920 V
EP
%%Page: 26 32
BP
/slant 0 def
/height 0 def
860 V
12 B
708(5.1.)S
978(The)S
1209(Amsterdam)S
1852(Compiler)S
2374(Kit)S
2573(\(ACK\))S
1176 V
708(Introduction)S
1352 V
12 R
708(The)S
945(Amsterdam)S
1560(Compiler)S
2066(Kit)S
2272(\(ACK\))S
2660(is)S
2791(an)S
2955(integrated)S
3490(collection)S
4018(of)S
4169(programs)S
4676(designed)S
5155(to)S
1492 V
708(simplify)S
1144(the)S
1324(task)S
1551(of)S
(producing)489 1684 A
2205(portable)S
2634(\(cross\))S
2997(compilers)S
3507(and)S
3713(interpreters.)S
4359(For)S
(each)222 4559 A
(language)436 4813 A
1632 V
708(to)S
854(be)S
1020(compiled,)S
1552(a)S
1658(program)S
2120(\(called)S
2503(the)S
12 I
2703(front)S
2990(end)S
12 R
3174(\))S
3267(must)S
3555(be)S
(written)345 3722 A
4120(to)S
4267(translate)S
4732(the)S
4933(source)S
1772 V
708(program)S
1153(into)S
1376(a)S
1465(common)S
1922(intermediate)S
2564(code)S
2827(called)S
12 C
3152(EM)S
12 R
3333(\(short)S
3651(for)S
3827(Encoding)S
4323(Machine\).)S
4881(The)S
12 C
5103(EM)S
1912 V
12 R
708(code)S
984(can)S
1200(be)S
1362(optimized)S
1894(and)S
2116(then)S
2373(either)S
2699(directly)S
3119(interpreted)S
3694(or)S
3844(translated)S
4365(into)S
4602(the)S
4799(assembly)S
2052 V
(language)436 708 A
1174(of)S
1305(the)S
1483(desired)S
1863(target)S
2170(machine)S
2610(using)S
2901(a)S
2985(program)S
3425(called)S
3745(the)S
12 I
3923(back)S
4181(end)S
12 R
4365(.)S
2228 V
708(The)S
936(ideal)S
1212(situation)S
1669(would)S
2011(be)S
2165(an)S
2320(integrated)S
2846(system)S
3223(containing)S
3774(a)S
3869(family)S
4227(of)S
4369(\(cross\))S
4741(compilers,)S
2368 V
(each)222 708 A
962(compiler)S
(accepting)464 1425 A
1921(a)S
2007(standard)S
2449(source)S
(language)436 2797 A
3265(and)S
(producing)489 3471 A
3992(code)S
4252(for)S
4426(a)S
4512(wide)S
4780(variety)S
5148(of)S
2508 V
708(target)S
1028(machines.)S
1588(Furthermore,)S
2267(the)S
2458(compilers)S
(should)321 2979 A
3344(be)S
3502(compatible,)S
4114(so)S
4265(programs)S
(written)345 4766 A
5155(in)S
2648 V
708(one)S
(language)436 951 A
1455(can)S
1691(call)S
1935(procedures)S
(written)345 2534 A
2947(in)S
3109(another)S
(language.)466 3540 A
4104(This)S
4387(has)S
4616(largely)S
5021(been)S
2788 V
708(achieved.)S
2964 V
708(ACK)S
996(consists)S
1411(of)S
1544(a)S
1630(number)S
2031(of)S
2164(parts)S
2432(that)S
2646(can)S
2846(be)S
2992(combined)S
3500(to)S
3626(form)S
3895(compilers)S
4406(\(and)S
4654(interpreters\))S
3104 V
708(with)S
959(various)S
1350(properties.)S
1930(It)S
2040(is)S
2156(based)S
2466(on)S
2621(the)S
2804(idea)S
3041(of)S
3176(a)S
12 I
3264(Universal)S
3776(Computer)S
4293(Oriented)S
(Language)481 4758 A
3244 V
12 R
708(\(UNCOL\))S
1260(that)S
1494(was)S
1735(first)S
(suggested)476 1985 A
2514(in)S
(1960,)270 2661 A
2984(but)S
3191(which)S
3540(never)S
3862(really)S
(caught)322 4192 A
4567(on)S
4740(then.)S
5061(The)S
3384 V
708(problem)S
1142(which)S
1469(UNCOL)S
1918(attempts)S
2360(to)S
2485(solve)S
2771(is)S
2883(how)S
3122(to)S
3247(make)S
3540(a)S
3625(compiler)S
4087(for)S
(each)222 4260 A
4513(of)S
12 I
4645(N)S
12 R
(languages)483 4766 A
3524 V
708(on)S
12 I
858(M)S
12 R
999(different)S
1448(machines)S
(without)370 1935 A
2335(having)S
2693(to)S
2817(write)S
12 I
3098(N)S
12 R
3218(x)S
12 I
3308(M)S
12 R
3449(programs.)S
3700 V
708(The)S
950(UNCOL)S
1422(approach)S
1919(is)S
2054(to)S
2202(write)S
12 I
2507(N)S
12 R
(``front)318 2651 A
3023(ends,'')S
(each)222 3410 A
3686(of)S
3841(which)S
4191(translates)S
4704(one)S
4933(source)S
3840 V
(language)436 708 A
1183(to)S
1315(a)S
1407(common)S
1867(intermediate)S
(language,)466 2512 A
3016(UNCOL)S
3472(,)S
3540(and)S
12 I
3752(M)S
12 R
3901("back)S
4216(ends,")S
(each)222 4554 A
4814(of)S
4953(which)S
3980 V
708(translates)S
1197(programs)S
1684(in)S
1808(UNCOL)S
2256(to)S
2380(a)S
2464(specific)S
2872(machine)S
(language.)466 3312 A
4156 V
708(Under)S
1045(these)S
(conditions,)533 1328 A
1895(only)S
12 I
2143(N)S
12 R
2267(+)S
12 I
2369(M)S
12 R
2514(programs)S
3005(must)S
3274(be)S
(written)345 3422 A
3801(to)S
3929(provide)S
4332(all)S
12 I
4488(N)S
12 R
(languages)483 4612 A
5129(on)S
4296 V
708(all)S
12 I
860(M)S
12 R
1001(machines,)S
1518(instead)S
1891(of)S
12 I
2022(N)S
12 R
2142(x)S
12 I
2232(M)S
12 R
2373(programs.)S
4472 V
708(Previous)S
1188(attempts)S
1656(to)S
1807(develop)S
2246(a)S
2357(suitable)S
2791(intermediate)S
(language)436 3455 A
3948(have)S
4234(not)S
4446(become)S
(popular)369 4880 A
4612 V
(because)383 708 A
1163(they)S
1443(were)S
1752(over)S
(ambitious)477 2039 A
2588(and)S
2833(attempted)S
3382(to)S
(support)362 3547 A
3980(all)S
(languages)483 4173 A
4727(and)S
4972(target)S
4752 V
708(architectures.)S
1438(ACK's)S
1831(approach)S
2324(is)S
2455(more)S
2754(modest:)S
3187(it)S
3305(caters)S
3639(only)S
3903(to)S
4047(algebraic)S
(languages)483 4542 A
5075(and)S
4892 V
708(machines)S
1234(whose)S
1612(memory)S
2084(consists)S
2536(of)S
2705(8-bit)S
3002(bytes,)S
(each)222 3355 A
3645(with)S
3929(its)S
4112(own)S
4388(address.)S
4879(Typical)S
5032 V
(languages)483 708 A
1266(that)S
1523(could)S
1866(be)S
2055(handled)S
2512(include)S
2943(Ada,)S
3250(ALGOL)S
3737(60,)S
3963(ALGOL)S
4451(68,)S
4677(BASIC,)S
5139(C,)S
5172 V
708(FORTRAN,)S
(Modula,)405 1371 A
1843(Pascal,)S
2250(PL/I,)S
2563(PL/M,)S
2942(and)S
3183(RATFOR,)S
3757(whereas)S
4222(COBOL,)S
4729(LISP,)S
5075(and)S
5312 V
708(SNOBOL)S
1225(would)S
1559(be)S
1705(less)S
1919(efficient.)S
2417(Examples)S
2927(of)S
3061(machines)S
3551(that)S
3766(could)S
4067(be)S
4214(included)S
4663(are)S
4845(the)S
5026(Intel)S
5452 V
(8080)240 708 A
986(and)S
(80x86,)330 1198 A
1566(Motorola)S
(6800,)270 2054 A
(6809,)270 2362 A
2670(and)S
(680x0,)330 2882 A
3250(Zilog)S
3550(Z80)S
3782(and)S
(Z8000,)344 3994 A
4376(DEC)S
4655(PDP-11)S
5075(and)S
5592 V
(VAX,)294 708 A
1037(and)S
1246(IBM)S
(370)180 1509 A
1724(but)S
1913(not)S
2102(the)S
(Burroughs)509 2286 A
(6700,)270 2831 A
3137(CDC)S
3421(Cyber,)S
3782(or)S
3919(Univac)S
(1108)240 4305 A
(\(because)424 4581 A
5041(they)S
5732 V
708(are)S
904(not)S
1105(byte-oriented\).)S
1899(With)S
2188(these)S
2484(restrictions,)S
3100(the)S
3294(old)S
3494(UNCOL)S
3958(idea)S
4206(has)S
4413(been)S
4687(used)S
4954(as)S
5101(the)S
5872 V
708(basis)S
980(of)S
1111(a)S
1195(practical)S
1644(compiler-building)S
2548(system.)S
6152 V
12 B
708(An)S
893(Overview)S
1421(of)S
1552(the)S
1744(Amsterdam)S
2387(Compiler)S
2909(Kit)S
6328 V
12 R
708(The)S
926(tool)S
1144(kit)S
1302(consists)S
1715(of)S
1846(eight)S
(components:)617 2118 A
7700 V
708(26)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 27 33
BP
/slant 0 def
/height 0 def
920 V
12 R
1128(1.)S
1248(The)S
1466(preprocessor.)S
1060 V
1128(2.)S
1248(The)S
1466(front)S
1732(ends.)S
1200 V
1128(3.)S
1248(The)S
(peephole)436 1466 A
1932(optimizer.)S
1340 V
1128(4.)S
1248(The)S
1466(global)S
1798(optimizer.)S
1480 V
1128(5.)S
1248(The)S
1466(back)S
1724(end.)S
1620 V
1128(6.)S
1248(The)S
1466(target)S
1773(machine)S
2213(optimizer.)S
1760 V
1128(7.)S
1248(The)S
1466(universal)S
(assembler/linker.)832 1940 A
1900 V
1128(8.)S
1248(The)S
(utility)290 1466 A
1786(package.)S
2136 V
708(A)S
890(fully)S
1213(optimizing)S
1831(compiler,)S
2386(depicted)S
2890(in)S
3079(figure)S
3464(5.1,)S
3739(has)S
3995(seven)S
4365(cascaded)S
4897(phases.)S
2276 V
708(Conceptually,)S
(each)222 1417 A
(component)536 1674 A
2245(reads)S
2536(an)S
(input)248 2685 A
2968(file)S
3166(and)S
3375(writes)S
3708(a)S
3796(output)S
4138(file)S
4335(to)S
4463(be)S
4611(used)S
4866(as)S
(input)248 5001 A
2416 V
708(to)S
855(the)S
1056(next)S
(component.)566 1318 A
1968(In)S
2123(practice,)S
2592(some)S
(components)583 2901 A
3538(may)S
3800(use)S
4015(temporary)S
4567(files)S
4831(to)S
4979(allow)S
2556 V
(multiple)404 708 A
1142(passes)S
1481(over)S
1726(the)S
(input)248 1904 A
2182(or)S
2313(internal)S
2714(intermediate)S
3351(files.)S
4154 V
8 R
857(source)S
4274 V
826(program)S
3982 V
962 H
962 3622 lc
962 3622 mc
962 H
1070 3622 lc
1070 3622 mc
3640 V
998 H
1070 3622 lc
1070 3622 mc
3604 V
998 H
1070 3622 lc
1070 3622 mc
3578 V
1219(Pre-)S
3698 V
1132(processor)S
3838 V
1070 H
1070 3406 lc
1070 3406 mc
1070 H
1502 3406 lc
1502 3406 mc
1502 H
1502 3838 lc
1502 3838 mc
1502 H
1070 3838 lc
1070 3838 mc
3622 V
1502 H
1682 3118 lc
1682 3118 mc
3192 V
1674 H
1681 3118 lc
1681 3118 mc
3179 V
1640 H
1681 3118 lc
1681 3118 mc
3074 V
1811(Front)S
3194 V
1803(End)S
1953(1)S
3334 V
1682 H
1682 2902 lc
1682 2902 mc
1682 H
2114 2902 lc
2114 2902 mc
2114 H
2114 3334 lc
2114 3334 mc
2114 H
1682 3334 lc
1682 3334 mc
3518 V
8 Y1
1875(d)S
3638 V
1875(d)S
3758 V
1875(d)S
3622 V
1502 H
8 R
1682 4126 lc
1682 4126 mc
4064 V
1640 H
1681 4125 lc
1681 4125 mc
4051 V
1674 H
1681 4125 lc
1681 4125 mc
4082 V
1811(Front)S
4202 V
1794(End)S
1944(N)S
4342 V
1682 H
1682 3910 lc
1682 3910 mc
1682 H
2114 3910 lc
2114 3910 mc
2114 H
2114 4342 lc
2114 4342 mc
2114 H
1682 4342 lc
1682 4342 mc
4126 V
2114 H
2294 3622 lc
2294 3622 mc
3696 V
2286 H
2293 3622 lc
2293 3622 mc
3683 V
2252 H
2293 3622 lc
2293 3622 mc
3118 V
2114 H
2294 3622 lc
2294 3622 mc
3560 V
2252 H
2293 3621 lc
2293 3621 mc
3547 V
2286 H
2293 3621 lc
2293 3621 mc
3578 V
(Peephole)295 2363 A
3698 V
2348(Optimizer)S
3838 V
2294 H
2294 3406 lc
2294 3406 mc
2294 H
2726 3406 lc
2726 3406 mc
2726 H
2726 3838 lc
2726 3838 mc
2726 H
2294 3838 lc
2294 3838 mc
3622 V
2726 H
2834 3622 lc
2834 3622 mc
3640 V
2762 H
2834 3622 lc
2834 3622 mc
3604 V
2762 H
2834 3622 lc
2834 3622 mc
3578 V
2941(Global)S
3698 V
2888(Optimizer)S
3838 V
2834 H
2834 3406 lc
2834 3406 mc
2834 H
3266 3406 lc
3266 3406 mc
3266 H
3266 3838 lc
3266 3838 mc
3266 H
2834 3838 lc
2834 3838 mc
3622 V
3266 H
3374 3622 lc
3374 3622 mc
3640 V
3302 H
3374 3622 lc
3374 3622 mc
3604 V
3302 H
3374 3622 lc
3374 3622 mc
3578 V
3507(Back)S
3698 V
3525(End)S
3838 V
3374 H
3374 3406 lc
3374 3406 mc
3374 H
3806 3406 lc
3806 3406 mc
3806 H
3806 3838 lc
3806 3838 mc
3806 H
3374 3838 lc
3374 3838 mc
3622 V
3806 H
3914 3622 lc
3914 3622 mc
3640 V
3842 H
3914 3622 lc
3914 3622 mc
3604 V
3842 H
3914 3622 lc
3914 3622 mc
3578 V
4025(Target)S
3698 V
3968(Optimizer)S
3838 V
3914 H
3914 3406 lc
3914 3406 mc
3914 H
4346 3406 lc
4346 3406 mc
4346 H
4346 3838 lc
4346 3838 mc
4346 H
3914 3838 lc
3914 3838 mc
3622 V
4346 H
4454 3622 lc
4454 3622 mc
3640 V
4382 H
4454 3622 lc
4454 3622 mc
3604 V
4382 H
4454 3622 lc
4454 3622 mc
3518 V
4514(Universal)S
3638 V
4485(Assembler-)S
3758 V
4563(Linker)S
3838 V
4454 H
4454 3406 lc
4454 3406 mc
4454 H
4886 3406 lc
4886 3406 mc
4886 H
4886 3838 lc
4886 3838 mc
4886 H
4454 3838 lc
4454 3838 mc
3622 V
4886 H
4994 3622 lc
4994 3622 mc
4994 H
4994 3982 lc
4994 3982 mc
3910 V
4976 H
4994 3982 lc
4994 3982 mc
3910 V
5012 H
4994 3982 lc
4994 3982 mc
4154 V
4887(Object)S
4274 V
4856(Program)S
4310 V
2374(machine)S
4430 V
2314(independent)S
4550 V
2432(table)S
4198 V
2510 H
2510 3838 lc
2510 3838 mc
3910 V
2528 H
2510 3838 lc
2510 3838 mc
3910 V
2492 H
2510 3838 lc
2510 3838 mc
4310 V
3994(machine)S
4430 V
3965(dependent)S
4550 V
4037(tables)S
4198 V
4130 H
3590 3838 lc
3590 3838 mc
3863 V
3659 H
3590 3838 lc
3590 3838 mc
3892 V
3639 H
3590 3838 lc
3590 3838 mc
4198 V
4130 H
4130 3838 lc
4130 3838 mc
3910 V
4148 H
4130 3838 lc
4130 3838 mc
3910 V
4112 H
4130 3838 lc
4130 3838 mc
4198 V
4130 H
4670 3838 lc
4670 3838 mc
3892 V
4620 H
4669 3838 lc
4669 3838 mc
3863 V
4600 H
4669 3838 lc
4669 3838 mc
5022 V
10 B
1943(Fig.)S
2133(5.1.)S
10 R
2308(Structure)S
2703(of)S
2812(the)S
2960(Amsterdam)S
3455(Compiler)S
3860(Kit.)S
5310 V
12 R
708(In)S
863(the)S
1065(following)S
1590(paragraphs)S
2175(we)S
(will)190 2371 A
2615(briefly)S
2993(describe)S
(each)222 3451 A
(component.)566 3727 A
4378(A)S
4521(program)S
4986(to)S
5135(be)S
5450 V
708(compiled)S
1198(is)S
1319(first)S
1556(fed)S
1751(into)S
1979(the)S
(\(language)477 2167 A
2684(independent\))S
3355(preprocessor,)S
4043(which)S
4378(provides)S
4833(a)S
4926(simple)S
5590 V
708(macro)S
(facility,)375 1046 A
1456(and)S
1665(similar)S
2038(textual)S
(facilities.)450 2403 A
2919(The)S
3143(preprocessor's)S
3886(output)S
4230(is)S
4347(a)S
4437(legal)S
4709(program)S
5155(in)S
5730 V
708(one)S
943(of)S
1105(the)S
1314(programming)S
(languages)483 2033 A
(supported,)506 2577 A
3144(whereas)S
3603(the)S
(input)248 3812 A
4121(is)S
4263(a)S
4377(program)S
4847(possibly)S
5870 V
708(augmented)S
1268(with)S
1514(macros,)S
1924(etc.)S
6046 V
708(This)S
956(output)S
1298(goes)S
1553(into)S
1775(the)S
1957(appropriate)S
2543(front)S
2813(end,)S
3051(whose)S
3394(job)S
3582(it)S
3684(is)S
3799(to)S
(produce)389 3927 A
4350(intermediate)S
4991(code.)S
6186 V
708(This)S
968(intermediate)S
1620(code)S
1893(\(our)S
2140(UNCOL\))S
2644(is)S
2769(the)S
2961(machine)S
(language)436 3415 A
3895(for)S
4081(a)S
4179(simple)S
4546(stack)S
4839(machine)S
6326 V
708(called)S
12 C
1030(EM)S
12 R
1176(.)S
1268(A)S
1388(typical)S
1750(front)S
2018(end)S
2224(might)S
2538(build)S
2818(a)S
2904(parse)S
3193(tree)S
3409(from)S
3678(the)S
(input,)278 3859 A
4170(and)S
4377(then)S
4618(use)S
4812(the)S
4993(parse)S
6466 V
708(tree)S
931(to)S
1065(generate)S
12 C
1516(EM)S
12 R
1702(code,)S
2000(which)S
2335(is)S
2455(similar)S
2832(to)S
2965(reverse-Polish.)S
3758(In)S
3898(order)S
4193(to)S
4326(perform)S
4756(this)S
4970(work,)S
6606 V
708(the)S
902(front)S
1184(end)S
1404(has)S
1611(to)S
1751(maintain)S
2221(tables)S
2550(of)S
2697(declared)S
3155(variables,)S
3670(labels,)S
4030(etc.,)S
4279(determine)S
4811(where)S
5155(to)S
6746 V
(place)256 708 A
994(the)S
1172(data)S
1404(structures)S
1906(in)S
2030(memory,)S
2493(and)S
2697(so)S
2834(on.)S
6922 V
708(The)S
12 C
939(EM)S
12 R
1128(code)S
1399(generated)S
1914(by)S
2078(the)S
2270(front)S
2550(end)S
2768(is)S
2893(fed)S
3092(into)S
3324(the)S
(peephole)436 3516 A
3996(optimizer,)S
4535(which)S
4875(scans)S
5181(it)S
7062 V
708(with)S
967(a)S
(window)390 1064 A
1497(of)S
1641(a)S
1738(few)S
1963(instructions,)S
2600(replacing)S
3093(certain)S
3466(inefficient)S
4008(code)S
4278(sequences)S
4810(by)S
4972(better)S
7202 V
708(ones.)S
1048(Such)S
1348(a)S
1461(search)S
1830(is)S
1970(important)S
(because)383 2500 A
12 C
2943(EM)S
12 R
3149(contains)S
3612(instructions)S
4237(to)S
4391(handle)S
4773(numerous)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(27)S
7920 V
EP
%%Page: 28 34
BP
/slant 0 def
/height 0 def
860 V
12 R
708(important)S
1214(special)S
1586(cases)S
1877(efficiently)S
2412(\(for)S
2630(example,)S
3105(incrementing)S
3779(a)S
3868(variable)S
4294(by)S
4448(1\).)S
4643(The)S
4865(strategy)S
1000 V
708(is)S
824(to)S
953(relieve)S
1319(the)S
1502(front)S
1773(ends)S
2029(of)S
2165(the)S
2348(burden)S
2718(of)S
(hunting)368 2854 A
3257(for)S
3434(special)S
3806(cases)S
(because)383 4098 A
4517(there)S
4796(are)S
4981(many)S
1140 V
708(front)S
986(ends)S
1249(and)S
1465(only)S
1721(one)S
(peephole)436 1937 A
2415(optimizer.)S
2981(By)S
3162(handling)S
3625(the)S
3814(special)S
4192(cases)S
4489(in)S
4624(the)S
(peephole)436 4813 A
1280 V
708(optimizer,)S
1233(the)S
1411(front)S
1677(ends)S
1928(become)S
2334(simpler,)S
2758(easier)S
3072(to)S
3196(write)S
3477(and)S
3681(easier)S
3995(to)S
4119(maintain.)S
1456 V
708(Following)S
1237(the)S
(peephole)436 1417 A
1885(optimizer)S
2382(is)S
2495(a)S
2581(global)S
2915(optimizer,)S
3442(which)S
3770(unlike)S
4104(the)S
(peephole)436 4285 A
4754(optimizer,)S
1596 V
708(examines)S
1204(the)S
1390(program)S
1838(as)S
1977(a)S
2069(whole.)S
2463(It)S
2576(builds)S
2909(a)S
3001(data)S
3241(flow)S
3502(graph)S
3815(to)S
3947(make)S
4247(possible)S
4681(a)S
4773(variety)S
5148(of)S
1736 V
708(global)S
1052(optimizations,)S
(among)328 1784 A
2155(them,)S
2470(moving)S
2881(invariant)S
3355(code)S
3626(out)S
3823(of)S
(loops,)291 3967 A
4301(avoiding)S
(redundant)483 4766 A
1876 V
708(computations,)S
1432(live/dead)S
1919(analysis)S
2352(and)S
2569(eliminating)S
3164(tail)S
3363(recursion.)S
3916(Note)S
4194(that)S
4418(the)S
4608(output)S
4958(of)S
5101(the)S
2016 V
708(global)S
1040(optimizer)S
1535(is)S
(still)183 1646 A
12 C
1859(EM)S
12 R
2035(code.)S
2192 V
708(Next)S
990(comes)S
1346(the)S
1541(back)S
1816(end,)S
2067(which)S
2410(differs)S
2775(from)S
3058(the)S
3253(front)S
3536(ends)S
3804(in)S
3945(a)S
(fundamental)605 4046 A
4698(way.)S
5007(Each)S
2332 V
708(front)S
979(end)S
1188(is)S
1304(a)S
1393(separate)S
1826(program,)S
2301(whereas)S
2734(the)S
2917(back)S
3180(end)S
3389(is)S
3505(a)S
3594(single)S
3918(program)S
4363(that)S
4580(is)S
4696(driven)S
5040(by)S
5195(a)S
2472 V
708(machine)S
1155(dependent)S
1688(driving)S
2074(table.)S
2407(The)S
2633(driving)S
3020(table)S
3294(for)S
3474(a)S
3566(specific)S
3982(machine)S
4430(tells)S
4671(how)S
4917(the)S
12 C
5103(EM)S
2612 V
12 R
708(code)S
989(is)S
1123(mapped)S
1557(onto)S
1823(the)S
2023(machine's)S
2573(assembly)S
(language.)466 3075 A
(Although)456 3623 A
4131(a)S
4237(simple)S
4612(driving)S
5013(table)S
2752 V
708(might)S
1020(just)S
1225(macro)S
1558(expand)S
(each)222 1936 A
12 C
2188(EM)S
12 R
2364(instruction)S
2912(into)S
3130(a)S
3214(sequence)S
3688(of)S
3820(target)S
4128(machine)S
4569(instructions,)S
5195(a)S
2892 V
708(much)S
1011(more)S
(sophisticated)632 1295 A
1962(translation)S
2509(strategy)S
2927(is)S
3042(normally)S
3513(used,)S
3798(as)S
3933(described)S
4431(later.)S
4742(For)S
4944(speed,)S
3032 V
708(the)S
897(back)S
1166(end)S
1382(does)S
1645(not)S
1841(actually)S
2267(read)S
2518(in)S
2654(the)S
2844(driving)S
3235(table)S
3513(at)S
3643(run-time.)S
4163(Instead,)S
4585(the)S
4775(tables)S
5100(are)S
3172 V
708(compiled)S
(along)268 1188 A
1486(with)S
1732(the)S
1910(back)S
2168(end)S
2372(in)S
2496(advance,)S
(resulting)424 2952 A
3406(in)S
3530(one)S
3734(binary)S
4073(program)S
4513(per)S
4698(machine.)S
3348 V
708(The)S
955(output)S
1323(of)S
1484(the)S
1692(back)S
1980(end)S
2214(is)S
2355(a)S
2469(program)S
2939(in)S
3093(the)S
3301(assembly)S
(language)436 3811 A
4307(of)S
4468(some)S
4783(particular)S
3488 V
708(machine.)S
1230(The)S
1470(next)S
(component)536 1730 A
2318(in)S
2464(the)S
2664(pipeline)S
3105(reads)S
3412(this)S
3638(program)S
4099(and)S
4324(performs)S
(peephole)436 4813 A
3628 V
708(optimization)S
1369(on)S
1538(it.)S
1715(The)S
1952(optimizations)S
2661(performed)S
3216(here)S
(involve)362 3475 A
3887(idiosyncrasies)S
4623(of)S
4774(the)S
4972(target)S
3768 V
708(machine)S
1202(that)S
(cannot)322 1468 A
1874(be)S
2072(performed)S
2660(in)S
2837(the)S
3068(machine-independent)S
4192(EM-to-EM)S
(peephole)436 4813 A
3908 V
708(optimizer.)S
1284(Typically)S
1799(these)S
2099(optimizations)S
2809(take)S
3062(advantage)S
3603(of)S
3755(special)S
4143(instructions)S
4759(or)S
4912(special)S
4048 V
708(addressing)S
1255(modes.)S
4224 V
708(The)S
952(optimized)S
1492(target)S
1825(machine)S
2292(assembly)S
2799(code)S
3084(then)S
3349(goes)S
3627(into)S
3872(the)S
4077(final)S
(component)536 4357 A
4950(in)S
5101(the)S
4364 V
708(pipeline,)S
1166(the)S
1352(universal)S
(assembler/linker.)832 1834 A
2734(This)S
2986(program)S
3433(assembles)S
3961(the)S
(input)248 4146 A
4431(to)S
4562(object)S
4895(format,)S
4504 V
708(extracting)S
1223(routines)S
1643(from)S
1909(libraries)S
2338(and)S
2542(including)S
3028(them)S
3300(as)S
3431(needed.)S
4680 V
708(The)S
957(final)S
(component)536 1241 A
1838(of)S
2000(the)S
2209(tool)S
2458(kit)S
2647(is)S
2789(the)S
(utility)290 2999 A
3351(package,)S
3839(which)S
4197(contains)S
4662(various)S
5080(test)S
4820 V
708(programs,)S
1230(interpreters)S
1819(for)S
12 C
1996(EM)S
12 R
2177(code,)S
12 C
2470(EM)S
12 R
2651(libraries,)S
(conversion)530 3115 A
3680(programs,)S
4202(and)S
4411(other)S
4695(aids)S
4925(for)S
5101(the)S
4960 V
708(implementer)S
1351(and)S
1555(user.)S
7700 V
708(28)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 29 35
BP
/slant 0 def
/height 0 def
860 V
12 B
708(5.1.1.)S
1068(ACK)S
1368(Description)S
1998(File)S
(Reference)520 2224 A
2774(Manual)S
1316 V
708(Introduction)S
1492 V
12 R
708(The)S
938(program)S
12 I
1390(ack)S
12 R
1568(\(U\))S
1780(internally)S
2287(maintains)S
2800(a)S
2896(table)S
3174(of)S
3317(possible)S
3755(transformations)S
4558(and)S
4774(a)S
4870(table)S
5148(of)S
1632 V
708(string)S
1089(variables.)S
1692(The)S
1985(transformation)S
2803(table)S
3143(contains)S
3650(one)S
3928(entry)S
4281(for)S
(each)222 4527 A
4853(possible)S
1772 V
708(transformation)S
1456(of)S
1591(a)S
1679(file.)S
1936(Which)S
2292(transformations)S
3088(are)S
3272(used)S
3528(depends)S
3958(on)S
4113(the)S
4296(suffix)S
4614(of)S
4750(the)S
4933(source)S
1912 V
708(file.)S
999(Each)S
1309(transformation)S
2091(table)S
2395(entry)S
2712(tells)S
2982(which)S
(input)248 3345 A
3660(suffices)S
4105(are)S
4321(allowed)S
4772(and)S
5013(what)S
2052 V
708(suffix/name)S
1324(the)S
1509(output)S
1854(file)S
2055(has.)S
2314(When)S
2640(the)S
2826(output)S
3172(file)S
3373(does)S
3632(not)S
3824(already)S
4219(satisfy)S
4574(the)S
4760(request)S
5148(of)S
2192 V
708(the)S
917(user)S
1180(\(indicated)S
1726(with)S
2003(the)S
2212(flag)S
12 B-1
2462(-)S
12 B
2530(c.suffix)S
12 R
2904(\),)S
3036(the)S
3245(table)S
3542(is)S
3684(scanned)S
4133(starting)S
4557(with)S
4833(the)S
5041(next)S
2332 V
708(transformation)S
1475(in)S
1622(the)S
1823(table)S
2113(for)S
2309(another)S
2726(transformation)S
3494(that)S
3730(has)S
3945(as)S
(input)248 4100 A
4402(suffix)S
4739(the)S
4941(output)S
2472 V
708(suffix)S
1029(of)S
1168(the)S
1354(previous)S
1808(transformation.)S
2620(A)S
2745(few)S
2965(special)S
3339(transformations)S
4137(are)S
(recognized,)561 4323 A
(among)328 4921 A
2612 V
708(them)S
992(is)S
1115(the)S
1305(combiner,)S
1834(which)S
2173(is)S
2297(a)S
2394(program)S
2847(combining)S
3406(several)S
3793(files)S
4046(into)S
4277(one.)S
4554(When)S
4885(no)S
5048(stop)S
2752 V
708(suffix)S
1064(was)S
1326(specified)S
1837(\(flag)S
12 B-1
2140(-)S
12 B
2208(c.suffix)S
12 R
2582(\))S
12 I
2696(ack)S
12 R
2947(stops)S
3268(after)S
3565(executing)S
4108(the)S
4329(combiner)S
4859(with)S
5148(as)S
2892 V
708(arguments)S
1250(the)S
12 R-1
1436(-)S
12 R
1542(possibly)S
1982(transformed)S
12 R-1
2606(-)S
12 R
(input)248 2712 A
2998(files)S
3247(and)S
3460(libraries.)S
12 I
3958(Ack)S
12 R
(will)190 4189 A
4418(only)S
4671(perform)S
5101(the)S
3032 V
708(transformations)S
1499(in)S
1623(the)S
1801(order)S
2087(in)S
2211(which)S
2537(they)S
2775(are)S
2954(presented)S
3448(in)S
3572(the)S
3750(table.)S
3208 V
708(The)S
938(string)S
1256(variables)S
1736(are)S
1927(used)S
2190(while)S
2502(creating)S
2935(the)S
3125(argument)S
3624(list)S
3816(and)S
4033(program)S
4486(call)S
4705(name)S
5010(for)S
5195(a)S
3348 V
708(particular)S
1204(transformation.)S
3768 V
12 B
708(Which)S
1080(Descriptions)S
1757(Are)S
1983(Used)S
3944 V
12 I
708(Ack)S
12 R
943(always)S
1323(uses)S
1574(two)S
1799(description)S
2380(files:)S
2667(one)S
2884(to)S
3021(define)S
3367(the)S
3558(front-end)S
4052(transformations)S
4857(and)S
5075(one)S
4084 V
708(for)S
883(the)S
1064(machine)S
1507(dependent)S
2036(back-end)S
2512(transformations.)S
3366(Each)S
3641(description)S
4212(has)S
4406(a)S
4492(name.)S
4846(First)S
5101(the)S
4224 V
708(way)S
940(of)S
1071(determining)S
1686(the)S
1864(name)S
2156(of)S
2287(the)S
2465(descriptions)S
3080(needed)S
3452(is)S
3563(described.)S
4400 V
708(When)S
1029(the)S
1210(string)S
1519(environment)S
2163(variable)S
2587(ACKFE)S
3017(is)S
3131(set)S
12 I
3299(ack)S
12 R
3511(uses)S
3753(that)S
3969(to)S
4097(determine)S
4616(the)S
4798(front-end)S
4540 V
708(table)S
974(name,)S
1296(otherwise)S
1798(it)S
1896(uses)S
12 B
2134(fe)S
12 R
2229(.)S
4716 V
708(The)S
926(way)S
1158(the)S
1336(back)S
1594(end)S
1798(table)S
2064(name)S
2356(is)S
2467(determined)S
3042(is)S
3153(more)S
(convoluted.)566 3432 A
4856 V
708(First,)S
1005(when)S
1311(the)S
1503(last)S
1716(file)S
1924(name)S
2231(in)S
2370(the)S
2563(program)S
3018(call)S
3239(name)S
3546(is)S
3672(not)S
3871(one)S
4090(of)S
12 I
4236(ack)S
12 R
4459(or)S
4605(the)S
4798(front-end)S
4996 V
708(call-names,)S
1297(this)S
1505(file)S
1701(name)S
1996(is)S
2110(used)S
2364(as)S
2498(the)S
2679(back)S
2940(end)S
3147(description)S
3718(name.)S
(Second,)385 4073 A
4491(when)S
4786(the)S
12 B-1
4967(-)S
12 B
5035(m)S
12 R
5168(is)S
5136 V
708(present)S
1091(the)S
12 B-1
1272(-)S
12 B
1340(m)S
12 R
1474(is)S
(chopped)408 1588 A
2029(off)S
2204(this)S
2412(flag)S
2634(and)S
2841(the)S
3022(rest)S
3231(is)S
3345(used)S
3599(as)S
3733(the)S
3915(back)S
4177(end)S
4385(description)S
4957(name.)S
5276 V
708(Third,)S
1048(when)S
1350(both)S
1604(failed)S
1921(the)S
2109(shell)S
2378(environment)S
3029(variable)S
3460(ACKM)S
3863(is)S
3984(used.)S
4305(Last,)S
4584(when)S
4886(ACKM)S
5416 V
708(was)S
947(not)S
1151(present,)S
1581(the)S
1779(default)S
2166(back)S
2444(end)S
2668(is)S
2799(used,)S
3101(determined)S
3697(by)S
3868(the)S
(definition)471 4067 A
4589(of)S
4741(ACKM)S
5155(in)S
5556 V
708(h/local.h.)S
1230(The)S
1460(presence)S
1926(and)S
2141(value)S
2444(of)S
2586(the)S
(definition)471 2775 A
3287(of)S
3429(ACKM)S
3833(is)S
3955(determined)S
4541(at)S
4670(the)S
4859(compile)S
5696 V
708(time)S
954(of)S
12 I
1085(ack)S
12 R
1263(.)S
5872 V
708(Now)S
992(we)S
1183(have)S
1460(the)S
1657(names,)S
2045(but)S
2248(that)S
2479(is)S
2609(only)S
2872(the)S
3069(first)S
3315(step.)S
12 I
3619(Ack)S
12 R
3860(stores)S
4192(a)S
4295(few)S
4527(descriptions)S
5161(at)S
6012 V
708(compile)S
1131(time.)S
1440(These)S
1762(descriptions)S
2380(are)S
2562(simply)S
2924(files)S
3167(read)S
3409(in)S
3536(at)S
3656(compile)S
4078(time.)S
4386(At)S
4540(the)S
4720(moment)S
5148(of)S
6152 V
(writing)351 708 A
1095(this)S
1306(document,)S
1848(the)S
2032(descriptions)S
2653(included)S
3105(are:)S
(pdp,)210 3324 A
3570(fe,)S
3732(i86,)S
(m68k2,)364 3953 A
4354(vax2)S
4625(and)S
4836(int.)S
5061(The)S
6292 V
708(name)S
1038(of)S
1207(a)S
1329(description)S
1935(is)S
2084(first)S
2349(searched)S
2841(for)S
3051(internally,)S
3614(then)S
3890(in)S
12 I
4052(lib/descr/)S
12 R
4520(name,)S
4880(then)S
5155(in)S
6432 V
12 I
708(lib/)S
12 R
870(name)S
12 I
1132(/descr)S
12 R
1428(,)S
1488(and)S
1692(finally)S
2039(in)S
2163(the)S
2341(current)S
2715(directory)S
3183(of)S
3314(the)S
3492(user.)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(29)S
7920 V
EP
%%Page: 30 36
BP
/slant 0 def
/height 0 def
860 V
12 B
708(Using)S
1034(The)S
1265(Description)S
1895(File)S
1036 V
12 R
708(Before)S
1093(starting)S
1512(on)S
1687(a)S
1796(narrative)S
2283(of)S
2439(the)S
2642(description)S
3236(file,)S
3485(the)S
(introduction)591 3689 A
4336(of)S
4493(a)S
4603(few)S
4842(terms)S
5168(is)S
1176 V
(necessary.)501 708 A
1294(All)S
1505(these)S
1809(terms)S
2134(are)S
2338(used)S
2614(to)S
2762(describe)S
3220(the)S
3422(scanning)S
3905(of)S
4060(zero)S
4323(terminated)S
4896(strings,)S
1316 V
708(thereby)S
(producing)489 1101 A
1620(another)S
2013(string)S
2319(or)S
2450(sequence)S
2923(of)S
3054(strings.)S
1492 V
708(Backslashing)S
1632 V
1008(All)S
1208(characters)S
(preceded)437 1745 A
2226(by)S
2390(\\)S
2468(are)S
2661(modified)S
3142(to)S
3280(prevent)S
(recognition)551 3687 A
4282(at)S
4414(further)S
4790(scanning.)S
1772 V
1008(This)S
1259(modification)S
1914(is)S
(undone)354 2031 A
2421(before)S
2767(a)S
2857(string)S
3169(is)S
3285(passed)S
3642(to)S
3771(the)S
3954(outside)S
4338(world)S
4656(as)S
4792(argument)S
1912 V
1008(or)S
1156(message.)S
1673(When)S
2008(reading)S
2418(the)S
2613(description)S
3198(files)S
3455(the)S
3650(sequences)S
4187(\\\\,)S
4332(\\#)S
4473(and)S
4695(\\<newline>)S
2052 V
1008(have)S
1273(a)S
1364(special)S
1738(meaning.)S
2250(\\\\)S
2354(translates)S
2849(to)S
2979(a)S
3069(single)S
3394(\\,)S
3494(\\#)S
3624(translates)S
4119(to)S
4249(a)S
4339(single)S
4664(#)S
4760(that)S
4978(is)S
5095(not)S
2192 V
(recognized)531 1008 A
1604(as)S
1770(the)S
1983(start)S
2258(of)S
2424(comment,)S
2969(but)S
3188(can)S
3421(be)S
3600(used)S
3886(in)S
(recognition)551 4045 A
4662(and)S
4902(finally,)S
2332 V
1008(\\<newline>)S
1592(translates)S
2081(to)S
2205(nothing)S
2603(at)S
2721(all,)S
2903(thereby)S
3296(allowing)S
3750(continuation)S
4384(lines.)S
2508 V
708(Variable)S
(replacement)593 1157 A
2648 V
1008(The)S
1228(scan)S
(recognizes)518 1475 A
2025(the)S
2205(sequences)S
2727({{,)S
2906({NAME})S
3412(and)S
3619({NAME?text})S
4361(where)S
4691(NAME)S
5081(can)S
2788 V
1008(be)S
1154(any)S
1360(combination)S
1996(if)S
2103(characters)S
2628(excluding)S
3136(?)S
3222(and)S
3428(})S
3518(and)S
3723(text)S
3936(may)S
4175(be)S
4320(anything)S
4773(excluding)S
2928 V
1008(}.)S
1161(\()S
1232(\\})S
1359(is)S
1475(allowed)S
1895(of)S
2032(course.)S
2408(\))S
2485(The)S
2709(first)S
2942(sequence)S
(produces)436 3421 A
3893(an)S
4043(unescaped)S
4582(single)S
4907({.)S
5061(The)S
3068 V
(second)335 1008 A
(produces)436 1406 A
1905(the)S
2116(contents)S
2582(of)S
2746(the)S
2957(NAME,)S
(definitions)518 3407 A
3988(are)S
(done)234 4200 A
4497(by)S
12 I
4679(ack)S
12 R
4919(and)S
5155(in)S
3208 V
1008(description)S
1580(files.)S
1884(When)S
2206(the)S
2388(NAME)S
2779(is)S
2894(not)S
3082(defined)S
3480(an)S
3629(error)S
3901(message)S
4346(is)S
(produced)449 4462 A
4946(on)S
5101(the)S
3348 V
(diagnostic)497 1008 A
1547(output.)S
1957(The)S
2187(last)S
2398(sequence)S
(produces)436 2883 A
3361(the)S
3551(contents)S
3996(of)S
4139(NAME)S
4538(if)S
4655(it)S
4764(is)S
4886(defined)S
3488 V
1008(and)S
1212(text)S
1424(otherwise.)S
3664 V
708(Expression)S
(replacement)593 1275 A
3804 V
1008(Syntax:)S
1437(\()S
12 I
(suffix)263 1478 A
1771(sequence)S
12 R
2214(:)S
12 I
(suffix)263 2248 A
2541(sequence)S
12 R
2984(=)S
12 I
3052(text)S
12 R
3228(\))S
3944 V
1008(Example:)S
1502(\(.c.p.e:.e=tail)S
12 Y1
2143(3)S
12 R
2203(em\))S
4084 V
1008(If)S
1142(the)S
1342(two)S
1576(suffix)S
1911(sequences)S
2453(have)S
2733(a)S
2839(common)S
3313(member)S
12 R-1
3762(-)S
12 R
3860(.e)S
3997(in)S
4144(this)S
4372(case)S
12 R-1
4611(-)S
12 R
4732(the)S
4933(text)S
5168(is)S
4224 V
(produced.)479 1008 A
1561(When)S
1892(no)S
2055(common)S
2520(member)S
2960(is)S
3084(present)S
3477(the)S
3668(empty)S
4013(string)S
4332(is)S
(produced.)479 4456 A
5008(Thus)S
4364 V
1008(the)S
1196(example)S
1646(given)S
1954(is)S
2075(a)S
2169(constant)S
2613(expression.)S
3231(Normally,)S
3767(one)S
3982(of)S
4124(the)S
4313(suffix)S
4637(sequences)S
5168(is)S
4504 V
(produced)449 1008 A
1518(by)S
1699(variable)S
(replacement.)623 2151 A
12 I
2865(Ack)S
12 R
3118(sets)S
3361(three)S
3665(variables)S
4164(while)S
4495(performing)S
5101(the)S
4644 V
1008(diverse)S
1407(transformations:)S
2251(HEAD,)S
2668(TAIL)S
2994(and)S
3217(RTS.)S
3547(All)S
3752(three)S
4045(variables)S
4533(depend)S
4931(on)S
5101(the)S
4784 V
1008(properties)S
12 I
1533(rts)S
12 R
1711(and)S
12 I
1925(need)S
12 R
2203(from)S
2479(the)S
2666(transformations)S
3466(used.)S
3786(Whenever)S
4322(a)S
4415(transformation)S
5168(is)S
4924 V
1008(used)S
1265(for)S
1443(the)S
1627(first)S
1861(time,)S
2144(the)S
2329(text)S
2548(following)S
3056(the)S
12 I
3241(need)S
12 R
3516(is)S
3634(appended)S
4133(to)S
4264(both)S
4515(the)S
4700(HEAD)S
5075(and)S
5064 V
1008(TAIL)S
1316(variable.)S
1798(The)S
2017(value)S
2310(of)S
2442(the)S
2621(variable)S
3043(RTS)S
3294(is)S
3405(determined)S
3980(by)S
4130(the)S
4308(first)S
4535(transformation)S
5204 V
1008(used)S
1259(with)S
1505(a)S
12 I
1589(rts)S
12 R
1757(property.)S
5380 V
1008(Two)S
1274(run-time)S
1736(flags)S
2016(have)S
2288(effect)S
2610(on)S
2774(the)S
2966(value)S
3273(of)S
3419(one)S
3638(or)S
3784(more)S
4078(of)S
4224(these)S
4518(variables.)S
5061(The)S
5520 V
1008(flag)S
12 B-1
1241(-)S
12 B
1309(.suffix)S
12 R
1673(has)S
1878(the)S
2070(same)S
2363(effect)S
2685(on)S
2849(these)S
3142(three)S
3429(variables)S
3910(as)S
4054(if)S
4172(a)S
4269(file)S
4475(with)S
4734(that)S
12 B
4959(suffix)S
5660 V
12 R
1008(was)S
1230(included)S
1679(in)S
1806(the)S
1987(argument)S
2478(list)S
2661(and)S
2869(had)S
3077(to)S
3205(be)S
3353(translated.)S
3919(The)S
4141(flag)S
12 B-1
4364(-)S
12 B
4432(r.suffix)S
12 R
4840(only)S
5088(has)S
5800 V
1008(that)S
1229(effect)S
1546(on)S
1705(the)S
1892(TAIL)S
2208(variable.)S
2698(The)S
2925(program)S
3374(call)S
3588(names)S
12 I
3935(acc)S
12 R
4151(and)S
12 I
4363(cc)S
12 R
4519(have)S
4785(the)S
4971(effect)S
5940 V
1008(of)S
1139(an)S
1283(automatic)S
12 B-1
1791(-)S
12 B
1859(.c)S
12 R
1973(flag.)S
12 I
2252(Apc)S
12 R
2480(and)S
12 I
2684(pc)S
12 R
2838(have)S
3096(the)S
3274(effect)S
3582(of)S
3713(an)S
3857(automatic)S
12 B-1
4365(-)S
12 B
4433(.p)S
12 R
4560(flag.)S
6116 V
708(Line)S
(splitting)397 960 A
6256 V
1008(The)S
1240(string)S
1560(is)S
1685(transformed)S
2315(into)S
2547(a)S
2646(sequence)S
3134(of)S
3280(strings)S
3648(by)S
3813(replacing)S
4309(the)S
4502(blank)S
(space)269 4815 A
5129(by)S
6396 V
1008(string)S
1314(separators)S
1836(\(nulls\).)S
6572 V
708(IO)S
(replacement)593 867 A
6712 V
1008(The)S
1232(>)S
1336(in)S
1466(the)S
1650(string)S
1962(is)S
(replaced)411 2079 A
2526(by)S
2682(the)S
2866(output)S
3210(file)S
3409(name.)S
3767(The)S
3991(<)S
4095(in)S
4225(the)S
4409(string)S
4721(is)S
(replaced)411 4838 A
6852 V
1008(by)S
1170(the)S
(input)248 1360 A
1650(file)S
1855(name.)S
2219(When)S
(multiple)404 2549 A
(input)248 2995 A
3285(files)S
3536(are)S
3726(present)S
4117(the)S
4306(string)S
4623(is)S
(duplicated)504 4745 A
6992 V
1008(for)S
(each)222 1180 A
(input)248 1432 A
1710(file)S
1903(name.)S
7168 V
708(Each)S
1035(description)S
1658(is)S
1824(a)S
1963(sequence)S
2491(of)S
2677(variable)S
(definitions)518 3153 A
3756(followed)S
4273(by)S
4479(a)S
4619(sequence)S
5148(of)S
7308 V
708(transformation)S
(definitions.)548 1465 A
2086(Variable)S
(definitions)518 2548 A
3109(use)S
3313(a)S
3410(line)S
(each,)252 3634 A
3928(transformations)S
(definitions)518 4731 A
7700 V
708(30)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 31 37
BP
/slant 0 def
/height 0 def
860 V
12 R
708(consist)S
1097(of)S
1251(a)S
1358(sequence)S
1854(of)S
2009(lines.)S
2352(Empty)S
2728(lines)S
3011(are)S
3214(discarded,)S
3762(as)S
3917(are)S
4120(lines)S
4403(with)S
4673(nothing)S
5095(but)S
1000 V
708(comment.)S
1257(Comment)S
1772(is)S
1892(started)S
2255(by)S
2414(a)S
2506(#)S
2604(character,)S
3118(and)S
3330(continues)S
3831(to)S
3963(the)S
4149(end)S
4361(of)S
4500(the)S
4686(line.)S
4966(Three)S
1140 V
708(special)S
1077(two-characters)S
1825(sequences)S
2348(exist:)S
2644(\\#,)S
2801(\\\\)S
2902(and)S
3109(\\<newline>.)S
3756(Their)S
4052(effect)S
4363(is)S
4477(described)S
(under)275 4974 A
1280 V
708('backslashing')S
(above.)318 1453 A
1840(Each)S
12 R-1
2121(-)S
12 R
(nonempty)482 2228 A
12 R-1
2749(-)S
12 R
2856(line)S
3077(starts)S
3373(with)S
3628(a)S
3721(keyword,)S
4213(possibly)S
(preceded)437 4654 A
5129(by)S
1420 V
708(blank)S
(space.)299 1008 A
1369(The)S
1589(keyword)S
2044(can)S
2245(be)S
2392(followed)S
2856(by)S
3009(a)S
3096(further)S
3460(specification.)S
4173(The)S
4394(two)S
4609(are)S
4791(separated)S
1560 V
708(by)S
858(blank)S
(space.)299 1156 A
1736 V
708(Variable)S
(definitions)518 1157 A
1705(use)S
1896(the)S
2074(keyword)S
12 I
2527(var)S
12 R
2728(and)S
(look)214 2932 A
3176(like)S
3388(this:)S
1936 V
798(var)S
983(NAME=text)S
2136 V
708(The)S
934(name)S
1234(can)S
1440(be)S
1592(any)S
1804(identifier,)S
2318(the)S
2504(text)S
2724(may)S
2970(contain)S
3364(any)S
3576(character.)S
4120(Blank)S
(space)269 4446 A
4753(before)S
5101(the)S
2276 V
708(equal)S
1007(sign)S
1245(is)S
1363(not)S
1554(part)S
1780(of)S
1917(the)S
2101(NAME.)S
2554(Blank)S
(space)269 2878 A
3183(after)S
3443(the)S
3627(equal)S
3925(is)S
4042(considered)S
4602(as)S
4739(part)S
4964(of)S
5101(the)S
2416 V
708(text.)S
994(The)S
1226(text)S
1452(is)S
1577(scanned)S
2010(for)S
2196(variable)S
(replacement)593 2631 A
3268(before)S
3622(it)S
3735(is)S
3861(associated)S
4404(with)S
4665(the)S
4858(variable)S
2556 V
708(name.)S
2976 V
708(The)S
937(start)S
1188(of)S
1330(a)S
1425(transformation)S
(definition)471 2180 A
2692(is)S
2814(indicated)S
3299(by)S
3460(the)S
3649(keyword)S
12 I
4113(name)S
12 R
4385(.)S
4486(The)S
4715(last)S
4925(line)S
5148(of)S
3116 V
708(such)S
972(a)S
(definition)471 1069 A
1583(contains)S
2028(the)S
2218(keyword)S
12 I
2683(end)S
12 R
2867(.)S
2969(The)S
3199(lines)S
3470(in)S
3606(between)S
4052(associate)S
4532(properties)S
5059(to)S
5195(a)S
3256 V
708(transformation)S
1466(and)S
1684(may)S
1936(be)S
2095(presented)S
2604(in)S
2743(any)S
2962(order.)S
3323(The)S
3556(identifier)S
4047(after)S
4316(the)S
12 I
4509(name)S
12 R
4826(keyword)S
3396 V
708(determines)S
1277(the)S
1462(name)S
1761(of)S
1899(the)S
2084(transformation.)S
2895(This)S
3147(name)S
3446(is)S
3564(used)S
3821(for)S
(debugging)508 3999 A
4543(and)S
4753(by)S
4909(the)S
12 B-1
5093(-)S
12 B
5161(R)S
3536 V
12 R
708(flag.)S
1027(The)S
1285(keywords)S
1825(are)S
2044(used)S
2335(to)S
2499(specify)S
2919(which)S
(input)248 3286 A
3605(suffices)S
4054(are)S
(recognized)531 4274 A
4876(by)S
5067(that)S
3676 V
708(transformation,)S
1484(the)S
1664(program)S
2106(to)S
2232(run,)S
2455(the)S
2635(arguments)S
3171(to)S
3297(be)S
3443(handed)S
3823(to)S
3949(that)S
4162(program)S
4603(and)S
4808(the)S
4987(name)S
3816 V
708(or)S
858(suffix)S
1191(of)S
1342(the)S
(resulting)424 1540 A
2014(output)S
2372(file.)S
2645(Two)S
2917(keywords)S
3437(are)S
3636(used)S
3907(to)S
4051(indicate)S
4485(which)S
4831(run-time)S
3956 V
708(start-offs)S
1178(and)S
1382(libraries)S
1811(are)S
1990(needed.)S
2422(The)S
2640(possible)S
3066(keywords)S
3566(are:)S
4132 V
12 I
708(from)S
4272 V
12 R
958(followed)S
1430(by)S
1591(a)S
1686(sequence)S
2170(of)S
2312(suffices.)S
2791(Each)S
3074(file)S
3278(with)S
3535(one)S
3750(of)S
3892(these)S
4182(suffices)S
4601(is)S
4723(allowed)S
5148(as)S
4412 V
(input)248 958 A
1269(file.)S
1555(Preprocessor)S
2244(transformations)S
3068(do)S
3250(not)S
3466(need)S
3756(the)S
12 I
3966(from)S
12 R
4267(keyword.)S
4782(All)S
5000(other)S
4552 V
958(transformations)S
1749(do.)S
4728 V
12 I
708(to)S
4868 V
12 R
958(followed)S
1428(by)S
1587(the)S
1775(suffix)S
2098(of)S
2239(the)S
2427(output)S
2775(file)S
2978(name)S
3280(or)S
3421(in)S
3555(the)S
3743(case)S
3992(of)S
4133(a)S
4227(linker)S
4550(the)S
4738(output)S
5086(file)S
5008 V
958(name.)S
5184 V
12 I
708(program)S
5324 V
12 R
958(followed)S
1430(by)S
1591(name)S
1894(of)S
2036(the)S
2225(load)S
2474(file)S
2678(of)S
2820(the)S
3009(program,)S
3490(a)S
3585(path)S
3835(name)S
4139(most)S
4416(likely)S
4734(starts)S
5033(with)S
5464 V
958(either)S
1266(a)S
1351(/)S
1415(or)S
1546({EM}.)S
1933(This)S
2178(keyword)S
2631(must)S
2896(be)S
3040(present,)S
3450(the)S
3628(remainder)S
4150(of)S
4281(the)S
4459(line)S
4671(is)S
4782(subject)S
5155(to)S
5604 V
958(backslashing)S
1612(and)S
1816(variable)S
(replacement.)623 2237 A
5780 V
12 I
708(mapflag)S
5920 V
12 R
958(The)S
1204(mapflags)S
1706(are)S
1913(used)S
2192(to)S
2344(grab)S
2617(flags)S
2911(given)S
3237(to)S
12 I
3389(ack)S
12 R
3625(and)S
3858(pass)S
4125(them)S
4426(on)S
4605(to)S
4758(a)S
4871(specific)S
6060 V
958(transformation.)S
1797(This)S
2077(feature)S
2479(uses)S
2751(a)S
2869(few)S
3116(simple)S
3503(pattern)S
3904(matching)S
4418(and)S
(replacement)593 4656 A
6200 V
(facilities.)450 958 A
(Multiple)417 1484 A
1947(occurrences)S
2572(of)S
2719(this)S
2940(keyword)S
3409(are)S
3604(allowed.)S
4094(This)S
4355(text)S
4583(following)S
5101(the)S
6340 V
958(keyword)S
1418(is)S
1536(subjected)S
2030(to)S
2161(backslashing.)S
2882(The)S
3107(keyword)S
3567(is)S
3685(followed)S
4153(by)S
4310(a)S
4400(match)S
4732(expression)S
6480 V
958(and)S
1172(a)S
1266(variable)S
1697(assignment)S
2281(separated)S
2779(by)S
2940(blank)S
(space.)299 3249 A
3619(As)S
(soon)227 3795 A
4063(as)S
4205(both)S
4460(description)S
5039(files)S
6620 V
958(are)S
1156(read,)S
12 I
1444(ack)S
12 R
(looks)261 1671 A
1981(at)S
2118(all)S
2289(transformations)S
3099(in)S
3241(these)S
3538(files)S
3796(to)S
3938(find)S
4181(a)S
4283(match)S
4627(for)S
4817(the)S
5013(flags)S
6760 V
958(given)S
1262(to)S
12 I
1392(ack)S
12 R
1570(.)S
1666(The)S
1890(flags)S
12 B-1
2162(-)S
12 B
2230(m)S
12 R
2331(,)S
12 B-1
2397(-)S
12 B
2465(o)S
12 R
2525(,)S
12 B-1
2591(-)S
12 B
2659(O)S
12 R
2753(,)S
12 B-1
2819(-)S
12 B
2887(r)S
12 R
2941(,)S
12 B-1
3007(-)S
12 B
3075(v)S
12 R
3135(,)S
12 B-1
3201(-)S
12 B
3269(g)S
12 R
3329(,)S
12 B-1
3395(-)S
3473(-)S
12 B
3541(c)S
12 R
3595(,)S
12 B-1
3661(-)S
12 B
3729(t)S
12 R
3770(,)S
12 B-1
3836(-)S
12 B
3904(k)S
12 R
3971(,)S
12 B-1
4038(-)S
12 B
4106(R)S
12 R
4231(and)S
12 B-1
4442(-)S
4520(-)S
12 B
4588(.)S
12 R
4685(are)S
4871(specific)S
6900 V
958(to)S
12 I
1093(ack)S
12 R
1312(and)S
1527(not)S
1722(handed)S
2111(down)S
2420(to)S
2555(any)S
2769(transformation.)S
3583(The)S
3811(matching)S
4301(is)S
4422(performed)S
4967(in)S
5101(the)S
7040 V
958(order)S
1249(in)S
1378(which)S
1709(the)S
1892(entries)S
2251(appear)S
2609(in)S
2738(the)S
(definition.)501 2921 A
3487(The)S
3711(scanning)S
4176(stops)S
4460(after)S
4720(first)S
4953(match)S
7180 V
958(is)S
(found.)311 1071 A
1444(When)S
1764(a)S
1849(match)S
2176(is)S
(found,)311 2288 A
2630(the)S
2809(variable)S
3231(assignment)S
3806(is)S
3918(executed.)S
4439(A)S
4558(*)S
4649(in)S
4774(the)S
4953(match)S
7320 V
958(expression)S
1537(matches)S
1996(any)S
2232(sequence)S
2738(of)S
2902(characters,)S
3488(a)S
3605(*)S
3728(in)S
3885(the)S
4096(right)S
4388(hand)S
4685(part)S
4937(of)S
5101(the)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(31)S
7920 V
EP
%%Page: 32 38
BP
/slant 0 def
/height 0 def
860 V
12 R
958(assignment)S
1540(is)S
(replaced)411 1659 A
2107(by)S
2264(the)S
2449(characters)S
2979(matched)S
3426(by)S
3583(the)S
3768(*)S
3865(in)S
3996(the)S
4181(expression.)S
4795(The)S
5020(right)S
1000 V
958(hand)S
1226(part)S
1449(is)S
1564(also)S
1793(subject)S
2170(to)S
2298(variable)S
(replacement.)623 2724 A
3412(The)S
3635(variable)S
(will)190 4061 A
4286(probably)S
4750(be)S
4899(used)S
5155(in)S
1140 V
958(the)S
1143(program)S
1590(arguments.)S
2191(The)S
12 B-1
2416(-)S
12 B
2484(l)S
12 R
2555(flags)S
2828(are)S
3014(special,)S
3418(the)S
3602(order)S
3894(in)S
4024(which)S
4356(they)S
4600(are)S
4785(presented)S
1280 V
958(to)S
12 I
1109(ack)S
12 R
1344(must)S
1636(be)S
1807(preserved.)S
2395(The)S
2640(identifier)S
3143(LNAME)S
3631(is)S
3769(used)S
4047(in)S
4199(conjunction)S
4827(with)S
5101(the)S
1420 V
958(scanning)S
1430(of)S
12 B-1
1574(-)S
12 B
1642(l)S
12 R
1719(flags.)S
2058(The)S
2289(value)S
2594(assigned)S
3053(to)S
3190(LNAME)S
3664(is)S
3788(used)S
4051(to)S
(replace)351 4187 A
4580(the)S
4770(flag.)S
5061(The)S
1560 V
958(example)S
1398(further)S
1759(on)S
1909(shows)S
2241(the)S
2419(use)S
2610(of)S
2741(all)S
2893(this.)S
1736 V
12 I
708(args)S
1876 V
12 R
958(The)S
1184(keyword)S
1645(is)S
1764(followed)S
2233(by)S
2392(the)S
2579(program)S
3028(call)S
3243(arguments.)S
3846(It)S
3960(is)S
4080(subject)S
4462(to)S
4595(backslashing,)S
2016 V
958(variable)S
(replacement,)623 1395 A
2064(expression)S
(replacement,)623 2627 A
3296(line)S
(splitting)397 3524 A
3967(and)S
4187(IO)S
(replacement.)623 4362 A
5061(The)S
2156 V
958(variables)S
1429(assigned)S
1878(to)S
2005(by)S
12 I
2158(mapflags)S
12 R
(will)190 2645 A
2869(probably)S
3332(be)S
3480(used)S
3735(here.)S
4038(The)S
4260(flags)S
4530(not)S
(recognized)531 4718 A
2296 V
958(by)S
12 I
1127(ack)S
12 R
1354(or)S
1503(any)S
1725(of)S
1874(the)S
2070(transformations)S
2879(are)S
3076(passed)S
3446(to)S
3588(the)S
3784(linker)S
4115(and)S
4337(inserted)S
4769(before)S
5127(all)S
2436 V
958(other)S
1237(arguments.)S
2612 V
12 I
708(stdin)S
2752 V
12 R
958(This)S
1203(keyword)S
1656(indicates)S
2117(that)S
2329(the)S
2507(transformation)S
3251(reads)S
3537(from)S
3803(standard)S
(input.)278 4243 A
2928 V
12 I
(stdout)295 708 A
3068 V
12 R
958(This)S
1203(keyword)S
1656(indicates)S
2117(that)S
2329(the)S
2507(transformation)S
3251(writes)S
3579(on)S
3729(standard)S
4169(output.)S
3244 V
12 I
708(optimizer)S
3384 V
12 R
958(The)S
1185(presence)S
1648(of)S
1788(this)S
2002(keyword)S
2464(indicates)S
2935(that)S
3157(this)S
3372(transformation)S
4126(is)S
4247(an)S
4401(optimizer.)S
4966(It)S
5081(can)S
3524 V
958(be)S
1109(followed)S
1577(by)S
1734(a)S
1825(number,)S
2261(indicating)S
2782(the)S
2966("level")S
3336(of)S
3473(the)S
3657(optimizer)S
4158(\(see)S
4390(description)S
4964(of)S
5101(the)S
3664 V
12 B-1
958(-)S
12 B
1026(O)S
12 R
1150(option)S
1488(in)S
1612(the)S
12 I
1790(ack)S
12 R
1968(\(U\))S
2168(manual)S
2554(page\).)S
3840 V
12 I
708(priority)S
3980 V
12 R
958(This)S
1237(optional)S
1698(keyword)S
2186(is)S
2332(followed)S
2828(by)S
3013(a)S
3132(number.)S
(Positive)390 3596 A
4051(priority)S
4480(means)S
4854(that)S
5101(the)S
4120 V
958(transformation)S
1719(is)S
1846(likely)S
2168(to)S
2308(be)S
2468(used,)S
2765(negative)S
3221(priority)S
3631(means)S
3986(that)S
4214(the)S
4408(transformation)S
5168(is)S
4260 V
958(unlikely)S
1407(to)S
1554(be)S
1721(used.)S
(Priorities)446 2055 A
2554(can)S
2775(also)S
3023(be)S
3190(set)S
3378(with)S
3648(a)S
12 I
3756(ack)S
12 R
3934(\(U\))S
4158(command-line)S
4911(option.)S
4400 V
(Priorities)446 958 A
1487(come)S
1832(in)S
(handy)294 2008 A
2384(when)S
2728(there)S
3053(are)S
3284(several)S
3710(implementations)S
4599(of)S
4782(a)S
4918(certain)S
4540 V
958(transformation.)S
1732(They)S
2010(can)S
2208(then)S
2446(be)S
2590(used)S
2841(to)S
2965(select)S
3272(a)S
3356(default)S
3723(one.)S
4716 V
12 I
708(linker)S
4856 V
12 R
958(This)S
1203(keyword)S
1656(indicates)S
2117(that)S
2329(this)S
2534(transformation)S
3278(is)S
3389(the)S
3567(linker.)S
5032 V
12 I
708(combiner)S
5172 V
12 R
958(This)S
1206(keyword)S
1662(indicates)S
2126(that)S
2342(this)S
2551(transformation)S
3299(is)S
3414(a)S
3502(combiner.)S
4023(A)S
4145(combiner)S
4636(is)S
4751(a)S
4839(program)S
5312 V
958(combining)S
1515(several)S
1900(files)S
2151(into)S
2380(one,)S
2624(but)S
2818(is)S
2939(not)S
3133(a)S
3227(linker.)S
3610(An)S
3798(example)S
4248(of)S
4389(a)S
4483(combiner)S
4980(is)S
5101(the)S
5452 V
958(global)S
1290(optimizer.)S
5628 V
12 I
708(prep)S
5768 V
12 R
958(This)S
1211(optional)S
1645(keyword)S
2106(is)S
2225(followed)S
2694(an)S
2846(option)S
3193(indicating)S
3716(its)S
3870(relation)S
4280(to)S
4413(the)S
4600(preprocessor.)S
5908 V
958(The)S
1176(possible)S
1602(options)S
1987(are:)S
6108 V
1018(always)S
1542(the)S
(input)248 1720 A
1998(files)S
2238(must)S
2503(be)S
2647(preprocessed)S
6248 V
(cond)234 1018 A
1542(the)S
(input)248 1720 A
1998(files)S
2238(must)S
2503(be)S
2647(preprocessed)S
3309(when)S
3601(starting)S
3995(with)S
4241(#)S
6388 V
1018(is)S
1542(this)S
1747(transformation)S
2491(is)S
2602(the)S
2780(preprocessor)S
6624 V
12 I
708(rts)S
6764 V
12 R
958(This)S
1207(optional)S
1637(keyword)S
2094(indicates)S
2559(that)S
2775(the)S
2957(rest)S
3167(of)S
3302(the)S
3484(line)S
3701(must)S
3971(be)S
4120(used)S
4376(to)S
4505(set)S
4675(the)S
4858(variable)S
6904 V
958(RTS,)S
1247(if)S
1360(it)S
1466(was)S
1693(not)S
1885(already)S
2280(set.)S
2513(Thus)S
2792(the)S
2978(variable)S
3407(RTS)S
3666(is)S
3785(set)S
3958(by)S
4116(the)S
4301(first)S
4535(transformation)S
7044 V
958(executed)S
1430(which)S
1768(such)S
2031(a)S
2127(property)S
2579(or)S
2722(as)S
2865(a)S
2961(result)S
3273(from)S
12 I
3551(ack)S
12 R
3729('s)S
3859(program)S
4311(call)S
4530(name)S
(\(acc,)233 4835 A
5111(cc,)S
7184 V
958(apc)S
1156(or)S
1287(pc\))S
1472(or)S
1603(by)S
1753(the)S
12 B-1
1931(-)S
12 B
1999(.suffix)S
12 R
2349(flag.)S
7700 V
708(32)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 33 39
BP
/slant 0 def
/height 0 def
860 V
12 I
708(need)S
1000 V
12 R
958(This)S
1220(optional)S
1663(keyword)S
2133(indicates)S
2611(that)S
2840(the)S
3035(rest)S
3259(of)S
3408(the)S
3604(line)S
3834(must)S
4117(be)S
4279(concatenated)S
4959(to)S
5101(the)S
1140 V
958(NEEDS)S
1388(variable.)S
1878(This)S
2132(is)S
(done)234 2252 A
2525(once)S
2792(for)S
2973(every)S
3281(transformation)S
4034(used)S
4294(or)S
4434(indicated)S
4917(by)S
5075(one)S
1280 V
958(of)S
1089(the)S
1267(program)S
1707(call)S
1913(names)S
2252(mentioned)S
(above)288 2792 A
3110(or)S
3241(indicated)S
3715(by)S
3865(the)S
12 B-1
4043(-)S
12 B
4111(.suffix)S
12 R
4461(flag.)S
1700 V
12 B
708(Conventions)S
1383(Used)S
1669(In)S
1813(Description)S
2443(Files)S
1876 V
12 I
708(Ack)S
12 R
939(reads)S
1234(two)S
1455(description)S
2032(files.)S
2341(A)S
2468(few)S
2690(of)S
2830(the)S
3017(variables)S
3494(defined)S
3896(in)S
4030(the)S
4218(machine)S
4668(specific)S
5086(file)S
2016 V
708(are)S
897(used)S
1158(by)S
1318(the)S
1506(descriptions)S
2131(of)S
2272(the)S
2460(front-ends.)S
3058(Other)S
3375(variables,)S
3883(set)S
4058(by)S
12 I
4218(ack)S
12 R
4396(,)S
4466(are)S
4654(of)S
4794(use)S
4994(to)S
5127(all)S
2156 V
708(transformations.)S
2332 V
12 I
708(Ack)S
12 R
958(sets)S
1198(the)S
1404(variable)S
1854(EM)S
2094(to)S
2247(the)S
2454(home)S
2781(directory)S
3278(of)S
3438(the)S
3645(Amsterdam)S
4270(Compiler)S
4786(Kit.)S
5061(The)S
2472 V
708(variable)S
1132(SOURCE)S
1642(is)S
1756(set)S
1924(to)S
2051(the)S
2232(name)S
2527(of)S
2661(the)S
2842(argument)S
3332(that)S
3546(is)S
3659(currently)S
4129(being)S
4429(massaged,)S
4961(this)S
5168(is)S
2612 V
708(useful)S
1059(for)S
(debugging.)538 1256 A
1879(The)S
2122(variable)S
2568(SUFFIX)S
3041(is)S
3177(set)S
3367(to)S
3516(the)S
3719(suffix)S
4057(of)S
4213(the)S
4417(argument)S
4930(that)S
5168(is)S
2752 V
708(currently)S
1176(being)S
1474(massaged.)S
2928 V
708(The)S
947(variable)S
1389(M)S
1547(indicates)S
2029(the)S
2228(directory)S
2717(in)S
2862(lib/{M}/tail)S
12 Y1
3437(3)S
12 R
(.....)150 3497 A
3698(and)S
3923(NAME)S
4331(is)S
4463(the)S
4662(string)S
4989(to)S
5135(be)S
3068 V
708(defined)S
1103(by)S
1254(the)S
1433(preprocessor)S
2083(with)S
12 R-1
2330(-)S
12 R
2398(D{NAME}.)S
3050(The)S
(definitions)518 3269 A
3818(of)S
3950({w},)S
4215({s},)S
4439({l},)S
4650({d},)S
4887({f})S
5075(and)S
3208 V
708({p})S
997(indicate)S
1494(EM)S
12 Y1
1675(3)S
12 R
1735(WSIZE,)S
2248(EM)S
12 Y1
2429(3)S
12 R
2489(SSIZE,)S
2955(EM)S
12 Y1
3136(3)S
12 R
3196(LSIZE,)S
3669(EM)S
12 Y1
3850(3)S
12 R
3910(DSIZE,)S
4397(EM)S
12 Y1
4578(3)S
12 R
4638(FSIZE)S
5075(and)S
3348 V
708(EM)S
12 Y1
889(3)S
12 R
949(PSIZE)S
1302(respectively.)S
3524 V
708(The)S
931(variable)S
1357(INCLUDES)S
1992(is)S
2108(used)S
2364(as)S
2500(the)S
2683(last)S
2887(argument)S
3379(to)S
12 I
3508(cpp)S
12 R
3692(.)S
3787(It)S
3897(is)S
4013(used)S
4269(to)S
4398(add)S
4607(directories)S
5155(to)S
3664 V
708(the)S
886(list)S
1065(of)S
1196(directories)S
1739(containing)S
2279(#include)S
2725(files.)S
3840 V
708(The)S
932(variables)S
1406(HEAD,)S
1810(TAIL)S
2123(and)S
2333(RTS)S
2590(are)S
2775(set)S
2946(by)S
12 I
3102(ack)S
12 R
3316(and)S
3526(used)S
3784(to)S
3915(compose)S
4381(the)S
4566(arguments)S
5107(for)S
3980 V
708(the)S
886(linker.)S
4400 V
12 B
708(Example)S
4576 V
12 R
708(Description)S
1304(for)S
1476(front-end)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(33)S
7920 V
EP
%%Page: 34 40
BP
/slant 0 def
/height 0 def
920 V
12 R
708(name)S
1000(cpp)S
2928(#)S
3018(the)S
3196(C-preprocessor)S
1060 V
2928(#)S
3018(no)S
3168(from,)S
3464(it's)S
(governed)449 3650 A
4129(by)S
4279(the)S
4457(P)S
4554(property)S
1200 V
948(to)S
1072(.i)S
2928(#)S
3018(result)S
3318(files)S
3558(have)S
3816(suffix)S
4129(i)S
1340 V
948(program)S
({EM}/lib/cpp)667 1388 A
2928(#)S
3018(path)S
3256(name)S
3548(of)S
3679(loadfile)S
1480 V
948(mapflag)S
12 R-1
1375(-)S
12 R
1443(I*)S
1574(CPP)S
12 Y1
1788(3)S
12 R
1848(F={CPP)S
12 Y1
2255(3)S
12 R
2315(F?})S
12 R-1
2524(-)S
12 R
2592(I*)S
2928(#)S
3018(grab)S
12 R-1
3263(-)S
12 R
3331(I..)S
12 R-1
3462(-)S
12 R
3530(U..)S
3708(and)S
1620 V
948(mapflag)S
12 R-1
1375(-)S
12 R
1443(U*)S
1621(CPP)S
12 Y1
1835(3)S
12 R
1895(F={CPP)S
12 Y1
2302(3)S
12 R
2362(F?})S
12 R-1
2571(-)S
12 R
2639(U*)S
2928(#)S
12 R-1
3018(-)S
12 R
3086(D..)S
3264(to)S
3388(use)S
3579(as)S
3710(arguments)S
1760 V
948(mapflag)S
12 R-1
1375(-)S
12 R
1443(D*)S
1621(CPP)S
12 Y1
1835(3)S
12 R
1895(F={CPP)S
12 Y1
2302(3)S
12 R
2362(F?})S
12 R-1
2571(-)S
12 R
2639(D*)S
2928(#)S
3018(in)S
3142(the)S
3320(variable)S
3741(CPP)S
12 Y1
3955(3)S
12 R
4015(F)S
1900 V
948(args)S
1180({CPP)S
12 Y1
1452(3)S
12 R
1512(F?})S
1721({INCLUDES?})S
12 R-1
2521(-)S
12 R
2589(D{NAME})S
12 R-1
3180(-)S
12 R
3248(DEM)S
12 Y1
3517(3)S
12 R
3577(WSIZE={w})S
12 R-1
4249(-)S
12 R
4317(DEM)S
12 Y1
4586(3)S
12 R
4646(PSIZE={p})S
5243(\\)S
2040 V
12 R-1
1068(-)S
12 R
1136(DEM)S
12 Y1
1405(3)S
12 R
1465(SSIZE={s})S
12 R-1
2049(-)S
12 R
2117(DEM)S
12 Y1
2386(3)S
12 R
2446(LSIZE={l})S
12 R-1
3024(-)S
12 R
3092(DEM)S
12 Y1
3361(3)S
12 R
3421(FSIZE={f})S
12 R-1
3999(-)S
12 R
4067(DEM)S
12 Y1
4336(3)S
12 R
4396(DSIZE={d})S
5014(<)S
2180 V
2928(#)S
3018(The)S
3236(arguments)S
3770(are:)S
3983(first)S
4210(the)S
12 R-1
4388(-)S
12 R
([IUD]...)389 4456 A
2320 V
2928(#)S
3048(then)S
3286(the)S
3464(include)S
3850(dir's)S
4103(for)S
4275(this)S
4480(machine)S
2460 V
2928(#)S
3048(then)S
3286(the)S
3464(NAME)S
3851(and)S
4055(size)S
4274(values)S
4613(finally)S
2600 V
2928(#)S
3048(followed)S
3509(by)S
3659(the)S
(input)248 3837 A
4115(file)S
4308(name)S
2740 V
(stdout)295 948 A
2928(#)S
3018(Output)S
3384(on)S
(stdout)295 3534 A
2880 V
948(prep)S
1193(is)S
2928(#)S
3018(Is)S
3136(preprocessor)S
3020 V
708(end)S
3160 V
708(name)S
1000(cem)S
2928(#)S
3018(the)S
3196(C-compiler)S
3778(proper)S
3300 V
948(from)S
1214(.c)S
2928(#)S
3018(used)S
3269(for)S
3441(files)S
3681(with)S
3927(suffix)S
4240(.c)S
3440 V
948(to)S
1072(.k)S
2928(#)S
(produces)436 3018 A
3484(compact)S
3924(code)S
4182(files)S
3580 V
948(program)S
({EM}/lib/em)641 1388 A
12 Y1
2029(3)S
12 R
2089(cem)S
2928(#)S
3018(path)S
3256(name)S
3548(of)S
3679(loadfile)S
3720 V
948(mapflag)S
12 R-1
1375(-)S
12 R
1443(p)S
1533(CEM)S
12 Y1
1794(3)S
12 R
1854(F={CEM)S
12 Y1
2308(3)S
12 R
2368(F?})S
12 R-1
2577(-)S
12 R
2645(Xp)S
2928(#)S
3018(pass)S
12 R-1
3256(-)S
12 R
3324(p)S
3414(as)S
12 R-1
3545(-)S
12 R
3613(Xp)S
3791(to)S
3915(cem)S
3860 V
948(mapflag)S
12 R-1
1375(-)S
12 R
1443(L)S
1547(CEM)S
12 Y1
1808(3)S
12 R
1868(F={CEM)S
12 Y1
2322(3)S
12 R
2382(F?})S
12 R-1
2591(-)S
12 R
2659(l)S
2928(#)S
3018(pass)S
12 R-1
3256(-)S
12 R
3324(L)S
3428(as)S
12 R-1
3559(-)S
12 R
3627(l)S
3691(to)S
3815(cem)S
4000 V
948(args)S
12 R-1
1180(-)S
12 R
1248(Vw{w}i{w}p{p}f{f}s{s}l{l}d{d})S
2960({CEM)S
12 Y1
3279(3)S
12 R
3339(F?})S
4140 V
2928(#)S
3018(the)S
3196(arguments)S
3730(are)S
3909(the)S
4087(object)S
4413(sizes)S
4679(in)S
4280 V
2928(#)S
3018(the)S
12 R-1
3196(-)S
12 R
(V...)178 3264 A
3472(flag)S
3691(and)S
3895(possibly)S
12 R-1
4327(-)S
12 R
4395(l)S
4459(and)S
12 R-1
4663(-)S
12 R
4731(Xp)S
4420 V
948(stdin)S
2928(#)S
(input)248 3018 A
3296(from)S
3562(stdin)S
4560 V
(stdout)295 948 A
2928(#)S
3018(output)S
3356(on)S
(stdout)295 3506 A
4700 V
948(prep)S
1193(always)S
2928(#)S
3018(use)S
3209(cpp)S
4840 V
948(rts)S
1100(.c)S
2928(#)S
3018(use)S
3209(the)S
3387(C)S
3497(run-time)S
3945(system)S
4980 V
948(need)S
1206(.c)S
2928(#)S
3018(use)S
3209(the)S
3387(C)S
3497(libraries)S
5120 V
708(end)S
5260 V
708(name)S
1000(decode)S
2928(#)S
3018(make)S
3310(human)S
3668(readable)S
4109(files)S
4349(from)S
4615(compact)S
5055(code)S
5400 V
948(from)S
1214(.k.m)S
2928(#)S
(accept)310 3018 A
3358(files)S
3598(with)S
3844(suffix)S
4157(.k)S
4277(or)S
4408(.m)S
5540 V
948(to)S
1072(.e)S
2928(#)S
(produce)389 3018 A
3437(.e)S
3551(files)S
5680 V
948(program)S
({EM}/lib/em)641 1388 A
12 Y1
2029(3)S
12 R
2089(decode)S
2928(#)S
3018(path)S
3256(name)S
3548(of)S
3679(loadfile)S
5820 V
948(args)S
1180(<)S
2928(#)S
3018(the)S
(input)248 3196 A
3474(file)S
3667(name)S
3959(is)S
4070(the)S
4248(only)S
4492(argument)S
5960 V
(stdout)295 948 A
2928(#)S
3018(the)S
3196(output)S
3534(comes)S
3873(on)S
(stdout)295 4023 A
6100 V
708(end)S
7700 V
708(34)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 35 41
BP
/slant 0 def
/height 0 def
920 V
12 R
708(Example)S
1168(of)S
1299(a)S
1383(back)S
1641(end,)S
1875(in)S
1999(this)S
2204(case)S
2443(the)S
2621(EM)S
2832(assembler/loader.)S
1200 V
708(var)S
893(w=2)S
2928(#)S
3018(wordsize)S
3486(2)S
1340 V
708(var)S
893(p=2)S
2928(#)S
3018(pointersize)S
3580(2)S
1480 V
708(var)S
893(s=2)S
2928(#)S
3018(short)S
3290(size)S
3509(2)S
1620 V
708(var)S
893(l=4)S
2928(#)S
(long)214 3018 A
3262(size)S
3481(4)S
1760 V
708(var)S
893(f=4)S
2928(#)S
3018(float)S
3271(size)S
3490(4)S
1900 V
708(var)S
893(d=8)S
2928(#)S
(double)328 3018 A
3376(size)S
3595(8)S
2040 V
708(var)S
893(M=em22)S
2180 V
708(var)S
893(NAME=em22)S
2928(#)S
3018(for)S
3190(cpp)S
3394(\(NAME=em22)S
4158(results)S
4505(in)S
4629(#define)S
5022(em22)S
5320(1\))S
2320 V
708(var)S
893(LIB=lib/{M}/tail)S
12 Y1
1731(3)S
12 R
2928(#)S
3018(part)S
3237(of)S
3368(file)S
3561(name)S
3853(for)S
4025(libraries)S
2460 V
708(var)S
893(RT=lib/{M}/head)S
12 Y1
1762(3)S
12 R
2928(#)S
3018(part)S
3237(of)S
3368(file)S
3561(name)S
3853(for)S
4025(run-time)S
4473(start-off)S
2600 V
708(var)S
893(SIZE)S
12 Y1
1149(3)S
12 R
1209(FLAG=)S
12 R-1
1594(-)S
12 R
1662(sm)S
2928(#)S
3018(default)S
3385(internal)S
3786(table)S
4052(size)S
4271(flag)S
2740 V
708(var)S
893(INCLUDES=)S
12 R-1
1561(-)S
12 R
1629(I{EM}/include)S
2928(#)S
3018(use)S
3209({EM}/include)S
3926(for)S
4098(#include)S
4544(files)S
2880 V
708(name)S
1000(asld)S
2928(#)S
3018(Assembler/loader)S
3020 V
948(from)S
1214(.k.m.a)S
2928(#)S
(accepts)357 3018 A
3405(compact)S
3845(code)S
4103(and)S
4307(archives)S
3160 V
948(to)S
1072(e.out)S
2928(#)S
3018(output)S
3356(file)S
3549(name)S
3300 V
948(program)S
({EM}/lib/em)641 1388 A
12 Y1
2029(3)S
12 R
2089(ass)S
2928(#)S
3018(load)S
3256(file)S
3449(path)S
3687(name)S
3440 V
948(mapflag)S
12 R-1
1375(-)S
12 R
1443(l*)S
1567(LNAME={EM}/{LIB}*)S
2928(#)S
3018(e.g.)S
12 R-1
3222(-)S
12 R
3290(ly)S
3414(becomes)S
3580 V
(#{EM}/mach/int/lib/tail)1167 2928 A
12 Y1
4095(3)S
12 R
4155(y)S
3720 V
948(mapflag)S
12 R-1
1375(-)S
12 R
1443(+*)S
1601(ASS)S
12 Y1
1823(3)S
12 R
1883(F={ASS)S
12 Y1
2298(3)S
12 R
2358(F?})S
12 R-1
2567(-)S
12 R
2635(+*)S
2928(#)S
(recognize)471 3018 A
12 R-1
3519(-)S
12 R
3587(+)S
3685(and)S
12 R-1
3889(--)S
3860 V
12 R
948(mapflag)S
12 R-1
1375(--)S
12 R
1511(*)S
1601(ASS)S
12 Y1
1823(3)S
12 R
1883(F={ASS)S
12 Y1
2298(3)S
12 R
2358(F?})S
12 R-1
2567(--)S
12 R
2703(*)S
4000 V
948(mapflag)S
12 R-1
1375(-)S
12 R
1443(s*)S
1580(SIZE)S
12 Y1
1836(3)S
12 R
1896(FLAG=)S
12 R-1
2281(-)S
12 R
2349(s*)S
2928(#)S
3018(overwrite)S
3514(old)S
3698(value)S
3990(of)S
4121(SIZE)S
12 Y1
4377(3)S
12 R
4437(FLAG)S
4140 V
948(args)S
1180({SIZE)S
12 Y1
1494(3)S
12 R
1554(FLAG})S
1959(\\)S
4280 V
1068(\({RTS}:.c={EM}/{RT}cc\))S
2412(\({RTS}:.p={EM}/{RT}pc\))S
12 R-1
3768(-)S
12 R
3836(o)S
3926(>)S
4024(<)S
4122(\\)S
4420 V
1068(\(.p:{TAIL}={EM}/{LIB}pc\))S
2521(\\)S
4560 V
1068(\(.c:{TAIL}={EM}/{LIB}cc.1s)S
2605({EM}/{LIB}cc.2g\))S
3576(\\)S
4700 V
1068(\(.c.p:{TAIL}={EM}/{LIB}mon\))S
4840 V
2928(#)S
12 R-1
3018(-)S
12 R
3086(s[sml])S
3420(must)S
3685(be)S
3829(first)S
4056(argument)S
4980 V
2928(#)S
3018(the)S
3196(next)S
3434(line)S
3646(contains)S
4079(the)S
4257(choice)S
4603(for)S
4775(head)S
12 Y1
5003(3)S
12 R
5063(cc)S
5201(or)S
5120 V
2928(#)S
3018(head)S
12 Y1
3246(3)S
12 R
3306(pc)S
3450(and)S
3654(the)S
3832(specification)S
4482(of)S
4613(in-)S
4778(and)S
4982(output.)S
5260 V
2928(#)S
3018(the)S
3196(last)S
3395(three)S
3668(args)S
3900(lines)S
(choose)335 4159 A
4524(libraries)S
5400 V
948(linker)S
5540 V
708(end)S
5776 V
708(The)S
926(command)S
12 I
1432(ack)S
12 I-1
1630(-)S
12 I
1712(mem22)S
12 I-1
2092(-)S
12 I
2174(v)S
12 I-1
2258(-)S
12 I
2340(v)S
12 I-1
2424(-)S
12 I
2506(I../h)S
12 I-1
2731(-)S
12 I
2813(L)S
12 I-1
2910(-)S
12 I
2992(ly)S
3110(prog.c)S
12 R
3451(would)S
3783(result)S
4083(in)S
4207(the)S
4385(following)S
4886(calls:)S
5976 V
708(1\))S
(/lib/cpp)370 948 A
12 R-1
1348(-)S
12 R
1416(I../h)S
12 R-1
1641(-)S
12 R
1709(I/usr/em/include)S
12 R-1
2534(-)S
12 R
2602(Dem22)S
12 R-1
2988(-)S
12 R
3056(DEM)S
12 Y1
3325(3)S
12 R
3385(WSIZE=2)S
12 R-1
3913(-)S
12 R
3981(DEM)S
12 Y1
4250(3)S
12 R
4310(PSIZE=2)S
4791(\\)S
6116 V
12 R-1
1068(-)S
12 R
1136(DEM)S
12 Y1
1405(3)S
12 R
1465(SSIZE=2)S
12 R-1
1946(-)S
12 R
2014(DEM)S
12 Y1
2283(3)S
12 R
2343(LSIZE=4)S
12 R-1
2831(-)S
12 R
2899(DEM)S
12 Y1
3168(3)S
12 R
3228(FSIZE=4)S
12 R-1
3709(-)S
12 R
3777(DEM)S
12 Y1
4046(3)S
12 R
4106(DSIZE=8)S
4608(prog.c)S
6256 V
708(2\))S
(/usr/em/lib/em)708 948 A
12 Y1
1656(3)S
12 R
1716(cem)S
12 R-1
1948(-)S
12 R
(Vw2i2p2f4s2l4d8)872 2016 A
12 R-1
2918(-)S
12 R
2986(l)S
6396 V
708(3\))S
(/usr/em/lib/em)708 948 A
12 Y1
1656(3)S
12 R
1716(ass)S
12 R-1
1894(-)S
12 R
1962(sm)S
(/usr/em/lib/em22/head)1090 2133 A
12 Y1
3223(3)S
12 R
3283(cc)S
12 R-1
3421(-)S
12 R
3489(o)S
3579(e.out)S
3847(prog.k)S
6536 V
(/usr/em/lib/em22/tail)1018 948 A
12 Y1
1966(3)S
12 R
2026(y)S
(/usr/em/lib/em22/tail)1018 2116 A
12 Y1
3134(3)S
12 R
3194(cc.1s)S
6676 V
(/usr/em/lib/em22/tail)1018 948 A
12 Y1
1966(3)S
12 R
2026(cc.2g)S
(/usr/em/lib/em22/tail)1018 2314 A
12 Y1
3332(3)S
12 R
3392(mon)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(35)S
7920 V
EP
%%Page: 36 42
BP
/slant 0 def
/height 0 def
860 V
12 B
708(5.1.2.)S
1068(The)S
1299(Link)S
1577(Editor)S
1140 V
708(Synopsis)S
1376 V
11 C
(led)201 708 A
976([)S
11 I
1043(options)S
11 C
1368(])S
11 I
(file)143 1502 A
11 C
(...)201 1712 A
1716 V
12 B
708(Description)S
1892 V
12 I
708(Led)S
12 R
941(is)S
1064(a)S
1160(link)S
1391(editor)S
1717(\(linker\))S
2125(for)S
2310(object)S
(modules,)439 2649 A
3131(created)S
3525(by)S
3688(one)S
3905(of)S
4049(the)S
4240(ACK)S
4539(assemblers.)S
5174(It)S
2032 V
708(combines)S
1240(several)S
1653(object)S
2018(programs)S
2544(into)S
2801(one,)S
3074(resolves)S
3539(external)S
3998(references,)S
4596(and)S
4838(searches)S
2172 V
708(archives.)S
1204(Usually,)S
12 I
1643(led)S
12 R
1833(is)S
1946(not)S
(invoked)388 2132 A
2553(directly)S
2957(by)S
3110(the)S
3291(user,)S
3556(but)S
3743(via)S
3924(the)S
4105(generic)S
4495(compiler)S
4959(driver)S
2312 V
12 I
708(ack)S
12 R
886(\(U\).)S
1186(In)S
1357(the)S
1575(simplest)S
2049(case)S
2328(several)S
2742(object)S
12 I
(files)203 3108 A
12 R
3390(are)S
3608(given,)S
3975(and)S
12 I
4218(led)S
12 R
4445(combines)S
4977(them,)S
2452 V
(producing)489 708 A
1251(an)S
1419(object)S
(module)362 1769 A
2185(which)S
2535(can)S
2758(be)S
2927(either)S
3259(fed)S
3469(into)S
3712(a)S
3821(machine)S
4286(specific)S
(conversion)530 4719 A
2592 V
708(program)S
1176(or)S
1335(become)S
1769(the)S
(input)248 1975 A
2281(for)S
2481(a)S
2593(further)S
12 I
2982(led)S
12 R
3198(run.)S
3477(\(In)S
3677(the)S
3883(latter)S
4192(case,)S
4489(if)S
4622(there)S
4923(are)S
5129(no)S
2732 V
708(unresolved)S
1280(references,)S
1852(the)S
12 B-1
2042(-)S
12 B
2110(r)S
12 R
2206(option)S
2556(must)S
2833(be)S
2989(given)S
3299(to)S
3435(preserve)S
3888(the)S
4078(relocation)S
4606(information.\))S
2872 V
708(The)S
(resulting)424 926 A
1380(object)S
1706(file)S
1899(of)S
12 I
2030(led)S
12 R
2218(is)S
2329(named)S
12 B
2681(a.out)S
12 R
2939(.)S
3048 V
708(The)S
930(argument)S
1421(routines)S
1845(are)S
2029(concatenated)S
2696(in)S
2825(the)S
3008(order)S
3299(specified.)S
3832(The)S
4055(entry)S
4339(point)S
4622(of)S
4758(the)S
4941(output)S
3188 V
708(is)S
819(the)S
997(beginning)S
1509(of)S
1640(the)S
1818(first)S
2045(routine.)S
3364 V
708(If)S
825(an)S
974(argument)S
1466(is)S
1582(an)S
1731(archive,)S
2153(its)S
2303(table)S
2574(of)S
2710(contents)S
3149(is)S
3266(searched)S
3726(for)S
3904(names)S
4249(which)S
4581(are)S
(undefined)483 4766 A
3504 V
708(at)S
844(the)S
1040(point)S
1336(at)S
1471(which)S
1814(the)S
2009(argument)S
2513(is)S
(encountered)591 2641 A
3279(in)S
3420(the)S
3615(argument)S
4119(list.)S
4375(This)S
4637(procedure)S
5168(is)S
3644 V
708(repeated)S
1149(as)S
(long)214 1280 A
1524(as)S
1655(unresolved)S
2215(references)S
2745(are)S
2924(satisfied.)S
3960 V
12 I
708(Options)S
4136 V
708(Led)S
12 R
(understands)577 936 A
1550(several)S
1931(options.)S
2384(The)S
2610(flags)S
12 B-1
2884(-)S
12 B
2952(c)S
12 R
3006(,)S
12 B-1
3074(-)S
12 B
3142(r)S
12 R
3196(,)S
12 B-1
3264(-)S
12 B
3332(s)S
12 R
3379(,)S
3447(and)S
12 B-1
3659(-)S
12 B
3727(u)S
12 R
(should)321 3832 A
4191(appear)S
4552(before)S
4900(the)S
5086(file)S
4276 V
708(names.)S
4452 V
12 B-1
708(-)S
12 B
776(a)S
12 I
(dd:nnnn)401 836 A
4592 V
12 R
1188(The)S
1406(alignment)S
1920(of)S
2051(section)S
12 I
2424(dd)S
12 R
2554(,)S
2614(where)S
12 I
2941(dd)S
12 R
3101(is)S
3212(a)S
3297(decimal)S
3712(number,)S
4142(is)S
4254(set)S
4420(to)S
12 I
(nnnn)240 4545 A
12 R
4795(.)S
4886(If)S
12 I
(nnnn)240 4999 A
4732 V
12 R
1188(starts)S
1484(with)S
1739(`0x',)S
2010(it)S
2117(is)S
2237(hexadecimal,)S
2918(else)S
3146(if)S
3260(its)S
3414(starts)S
3710(with)S
3965(`0b',)S
4236(it)S
4343(is)S
4463(binary,)S
4841(else)S
5068(if)S
5181(it)S
4872 V
1188(starts)S
1475(with)S
1721(`0',)S
1923(it)S
2021(is)S
2132(octal,)S
2428(else)S
2647(it)S
2745(is)S
2856(decimal.)S
5048 V
12 B-1
708(-)S
12 B
776(b)S
12 I
(dd:nnnn)401 843 A
5188 V
12 R
1188(The)S
1434(base)S
1707(address)S
2128(in)S
2280(the)S
2486(machine)S
2954(of)S
3113(section)S
12 I
3514(dd)S
12 R
3644(,)S
3732(is)S
3871(set)S
4064(to)S
12 I
(nnnn)240 4217 A
12 R
4467(.)S
4586(The)S
4833(previous)S
5328 V
1188(remarks)S
(about)268 1609 A
12 I
1907(dd)S
12 R
2067(and)S
12 I
(nnnn)240 2271 A
12 R
2551(apply.)S
5504 V
12 B-1
708(-)S
12 B
776(o)S
12 R
1188(The)S
12 I
1415(name)S
12 R
1726(argument)S
2222(after)S
12 B-1
2485(-)S
12 B
2553(o)S
12 R
2652(is)S
2772(used)S
3032(as)S
3172(the)S
3359(name)S
3660(of)S
3800(the)S
12 I
3987(led)S
12 R
4184(output)S
4532(file,)S
4765(instead)S
5148(of)S
5644 V
12 I
1188(a.out)S
12 R
1442(.)S
5820 V
12 B-1
708(-)S
12 B
776(r)S
12 R
1188(Generate)S
1671(relocation)S
2200(information)S
2816(in)S
2954(the)S
3146(output)S
3498(file)S
3705(so)S
3856(that)S
4082(it)S
4195(can)S
4408(be)S
4567(the)S
4760(subject)S
5148(of)S
5960 V
1188(another)S
12 I
1581(led)S
12 R
1769(run.)S
2020(This)S
2265(flag)S
(suppresses)517 2484 A
3031(the)S
3209(`Undefined:')S
(diagnostic.)527 3866 A
6136 V
12 B-1
708(-)S
12 B
776(c)S
12 R
1188(Indicates)S
1684(that)S
1924(relocation)S
2467(information)S
3097(must)S
3390(be)S
(produced,)479 3562 A
4100(but)S
4313(commons)S
4841(must)S
5135(be)S
6276 V
1188(resolved.)S
1698(This)S
1953(may)S
2201(be)S
2355(useful)S
2690(for)S
2871(machines)S
3367(that)S
3588(need)S
3855(a)S
3948(last)S
4156(relocation)S
4680(step)S
4914(at)S
5041(load)S
6416 V
1188(time.)S
1464(This)S
1709(flag)S
1928(disables)S
2348(the)S
12 B-1
2526(-)S
12 B
2594(r)S
12 R
2678(flag.)S
6592 V
12 B-1
708(-)S
12 B
776(s)S
12 R
1188(`Strip')S
1552(the)S
1746(output.)S
2160(That)S
2428(is,)S
2586(remove)S
2996(the)S
3191(name)S
3500(table)S
3783(and)S
4004(relocation)S
4536(information)S
5155(to)S
6732 V
1188(save)S
(space)269 1433 A
1732(\(but)S
1957(impair)S
2304(the)S
2482(usefulness)S
3016(of)S
3147(the)S
(debuggers\).)567 3325 A
6908 V
12 B-1
708(-)S
12 B
776(u)S
12 R
1188(Take)S
1477(the)S
1672(following)S
2190(argument)S
2694(as)S
2842(a)S
2943(symbol)S
3345(and)S
3566(enter)S
3856(it)S
3971(as)S
(undefined)483 4119 A
4649(in)S
4791(the)S
4987(name)S
7048 V
1188(table.)S
1535(This)S
1801(is)S
1932(useful)S
2278(for)S
2470(loading)S
2882(wholly)S
3268(from)S
3554(a)S
3658(library,)S
4062(since)S
(initially)378 4361 A
4789(the)S
4987(name)S
7188 V
1188(table)S
1470(is)S
1597(empty)S
1945(and)S
2165(an)S
2325(unresolved)S
2901(reference)S
3400(is)S
3527(needed)S
3915(to)S
4055(force)S
4351(the)S
4545(loading)S
4953(of)S
5101(the)S
7328 V
1188(first)S
1415(routine.)S
7700 V
708(36)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 37 43
BP
/slant 0 def
/height 0 def
860 V
12 B-1
708(-)S
12 B
776(v)S
12 R
1188(For)S
(each)222 1386 A
1638(member)S
2065(of)S
2196(a)S
2280(library)S
2634(that)S
2846(is)S
2957(linked,)S
3319(give)S
3557(a)S
3641(message)S
4081(on)S
4231(standard)S
4671(error)S
(telling)310 4939 A
1000 V
1188(why)S
12 I
1441(led)S
12 R
1644(chose)S
1964(to)S
2103(link)S
2336(it)S
2449(\(which)S
2831(unresolved)S
3406(reference)S
3903(it)S
4015(resolves\).)S
4557(This)S
4816(option)S
5168(is)S
1140 V
1188(useful)S
1514(if)S
(you)180 1619 A
1829(have)S
(`multiply)451 2087 A
2568(defined')S
3002(problems.)S
1456 V
12 I
708(Files)S
1632 V
12 R
(/profile/module/ack/lib/back/any/em)1770 708 A
12 Y1
2478(3)S
12 R
2538(led:)S
2750(led)S
2928(binary)S
1808 V
708(a.out:)S
1010(output)S
1348(file)S
2088 V
12 B
708(See)S
913(Also)S
2264 V
12 R
708(ack\(U\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(37)S
7920 V
EP
%%Page: 38 44
BP
/slant 0 def
/height 0 def
860 V
12 B
708(5.1.3.)S
1068(ACK)S
1368(STD)S
1633(C)S
1751(Compiler)S
1036 V
12 R
708(This)S
959(document)S
1471(specifies)S
1932(the)S
2116(implementation-defined)S
3316(behavior)S
3775(of)S
3912(the)S
4096(STD)S
4362(C)S
4479(front)S
4752(end)S
4963(of)S
5101(the)S
1176 V
708(Amsterdam)S
1336(Compiler)S
1855(Kit)S
2073(as)S
2236(required)S
2702(by)S
2884(ANS)S
(X3.159-1989.)669 3189 A
(Although)456 3950 A
4468(the)S
4677(C)S
4818(compiler)S
1316 V
708(available)S
1180(on)S
1334(Amoeba)S
1778(is)S
1893(fully)S
2156(derived)S
2553(from)S
2823(the)S
3005(Standard)S
3469(Conforming)S
4093(ACK)S
4383(STD)S
4647(C)S
4762(Compiler,)S
1456 V
708(some)S
999(parts)S
1271(of)S
1408(the)S
1592(Amoeba)S
2038(libraries)S
(still)183 2473 A
2692(require)S
3072(some)S
3363(work)S
3648(in)S
3778(order)S
4070(to)S
(reach)263 4200 A
4499(full)S
4704(Standard)S
5169(C)S
1596 V
708(conformance.)S
1441(Details)S
1827(of)S
1969(the)S
2158(Amoeba)S
2609(library)S
2974(conformance)S
3647(are)S
3838(in)S
12 I
3974(ansi)S
12 Y1
4175(3)S
12 I
4235(C)S
12 R
4325(\(L\).)S
4583(A)S
4713(companion)S
1736 V
708(document,)S
12 I
1250(posix)S
12 R
1515(\(L\),)S
1737(provides)S
2189(information)S
(about)268 2797 A
3101(functions)S
3587(not)S
3777(defined)S
4176(by)S
4332(the)S
4515(C)S
4630(Standard)S
5095(but)S
1876 V
708(by)S
865(the)S
1050(POSIX)S
1438(standard,)S
1915(as)S
2053(well)S
2300(as)S
(additional)484 2438 A
2959(information)S
(about)268 3568 A
3873(functions)S
4361(defined)S
4762(\(partially\))S
2016 V
708(by)S
858(both)S
1102(standards.)S
2192 V
708(As)S
882(the)S
1069(Amoeba)S
1518(Standard)S
1987(C)S
2106(library)S
2469(is)S
2589(also)S
2824(used)S
3085(by)S
3245(cross)S
3534(compilers)S
4052(for)S
4234(Amoeba)S
4684(that)S
4906(are)S
5095(not)S
2332 V
(necessarily)539 708 A
1278(STD)S
1538(C)S
1649(compatible,)S
2248(the)S
2427(section)S
2800(specifying)S
3334(implementation)S
4124(defined)S
4517(behavior)S
4970(of)S
5101(the)S
2472 V
708(Standard)S
1168(C)S
1278(library)S
1632(\(marked)S
12 B
2066(ANS)S
2339(A.6.3.14)S
12 R
2757(\))S
2828(deserves)S
3275(attention)S
3729(in)S
3853(any)S
4057(case.)S
2788 V
12 I
708(ACK)S
972(STD)S
1217(C)S
1327(compliance)S
1915(statements)S
3000 V
12 B
708(ANS)S
981(A.6.3.1:)S
3176 V
12 Y1
708(d)S
12 R
(Diagnostics)572 958 A
1609(are)S
(placed)316 1837 A
2232(on)S
2431(the)S
2659(standard)S
3149(error)S
3466(output.)S
3914(They)S
4242(have)S
4550(the)S
4778(following)S
3316 V
958(specification:)S
3526 V
958(``<file>'',)S
1481(line)S
1693(<nr>:)S
1994([\(<class>\)])S
(<diagnostic>)633 2560 A
3736 V
958(There)S
1290(are)S
1488(three)S
1780(classes)S
2167(of)S
(diagnostics:)578 2318 A
12 I
2946(error)S
12 R
3211(,)S
12 I
3291(strict)S
12 R
3601(and)S
12 I
3825(warning)S
12 R
4236(.)S
4346(When)S
4684(the)S
4882(class)S
5168(is)S
3876 V
12 I
958(error)S
12 R
1223(,)S
1283(the)S
1461(<class>)S
1863(is)S
1974(absent.)S
4016 V
958(The)S
1190(class)S
12 I
1470(strict)S
12 R
1774(is)S
1899(used)S
2164(for)S
2351(violations)S
2873(of)S
3019(the)S
3212(standard)S
3667(which)S
4008(are)S
4202(not)S
4401(severe)S
(enough)354 4756 A
5155(to)S
4156 V
958(stop)S
1198(compilation.)S
1875(An)S
2062(example)S
2511(is)S
2631(the)S
2818(occurrence)S
3389(of)S
(non)180 3529 A
(white-space)580 3747 A
4365(after)S
4627(an)S
4779(`#else')S
5148(or)S
4296 V
958(`#endif')S
1412(preprocessing)S
2147(directive.)S
2695(The)S
2946(class)S
12 I
3245(warning)S
12 R
3719(is)S
3863(used)S
4147(for)S
4352(legal)S
4651(but)S
(dubious)381 4868 A
4436 V
958(constructions.)S
1693(An)S
1871(example)S
2311(is)S
2422(overflow)S
2890(of)S
3021(constant)S
3454(expressions.)S
4612 V
12 B
708(ANS)S
981(A.6.3.2:)S
4788 V
12 Y1
708(d)S
12 R
958(The)S
1217(function)S
1691(`main')S
2086(can)S
2325(have)S
2625(two)S
2879(arguments.)S
3515(The)S
3775(first)S
4044(argument)S
4573(is)S
4726(an)S
4912(integer)S
4928 V
958(specifying)S
1506(the)S
1698(number)S
2111(of)S
2256(arguments)S
2804(on)S
2967(the)S
3158(command)S
3677(line.)S
3962(The)S
(second)335 4193 A
4571(argument)S
5071(is)S
5195(a)S
5068 V
958(pointer)S
1331(to)S
1455(an)S
1599(array)S
1879(of)S
2010(pointers)S
2430(to)S
2554(the)S
2732(arguments)S
3266(\(as)S
3438(strings\).)S
5244 V
12 Y1
708(d)S
12 R
958(Interactive)S
1508(devices)S
1901(are)S
2080(terminals.)S
5420 V
12 B
708(ANS)S
981(A.6.3.3:)S
5596 V
12 Y1
708(d)S
12 R
958(The)S
1202(number)S
1627(of)S
1784(significant)S
2352(characters)S
2901(is)S
3038(an)S
3208(option.)S
3632(By)S
3828(default)S
4221(it)S
4345(is)S
4482(64.)S
4718(There)S
5057(is)S
5195(a)S
5736 V
958(distinction)S
1499(between)S
(upper)275 1933 A
2238(and)S
2442(lower)S
2749(case.)S
5912 V
12 B
708(ANS)S
981(A.6.3.4:)S
6088 V
12 Y1
708(d)S
12 R
958(The)S
1176(compiler)S
1637(assumes)S
(ASCII-characters)851 2070 A
2951(in)S
3075(both)S
3319(the)S
3497(source)S
3843(and)S
4047(execution)S
4547(character)S
5023(set.)S
6264 V
12 Y1
708(d)S
12 R
958(There)S
1271(are)S
1450(no)S
(multi-byte)505 1600 A
2135(characters.)S
6440 V
12 Y1
708(d)S
12 R
958(There)S
1271(are)S
1450(8)S
1540(bits)S
1745(in)S
1869(a)S
1953(character.)S
6616 V
12 Y1
708(d)S
12 R
958(Character)S
1460(constants)S
1940(with)S
2186(values)S
2525(that)S
2737(can)S
2935(not)S
3119(be)S
3263(represented)S
3852(in)S
3976(8)S
4066(bits)S
4271(are)S
4450(truncated.)S
6792 V
12 Y1
708(d)S
12 R
958(Character)S
1478(constants)S
1976(that)S
2206(are)S
2403(more)S
2700(than)S
2956(1)S
3064(character)S
3559(wide)S
(will)190 3844 A
4083(have)S
4360(the)S
4557(first)S
4803(character)S
6932 V
958(specified)S
1426(in)S
1550(the)S
1728(least)S
1981(significant)S
2523(byte.)S
7108 V
12 Y1
708(d)S
12 R
958(The)S
1176(only)S
(supported)476 1420 A
1926(locale)S
2246(is)S
2357(``C''.)S
7284 V
12 Y1
708(d)S
12 R
958(A)S
1076(plain)S
1348(`char')S
1669(has)S
1860(the)S
2038(same)S
2317(range)S
2616(of)S
2747(values)S
3086(as)S
3217(`signed)S
3603(char'.)S
7700 V
708(38)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 39 45
BP
/slant 0 def
/height 0 def
860 V
12 B
708(ANS)S
981(A.6.3.5:)S
1036 V
12 Y1
708(d)S
12 R
958(The)S
1195(compiler)S
1676(assumes)S
2129(that)S
2361(it)S
2479(works)S
2825(on,)S
3025(and)S
3249(compiles)S
3736(for,)S
3958(a)S
4062(2's-complement)S
4899(binary-)S
1176 V
958(number)S
1360(system.)S
1789(Shorts)S
(will)190 2131 A
2354(use)S
2548(2)S
2641(bytes)S
2929(and)S
(longs)261 3136 A
(will)190 3430 A
3653(use)S
3847(4)S
3940(bytes.)S
4288(The)S
4509(size)S
4731(of)S
4865(integers)S
1316 V
958(is)S
1069(machine)S
1509(dependent.)S
1492 V
12 Y1
708(d)S
12 R
(Converting)543 958 A
1540(an)S
1693(integer)S
2069(to)S
2202(a)S
2295(shorter)S
2672(signed)S
3027(integer)S
3404(is)S
3525(implemented)S
4197(by)S
(ignoring)409 4357 A
4806(the)S
4994(high-)S
1632 V
958(order)S
1260(byte\(s\))S
1643(of)S
1790(the)S
1984(former.)S
(Converting)543 2421 A
3010(a)S
3110(unsigned)S
3591(integer)S
3974(to)S
4114(a)S
4213(signed)S
4573(integer)S
4955(of)S
5101(the)S
1772 V
958(same)S
1265(type)S
1532(is)S
1672(only)S
(done)234 1945 A
2238(in)S
2391(administration.)S
3210(This)S
3484(means)S
3852(that)S
4093(the)S
4300(bit-pattern)S
4865(remains)S
1912 V
958(unchanged.)S
2088 V
12 Y1
708(d)S
12 R
958(The)S
1191(result)S
1506(of)S
1652(bitwise)S
2048(operations)S
2598(on)S
2764(signed)S
3125(integers)S
3555(are)S
3750(what)S
4032(can)S
4246(be)S
4406(expected)S
4882(on)S
5048(a)S
5148(2-)S
2228 V
958(complement)S
1586(machine.)S
2404 V
12 Y1
708(d)S
12 R
958(If)S
1082(either)S
1401(operand)S
1832(is)S
1955(negative,)S
2437(whether)S
2870(the)S
3060(result)S
3372(of)S
3515(the)S
3706(/)S
3783(operator)S
4230(is)S
4354(the)S
4545(largest)S
4912(integer)S
2544 V
958(less)S
1178(than)S
1424(or)S
1563(equal)S
1863(to)S
1995(the)S
2181(algebraic)S
(quotient)396 2664 A
3097(or)S
3235(the)S
3420(smallest)S
3855(integer)S
4229(greater)S
4604(than)S
4849(or)S
4987(equal)S
2684 V
958(to)S
1101(the)S
1298(algebraic)S
(quotient)396 1792 A
2237(is)S
2367(machine)S
2826(dependent,)S
3401(as)S
3551(is)S
3681(the)S
3879(sign)S
4130(of)S
4281(the)S
4479(result)S
4799(of)S
4950(the)S
5148(%)S
2824 V
958(operator.)S
3000 V
12 Y1
708(d)S
12 R
958(The)S
1176(right-shift)S
1692(of)S
1823(a)S
1907(negative)S
2347(value)S
2639(is)S
2750(negative.)S
3176 V
12 B
708(ANS)S
981(A.6.3.6:)S
3352 V
12 Y1
708(d)S
12 R
958(The)S
1229(representation)S
1999(of)S
2183(floating-point)S
2932(values)S
3325(is)S
3490(machine-dependent.)S
4581(When)S
4953(native)S
3492 V
958(floating-point)S
1688(is)S
1832(not)S
2049(present)S
2462(an)S
(IEEE-emulation)788 2639 A
3490(is)S
3634(used.)S
3978(The)S
4229(compiler)S
4723(uses)S
4994(high-)S
3632 V
958(precision)S
1432(floating-point)S
2128(for)S
2300(constant)S
2733(folding.)S
3808 V
12 Y1
708(d)S
12 R
958(Truncation)S
1519(is)S
1630(always)S
1997(to)S
2121(the)S
2299(nearest)S
2673(floating-point)S
3369(number)S
3768(that)S
3980(can)S
4178(be)S
4322(represented.)S
3984 V
12 B
708(ANS)S
981(A.6.3.7:)S
4160 V
12 Y1
708(d)S
12 R
958(The)S
1184(type)S
1430(returned)S
1872(by)S
2030(the)S
2216(sizeof-operator)S
2989(\(also)S
(known)328 3263 A
3629(as)S
3768(size)S
12 Y1
3957(3)S
12 R
4017(t\))S
4131(is)S
4251('unsigned)S
4766(int'.)S
5034(This)S
4300 V
958(is)S
(done)234 1069 A
1333(for)S
1505(backward)S
(compatibility)646 2006 A
2682(reasons.)S
4476 V
12 Y1
708(d)S
12 R
958(Casting)S
1365(an)S
1517(integer)S
1892(to)S
2024(a)S
2116(pointer)S
2497(or)S
2636(vice)S
2876(versa)S
3171(has)S
3371(no)S
3530(effect)S
3847(in)S
3980(bit-pattern)S
4525(when)S
4826(the)S
5013(sizes)S
4616 V
958(are)S
1154(equal.)S
1523(Otherwise)S
2070(the)S
2265(value)S
(will)190 2574 A
2810(be)S
2970(truncated)S
3467(or)S
3614(zero-extended)S
4346(\(depending)S
4935(on)S
5101(the)S
4756 V
958(direction)S
1419(of)S
1550(the)S
(conversion)530 1728 A
2288(and)S
2492(the)S
2670(relative)S
3065(sizes\).)S
4932 V
12 Y1
708(d)S
12 R
958(When)S
1277(a)S
1362(pointer)S
1736(is)S
1848(as)S
1980(large)S
2254(as)S
2386(an)S
2531(integer,)S
2929(the)S
3108(type)S
3347(of)S
3479(a)S
3564('ptrdiff)S
12 Y1
3916(3)S
12 R
3976(t')S
(will)190 4082 A
4303(be)S
4448('int'.)S
4749(Otherwise)S
5072 V
958(the)S
1136(type)S
(will)190 1374 A
1594(be)S
('long'.)326 1738 A
5248 V
12 B
708(ANS)S
981(A.6.3.8:)S
5424 V
12 Y1
708(d)S
12 R
958(Since)S
1262(the)S
1445(front)S
1716(end)S
1925(has)S
2121(only)S
2370(limited)S
2749(control)S
3127(over)S
3378(the)S
3562(registers,)S
4040(it)S
4144(can)S
4348(only)S
4598(make)S
4896(it)S
5000(more)S
5564 V
958(likely)S
1283(that)S
1514(variables)S
2001(that)S
2232(are)S
2430(declared)S
2890(as)S
3040(registers)S
3501(also)S
3745(end)S
3968(up)S
4137(in)S
4279(registers.)S
4799(The)S
5035(only)S
5704 V
958(things)S
1295(that)S
1519(can)S
1729(possibly)S
2173(be)S
2329(put)S
2526(into)S
2757(registers)S
3212(are)S
3404(:)S
3481(`int',)S
(`long',)326 3764 A
4133(`float',)S
(`double',)440 4511 A
(`long)255 4994 A
5844 V
(double')369 958 A
1357(and)S
1561(pointers.)S
6020 V
12 B
708(ANS)S
981(A.6.3.9:)S
6196 V
12 Y1
708(d)S
12 R
958(When)S
1286(a)S
1380(member)S
1817(of)S
1958(a)S
2052(union)S
2366(object)S
2703(is)S
(accessed)424 2825 A
3290(using)S
3592(a)S
3687(member)S
4125(of)S
4267(a)S
4362(different)S
4822(type,)S
5101(the)S
6336 V
(resulting)424 958 A
1428(value)S
(will)190 1736 A
1972(usually)S
2367(be)S
2527(garbage.)S
3016(The)S
3249(compiler)S
3725(makes)S
4079(no)S
4244(effort)S
4560(to)S
4699(catch)S
5000(these)S
6476 V
958(errors.)S
6652 V
12 Y1
708(d)S
12 R
958(The)S
1181(alignment)S
1700(of)S
1836(types)S
2126(is)S
2242(a)S
2331(compile-time)S
3013(option.)S
3416(The)S
3639(alignment)S
4159(of)S
4296(a)S
4386(structure-member)S
6792 V
958(is)S
1076(the)S
1261(alignment)S
1782(of)S
1920(its)S
2072(type.)S
2377(Usually,)S
2821(the)S
3006(alignment)S
3527(is)S
3645(passed)S
4004(on)S
4161(to)S
4292(the)S
4477(compiler)S
4945(by)S
5101(the)S
6932 V
958(`ack')S
1248(program.)S
1758(When)S
2086(a)S
2180(user)S
2422(wants)S
2745(to)S
2879(do)S
3039(this)S
3254(manually,)S
3775(he/she)S
(should)321 4125 A
4487(be)S
4642(prepared)S
5107(for)S
7072 V
(trouble.)373 958 A
7248 V
12 Y1
708(d)S
12 R
958(A)S
12 I
1079(plain)S
12 R
1370(`int')S
1613(bit-field)S
2038(is)S
2152(taken)S
2447(as)S
2581(a)S
2668(`signed)S
3057(int'.)S
3319(This)S
3567(means)S
3909(that)S
4124(a)S
4211(field)S
4467(with)S
4716(a)S
4804(size)S
5027(1)S
5121(bit)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(39)S
7920 V
EP
%%Page: 40 46
BP
/slant 0 def
/height 0 def
860 V
12 R
958(can)S
1156(only)S
1400(store)S
1666(the)S
1844(values)S
2183(0)S
2273(and)S
12 Y
2477(-)S
12 R
2543(1.)S
1036 V
12 Y1
708(d)S
12 R
958(The)S
1192(order)S
1494(of)S
1641(allocation)S
2165(of)S
2313(bit-fields)S
2799(is)S
2927(a)S
3028(compile-time)S
3722(option.)S
4137(By)S
4324(default,)S
4738(high-order)S
1176 V
958(bits)S
1163(are)S
1342(allocated)S
1810(first.)S
1352 V
12 Y1
708(d)S
12 R
958(An)S
1136(enum)S
1434(has)S
1625(the)S
1803(same)S
2082(size)S
2301(as)S
2432(a)S
12 I
2516(plain)S
12 R
2804(`int'.)S
1528 V
12 B
708(ANS)S
981(A.6.3.10:)S
1704 V
12 Y1
708(d)S
12 R
958(An)S
(access)310 1148 A
1500(to)S
1636(a)S
(volatile)364 1732 A
2138(declared)S
2591(variable)S
3024(is)S
(done)234 3147 A
3423(by)S
3585(just)S
3803(mentioning)S
4396(the)S
4587(variable.)S
5081(For)S
1844 V
958(example,)S
1428(the)S
1606(statement)S
12 C
2101(x;)S
12 R
2277(where)S
2604(x)S
2694(is)S
2805(declared)S
(volatile,)394 3246 A
(constitutes)518 3670 A
4218(an)S
(access.)340 4362 A
2020 V
12 B
708(ANS)S
981(A.6.3.11:)S
2196 V
12 Y1
708(d)S
12 R
958(There)S
1289(is)S
1418(no)S
1586(fixed)S
1883(limit)S
2161(on)S
2330(the)S
2527(number)S
2945(of)S
3095(declarators)S
3677(that)S
3908(may)S
4165(modify)S
4563(an)S
4726(arithmetic,)S
2336 V
958(structure)S
1415(or)S
1548(union)S
1854(type,)S
(although)422 2124 A
2578(specifying)S
3114(too)S
3299(many)S
3598(may)S
3837(cause)S
4137(the)S
4316(compiler)S
4778(to)S
4903(run)S
5095(out)S
2476 V
958(of)S
1089(memory.)S
2652 V
12 B
708(ANS)S
981(A.6.3.12:)S
2828 V
12 Y1
708(d)S
12 R
958(The)S
1176(maximum)S
1696(number)S
2095(of)S
2227(cases)S
2514(in)S
2639(a)S
2724(switch-statement)S
3578(is)S
3690(in)S
3815(the)S
3994(order)S
4281(of)S
4413(1e9,)S
(although)422 4648 A
5101(the)S
2968 V
958(compiler)S
1419(may)S
1657(run)S
1848(out)S
2032(of)S
2163(memory)S
2596(somewhat)S
3117(earlier.)S
3144 V
12 B
708(ANS)S
981(A.6.3.13:)S
3320 V
12 Y1
708(d)S
12 R
958(Since)S
1297(both)S
1581(the)S
1800(preprocessor)S
2490(and)S
2735(the)S
2954(compiler)S
3456(assume)S
(ASCII-characters,)881 3883 A
4835(a)S
4960(single)S
3460 V
958(character)S
1454(constant)S
1907(in)S
2051(a)S
(conditional-inclusion)1028 2155 A
3232(directive)S
3706(matches)S
4152(the)S
4349(same)S
4647(value)S
4958(in)S
5101(the)S
3600 V
958(execution)S
1458(character)S
1934(set.)S
3776 V
12 Y1
708(d)S
12 R
958(The)S
1181(preprocessor)S
(recognizes)518 1835 A
(\261I...)191 2388 A
2615(command-line)S
3350(options.)S
3801(The)S
4025(directories)S
4574(thus)S
4811(specified)S
3916 V
958(are)S
1140(searched)S
1597(first.)S
1887(After)S
2178(that,)S
2423(depending)S
2958(on)S
3111(the)S
3292(command)S
3801(that)S
4015(the)S
4195(preprocessor)S
4846(is)S
4959(called)S
4056 V
958(with,)S
1325(machine)S
1856(and)S
2151(system-dependent)S
3145(directories)S
3780(are)S
4051(searched.)S
4657(After)S
5037(that,)S
4196 V
12 I
(/profile/module/ack/include/posix)1628 958 A
12 R
2626(and)S
12 I
(/profile/module/ack/include)1339 2830 A
12 R
4209(are)S
4388(visited.)S
4372 V
12 Y1
708(d)S
12 R
958(Quoted)S
1364(names)S
1724(are)S
1924(first)S
(looked)328 2172 A
2551(for)S
2744(in)S
2889(the)S
3088(directory)S
3577(in)S
3722(which)S
4069(the)S
4268(file)S
4482(which)S
4829(does)S
5101(the)S
4512 V
958(include)S
1344(resides.)S
4688 V
12 Y1
708(d)S
12 R
958(The)S
1176(characters)S
1699(in)S
1823(a)S
1907(h-)S
2038(or)S
2169(q-)S
2300(character)S
2776(sequence)S
3249(are)S
3428(taken)S
3720(to)S
3844(be)S
3988(path)S
4226(names.)S
4864 V
12 Y1
708(d)S
12 R
958(Neither)S
1353(the)S
1531(compiler)S
1992(nor)S
2183(the)S
2361(preprocessor)S
(know)268 3010 A
3308(any)S
3512(pragmas.)S
5040 V
12 Y1
708(d)S
12 R
958(Since)S
1257(the)S
1435(compiler)S
1896(runs)S
2134(on)S
2284(Amoeba,)S
12 Y1
2755(33)S
12 R
2875(DATE)S
12 Y1
3199(33)S
12 R
3350(and)S
12 Y1
3555(33)S
12 R
3675(TIME)S
12 Y1
3971(33)S
12 R
(will)190 4122 A
4343(always)S
4711(be)S
4856(defined.)S
5180 V
958(When)S
1277(the)S
1456(time-of-day)S
2060(server)S
2388(does)S
2640(not)S
(respond)382 2825 A
3238(within)S
3578(few)S
(seconds,)412 3791 A
4233(time)S
4479(and)S
4683(date)S
(will)190 4915 A
5135(be)S
5320 V
958(set)S
1123(to)S
1247(the)S
1425(local)S
1691(equivalent)S
2225(of)S
2356(Jan)S
2547(1,)S
(1970.)270 2667 A
5496 V
12 B
708(ANS)S
981(A.6.3.14:)S
5672 V
12 Y1
708(d)S
12 R
958(NULL)S
1312(is)S
1423(defined)S
1816(as)S
1947(\(\(void)S
2273(*\))S
2404(0\).)S
2595(This)S
2840(in)S
2964(order)S
3250(to)S
3374(flag)S
(dubious)381 3593 A
4004(constructions)S
4679(like)S
5812 V
12 C
(int)219 958 A
1250(x)S
1396(=)S
(NULL;)365 1542 A
12 R
1907(.)S
5988 V
12 Y1
708(d)S
12 R
958(The)S
(diagnostic)497 1176 A
1703(printed)S
2076(by)S
2226(`assert')S
2615(is)S
2726(as)S
2857(follows:)S
6188 V
11 C
(Assertion)603 1318 A
("<expr>")536 1988 A
(failed,)469 2591 A
(file)268 3127 A
("<file>",)603 3462 A
(line)268 4132 A
(<line>)402 4467 A
6388 V
12 R
958(where)S
1302(<expr>)S
1700(is)S
1828(the)S
2023(argument)S
2527(to)S
2668(the)S
2863(assert)S
3187(macro,)S
3567(printed)S
3958(as)S
4107(string.)S
4491(\(the)S
4728(<file>)S
5075(and)S
6528 V
958(<line>)S
(should)321 1306 A
1657(be)S
1801(clear\))S
7700 V
708(40)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 41 47
BP
/slant 0 def
/height 0 def
896 V
12 Y1
708(d)S
12 R
958(The)S
1176(sets)S
1388(for)S
1560(character)S
2036(test)S
2235(macros.)S
1106 V
958(name:)S
1603(set:)S
1246 V
958(isalnum\(\))S
1603(0-9A-Za-z)S
1386 V
958(isalpha\(\))S
1603(A-Za-z)S
1526 V
958(iscntrl\(\))S
(\\000-\\037\\177)683 1603 A
1666 V
(islower\(\))440 958 A
1603(a-z)S
1806 V
(isupper\(\))438 958 A
1603(A-Z)S
1946 V
958(isprint\(\))S
(<space>-)446 1603 A
2109(\(==)S
(\\040-\\176\))510 2316 A
2156 V
958(As)S
1128(an)S
(addition,)426 1277 A
1738(there)S
2016(is)S
2132(an)S
12 I
2281(isascii\(\))S
12 R
2718(macro,)S
3086(which)S
3417(tests)S
3668(whether)S
4094(a)S
4183(character)S
4665(is)S
4782(an)S
4932(ASCII)S
2296 V
958(character.)S
1494(Characters)S
2043(in)S
2167(the)S
2345(range)S
2644(from)S
(\\000)214 2910 A
3154(to)S
(\\177)214 3278 A
3522(are)S
3701(ASCII)S
4048(characters.)S
2472 V
12 Y1
708(d)S
12 R
958(The)S
1176(behavior)S
1629(of)S
1760(mathematical)S
2444(functions)S
2924(on)S
3074(domain)S
3466(error:)S
2682 V
958(name:)S
1665(returns:)S
2822 V
958(asin\(\))S
1776(0.0)S
2962 V
958(acos\(\))S
1776(0.0)S
3102 V
958(atan2\(\))S
1776(0.0)S
3242 V
958(fmod\(\))S
1776(0.0)S
3382 V
958(log\(\))S
12 Y
1494(-)S
12 R
(HUGE)338 1560 A
12 Y1
1898(3)S
12 R
1958(VAL)S
3522 V
(log10\(\))356 958 A
12 Y
1494(-)S
12 R
(HUGE)338 1560 A
12 Y1
1898(3)S
12 R
1958(VAL)S
3662 V
958(pow\(\))S
1776(0.0)S
3802 V
958(sqrt\(\))S
1776(0.0)S
4048 V
12 Y1
708(d)S
12 R
958(Underflow)S
1514(range)S
1813(errors)S
2127(do)S
2277(not)S
2461(cause)S
12 I
2760(errno)S
12 R
3068(to)S
3192(be)S
3336(set.)S
4224 V
12 Y1
708(d)S
12 R
958(The)S
1182(function)S
12 I
1621(fmod\(\))S
12 R
1991(returns)S
2364(0.0)S
2550(and)S
2760(sets)S
12 I
2978(errno)S
12 R
3293(to)S
3424(EDOM)S
3818(when)S
4117(the)S
(second)335 4302 A
4674(argument)S
5168(is)S
4364 V
958(0.0.)S
4540 V
12 Y1
708(d)S
12 R
958(Under)S
1307(native)S
1649(Amoeba,)S
2136(the)S
2331(set)S
2513(of)S
2661(signals)S
3044(for)S
3233(the)S
12 I
(signal\(\))377 3428 A
12 R
3862(function)S
4312(is)S
4440(listed)S
4750(in)S
4891(the)S
5086(file)S
4680 V
12 I
(/profile/module/ack/include/posix/signal.h)2047 958 A
12 R
3015(.)S
3184(The)S
3481(default)S
3927(handling,)S
4488(semantics)S
5075(and)S
4820 V
958(behavior)S
1416(of)S
1552(signals)S
1923(in)S
2052(Amoeba)S
2497(are)S
2681(intended)S
3132(to)S
3261(be)S
3410(\(or)S
3587(become\))S
4040(POSIX)S
4427(compatible.)S
5061(The)S
4960 V
958(signal)S
1277(SIGILL)S
1692(is)S
1803(handled)S
2215(like)S
2427(all)S
2579(other)S
2858(signals.)S
5136 V
12 Y1
708(d)S
12 R
958(A)S
1076(text-stream)S
1653(need)S
1911(not)S
2095(end)S
2299(in)S
2423(a)S
2507(new-line)S
2962(character.)S
5312 V
12 Y1
708(d)S
12 R
958(White)S
(space)269 1284 A
1583(characters)S
2106(before)S
2446(a)S
2530(new-line)S
2985(appear)S
3338(when)S
3630(read)S
3869(in.)S
5488 V
12 Y1
708(d)S
12 R
958(No)S
1136(null)S
1354(characters)S
(will)190 1877 A
2097(be)S
2241(appended)S
2733(to)S
2857(a)S
2941(binary)S
3280(stream.)S
5664 V
12 Y1
708(d)S
12 R
958(The)S
1206(file)S
(position)389 1429 A
1878(indicator)S
2369(of)S
2530(an)S
2704(append-mode)S
3422(stream)S
3807(is)S
(initially)378 3949 A
(positioned)503 4388 A
4952(at)S
5101(the)S
5804 V
958(beginning)S
1470(of)S
1601(the)S
1779(file.)S
5980 V
12 Y1
708(d)S
12 R
958(A)S
1085(write)S
1375(on)S
1534(a)S
1627(text)S
1848(stream)S
2211(does)S
2471(not)S
2664(cause)S
2972(the)S
3159(associated)S
3696(file)S
3898(to)S
4031(be)S
4184(truncated)S
(beyond)354 4674 A
5067(that)S
6120 V
958(point.)S
6296 V
12 Y1
708(d)S
12 R
958(The)S
1176(buffering)S
1657(intended)S
2103(by)S
2253(the)S
2431(standard)S
2871(is)S
2982(fully)S
(supported.)506 3241 A
6472 V
12 Y1
708(d)S
12 R
958(A)S
1076(zero-length)S
1658(file)S
1851(actually)S
2265(exists.)S
6648 V
12 Y1
708(d)S
12 R
958(A)S
1076(file)S
1269(name)S
1561(can)S
1759(consist)S
2125(of)S
2256(any)S
2460(character,)S
2966(except)S
3312(for)S
3484(the)S
3662('\\0')S
3868(and)S
4072(the)S
4250('/'.)S
6824 V
12 Y1
708(d)S
12 R
958(When)S
1313(a)S
1434(file)S
1664(is)S
1812(opened)S
2227(for)S
(writing,)381 2436 A
2884(all)S
3073(modifications)S
(will)190 3806 A
4063(be)S
4244(made)S
4573(on)S
4760(a)S
4882(private,)S
6964 V
12 I
(uncommitted)626 958 A
12 R
1638(\(see)S
12 I
1878(bullet)S
12 R
2164(\(A\))S
2378(\))S
(copy)234 2463 A
2741(of)S
2886(the)S
3078(original.)S
3559(As)S
(soon)227 3738 A
4009(as)S
4154(the)S
4345(file)S
4551(is)S
4675(closed,)S
5057(it)S
5168(is)S
7104 V
12 I
(committed)506 958 A
12 R
1474(,)S
1545(installed)S
1997(in)S
2132(the)S
2321(directory)S
2800(using)S
3102(the)S
3291(name)S
3594(server)S
3932(\(see)S
12 I
(soap)227 4169 A
12 R
4406(\(A\)\),)S
4688(after)S
4953(which)S
7244 V
958(any)S
1169(old)S
1359(version)S
1751(is)S
1868(destroyed.)S
2434(So)S
2597(while)S
2903(a)S
2993(file)S
3192(is)S
3309(being)S
(written)345 3613 A
3994(to,)S
4154(it)S
(should)321 4258 A
4615(be)S
4765(open)S
5035(only)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(41)S
7920 V
EP
%%Page: 42 48
BP
/slant 0 def
/height 0 def
860 V
12 R
958(once.)S
1276(Having)S
1662(a)S
1746(file)S
1939(open)S
2203(for)S
2375(reading)S
(multiple)404 2768 A
3202(times)S
3495(is)S
3606(safe,)S
3862(however.)S
1036 V
12 Y1
708(d)S
12 R
958(When)S
1292(a)S
12 I
1392(remove\(\))S
12 R
1887(is)S
(done)234 2014 A
2294(on)S
2460(an)S
2620(open)S
2900(file,)S
3139(reading)S
3548(and)S
(writing)351 3768 A
4165(behave)S
4553(just)S
4774(as)S
4921(can)S
5135(be)S
1176 V
958(expected)S
1435(from)S
1718(a)S
(non-removed)644 1819 A
2510(file.)S
2780(When)S
3115(the)S
3310(associated)S
3854(stream)S
4224(is)S
4351(closed,)S
4736(all)S
(written)345 4904 A
1316 V
958(data)S
(will)190 1190 A
1410(be)S
1554(retained,)S
2005(as)S
2136(a)S
2220(result)S
2520(of)S
2651(the)S
2829(file)S
3022(semantics)S
3530(described)S
(above.)318 4024 A
1492 V
12 Y1
708(d)S
12 R
958(When)S
1276(the)S
1454(destination)S
2015(file)S
2208(exists)S
2514(prior)S
2780(to)S
2904(a)S
2988(call)S
3194(to)S
12 I
3318(rename\(\))S
12 R
3773(,)S
3833(it)S
3931(is)S
4042(removed)S
4495(first.)S
1668 V
12 Y1
708(d)S
12 R
958(The)S
1186(%p)S
(conversion)530 1387 A
1957(in)S
12 I
2091(fprintf\(\))S
12 R
2526(has)S
2727(the)S
2916(same)S
3206(effect)S
3525(as)S
3667(%#x)S
3929(or)S
4071(%#lx,)S
4397(depending)S
4940(on)S
5101(the)S
1808 V
958(sizes)S
1224(of)S
1355(pointer)S
1728(and)S
1932(integer.)S
1984 V
12 Y1
708(d)S
12 R
958(The)S
1177(%p)S
(conversion)530 1369 A
1930(in)S
12 I
2055(fscanf\(\))S
12 R
2467(has)S
2660(the)S
2840(same)S
3121(effect)S
3431(as)S
3564(%x)S
3757(or)S
3890(%lx,)S
4147(depending)S
4681(on)S
4833(the)S
5013(sizes)S
2124 V
958(of)S
1089(pointer)S
1462(and)S
1666(integer.)S
2300 V
12 Y1
708(d)S
12 R
958(A)S
1099(`)S
12 R-1
1140(-)S
12 R
1208(')S
1302(character)S
1801(that)S
2036(is)S
2170(neither)S
2560(the)S
2761(first)S
3011(nor)S
3225(the)S
3426(last)S
3648(character)S
4147(in)S
4294(the)S
4495(scanlist)S
4912(for)S
5107(%[)S
2440 V
(conversion)530 958 A
1545(is)S
1683(taken)S
2002(to)S
2153(be)S
2324(a)S
2435(range)S
2761(indicator.)S
3309(When)S
3654(the)S
3858(first)S
4111(character)S
4613(has)S
4830(a)S
4940(higher)S
2580 V
(ASCII-value)620 958 A
1608(than)S
1846(the)S
(second,)365 2024 A
2419(the)S
2597(`)S
12 R-1
2638(-)S
12 R
2706(')S
(will)190 2777 A
2997(just)S
3202(be)S
3346(put)S
3530(into)S
3748(the)S
3926(scanlist.)S
2756 V
12 Y1
708(d)S
12 R
958(The)S
1176(value)S
1468(of)S
12 I
1599(errno)S
12 R
1907(when)S
12 I
2199(fgetpos\(\))S
12 R
2670(or)S
12 I
2801(ftell\(\))S
12 R
3113(failed)S
3420(is)S
3531(that)S
3743(of)S
12 I
(lseek\(\))325 3874 A
12 R
4209(.)S
4299(This)S
4544(means:)S
2932 V
958(EBADF)S
12 R-1
1558(-)S
12 R
1656(when)S
1948(the)S
2126(stream)S
2480(is)S
2591(not)S
2775(valid)S
3108 V
958(ESPIPE)S
12 R-1
1558(-)S
12 R
1656(when)S
1948(fildes)S
2248(is)S
2359(associated)S
2887(with)S
3133(a)S
3217(pipe)S
3455(or)S
3586(another)S
(non-file)384 3979 A
4393(server)S
3284 V
(EINVAL)453 958 A
12 R-1
1558(-)S
12 R
1659(when)S
1954(an)S
2101(invalid)S
2470(seek)S
2719(mode)S
3021(is)S
3136(specified,)S
3638(or)S
3773(when)S
4069(the)S
(resulting)424 4251 A
4709(file)S
4906(pointer)S
3424 V
1558(would)S
1890(be)S
2034(negative)S
3600 V
958(EIO)S
12 R-1
1558(-)S
12 R
1656(when)S
1948(the)S
2126(bullet)S
2432(file)S
2625(server)S
2952(does)S
3203(not)S
(respond.)412 3387 A
3812 V
12 Y1
708(d)S
12 R
958(The)S
1193(messages)S
1697(generated)S
2215(by)S
12 I
2382(perror\(\))S
12 R
2837(depend)S
3233(on)S
3401(the)S
3597(value)S
3907(of)S
12 I
4056(errno)S
12 R
4334(.)S
4442(The)S
4678(mapping)S
5148(of)S
3952 V
958(errors)S
1272(to)S
1396(strings)S
1749(is)S
(done)234 1860 A
2124(by)S
12 I
2274(strerror\(\))S
12 R
2749(.)S
4128 V
12 Y1
708(d)S
12 R
958(When)S
1276(the)S
1454(requested)S
1948(size)S
2167(is)S
2278(zero,)S
12 I
2547(malloc\(\))S
12 R
2969(,)S
12 I
3029(calloc\(\))S
12 R
3447(and)S
12 I
3651(realloc\(\))S
12 R
4116(return)S
4436(a)S
4520(null-pointer.)S
4304 V
12 Y1
708(d)S
12 R
958(When)S
12 I
(abort\(\))343 1281 A
12 R
1669(is)S
1785(called,)S
2140(output)S
2483(buffers)S
(will)190 2862 A
3088(be)S
3238(flushed.)S
3690(Temporary)S
4264(files)S
4510(\(made)S
4849(with)S
5101(the)S
4444 V
12 I
(tmpfile\(\))420 958 A
12 R
1418(function\))S
(will)190 1892 A
2112(have)S
2370(disappeared)S
2978(when)S
3270(SIGABRT)S
3818(is)S
3929(not)S
(caught)322 4113 A
4465(or)S
(ignored.)399 4596 A
4620 V
12 Y1
708(d)S
12 R
958(The)S
12 I
1176(exit\(\))S
12 R
1474(function)S
1907(returns)S
2274(the)S
2452(low-order)S
2961(eight)S
3233(bits)S
3438(of)S
3569(its)S
3714(argument)S
4201(to)S
4325(the)S
4503(environment.)S
4796 V
12 Y1
708(d)S
12 R
958(The)S
1200(predefined)S
1772(environment)S
2437(names)S
2800(are)S
3003(controlled)S
3548(by)S
3722(the)S
3924(user.)S
(Setting)343 4240 A
4638(environment)S
4936 V
958(variables)S
1432(is)S
(done)234 1549 A
(through)375 1819 A
2230(the)S
12 I
2414(putenv\(\))S
12 R
2864(function.)S
3363(This)S
3614(function)S
(accepts)357 4052 A
4444(a)S
4533(pointer)S
4911(to)S
5040(char)S
5076 V
958(as)S
1089(its)S
1234(argument.)S
1781(Example:)S
2275(to)S
2399(set)S
2564(the)S
2742(environment)S
3383(variable)S
3804(TERM)S
4169(to)S
(a230)234 4293 A
4557(one)S
4761(writes)S
5276 V
11 C
(static)402 1318 A
(char)268 1787 A
(terminal[])670 2122 A
2859(=)S
("TERM=a230";)804 2993 A
(putenv\(terminal\);)1139 3864 A
5476 V
12 R
958(The)S
1185(argument)S
1681(to)S
12 I
1814(putenv\(\))S
12 R
2268(is)S
2389(stored)S
2725(in)S
2859(an)S
3013(internal)S
3424(table,)S
3730(strings)S
4093(allocated)S
4571(with)S
12 I
4827(malloc\(\))S
5616 V
12 R
958(can)S
1189(not)S
1406(be)S
1583(freed)S
(until)222 1895 A
2179(another)S
2604(call)S
2842(to)S
12 I
2998(putenv\(\))S
12 R
3474(\(which)S
3873(sets)S
4117(the)S
4327(same)S
4638(environment)S
5756 V
958(variable\))S
1451(is)S
1593(made.)S
1976(The)S
2225(argument)S
2743(to)S
12 I
2898(putenv\(\))S
12 R
3374(must)S
3671(be)S
3847(writable,)S
4338(which)S
4696(means)S
5067(that)S
5896 V
958(officially,)S
1471(the)S
1656(argument)S
(cannot)322 2150 A
2509(be)S
2660(a)S
2751(string)S
3064(constant.)S
3564(The)S
3789(function)S
4229(returns)S
4602(1)S
4698(if)S
4809(it)S
4913(fails,)S
5189(0)S
6036 V
958(otherwise.)S
6212 V
12 Y1
708(d)S
12 R
958(The)S
1176(argument)S
1663(to)S
1787(system)S
2153(is)S
2264(passed)S
2616(as)S
2747(argument)S
3234(to)S
12 I
3358(/bin/sh)S
3717(-c)S
12 R
3822(.)S
6388 V
12 Y1
708(d)S
12 R
958(The)S
1176(strings)S
1529(returned)S
1963(by)S
12 I
2113(strerror\(\))S
12 R
2618(depend)S
2996(on)S
12 I
3146(errno)S
12 R
3454(in)S
3578(the)S
3756(following)S
4257(way:)S
6598 V
958(errno)S
2157(string)S
6738 V
958(0)S
2157("Error)S
2493(0")S
6878 V
958(EPERM)S
2157("Operation)S
2721(not)S
(permitted")514 2905 A
7018 V
958(ENOENT)S
2157("No)S
2384(such)S
2635(file)S
2828(or)S
2959(directory")S
7158 V
958(ESRCH)S
2157("No)S
2384(such)S
2635(process")S
7298 V
958(EINTR)S
2157("Interrupted)S
2775(system)S
3141(call")S
7700 V
708(42)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 43 49
BP
/slant 0 def
/height 0 def
860 V
12 R
958(EIO)S
("Input/output)646 2157 A
2833(error")S
1000 V
958(ENXIO)S
2157("No)S
2384(such)S
2635(device)S
2981(or)S
3112(address")S
1140 V
958(E2BIG)S
2157("Arg)S
2425(list)S
2604(too)S
(long")263 2788 A
1280 V
958(ENOEXEC)S
2157("Exec)S
2478(format)S
2832(error")S
1420 V
958(EBADF)S
2157("Bad)S
2430(file)S
2623(descriptor")S
1560 V
958(ECHILD)S
2157("No)S
2384(child)S
2656(processes")S
1700 V
(EAGAIN)467 958 A
2157("Resource)S
2686(temporarily)S
3282(unavailable")S
1840 V
958(ENOMEM)S
2157("Not)S
(enough)354 2418 A
2802(core")S
1980 V
958(EACCES)S
2157("Permission)S
2774(denied")S
2120 V
958(EFAULT)S
2157("Bad)S
2430(address")S
2260 V
958(EBUSY)S
2157("Resource)S
2686(busy")S
2400 V
958(EEXIST)S
2157("File)S
2425(exists")S
2540 V
(ENODEV)500 958 A
2157("No)S
2384(such)S
2635(device")S
2680 V
958(ENOTDIR)S
2157("Not)S
2418(a)S
2502(directory")S
2820 V
958(EISDIR)S
2157("Is)S
2324(a)S
2408(directory")S
2960 V
(EINVAL)453 958 A
2157("Invalid)S
2579(argument")S
3100 V
958(ENFILE)S
2157("Too)S
2430(many)S
2728(open)S
2992(files)S
3232(in)S
3356(system")S
3240 V
958(EMFILE)S
2157("Too)S
2430(many)S
2728(open)S
2992(files")S
3380 V
958(ENOTTY)S
2157("Inappropriate)S
2889(ioctl)S
3135(operation")S
3520 V
958(EFBIG)S
2157("File)S
2425(too)S
2609(large")S
3660 V
958(ENOSPC)S
2157("No)S
(space)269 2384 A
2683(left)S
2876(on)S
3026(device")S
3800 V
958(ESPIPE)S
2157("Invalid)S
2579(seek")S
3940 V
958(EROFS)S
2157("Read-only)S
2739(file)S
2932(system")S
4080 V
958(EMLINK)S
2157("Too)S
2430(many)S
2728(links")S
4220 V
958(EPIPE)S
2157("Broken)S
2591(pipe")S
4360 V
958(EDOM)S
2157("Domain)S
2626(error")S
4500 V
(ERANGE)492 958 A
2157("Result)S
2545(too)S
2729(large")S
4640 V
958(EDEADLK)S
2157("Operation)S
2721(would)S
3053(block")S
4780 V
(ENAMETOOLONG)1019 958 A
2157("File)S
2425(name)S
2717(too)S
(long")263 2901 A
4920 V
958(ENOTEMPTY)S
2157("Directory)S
2702(not)S
2886(empty")S
5060 V
958(ENOLCK)S
2157("No)S
2384(locks)S
2669(available")S
5200 V
958(ENOSYS)S
2157("Function)S
2665(not)S
2849(implemented")S
5410 V
958(Errors)S
1308(that)S
1536(lie)S
1704(within)S
2060(the)S
2254(range)S
2569(0..ENOSYS,)S
3237(and)S
3457(are)S
3652(not)S
3852(presented)S
4362(in)S
4502(the)S
4697(table)S
4980(cause)S
5550 V
12 I
958(strerror\(\))S
12 R
1487(to)S
1635(return)S
1979(``Error)S
2372(<num>'',)S
2888(where)S
3238(<num>)S
3641(is)S
3775(the)S
3976(error)S
4266(number)S
4688(in)S
4835(decimal.)S
5690 V
958(Everything)S
1525(else)S
1744(causes)S
12 I
2090(strerror\(\))S
12 R
2595(to)S
2719(return)S
(``unknown)530 3039 A
(error'')319 3599 A
5866 V
12 Y1
708(d)S
12 R
958(The)S
1177(local)S
1444(time)S
1691(zone)S
1950(is)S
2062(per)S
2248(default)S
2617(MET)S
2904(\(GMT)S
3246(+)S
3346(1:00:00\).)S
3847(This)S
4094(can)S
4294(be)S
4440(changed)S
(through)375 4874 A
6006 V
958(the)S
1136(TZ)S
1314(environment)S
1955(variable.)S
6182 V
12 Y1
708(d)S
12 R
958(The)S
1176(function)S
12 I
1609(clock\(\))S
12 R
1987(always)S
2354(returns)S
2721(-1)S
2852(on)S
3002(Amoeba.)S
6462 V
12 B
(References)567 708 A
6638 V
12 R
708([1])S
958(ANS)S
(X3.159-1989)639 1317 A
12 I
2072(American)S
(National)422 2659 A
(Standard)441 3197 A
3754(for)S
4012(Information)S
4707(Systems)S
5208(-)S
6778 V
958(Programming)S
(Language)481 1666 A
2177(C)S
7700 V
12 R
2683(Amoeba)S
3123(5.3)S
5129(43)S
7920 V
EP
%%Page: 44 50
BP
/slant 0 def
/height 0 def
860 V
12 B
708(See)S
913(Also)S
1036 V
12 R
708(posix\(L\),)S
1185(ctime\(L\),)S
1671(bullet\(A\),)S
2177(soap\(A\).)S
7700 V
708(44)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 45 51
BP
/slant 0 def
/height 0 def
860 V
12 B
708(5.1.4.)S
1068(ACK)S
1368(Pascal)S
1727(Compiler)S
2249(Compliance)S
2898(Statements)S
1316 V
708(Introduction)S
1492 V
12 R
708(This)S
965(document)S
1483(refers)S
1803(to)S
1939(the)S
(\(1982\))322 2129 A
2493(BSI)S
2723(standard)S
3175(for)S
3359(Pascal)S
3712([1].)S
3957(Ack-Pascal)S
4553(complies)S
5033(with)S
1632 V
708(the)S
886(requirements)S
1549(of)S
1680(level)S
1946(1)S
2036(of)S
2167(BS)S
(6192:)274 2344 A
(1982,)270 2648 A
2948(with)S
3194(the)S
3372(exceptions)S
3919(as)S
4050(listed)S
4343(in)S
4467(this)S
4672(document.)S
1808 V
708(The)S
951(standard)S
1416(requires)S
1862(an)S
(accompanying)704 2031 A
2790(document)S
3321(describing)S
3881(the)S
4085(implementation-defined)S
1948 V
708(and)S
917(implementation-dependent)S
2249(features,)S
2698(the)S
(reaction)391 2880 A
3305(on)S
3459(errors)S
3777(and)S
3985(the)S
4167(extensions)S
4711(to)S
4839(standard)S
2088 V
708(Pascal.)S
1128(These)S
1467(four)S
1720(items)S
(will)190 2034 A
2275(be)S
2440(treated)S
2822(in)S
2967(the)S
3166(rest)S
3393(of)S
3545(this)S
3771(document,)S
(each)222 4328 A
4601(in)S
4746(a)S
4851(separate)S
2228 V
708(section.)S
1149(The)S
1375(other)S
1662(chapters)S
2104(describe)S
2546(the)S
2732(deviations)S
3267(from)S
3541(the)S
3727(standard)S
4174(and)S
4385(the)S
4570(list)S
4756(of)S
4894(options)S
2368 V
(recognized)531 708 A
1269(by)S
1419(the)S
1597(compiler.)S
2544 V
708(The)S
930(Ack-Pascal)S
1517(compiler)S
(produces)436 1982 A
2452(code)S
2714(for)S
2890(an)S
3038(EM)S
3253(machine)S
3697(as)S
3832(defined)S
4229(in)S
4357([2].)S
4593(It)S
4702(is)S
4817(up)S
4972(to)S
5101(the)S
2684 V
708(implementor)S
1371(of)S
1516(the)S
1708(EM)S
1933(machine)S
2387(to)S
2525(decide)S
2885(whether)S
3320(errors)S
3648(like)S
3874(integer)S
4255(overflow,)S
(undefined)483 4766 A
2824 V
708(operand)S
1127(and)S
1331(range)S
(bound)300 1630 A
1960(error)S
2227(are)S
(recognized)531 2406 A
2967(or)S
3098(not.)S
3000 V
708(There)S
1050(does)S
1330(not)S
1543(\(yet\))S
1832(exist)S
2120(a)S
2233(hardware)S
2744(EM)S
2984(machine.)S
3513(Therefore,)S
4082(EM)S
4323(programs)S
4840(must)S
5135(be)S
3140 V
708(interpreted,)S
1303(or)S
1443(translated)S
1954(into)S
2181(instructions)S
2785(for)S
2966(a)S
3059(target)S
3374(machine.)S
3882(The)S
4108(Ack-Pascal)S
4699(compiler)S
5168(is)S
3280 V
708(currently)S
1195(available)S
1682(for)S
1873(use)S
2084(with)S
2350(the)S
(VAX,)294 2548 A
2892(Motorola)S
(MC680x0,)517 3392 A
3959(Intel)S
(80x86,)330 4232 A
4612(PDP-11,)S
5075(and)S
3420 V
708(Intel)S
(8086)240 975 A
1259(code-generators.)S
2137(For)S
2349(the)S
(8086,)270 2541 A
2855(and)S
(MC680x0,)517 3073 A
3634(floating)S
4055(point)S
4347(emulation)S
4874(is)S
4998(used.)S
3560 V
708(This)S
953(is)S
1064(made)S
1356(available)S
1824(with)S
2070(the)S
12 B-1
2248(-)S
12 B
2316(fp)S
12 R
2454(option,)S
2822(which)S
3148(must)S
3413(be)S
3557(passed)S
3909(to)S
12 I
4033(ack)S
12 R
4211(\(U\).)S
3980 V
12 B
708(Implementation-defined)S
1991(features)S
4156 V
12 R
708(For)S
(each)222 914 A
1174(implementation-defined)S
2376(feature)S
2752(mentioned)S
3300(in)S
3432(the)S
3618(BSI)S
3844(standard)S
4292(we)S
4472(give)S
4719(the)S
4906(section)S
4296 V
708(number,)S
1148(the)S
(quotation)456 1337 A
1834(from)S
2111(that)S
2334(section)S
2718(and)S
2933(the)S
(definition.)501 3122 A
3694(First)S
3958(we)S
(quote)268 4141 A
4449(the)S
(definition)471 4637 A
5148(of)S
4436 V
708(implementation-defined:)S
4612 V
958(Possibly)S
1397(differing)S
1852(between)S
2286(processors,)S
2857(but)S
3041(defined)S
3434(for)S
3606(any)S
3810(particular)S
4306(processor.)S
4788 V
12 B
708(BS)S
885(6.1.7:)S
12 R
1196(Each)S
1471(string-character)S
2267(shall)S
2530(denote)S
2886(an)S
3034(implementation-defined)S
4232(value)S
4528(of)S
4663(the)S
4845(required)S
4928 V
708(char-type.)S
5104 V
958(All)S
1144(7-bits)S
1450(ASCII)S
1797(characters)S
2320(except)S
2666(linefeed)S
3087(LF)S
3258(\(10\))S
3490(are)S
3669(allowed.)S
5280 V
12 B
708(BS)S
885(6.4.2.2:)S
12 R
1286(The)S
1523(values)S
1881(of)S
2031(type)S
12 I
2289(real)S
12 R
2544(shall)S
2823(be)S
2987(an)S
3151(implementation-defined)S
4365(subset)S
4717(of)S
4868(the)S
5066(real)S
5420 V
708(numbers)S
1154(denoted)S
1566(as)S
1697(specified)S
2165(in)S
2289(6.1.5)S
2559(by)S
12 I
2709(signed)S
3054(real)S
12 R
3259(.)S
5596 V
958(The)S
1188(format)S
1554(of)S
1697(reals)S
1969(is)S
2092(not)S
2288(defined)S
2693(in)S
2829(EM.)S
3112(Even)S
3402(the)S
3592(size)S
3823(of)S
3966(reals)S
4238(depends)S
4675(on)S
4837(the)S
5027(EM-)S
5736 V
958(implementation.)S
1811(The)S
2032(compiler)S
2496(can)S
2696(be)S
2842(instructed,)S
3382(by)S
3534(the)S
12 B
3714(V)S
12 R
3834(option,)S
4204(to)S
4330(use)S
4523(a)S
4609(different)S
5060(size)S
5876 V
958(for)S
1137(real)S
1357(values.)S
1763(The)S
1988(size)S
2215(of)S
2354(reals)S
2622(is)S
2741(preset)S
3069(by)S
3227(the)S
(calling)330 3413 A
3781(program)S
12 I
4229(ack)S
12 R
4407(\(U\))S
4615(to)S
4747(the)S
4933(proper)S
6016 V
958(size.)S
6192 V
12 B
708(BS)S
885(6.4.2.2:)S
12 R
1286(The)S
1538(type)S
1810(char)S
2083(shall)S
2376(be)S
2554(the)S
2766(enumeration)S
3435(of)S
3600(a)S
3719(set)S
3919(of)S
4085(implementation-defined)S
6332 V
708(characters,)S
1261(some)S
1546(possibly)S
(without)370 1978 A
2378(graphic)S
2771(representations.)S
6508 V
958(The)S
1177(7-bits)S
1484(ASCII)S
1832(character)S
2309(set)S
2475(is)S
2587(used,)S
2869(where)S
3197(LF)S
3369(\(10\))S
3602(denotes)S
4002(the)S
4182(end-of-line)S
4753(marker)S
5129(on)S
6648 V
958(text-files.)S
6824 V
12 B
708(BS)S
885(6.4.2.2:)S
12 R
1286(The)S
1512(ordinal)S
1893(numbers)S
2347(of)S
2486(the)S
2672(character)S
3156(values)S
3503(shall)S
3771(be)S
3924(values)S
4272(of)S
4412(integer-type,)S
5067(that)S
6964 V
708(are)S
898(implementation-defined,)S
2133(and)S
2348(that)S
2571(are)S
2761(determined)S
3347(by)S
3508(mapping)S
3971(the)S
4160(character)S
4646(values)S
4995(on)S
5155(to)S
7104 V
708(consecutive)S
(non-negative)631 1309 A
1970(integer)S
2337(values)S
2676(starting)S
3070(at)S
3188(zero.)S
7280 V
958(The)S
1176(normal)S
1549(ASCII)S
1896(ordering)S
2336(is)S
2447(used:)S
2732(ord\('0'\)=48,)S
3365(ord\('A'\)=65,)S
4026(ord\('a'\)=97,)S
4653(etc.)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(45)S
7920 V
EP
%%Page: 46 52
BP
/slant 0 def
/height 0 def
860 V
12 B
708(BS)S
885(6.6.5.2:)S
12 R
1286(The)S
1506(post-assertions)S
2258(imply)S
(corresponding)691 2572 A
(activities)439 3295 A
3766(on)S
3918(the)S
4099(external)S
(entities,)381 4523 A
4937(if)S
5045(any,)S
1000 V
708(to)S
858(which)S
1210(the)S
1414(file-variables)S
2112(are)S
(bound.)330 2317 A
2733(These)S
(activities,)469 3078 A
3603(and)S
3833(the)S
4037(point)S
4341(at)S
4485(which)S
4837(they)S
5100(are)S
1140 V
708(actually)S
1122(performed,)S
1687(shall)S
1946(be)S
2090(implementation-defined.)S
1316 V
958(The)S
1176(reading)S
1569(and)S
(writing)351 1773 A
2154(of)S
2285(objects)S
2658(on)S
2808(files)S
3048(is)S
3160(buffered.)S
3662(This)S
3908(means)S
4248(that)S
4461(when)S
4754(a)S
4839(program)S
1456 V
958(terminates)S
(abnormally,)581 1515 A
2147(IO)S
2326(may)S
2584(be)S
2748(unfinished.)S
3368(Terminal)S
3863(IO)S
4042(is)S
(unbuffered.)561 4173 A
4814(Files)S
5100(are)S
1596 V
958(closed)S
1297(whenever)S
1798(they)S
2036(are)S
(rewritten)440 2215 A
2685(or)S
2816(reset,)S
3106(or)S
3237(on)S
3387(program)S
3827(termination.)S
1772 V
12 B
708(BS)S
885(6.7.2.2:)S
12 R
1286(The)S
1533(predefined)S
2110(constant)S
2572(maxint)S
2967(shall)S
3255(be)S
3428(of)S
3588(integer-type)S
4233(and)S
4466(shall)S
4754(denote)S
5135(an)S
1912 V
708(implementation-defined)S
1902(value,)S
2224(that)S
2436(satisfies)S
2858(the)S
3036(following)S
(conditions:)537 3537 A
2088 V
708(\(a\))S
958(All)S
1147(integral)S
1551(values)S
1893(in)S
2020(the)S
2201(closed)S
2543(interval)S
2947(from)S
12 Y
3216(-)S
12 R
3282(maxint)S
3651(to)S
3778(+maxint)S
4215(shall)S
4477(be)S
4624(values)S
4966(of)S
5101(the)S
2228 V
958(integer-type.)S
2404 V
708(\(b\))S
958(Any)S
1201(monadic)S
1652(operation)S
2144(performed)S
2684(on)S
2839(an)S
2988(integer)S
3360(value)S
3657(in)S
3786(this)S
3996(interval)S
4402(shall)S
4667(be)S
4817(correctly)S
2544 V
958(performed)S
(according)477 1493 A
2000(to)S
2124(the)S
2302(mathematical)S
2986(rules)S
3252(for)S
3424(integer)S
3791(arithmetic.)S
2720 V
708(\(c\))S
958(Any)S
1226(dyadic)S
1608(integer)S
2005(operation)S
2522(on)S
2702(two)S
2944(integer)S
3342(values)S
3712(in)S
3867(this)S
4103(same)S
4413(interval)S
4845(shall)S
5135(be)S
2860 V
958(correctly)S
1422(performed)S
(according)477 1959 A
2468(to)S
2594(the)S
2773(mathematical)S
3458(rules)S
3725(for)S
3898(integer)S
4266(arithmetic,)S
4820(provided)S
3000 V
958(that)S
1170(the)S
1348(result)S
1648(is)S
1759(also)S
1984(in)S
2108(this)S
2313(interval.)S
3176 V
708(\(d\))S
958(Any)S
1208(relational)S
1709(operation)S
2208(on)S
2370(two)S
2595(integer)S
2975(values)S
3327(in)S
3464(this)S
3682(same)S
3974(interval)S
4388(shall)S
4660(be)S
4817(correctly)S
3316 V
958(performed)S
(according)477 1493 A
2000(to)S
2124(the)S
2302(mathematical)S
2986(rules)S
3252(for)S
3424(integer)S
3791(arithmetic.)S
3492 V
958(The)S
1211(representation)S
1963(of)S
2129(integers)S
2578(in)S
2737(EM)S
2983(is)S
3129(a)S
12 I
3248(n)S
12 R
3318(*8-bit)S
3673(word)S
3988(using)S
4315(two's)S
4651(complement)S
3632 V
958(arithmetic.)S
1545(Where)S
12 I
1902(n)S
12 R
2006(is)S
2121(called)S
2444(wordsize.)S
2975(The)S
3196(range)S
3498(of)S
3632(available)S
4103(integers)S
4520(depends)S
4948(on)S
5101(the)S
3772 V
958(EM)S
1180(implementation:)S
2015(For)S
2224(2-byte)S
2574(machines,)S
3102(the)S
3292(integers)S
3718(range)S
4029(from)S
12 Y
4307(-)S
12 R
(32767)300 4373 A
4715(to)S
(+32767.)398 4851 A
3912 V
958(For)S
1195(4-byte)S
1573(machines,)S
2128(the)S
2344(integers)S
2796(range)S
3133(from)S
12 Y
3437(-)S
12 R
(2147483647)600 3503 A
4171(to)S
(2147483647.)630 4333 A
5061(The)S
4052 V
958(number)S
12 Y
1357(-)S
12 R
1423(maxint)S
12 Y
1759(-)S
12 R
1825(1)S
1915(may)S
2153(be)S
2297(used)S
2548(to)S
2672(indicate)S
(`undefined'.)595 3086 A
4228 V
12 B
708(BS)S
885(6.7.2.2:)S
12 R
1286(The)S
1511(result)S
1818(of)S
1956(the)S
2141(real)S
2361(arithmetic)S
2891(operators)S
3379(and)S
3590(functions)S
4078(shall)S
4345(be)S
4497(approximations)S
4368 V
708(to)S
860(the)S
(corresponding)691 1066 A
1815(mathematical)S
2527(results.)S
2962(The)S
(accuracy)431 3208 A
3697(of)S
3855(this)S
4087(approximation)S
4849(shall)S
5135(be)S
4508 V
708(implementation-defined.)S
4684 V
958(Since)S
1287(EM)S
1528(does)S
1809(not)S
2023(specify)S
2433(floating)S
2870(point)S
3178(format,)S
3592(it)S
3721(is)S
3863(not)S
4078(possible)S
4535(to)S
4690(specify)S
5101(the)S
4824 V
(accuracy.)461 958 A
1490(When)S
1819(the)S
2008(floating)S
2425(point)S
2713(emulation)S
3237(is)S
3358(used,)S
3649(and)S
3863(the)S
4051(default)S
4428(size)S
4657(of)S
4798(reals)S
5068(is)S
5189(8)S
4964 V
958(bytes,)S
1279(the)S
(accuracy)431 1463 A
1930(is)S
2047(11)S
2203(bits)S
2414(for)S
2592(the)S
(exponent,)472 2776 A
3284(and)S
3494(53)S
3650(bits)S
3861(for)S
4039(the)S
4223(mantissa.)S
4743(This)S
4994(gives)S
5104 V
958(an)S
(accuracy)431 1102 A
1563(of)S
(about)268 1694 A
1992(16)S
2142(digits,)S
2471(and)S
(exponents)489 2675 A
3194(ranging)S
3593(from)S
12 Y
3859(-)S
12 R
(309)180 3925 A
4135(to)S
(+307.)278 4259 A
5280 V
12 B
708(BS)S
885(6.9.3.1:)S
12 R
1286(The)S
1538(default)S
1939(TotalWidth)S
2561(values)S
2934(for)S
3140(integer,)S
3571(Boolean)S
4037(and)S
4275(real)S
4522(types)S
4841(shall)S
5135(be)S
5420 V
708(implementation-defined.)S
5596 V
958(The)S
1176(defaults)S
1590(are:)S
5796 V
1318(integer)S
2168(6)S
2258(for)S
2430(2-byte)S
2769(machines,)S
3286(11)S
3436(for)S
3608(4-byte)S
3947(machines)S
5936 V
1318(Boolean)S
2168(5)S
6076 V
1318(real)S
2168(14)S
6312 V
12 B
708(BS)S
885(6.9.3.4.1:)S
12 R
1376(ExpDigits,)S
1937(the)S
2125(number)S
2534(of)S
2675(digits)S
(written)345 2985 A
3371(in)S
3506(an)S
(exponent)442 3661 A
4144(part)S
4374(of)S
4516(a)S
4611(real,)S
4865(shall)S
5135(be)S
6452 V
708(implementation-defined.)S
6628 V
958(ExpDigits)S
1482(is)S
1596(defined)S
1992(as)S
2126(3.)S
2279(This)S
2528(is)S
2643(sufficient)S
3136(for)S
3312(all)S
3468(implementations)S
4309(currently)S
4781(available.)S
6768 V
958(When)S
1287(the)S
1476(representation)S
2204(would)S
2547(need)S
2816(more)S
3106(than)S
3355(3)S
3456(digits,)S
3796(then)S
4045(the)S
4233(string)S
('***')262 4549 A
(replaces)398 4851 A
6908 V
958(the)S
(exponent.)472 1136 A
7084 V
12 B
708(BS)S
885(6.9.3.4.1:)S
12 R
1376(The)S
1618(character)S
(written)345 2118 A
2517(as)S
2672(part)S
2915(of)S
3070(the)S
3272(representation)S
4013(of)S
4168(a)S
4276(real)S
4513(to)S
4662(indicate)S
5101(the)S
7224 V
708(beginning)S
1220(of)S
1351(the)S
(exponent)442 1529 A
2001(part)S
2220(shall)S
2479(be)S
2623(implementation-defined,)S
3847(either)S
4154('E')S
4340(or)S
4471('e'.)S
7700 V
708(46)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 47 53
BP
/slant 0 def
/height 0 def
860 V
12 R
958(The)S
(exponent)442 1176 A
1648(part)S
1867(starts)S
2154(with)S
2400('e'.)S
1036 V
12 B
708(BS)S
885(6.9.3.5:)S
12 R
1286(The)S
1515(case)S
1765(of)S
1908(the)S
2098(characters)S
(written)345 2633 A
3020(as)S
3163(representation)S
3892(of)S
4035(the)S
4225(Boolean)S
4669(values)S
5020(shall)S
1176 V
708(be)S
852(implementation-defined.)S
1352 V
958(The)S
1176(representations)S
1940(of)S
2071(true)S
2290(and)S
2494(false)S
2754(are)S
2933('true')S
3234(and)S
3438('false'.)S
1528 V
12 B
708(BS)S
885(6.9.5:)S
12 R
1196(The)S
1461(effect)S
1816(caused)S
2222(by)S
2419(the)S
2644(standard)S
3131(procedure)S
3692(page)S
3997(on)S
4195(a)S
4327(text)S
4587(file)S
4828(shall)S
5135(be)S
1668 V
708(implementation-defined.)S
1844 V
958(The)S
1176(ASCII)S
1523(character)S
1999(form)S
2265(feed)S
2504(FF)S
2668(\(12\))S
2900(is)S
(written.)375 3011 A
2020 V
12 B
708(BS)S
885(6.10:)S
12 R
1166(The)S
1387(binding)S
1788(of)S
1922(the)S
2103(variables)S
2575(denoted)S
2991(by)S
3145(the)S
3327(program-parameters)S
4345(to)S
(entities)351 4473 A
4858(external)S
2160 V
708(to)S
832(the)S
1010(program)S
1450(shall)S
1709(be)S
1853(implementation-defined)S
3047(if)S
3152(the)S
3330(variable)S
3751(is)S
3862(of)S
3993(a)S
4077(file-type.)S
2336 V
958(The)S
1177(program)S
1618(parameters)S
2182(must)S
2448(be)S
2593(files)S
2834(and)S
3039(all,)S
3222(except)S
(input)248 3569 A
3849(and)S
4055(output,)S
4425(must)S
4692(be)S
4838(declared)S
2476 V
958(as)S
1089(such)S
1340(in)S
1464(the)S
1642(program)S
2082(block.)S
2652 V
708(The)S
946(program)S
1406(parameters)S
(input)248 1989 A
2287(and)S
2511(output,)S
2899(if)S
3025(specified,)S
(will)190 3544 A
(correspond)537 3785 A
4373(with)S
4640(the)S
4839(Amoeba)S
2792 V
708(streams)S
1109('standard)S
(input')289 1590 A
1909(and)S
2113('standard)S
2594(output'.)S
2968 V
708(The)S
930(other)S
1213(program)S
1657(parameters)S
(will)190 2224 A
2448(be)S
2597(mapped)S
3014(to)S
3143(the)S
3326(argument)S
3818(strings)S
4176(provided)S
4640(by)S
4795(the)S
4978(caller)S
3108 V
708(of)S
862(this)S
1090(program.)S
1613(The)S
1854(argument)S
2364(strings)S
2740(are)S
(supposed)448 2941 A
3441(to)S
3587(be)S
3753(path)S
4013(names)S
4374(of)S
4527(the)S
4727(files)S
4989(to)S
5135(be)S
3248 V
708(opened)S
1099(or)S
1243(created.)S
1697(The)S
1928(order)S
2227(of)S
2371(the)S
2562(program)S
3015(parameters)S
3592(determines)S
4168(the)S
4360(mapping:)S
4860(the)S
5052(first)S
3388 V
708(parameter)S
1252(is)S
1391(mapped)S
1831(onto)S
2102(the)S
2307(first)S
2561(argument)S
3075(string)S
3408(etc.)S
3667(Note)S
3960(that)S
(input)248 4199 A
4504(and)S
4735(output)S
5100(are)S
3528 V
(ignored)369 708 A
1107(in)S
1231(this)S
1436(mapping.)S
3704 V
708(The)S
930(mapping)S
1387(is)S
(recalculated)587 1503 A
(each)222 2125 A
2382(time)S
2633(a)S
2722(program)S
3167(parameter)S
3688(is)S
3804(opened)S
4187(for)S
4364(reading)S
4762(or)S
(writing)351 4898 A
3844 V
708(by)S
893(a)S
1012(call)S
1253(to)S
1412(the)S
1625(standard)S
2100(procedures)S
2696(reset)S
2991(or)S
3157(rewrite.)S
3628(This)S
3907(gives)S
4226(the)S
4438(programmer)S
5101(the)S
3984 V
(opportunity)563 708 A
1320(to)S
1463(manipulate)S
2051(the)S
2249(list)S
2448(of)S
2599(string)S
2925(arguments)S
3479(using)S
3790(the)S
3988(external)S
4429(procedures)S
5010(argc,)S
4124 V
708(argv)S
953(and)S
1157(argshift)S
1558(available)S
2026(in)S
12 I
2150(libpc)S
12 R
2402(\(L\).)S
4300 V
12 B
708(BS)S
885(6.10:)S
12 R
1166(The)S
1399(effect)S
1722(of)S
1868(an)S
2027(explicit)S
2436(use)S
2642(of)S
2788(reset)S
3063(or)S
3209(rewrite)S
3600(on)S
3766(the)S
3960(standard)S
4416(textfiles)S
(input)248 4854 A
5148(or)S
4440 V
708(output)S
1046(shall)S
1305(be)S
1449(implementation-defined.)S
4616 V
958(The)S
1176(procedures)S
1737(reset)S
1997(and)S
2201(rewrite)S
2577(are)S
2756(no-ops)S
3114(if)S
3219(applied)S
3605(to)S
(input)248 3729 A
4007(or)S
4138(output.)S
5036 V
12 B
708(Implementation-dependent)S
2145(Features)S
5212 V
12 R
708(For)S
(each)222 934 A
1214(implementation-dependent)S
2569(feature)S
2965(mentioned)S
3533(in)S
3685(the)S
3891(BSI)S
4137(standard,)S
4635(we)S
4835(give)S
5101(the)S
5352 V
708(section)S
1099(number,)S
1546(the)S
(quotation)456 1742 A
2246(from)S
2530(that)S
2760(section)S
3151(and)S
3373(the)S
3569(way)S
3819(this)S
4042(feature)S
4428(is)S
4556(treated)S
4934(by)S
5101(the)S
5492 V
708(Ack-Pascal)S
1291(system.)S
1717(First)S
1970(we)S
(quote)268 2142 A
2440(the)S
(definition)471 2618 A
3119(of)S
3250(``implementation-dependent'':)S
5692 V
1068(Possibly)S
1507(differing)S
1962(between)S
2396(processors)S
2937(and)S
3141(not)S
(necessarily)539 3325 A
3894(defined)S
4287(for)S
4459(any)S
5832 V
1068(particular)S
1564(processor.)S
6068 V
12 B
708(BS)S
885(6.7.2.1:)S
12 R
1286(The)S
1557(order)S
1896(of)S
2080(evaluation)S
2668(of)S
2853(the)S
3085(operands)S
3605(of)S
3790(a)S
3928(dyadic)S
4334(operator)S
4822(shall)S
5135(be)S
6208 V
708(implementation-dependent.)S
6384 V
958(All)S
1144(operands)S
1610(are)S
1789(always)S
2156(evaluated,)S
2680(so)S
2817(the)S
2995(program)S
3435(part)S
6584 V
11 C
1318(if)S
(\(p<>nil\))536 1519 A
(and)201 2122 A
(\(p\303.value<>0\))871 2390 A
(then)268 3328 A
6784 V
12 R
958(is)S
1069(probably)S
1528(incorrect.)S
6960 V
708(The)S
932(left-hand)S
1406(operand)S
1831(of)S
1969(a)S
2060(dyadic)S
2419(operator)S
2860(is)S
2978(almost)S
3338(always)S
3712(evaluated)S
4213(before)S
4560(the)S
4745(right-hand)S
7100 V
708(side.)S
993(Some)S
1298(peculiar)S
1719(evaluations)S
2300(exist)S
2559(for)S
2731(the)S
2909(following)S
3410(cases:)S
7276 V
708(1.)S
958(The)S
(modulo)368 1182 A
1586(operation)S
2079(is)S
2196(performed)S
2737(by)S
2894(a)S
2985(library)S
3346(routine)S
3726(to)S
3857(check)S
4176(for)S
4355(negative)S
4802(values)S
5148(of)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(47)S
7920 V
EP
%%Page: 48 54
BP
/slant 0 def
/height 0 def
860 V
12 R
958(the)S
1136(right)S
1395(operand.)S
1036 V
708(2.)S
958(The)S
1176(expression)S
1236 V
11 C
(set1)268 1318 A
1653(<=)S
(set2)268 1854 A
1436 V
12 R
958(where)S
1285(set1)S
1510(and)S
1714(set2)S
1939(are)S
2118(compatible)S
2686(set)S
2851(types)S
3136(is)S
3247(evaluated)S
3741(in)S
3865(the)S
4043(following)S
4544(steps:)S
1612 V
12 R-1
988(-)S
12 R
1086(evaluate)S
1520(set2)S
1752 V
12 R-1
988(-)S
12 R
1086(evaluate)S
1520(set1)S
1892 V
12 R-1
988(-)S
12 R
1086(compute)S
1532(set2+set1)S
2032 V
12 R-1
988(-)S
12 R
1086(test)S
1285(set2)S
1510(and)S
1714(set2+set1)S
2202(for)S
(equality)390 2374 A
2208 V
708(3)S
958(The)S
1176(expression)S
2408 V
11 C
(set1)268 1318 A
1653(>=)S
(set2)268 1854 A
2608 V
12 R
958(where)S
1285(set1)S
1510(and)S
1714(set2)S
1939(are)S
2118(compatible)S
2686(set)S
2851(types)S
3136(is)S
3247(evaluated)S
3741(in)S
3865(the)S
4043(following)S
4544(steps:)S
2784 V
12 R-1
988(-)S
12 R
1086(evaluate)S
1520(set1)S
2924 V
12 R-1
988(-)S
12 R
1086(evaluate)S
1520(set2)S
3064 V
12 R-1
988(-)S
12 R
1086(compute)S
1532(set1+set2)S
3204 V
12 R-1
988(-)S
12 R
1086(test)S
1285(set1)S
1510(and)S
1714(set1+set2)S
2202(for)S
(equality)390 2374 A
3380 V
12 B
708(BS)S
885(6.7.3:)S
12 R
1196(The)S
1455(order)S
1782(of)S
1954(evaluation,)S
(accessing)464 2559 A
3094(and)S
3339(binding)S
3778(of)S
3951(the)S
4171(actual-parameters)S
5107(for)S
3520 V
708(functions)S
1188(shall)S
1447(be)S
1591(implementation-dependent.)S
3696 V
958(The)S
1176(order)S
1462(of)S
1593(evaluation)S
2127(is)S
2238(from)S
2504(right)S
2763(to)S
2887(left.)S
3872 V
12 B
708(BS)S
885(6.8.2.2:)S
12 R
1286(The)S
1544(decision)S
2017(as)S
2188(to)S
2352(the)S
2570(order)S
2896(of)S
(accessing)464 3067 A
3601(the)S
3819(variable)S
4281(and)S
4526(evaluating)S
5101(the)S
4012 V
708(expression)S
1255(in)S
1379(an)S
1523(assignment-statement,)S
2633(shall)S
2892(be)S
3036(implementation-dependent.)S
4188 V
958(The)S
1176(expression)S
1723(is)S
1834(evaluated)S
2328(first.)S
4364 V
12 B
708(BS)S
885(6.8.2.3:)S
12 R
1286(The)S
1506(order)S
1794(of)S
1927(evaluation)S
2463(and)S
2669(binding)S
3069(of)S
3203(the)S
3384(actual-parameters)S
4281(for)S
4456(procedures)S
5020(shall)S
4504 V
708(be)S
852(implementation-dependent.)S
4680 V
958(The)S
1176(same)S
1455(as)S
1586(for)S
1758(functions.)S
4856 V
12 B
708(BS)S
885(6.9.5:)S
12 R
1196(The)S
1418(effect)S
1730(of)S
1865(inspecting)S
2396(a)S
2484(text)S
2700(file)S
2897(to)S
3025(which)S
3355(the)S
3537(page)S
3800(procedure)S
4319(was)S
4543(applied)S
4934(during)S
4996 V
708(generation)S
1249(is)S
1360(implementation-dependent.)S
5172 V
958(The)S
1183(formfeed)S
1666(character)S
(written)345 2150 A
2533(by)S
2691(page)S
2957(is)S
3076(treated)S
3445(like)S
3665(a)S
3757(normal)S
4138(character,)S
4652(with)S
4906(ordinal)S
5312 V
958(value)S
1250(12.)S
5488 V
12 B
708(BS)S
885(6.10:)S
12 R
1166(The)S
1387(binding)S
1788(of)S
1922(the)S
2103(variables)S
2575(denoted)S
2991(by)S
3145(the)S
3327(program-parameters)S
4345(to)S
(entities)351 4473 A
4858(external)S
5628 V
708(to)S
832(the)S
1010(program)S
1450(shall)S
1709(be)S
1853(implementation-dependent)S
3180(unless)S
3512(the)S
3690(variable)S
4111(is)S
4222(of)S
4353(a)S
4437(file-type.)S
5804 V
958(Only)S
1230(variables)S
1698(of)S
1829(a)S
1913(file-type)S
2355(are)S
2534(allowed)S
2948(as)S
3079(program)S
3519(parameters.)S
6224 V
12 B
708(Error)S
1040(handling)S
6400 V
12 R
708(There)S
1025(are)S
1209(three)S
1487(classes)S
1859(of)S
1995(errors)S
2314(to)S
2443(be)S
(distinguished.)674 2592 A
3331(In)S
3467(the)S
3650(first)S
3882(class)S
4153(are)S
4337(the)S
4520(error)S
4792(messages)S
6540 V
708(generated)S
1221(by)S
1382(the)S
1571(compiler.)S
2103(The)S
(second)335 2332 A
2708(class)S
2985(consists)S
3409(of)S
3551(the)S
(occasional)511 3740 A
4292(errors)S
4617(generated)S
5129(by)S
6680 V
708(the)S
906(other)S
1205(programs)S
(involved)422 1712 A
2184(in)S
2328(the)S
2526(compilation)S
3154(process.)S
3628(Errors)S
3983(of)S
4135(the)S
4334(third)S
4614(class)S
4901(are)S
5101(the)S
6820 V
708(errors)S
1022(as)S
1153(defined)S
1546(in)S
1670(the)S
1848(standard)S
2288(by:)S
7020 V
1068(An)S
1246(error)S
1513(is)S
1624(a)S
1708(violation)S
2168(by)S
2318(a)S
2402(program)S
2842(of)S
2973(the)S
3151(requirements)S
3814(of)S
3945(this)S
4150(standard)S
7160 V
1068(that)S
1280(a)S
1364(processor)S
1858(is)S
(permitted)465 1969 A
2464(to)S
2588(leave)S
(undetected.)554 2874 A
7700 V
708(48)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 49 55
BP
/slant 0 def
/height 0 def
860 V
12 B
708(Compiler)S
1230(Errors)S
1036 V
12 R
708(Errors)S
1042(are)S
(written)345 1221 A
1596(on)S
1746(the)S
1924(standard)S
2364(error)S
2631(output.)S
3029(Each)S
3301(line)S
3513(has)S
3704(the)S
3882(form:)S
1236 V
11 C
(<file>,)469 708 A
(line)268 1244 A
(<number>:)603 1579 A
(<description>)871 2249 A
1436 V
12 R
708(Every)S
1036(time)S
1291(the)S
1478(compiler)S
1948(detects)S
2324(an)S
2477(error)S
2753(that)S
2974(does)S
3234(not)S
3427(have)S
3694(influence)S
4184(on)S
4344(the)S
4532(code)S
(produced)449 4800 A
1576 V
708(by)S
870(the)S
1060(compiler)S
1533(or)S
1676(on)S
1838(the)S
2028(syntax)S
2384(decisions,)S
2905(a)S
3000(warning)S
3438(messages)S
3936(is)S
4058(given.)S
4427(If)S
4550(only)S
4805(warnings)S
1716 V
708(are)S
887(generated,)S
1418(compilation)S
(proceeds)430 2026 A
2486(and)S
2690(probably)S
3149(results)S
3496(in)S
3620(a)S
3704(correctly)S
4166(compiled)S
4646(program.)S
1892 V
708(Sometimes)S
1284(the)S
1470(compiler)S
(produces)436 1939 A
2413(several)S
2795(errors)S
3117(for)S
3297(the)S
3483(same)S
3770(line.)S
4050(They)S
4336(are)S
4523(only)S
4775(shown)S
5129(up)S
2032 V
708(to)S
832(a)S
916(maximum)S
1436(of)S
1567(5)S
1657(errors)S
1971(per)S
2156(line.)S
2428(Warning)S
2881(are)S
3060(also)S
3285(shown)S
3630(up)S
3780(to)S
3904(a)S
3988(maximum)S
4508(of)S
4639(5)S
4729(per)S
4914(line.)S
2208 V
708(Extensive)S
1215(treatment)S
1704(of)S
1835(these)S
2114(errors)S
2428(is)S
2539(outside)S
2918(the)S
3096(scope)S
3401(of)S
3532(this)S
3737(manual.)S
2628 V
12 B
708(Run-time)S
1231(Errors)S
2804 V
12 R
708(Errors)S
1051(detected)S
1494(at)S
1621(run)S
1821(time)S
2076(cause)S
2384(an)S
2537(error)S
2813(message)S
3262(to)S
3395(be)S
3548(generated)S
4058(on)S
4217(the)S
(diagnostic)497 4404 A
4941(output)S
2944 V
708(stream)S
1094(\(Amoeba)S
1607(file)S
1832(descriptor)S
2379(2\).)S
2602(The)S
2852(message)S
3324(consists)S
3769(of)S
3932(the)S
4142(name)S
4466(of)S
4629(the)S
4839(program)S
3084 V
708(followed)S
1185(by)S
1351(a)S
1452(message)S
1909(describing)S
2460(the)S
2655(error,)S
2969(possibly)S
3418(followed)S
3896(by)S
4063(the)S
4258(source)S
4621(line)S
4850(number.)S
3224 V
708(Unless)S
1072(the)S
12 B
1254(\261L)S
12 R
1428(option)S
1770(is)S
1884(turned)S
2226(on,)S
2409(the)S
2590(compiler)S
3054(generates)S
3545(code)S
3806(to)S
3933(keep)S
4194(track)S
4470(of)S
4604(which)S
4933(source)S
3364 V
708(line)S
934(causes)S
1294(which)S
1635(EM)S
1861(instructions)S
2471(to)S
2610(be)S
2769(generated.)S
3345(It)S
3465(depends)S
3905(on)S
4070(the)S
4263(EM)S
4489(implementation)S
3504 V
708(whether)S
1129(these)S
1408(LIN)S
1641(instructions)S
2236(are)S
2415(skipped)S
2820(or)S
2951(executed.)S
3680 V
708(For)S
(each)222 908 A
1162(error)S
1431(mentioned)S
1973(in)S
2099(the)S
2280(standard)S
2723(we)S
2898(give)S
3139(the)S
3320(section)S
3696(number,)S
4128(the)S
(quotation)456 4309 A
4798(from)S
5067(that)S
3820 V
708(section)S
1081(and)S
1285(the)S
1463(way)S
1695(it)S
1793(is)S
1904(processed)S
2411(by)S
2561(the)S
2739(Pascal)S
3079(compiler)S
3540(or)S
3671(run-time)S
4119(system.)S
3996 V
708(For)S
909(detected)S
1346(errors)S
1663(the)S
(corresponding)691 1844 A
2568(message)S
3011(and)S
3218(trap)S
3440(number)S
3842(are)S
4025(given.)S
4387(Trap)S
4650(numbers)S
5100(are)S
4136 V
708(useful)S
1084(for)S
1306(exception-handling)S
2319(routines.)S
2849(Normally,)S
(each)222 3424 A
3726(error)S
4043(causes)S
4439(the)S
4666(program)S
5155(to)S
4276 V
708(terminate.)S
1268(By)S
1449(using)S
1751(exception-handling)S
2725(routines)S
3156(one)S
3371(can)S
(ignore)309 3580 A
3930(errors)S
4255(or)S
4397(perform)S
4830(alternate)S
4416 V
708(actions.)S
1150(Only)S
1431(some)S
1725(of)S
1865(the)S
2052(errors)S
2375(can)S
2582(be)S
(ignored)369 2735 A
3143(by)S
3302(restarting)S
3800(the)S
(failing)317 3987 A
4343(instruction.)S
4960(These)S
4556 V
708(errors)S
1022(are)S
1201(marked)S
1594(as)S
(non-fatal,)468 1725 A
2223(all)S
2375(others)S
2701(as)S
2833(fatal.)S
3141(A)S
3260(list)S
3440(of)S
3572(errors)S
3887(with)S
4134(trap)S
4354(number)S
4754(between)S
5189(0)S
4696 V
708(and)S
914(63)S
1066(\(EM)S
1320(errors\))S
1677(can)S
1877(be)S
(found)281 2023 A
2336(in)S
2461([2].)S
2694(Errors)S
3029(with)S
3276(trap)S
3496(number)S
3896(between)S
4331(64)S
4482(and)S
(127)180 4687 A
4898(\(Pascal)S
4836 V
708(errors\))S
1063(have)S
1321(the)S
1499(following)S
2000(meaning:)S
5152 V
958(64:)S
1318(more)S
1597(args)S
1829(expected)S
5328 V
958(65:)S
1318(error)S
1585(in)S
1709(exp)S
5504 V
958(66:)S
1318(error)S
1585(in)S
1709(ln)S
5680 V
958(67:)S
1318(error)S
1585(in)S
1709(sqrt)S
5856 V
958(68:)S
1318(assertion)S
1779(failed)S
6032 V
958(69:)S
1318(array)S
(bound)300 1598 A
1928(error)S
2195(in)S
2319(pack)S
6208 V
958(70:)S
1318(array)S
(bound)300 1598 A
1928(error)S
2195(in)S
(unpack)348 2319 A
6384 V
958(71:)S
1318(only)S
(positive)383 1562 A
1975(j)S
2039(in)S
12 I
2163(i)S
2227(mod)S
2465(j)S
6560 V
12 R
958(72:)S
1318(file)S
1511(not)S
1695(yet)S
1873(open)S
6736 V
958(73:)S
1318(dispose)S
1710(error)S
6912 V
958(74:)S
1318(function)S
1751(not)S
1935(assigned)S
7088 V
958(75:)S
(illegal)304 1318 A
1652(field)S
1905(width)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(49)S
7920 V
EP
%%Page: 50 56
BP
/slant 0 def
/height 0 def
860 V
12 R
958(96:)S
1318(file)S
(xxx:)214 1511 A
1755(not)S
1939(writable)S
1036 V
958(97:)S
1318(file)S
(xxx:)214 1511 A
1755(not)S
1939(readable)S
1212 V
958(98:)S
1318(file)S
(xxx:)214 1511 A
1755(end)S
1959(of)S
2090(file)S
1388 V
958(99:)S
1318(file)S
(xxx:)214 1511 A
1755(truncated)S
1564 V
(100:)214 958 A
1318(file)S
(xxx:)214 1511 A
1755(reset)S
2015(error)S
1740 V
(101:)214 958 A
1318(file)S
(xxx:)214 1511 A
1755(rewrite)S
2131(error)S
1916 V
(102:)214 958 A
1318(file)S
(xxx:)214 1511 A
1755(close)S
2034(error)S
2092 V
(103:)214 958 A
1318(file)S
(xxx:)214 1511 A
1755(read)S
1994(error)S
2268 V
(104:)214 958 A
1318(file)S
(xxx:)214 1511 A
1755(write)S
2036(error)S
2444 V
(105:)214 958 A
1318(file)S
(xxx:)214 1511 A
1755(digit)S
2007(expected)S
2620 V
(106:)214 958 A
1318(file)S
(xxx:)214 1511 A
(non-ASCII)538 1755 A
2323(char)S
2562(read)S
2936 V
12 B
708(BS)S
885(6.4.6:)S
12 R
1196(It)S
1307(shall)S
1573(be)S
1724(an)S
1875(error)S
2149(if)S
2261(a)S
2352(value)S
2651(of)S
2789(type)S
3034(T2)S
3205(must)S
3477(be)S
3628(assignment-compatible)S
4788(with)S
5041(type)S
3076 V
708(T1,)S
922(while)S
1242(T1)S
1425(and)S
1648(T2)S
1831(are)S
2029(compatible)S
2616(ordinal-types)S
3304(and)S
3527(the)S
3724(value)S
4035(of)S
4185(type)S
4442(T2)S
4625(is)S
4755(not)S
4958(in)S
5101(the)S
3216 V
708(closed)S
1047(interval)S
1448(specified)S
1916(by)S
2066(T1.)S
3392 V
958(The)S
1180(compiler)S
(distinguishes)631 1645 A
2310(between)S
2748(array-index)S
3341(expressions)S
3939(and)S
4147(the)S
4330(other)S
(places)303 4614 A
4952(where)S
3532 V
(assignment-compatibility)1231 958 A
2219(is)S
2330(required.)S
3708 V
958(Array)S
1292(subscripting)S
1933(is)S
(done)234 2064 A
2348(using)S
2659(the)S
2857(EM)S
3088(array)S
3389(instructions.)S
4065(These)S
4405(instructions)S
5021(have)S
3848 V
958(three)S
1271(arguments:)S
1879(the)S
2097(array)S
2417(base)S
2702(address,)S
3165(the)S
3383(index)S
3720(and)S
3963(the)S
4180(address)S
4612(of)S
4782(the)S
4999(array)S
3988 V
958(descriptor.)S
1557(An)S
1760(array)S
2065(descriptor)S
2605(describes)S
3111(one)S
3340(dimension)S
3898(by)S
4073(three)S
4371(values:)S
4769(the)S
4972(lower)S
4128 V
(bound)300 958 A
1290(on)S
1442(the)S
1622(index,)S
1952(the)S
2132(number)S
2533(of)S
2666(elements)S
3128(minus)S
3454(one)S
3659(and)S
3864(the)S
4043(element-size.)S
4748(It)S
4854(depends)S
4268 V
958(on)S
1176(the)S
1422(EM)S
1701(implementation)S
2559(whether)S
3049(these)S
(bounds)347 3397 A
3843(are)S
4091(checked.)S
4646(Since)S
5014(most)S
4408 V
958(implementations)S
1795(do)S
1945(not,)S
2159(an)S
2303(extra)S
2576(compiler)S
3037(flag)S
3256(is)S
3367(added)S
3685(to)S
3809(force)S
4089(these)S
4368(checks.)S
4584 V
958(The)S
1176(other)S
(places)303 1455 A
1788(where)S
(assignment-compatibility)1231 2115 A
3376(is)S
3487(required)S
3921(are:)S
4760 V
12 R-1
988(-)S
12 R
1086(assignment)S
4900 V
12 R-1
988(-)S
12 R
1086(value)S
1378(parameters)S
5040 V
12 R-1
988(-)S
12 R
1086(procedures)S
1647(read)S
1886(and)S
2090(readln)S
5180 V
12 R-1
988(-)S
12 R
1086(the)S
1264(final)S
1517(value)S
1809(of)S
1940(the)S
2118(for-statement)S
5356 V
958(For)S
1157(these)S
(places)303 1437 A
1772(the)S
1952(compiler)S
2415(generates)S
2905(an)S
3051(EM)S
3264(range)S
3565(check)S
3879(instruction,)S
4459(except)S
4807(when)S
5101(the)S
5496 V
12 B
958(R)S
12 R
1081(option)S
1424(is)S
1540(turned)S
1884(on,)S
2068(or)S
2203(when)S
2499(the)S
2681(range)S
2984(of)S
3119(values)S
3462(of)S
3597(T2)S
3765(is)S
3880(enclosed)S
4337(in)S
4465(the)S
4647(range)S
4950(of)S
5085(T1.)S
5636 V
958(If)S
1077(the)S
1262(expression)S
1816(consists)S
2236(of)S
2374(a)S
2465(single)S
2791(variable)S
3219(and)S
3430(if)S
3542(that)S
3761(variable)S
4189(is)S
4307(of)S
4445(a)S
4537(subrange)S
5011(type,)S
5776 V
958(then)S
1226(the)S
1434(subrange)S
1929(type)S
2196(itself)S
2499(is)S
2639(taken)S
2960(as)S
3120(T2,)S
3343(not)S
3556(its)S
3730(host-type.)S
4299(Therefore,)S
4867(a)S
4980(range)S
5916 V
958(instruction)S
1509(is)S
1623(only)S
1870(generated)S
2374(if)S
2482(T1)S
2649(is)S
2763(a)S
2851(subrange)S
3321(type)S
3563(and)S
3771(if)S
3880(the)S
4062(expression)S
4613(is)S
4728(a)S
4816(constant,)S
6056 V
958(an)S
1110(expression)S
1664(with)S
1917(two)S
2136(or)S
2274(more)S
2560(operands,)S
3063(or)S
3201(a)S
3292(single)S
3618(variable)S
4046(with)S
4299(a)S
4390(type)S
4635(not)S
4826(enclosed)S
6196 V
958(in)S
1111(T1.)S
1364(If)S
1505(a)S
1618(constant)S
2080(is)S
2220(assigned,)S
2725(then)S
2992(the)S
3199(EM)S
3439(optimizer)S
3963(removes)S
4432(the)S
4639(range)S
4967(check)S
6336 V
958(instruction,)S
1536(except)S
1882(when)S
2174(the)S
2352(value)S
2644(is)S
2755(out)S
2939(of)S
(bounds.)377 3070 A
6512 V
958(It)S
1063(depends)S
1488(on)S
1638(the)S
1816(EM)S
2027(implementation)S
2817(whether)S
3238(the)S
3416(range)S
3715(check)S
4027(instruction)S
4575(is)S
4687(executed)S
5148(or)S
6652 V
958(skipped.)S
6828 V
12 B
708(BS)S
885(6.4.6:)S
12 R
1196(It)S
1307(shall)S
1573(be)S
1724(an)S
1875(error)S
2149(if)S
2261(a)S
2352(value)S
2651(of)S
2789(type)S
3034(T2)S
3205(must)S
3477(be)S
3628(assignment-compatible)S
4788(with)S
5041(type)S
6968 V
708(T1,)S
907(while)S
1211(T1)S
1379(and)S
1587(T2)S
1755(are)S
1938(compatible)S
2510(set-types)S
2975(and)S
3183(any)S
3391(member)S
3822(of)S
3957(the)S
4139(value)S
4435(of)S
4570(type)S
4812(T2)S
4980(is)S
5095(not)S
7108 V
708(in)S
832(the)S
1010(closed)S
1349(interval)S
1750(specified)S
2218(by)S
2368(the)S
2546(base-type)S
3040(of)S
3171(the)S
3349(type)S
3587(T1.)S
7284 V
958(This)S
1203(error)S
1470(is)S
1581(not)S
1765(detected.)S
7700 V
708(50)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 51 57
BP
/slant 0 def
/height 0 def
860 V
12 B
708(BS)S
885(6.5.3.3:)S
12 R
1286(It)S
1417(shall)S
1702(be)S
1872(an)S
2042(error)S
2335(if)S
2466(a)S
(component)536 2576 A
3168(of)S
3325(a)S
3435(variant-part)S
4058(of)S
4215(a)S
4325(variant,)S
4748(where)S
5101(the)S
1000 V
708(selector)S
1140(of)S
1295(the)S
1497(variant-part)S
2118(is)S
2252(not)S
2459(a)S
2566(field,)S
2872(is)S
(accessed)424 3006 A
3483(unless)S
3838(the)S
4039(variant)S
4429(is)S
4563(active)S
4906(for)S
5101(the)S
1140 V
708(entirety)S
1109(of)S
(each)222 1240 A
1492(reference)S
1975(and)S
(access)310 2179 A
2519(to)S
(each)222 2643 A
(component)536 2895 A
3461(of)S
3592(the)S
3770(variant.)S
1316 V
958(This)S
1203(error)S
1470(is)S
1581(not)S
1765(detected.)S
1492 V
12 B
708(BS)S
885(6.5.4:)S
12 R
1196(It)S
1307(shall)S
1572(be)S
1722(an)S
1872(error)S
2145(if)S
2256(the)S
2440(pointer-variable)S
3252(of)S
3390(an)S
3541(identified-variable)S
4475(either)S
4789(denotes)S
5195(a)S
1632 V
708(nil-value)S
1169(or)S
1300(is)S
(undefined.)513 1411 A
1808 V
958(The)S
1184(EM)S
(definition)471 1403 A
1912(does)S
2172(not)S
2365(specify)S
2754(the)S
2941(binary)S
3289(representation)S
4015(of)S
4155(pointer)S
4537(values,)S
4915(so)S
5061(it)S
5168(is)S
1948 V
958(not)S
1157(possible)S
1598(to)S
(choose)335 1737 A
2116(an)S
2274(otherwise)S
(illegal)304 2790 A
3138(binary)S
3491(representation)S
4222(for)S
4408(the)S
4600(pointer)S
4987(value)S
2088 V
958(NIL.)S
1259(Rather)S
1620(arbitrarily)S
2146(the)S
2333(compiler)S
2803(uses)S
3050(the)S
3237(integer)S
3613(value)S
3914(zero)S
4162(to)S
4295(represent)S
4779(NIL.)S
5081(For)S
2228 V
958(all)S
1110(current)S
1484(implementations)S
2321(this)S
2526(does)S
2777(not)S
2961(cause)S
3260(problems.)S
2404 V
958(The)S
1193(size)S
1429(of)S
1577(pointers)S
2014(depends)S
2456(on)S
2623(the)S
2818(implementation)S
3625(and)S
3846(is)S
3974(preset)S
4312(in)S
4454(the)S
4650(compiler)S
5129(by)S
2544 V
12 I
958(ack)S
12 R
1136(\(U\).)S
1399(The)S
1620(compiler)S
2084(can)S
2285(be)S
2432(instructed,)S
2973(by)S
3126(the)S
3307(V)S
3427(option,)S
3797(to)S
3923(use)S
4116(another)S
4511(size)S
4732(for)S
4906(pointer)S
2684 V
958(objects.)S
1391(NIL)S
1624(is)S
1735(represented)S
2324(here)S
2563(by)S
2713(the)S
2891(appropriate)S
3473(number)S
3872(of)S
4003(zero)S
4242(words.)S
2860 V
958(It)S
1081(depends)S
1524(on)S
1692(the)S
1888(EM)S
2117(implementation)S
2925(whether)S
3364(dereferencing)S
4079(of)S
4228(a)S
4330(pointer)S
4722(with)S
4987(value)S
3000 V
958(NIL)S
1191(causes)S
1537(an)S
1681(error.)S
3176 V
12 B
708(BS)S
885(6.5.4:)S
12 R
1196(It)S
1301(shall)S
1560(be)S
1704(an)S
1848(error)S
2115(to)S
2239(remove)S
2632(the)S
2810(identifying-value)S
3674(of)S
3805(an)S
3949(identified)S
4445(variable)S
4867(from)S
5134(its)S
3316 V
708(pointer-type)S
1330(when)S
1622(a)S
1706(reference)S
2189(to)S
2313(the)S
2491(variable)S
2912(exists.)S
3492 V
958(When)S
1344(the)S
1590(identified)S
2153(variable)S
2642(is)S
2821(an)S
3034(element)S
3517(of)S
3717(the)S
3964(record-variable-list)S
4995(of)S
5195(a)S
3632 V
958(with)S
12 Y1
1174(3)S
12 R
1234(statement,)S
1797(a)S
1919(warning)S
2384(is)S
2533(given)S
2869(at)S
3025(compile-time.)S
3800(Otherwise,)S
4398(this)S
4641(error)S
4946(is)S
5095(not)S
3772 V
958(detected.)S
3948 V
12 B
708(BS)S
885(6.5.5:)S
12 R
1196(It)S
1315(shall)S
1588(be)S
1746(an)S
1904(error)S
2186(to)S
2325(alter)S
2587(the)S
2780(value)S
3087(of)S
3233(a)S
3332(file-variable)S
3972(f)S
4058(when)S
4365(a)S
4464(reference)S
4962(to)S
5101(the)S
4088 V
708(buffer-variable)S
1467(f\303)S
1579(exists.)S
4264 V
958(When)S
1279(f)S
1353(is)S
1467(altered)S
1831(when)S
2126(it)S
2227(is)S
2341(an)S
2488(element)S
2905(of)S
3039(the)S
3220(record-variable-list)S
4186(of)S
4321(a)S
4409(with-statement,)S
5195(a)S
4404 V
958(warning)S
1400(is)S
1526(given.)S
1899(When)S
2232(a)S
2331(buffer-variable)S
3104(is)S
3229(used)S
3494(as)S
3639(a)S
3737(variable-parameter,)S
4729(an)S
4887(error)S
5168(is)S
4544 V
958(given.)S
1316(This)S
1561(is)S
(done)234 1672 A
1936(at)S
2054(compile-time.)S
4720 V
12 B
708(BS)S
885(6.6.5.2:)S
12 R
1286(It)S
1399(shall)S
1666(be)S
1818(an)S
1970(error)S
2245(if)S
2358(the)S
2544(stated)S
2865(pre-assertion)S
3530(does)S
3789(not)S
3982(hold)S
4235(immediately)S
4880(prior)S
5155(to)S
4860 V
708(any)S
912(use)S
1103(of)S
1234(the)S
1412(file)S
1605(handling)S
2057(procedures)S
2618(rewrite,)S
3024(put,)S
3238(reset)S
3498(and)S
3702(get.)S
5036 V
958(For)S
(each)222 1156 A
1408(of)S
1539(these)S
1818(four)S
2050(operations)S
2584(the)S
2762(pre-assertions)S
3466(can)S
3664(be)S
3808(reformulated)S
4465(as:)S
5236 V
(rewrite\(f\):)503 1318 A
1851(no)S
2001(pre-assertion.)S
5376 V
(put\(f\):)311 1318 A
1779(f)S
1850(is)S
1961(opened)S
2339(for)S
(writing)351 2511 A
2892(and)S
3096(f\303)S
3208(is)S
3319(not)S
(undefined.)513 3503 A
5516 V
(reset\(f\):)387 1318 A
1795(f)S
1866(exists.)S
5656 V
(get\(f\):)305 1318 A
1773(f)S
1844(is)S
1955(opened)S
2333(for)S
2505(reading)S
2898(and)S
(eof\(f\))278 3102 A
3410(is)S
3521(false.)S
5892 V
958(The)S
1176(following)S
1677(errors)S
1991(are)S
2170(detected)S
2604(for)S
2776(these)S
3055(operations:)S
6068 V
(rewrite\(f\):)503 708 A
6208 V
958(more)S
1237(args)S
1469(expected,)S
1959(trap)S
2178(64,)S
2358(fatal:)S
6348 V
1558(f)S
1630(is)S
1742(a)S
1827(program-parameter)S
2795(and)S
3000(the)S
(corresponding)691 3179 A
3901(file)S
4095(name)S
4389(is)S
4502(not)S
(supplied)409 4688 A
5129(by)S
6488 V
1558(the)S
1736(caller)S
2037(of)S
2168(the)S
2346(program.)S
6628 V
958(rewrite)S
1334(error,)S
1631(trap)S
(101,)210 1850 A
2090(fatal:)S
6768 V
1558(the)S
1741(caller)S
2047(of)S
2183(the)S
2366(program)S
2811(lacks)S
3096(the)S
(necessary)471 3280 A
(access)310 3787 A
4133(rights)S
4445(to)S
4575(create)S
4902(the)S
5086(file)S
6908 V
1558(in)S
1688(the)S
1872(file)S
2070(system)S
2441(or)S
2577(operating)S
3069(system)S
3440(problems)S
3925(like)S
4142(table)S
4413(overflow)S
4886(prevent)S
7048 V
1558(creation)S
1979(of)S
2110(the)S
2288(file.)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(51)S
7920 V
EP
%%Page: 52 58
BP
/slant 0 def
/height 0 def
860 V
12 R
(put\(f\):)311 708 A
1000 V
958(file)S
1151(not)S
1335(yet)S
1513(open,)S
1807(trap)S
2026(72,)S
2206(fatal:)S
1140 V
1558(reset)S
1825(or)S
1963(rewrite)S
2346(are)S
2532(never)S
2838(applied)S
3231(to)S
3362(the)S
3547(file.)S
3807(The)S
4033(checks)S
4400(performed)S
4943(by)S
5101(the)S
1280 V
1558(run)S
1749(time)S
1995(system)S
2361(are)S
2540(not)S
2724(foolproof.)S
1420 V
958(not)S
1142(writable,)S
1601(trap)S
1820(96,)S
2000(fatal:)S
1560 V
1558(f)S
1629(is)S
1740(opened)S
2118(for)S
2290(reading.)S
1700 V
958(write)S
1239(error,)S
1536(trap)S
(104,)210 1755 A
1995(fatal:)S
1840 V
1558(probably)S
2029(caused)S
2400(by)S
2562(file)S
2767(system)S
3145(problems.)S
3697(For)S
3908(instance,)S
4378(the)S
4569(file)S
4775(storage)S
5168(is)S
1980 V
1558(exhausted.)S
(Because)403 2172 A
2646(IO)S
2846(is)S
2998(buffered)S
3479(to)S
3643(improve)S
4116(performance,)S
4829(it)S
4967(might)S
2120 V
1558(happen)S
1939(that)S
2154(this)S
2362(error)S
2632(occurs)S
2981(if)S
3089(the)S
3270(file)S
3466(is)S
3580(closed.)S
3982(Files)S
4252(are)S
4435(closed)S
4778(whenever)S
2260 V
1558(they)S
1796(are)S
(rewritten)440 1975 A
2445(or)S
2576(reset,)S
2866(or)S
2997(on)S
3147(program)S
3587(termination.)S
2436 V
(reset\(f\):)387 708 A
2576 V
958(more)S
1237(args)S
1469(expected,)S
1959(trap)S
2178(64,)S
2358(fatal:)S
2716 V
1558(same)S
1837(as)S
1968(for)S
(rewrite\(f\).)499 2140 A
2856 V
958(reset)S
1218(error,)S
1515(trap)S
(100,)210 1734 A
1974(fatal:)S
2996 V
1558(f)S
1649(does)S
1920(not)S
2124(exist,)S
2433(or)S
2585(the)S
2784(caller)S
3106(has)S
3318(insufficient)S
(access)310 3922 A
4283(rights,)S
4640(or)S
4792(operating)S
3136 V
1558(system)S
1924(tables)S
2237(are)S
2416(exhausted.)S
3312 V
(get\(f\):)305 708 A
3452 V
958(file)S
1151(not)S
1335(yet)S
1513(open,)S
1807(trap)S
2026(72,)S
2206(fatal:)S
3592 V
1558(as)S
1689(for)S
(put\(f\).)307 1861 A
3732 V
958(not)S
1142(readable,)S
1613(trap)S
1832(97,)S
2012(fatal:)S
3872 V
1558(f)S
1629(is)S
1740(opened)S
2118(for)S
(writing.)381 2290 A
4012 V
958(end)S
1162(of)S
1293(file,)S
1516(trap)S
1735(98,)S
1915(fatal:)S
4152 V
(eof\(f\))278 1558 A
1866(is)S
1977(true)S
2196(just)S
2401(before)S
2741(the)S
2919(call)S
3125(to)S
(get\(f\).)301 3249 A
4292 V
958(read)S
1197(error,)S
1494(trap)S
(103,)210 1713 A
1953(fatal:)S
4432 V
1558(unlikely)S
2004(to)S
2148(happen.)S
2606(Probably)S
3092(caused)S
3471(by)S
3641(hardware)S
4143(problems)S
4643(or)S
4794(by)S
4965(errors)S
4572 V
1558(elsewhere)S
2090(in)S
(your)221 2230 A
2496(program)S
2951(that)S
3178(destroyed)S
3693(the)S
3886(file)S
4094(information)S
4711(maintained)S
4712 V
1558(by)S
1708(the)S
1886(run)S
2077(time)S
2323(system.)S
4852 V
958(truncated,)S
1469(trap)S
1688(99,)S
1868(fatal:)S
4992 V
1558(the)S
1746(file)S
1949(is)S
2070(not)S
2264(properly)S
2714(formed)S
3104(by)S
3264(an)S
3418(integer)S
3795(number)S
4204(of)S
4345(file)S
4549(elements.)S
5081(For)S
5132 V
1558(instance,)S
2015(the)S
2193(size)S
2412(of)S
2543(a)S
2627(file)S
2820(of)S
2951(integer)S
3318(is)S
(odd.)210 3429 A
5272 V
(non-ASCII)538 958 A
1526(char)S
1765(read,)S
2034(trap)S
(106,)210 2253 A
(non-fatal:)472 2493 A
5412 V
1558(the)S
1750(character)S
2240(value)S
2546(of)S
2691(the)S
2883(next)S
3135(character-type)S
3874(file)S
4081(element)S
4509(is)S
4635(out)S
4834(of)S
4980(range)S
5552 V
(\(0..127\).)412 1558 A
2030(Only)S
2302(for)S
2474(text)S
2686(files.)S
5728 V
12 B
708(BS)S
885(6.6.5.3:)S
12 R
1286(It)S
1396(shall)S
1660(be)S
1809(an)S
1958(error)S
2230(if)S
2340(a)S
2429(variant)S
2801(of)S
2938(a)S
3028(variant-part)S
3631(within)S
3977(the)S
4161(new)S
4399(variable)S
4826(becomes)S
5868 V
708(active)S
1028(and)S
1232(a)S
1316(different)S
1765(variant)S
2132(of)S
2263(the)S
2441(variant-part)S
3038(is)S
3149(one)S
3353(of)S
3484(the)S
3662(specified)S
4130(variants.)S
6044 V
958(This)S
1203(error)S
1470(is)S
1581(not)S
1765(detected.)S
6220 V
12 B
708(BS)S
885(6.6.5.3:)S
12 R
1286(It)S
1394(shall)S
1656(be)S
1803(an)S
1950(error)S
2220(to)S
2347(use)S
2541(dispose\(q\))S
3078(if)S
3186(the)S
3367(identifying)S
3931(variable)S
4355(has)S
4549(been)S
4811(allocated)S
6360 V
708(using)S
999(the)S
1177(form)S
(new\(p,c1,...,cn\).)782 1443 A
6536 V
958(This)S
1206(error)S
1476(is)S
1590(not)S
1777(detected.)S
2274(However,)S
2782(this)S
2990(error)S
3260(can)S
3461(cause)S
3763(more)S
4045(memory)S
4481(to)S
4609(be)S
4757(freed)S
5041(then)S
6676 V
958(was)S
1188(allocated.)S
1727(Dispose)S
2158(causes)S
2515(a)S
2610(fatal)S
2868(trap)S
3098(73)S
3259(when)S
3561(memory)S
4004(already)S
4401(on)S
4561(the)S
4749(free)S
4979(list)S
5168(is)S
6816 V
958(freed)S
1238(again.)S
6992 V
12 B
708(BS)S
885(6.6.5.3:)S
12 R
1286(It)S
1395(shall)S
1658(be)S
1806(an)S
1954(error)S
2225(to)S
2353(use)S
(dispose\(q,k1,...,km\))958 2548 A
3540(if)S
3650(the)S
3833(identifying)S
4399(variable)S
4825(has)S
5021(been)S
7132 V
708(allocated)S
1176(using)S
1467(the)S
1645(form)S
(new\(p,c1,...,cn\))752 1911 A
2693(and)S
2897(m)S
3021(is)S
3132(not)S
3316(equal)S
3608(to)S
3732(n.)S
7308 V
958(This)S
1206(error)S
1476(is)S
1590(not)S
1777(detected.)S
2274(However,)S
2782(this)S
2990(error)S
3260(can)S
3461(cause)S
3763(more)S
4045(memory)S
4481(to)S
4609(be)S
4757(freed)S
5041(then)S
7700 V
708(52)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 53 59
BP
/slant 0 def
/height 0 def
860 V
12 R
958(was)S
1188(allocated.)S
1727(Dispose)S
2158(causes)S
2515(a)S
2610(fatal)S
2868(trap)S
3098(73)S
3259(when)S
3561(memory)S
4004(already)S
4401(on)S
4561(the)S
4749(free)S
4979(list)S
5168(is)S
1000 V
958(freed)S
1238(again.)S
1176 V
12 B
708(BS)S
885(6.6.5.3:)S
12 R
1286(It)S
1398(shall)S
1665(be)S
1817(an)S
1969(error)S
2244(if)S
2357(the)S
2543(variants)S
2965(of)S
3104(a)S
3196(variable)S
3625(to)S
3757(be)S
3909(disposed)S
4369(are)S
4556(different)S
5013(from)S
1316 V
708(those)S
993(specified)S
1461(by)S
1611(the)S
1789(case-constants)S
2519(to)S
2643(dispose.)S
1492 V
958(This)S
1203(error)S
1470(is)S
1581(not)S
1765(detected.)S
1668 V
12 B
708(BS)S
885(6.6.5.3:)S
12 R
1286(It)S
1399(shall)S
1666(be)S
1818(an)S
1970(error)S
2245(if)S
2358(the)S
2544(value)S
2844(of)S
2983(the)S
3170(pointer)S
3552(parameter)S
4077(of)S
4217(dispose)S
4618(has)S
4818(nil-value)S
1808 V
708(or)S
839(is)S
(undefined.)513 950 A
1984 V
958(The)S
1176(same)S
1455(comments)S
1982(apply)S
2280(as)S
2411(for)S
2583(dereferencing)S
3280(NIL)S
3513(or)S
(undefined)483 3644 A
4157(pointers.)S
2160 V
12 B
708(BS)S
885(6.6.5.3:)S
12 R
1286(It)S
1394(shall)S
1656(be)S
1803(an)S
1950(error)S
2220(if)S
2328(a)S
2415(variable)S
2839(created)S
3223(using)S
3518(the)S
(second)335 3700 A
4069(form)S
4339(of)S
4474(new)S
4710(is)S
(accessed)424 4825 A
2300 V
708(by)S
861(the)S
1042(identified)S
1540(variable)S
1964(of)S
2098(the)S
(variable-access)742 2279 A
3054(of)S
3188(a)S
3275(factor,)S
3622(of)S
3756(an)S
3903(assignment-statement,)S
5015(or)S
5148(of)S
2440 V
708(an)S
852(actual-parameter.)S
2616 V
958(This)S
1203(error)S
1470(is)S
1581(not)S
1765(detected.)S
2792 V
12 B
708(BS)S
885(6.6.6.2:)S
12 R
1286(It)S
1391(shall)S
1650(be)S
1794(an)S
1938(error)S
2205(if)S
2310(the)S
2488(value)S
2780(of)S
2911(sqr\(x\))S
3231(does)S
3482(not)S
3666(exist.)S
2968 V
958(This)S
1203(error)S
1470(is)S
1581(detected)S
2015(for)S
2187(real-type)S
2649(arguments)S
3183(\(real)S
3437(overflow,)S
3935(trap)S
4154(4,)S
(non-fatal\).)509 4274 A
3144 V
12 B
708(BS)S
885(6.6.6.2:)S
12 R
1286(It)S
1391(shall)S
1650(be)S
1794(an)S
1938(error)S
2205(if)S
2310(x)S
2400(in)S
2524(ln\(x\))S
2790(is)S
2901(smaller)S
3289(than)S
3527(or)S
3658(equal)S
3950(to)S
4074(0.)S
3320 V
958(This)S
1203(error)S
1470(is)S
1581(detected)S
2015(\(error)S
2323(in)S
2447(ln,)S
2601(trap)S
2820(66,)S
(non-fatal\))479 3000 A
3496 V
12 B
708(BS)S
885(6.6.6.2:)S
12 R
1286(It)S
1391(shall)S
1650(be)S
1794(an)S
1938(error)S
2205(if)S
2310(x)S
2400(in)S
2524(sqrt\(x\))S
2878(is)S
2989(smaller)S
3377(than)S
3615(0.)S
3672 V
958(This)S
1203(error)S
1470(is)S
1581(detected)S
2015(\(error)S
2323(in)S
2447(sqrt,)S
2689(trap)S
2908(67,)S
(non-fatal\))479 3088 A
3952 V
958(In)S
(addition)396 1099 A
1535(to)S
1669(these)S
1958(errors,)S
2312(overflow)S
2790(in)S
2924(the)S
3112(expression)S
3669(exp\(x\))S
4025(is)S
4146(detected)S
4591(\(error)S
4910(in)S
5045(exp,)S
4092 V
958(trap)S
1177(65,)S
(non-fatal;)472 1357 A
1859(real)S
2072(overflow,)S
2570(trap)S
2789(4,)S
(non-fatal\))479 2909 A
4408 V
12 B
708(BS)S
885(6.6.6.3:)S
12 R
1286(It)S
1391(shall)S
1650(be)S
1794(an)S
1938(error)S
2205(if)S
2310(the)S
2488(integer)S
2855(value)S
3147(of)S
3278(trunc\(x\))S
3699(does)S
3950(not)S
4134(exist.)S
4584 V
958(It)S
1082(depends)S
1526(on)S
1695(the)S
1892(implementations)S
2748(whether)S
3188(this)S
3413(error)S
3700(is)S
3831(detected.)S
4345(The)S
4583(floating-point)S
4724 V
958(emulation)S
1472(detects)S
1839(this)S
2044(error)S
(\(conversion)571 2311 A
2912(error,)S
3209(trap)S
3428(10,)S
(non-fatal\).)509 3608 A
4900 V
12 B
708(BS)S
885(6.6.6.3:)S
12 R
1286(It)S
1391(shall)S
1650(be)S
1794(an)S
1938(error)S
2205(if)S
2310(the)S
2488(integer)S
2855(value)S
3147(of)S
(round\(x\))423 3278 A
3731(does)S
3982(not)S
4166(exist.)S
5076 V
958(It)S
1082(depends)S
1526(on)S
1695(the)S
1892(implementations)S
2748(whether)S
3188(this)S
3413(error)S
3700(is)S
3831(detected.)S
4345(The)S
4583(floating-point)S
5216 V
958(emulation)S
1472(detects)S
1839(this)S
2044(error)S
(\(conversion)571 2311 A
2912(error,)S
3209(trap)S
3428(10,)S
(non-fatal\).)509 3608 A
5392 V
12 B
708(BS)S
885(6.6.6.4:)S
12 R
1286(It)S
1391(shall)S
1650(be)S
1794(an)S
1938(error)S
2205(if)S
2310(the)S
2488(integer)S
2855(value)S
3147(of)S
3278(ord\(x\))S
3611(does)S
3862(not)S
4046(exist.)S
5568 V
958(This)S
1203(error)S
1470(can)S
1668(not)S
1852(occur,)S
(because)383 2181 A
2594(the)S
2772(compiler)S
(will)190 3233 A
3453(not)S
3637(allow)S
3937(such)S
4188(ordinal)S
4561(types.)S
5744 V
12 B
708(BS)S
885(6.6.6.4:)S
12 R
1286(It)S
1391(shall)S
1650(be)S
1794(an)S
1938(error)S
2205(if)S
2310(the)S
2488(character)S
2964(value)S
3256(of)S
3387(chr\(x\))S
3714(does)S
3965(not)S
4149(exist.)S
5920 V
958(Except)S
1327(when)S
1622(the)S
12 I
1803(R)S
12 R
1920(option)S
2261(is)S
2375(off,)S
2580(the)S
2762(compiler)S
3227(generates)S
3719(an)S
3867(EM)S
4082(range)S
4385(check)S
4701(instruction.)S
6060 V
958(The)S
1176(effect)S
1484(of)S
1615(this)S
1820(instruction)S
2368(depends)S
2793(on)S
2943(the)S
3121(EM)S
3332(implementation.)S
6236 V
12 B
708(BS)S
885(6.6.6.4:)S
12 R
1286(It)S
1391(shall)S
1650(be)S
1794(an)S
1938(error)S
2205(if)S
2310(the)S
2488(value)S
2780(of)S
2911(succ\(x\))S
3298(does)S
3549(not)S
3733(exist.)S
6412 V
958(Same)S
1257(comments)S
1784(as)S
1915(for)S
2087(chr\(x\).)S
6588 V
12 B
708(BS)S
885(6.6.6.4:)S
12 R
1286(It)S
1391(shall)S
1650(be)S
1794(an)S
1938(error)S
2205(if)S
2310(the)S
2488(value)S
2780(of)S
2911(pred\(x\))S
3298(does)S
3549(not)S
3733(exist.)S
6764 V
958(Same)S
1257(comments)S
1784(as)S
1915(for)S
2087(chr\(x\).)S
6940 V
12 B
708(BS)S
885(6.6.6.5:)S
12 R
1286(It)S
1391(shall)S
1650(be)S
1794(an)S
1938(error)S
2205(if)S
2310(f)S
2381(in)S
(eof\(f\))278 2505 A
2813(is)S
(undefined.)513 2924 A
7116 V
958(This)S
1203(error)S
1470(is)S
1581(detected)S
2015(\(file)S
2249(not)S
2433(yet)S
2611(open,)S
2905(trap)S
3124(72,)S
3304(fatal\).)S
7292 V
12 B
708(BS)S
885(6.6.6.5:)S
12 R
1286(It)S
1391(shall)S
1650(be)S
1794(an)S
1938(error)S
2205(if)S
2310(f)S
2381(in)S
(eoln\(f\))331 2505 A
2866(is)S
(undefined,)513 2977 A
3520(or)S
3651(if)S
(eof\(f\))278 3756 A
4064(is)S
4175(true)S
4394(at)S
4512(that)S
4724(time.)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(53)S
7920 V
EP
%%Page: 54 60
BP
/slant 0 def
/height 0 def
860 V
12 R
958(The)S
1176(following)S
1677(errors)S
1991(may)S
2229(occur:)S
1036 V
958(file)S
1151(not)S
1335(yet)S
1513(open,)S
1807(trap)S
2026(72,)S
2206(fatal;)S
1176 V
958(not)S
1142(readable,)S
1613(trap)S
1832(97,)S
2012(fatal;)S
1316 V
958(end)S
1162(of)S
1293(file,)S
1516(trap)S
1735(98,)S
1915(fatal.)S
1492 V
12 B
708(BS)S
885(6.7.1:)S
12 R
1196(It)S
1323(shall)S
1604(be)S
1770(an)S
1936(error)S
2225(if)S
2352(a)S
(variable-access)742 2458 A
3252(used)S
3525(as)S
3678(an)S
3844(operand)S
4285(in)S
4431(an)S
4598(expression)S
5168(is)S
1632 V
(undefined)483 708 A
1221(at)S
1339(the)S
1517(time)S
1763(of)S
1894(its)S
2039(use.)S
1808 V
958(The)S
1178(compiler)S
1641(performs)S
2111(some)S
2398(limited)S
2774(checks)S
3135(to)S
3261(see)S
3448(if)S
3555(identifiers)S
4080(are)S
4262(used)S
4516(before)S
4859(they)S
5100(are)S
1948 V
958(set.)S
1186(Since)S
1488(it)S
1589(can)S
1790(not)S
1977(always)S
2347(be)S
2494(sure)S
2729(\(one)S
2977(could,)S
3308(for)S
3483(instance,)S
3943(jump)S
4224(out)S
4411(of)S
4545(a)S
(loop\),)285 4632 A
4949(only)S
5195(a)S
2088 V
958(warning)S
1386(is)S
1498(generated.)S
2060(When)S
2380(an)S
2526(expression)S
3075(contains)S
3510(a)S
3596(function-call,)S
4278(an)S
4424(error)S
4693(occur)S
4994(if)S
5101(the)S
2228 V
958(function)S
1391(is)S
1502(not)S
1686(assigned)S
2132(at)S
2250(run-time.)S
2404 V
12 B
708(BS)S
885(6.7.2.2:)S
12 R
1286(A)S
1404(term)S
1657(of)S
1788(the)S
1966(form)S
2232(x/y)S
2416(shall)S
2675(be)S
2819(an)S
2963(error)S
3230(if)S
3335(y)S
3425(is)S
3536(zero.)S
2580 V
958(It)S
1104(depends)S
1570(on)S
1761(the)S
1981(EM)S
2234(implementation)S
3066(whether)S
3529(this)S
3776(error)S
4085(is)S
4238(detected.)S
4774(On)S
4994(some)S
2720 V
958(machines,)S
1475(a)S
1559(trap)S
1778(may)S
2016(occur.)S
2896 V
12 B
708(BS)S
885(6.7.2.2:)S
12 R
1286(It)S
1391(shall)S
1650(be)S
1794(an)S
1938(error)S
2205(if)S
2310(j)S
2374(is)S
2485(zero)S
2724(in)S
2848('i)S
2953(div)S
3137(j'.)S
3072 V
958(It)S
1104(depends)S
1570(on)S
1761(the)S
1981(EM)S
2234(implementation)S
3066(whether)S
3529(this)S
3776(error)S
4085(is)S
4238(detected.)S
4774(On)S
4994(some)S
3212 V
958(machines,)S
1475(a)S
1559(trap)S
1778(may)S
2016(occur.)S
3388 V
12 B
708(BS)S
885(6.7.2.2:)S
12 R
1286(It)S
1391(shall)S
1650(be)S
1794(an)S
1938(error)S
2205(if)S
2310(j)S
2374(is)S
2485(zero)S
2724(or)S
2855(negative)S
3295(in)S
3419(i)S
3483(MOD)S
3796(j.)S
3564 V
958(This)S
1203(error)S
1470(is)S
1581(detected)S
2015(\(only)S
(positive)383 2300 A
2713(j)S
2777(in)S
2901('i)S
3006(mod)S
3250(j',)S
3385(trap)S
3604(71,)S
(non-fatal\).)509 3784 A
3740 V
12 B
708(BS)S
885(6.7.2.2:)S
12 R
1286(It)S
1417(shall)S
1702(be)S
1872(an)S
2042(error)S
2335(if)S
2466(the)S
2670(result)S
2996(of)S
3153(any)S
3383(operation)S
3896(on)S
4072(integer)S
4465(operands)S
4957(is)S
5095(not)S
3880 V
708(performed)S
(according)477 1243 A
1750(to)S
1874(the)S
2052(mathematical)S
2736(rules)S
3002(for)S
3174(integer)S
3541(arithmetic.)S
4056 V
958(The)S
(reaction)391 1178 A
1601(depends)S
2028(on)S
2180(the)S
2361(EM)S
2575(implementation.)S
3428(Most)S
3709(implementations,)S
4579(however,)S
(will)190 5059 A
4196 V
958(not)S
1142(notice)S
1468(integer)S
1835(overflow.)S
4372 V
12 B
708(BS)S
885(6.8.3.5:)S
12 R
1286(It)S
1395(shall)S
1658(be)S
1806(an)S
1954(error)S
2225(if)S
(none)234 2335 A
2604(of)S
2740(the)S
2923(case-constants)S
3658(is)S
3774(equal)S
4071(to)S
4200(the)S
4383(value)S
4680(of)S
4816(the)S
4999(case-)S
4512 V
708(index)S
(upon)240 1006 A
1276(entry)S
1555(to)S
1679(the)S
1857(case-statement.)S
4688 V
958(This)S
1203(error)S
1470(is)S
1581(detected)S
2015(\(case)S
2295(error,)S
2592(trap)S
2811(20,)S
2991(fatal\).)S
4864 V
12 B
708(BS)S
885(6.9.1:)S
12 R
1196(It)S
1313(shall)S
1584(be)S
1740(an)S
1896(error)S
2175(if)S
2292(the)S
2482(sequence)S
2967(of)S
3110(characters)S
3645(read)S
(looking)368 3896 A
4306(for)S
4491(an)S
4648(integer)S
5028(does)S
5004 V
708(not)S
892(form)S
1158(a)S
1242(signed-integer)S
1965(as)S
2096(specified)S
2564(in)S
2688(6.1.5.)S
5180 V
958(This)S
1203(error)S
1470(is)S
1581(detected)S
2015(\(digit)S
2308(expected,)S
2798(trap)S
(105,)210 3017 A
(non-fatal\).)509 3257 A
5356 V
12 B
708(BS)S
885(6.9.1:)S
12 R
1196(It)S
1314(shall)S
1586(be)S
1743(an)S
1900(error)S
2180(if)S
2298(the)S
2489(sequence)S
2975(of)S
3119(characters)S
3655(read)S
(looking)368 3907 A
4319(for)S
4505(a)S
4603(real)S
4830(does)S
5095(not)S
5496 V
708(form)S
974(a)S
1058(signed-number)S
1813(as)S
1944(specified)S
2412(in)S
2536(6.1.5.)S
5672 V
958(This)S
1203(error)S
1470(is)S
1581(detected)S
2015(\(digit)S
2308(expected,)S
2798(trap)S
(105,)210 3017 A
(non-fatal\).)509 3257 A
5848 V
12 B
708(BS)S
885(6.9.1:)S
12 R
1196(When)S
1521(read)S
1767(is)S
1885(applied)S
2278(to)S
2409(f,)S
2517(it)S
2622(shall)S
2888(be)S
3039(an)S
3190(error)S
3464(if)S
3576(the)S
3761(buffer-variable)S
4527(f\303)S
4647(is)S
(undefined)483 4766 A
5988 V
708(or)S
839(the)S
1017(pre-assertions)S
1721(for)S
1893(get)S
2071(do)S
2221(not)S
2405(hold.)S
6164 V
958(This)S
1203(error)S
1470(is)S
1581(detected)S
2015(\(see)S
(get\(f\)\).)342 2241 A
6340 V
12 B
708(BS)S
885(6.9.3:)S
12 R
1196(When)S
1528(write)S
1823(is)S
1948(applied)S
2348(to)S
2486(a)S
2584(textfile)S
2973(f,)S
3089(it)S
3202(shall)S
3476(be)S
3635(an)S
3794(error)S
4076(if)S
4196(f)S
4282(is)S
(undefined)483 4408 A
4936(or)S
5082(f)S
5168(is)S
6480 V
708(opened)S
1086(for)S
1258(reading.)S
6656 V
958(This)S
1207(error)S
1478(is)S
1593(detected)S
2031(\(see)S
(put\(f\)\).)348 2261 A
2673(Furthermore,)S
3343(this)S
3552(error)S
3823(is)S
3938(also)S
4167(detected)S
4606(when)S
4903(f)S
4979(is)S
5095(not)S
6796 V
958(a)S
1042(textfile.)S
6972 V
12 B
708(BS)S
885(6.9.3.1:)S
12 R
1286(The)S
1514(values)S
1863(of)S
2004(TotalWidth)S
2603(or)S
2745(FracDigits)S
3299(shall)S
3569(be)S
3724(greater)S
4103(than)S
4352(or)S
4494(equal)S
4797(to)S
4932(one;)S
5181(it)S
7112 V
708(shall)S
967(be)S
1111(an)S
1255(error)S
1522(if)S
1627(either)S
1934(value)S
2226(is)S
2337(less)S
2549(then)S
2787(one.)S
7288 V
958(When)S
1296(either)S
1623(value)S
1935(is)S
2067(less)S
2300(than)S
2559(zero,)S
2849(an)S
3014(error)S
(\(illegal)345 3302 A
3698(field)S
3972(width,)S
4329(trap)S
4569(75,)S
(non-fatal\))479 4770 A
7700 V
708(54)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 55 61
BP
/slant 0 def
/height 0 def
860 V
12 R
958(occurs.)S
1375(Zero)S
1645(values)S
1995(are)S
2185(allowed,)S
2640(in)S
2775(order)S
3072(to)S
3206(maintain)S
3670(some)S
(compatibility)646 3965 A
4651(with)S
4907(the)S
5095(old)S
1000 V
958(Ack-Pascal)S
1541(compiler.)S
1176 V
12 B
708(BS)S
885(6.9.5:)S
12 R
1196(It)S
1311(shall)S
1580(be)S
1734(an)S
1888(error)S
2165(if)S
2280(the)S
2468(pre-assertion)S
3135(required)S
3579(for)S
(writeln\(f\))468 3761 A
4269(do)S
4429(not)S
4623(hold)S
4878(prior)S
5155(to)S
1316 V
708(the)S
(invocation)510 886 A
1426(of)S
(page\(f\);)385 1557 A
1492 V
958(This)S
1203(error)S
1470(is)S
1581(detected)S
2015(\(see)S
(put\(f\)\).)348 2241 A
1912 V
12 B
708(Extensions)S
1295(to)S
1426(the)S
1618(Standard)S
2332 V
708(External)S
1188(Routines)S
2508 V
12 R
708(Except)S
1086(for)S
1270(the)S
1460(required)S
1906(directive)S
12 I
2373(forward)S
12 R
2813(the)S
3003(Ack-Pascal)S
3598(compiler)S
(recognizes)518 4072 A
4633(the)S
4824(directive)S
2648 V
12 I
708(extern)S
12 R
1021(.)S
1121(This)S
1376(directive)S
1841(tells)S
2084(the)S
2272(compiler)S
2743(that)S
2965(the)S
3153(procedure)S
3677(block)S
3985(of)S
4126(this)S
4341(procedure)S
(will)190 4865 A
5095(not)S
2788 V
708(be)S
856(present)S
1240(in)S
1368(the)S
1550(current)S
1928(program.)S
2432(The)S
2654(code)S
2916(for)S
3092(the)S
(body)240 3274 A
3549(of)S
3685(this)S
3895(procedure)S
4414(must)S
4684(be)S
4833(included)S
2928 V
708(at)S
826(a)S
910(later)S
1157(stage)S
1436(of)S
1567(the)S
1745(compilation)S
2353(process.)S
3104 V
708(This)S
963(feature)S
1341(allows)S
1698(one)S
1912(to)S
2046(build)S
2334(libraries)S
2774(containing)S
3325(often)S
3615(used)S
3877(routines.)S
4368(These)S
4698(routines)S
5129(do)S
3244 V
708(not)S
893(have)S
1152(to)S
1277(be)S
1422(included)S
1869(in)S
1994(all)S
2147(the)S
2326(programs)S
2814(using)S
3106(them.)S
3439(Maintenance)S
4095(is)S
4207(much)S
4506(simpler)S
4901(if)S
5006(there)S
3384 V
708(is)S
819(only)S
1063(one)S
1267(library)S
(module)362 1621 A
2013(to)S
2137(be)S
2281(changed)S
2713(instead)S
3086(of)S
3217(many)S
3515(Pascal)S
3855(programs.)S
3560 V
708(Another)S
1145(advantage)S
1675(is)S
1796(that)S
2018(these)S
2307(library)S
(modules)409 2671 A
3120(may)S
3369(be)S
(written)345 3524 A
3910(in)S
4045(a)S
4140(different)S
(language,)466 4600 A
5107(for)S
3700 V
708(instance)S
1137(C)S
1249(or)S
1382(the)S
1562(EM)S
1775(assembly)S
(language.)466 2257 A
2785(This)S
3032(is)S
3145(useful)S
3472(if)S
(you)180 3578 A
3789(want)S
4056(to)S
4181(use)S
4373(some)S
4659(specific)S
5068(EM)S
3840 V
708(instructions)S
1306(not)S
1493(generated)S
1997(by)S
2150(the)S
2331(Pascal)S
2674(compiler.)S
3198(Examples)S
3708(are)S
3890(the)S
4071(system)S
4441(call)S
4651(routines)S
5075(and)S
3980 V
708(some)S
1001(floating)S
1416(point)S
(conversion)530 1702 A
2270(routines.)S
2758(Another)S
3193(motive)S
3566(could)S
3871(be)S
4022(the)S
4207(optimization)S
4856(of)S
4994(some)S
4120 V
(time-critical)596 708 A
1334(program)S
1774(parts.)S
4296 V
708(The)S
936(use)S
1137(of)S
1278(external)S
1709(routines,)S
2169(however,)S
2656(is)S
2777(dangerous.)S
3373(The)S
3601(compiler)S
4072(normally)S
4549(checks)S
4918(for)S
5101(the)S
4436 V
708(correct)S
1084(number)S
1491(and)S
1703(type)S
1949(of)S
2088(parameters)S
2659(when)S
2959(a)S
3051(procedure)S
3573(is)S
3692(called)S
4020(and)S
4232(for)S
4411(the)S
4596(result)S
4903(type)S
5148(of)S
4576 V
708(functions.)S
1281(If)S
1426(an)S
1603(external)S
2058(routine)S
2465(is)S
2610(called)S
2964(these)S
3277(checks)S
3670(are)S
3883(not)S
4101(sufficient,)S
(because)383 4654 A
5101(the)S
4716 V
708(compiler)S
1173(can)S
1375(not)S
1563(check)S
1879(whether)S
2304(the)S
2486(procedure)S
3004(heading)S
3420(of)S
3555(the)S
3737(external)S
4162(routine)S
4539(as)S
4673(given)S
4974(in)S
5101(the)S
4856 V
708(Pascal)S
1055(program)S
1502(matches)S
1936(the)S
2121(actual)S
2448(routine)S
2828(implementation.)S
3685(It)S
(should)321 3797 A
4155(be)S
4307(the)S
4493(loader's)S
4922(task)S
5155(to)S
4996 V
708(check)S
1028(this.)S
1301(However,)S
1814(the)S
2000(current)S
2382(loaders)S
2770(are)S
2956(not)S
3147(that)S
3366(smart.)S
3733(Another)S
4167(solution)S
4593(is)S
4711(to)S
4842(check)S
5161(at)S
5136 V
708(run)S
899(time,)S
1175(at)S
1293(least)S
1546(the)S
1724(number)S
2123(of)S
2254(words)S
2580(for)S
2752(parameters.)S
3375(Some)S
3680(EM)S
3891(implementations)S
4728(check)S
5040(this.)S
5312 V
708(For)S
910(those)S
1199(who)S
1441(wish)S
1704(the)S
1886(use)S
2081(the)S
(interface)426 2263 A
2723(between)S
3161(C)S
3275(and)S
3483(Pascal)S
3827(we)S
4003(give)S
4245(an)S
4393(incomplete)S
4965(list)S
5148(of)S
5452 V
(corresponding)691 708 A
1429(formal)S
1783(parameters)S
2346(in)S
2470(C)S
2580(and)S
2784(Pascal.)S
5698 V
708(Pascal)S
1895(C)S
5838 V
708(a:integer)S
1895(int)S
2053(a)S
5978 V
708(a:char)S
1895(int)S
2053(a)S
6118 V
(a:boolean)470 708 A
1895(int)S
2053(a)S
6258 V
708(a:real)S
(double)328 1895 A
2253(a)S
6398 V
708(a:\303)S
12 I
837(type)S
1895(type)S
12 R
2127(*a)S
6538 V
708(var)S
893(a:)S
12 I
981(type)S
1895(type)S
12 R
2127(*a)S
6678 V
708(procedure)S
1222(a\(pars\))S
1895(struct)S
2195({)S
6818 V
2045(void)S
(\(*a\)\(\))278 2289 A
2597(;)S
6958 V
2045(char)S
2284(*static)S
12 Y1
2601(3)S
12 R
2661(link)S
2879(;)S
7098 V
1895(})S
7238 V
708(function)S
1141(a\(pars\):)S
12 I
1513(type)S
12 R
1895(struct)S
2195({)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(55)S
7920 V
EP
%%Page: 56 62
BP
/slant 0 def
/height 0 def
860 V
12 I
2045(type)S
12 R
(\(*a\)\(\))278 2277 A
2585(;)S
1000 V
2045(char)S
2284(*static)S
12 Y1
2601(3)S
12 R
2661(link)S
2879(;)S
1140 V
1895(})S
1386 V
708(The)S
939(Pascal)S
1292(run-time)S
1753(system)S
2132(uses)S
2383(the)S
2574(following)S
3088(algorithm)S
3602(when)S
(calling)330 3907 A
4281(function/procedures)S
1526 V
708(passed)S
1060(as)S
1191(parameters.)S
1772 V
708(if)S
813(\()S
884(static)S
12 Y1
1141(3)S
12 R
1201(link)S
1419(\))S
1640(\(*a\)\(static)S
12 Y1
2134(3)S
12 R
2194(link,pars\))S
2685(;)S
1912 V
708(else)S
1640(\(*a\)\(pars\))S
2150(;)S
2402 V
12 B
708(Separate)S
1195(Compilation)S
2578 V
12 R
708(The)S
948(compiler)S
1431(is)S
1564(able)S
1818(to)S
1964(\(separately\))S
2590(compile)S
3032(a)S
3138(collection)S
3668(of)S
3822(declarations,)S
4491(procedures)S
5075(and)S
2718 V
708(functions)S
1208(to)S
1352(form)S
1638(a)S
1742(library.)S
2176(The)S
2413(library)S
2786(may)S
3043(be)S
3206(linked)S
3557(with)S
3822(the)S
4019(main)S
4310(program,)S
4799(compiled)S
2858 V
708(later.)S
1015(The)S
1233(syntax)S
1578(of)S
1709(these)S
(modules)409 1988 A
2427(is)S
3058 V
11 C
(module)402 1068 A
1537(=)S
([constant-definition-part])1742 1671 A
3198 V
([type-definition-part])1474 1671 A
3338 V
([var-declaration-part])1474 1671 A
3478 V
([procedure-and-function-declaration-part])2747 1671 A
3678 V
12 R
708(The)S
926(compiler)S
(accepts)357 1387 A
1774(a)S
1858(program)S
2298(or)S
2429(a)S
(module:)396 2513 A
3878 V
11 C
(unit)268 1068 A
1403(=)S
(program)469 1537 A
2073(|)S
(module)402 2207 A
4078 V
12 R
708(All)S
897(variables)S
1368(declared)S
1812(outside)S
2194(a)S
(module)362 2281 A
2676(must)S
2944(be)S
3091(imported)S
3562(by)S
3716(parameters,)S
4313(even)S
4575(the)S
4757(files)S
(input)248 5001 A
4218 V
708(and)S
920(output.)S
(Access)344 1326 A
1708(to)S
1840(a)S
1932(variable)S
2361(declared)S
2810(in)S
2942(a)S
(module)362 3034 A
3433(is)S
3551(only)S
3802(possible)S
4235(using)S
4533(the)S
4718(procedures)S
4358 V
708(and)S
946(functions)S
1460(declared)S
1935(in)S
2093(that)S
2339(same)S
(module.)392 2652 A
3138(By)S
3342(giving)S
3714(the)S
3926(correct)S
4328(procedure/function)S
4498 V
708(heading)S
1124(followed)S
1589(by)S
1743(the)S
1925(directive)S
2384(`extern')S
(you)180 2803 A
3017(may)S
3259(use)S
3454(procedures)S
4019(and)S
4227(functions)S
4711(declared)S
5155(in)S
4638 V
708(other)S
987(units.)S
5058 V
12 B
708(Assertions)S
5234 V
12 R
708(When)S
1058(the)S
12 B
1268(s)S
12 R
1378(option)S
1749(is)S
1893(off,)S
2128(Ack-Pascal)S
2744(compiler)S
(recognizes)518 3238 A
3819(an)S
(additional)484 3996 A
4543(statement,)S
5101(the)S
5374 V
708(assertion.)S
1229(Assertions)S
1771(can)S
1969(be)S
2113(used)S
2364(as)S
2495(an)S
2639(aid)S
2817(in)S
(debugging)508 2941 A
3479(and)S
3683(documentation.)S
4491(The)S
4709(syntax)S
5054(is:)S
5574 V
11 C
(assertion)603 1068 A
1738(=)S
('assert')536 1872 A
(Boolean-expression)1206 2475 A
5774 V
12 R
708(An)S
886(assertion)S
1347(is)S
1458(a)S
1542(simple-statement,)S
2431(so)S
5974 V
11 C
(simple-statement)1072 1068 A
2207(=)S
([assignment-statement)1407 2341 A
3815(|)S
6114 V
(procedure-statement)1273 2408 A
3748(|)S
6254 V
(goto-statement)938 2408 A
3413(|)S
6394 V
(assertion)603 2408 A
6534 V
2341(])S
6734 V
12 R
708(An)S
895(assertion)S
1365(causes)S
1720(an)S
1873(error)S
2149(if)S
2263(the)S
2450(Boolean-expression)S
3449(is)S
3570(false.)S
3900(That)S
4162(is)S
4283(its)S
4438(only)S
4692(purpose.)S
5174(It)S
6874 V
708(does)S
969(not)S
1162(change)S
1543(any)S
1756(of)S
1896(the)S
2083(variables,)S
2590(at)S
2717(least)S
2979(it)S
(should)321 3086 A
3446(not.)S
3699(Therefore,)S
4247(do)S
4406(not)S
4599(use)S
4799(functions)S
7014 V
708(with)S
961(side-effects)S
1559(in)S
1690(the)S
1876(Boolean-expression.)S
2934(If)S
3054(the)S
12 B
3240(a)S
12 R
3338(option)S
3684(is)S
3803(turned)S
4150(on,)S
4338(then)S
4584(assertions)S
5100(are)S
7154 V
708(skipped)S
1118(by)S
1273(the)S
1456(compiler.)S
1982(However,)S
2492(assignment)S
3071(to)S
3200(a)S
3289(variable)S
3715(and)S
(calling)330 3924 A
4289(of)S
4425(a)S
4514(procedure)S
5033(with)S
7294 V
708(that)S
922(name)S
(will)190 1216 A
1438(be)S
1585(impossible.)S
2202(If)S
2317(the)S
12 B
2498(s)S
12 R
2578(option)S
2919(is)S
3033(turned)S
3375(on,)S
3558(the)S
3739(compiler)S
(will)190 4203 A
4426(not)S
(know)268 4613 A
4914(a)S
5001(thing)S
7700 V
708(56)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 57 63
BP
/slant 0 def
/height 0 def
860 V
12 R
(about)268 708 A
1006(assertions,)S
1544(so)S
1681(using)S
1972(assertions)S
(will)190 2480 A
2700(then)S
2938(give)S
3176(a)S
3260(parse)S
3546(error.)S
1280 V
12 B
708(Additional)S
1290(Procedures.)S
1456 V
12 R
708(Three)S
(additional)484 1021 A
1535(standard)S
1975(procedures)S
2536(are)S
2715(available:)S
1632 V
(halt:)216 708 A
1808 V
958(a)S
1042(call)S
1248(of)S
1379(this)S
1584(procedure)S
2098(is)S
2209(equivalent)S
2743(to)S
2867(jumping)S
3300(to)S
3425(the)S
3604(end)S
3809(of)S
(your)221 3941 A
4193(program.)S
4694(It)S
4800(is)S
4912(always)S
1948 V
958(the)S
1141(last)S
1345(statement)S
1845(executed.)S
2370(The)S
2593(exit)S
2810(status)S
3121(of)S
3257(the)S
3440(program)S
3885(may)S
4127(be)S
(supplied)409 4275 A
4718(as)S
4853(optional)S
2088 V
958(argument.)S
1505(If)S
1617(not,)S
1831(it)S
(will)190 1929 A
2149(be)S
2293(zero.)S
2264 V
708(release:)S
2404 V
708(mark:)S
2580 V
958(for)S
1138(most)S
1411(applications)S
2034(it)S
2140(is)S
2259(sufficient)S
2756(to)S
2888(use)S
3087(the)S
3273(heap)S
3539(as)S
(second)335 3678 A
4051(stack.)S
4398(Mark)S
4698(and)S
4911(release)S
2720 V
958(are)S
1138(suited)S
1458(for)S
1631(this)S
1837(type)S
2076(of)S
2208(use,)S
2430(more)S
2710(suited)S
3030(than)S
3268(dispose.)S
3720(mark\(p\),)S
4171(with)S
4417(p)S
4507(of)S
4638(type)S
4876(pointer,)S
2860 V
958(stores)S
1278(the)S
1463(current)S
1844(value)S
2143(of)S
2281(the)S
2466(heap)S
2731(pointer)S
3111(in)S
3242(p.)S
3399(release\(p\),)S
3947(with)S
4201(p)S
(initialized)486 4299 A
4823(by)S
4981(a)S
5073(call)S
3000 V
958(of)S
1100(mark\(p\),)S
1562(restores)S
1981(the)S
2170(heap)S
2439(pointer)S
2823(to)S
2958(its)S
3114(old)S
3309(value.)S
3672(All)S
3869(the)S
4057(heap)S
4325(objects,)S
4738(created)S
5129(by)S
3140 V
958(calls)S
1213(of)S
1346(new)S
1580(between)S
2016(the)S
2197(call)S
2406(of)S
2540(mark)S
2822(and)S
3029(the)S
3210(call)S
3419(of)S
3553(release,)S
3954(are)S
4136(removed)S
4592(and)S
4799(the)S
(space)269 4980 A
3280 V
958(they)S
1196(used)S
1447(can)S
1645(be)S
1789(reallocated.)S
2412(Never)S
2739(use)S
2930(mark)S
3209(and)S
3413(release)S
3781(together)S
4208(with)S
4454(dispose!)S
3700 V
12 B
708(Amoeba)S
1168(Interfacing.)S
3876 V
12 R
708(If)S
827(the)S
12 B
1012(c)S
12 R
1103(option)S
1448(is)S
1566(turned)S
1912(on,)S
2099(then)S
2344(some)S
2636(special)S
3011(features)S
3434(are)S
3621(available)S
4097(to)S
4229(simplify)S
4671(an)S
(interface)426 4823 A
4016 V
708(with)S
956(the)S
1136(Amoeba)S
1578(environment.)S
2281(First)S
2536(of)S
2669(all,)S
2853(the)S
3033(compiler)S
3496(allows)S
(you)180 3845 A
4057(to)S
4182(use)S
4374(a)S
4459(different)S
4909(type)S
5148(of)S
4156 V
708(string)S
1014(constants.)S
1554(These)S
1873(string)S
2179(constants)S
2659(are)S
2838(delimited)S
3326(by)S
(double)328 3477 A
(quotes)315 3836 A
4182(\(`"'\).)S
4486(To)S
4651(put)S
4836(a)S
(double)328 4921 A
4296 V
(quote)268 708 A
1021(into)S
1254(these)S
1548(strings,)S
(you)180 1946 A
2171(must)S
2451(repeat)S
2793(the)S
(double)328 2986 A
(quote,)298 3359 A
3702(like)S
3929(the)S
4122(single)S
(quote)268 4456 A
4768(in)S
4906(normal)S
4436 V
708(string)S
1023(constants.)S
1572(These)S
1900(special)S
2277(string)S
2593(constants)S
3083(are)S
3272(terminated)S
3831(by)S
3991(a)S
4085(zero)S
4334(byte)S
4582(\(chr\(0\)\).)S
5061(The)S
4576 V
708(type)S
956(of)S
1096(these)S
1384(constants)S
1873(is)S
1993(a)S
2086(pointer)S
2468(to)S
2601(a)S
2694(packed)S
3075(array)S
3364(of)S
3504(characters,)S
4066(with)S
4321(lower)S
(bound)300 4637 A
4976(1)S
5075(and)S
4716 V
(unknown)448 708 A
(upper)275 1186 A
(bound.)330 1491 A
4892 V
(Secondly,)479 708 A
1226(the)S
1413(compiler)S
1883(predefines)S
2427(a)S
2520(new)S
2761(type)S
3009(identifier)S
3495('string')S
3893(denoting)S
4355(this)S
4570(just)S
4785(described)S
5032 V
708(string)S
1014(type.)S
5208 V
708(The)S
926(only)S
1170(thing)S
(you)180 1448 A
1658(can)S
1856(do)S
2006(with)S
2252(these)S
2531(features)S
2946(is)S
3057(declaration)S
3626(of)S
3757(constants)S
4237(and)S
4441(variables)S
4909(of)S
5041(type)S
5348 V
708('string'.)S
1177(String)S
1524(objects)S
1918(may)S
2177(not)S
2382(be)S
2547(allocated)S
3036(on)S
3207(the)S
3405(heap)S
3683(and)S
3907(string)S
4233(pointers)S
4673(may)S
4931(not)S
5135(be)S
5488 V
708(dereferenced.)S
(Still)203 1434 A
1676(these)S
1964(strings)S
2326(are)S
2515(very)S
2770(useful)S
3106(in)S
3240(combination)S
3884(with)S
4140(external)S
4571(routines.)S
5061(The)S
5628 V
708(procedure)S
1222(write)S
1503(is)S
1614(extended)S
2080(to)S
2204(print)S
2463(these)S
2742(zero-terminated)S
3541(strings)S
3894(correctly.)S
6048 V
12 B
708(Double)S
1108(Length)S
1507(\(32-bit\))S
1922(Integers.)S
6224 V
12 R
708(If)S
835(the)S
12 B
1028(d)S
12 R
1140(option)S
1493(is)S
1619(turned)S
1973(on,)S
2168(then)S
2421(the)S
(additional)484 2614 A
3143(type)S
('long')296 3396 A
3737(is)S
(known)328 3864 A
4238(to)S
4378(the)S
4572(compiler.)S
5109(By)S
6364 V
708(default,)S
(long)214 1110 A
1359(variables)S
1832(have)S
2095(integer)S
2467(values)S
2811(in)S
2940(the)S
3123(range)S
12 Y
3427(-)S
12 R
(2147483647..+2147483647,)1358 3493 A
4886(but)S
5074(this)S
6504 V
708(can)S
907(be)S
1052(changed)S
1485(with)S
1732(the)S
1911(\261V)S
2091(option)S
2431(\(if)S
2579(the)S
2759(back)S
3019(end)S
3225(can)S
(support)362 3425 A
3819(this\).)S
(Long)254 4127 A
4413(constants)S
4895(can)S
5095(not)S
6644 V
708(be)S
856(declared.)S
(Longs)301 1361 A
1696(can)S
1898(not)S
2086(be)S
2234(used)S
2489(as)S
2624(control-variables.)S
3540(It)S
3649(is)S
3764(not)S
3952(allowed)S
4370(to)S
4497(form)S
4766(subranges)S
6784 V
708(of)S
844(type)S
(long.)244 1087 A
1396(All)S
1587(operations)S
2126(allowed)S
2545(on)S
2701(integers)S
3121(are)S
3306(also)S
3537(allowed)S
3957(on)S
(longs)261 4113 A
4410(and)S
4620(are)S
4805(indicated)S
6924 V
708(by)S
872(the)S
1064(same)S
1357(operators:)S
1886('+',)S
2110(')S
12 Y
2151(-)S
12 R
2217(',)S
2332('*',)S
2548('/',)S
2738('div',)S
3048('mod'.)S
3448(The)S
3680(procedures)S
4255(read)S
4508(and)S
4726(write)S
5021(have)S
7064 V
708(been)S
972(extended)S
1444(to)S
1574(handle)S
(long)214 1932 A
2182(arguments)S
2722(correctly.)S
3250(It)S
3361(is)S
3478(possible)S
3910(to)S
4040(read)S
(longs)261 4286 A
4584(from)S
4857(a)S
4948(file)S
5148(of)S
7204 V
708(integers)S
1127(and)S
1336(vice-versa,)S
1900(but)S
2089(only)S
2338(if)S
(longs)261 2448 A
2744(and)S
2952(integers)S
3370(have)S
3632(the)S
3814(same)S
4097(size.)S
4380(The)S
4602(default)S
4973(width)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(57)S
7920 V
EP
%%Page: 58 64
BP
/slant 0 def
/height 0 def
860 V
12 R
708(for)S
(longs)261 883 A
1177(is)S
1291(11.)S
1504(The)S
1725(standard)S
2168(procedures)S
2732('abs')S
3008(and)S
3215('sqr')S
3478(have)S
3739(been)S
4000(extended)S
4470(to)S
4598(work)S
4881(on)S
(long)214 5035 A
1000 V
708(arguments.)S
(Conversion)556 1306 A
1896(from)S
2165(integer)S
2535(to)S
(long,)244 2662 A
(long)214 2939 A
3186(to)S
3313(real,)S
3559(real)S
3775(to)S
(long)214 3902 A
4149(and)S
(long)214 4356 A
4603(to)S
4730(integer)S
5100(are)S
1140 V
708(automatic,)S
1246(like)S
1458(the)S
(conversion)530 1636 A
2196(from)S
2462(integer)S
2829(to)S
2953(real.)S
3226(These)S
(conversions)577 3545 A
4152(may)S
4390(cause)S
4689(a)S
1316 V
(conversion)530 958 A
1518(error,)S
1815(trap)S
2034(10,)S
(non-fatal)438 2214 A
1736 V
12 B
708(Underscore)S
1337(As)S
1502(Letter)S
1912 V
12 R
708(The)S
(underscore)531 926 A
1487(character)S
1963(')S
12 Y1
2004(3)S
12 R
2064(')S
2135(may)S
2373(be)S
2517(used)S
2768(in)S
2892(forming)S
3312(identifiers,)S
3865(if)S
3970(the)S
4148(u)S
4238(or)S
4370(U)S
4489(option)S
4828(is)S
4940(turned)S
2052 V
708(on.)S
932(It)S
1050(is)S
1174(forbidden)S
1687(to)S
1824(start)S
2077(identifiers)S
2613(with)S
(underscores,)608 2872 A
3523(since)S
3815(this)S
4033(may)S
4284(cause)S
4596(name-clashes)S
2192 V
708(with)S
954(run-time)S
1402(routines.)S
2612 V
12 B
708(Zero)S
986(Field)S
1279(Width)S
1638(In)S
1782(Write.)S
2788 V
12 R
708(Zero)S
980(TotalWidth)S
1582(arguments)S
2130(are)S
2323(allowed.)S
2811(No)S
3003(characters)S
3540(are)S
(written)345 3733 A
4122(for)S
4308(character,)S
4828(string)S
5148(or)S
2928 V
708(Boolean)S
1149(type)S
1396(arguments)S
1939(then.)S
2246(A)S
2373(zero)S
2621(FracDigits)S
3172(argument)S
3667(for)S
3847(fixed-point)S
4423(representation)S
5148(of)S
3068 V
708(reals)S
968(causes)S
1314(the)S
1492(fraction)S
1900(and)S
2104(the)S
2282(character)S
2758('.')S
2900(to)S
3024(be)S
(suppressed.)560 3168 A
3488 V
12 B
708(Pre-processing)S
3664 V
12 R
708(If)S
841(the)S
1040(very)S
1307(first)S
1556(character)S
2054(of)S
2207(a)S
2313(file)S
2528(containing)S
3090(a)S
3196(Pascal)S
3558(program)S
4020(is)S
4153(the)S
4353(sharp)S
4667(\('#',)S
4932(ASCII)S
3804 V
708(23\(hex\)\))S
1160(the)S
1343(file)S
1540(is)S
1655(preprocessed)S
2321(in)S
2449(the)S
2631(same)S
2914(way)S
3150(as)S
3285(C)S
3399(programs.)S
3950(Lines)S
4253(beginning)S
4769(with)S
5019(a)S
5107('#')S
3944 V
708(are)S
893(taken)S
1192(as)S
1330(preprocessor)S
1986(command)S
2499(lines)S
2765(and)S
2976(not)S
3167(fed)S
3359(to)S
3490(the)S
3675(Pascal)S
4022(compiler)S
4490(proper.)S
4903(C)S
5020(style)S
4084 V
708(comments,)S
(/*......*/,)398 1291 A
1745(are)S
1950(removed)S
2429(by)S
2605(the)S
2809(C)S
2945(preprocessor,)S
3650(thus)S
3907(C)S
4043(comments)S
4595(inside)S
4939(Pascal)S
4224 V
708(programs)S
1195(are)S
1374(also)S
1599(removed)S
2052(when)S
2344(they)S
2582(are)S
2761(fed)S
(through)375 2946 A
3351(the)S
3529(preprocessor.)S
4644 V
12 B
708(Deviations)S
1283(from)S
1569(the)S
1761(standard)S
4820 V
12 R
708(Ack-Pascal)S
1291(deviates)S
1718(from)S
1984(the)S
2162(standard)S
(proposal)416 2602 A
3048(in)S
3172(the)S
3350(following)S
3851(ways:)S
4996 V
708(1.)S
958(Standard)S
1430(procedures)S
2003(and)S
2219(functions)S
2712(are)S
2904(not)S
3101(allowed)S
3528(as)S
3672(parameters)S
4248(in)S
4385(Ack-Pascal.)S
5041(You)S
5136 V
958(can)S
1167(obtain)S
1510(the)S
1699(same)S
1989(result)S
2299(with)S
2555(negligible)S
3079(loss)S
3307(of)S
3448(performance)S
4101(by)S
4261(declaring)S
4752(some)S
5047(user)S
5276 V
958(routines)S
1378(like:)S
5476 V
11 C
(function)536 1318 A
(sine\(x:real\):real;)1206 1921 A
5616 V
(begin)335 1318 A
5756 V
(sine:=sin\(x\))804 1854 A
5896 V
(end;)268 1318 A
6132 V
12 R
708(2.)S
958(The)S
1204(standard)S
1673(procedures)S
2263(read,)S
2561(readln,)S
2953(write)S
3263(and)S
3496(writeln)S
3900(are)S
4108(implemented)S
4799(as)S
4959(word-)S
6272 V
958(symbols,)S
1420(and)S
1624(can)S
1822(therefore)S
2291(not)S
2475(be)S
2619(redeclared.)S
6692 V
12 B
708(Compiler)S
1230(Options)S
6868 V
12 R
708(Some)S
1017(options)S
1406(of)S
1541(the)S
1723(compiler)S
2188(may)S
2430(be)S
2578(controlled)S
3104(by)S
3259(using)S
(``{$....}''.)490 3555 A
4110(Each)S
4387(option)S
4730(consists)S
5148(of)S
7008 V
708(a)S
819(lower)S
1153(case)S
1419(letter)S
1727(followed)S
2215(by)S
2392(+,)S
12 Y
2546(-)S
12 R
2668(or)S
2825(an)S
2995(unsigned)S
3486(number.)S
3971(Options)S
4410(are)S
4615(separated)S
5129(by)S
7148 V
708(commas.)S
1201(The)S
1419(following)S
1920(options)S
2305(exist:)S
7324 V
12 B
708(a)S
12 R
798(+/)S
12 Y
900(-)S
12 R
1188(this)S
1393(option)S
1731(switches)S
2179(assertions)S
2687(on)S
2837(and)S
3041(off.)S
3273(If)S
3385(this)S
3591(option)S
3930(is)S
4042(on,)S
4223(then)S
4462(code)S
4721(is)S
4833(included)S
7700 V
708(58)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 59 65
BP
/slant 0 def
/height 0 def
860 V
12 R
1188(to)S
1312(test)S
1511(these)S
1790(assertions)S
2298(at)S
2416(run)S
2607(time.)S
2913(Default)S
3308(+.)S
1036 V
12 B
708(c)S
12 R
792(+/)S
12 Y
894(-)S
12 R
1188(this)S
1403(option,)S
1781(if)S
1896(on,)S
2086(allows)S
(you)180 2443 A
2663(to)S
2797(use)S
2998(C-type)S
3368(string)S
3685(constants)S
(surrounded)543 4176 A
4760(by)S
(double)328 4921 A
1176 V
(quotes.)345 1188 A
1593(Moreover,)S
2130(a)S
2214(new)S
2446(type)S
2684(identifier)S
3160('string')S
3548(is)S
3659(predefined.)S
4267(Default)S
12 Y
4662(-)S
12 R
4728(.)S
1352 V
12 B
708(d)S
12 R
805(+/)S
12 Y
907(-)S
12 R
1188(this)S
1393(option,)S
1761(if)S
1866(on,)S
2046(allows)S
(you)180 2393 A
2603(to)S
2727(use)S
2918(variables)S
3386(of)S
3517(type)S
('long'.)326 3755 A
4141(Default)S
12 Y
4536(-)S
12 R
4602(.)S
1528 V
12 B
708(i)S
12 R
772(<num>)S
1188(with)S
1434(this)S
1639(flag)S
1858(the)S
2036(setsize)S
2391(for)S
2564(a)S
2649(set)S
2815(of)S
2947(integers)S
3362(can)S
3561(be)S
3706(manipulated.)S
4395(The)S
4614(number)S
5014(must)S
1668 V
1188(be)S
1332(the)S
1510(number)S
1909(of)S
2040(bits)S
2245(per)S
2430(set.)S
2655(The)S
2873(default)S
3240(value)S
3532(is)S
3643(wordsize)S
12 Y
4081(-)S
12 R
4147(1.)S
1844 V
12 B
708(l)S
12 R
772(+/)S
12 Y
874(-)S
12 R
1188(if)S
1294(+)S
1394(then)S
1634(code)S
1894(is)S
2007(inserted)S
2423(to)S
2549(keep)S
2809(track)S
3084(of)S
3217(the)S
3397(source)S
3745(line)S
3959(number.)S
4420(When)S
4740(this)S
4947(flag)S
5168(is)S
1984 V
1188(switched)S
1660(on)S
1821(and)S
2036(off,)S
2249(an)S
2404(incorrect)S
2877(line)S
3100(number)S
3510(may)S
3759(appear)S
4123(if)S
4239(the)S
4428(error)S
4705(occurs)S
5061(in)S
5195(a)S
2124 V
1188(part)S
1413(of)S
(your)221 1550 A
1807(program)S
2253(for)S
2431(which)S
2763(this)S
2975(flag)S
3201(is)S
3319(off.)S
3558(These)S
3884(same)S
4170(line)S
4389(numbers)S
4842(are)S
5028(used)S
2264 V
1188(for)S
1360(the)S
1538(profile,)S
1922(flow)S
2175(and)S
(count)268 2379 A
2677(options)S
3062(of)S
3193(the)S
3371(EM)S
3582(interpreter)S
12 I
4119(em)S
12 R
4271(.)S
4361(Default)S
4756(+.)S
2440 V
12 B
708(r)S
12 R
792(+/)S
12 Y
894(-)S
12 R
1188(if)S
1316(+)S
1437(then)S
1698(code)S
1979(is)S
2114(inserted)S
2552(to)S
2700(check)S
3036(subrange)S
3526(variables)S
4018(against)S
4415(lower)S
4746(and)S
(upper)275 4974 A
2580 V
1188(subrange)S
1654(limits.)S
2021(Default)S
2416(+.)S
2756 V
12 B
708(s)S
12 R
785(+/)S
12 Y
887(-)S
12 R
1188(if)S
1311(+)S
1427(then)S
1683(the)S
1879(compiler)S
(will)190 2358 A
(hunt)214 2596 A
2858(for)S
(places)303 3048 A
3400(in)S
(your)221 3543 A
3813(program)S
4272(where)S
(non-standard)631 4618 A
2896 V
1188(features)S
1603(are)S
1782(used,)S
2063(and)S
2267(for)S
(each)222 2439 A
(place)256 2691 A
(found)281 2977 A
3288(it)S
(will)190 3386 A
3606(generate)S
4047(a)S
4131(warning.)S
4618(Default)S
12 Y
5013(-)S
12 R
5079(.)S
3072 V
12 B
708(t)S
12 R
779(+/)S
12 Y
881(-)S
12 R
1188(if)S
1296(+)S
1397(then)S
(each)222 1638 A
1893(time)S
2142(a)S
2229(procedure)S
2746(is)S
2860(entered,)S
3280(the)S
3461(routine)S
12 I
3837(procentry)S
12 R
4350(is)S
4465(called,)S
4819(and)S
(each)222 5027 A
3212 V
1188(time)S
1467(a)S
1584(procedure)S
2131(exits,)S
2453(the)S
2664(procedure)S
12 I
(procexit)397 3211 A
12 R
3681(is)S
3825(called.)S
4237(Both)S
12 I
4533(procentry)S
12 R
5075(and)S
3352 V
12 I
(procexit)397 1188 A
12 R
1633(have)S
1899(a)S
12 I
1991(string)S
12 R
2321(as)S
2461(parameter.)S
3046(This)S
3300(means)S
3648(that)S
3869(when)S
4170(a)S
4263(user)S
4504(specifies)S
4968(his)S
5148(or)S
3492 V
1188(her)S
1383(own)S
1630(procedures,)S
2230(the)S
12 B
2417(c)S
12 R
2510(option)S
2857(must)S
3131(be)S
3284(used.)S
3604(Default)S
4008(procedures)S
4578(are)S
4766(present)S
5155(in)S
3632 V
1188(the)S
1366(run-time)S
1814(library.)S
2228(Default)S
12 Y
2623(-)S
12 R
2689(.)S
3808 V
12 B
708(u)S
12 R
805(+/)S
12 Y
907(-)S
12 R
1188(if)S
1294(+)S
1393(then)S
1632(the)S
(underscore)531 1811 A
2373(character)S
2850(``)S
12 Y1
2932(3)S
12 R
2992('')S
3105(is)S
3217(treated)S
3579(like)S
3792(a)S
3877(letter,)S
4189(so)S
4328(that)S
4542(it)S
4642(may)S
4882(be)S
5028(used)S
3948 V
1188(in)S
1327(identifiers.)S
1925(Procedure)S
2461(and)S
2680(function)S
3127(identifiers)S
3664(are)S
3857(not)S
4055(allowed)S
4483(to)S
4621(start)S
4875(with)S
5135(an)S
4088 V
(underscore)531 1188 A
(because)383 1749 A
2162(they)S
2400(may)S
(collide)330 2638 A
2998(with)S
3244(library)S
3598(routine)S
3971(names.)S
4370(Default)S
12 Y
4765(-)S
12 R
4831(.)S
4264 V
708(Some)S
1013(of)S
1144(these)S
1423(flags)S
1689(\()S
12 B
1730(c,)S
1844(d,)S
1971(i,)S
2065(s,)S
2172(u,)S
2299(C)S
12 R
2417(and)S
12 B
2621(U)S
12 R
2709(\))S
2780(The)S
2998(others)S
3324(may)S
3562(be)S
3706(switched)S
4167(on)S
4317(and)S
4521(off.)S
4440 V
708(A)S
841(very)S
1101(powerful)S
(debugging)508 1584 A
2137(tool)S
2371(is)S
2498(the)S
(knowledge)530 2692 A
3268(that)S
(inaccessible)586 3496 A
4128(statements)S
4686(and)S
4906(useless)S
4580 V
708(tests)S
954(are)S
1133(removed)S
1586(by)S
1736(the)S
1914(EM)S
2125(optimizer.)S
2680(For)S
2878(instance,)S
3335(a)S
3419(statement)S
3914(like:)S
4780 V
11 C
1068(if)S
(debug)335 1269 A
(then)268 1671 A
4920 V
(writeln\('initialization)1541 1604 A
(done'\);)469 3212 A
5156 V
12 R
708(is)S
821(completely)S
1391(removed)S
1846(by)S
1998(the)S
2179(optimizer)S
2677(if)S
(debug)294 2785 A
3112(is)S
3226(a)S
3313(constant)S
3749(with)S
3998(value)S
4293(false.)S
4616(The)S
4837(first)S
5067(line)S
5296 V
708(is)S
829(removed)S
1292(if)S
(debug)294 1406 A
1739(is)S
1859(a)S
1952(constant)S
2394(with)S
2649(value)S
2950(true.)S
3238(Of)S
3406(course,)S
3791(if)S
(debug)294 3905 A
4238(is)S
4358(a)S
4451(variable)S
4881(nothing)S
5436 V
708(can)S
906(be)S
1050(removed.)S
5612 V
708(A)S
828(disadvantage)S
1492(of)S
1626(Pascal,)S
1999(the)S
2180(lack)S
2415(of)S
(preinitialized)641 2549 A
3223(data,)S
3488(can)S
3689(be)S
3836(diminished)S
4406(by)S
4559(making)S
4954(use)S
5148(of)S
5752 V
708(the)S
(possibilities)579 891 A
1505(of)S
1641(the)S
1824(EM)S
2040(optimizer.)S
2600(For)S
2803(instance,)S
(initializing)526 3265 A
3826(an)S
3974(array)S
4258(of)S
4393(reserved)S
4838(words)S
5168(is)S
5892 V
708(sometimes)S
1274(optimized)S
1806(into)S
2042(3)S
2150(EM)S
2379(instructions.)S
3052(To)S
3234(maximize)S
3760(this)S
3983(effect)S
(you)180 4310 A
4539(must)S
(initialize)426 4823 A
6032 V
708(variables)S
1182(as)S
1319(much)S
1623(as)S
1760(possible)S
2192(in)S
2321(order)S
2612(of)S
2748(declaration)S
3322(and)S
3531(array)S
3816(entries)S
4175(in)S
4304(order)S
4595(of)S
4731(decreasing)S
6172 V
708(index.)S
6592 V
12 B
(References)567 708 A
6804 V
12 R
708([1])S
958(BSI)S
1176(standard)S
1616(BS)S
(6192:)274 1793 A
(1982)240 2097 A
2367(\(ISO)S
(7185\).)311 2634 A
6980 V
708([2])S
958(A.S.Tanenbaum,)S
1841(J.W.Stevenson,)S
2656(Hans)S
2973(van)S
3216(Staveren,)S
3739(E.G.Keizer,)S
12 I
4385(Description)S
5026(of)S
5189(a)S
7120 V
958(machine)S
1409(architecture)S
2042(for)S
2224(use)S
2426(with)S
2675(block)S
2978(structured)S
(languages)495 3515 A
12 R
4020(,)S
4090(Informatica)S
(rapport)350 4697 A
5087(IR-)S
7260 V
958(81.)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(59)S
7920 V
EP
%%Page: 60 66
BP
/slant 0 def
/height 0 def
860 V
12 B
708(5.1.5.)S
1068(ACK)S
1368(Modula-2)S
1901(Compiler)S
2423(Compliance)S
3072(Statements)S
1280 V
708(Introduction)S
1456 V
12 R
708(This)S
1001(document)S
1555(describes)S
2084(the)S
2310(implementation-specific)S
3567(features)S
4031(of)S
4211(the)S
4438(ACK)S
(Modula-2)476 4773 A
1596 V
708(compiler.)S
1259(It)S
1394(is)S
1535(not)S
1749(intended)S
2224(to)S
(teach)256 2377 A
(Modula-2)476 2692 A
3227(programming.)S
4004(For)S
4231(a)S
4344(description)S
4941(of)S
5101(the)S
1736 V
(Modula-2)476 708 A
(language,)466 1214 A
1710(the)S
1888(reader)S
2222(is)S
2333(referred)S
2749(to)S
2873([1].)S
1912 V
708(The)S
964(ACK)S
(Modula-2)476 1288 A
1832(compiler)S
2331(is)S
2480(currently)S
2986(available)S
3493(for)S
3704(use)S
3934(with)S
4219(the)S
(VAX,)294 4436 A
4799(Motorola)S
2052 V
(MC680x0)487 708 A
1246(and)S
1471(Intel)S
(80x86)300 1745 A
2096(code-generators.)S
2981(For)S
3200(the)S
(80x86,)330 3399 A
3780(and)S
(MC680x0,)517 4005 A
4573(floating)S
5001(point)S
2192 V
708(emulation)S
1222(is)S
1333(used.)S
1644(This)S
1889(is)S
2000(made)S
2292(available)S
2760(with)S
3006(the)S
12 B
3184(\261fp)S
12 R
3382(option,)S
3750(which)S
4076(must)S
4341(be)S
4485(passed)S
4837(to)S
12 I
4961(ack)S
12 R
5139(.)S
2612 V
12 B
708(The)S
939(Language)S
1477(Implementation)S
2788 V
12 R
708(This)S
958(section)S
1336(discusses)S
1821(the)S
2004(deviations)S
2536(from)S
2807(the)S
(Modula-2)476 2990 A
(language)436 3501 A
3972(as)S
4108(described)S
4607(in)S
4736(the)S
12 I
4920(Report)S
2928 V
708(on)S
865(The)S
1083(Programming)S
(Language)481 1798 A
(Modula-2)476 2316 A
12 R
2802(,)S
2869(as)S
3007(it)S
3112(appeared)S
3586(in)S
3716([1],)S
3924(from)S
4196(now)S
4440(on)S
4596(referred)S
5018(to)S
5148(as)S
3068 V
12 I
708(the)S
887(Report)S
12 R
1226(.)S
1317(Also,)S
1607(the)S
1786(Report)S
2146(sometimes)S
2696(leaves)S
3031(room)S
3318(for)S
3492(interpretation.)S
4238(The)S
4458(section)S
4833(numbers)S
3208 V
708(mentioned)S
1248(are)S
1427(the)S
1605(section)S
1978(numbers)S
2424(of)S
2555(the)S
2733(Report.)S
3628 V
12 B
708(Syntax)S
1093(\(section)S
1521(2\))S
3804 V
12 R
708(The)S
949(syntax)S
(recognized)531 1317 A
1901(is)S
2035(that)S
2270(of)S
2424(the)S
2625(Report,)S
3037(with)S
3306(some)S
3615(extensions)S
4179(to)S
4327(also)S
(recognize)471 4576 A
5101(the)S
3944 V
708(syntax)S
1053(of)S
1184(an)S
1328(earlier)S
(definition,)501 1670 A
2201(given)S
2499(in)S
2623([2].)S
2855(Only)S
3127(one)S
3331(compilation)S
3939(unit)S
4157(per)S
4342(file)S
4535(is)S
(accepted.)454 4646 A
4364 V
12 B
708(Vocabulary)S
1342(and)S
1566(Representation)S
2384(\(section)S
2812(3\))S
4540 V
12 R
708(The)S
(input)248 926 A
1204(``10..'')S
1578(is)S
1689(parsed)S
2035(as)S
2166(two)S
2378(tokens:)S
2757(``10'')S
3071(and)S
3275(``..''.)S
4716 V
708(The)S
926(empty)S
1258(string)S
(``'')164 1564 A
1758(has)S
1949(type)S
4916 V
11 C
(ARRAY)335 1068 A
1470([0)S
1671(..)S
1872(0])S
2073(OF)S
(CHAR)268 2274 A
5116 V
12 R
708(and)S
912(contains)S
1345(one)S
1549(character:)S
2059(0.)S
5292 V
708(When)S
1033(the)S
1218(text)S
1437(of)S
1575(a)S
1666(comment)S
2153(starts)S
2447(with)S
2701(a)S
2793('$',)S
3003(it)S
3109(may)S
3355(be)S
3507(a)S
3599(pragma.)S
4060(Currently,)S
4592(the)S
4778(following)S
5432 V
708(pragmas)S
1148(exist:)S
5632 V
11 C
(\(*$F)268 1068 A
1738(\(F)S
(stands)402 1939 A
(for)201 2408 A
(Foreign\))536 2676 A
3279(*\))S
5772 V
(\(*$R[+|-])603 1068 A
(\(Run-time)603 1738 A
(checks,)469 2408 A
2944(on)S
3145(or)S
(off,)268 3346 A
(default)469 3681 A
(on\))201 4217 A
4485(*\))S
5912 V
(\(*$A[+|-])603 1068 A
(\(Array)402 1738 A
(bound)335 2207 A
(checks,)469 2609 A
3145(on)S
3346(or)S
(off,)268 3547 A
(default)469 3882 A
(off\))268 4418 A
4753(*\))S
6052 V
(\(*$U)268 1068 A
(\(Allow)402 1738 A
(for)201 2207 A
(underscores)737 2475 A
(within)402 3279 A
(identifiers\))804 3748 A
4619(*\))S
6252 V
12 R
708(The)S
928(Foreign)S
1336(pragma)S
1731(is)S
1844(only)S
2090(meaningful)S
2673(in)S
2799(a)S
12 C
(DEFINITION)730 2885 A
(MODULE)438 3690 A
12 R
4128(,)S
4190(and)S
4396(indicates)S
4859(that)S
5074(this)S
6392 V
12 C
(DEFINITION)730 708 A
(MODULE)438 1515 A
12 R
1987(describes)S
2472(an)S
(interface)426 2620 A
3080(to)S
3208(a)S
(module)362 3296 A
(written)345 3692 A
4071(in)S
4199(another)S
(language)436 4596 A
5066(\(for)S
6532 V
708(instance)S
1172(C,)S
1349(Pascal,)S
1757(or)S
12 C
1926(EM)S
12 R
2072(\).)S
2241(Run-time)S
2766(checks)S
3163(that)S
3413(can)S
3649(be)S
3831(disabled)S
4302(are:)S
4553(range)S
4890(checks,)S
6672 V
12 C
(CARDINAL)584 708 A
12 R
1324(overflow)S
1794(checks,)S
2185(checks)S
2546(when)S
2840(assigning)S
3328(a)S
12 C
(CARDINAL)584 3414 A
12 R
4030(to)S
4155(an)S
12 C
(INTEGER)511 4300 A
12 R
4842(and)S
5047(vice)S
6812 V
708(versa,)S
1036(and)S
1252(checks)S
1623(that)S
12 C
(FOR)219 1847 A
12 R
(-loop)255 2066 A
2363(control-variables)S
3227(are)S
3418(not)S
3614(changed)S
4059(in)S
4196(the)S
(body)240 4387 A
4670(of)S
4814(the)S
(loop.)244 5005 A
6952 V
708(Array)S
(bound)300 1023 A
1354(checks)S
1714(can)S
1913(be)S
2058(enabled,)S
(because)383 2495 A
2908(many)S
12 C
3206(EM)S
12 R
3382(implementations)S
4219(do)S
4369(not)S
4553(implement)S
5101(the)S
7092 V
708(array)S
(bound)300 996 A
1334(checking)S
1808(of)S
1947(the)S
12 C
2133(EM)S
12 R
2317(array)S
2605(instructions.)S
3269(When)S
3596(enabled,)S
4041(the)S
4228(compiler)S
4698(generates)S
5195(a)S
7232 V
708(check)S
1032(before)S
1384(generating)S
1937(an)S
12 C
2093(EM)S
12 R
2281(array)S
2573(instruction.)S
3193(Even)S
3482(when)S
(underscores)578 3785 A
4404(are)S
4594(enabled,)S
5041(they)S
7700 V
708(60)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 61 67
BP
/slant 0 def
/height 0 def
860 V
12 R
(still)183 708 A
921(may)S
1159(not)S
1343(start)S
1583(an)S
1727(identifier.)S
1036 V
708(Constants)S
1247(of)S
1411(type)S
12 C
(LONGINT)511 1682 A
12 R
2256(are)S
2468(integers)S
2915(with)S
3194(a)S
3311(suffix)S
3657(letter)S
12 C
3971(D)S
12 R
4107(\(for)S
4353(instance)S
12 C
(1987D)365 4813 A
12 R
5178(\).)S
1176 V
708(Constants)S
1217(of)S
1351(type)S
12 C
(LONGREAL)584 1592 A
12 R
2209(have)S
2470(suffix)S
12 C
2786(D)S
12 R
2892(if)S
3000(a)S
3087(scale)S
3363(factor)S
3680(is)S
3794(missing,)S
4233(or)S
4367(have)S
12 C
4628(D)S
12 R
4734(in)S
(place)256 4860 A
5148(of)S
1316 V
12 C
708(E)S
12 R
811(in)S
935(the)S
1113(scale)S
1386(factor)S
1700(\(for)S
1913(example,)S
12 C
(1.0D)292 2383 A
12 R
2675(,)S
12 C
(0.314D1)511 2735 A
12 R
3246(\).)S
3377(This)S
(addition)396 3622 A
4049(was)S
4269(made,)S
(because)383 4592 A
5006(there)S
1456 V
708(was)S
941(no)S
1104(way)S
1349(to)S
1486(indicate)S
(long)214 1913 A
2170(constants,)S
2693(and)S
2910(also)S
(because)383 3148 A
3574(the)S
(addition)396 3765 A
4204(was)S
4436(made)S
4741(in)S
4878(Wirth's)S
1596 V
708(newest)S
(Modula-2)476 1075 A
1581(compiler.)S
2016 V
12 B
708(Declarations)S
1391(and)S
1615(Scope)S
1947(Rules)S
2267(\(section)S
2695(4\))S
2192 V
12 R
708(Standard)S
1186(identifiers)S
1727(are)S
1924(considered)S
2496(to)S
2638(be)S
2800(predeclared,)S
3444(and)S
3666(valid)S
3957(in)S
4100(all)S
4271(parts)S
4556(of)S
4706(a)S
4809(program.)S
2332 V
708(They)S
987(are)S
1167(called)S
12 I
1488(pervasive)S
12 R
1962(.)S
2053(Unfortunately,)S
2794(the)S
2973(Report)S
3333(does)S
3585(not)S
3770(state)S
4023(how)S
4261(this)S
4466(pervasiveness)S
5168(is)S
2472 V
(accomplished.)695 708 A
1496(However,)S
2034(page)S
2325(87)S
2508(of)S
2672([1])S
2877(states:)S
3244(``Standard)S
3819(identifiers)S
4376(are)S
4589(automatically)S
2612 V
708(imported)S
1180(into)S
1403(all)S
(modules''.)521 1560 A
2146(Our)S
2370(implementation)S
3165(therefore)S
3638(allows)S
3989(redeclarations)S
4704(of)S
4839(standard)S
2752 V
708(identifiers)S
1231(within)S
1571(procedures,)S
2162(but)S
2346(not)S
2530(within)S
(modules.)439 2870 A
3172 V
12 B
708(Constant)S
1209(Expressions)S
1856(\(section)S
2284(5\))S
3348 V
12 R
708(Each)S
1003(operand)S
1445(of)S
1599(a)S
1706(constant)S
2162(expression)S
2732(must)S
3020(be)S
3187(a)S
3294(constant:)S
3784(a)S
3891(string,)S
4250(a)S
4357(number,)S
4809(a)S
4916(set,)S
5135(an)S
3488 V
708(enumeration)S
(literal,)315 1346 A
1694(a)S
1781(qualifier)S
2226(denoting)S
2681(a)S
2768(constant)S
3203(expression,)S
3782(a)S
3868(type)S
4108(transfer)S
4512(with)S
4760(a)S
4846(constant)S
3628 V
708(argument,)S
1232(or)S
1370(one)S
1581(of)S
1719(the)S
1904(standard)S
2351(procedures)S
12 C
(ABS)219 2919 A
12 R
3138(,)S
12 C
(CAP)219 3205 A
12 R
3424(,)S
12 C
(CHR)219 3492 A
12 R
3711(,)S
12 C
(LONG)292 3779 A
12 R
4071(,)S
12 C
(MAX)219 4139 A
12 R
4358(,)S
12 C
(MIN)219 4426 A
12 R
4645(,)S
12 C
(ODD)219 4713 A
12 R
4932(,)S
12 C
(ORD)219 5000 A
12 R
5219(,)S
3768 V
12 C
(SIZE)292 708 A
12 R
1000(,)S
12 C
(SHORT)365 1081 A
12 R
1446(,)S
12 C
(TSIZE)365 1527 A
12 R
1892(,)S
1973(or)S
12 C
(VAL)219 2125 A
12 R
2344(,)S
2425(with)S
2692(constant)S
3145(argument\(s\);)S
12 C
(TSIZE)365 3815 A
12 R
4230(and)S
12 C
(SIZE)292 4454 A
12 R
4796(may)S
5054(also)S
3908 V
708(have)S
966(a)S
1050(variable)S
1471(as)S
1602(argument.)S
4084 V
708(Floating)S
1148(point)S
1433(expressions)S
2034(are)S
2221(never)S
2528(evaluated)S
3030(compile)S
3458(time,)S
(because)383 3742 A
4163(the)S
4349(compiler)S
4818(basically)S
4224 V
708(functions)S
1215(as)S
1373(a)S
1484(cross-compiler,)S
2292(and)S
2523(thus)S
(cannot)322 2781 A
3160(use)S
3378(the)S
3583(floating)S
4017(point)S
4322(instructions)S
4944(of)S
5101(the)S
4364 V
708(machine)S
1148(on)S
1298(which)S
1624(it)S
1722(runs.)S
2020(Also,)S
12 C
(MAX\(REAL\))657 2309 A
12 R
2996(and)S
12 C
(MIN\(REAL\))657 3200 A
12 R
3887(are)S
4066(not)S
4250(allowed.)S
4784 V
12 B
708(Type)S
999(Declarations)S
1682(\(section)S
2110(6\))S
5204 V
708(Basic)S
1013(Types)S
1351(\(section)S
1779(6.1\))S
5380 V
12 R
708(The)S
926(type)S
12 C
(CHAR)292 1164 A
12 R
1486(includes)S
1919(the)S
2097(ASCII)S
2444(character)S
2920(set)S
3085(as)S
3216(a)S
3300(subset.)S
3692(Values)S
4059(range)S
4358(from)S
12 C
4625(0C)S
12 R
4802(to)S
12 C
(377C)292 4927 A
12 R
5219(,)S
5520 V
708(not)S
892(from)S
12 C
1158(0C)S
12 R
1334(to)S
12 C
(177C)292 1458 A
12 R
1750(.)S
5940 V
12 B
708(Enumerations)S
1470(\(section)S
1898(6.2\))S
6116 V
12 R
708(The)S
997(maximum)S
1588(number)S
2059(of)S
2262(enumeration)S
(literals)332 2969 A
3403(in)S
3599(any)S
3875(one)S
4151(enumeration)S
4858(type)S
5168(is)S
6256 V
12 C
(MAX\(INTEGER\))876 708 A
12 R
1584(.)S
6676 V
12 B
708(Record)S
1115(Types)S
1453(\(section)S
1881(6.5\))S
6852 V
12 R
708(The)S
940(syntax)S
1299(of)S
1444(variant)S
1825(sections)S
2260(in)S
2399([1])S
2586(is)S
2712(different)S
3176(from)S
3457(the)S
3650(one)S
3869(in)S
4008([2].)S
4255(Our)S
4489(implementation)S
6992 V
(recognizes)518 708 A
1256(both,)S
1530(giving)S
1868(a)S
1952(warning)S
2379(for)S
2551(the)S
2729(older)S
3008(one.)S
3272(However,)S
3777(see)S
3962(section)S
4335(3.)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(61)S
7920 V
EP
%%Page: 62 68
BP
/slant 0 def
/height 0 def
860 V
12 B
708(Set)S
900(Types)S
1238(\(section)S
1666(6.6\))S
1036 V
12 R
708(The)S
951(only)S
1220(limitation)S
1747(imposed)S
2211(by)S
2386(the)S
2589(compiler)S
3075(is)S
3211(that)S
3448(the)S
3651(base)S
3921(type)S
4184(of)S
4340(the)S
4543(set)S
4734(must)S
5025(be)S
5195(a)S
1176 V
708(subrange)S
1199(type,)S
1492(an)S
1661(enumeration)S
2321(type,)S
12 C
(CHAR)292 2614 A
12 R
2906(,)S
2991(or)S
12 C
(BOOLEAN)511 3147 A
12 R
3658(.)S
3773(So,)S
3985(the)S
4188(lower)S
(bound)300 4519 A
4873(may)S
5135(be)S
1316 V
708(negative.)S
1218(However,)S
1734(if)S
1850(a)S
1945(negative)S
2396(lower)S
(bound)300 2714 A
3055(is)S
3177(used,)S
3469(the)S
3658(compiler)S
4130(gives)S
4426(a)S
4521(warning)S
4959(of)S
5101(the)S
1456 V
12 I
708(restricted)S
12 R
1213(class)S
1479(\(see)S
1705(the)S
1883(manual)S
2269(page)S
2527(of)S
2658(the)S
2836(compiler\).)S
1632 V
708(The)S
926(standard)S
1366(type)S
12 C
(BITSET)438 1604 A
12 R
2072(is)S
2183(defined)S
2576(as)S
1832 V
11 C
(TYPE)268 1068 A
(BITSET)402 1403 A
1872(=)S
(SET)201 2006 A
2274(OF)S
2475([0)S
2676(..)S
(8*SIZE\(INTEGER\)-1];)1273 2877 A
2312 V
12 B
708(Expressions)S
1355(\(section)S
1783(8\))S
2732 V
708(Operators)S
1269(\(section)S
1697(8.2\))S
3012 V
708(Arithmetic)S
1306(Operators)S
1867(\(section)S
2295(8.2.1\))S
3188 V
12 R
708(The)S
939(Report)S
1311(does)S
1575(not)S
1772(specify)S
2165(the)S
2356(priority)S
2763(of)S
2907(the)S
3098(unary)S
3416(operators)S
12 C
3910(+)S
12 R
4026(or)S
12 C
4170(-)S
12 R
4243(:)S
4320(It)S
4438(does)S
4702(not)S
4899(specify)S
3328 V
708(whether)S
3528 V
11 C
1068(-)S
1202(1)S
1336(+)S
1470(1)S
3728 V
12 R
708(means)S
3928 V
11 C
1068(-)S
1202(\(1)S
1403(+)S
1537(1\))S
4128 V
12 R
708(or)S
4328 V
11 C
(\(-1\))268 1068 A
1403(+)S
1537(1)S
4528 V
12 R
708(Some)S
1023(compilers)S
1541(implement)S
2099(the)S
2287(first)S
2524(alternative,)S
3107(and)S
3321(others)S
3657(that)S
3879(implement)S
4437(the)S
(second.)365 4625 A
5060(Our)S
4668 V
708(compiler)S
1191(implements)S
1808(the)S
(second,)365 2008 A
2425(which)S
2773(is)S
(suggested)476 2906 A
3434(by)S
3606(the)S
3806(fact)S
4041(that)S
4274(their)S
4548(priority)S
4963(is)S
5095(not)S
4808 V
708(specified,)S
1216(which)S
1552(might)S
1874(indicate)S
2298(that)S
2520(it)S
2628(is)S
2749(the)S
2937(same)S
3226(as)S
3367(that)S
3589(of)S
3730(their)S
3993(binary)S
(counterparts.)629 4342 A
5041(And)S
4948 V
708(then)S
955(the)S
1142(rule)S
(about)268 1370 A
1677(left)S
1879(to)S
2012(right)S
2280(decides)S
2682(for)S
2863(the)S
(second.)365 3050 A
3484(On)S
3671(the)S
3858(other)S
4146(hand,)S
4448(one)S
4660(might)S
4980(argue)S
5088 V
708(that,)S
963(since)S
1255(the)S
1446(grammar)S
1927(only)S
2184(allows)S
2544(for)S
2729(one)S
2946(unary)S
3264(operator)S
3711(in)S
3848(a)S
3945(simple)S
4311(expression,)S
4902(it)S
5014(must)S
5228 V
708(apply)S
1006(to)S
1130(the)S
1308(whole)S
1634(simple)S
1987(expression,)S
2564(not)S
2748(just)S
2953(the)S
3131(first)S
3358(term.)S
5648 V
12 B
708(Statements)S
1311(\(section)S
1739(9\))S
6068 V
708(Assignments)S
1391(\(section)S
1819(9.1\))S
6244 V
12 R
708(The)S
940(Report)S
1313(does)S
1578(not)S
1776(define)S
2124(the)S
2317(evaluation)S
2866(order)S
3167(in)S
3306(an)S
3465(assignment.)S
4114(Our)S
4348(compiler)S
4824(certainly)S
6384 V
(chooses)382 708 A
1144(an)S
1312(evaluation)S
1870(order,)S
2210(but)S
2417(it)S
2538(is)S
(explicitly)458 2672 A
3183(left)S
(undefined.)513 3399 A
3995(Therefore,)S
4557(programs)S
5067(that)S
6524 V
708(depend)S
1086(on)S
1236(it,)S
1364(may)S
(cease)263 1602 A
1895(to)S
2019(work)S
2298(later.)S
6700 V
708(The)S
929(types)S
12 C
(INTEGER)511 1217 A
12 R
1761(and)S
12 C
(CARDINAL)584 1968 A
12 R
2585(are)S
2767(assignment-compatible)S
3924(with)S
12 C
(LONGINT)511 4174 A
12 R
4685(,)S
4749(and)S
12 C
(REAL)292 4957 A
6840 V
12 R
708(is)S
819(assignment-compatible)S
1972(with)S
12 C
(LONGREAL)584 2218 A
12 R
2802(.)S
7700 V
708(62)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 63 69
BP
/slant 0 def
/height 0 def
860 V
12 B
708(Case)S
987(Statements)S
1590(\(section)S
2018(9.5\))S
1036 V
12 R
708(The)S
926(size)S
1145(of)S
1276(the)S
1454(type)S
1692(of)S
1823(the)S
2001(case-expression)S
2798(must)S
3063(be)S
3207(less)S
3419(than)S
3657(or)S
3788(equal)S
4080(to)S
4204(the)S
4382(word-size.)S
1212 V
708(The)S
930(Report)S
1293(does)S
1549(not)S
1738(specify)S
2123(what)S
2394(happens)S
2824(if)S
2934(the)S
3117(value)S
3414(of)S
3550(the)S
3733(case-expression)S
4535(does)S
4791(not)S
4980(occur)S
1352 V
708(as)S
853(a)S
951(label)S
1231(of)S
1376(any)S
1594(case,)S
1877(and)S
2095(there)S
2382(is)S
2507(no)S
12 C
(ELSE)292 2671 A
12 R
2963(-part.)S
3297(In)S
3442(our)S
3647(implementation,)S
4480(this)S
4698(results)S
5058(in)S
5195(a)S
1492 V
708(run-time)S
1156(error.)S
1912 V
12 B
708(For)S
926(Statements)S
1529(\(section)S
1957(9.8\))S
2088 V
12 R
708(The)S
951(Report)S
1335(does)S
1611(not)S
1820(specify)S
2225(the)S
2428(legal)S
2719(types)S
3030(for)S
3228(a)S
3338(control)S
3737(variable.)S
4244(Our)S
4489(implementation)S
2228 V
708(allows)S
1093(the)S
1309(basic)S
1625(types)S
1947(\(except)S
12 C
(REAL)292 2371 A
12 R
2663(\),)S
2801(enumeration)S
3473(types,)S
3825(and)S
4066(subranges.)S
4676(A)S
4831(run-time)S
2368 V
708(warning)S
1156(is)S
1288(generated)S
1810(when)S
2123(the)S
2322(value)S
2635(of)S
2787(the)S
2987(control)S
3382(variable)S
3825(is)S
3958(changed)S
4412(by)S
4584(the)S
4784(statement)S
2508 V
708(sequence)S
1181(that)S
1393(forms)S
1706(the)S
(body)240 1884 A
2154(of)S
2285(the)S
(loop,)244 2463 A
2737(unless)S
3069(run-time)S
3517(checking)S
3983(is)S
4094(disabled.)S
2928 V
12 B
708(Return)S
1109(and)S
1333(Exit)S
1578(Statements)S
2181(\(section)S
2609(9.11\))S
3104 V
12 R
708(The)S
942(Report)S
1317(does)S
1584(not)S
1784(specify)S
2180(which)S
2522(result-types)S
3134(are)S
3329(legal.)S
3671(Our)S
3906(implementation)S
4712(allows)S
5075(any)S
3244 V
708(result)S
1008(type.)S
3664 V
12 B
708(Procedure)S
1276(Declarations)S
1959(\(section)S
2387(10\))S
3840 V
12 R
708(Function)S
1167(procedures)S
1728(must)S
1993(exit)S
(through)375 2205 A
2610(a)S
12 C
(RETURN)438 2694 A
12 R
3162(statement,)S
3687(or)S
3818(a)S
3902(run-time)S
4350(error)S
4617(occurs.)S
4260 V
12 B
708(Standard)S
1221(Procedures)S
1836(\(section)S
2264(10.2\))S
4436 V
12 R
708(Our)S
947(implementation)S
(supports)409 1757 A
12 C
(NEW)219 2216 A
12 R
2485(and)S
12 C
(DISPOSE)511 2709 A
12 R
3270(for)S
3462(backwards)S
(compatibility,)676 4030 A
4756(but)S
4960(issues)S
4576 V
708(warnings)S
1182(for)S
1354(their)S
1607(use.)S
1858(However,)S
2363(see)S
2548(section)S
2921(3.)S
4752 V
708(Also,)S
1006(some)S
1300(new)S
1541(standard)S
1990(procedures)S
2560(were)S
2836(added,)S
3193(similar)S
3570(to)S
3704(the)S
3892(new)S
4134(standard)S
4584(procedures)S
5155(in)S
4892 V
708(Wirth's)S
1109(newest)S
1476(compiler:)S
5068 V
12 R-1
708(-)S
12 C
(LONG)292 958 A
12 R
(converts)410 1303 A
1766(an)S
1933(argument)S
2443(of)S
2597(type)S
12 C
(INTEGER)511 2858 A
12 R
3423(or)S
12 C
(REAL)292 3578 A
12 R
3924(to)S
4072(the)S
4274(types)S
12 C
(LONGINT)511 4583 A
12 R
5148(or)S
5208 V
12 C
(LONGREAL)584 958 A
12 R
1542(.)S
5384 V
12 R-1
708(-)S
12 C
(SHORT)365 958 A
12 R
1353(performs)S
1821(the)S
1999(inverse)S
2379(transformation,)S
(without)370 3153 A
3553(range)S
3852(checks.)S
5560 V
12 R-1
708(-)S
12 C
(FLOATD)438 958 A
12 R
1426(is)S
(analogous)489 1537 A
2056(to)S
12 C
(FLOAT)365 2180 A
12 R
2545(,)S
2605(but)S
2789(yields)S
3108(a)S
3192(result)S
3492(of)S
3623(type)S
12 C
(LONGREAL)584 3861 A
12 R
4445(.)S
5736 V
12 R-1
708(-)S
12 C
(TRUNCD)438 958 A
12 R
1426(is)S
(analogous)489 1537 A
2056(to)S
12 C
(TRUNC)365 2180 A
12 R
2545(,)S
2605(but)S
2789(yields)S
3108(a)S
3192(result)S
3492(of)S
3623(type)S
12 C
(LONGINT)511 3861 A
12 R
4372(.)S
6156 V
12 B
708(System-dependent)S
(Facilities)466 1687 A
2183(\(section)S
2611(12\))S
6332 V
12 R
708(The)S
927(type)S
12 C
(BYTE)292 1166 A
12 R
1489(is)S
1601(added)S
1920(to)S
2045(the)S
12 C
(SYSTEM)438 2224 A
12 R
(module.)392 2693 A
3146(It)S
3252(occupies)S
3706(a)S
3791(storage)S
4172(unit)S
4392(of)S
4525(8)S
4617(bits.)S
12 C
(ARRAY)365 4884 A
6472 V
708(OF)S
(BYTE)292 930 A
12 R
1255(has)S
1449(a)S
1536(similar)S
1906(effect)S
2216(to)S
12 C
(ARRAY)365 2342 A
2782(OF)S
(WORD)292 3003 A
12 R
3295(,)S
3357(but)S
3543(is)S
3656(safer.)S
3985(In)S
4118(some)S
4405(obscure)S
4813(cases)S
5101(the)S
6612 V
12 C
(ARRAY)365 708 A
1146(OF)S
(WORD)292 1365 A
12 R
1687(mechanism)S
2268(does)S
2519(not)S
2703(quite)S
2975(work)S
3254(properly.)S
6788 V
708(The)S
926(procedure)S
12 C
(IOTRANSFER)730 1440 A
12 R
2200(is)S
2311(not)S
2495(implemented.)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(63)S
7920 V
EP
%%Page: 64 70
BP
/slant 0 def
/height 0 def
860 V
12 B
708(Backwards)S
(Compatibility)721 1315 A
1036 V
12 R
708(Besides)S
(recognizing)571 1130 A
1747(the)S
(language)436 1941 A
2423(as)S
2570(described)S
3080(in)S
3220([1],)S
3438(the)S
3632(compiler)S
(recognizes)518 4109 A
4673(most)S
4954(of)S
5101(the)S
1176 V
(language)436 708 A
1185(described)S
1690(in)S
1825([2],)S
2038(for)S
2221(backwards)S
(compatibility.)676 2780 A
3527(It)S
3642(warns)S
3972(the)S
4160(user)S
4402(for)S
4584(old-fashioned)S
1316 V
708(constructions)S
1386(\(constructions)S
2105(that)S
2320([1])S
2495(does)S
2749(not)S
2936(allow\).)S
3340(If)S
3455(the)S
12 B
(\261Rm2\2613)429 3637 A
12 R
4100(option)S
4442(is)S
4557(passed)S
4913(to)S
12 I
5041(ack)S
12 R
5219(,)S
1456 V
708(this)S
914(backwards)S
(compatibility)646 1463 A
2140(feature)S
2509(is)S
2621(disabled.)S
3115(Also,)S
3405(it)S
3504(may)S
3743(not)S
3928(be)S
4073(present)S
4454(on)S
4605(some)S
4891(smaller)S
1596 V
708(machines,)S
1225(like)S
1437(the)S
1615(PDP-11.)S
2016 V
12 B
708(Compile-Time)S
1486(Errors)S
2192 V
12 R
708(The)S
945(compile-time)S
1641(error)S
1927(messages)S
2433(are)S
2631(intended)S
3096(to)S
3239(be)S
3402(self-explanatory,)S
4269(and)S
4493(not)S
4697(listed)S
5010(here.)S
2332 V
708(The)S
960(compiler)S
1455(also)S
1714(sometimes)S
2296(issues)S
2649(warnings,)S
(recognizable)619 3187 A
3870(by)S
4053(a)S
4170(warning-classification)S
2472 V
708(between)S
1142(parentheses.)S
1797(Currently,)S
2321(there)S
2594(are)S
2773(3)S
2863(classifications:)S
2648 V
708(\(old-fashioned)S
1444(use\))S
2788 V
958(These)S
1284(warnings)S
1765(are)S
1951(given)S
2256(on)S
2414(constructions)S
3097(that)S
3317(are)S
3504(not)S
3696(allowed)S
4118(by)S
4276([1],)S
4486(but)S
4678(are)S
4865(allowed)S
2928 V
958(by)S
1108([2].)S
3104 V
708(\(strict\))S
3244 V
958(These)S
1294(warnings)S
1785(are)S
1981(given)S
2296(on)S
2463(constructions)S
3155(that)S
3384(are)S
(supported)476 3581 A
4105(by)S
4273(the)S
4469(ACK)S
(Modula-2)476 4773 A
3384 V
958(compiler,)S
1496(but)S
1727(might)S
2086(not)S
2317(be)S
(supported)476 2508 A
3061(by)S
3258(others.)S
3691(Examples:)S
4279(functions)S
4805(returning)S
3524 V
958(structured)S
1473(types,)S
1788(SET)S
2033(types)S
2318(of)S
2449(subranges)S
2962(with)S
3208(negative)S
3648(lower)S
(bound.)330 3955 A
3700 V
708(\(warning\))S
3840 V
958(The)S
1195(other)S
1493(warnings,)S
2016(such)S
2286(as)S
2436(warnings)S
(about)268 2929 A
3246(variables)S
3734(that)S
3966(are)S
4165(never)S
4484(assigned,)S
4980(never)S
3980 V
958(used,)S
1239(etc.)S
4400 V
12 B
708(Run-time)S
1231(Errors)S
4576 V
12 R
708(The)S
939(ACK)S
(Modula-2)476 1238 A
1757(compiler)S
(produces)436 2231 A
2710(code)S
2981(for)S
3166(an)S
12 C
3323(EM)S
12 R
3512(machine.)S
4025(Therefore,)S
4578(it)S
4690(depends)S
5129(on)S
4716 V
708(the)S
898(implementation)S
1700(of)S
1843(the)S
12 C
2033(EM)S
12 R
2221(machine)S
2673(for)S
2857(detection)S
3343(some)S
3640(of)S
3783(the)S
3973(run-time)S
4433(errors)S
4758(that)S
4981(could)S
4856 V
708(occur.)S
5032 V
708(The)S
12 I
927(Traps)S
12 R
(module)362 1249 A
1642(enables)S
2036(the)S
2215(user)S
2448(to)S
2573(install)S
2901(his)S
3073(own)S
3312(run-time)S
3762(error)S
4031(handler.)S
4486(The)S
4706(default)S
5075(one)S
5172 V
708(just)S
917(displays)S
1347(what)S
1616(happened)S
2111(and)S
2318(exits.)S
2640(Basically,)S
3154(a)S
3241(trap)S
3463(handler)S
3859(is)S
3973(just)S
4181(a)S
4268(procedure)S
4785(that)S
5000(takes)S
5312 V
708(an)S
858(INTEGER)S
1414(as)S
1552(parameter.)S
2135(The)S
2360(INTEGER)S
2916(is)S
3034(the)S
3219(trap)S
3445(number.)S
3911(This)S
4163(INTEGER)S
4719(can)S
4924(be)S
5075(one)S
5452 V
708(of)S
839(the)S
12 C
1017(EM)S
12 R
1193(trap)S
1412(numbers,)S
1888(or)S
2019(one)S
2223(of)S
2354(the)S
2532(numbers)S
2978(listed)S
3271(in)S
3395(the)S
12 I
3573(Traps)S
12 R
(definition)471 3894 A
(module.)392 4395 A
5628 V
708(The)S
926(following)S
1427(run-time)S
1875(errors)S
2189(may)S
2427(occur:)S
5804 V
708(array)S
(bound)300 988 A
1318(error)S
5944 V
958(The)S
1176(detection)S
1650(of)S
1781(this)S
1986(error)S
2253(depends)S
2678(on)S
2828(the)S
12 C
3006(EM)S
12 R
3182(implementation.)S
6120 V
708(range)S
(bound)300 1007 A
1337(error)S
6260 V
958(Range)S
(bound)300 1296 A
1626(errors)S
1940(are)S
2119(always)S
2486(detected,)S
2950(unless)S
3282(run-time)S
3730(checks)S
4089(are)S
4268(disabled.)S
6436 V
708(set)S
(bound)300 873 A
1203(error)S
6576 V
958(The)S
1235(detection)S
1768(of)S
1958(this)S
2222(error)S
2548(depends)S
3033(on)S
3243(the)S
12 C
3481(EM)S
12 R
3717(implementation.)S
4627(The)S
4905(current)S
6716 V
958(implementations)S
1795(detect)S
2115(this)S
2320(error.)S
6892 V
708(integer)S
1075(overflow)S
7032 V
958(The)S
1176(detection)S
1650(of)S
1781(this)S
1986(error)S
2253(depends)S
2678(on)S
2828(the)S
12 C
3006(EM)S
12 R
3182(implementation.)S
7208 V
708(cardinal)S
1129(overflow)S
7700 V
708(64)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 65 71
BP
/slant 0 def
/height 0 def
860 V
12 R
958(This)S
1203(error)S
1470(is)S
1581(detected,)S
2045(unless)S
2377(run-time)S
2825(checks)S
3184(are)S
3363(disabled.)S
1036 V
708(cardinal)S
(underflow)498 1129 A
1176 V
958(This)S
1203(error)S
1470(is)S
1581(detected,)S
2045(unless)S
2377(run-time)S
2825(checks)S
3184(are)S
3363(disabled.)S
1352 V
708(real)S
921(overflow)S
1492 V
958(The)S
1176(detection)S
1650(of)S
1781(this)S
1986(error)S
2253(depends)S
2678(on)S
2828(the)S
12 C
3006(EM)S
12 R
3182(implementation.)S
1668 V
708(real)S
(underflow)498 921 A
1808 V
958(The)S
1176(detection)S
1650(of)S
1781(this)S
1986(error)S
2253(depends)S
2678(on)S
2828(the)S
12 C
3006(EM)S
12 R
3182(implementation.)S
1984 V
708(divide)S
1040(by)S
1190(0)S
2124 V
958(The)S
1176(detection)S
1650(of)S
1781(this)S
1986(error)S
2253(depends)S
2678(on)S
2828(the)S
12 C
3006(EM)S
12 R
3182(implementation.)S
2300 V
708(divide)S
1040(by)S
1190(0.0)S
2440 V
958(The)S
1176(detection)S
1650(of)S
1781(this)S
1986(error)S
2253(depends)S
2678(on)S
2828(the)S
12 C
3006(EM)S
12 R
3182(implementation.)S
2616 V
(undefined)483 708 A
1221(integer)S
2756 V
958(The)S
1176(detection)S
1650(of)S
1781(this)S
1986(error)S
2253(depends)S
2678(on)S
2828(the)S
12 C
3006(EM)S
12 R
3182(implementation.)S
2932 V
(undefined)483 708 A
1221(real)S
3072 V
958(The)S
1176(detection)S
1650(of)S
1781(this)S
1986(error)S
2253(depends)S
2678(on)S
2828(the)S
12 C
3006(EM)S
12 R
3182(implementation.)S
3248 V
(conversion)530 708 A
1268(error)S
3388 V
958(This)S
1216(error)S
1496(occurs)S
1855(when)S
2160(assigning)S
2659(a)S
2757(negative)S
3211(value)S
3517(of)S
3662(type)S
3914(INTEGER)S
4477(to)S
4615(a)S
4713(variable)S
5148(of)S
3528 V
958(type)S
1276(CARDINAL,)S
2043(or)S
2254(when)S
2625(assigning)S
3190(a)S
3353(value)S
3724(of)S
3934(CARDINAL,)S
4700(that)S
4991(is)S
5181(>)S
3668 V
958(MAX\(INTEGER\),)S
1930(to)S
2082(a)S
2194(variable)S
2643(of)S
2802(type)S
3068(INTEGER.)S
3705(It)S
3838(is)S
3977(detected,)S
4470(unless)S
4831(run-time)S
3808 V
958(checking)S
1424(is)S
1535(disabled.)S
3984 V
708(stack)S
987(overflow)S
4124 V
958(The)S
1176(detection)S
1650(of)S
1781(this)S
1986(error)S
2253(depends)S
2678(on)S
2828(the)S
12 C
3006(EM)S
12 R
3182(implementation.)S
4300 V
708(heap)S
966(overflow)S
4440 V
958(The)S
1197(detection)S
1692(of)S
1844(this)S
2070(error)S
2358(depends)S
2804(on)S
2975(the)S
12 C
3174(EM)S
12 R
3371(implementation.)S
4242(Might)S
4588(happen)S
4987(when)S
4580 V
958(ALLOCATE)S
1628(fails.)S
4756 V
708(case)S
947(error)S
4896 V
958(This)S
1223(error)S
1510(occurs)S
1876(when)S
(non)180 2189 A
2420(of)S
2572(the)S
2771(cases)S
3078(in)S
3223(a)S
3328(CASE)S
3688(statement)S
4204(are)S
4404(selected,)S
4876(and)S
5101(the)S
5036 V
958(CASE)S
1321(statement)S
1840(has)S
2054(no)S
2227(ELSE)S
2569(part.)S
2871(The)S
3112(detection)S
3609(of)S
3763(this)S
3991(error)S
4281(depends)S
4729(on)S
4902(the)S
12 C
5103(EM)S
5176 V
12 R
958(implementation.)S
1808(All)S
1994(current)S
12 C
2368(EM)S
12 R
2544(implementations)S
3381(detect)S
3701(this)S
3906(error.)S
5352 V
708(stack)S
987(size)S
1206(of)S
1337(process)S
1730(too)S
1914(large)S
5492 V
958(This)S
1207(is)S
1322(most)S
1591(likely)S
1901(to)S
2029(happen)S
2411(if)S
2520(the)S
2702(reserved)S
(space)269 3147 A
3450(for)S
3626(a)S
3714(coroutine)S
4205(stack)S
4488(is)S
4603(too)S
4791(small.)S
5148(In)S
5632 V
958(this)S
1167(case,)S
1439(increase)S
1870(the)S
2051(size)S
2273(of)S
2407(the)S
2588(area)S
2824(given)S
3125(to)S
12 C
(NEWPROCESS)730 3252 A
12 R
3982(.)S
4075(It)S
4183(can)S
4384(also)S
4612(happen)S
4993(if)S
5101(the)S
5772 V
958(stack)S
1240(needed)S
1615(for)S
1790(the)S
1971(main)S
2246(process)S
2642(is)S
2756(too)S
2943(large)S
3219(and)S
3426(there)S
3703(are)S
3886(coroutines.)S
4484(In)S
4619(this)S
4828(case,)S
5101(the)S
5912 V
958(only)S
1203(fix)S
1369(is)S
1481(to)S
1606(reduce)S
1960(the)S
2139(stack)S
2419(size)S
2639(needed)S
3012(by)S
3162(the)S
3340(main)S
3612(process,)S
4035(for)S
4207(example,)S
4677(by)S
4827(avoiding)S
6052 V
958(local)S
1224(arrays.)S
6228 V
708(too)S
892(many)S
1190(nested)S
1529(traps)S
1795(+)S
1893(handlers)S
6368 V
958(This)S
1216(error)S
1497(can)S
1709(only)S
1967(occur)S
2280(when)S
2586(the)S
2778(user)S
3024(has)S
3229(installed)S
3684(his)S
3869(own)S
4121(trap)S
4354(handler.)S
4821(It)S
4940(means)S
6508 V
958(that)S
1191(during)S
1557(execution)S
2078(of)S
2230(the)S
2429(trap)S
2669(handler)S
3082(another)S
3495(trap)S
3734(has)S
3945(occurred,)S
4449(and)S
4673(that)S
4905(several)S
6648 V
958(times.)S
1311(In)S
1442(some)S
1727(cases,)S
2043(this)S
2248(is)S
2359(an)S
2503(error)S
(because)383 2770 A
3183(of)S
3314(overflow)S
3782(of)S
3913(some)S
4198(internal)S
4599(tables.)S
6824 V
708(no)S
858(RETURN)S
1372(from)S
1638(function)S
2071(procedure)S
6964 V
958(This)S
1203(error)S
1470(occurs)S
1816(when)S
2108(a)S
2192(function)S
2625(procedure)S
3139(does)S
3390(not)S
3574(return)S
3894(properly)S
(\(``falls)333 4334 A
(through''\).)528 4697 A
7140 V
(illegal)304 708 A
1042(instruction)S
7280 V
958(This)S
1219(error)S
1502(might)S
1831(occur)S
2147(when)S
(you)180 2456 A
2683(use)S
2891(floating)S
3315(point)S
3610(operations)S
4161(on)S
4328(an)S
4489(implementation)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(65)S
7920 V
EP
%%Page: 66 72
BP
/slant 0 def
/height 0 def
860 V
12 R
958(that)S
1170(does)S
1421(not)S
1605(have)S
1863(floating)S
2270(point.)S
1036 V
708(In)S
(addition,)426 845 A
1307(some)S
1598(of)S
1735(the)S
1919(library)S
(modules)409 2279 A
2724(may)S
2968(give)S
3213(error)S
3487(messages.)S
4041(The)S
12 I
4266(Traps)S
12 R
(-module)403 4557 A
4997(has)S
5195(a)S
1176 V
708(suitable)S
1115(mechanism)S
1696(for)S
1868(this.)S
1596 V
12 B
708(Invoking)S
1200(the)S
1392(Compiler)S
1772 V
12 R
708(Details)S
1083(of)S
1214(how)S
1452(to)S
(invoke)328 1576 A
1934(the)S
2112(compiler)S
2573(can)S
2771(be)S
(found)281 2915 A
3226(in)S
12 I
3350(ack)S
12 R
3528(\(U\))S
3728(and)S
12 I
3932(m2)S
12 R
4090(\(U\).)S
1948 V
708(This)S
961(compiler)S
1430(itself)S
1712(has)S
1911(no)S
2069(version)S
2463(checking)S
2938(mechanism.)S
3588(A)S
3715(special)S
4091(linker)S
4413(would)S
4754(be)S
4907(needed)S
2088 V
708(to)S
832(do)S
982(that.)S
2508 V
12 B
708(The)S
939(Procedure)S
1507(Call)S
1753(Interface)S
2684 V
12 R
708(Parameters)S
1298(are)S
1497(pushed)S
1888(on)S
2058(the)S
2256(stack)S
2555(in)S
2699(reverse)S
3101(order,)S
3438(so)S
3596(that)S
3829(the)S
12 C
4028(EM)S
12 R
4225(AB)S
4444(\(argument)S
4993(base\))S
2824 V
708(register)S
1116(indicates)S
1590(the)S
1781(first)S
2021(parameter.)S
2610(For)S
2821(VAR)S
3119(parameters,)S
3724(its)S
3881(address)S
4286(is)S
4409(passed,)S
4803(for)S
4987(value)S
2964 V
708(parameters)S
1307(its)S
1488(value.)S
1876(The)S
2130(only)S
2410(exception)S
2946(to)S
3106(this)S
3347(rule)S
3602(is)S
3749(with)S
4032(conformant)S
4657(arrays.)S
5081(For)S
3104 V
708(conformant)S
1300(arrays,)S
1661(the)S
1843(address)S
2240(is)S
2355(passed,)S
2741(and)S
2949(an)S
3097(array)S
3381(descriptor)S
3900(is)S
4014(passed.)S
4429(The)S
4650(descriptor)S
5168(is)S
3244 V
708(an)S
12 C
855(EM)S
12 R
1034(array)S
1317(descriptor.)S
1895(It)S
2003(consists)S
2419(of)S
2553(three)S
2829(fields:)S
3166(the)S
3347(lower)S
(bound)300 3657 A
3990(\(always)S
4401(0\),)S
(upper)275 4565 A
(bound)300 4874 A
5208(-)S
3384 V
708(lower)S
(bound,)330 1019 A
1383(and)S
1591(the)S
1773(size)S
1996(of)S
2131(the)S
2312(elements.)S
2836(The)S
3057(descriptor)S
3575(is)S
3689(pushed)S
4063(first.)S
4353(If)S
4468(the)S
4649(parameter)S
5168(is)S
3524 V
708(a)S
811(value)S
1122(parameter,)S
1687(the)S
1884(called)S
2224(routine)S
2617(must)S
2902(make)S
3214(sure)S
3466(that)S
3698(its)S
3863(value)S
4175(is)S
4306(never)S
4625(changed,)S
5107(for)S
3664 V
708(instance)S
1135(by)S
1285(making)S
1677(its)S
1822(own)S
(copy)234 2060 A
2324(of)S
2455(the)S
2633(array.)S
2973(The)S
(Modula-2)476 3191 A
3697(compiler)S
4158(does)S
4409(exactly)S
4789(this.)S
3840 V
708(When)S
1043(the)S
1238(size)S
1474(of)S
1622(the)S
1817(return)S
2154(value)S
2463(of)S
2612(a)S
2714(function)S
3165(procedure)S
3697(is)S
3826(larger)S
4158(than)S
4414(the)S
4610(maximum)S
5148(of)S
3980 V
12 C
(SIZE\(LONGREAL\))1022 708 A
12 R
1774(and)S
1992(twice)S
2300(the)S
2492(pointer-size,)S
3139(the)S
3331(caller)S
3645(reserves)S
4086(this)S
(space)269 4304 A
4616(on)S
4779(the)S
4970(stack,)S
4120 V
(above)288 708 A
1026(the)S
1204(parameters.)S
1827(The)S
2045(callee)S
2359(then)S
2597(stores)S
2910(its)S
3055(result)S
3355(there,)S
3658(and)S
3862(returns)S
4229(no)S
4379(other)S
4658(value.)S
4540 V
12 B
(References)567 708 A
4716 V
12 R
708([1])S
958(Niklaus)S
1386(Wirth,)S
12 I
1750(Programming)S
2479(in)S
(Modula-2,)506 2624 A
3181(third,)S
3497(corrected)S
(edition,)366 4012 A
12 R
4430(Springer-Verlag,)S
4856 V
958(Berlin)S
(\(1985\))322 1291 A
5032 V
708([2])S
958(Niklaus)S
1365(Wirth,)S
12 I
1708(Programming)S
2416(in)S
(Modula-2,)506 2540 A
12 R
3076(Stringer-Verlag,)S
3899(Berlin)S
(\(1983\))322 4232 A
7700 V
708(66)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 67 73
BP
/slant 0 def
/height 0 def
940 V
14 B
2411(6)S
2586(Programming)S
3467(Tools)S
1176 V
12 R
708(This)S
989(chapter)S
1412(contains)S
1881(the)S
2096(reference)S
2616(manuals)S
3086(for)S
3295(the)S
3510(programming)S
4235(tools)S
4537(provided)S
5033(with)S
1316 V
708(Amoeba.)S
1213(Each)S
1490(section)S
1868(describes)S
2354(one)S
2563(tool.)S
2846(There)S
3164(are)S
3348(several)S
3727(important)S
4233(tools)S
4503(described.)S
5061(The)S
1456 V
708(first)S
938(is)S
1052(the)S
1233(Amoeba)S
(Interface)433 1676 A
(Language)476 2143 A
2653(\(AIL\).)S
3032(This)S
3281(is)S
3396(a)S
3484(stub)S
3719(compiler)S
4184(for)S
4360(generating)S
4905(servers)S
1596 V
708(and)S
917(their)S
1175(client)S
1480(stubs.)S
1823(The)S
(second)335 2046 A
2416(is)S
12 I
2531(amake)S
12 R
2891(which)S
3221(is)S
3336(a)S
3424(parallel)S
3823(make)S
4119(program)S
4563(which)S
4893(given)S
5195(a)S
1736 V
708(list)S
888(of)S
1020(sources,)S
1444(the)S
1623(name)S
1916(and)S
2121(the)S
2300(type)S
2539(of)S
2671(the)S
2850(target)S
3158(and)S
3363(a)S
3448(set)S
3614(of)S
3746(generation)S
4289(tools)S
(will)190 4556 A
4778(create)S
5101(the)S
1876 V
708(desired)S
1088(target.)S
1455(The)S
1673(third)S
1932(is)S
12 I
2043(bawk)S
12 R
2337(which)S
2663(is)S
2774(an)S
2918(implementation)S
3708(of)S
3839(the)S
4017(AWK)S
(language.)466 4337 A
7700 V
2683(Amoeba)S
3123(5.3)S
5129(67)S
7920 V
EP
%%Page: 68 74
BP
/slant 0 def
/height 0 def
860 V
12 B
708(6.1.)S
978(The)S
1209(Amoeba)S
1669(Interface)S
2171(Language)S
2709(\(AIL\))S
(Reference)520 3036 A
3586(Manual)S
1280 V
708(6.1.1.)S
1068(Overview)S
1456 V
12 R
708(AIL)S
964(is)S
1098(a)S
1205(tool)S
1446(to)S
1593(simplify)S
2050(and)S
2277(standardize)S
2883(the)S
3085(generation)S
3650(of)S
3805(RPC)S
(interfaces)473 4086 A
4613(for)S
4809(Amoeba.)S
1596 V
708(Widespread)S
1319(use)S
1513(of)S
1647(AIL)S
1883(in)S
2010(Amoeba)S
(will)190 2453 A
2676(more)S
2958(or)S
3092(less)S
3307(enforce)S
3704(certain)S
(conventions,)613 4068 A
4714(such)S
4968(as)S
5101(the)S
1736 V
708(interpretation)S
1402(of)S
1543(header)S
1906(fields)S
2216(and)S
2430(the)S
2618(private)S
2995(parts)S
3271(of)S
3412(a)S
(capability,)508 3507 A
4056(that)S
4279(are)S
4469(not)S
4664(enforced)S
5129(by)S
1876 V
708(the)S
886(Amoeba)S
1326(kernel.)S
2052 V
708(AIL)S
967(is)S
1104(a)S
1214(stub)S
1472(compiler)S
1960(that)S
2199(generates)S
2714(the)S
2919(glue)S
3184(between)S
3645(an)S
3816(Amoeba)S
4283(server)S
4637(and)S
4868(a)S
4979(client)S
2192 V
708(program)S
1165(from)S
1448(an)S
12 I
1609(interface)S
12 R
2097(specification.)S
2824(The)S
3059(outputs)S
3461(it)S
3576(can)S
3790(currently)S
4274(generate)S
4731(are)S
4926(header)S
2332 V
708(files)S
955(that)S
1174(client)S
1481(programs)S
(should)321 1975 A
2333(include)S
2726(if)S
2839(they)S
3085(use)S
3284(the)S
(corresponding)691 3470 A
(interface,)456 4199 A
4693(client)S
5001(stubs)S
2472 V
708(that)S
(should)321 934 A
1299(be)S
1457(linked)S
1803(with)S
2063(the)S
2255(client)S
2569(program,)S
3053(a)S
3151(server)S
(mainloop)456 3492 A
3991(that)S
4216(decodes)S
4648(the)S
4839(Amoeba)S
2612 V
708(message)S
1188(and)S
1432(calls)S
1725(the)S
(corresponding)691 1943 A
2704(implementation)S
3534(routine)S
3947(for)S
4159(the)S
4377(requested)S
4912(remote)S
2752 V
708(procedure)S
1225(call)S
1434(and)S
1641(marshaling)S
2212(routines.)S
2695(All)S
2884(output)S
3225(is)S
3339(currently)S
(written)345 3810 A
4188(in)S
4315(C.)S
4488(It)S
(should)321 4596 A
4949(not)S
5135(be)S
2892 V
708(too)S
906(difficult)S
1343(to)S
1482(modify)S
1876(AIL)S
2124(to)S
2263(generate)S
2719(output)S
3072(in)S
3211(any)S
3430(procedural)S
(language.)466 3993 A
4534(AIL-generated)S
3032 V
708(stubs)S
1000(pass)S
1252(minimal)S
1700(information)S
(about)268 2316 A
2627(the)S
2818(architecture)S
3435(of)S
3579(the)S
3770(client,)S
4113(such)S
4377(as)S
4521(the)S
4712(byte)S
4963(order.)S
3172 V
708(No)S
886(information)S
(about)268 1488 A
1786(user)S
2018(defined)S
2411(types)S
2696(is)S
2807(passed.)S
3348 V
708(One)S
971(could)S
1300(also)S
1556(regard)S
1927(AIL)S
2191(as)S
2353(a)S
(language)436 2468 A
2965(in)S
3120(which)S
3477(one)S
3712(can)S
3941(express)S
4366(types)S
4683(and)S
(calling)330 4919 A
3488 V
(conventions)583 708 A
1329(\(i.e.,)S
1586(the)S
1772(syntax\))S
2166(of)S
2305(a)S
2397(procedure)S
2919(in)S
3051(a)S
(language)436 3143 A
3617(independent)S
4245(way.)S
4545(The)S
4771(semantics)S
3628 V
708(of)S
851(a)S
947(procedure)S
1473(are)S
1664(not)S
1860(expressed)S
2379(in)S
2515(AIL.)S
2820(Procedures)S
3401(are)S
(grouped)395 3593 A
4031(in)S
4168(classes,)S
4578(which)S
4917(in)S
5054(turn)S
3768 V
708(can)S
906(inherit)S
1253(the)S
1431(procedures)S
1992(of)S
2123(other)S
2402(classes.)S
3944 V
708(After)S
997(defining)S
1431(procedures,)S
2023(types)S
2309(and)S
2514(their)S
(grouping)435 2768 A
3234(one)S
3439(can)S
3639(generate)S
4082(translations)S
4673(into)S
4893(various)S
4084 V
(languages.)513 708 A
1292(The)S
1521(mechanisms)S
2160(to)S
2295(generate)S
2747(these)S
3037(translations)S
3637(are)S
3827(not)S
4022(described)S
4527(here.)S
4837(The)S
5066(fact)S
4224 V
708(that)S
955(AIL)S
1223(is)S
1369(a)S
1488(stub)S
1754(compiler)S
(should,)351 2250 A
(according)477 2666 A
3208(to)S
3367(this)S
3607(view,)S
3938(not)S
4158(be)S
4338(mentioned)S
4914(in)S
5074(this)S
4364 V
708(document,)S
1245(since)S
1525(it)S
1624(results)S
1972(from)S
2239(the)S
2418(fact)S
2632(that)S
2845(it)S
2944(contains)S
3378(translators)S
3915(for)S
4088(this)S
4294(purpose.)S
4767(This)S
5013(view)S
4504 V
708(was)S
928(not)S
(adopted)382 1113 A
1526(in)S
1652(this)S
1859(document,)S
2397(since)S
2678(it)S
2778(forces)S
3107(the)S
3287(user)S
3521(to)S
3647(read)S
3888(between)S
4324(the)S
4504(lines)S
4765(too)S
4951(much.)S
4644 V
708(Notwithstanding,)S
1593(the)S
1789(exact)S
2093(documentation)S
2858(of)S
3006(AIL's)S
3344(output)S
3699(is)S
3827(in)S
3968(a)S
4069(separate)S
4514(document:)S
5101(the)S
4784 V
12 I
708(AIL)S
(Cookbook)488 920 A
12 R
1418(.)S
5064 V
12 B
708(Types)S
5240 V
12 R
708(Currently,)S
1236(AIL)S
(supports)409 1473 A
1916(all)S
2072(of)S
2207(the)S
2389(C-types,)S
2829(in)S
2957(that)S
3173(it)S
3276(can)S
3479(parse)S
3770(and)S
3979(comprehend)S
4611(them,)S
4918(but)S
5107(for)S
5380 V
708(some)S
1041(types)S
1374(AIL)S
(cannot)322 1654 A
2053(generate)S
2541(marshaling)S
3156(routines)S
3623(automatically.)S
4420(They)S
4745(are:)S
5005(void,)S
5520 V
708(functions,)S
1221(pointers,)S
1674(enums)S
2022(and)S
2229(unions.)S
2643(If)S
(you)180 2758 A
2971(insist)S
3260(on)S
3413(passing)S
3808(these,)S
(you)180 4120 A
4333(can)S
4534(tell)S
4723(AIL)S
4960(to)S
5088(use)S
5660 V
(your)221 708 A
967(own,)S
(handwritten)579 1243 A
1860(marshaling)S
2436(code.)S
2762(The)S
2988(type)S
3233(array)S
3520(has)S
3718(been)S
3983(extended,)S
4486(but)S
4677(a)S
4768(simple)S
5128(C-)S
5800 V
708(style)S
985(array)S
1283(has)S
1492(the)S
1688(same)S
1986(meaning)S
2451(as)S
2601(in)S
2744(C.)S
2933(Most)S
3230(types)S
3534(have)S
3811(marshaling)S
4398(routines)S
4837(and)S
5060(size)S
5940 V
708(expressions)S
1304(associated)S
1834(with)S
2082(them.)S
2416(If)S
2530(they)S
2770(do)S
2922(not,)S
3138(AIL)S
3373(is)S
3486(incapable)S
3982(of)S
4115(generating)S
4657(code)S
4916(to)S
5041(pass)S
6080 V
708(it)S
807(to)S
932(a)S
1017(remote)S
1385(procedure.)S
1960(There)S
2274(is)S
2386(an)S
2531(important)S
3034(difference)S
3559(between)S
3995(the)S
4175(type)S
4415(systems)S
4830(of)S
4963(C)S
5075(and)S
6220 V
708(AIL.)S
1012(A)S
1141(typedef)S
1545(yields)S
1875(the)S
2064(same)S
2354(type)S
2603(as)S
2745(the)S
2934(type)S
3183(it)S
3292(is)S
(built)222 3414 A
3677(from,)S
3984(except)S
4341(for)S
4523(the)S
4711(marshaling)S
6360 V
708(and)S
927(size)S
1161(information.)S
1838(Thus,)S
2154(to)S
2293(marshal)S
2722(integers)S
3151(differently,)S
3739(make)S
4046(a)S
4145(typedef)S
4553(``myint'',)S
5075(and)S
6500 V
708(specify)S
1088(the)S
1266(new)S
1498(marshaling)S
2066(and)S
2270(size)S
2489(information.)S
6780 V
12 B
708(Procedures)S
6956 V
12 R
708(In)S
843(this)S
1052(document)S
1562(the)S
1744(word)S
12 I
2027(procedure)S
12 R
2567(is)S
2682(used)S
2937(to)S
3065(mean)S
3361(the)S
3543(call)S
(convention)536 3753 A
4324(of)S
4460(an)S
4609(operation.)S
5161(A)S
7096 V
708(procedure)S
1222(syntactically)S
1865(resembles)S
2380(a)S
2464(STD)S
2723(C)S
2833(function)S
3266(prototype.)S
7272 V
708(Usually)S
1122(it)S
1227(has)S
1425(a)S
1516(magic)S
1849(first)S
2083(argument)S
2577(represented)S
3173(as)S
3312(``*''.)S
3634(In)S
3773(this)S
3986(case)S
4233(it)S
4339(defines)S
4727(both)S
4979(client)S
7700 V
708(68)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 69 75
BP
/slant 0 def
/height 0 def
860 V
12 R
708(and)S
942(server)S
1299(stub,)S
1590(or)S
1751(more)S
2060(precisely,)S
2588(it)S
2716(defines)S
3126(the)S
3334(format)S
3718(of)S
3878(both)S
4151(the)S
4358(request)S
4767(and)S
5000(reply)S
1000 V
708(messages,)S
1225(from)S
1492(which)S
1819(the)S
1998(stubs)S
2277(can)S
2476(be)S
2621(generated.)S
3183(A)S
3302(number)S
3702(to)S
3827(be)S
3972(used)S
4224(as)S
12 I
4356(h)S
12 Y1
4416(3)S
12 I
(command)470 4476 A
12 R
4987(value)S
1140 V
708(is)S
819(picked)S
1171(from)S
1437(a)S
1521(range)S
1820(that)S
2032(is)S
2143(specified)S
2611(together)S
3038(with)S
3284(the)S
3462(class)S
3728(the)S
3906(procedure)S
4420(is)S
4531(defined)S
4924(in.)S
1316 V
708(The)S
932(client)S
1238(stub)S
1475(is)S
1592(called)S
1918(after)S
2178(the)S
2362(procedure.)S
2942(The)S
3166(server)S
3499(stub)S
3736(does)S
3993(not)S
4183(need)S
4447(a)S
4537(name,)S
(because)383 4866 A
1456 V
708(it)S
826(is)S
957(not)S
1161(implemented)S
1843(as)S
1994(a)S
2098(function.)S
2611(The)S
2849(third)S
3128(routine)S
3521(associated)S
4069(with)S
4335(a)S
4438(procedure)S
4971(is)S
5101(the)S
1596 V
12 I
708(implementation,)S
12 R
1573(which)S
(should)321 1940 A
2332(be)S
(written)345 2517 A
2933(by)S
3124(every)S
3464(server)S
3832(implementor)S
4522(who)S
4801(wants)S
5155(to)S
1736 V
708(implement)S
1257(the)S
1436(class)S
1703(in)S
1828(which)S
2155(the)S
2334(procedure)S
2849(is)S
2961(defined.)S
3415(The)S
3633(name)S
3925(of)S
4056(an)S
4200(implementation)S
4990(is)S
5101(the)S
1876 V
708(name)S
1026(of)S
1183(the)S
1387(procedure,)S
1958(prefixed)S
2419(with)S
12 I
2692(impl)S
12 Y1
2908(3)S
12 R
2978(.)S
3095(An)S
3300(implementation)S
4117(has)S
4335(the)S
4540(same)S
4846(function)S
2016 V
708(prototype)S
1205(as)S
1340(the)S
1522(procedure)S
2040(where)S
2371(the)S
2553(type)S
2795(of)S
2930(the)S
3112(first)S
3343(argument,)S
3864(the)S
4046(``*'')S
4304(of)S
4439(the)S
4621(procedure,)S
5168(is)S
2156 V
708(implementation)S
1498(dependent.)S
2084(Currently)S
2578(it)S
2676(is)S
2787(always)S
3154(a)S
3238(pointer)S
3611(to)S
3735(a)S
3819(header.)S
2332 V
708(If)S
823(the)S
1004(``*'')S
1261(is)S
1375(absent,)S
1747(AIL)S
(still)183 1983 A
2199(assumes)S
2635(that)S
2850(it)S
2951(describes)S
3435(a)S
3522(function)S
3958(that)S
4173(is)S
4287(logically)S
4744(part)S
4966(of)S
5101(the)S
2472 V
(interface.)456 708 A
1253(An)S
1460(example)S
1929(is)S
2069(the)S
2276(function)S
12 I
2738(dir)S
12 Y1
2879(3)S
12 I
2939(home)S
12 R
3211(,)S
3300(which)S
3655(does)S
3935(not)S
4148(use)S
12 I
4368(trans)S
12 R
4626(,)S
4715(but)S
(should)321 4928 A
2612 V
(obviously)475 708 A
1217(be)S
1365(part)S
1588(of)S
1723(the)S
1905(directory)S
(interface.)456 2377 A
2897(Other)S
3208(star-less)S
3641(procedures)S
4206(might)S
4522(be)S
(handwritten)579 4670 A
2752 V
708(wrappers)S
(around)335 1195 A
1571(a)S
1666(client)S
1977(stub.)S
2279(Thus,)S
2591(no)S
2752(command)S
3269(numbers)S
3726(or)S
3868(implementation)S
4669(routines)S
5100(are)S
2892 V
708(associated)S
1243(with)S
1496(these)S
1782(procedures.)S
2410(The)S
2635(assumption)S
3222(is)S
3341(that)S
3561(the)S
3747(basic)S
4034(RPC)S
4299(format)S
(will)190 4661 A
4889(have)S
5155(to)S
3032 V
708(be)S
(published)469 852 A
1351(anyway,)S
1787(since)S
2066(that)S
2278(is)S
2389(Amoeba's)S
2917(basic)S
3196(communication)S
(primitive.)475 3978 A
3312 V
12 B
708(Classes)S
3488 V
12 R
708(A)S
834(class)S
(groups)328 1108 A
1474(together)S
1909(constant,)S
2380(type,)S
2656(marshaling,)S
3262(and)S
3474(procedure)S
(definitions.)548 3996 A
4612(It)S
4725(can)S
4932(inherit)S
3628 V
708(the)S
890(constants,)S
1404(types)S
1693(and)S
1901(procedures)S
2465(of)S
2599(other)S
2881(classes.)S
3311(Usually)S
3721(an)S
3868(integer)S
4238(range)S
4540(is)S
4654(specified,)S
5155(to)S
3768 V
708(allow)S
1022(the)S
(definition)471 1214 A
1729(of)S
1874(procedures)S
2450(with)S
2711(the)S
2904(magic)S
3245(first)S
3487(star.)S
3768(AIL)S
4016(uses)S
4269(this)S
4489(range)S
4803(to)S
4942(pick)S
5195(a)S
3908 V
708(value)S
1010(for)S
1192(the)S
12 I
1380(h)S
12 Y1
1440(3)S
12 I
(command)470 1500 A
12 R
2020(value.)S
2382(If)S
2504(the)S
2692(range)S
3001(is)S
3121(absent)S
3469(in)S
3602(the)S
3789(class)S
(definition,)501 4064 A
4604(the)S
4791(class)S
(still)183 5066 A
4048 V
708(represents)S
1230(a)S
1314(logical)S
(grouping)435 1674 A
2139(of)S
2270(procedures,)S
2861(constants)S
3341(and)S
3545(types.)S
4188 V
708(The)S
(interface)426 933 A
1396(is)S
1514(specified)S
1989(in)S
2120(an)S
2272(object-oriented)S
3044(style.)S
3371(This)S
3624(eases)S
3918(the)S
4104(development)S
4766(of)S
4905(servers)S
4328 V
708(that)S
927(use)S
1125(standard)S
(interfaces.)503 1572 A
2142(Let)S
2341(us)S
(suppose)388 2485 A
2910(there)S
3190(is)S
3308(a)S
3399(class)S
3672(called)S
12 I
3999(std)S
12 Y1
4140(3)S
12 I
4200(io)S
12 R
4341(that)S
4559(holds)S
4856(the)S
5040(read)S
4468 V
708(and)S
912(the)S
1090(write)S
1371(operators.)S
1912(A)S
2030(programmer)S
2659(that)S
2871(is)S
2982(building)S
3414(a)S
3498(server)S
3825(that)S
(knows)315 4037 A
(about)268 4382 A
4681(reading)S
5075(and)S
4608 V
(writing)351 708 A
1101(its)S
1258(object,)S
1626(but)S
1822(also)S
(about)268 2059 A
2369(destroying)S
2921(objects,)S
3336(simply)S
3707(defines)S
4099(a)S
4195(class)S
4473(that)S
4696(inherits)S
5101(the)S
4748 V
12 I
708(std)S
12 Y1
849(3)S
12 I
909(io)S
12 R
1043(class,)S
1339(and)S
1543(adds)S
1794(the)S
1972(destroy)S
2358(procedure.)S
2932(Of)S
3091(course,)S
3467(the)S
3645(programmer)S
(will)190 4275 A
4496(have)S
4755(to)S
4880(provide)S
4888 V
708(the)S
911(implementation)S
1726(of)S
1882(all)S
2059(the)S
2262(operators,)S
2798(including)S
3309(the)S
3512(inherited)S
3998(ones,)S
4304(but)S
4513(the)S
4716(old)S
4925(library)S
5028 V
708(routines)S
1128(for)S
1300(the)S
1478(read)S
1717(and)S
1921(write)S
(interface)426 2202 A
2658(can)S
2856(be)S
3000(used.)S
5204 V
708(AIL)S
956(implements)S
12 I
(multiple)398 1566 A
12 R
2019(inheritance.)S
2663(This)S
2923(allows)S
3285(the)S
3478(programmer)S
4122(to)S
(support)362 4262 A
4670(an)S
4830(arbitrary)S
5344 V
708(number)S
1116(of)S
1256(classes,)S
1662(as)S
(long)214 1802 A
2055(as)S
2195(their)S
12 I
2456(h)S
12 Y1
2516(3)S
12 I
(command)470 2576 A
12 R
3094(ranges)S
3448(and)S
3660(the)S
3846(names)S
4193(defined)S
4594(in)S
4726(the)S
4912(classes)S
5484 V
708(are)S
887(disjunct.)S
5660 V
708(For)S
(each)222 922 A
1190(class)S
1472(AIL)S
1721(can)S
1936(generate)S
2394(a)S
12 I
(server-mainloop)800 2495 A
12 R
3305(.)S
3412(The)S
(mainloop)456 3647 A
4150(contains)S
4600(a)S
4701(big)S
4902(switch,)S
5800 V
(surrounded)543 708 A
1292(by)S
1452(a)S
12 I
1546(getreq)S
12 R
1905(and)S
2119(a)S
12 I
2213(putrep)S
12 R
2538(.)S
2638(The)S
2866(cases)S
3162(in)S
3296(the)S
3484(switch)S
3841(are)S
4030(called)S
12 I
4360(server)S
4703(stubs)S
12 R
4961(.)S
5061(The)S
5940 V
708(task)S
956(of)S
1110(a)S
1217(server)S
1567(stub)S
1822(is)S
1957(to)S
2105(get)S
2307(the)S
2509(arguments)S
3067(of)S
3222(a)S
3330(procedure,)S
3898(and)S
4126(call)S
4356(the)S
(corresponding)691 4558 A
6080 V
708(implementation)S
1519(function,)S
2003(which)S
(should)321 2350 A
2722(be)S
(supplied)409 2887 A
3347(by)S
3518(the)S
(interface)426 3717 A
4194(designer.)S
4714(The)S
4952(server)S
6220 V
(mainloop)456 708 A
1203(contains)S
1645(such)S
1905(a)S
1998(server)S
2334(stub)S
2574(for)S
2755(every)S
3063(procedure)S
3586(that)S
3807(is)S
3927(defined)S
4329(or)S
4470(inherited)S
4941(by)S
5101(the)S
6360 V
708(class.)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(69)S
7920 V
EP
%%Page: 70 76
BP
/slant 0 def
/height 0 def
1140 V
12 B
708(6.1.2.)S
1068(Language)S
1606(Specification)S
1420 V
708(Scope)S
1040(rules)S
1596 V
12 R
708(Identifiers)S
1243(declared)S
1689(within)S
2034(a)S
2123(class)S
12 I
2394(C)S
12 R
2519(are)S
2703(visible)S
3061(after)S
3320(their)S
3578(declaration,)S
4183(and)S
4393(in)S
4523(classes)S
4896(that)S
5114(in-)S
1736 V
708(herit)S
969(the)S
1155(class)S
1429(C.)S
1606(There)S
1926(is)S
2044(no)S
2201(concept)S
2614(of)S
2752(qualifiers)S
3248(as)S
3386(in)S
(Modula-2.)506 3517 A
4090(This)S
4342(implies)S
4736(that)S
4955(if)S
5067(two)S
1876 V
708(separate)S
1142(classes)S
1515(declare)S
1902(identifier)S
12 I
2385(foo)S
12 R
2549(,)S
2616(it)S
2721(is)S
2839(impossible)S
3400(to)S
3531(inherit)S
3885(both)S
4136(in)S
4267(another)S
4667(class.)S
5000(Any-)S
2016 V
708(thing)S
992(defined)S
1390(outside)S
1774(a)S
1863(class)S
2134(is)S
2250(defined)S
2648(in)S
2777(a)S
2866(global)S
3203(scope.)S
3573(These)S
3897(names)S
4241(are)S
4425(visible)S
4783(in)S
4912(classes)S
2156 V
708(that)S
920(do)S
1070(not)S
1254(redefine)S
1682(the)S
1860(identifier.)S
2332 V
708(The)S
(above)288 935 A
1262(rules)S
1537(do)S
1696(not)S
1889(apply)S
2196(exactly)S
2585(to)S
2718(union,)S
3061(enum,)S
3398(and)S
3612(structure)S
4077(tags.)S
4372(As)S
4547(in)S
4681(C,)S
4831(these)S
5120(al-)S
2472 V
708(ways)S
991(have)S
1253(a)S
1341(global)S
1677(scope.)S
2046(They)S
2328(are)S
2510(also)S
2738(the)S
2919(only)S
3166(exception)S
3669(to)S
3796(the)S
3977(rule)S
4199(that)S
4414(an)S
4561(identifier)S
5040(can-)S
2612 V
708(not)S
892(be)S
1036(redeclared)S
1572(in)S
1696(the)S
1874(same)S
2153(scope.)S
2518(Declarations)S
3162(like:)S
2812 V
11 C
(typedef)469 1652 A
(struct)402 2188 A
(foo)201 2657 A
2925({)S
2952 V
(struct)402 1920 A
(foo)201 2389 A
(*next;)402 2657 A
3092 V
(...)201 1920 A
3232 V
1652(})S
(foo;)268 1786 A
3432 V
12 R
708(are)S
894(allowed,)S
1345(and)S
1556(define)S
12 I
1897(struct)S
12 R
2183(foo)S
2382(in)S
2514(the)S
2700(global)S
3040(scope,)S
3383(and)S
12 I
3595(foo)S
12 R
3797(in)S
3929(the)S
4115(local)S
4389(one)S
12 R-1
4601(-)S
12 R
4707(which)S
5041(may)S
3572 V
708(be)S
852(the)S
1030(global)S
1362(scope.)S
3852 V
12 B
708(Syntax)S
1093(specification)S
4028 V
12 R
708(Wherever)S
1227(the)S
1416(syntax)S
1772(of)S
1915(C)S
2037(was)S
2268(useful)S
2606(it)S
2716(was)S
2947(decided)S
3365(to)S
3501(stick)S
3772(with)S
4030(it.)S
4200(This)S
4457(mainly)S
4835(refers)S
5155(to)S
4168 V
708(type-declarations)S
1573(and)S
1777(expressions,)S
2401(but)S
2585(some)S
2870(other)S
3149(syntax)S
3494(constructs)S
(look)214 4015 A
4259(C-ish)S
4551(too.)S
4588 V
12 B
708(Notation)S
1189(used)S
4764 V
12 R
708(The)S
926(following)S
1427(notation)S
1853(is)S
1964(used)S
2215(in)S
2339(the)S
2517(presentation)S
3139(of)S
3270(the)S
3448(grammar:)S
4974 V
708(Foo)S
925(:)S
(...)90 989 A
1605(A)S
1723(rule)S
1942(defining)S
2375(the)S
2553(meaning)S
2999(of)S
3130(Foo)S
5114 V
708(Foo)S
1605(\(capitalized)S
2202(words\))S
(nonterminals)632 2569 A
3231(in)S
3355(the)S
3533(grammar)S
5254 V
708(FOO)S
1605(\(all)S
(upper)275 1798 A
2103(case\))S
2383(terminal)S
2818(symbols)S
5394 V
728('foo')S
(\(quoted)369 1605 A
2004(strings\))S
(literal)285 2398 A
2713(terminal)S
3148(symbols)S
5534 V
708(\()S
779(\))S
1605(used)S
1856(for)S
(grouping)435 2028 A
5674 V
(Foo*)247 708 A
1605(zero)S
1844(or)S
1975(more)S
2254(times)S
2547(Foo)S
5814 V
708(Foo+)S
1605(one)S
1809(or)S
1940(more)S
2219(times)S
2512(Foo)S
5954 V
708([Foo])S
1605(zero)S
1844(or)S
1975(one)S
2179(times)S
2472(Foo)S
6094 V
708({Foo)S
983(DELIM})S
1605(one)S
1809(or)S
1940(more)S
2219(times)S
2512(Foo,)S
2759(separated)S
3247(by)S
3397(DELIM)S
3811(if)S
3916(more)S
4195(than)S
4433(one)S
6234 V
708(Foo)S
925(|)S
979(Bar)S
1605(separates)S
2080(alternatives)S
6480 V
708(And)S
946(here)S
1185(is)S
1296(the)S
1474(actual)S
1794(grammar:)S
6690 V
708(AilSource)S
1387(:)S
(Definition*)559 1601 A
6830 V
(Definition)499 708 A
1387(:)S
(TypeDefinition)747 1601 A
6970 V
1387(|)S
(ClassDefinition)761 1601 A
7110 V
1387(|)S
1601(GenerateClause)S
7250 V
1387(|)S
(ConstantDefinition)928 1601 A
7700 V
708(70)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 71 77
BP
/slant 0 def
/height 0 def
860 V
12 R
1387(|)S
(MarshalDefinition)896 1601 A
1140 V
(TypeDefinition)747 708 A
1635(:)S
1849(StructOrUnion)S
2600([IDENT])S
3077('{')S
3247(StructMember*)S
4037('}')S
4207(';')S
1280 V
1635(|)S
1849('typedef')S
2324(BaseType)S
2837({TypeConstructor)S
3744([MarshInfo]','})S
4537(';')S
1560 V
708(StructOrUnion)S
1609(:)S
1823('struct')S
2205(|)S
2259('union')S
1700 V
708(StructMember)S
1609(:)S
1823(BaseType)S
2336({TypeConstructor)S
3243(','})S
3443(';')S
1840 V
708(EnumMember)S
1609(:)S
1823(IDENT)S
2218([)S
2289('=')S
2469(ConstantExpression)S
3465(])S
2120 V
708(BaseType)S
1371(:)S
1585(TypeModifier*)S
2354(IntrinsicType)S
2260 V
1371(|)S
1585(TypeModifier+)S
2400 V
1371(|)S
1585(StructOrUnion)S
2336(IDENT)S
2540 V
1371(|)S
1585(StructOrUnion)S
2336(IDENT)S
2731('{')S
2901(StructMember*)S
3691('}')S
2680 V
1371(|)S
1585('enum')S
1965(IDENT)S
2820 V
1371(|)S
1585('enum')S
1965(IDENT)S
2360('{')S
2530({EnumMember)S
3316(','})S
3516('}')S
2960 V
1371(|)S
1585(IDENT)S
3276 V
708(TypeModifier)S
1567(:)S
('long')296 1781 A
2107(|)S
2161('short')S
2515(|)S
2569('signed')S
2996(|)S
3050('unsigned')S
3416 V
708(IntrinsicType)S
1567(:)S
1781('int')S
2021(|)S
2075('float')S
2410(|)S
2464('char')S
2785(|)S
('double')410 2839 A
3279(|)S
3333('void')S
3696 V
708(TypeConstructor)S
1707(:)S
1921(IDENT)S
3836 V
1707(|)S
('\(')123 1921 A
2074(TypeConstructor)S
('\)')123 2923 A
3976 V
1707(|)S
1921('*')S
2093(TypeConstructor)S
4116 V
1707(|)S
1921(TypeConstructor)S
('[')123 2770 A
([ActualBound)685 2923 A
3638([)S
3709(':')S
(MaximumBound])864 3855 A
(']')123 4749 A
4256 V
1707(|)S
1921(TypeConstructor)S
('\(')123 2770 A
('\)')123 2923 A
4536 V
(ActualBound)644 708 A
1711(:)S
1925(Expression)S
4676 V
(MaximumBound)823 708 A
1711(:)S
1925(Expression)S
4956 V
(ClassDefinition)761 708 A
1649(:)S
1863('class')S
2211(IDENT)S
2606([ClassRange])S
3288('{')S
5096 V
2013(\(InheritanceList)S
2819(|)S
2873(IncludeList\)*)S
5236 V
(LocalDefinition*)835 2013 A
5376 V
1863('}')S
2033(';')S
5656 V
708(ClassRange)S
1623(:)S
('[')123 1837 A
1990(ConstantExpression)S
2986('..')S
3158(ConstantExpression)S
(']')123 4154 A
5796 V
708(InheritanceList)S
1623(:)S
1837('inherit')S
2266({IDENT)S
2719(','})S
2919(';')S
5936 V
708(IncludeList)S
1623(:)S
1837('include')S
2305({STRING)S
2831(','})S
3031(';')S
6216 V
(LocalDefinition)775 708 A
1816(:)S
(ConstantDefinition)928 2030 A
6356 V
1816(|)S
(TypeDefinition)747 2030 A
6496 V
1816(|)S
(OperationDefinition)984 2030 A
6636 V
1816(|)S
(MarshalDefinition)896 2030 A
6776 V
1816(|)S
(RightsDefinition)814 2030 A
6916 V
(ConstantDefinition)928 708 A
1816(:)S
2030('const')S
2397(IDENT)S
2792('=')S
2972(ConstantExpression)S
3968(';')S
7056 V
1816(|)S
2030('const')S
2397(IDENT)S
2792('=')S
2972(STRING)S
3440(';')S
7336 V
(MarshalDefinition)896 708 A
1784(:)S
1998('marshal')S
2494(IDENT)S
2889(MarshInfo)S
3430(';')S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(71)S
7920 V
EP
%%Page: 72 78
BP
/slant 0 def
/height 0 def
860 V
12 R
708(MarshInfo)S
1784(:)S
1998('with')S
2326([)S
2397(ActualSize)S
2960([)S
3031(':')S
3177(MaximumSize)S
3919(])S
3990(])S
1000 V
1998([)S
2069('in')S
2275([ClientMarshal])S
3080(',')S
3222([ServerUnmarshal])S
4183(])S
1140 V
1998([)S
2069('out')S
2335([ClientUnmarshal])S
3275(',')S
3417([ServerMarshal])S
4243(])S
1280 V
708(ClientMarshal)S
1784(:)S
1998(IDENT)S
1420 V
708(ClientUnmarshal)S
1784(:)S
1998(IDENT)S
1560 V
708(ServerMarshal)S
1784(:)S
1998(IDENT)S
1700 V
708(ServerUnmarshal)S
1784(:)S
1998(IDENT)S
1946 V
708(The)S
931(identifiers)S
1459(are)S
(supposed)448 1643 A
2126(to)S
2255(be)S
2404(marshaling)S
2977(routines.)S
3462(They)S
3745(are)S
3929(called)S
4254(with)S
4505(a)S
4594(pointer)S
4972(in)S
5101(the)S
2086 V
708(transaction)S
1273(buffer,)S
1633(and)S
1840(the)S
2021(value)S
2316(they)S
2557(are)S
(supposed)448 2739 A
3220(to)S
3347(marshal.)S
3824(They)S
4105(must)S
4372(return)S
4694(a)S
4780(pointer)S
5155(to)S
2226 V
708(where)S
1079(they)S
1361(left)S
1598(off.)S
1874(Server)S
2265(marshalers)S
2865(might)S
3221(get)S
3444(an)S
3633(extra)S
3951(parameter,)S
4542(indicating)S
5101(the)S
2366 V
708(architecture)S
1341(of)S
1501(the)S
1708(client.)S
2097(Currently,)S
2650(the)S
2857(most)S
3151(realistic)S
3596(way)S
3856(to)S
4008(learn)S
4309(the)S
4515(prototype)S
5036(of)S
5195(a)S
2506 V
708(marshaler)S
1217(is)S
1328(forcing)S
1708(AIL)S
1941(to)S
2065(write)S
2346(code)S
2604(that)S
2816(needs)S
3121(to)S
3245(call)S
3451(the)S
3629(marshaler,)S
4168(regrettably.)S
2716 V
708(ActualSize)S
1600(:)S
1814(['const'])S
2263(Expression)S
2856 V
708(MaximumSize)S
1600(:)S
1814(['const'])S
2263(Expression)S
3136 V
(RightsDefinition)814 708 A
1702(:)S
1916('rights')S
2304({RightDef)S
2843(','})S
3276 V
708(RightDef)S
1702(:)S
1916(IDENT)S
2311('=')S
2491(ConstantExpression)S
3486 V
708(The)S
931(constant)S
1369(expression)S
1921(must)S
2191(evaluate)S
2630(to)S
2759(a)S
2848(power)S
3186(of)S
3322(two,)S
3569(and)S
3779(must)S
4050(not)S
4240(be)S
4390(bigger)S
4735(than)S
(2**8,)270 4979 A
3626 V
708(which)S
1034(reflects)S
1423(the)S
1601(restrictions)S
2171(that)S
2383(Amoeba)S
2823(imposes.)S
3836 V
(OperationDefinition)984 708 A
1872(:)S
2086(IDENT)S
2481([Identification])S
('\(')123 3247 A
3400(ParameterList)S
('\)')123 4112 A
4265([RightsList])S
4881(';')S
4116 V
708(Identification)S
1738(:)S
('[')123 1952 A
2105(ConstantExpression)S
3101(AlternateNumber*)S
(']')123 4041 A
4256 V
708(AlternateNumber)S
1738(:)S
1952(',')S
2094(ConstantExpression)S
4396 V
708(ParameterList)S
1738(:)S
1952(['*')S
2165(','])S
2378({Parameter)S
2959(','})S
4536 V
708(RightsList)S
1738(:)S
1952('rights')S
2340({IDENT)S
2793(','})S
4816 V
708(Parameter)S
1636(:)S
1850([AttributePart])S
2597([HeaderAddress])S
3457(ParameterDef)S
4163([MarshInfo])S
4956 V
708(AttributePart)S
1636(:)S
(['var'])319 1850 A
2199(['in'])S
2487(['out'])S
5096 V
708(HeaderAddress)S
1636(:)S
1850(':')S
1996(IDENT)S
5236 V
708(ParameterDef)S
1636(:)S
1850(BaseType)S
2363(TypeConstructor)S
5516 V
708(GenerateClause)S
1656(:)S
1870('generate')S
2393([)S
2464(IDENT)S
2859(])S
2930('{')S
3100({Generator)S
3674(';'})S
3878('}')S
4048(';')S
5656 V
708(Generator)S
1656(:)S
1870(IDENT)S
2265([)S
('\(')123 2336 A
2489({GeneratorArg)S
3252(','})S
('\)')123 3452 A
3605(])S
5796 V
708(GeneratorArg)S
1656(:)S
1870(IDENT)S
2265([':')S
2452(SimpleType])S
3114(['=')S
3335(Expression])S
6076 V
708(ConstantExpression)S
1854(:)S
2068(Expression)S
6216 V
708(Expression)S
1854(:)S
2068(Expression)S
2635(DyadicOptr)S
3238(Expression)S
6356 V
1854(|)S
2068(UnaryOptr)S
2624(Expression)S
6496 V
1854(|)S
('\(')123 2068 A
2221(Expression)S
('\)')123 2788 A
6636 V
1854(|)S
2068(FunctionCall)S
6776 V
1854(|)S
2068(NUMBER)S
6916 V
1854(|)S
2068(IDENT)S
7700 V
708(72)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 73 79
BP
/slant 0 def
/height 0 def
860 V
12 B
708(Expressions)S
1036 V
12 R
708(Expressions)S
1335(are)S
1527(modeled)S
1986(after)S
2253(C)S
2376(expressions.)S
3043(Some)S
3361(operators)S
3855(are)S
4047(missing.)S
4526(The)S
4758(remaining)S
1176 V
708(ones)S
959(are)S
1138(listed)S
1431(below)S
1757(in)S
(precedence)545 1881 A
2456(order:)S
1386 V
708(||)S
1650(denotes)S
2049(logical)S
2409(OR.)S
1526 V
708(&&)S
1650(denotes)S
2049(logical)S
(AND.)294 2409 A
1666 V
708(|)S
1650(denotes)S
2049(bitwise)S
2430(inclusive)S
2897(OR.)S
1806 V
708(\303)S
1650(denotes)S
2049(bitwise)S
2430(exclusive)S
2917(OR.)S
1946 V
708(&)S
1650(denotes)S
2049(bitwise)S
(AND.)294 2430 A
2086 V
708(==)S
874(and)S
1078(!=)S
1650(denote)S
2002(equal)S
2294(and)S
2498(unequal.)S
2226 V
708(>,)S
836(<,)S
964(>=)S
1130(and)S
1334(<=)S
1650(test)S
1849(for)S
2021(greater)S
2389(than,)S
2657(smaller)S
3045(than,)S
3313(greater)S
2366 V
1650(or)S
1781(equal,)S
2103(and)S
2307(smaller)S
2695(or)S
2826(equal)S
3118(respectively.)S
2506 V
708(<<)S
874(and)S
1078(>>)S
1650(are)S
1829(the)S
2007(bitshift)S
2381(operators.)S
2646 V
708(+)S
806(and)S
12 Y
1010(-)S
12 R
1650(denote)S
(addition)396 2002 A
2428(and)S
2632(subtraction)S
3200(respectively.)S
2786 V
708(*,)S
828(/)S
892(and)S
1096(%)S
1650(denote)S
(multiplication,)710 2002 A
2742(division)S
3161(and)S
(modulo.)398 3365 A
3032 V
708(Unary)S
1041(operators,)S
1552(which)S
1878(are)S
2057(all)S
2209(prefix,)S
2559(have)S
2817(the)S
2995(highest)S
(precedence.)575 3374 A
4009(They)S
4287(are:)S
3208 V
958(``+'',)S
1250(``)S
12 Y
1332(-)S
12 R
1398('',)S
1540(``)S
1652('')S
1764(and)S
(``!'',)235 1968 A
3384 V
708(which)S
1042(mean)S
1342(nothing,)S
1778(unary)S
2091(minus,)S
2454(bitwise)S
2843(NOT)S
3131(and)S
3343(logical)S
3711(NOT.)S
4059(Parentheses)S
4669(can)S
4875(be)S
5028(used)S
3524 V
708(to)S
839(override)S
1280(the)S
(precedence)545 1465 A
2047(rules.)S
2379(Primary)S
2806(expressions)S
3406(are)S
3591(constants,)S
4107(identifiers)S
4636(and)S
4846(function)S
3664 V
708(calls.)S
1036(The)S
1269(identifiers)S
1807(in)S
1946(an)S
2106(expression)S
2669(must)S
2950(refer)S
3227(to)S
3367(an)S
3527(integer)S
3910(constant.)S
4419(Effectively,)S
5035(only)S
3804 V
708(integer)S
1075(expressions)S
1669(are)S
1848(allowed.)S
4224 V
12 B
708(Lexical)S
1114(analysis.)S
4400 V
12 R
708(Lexical)S
1121(analysis)S
1560(is)S
1690(the)S
1887(same)S
2185(as)S
2335(for)S
2526(C,)S
2685(except)S
3050(for)S
3241(the)S
3439(keywords.)S
4019(The)S
(input)248 4257 A
4555(source)S
4921(is)S
5052(first)S
4540 V
708(preprocessed)S
1384(by)S
1548(the)S
1740(C)S
1864(preprocessor,)S
2557(then)S
2809(tokenized.)S
3383(The)S
3615(symbol)S
12 I
4014(AIL)S
12 R
4250(is)S
4375(predefined)S
4937(by)S
5101(the)S
4680 V
708(preprocessor)S
1391(to)S
(facilitate)427 1549 A
(conditional)544 2040 A
2648(compilation.)S
3350(Comments,)S
(spaces)316 3967 A
4347(and)S
4585(tabs)S
4845(between)S
4820 V
708(tokens)S
1095(are)S
(ignored;)403 1316 A
1791(within)S
2173(tokens)S
2560(they)S
2840(are)S
(illegal)304 3061 A
3436(\(except)S
3864(in)S
4029(strings,)S
4453(where)S
4821(they)S
5100(are)S
4960 V
708(meaningful\).)S
1401(Comments)S
1965(are)S
(placed)316 2155 A
2512(between)S
2958(/*)S
3094(and)S
3310(*/.)S
3506(Comments)S
4071(do)S
4233(not)S
4429(nest.)S
4726(Comments)S
5100 V
708(are)S
887(not)S
(recognized)531 1071 A
1632(within)S
1972(strings,)S
2355(and)S
2559(vice)S
2791(versa.)S
5276 V
708(The)S
(definitions)518 947 A
1516(below)S
1863(reflect)S
2226(the)S
2426(tokenization)S
3076(process.)S
3551(In)S
3704(the)S
3904(case)S
4165(of)S
4318(ambiguity)S
4860(the)S
5060(rule)S
5416 V
708(listed)S
1010(first)S
1246(is)S
1366(used.)S
1686(The)S
(longest)349 1913 A
(production)523 2301 A
2863(of)S
3003(a)S
3095(rule)S
3322(is)S
3441(always)S
3816(taken.)S
(Spaces)336 4176 A
4550(are)S
4737(significant)S
5556 V
708(here!)S
5766 V
708(IDENT)S
1585(:)S
1799(Letter)S
2120([LetterOrOther]*)S
5906 V
708(LetterOrOther)S
1585(:)S
1799(Letter)S
2120(|)S
2174(Digit)S
2454(|)S
2508(')S
12 Y1
2549(3)S
12 R
2609(')S
6186 V
708(NUMBER)S
1697(:)S
1911(OctalNumber)S
2602(|)S
2656(HexNumber)S
3285(|)S
3339(DecimalNumber)S
6326 V
708(OctalNumber)S
1697(:)S
1911('0')S
2083(Digit+)S
2431([Suffix])S
6466 V
708(HexNumber)S
1697(:)S
1911('0')S
2083(\('x')S
2296(|)S
2350('X'\))S
2591(HexDigit+)S
3141([Suffix])S
6606 V
708(HexDigit)S
1697(:)S
1911(Digit)S
2191(|)S
2245(LetterAtoF)S
6746 V
708(DecimalNumber)S
1697(:)S
1911(Digit+)S
2259([Suffix])S
6956 V
708(Currently,)S
1232(suffices)S
1640(do)S
1790(not)S
1974(mean)S
2266(a)S
2350(thing,)S
2658(but)S
2842(this)S
(will)190 3047 A
3267(change:)S
7166 V
708(Suffix)S
1191(:)S
1405('l')S
1551(|)S
1605('L')S
1791(|)S
1845('u')S
2017(|)S
2071('U')S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(73)S
7920 V
EP
%%Page: 74 80
BP
/slant 0 def
/height 0 def
860 V
12 R
708(STRING)S
1595(:)S
1809('"')S
1970(CharOrEscape*)S
2767('"')S
1000 V
708(CharConstant)S
1595(:)S
1809(Quote)S
2135(CharOrEscape)S
2872(Quote)S
1140 V
708(CharOrEscape)S
1595(:)S
1809(any)S
2013(character)S
2489(except)S
2835(\\n,)S
2989(\\,)S
3083(or)S
3214(the)S
(surrounding)583 3392 A
(quote)268 4005 A
1280 V
1595(|)S
1809('\\n')S
2015(|)S
2069('\\b')S
2275(|)S
2329('\\f')S
2516(|)S
2570('\\t')S
2750(|)S
2804('\\r')S
1420 V
1595(|)S
1809('\\\\')S
1989(Digit)S
2269([Digit)S
2590([Digit]])S
1560 V
1595(|)S
1809('\\\\')S
1700 V
1595(|)S
1809('\\"')S
1840 V
1595(|)S
1809('\\')S
1955(Quote)S
2120 V
708(Letter)S
1461(:)S
1675('a')S
1841(|)S
1895('b')S
2067(|)S
(...)90 2121 A
2241(|)S
2295('z')S
2461(|)S
2515('A')S
2715(|)S
2769('B')S
2961(|)S
(...)90 3015 A
3135(|)S
3189('Z')S
2260 V
708(LetterAtoF)S
1461(:)S
1675('a')S
1841(|)S
1895('b')S
2067(|)S
(...)90 2121 A
2241(|)S
('f')123 2295 A
2448(|)S
2502('A')S
2702(|)S
2756('B')S
2948(|)S
(...)90 3002 A
3122(|)S
3176('F')S
2400 V
708(Digit)S
1461(:)S
1675('0')S
1847(|)S
1901('1')S
2073(|)S
(...)90 2127 A
2247(|)S
2301('9')S
2540 V
708(Quote)S
1461(:)S
1675(the)S
1853(single)S
(quote)268 2172 A
2680 V
708(DyadicOptr)S
1461(:)S
1675('||')S
1835(|)S
1889('&&')S
2189(|)S
2243('|')S
2379(|)S
2433('&')S
2639(|)S
('\303')123 2693 A
2846(|)S
2900('!=')S
3121(|)S
3175('==')S
3423(|)S
2820 V
1675('<=')S
1923(|)S
1977('>=')S
2225(|)S
2279('<')S
2459(|)S
2513('>')S
2693(|)S
2747('+')S
2927(|)S
2981(')S
12 Y
3022(-)S
12 R
3088(')S
3159(|)S
3213('*')S
3385(|)S
3439('/')S
3585(|)S
3639('%')S
2960 V
708(UnaryOptr)S
1461(:)S
1675('+')S
1855(|)S
1909(')S
12 Y
1950(-)S
12 R
2016(')S
2087(|)S
2141(')S
2212(')S
2283(|)S
('!')123 2337 A
3206 V
708(The)S
937(keywords)S
1449(are:)S
1674(char,)S
1955(class,)S
2263(const,)S
(double,)358 2590 A
2990(enum,)S
3330(float,)S
3625(generate,)S
4108(in,)S
4274(include,)S
4702(inherit,)S
5091(int,)S
3346 V
(long,)244 708 A
982(marshal,)S
1426(out,)S
1640(short,)S
1942(signed,)S
2317(struct,)S
2647(typedef,)S
3070(union,)S
3404(unsigned,)S
3899(var,)S
4114(void,)S
4388(with.)S
3766 V
12 B
708(Types)S
3942 V
12 R
708(The)S
938(primary)S
1364(types)S
1661(of)S
1804(AIL)S
2049(are)S
2240(int,)S
2440(char,)S
2721(float,)S
(double)328 3016 A
3386(and)S
3602(void.)S
3919(The)S
4150(meaning)S
4609(of)S
4753(int)S
4924(can)S
5135(be)S
4082 V
708(modified)S
1176(using)S
(long,)244 1468 A
1743(short,)S
2045(signed)S
2390(and)S
2594(unsigned.)S
3119(Unlike)S
3479(most)S
3744(C)S
3854(implementations,)S
4721(AIL)S
4954(thinks)S
4222 V
708(a)S
(long)214 802 A
(long)214 1056 A
1310(int)S
1478(is)S
1599(legal,)S
1906(and)S
(will)190 2121 A
2352(feed)S
2602(this)S
2818(to)S
(your)221 2953 A
3215(C)S
3336(compiler)S
3808(if)S
(you)180 3924 A
4145(use)S
4347(one.)S
4622(An)S
4811(int)S
4980(and)S
5195(a)S
4362 V
(long)214 708 A
953(are)S
1133(four)S
1366(byte)S
(quantities)471 1605 A
2107(on)S
2258(the)S
2437(network.)S
2925(A)S
3044(short)S
3317(is)S
3429(two)S
3642(bytes.)S
3988(For)S
4187(floats)S
4488(and)S
(doubles,)405 4693 A
5129(no)S
4502 V
708(network)S
1137(format)S
1493(is)S
1606(defined)S
2001(yet.)S
2242(New)S
2505(types)S
2793(can)S
2994(be)S
3141(created)S
3525(by)S
3678(typedef,)S
4104(struct,)S
4437(union)S
4744(and)S
4951(enum,)S
4642 V
708(which)S
1051(are)S
1247(passed)S
1616(as)S
1764(integers.)S
2254(Arrays,)S
2661(pointers)S
3097(and)S
3317(functions)S
3813(are)S
4008(like)S
4236(in)S
4376(C,)S
(though)334 4532 A
4912(neither)S
4782 V
708(pointers)S
1137(nor)S
1337(functions)S
1826(can)S
2033(be)S
2186(passed)S
2547(to)S
2680(procedures.)S
3311(There)S
3634(is)S
3755(an)S
3909(extended)S
4385(array)S
4675(type,)S
4953(which)S
4922 V
708(differentiates)S
1404(between)S
1862(an)S
2030(actual)S
2374(and)S
2602(a)S
2710(maximum)S
3254(size.)S
3556(Currently,)S
4103(the)S
4304(maximum)S
4847(must)S
5135(be)S
5062 V
708(constant.)S
1205(When)S
(transmitting)586 1527 A
2147(such)S
2402(an)S
2550(array,)S
2864(the)S
3046(actual)S
3370(size)S
3593(is)S
3708(computed,)S
4249(and)S
4458(only)S
4707(that)S
4924(part)S
5148(of)S
5202 V
708(the)S
886(array)S
1166(is)S
(transmitted.)576 1277 A
5622 V
12 B
708(Classes)S
5798 V
12 R
708(A)S
847(ClassRange)S
1468(defines)S
1869(an)S
2034(integer)S
2422(range)S
2742(from)S
3029(which)S
3377(AIL)S
3632(can)S
3852(pick)S
4112(command)S
4640(values.)S
5061(The)S
5938 V
708(classes)S
1096(mentioned)S
1657(in)S
1802(an)S
1967(InheritanceList)S
2753(are)S
(explicitly)458 2953 A
3462(inherited.)S
4003(Any)S
4261(classes)S
4648(inherited)S
5129(by)S
6078 V
708(these)S
1004(classes)S
1388(are)S
(implicitly)472 1584 A
2103(inherited.)S
2641(This)S
2903(difference)S
3443(is)S
3571(only)S
3832(relevant)S
4270(to)S
4411(some)S
4714(generators.)S
6218 V
708(The)S
930(names)S
1272(defined)S
1668(in)S
1795(the)S
1976(inherited)S
2440(classes)S
2810(are)S
2992(visible)S
3348(in)S
3475(the)S
3656(current)S
4033(class.)S
4362(The)S
4583(IncludeList)S
5168(is)S
6358 V
708(used)S
971(to)S
1107(tell)S
1305(AIL)S
1550(which)S
1888(header)S
2253(files)S
2505(must)S
2782(be)S
2938(included)S
3396(by)S
3558(the)S
3748(client)S
12 Y1
4018(3)S
12 R
(interface)426 4078 A
4546(translation.)S
5161(A)S
6498 V
708(string)S
1020(starting)S
1420(with)S
1672(``<'')S
1940(and)S
2150(ending)S
2514(in)S
2644(``>'')S
(will)190 2912 A
3138(be)S
3288(translated)S
3795(to)S
3924(an)S
4073(#include)S
4524(<stdio.h>)S
5020(style)S
6638 V
708(include,)S
1124(other)S
1403(strings)S
1756(are)S
1935(copied)S
2287(as)S
2418(is.)S
7700 V
708(74)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 75 81
BP
/slant 0 def
/height 0 def
860 V
12 B
708(Procedures)S
1323(and)S
1547(parameters)S
1036 V
12 R
708(Procedures)S
1301(define)S
1659(the)S
1862(prototype)S
2380(of)S
2536(a)S
2646(client)S
2972(stub.)S
3289(The)S
3533(implementation)S
4349(may)S
4613(have)S
4897(quite)S
5195(a)S
1176 V
708(different)S
1160(prototype,)S
1686(depending)S
2220(on)S
2372(other)S
2653(features)S
3070(of)S
3203(AIL)S
(you)180 3438 A
3650(use)S
3843(in)S
3969(the)S
4149(generate)S
4592(clause)S
4927(for)S
5101(the)S
1316 V
708(server.)S
1100(The)S
1323(parameters)S
1891(to)S
2020(a)S
2109(procedure)S
2628(are)S
2812(identifiers)S
3340(with)S
3592(a)S
3682(type,)S
3956(and)S
4166(have)S
4430(certain)S
4797(attributes)S
1456 V
708(associated)S
1254(with)S
1518(them.)S
1868(The)S
2104(most)S
2387(obscure)S
2811(attribute)S
3264(specifies)S
3737(in)S
3879(which)S
4223(field)S
4494(of)S
4643(the)S
4839(Amoeba)S
1596 V
708(message)S
1149(header)S
1503(the)S
1682(parameter)S
(should)321 2199 A
2551(travel.)S
2919(This)S
3165(attribute)S
3601(is)S
3713(there)S
3987(so)S
4125(that)S
4339(we)S
4513(can)S
4713(specify)S
5095(old)S
1736 V
708(client)S
1008(stubs)S
1286(in)S
1410(AIL.)S
1703(It)S
1808(is)S
1919(called)S
2239(the)S
12 I
2417(HeaderAddress)S
12 R
3179(.)S
1912 V
708(The)S
932(other)S
1217(attributes)S
1705(define)S
2044(in)S
2174(which)S
2506(direction)S
2974(the)S
3159(parameter)S
3682(values)S
4028(travel,)S
4372(and)S
4583(in)S
4714(which)S
5047(way)S
2052 V
708(they)S
946(are)S
1125(passed)S
1477(to)S
1601(both)S
1845(client)S
2145(stub)S
2376(and)S
2580(implementation)S
3370(routine.)S
3803(They)S
4081(are)S
12 I
4260(in)S
12 R
4364(,)S
12 I
4424(out)S
12 R
4588(,)S
4648(and)S
12 I
4852(var)S
12 R
5023(.)S
2192 V
708(The)S
936(attribute)S
12 I
1381(var)S
12 R
1592(specifies)S
2057(that)S
2279(the)S
2467(parameter)S
2993(is)S
3114(passed)S
3477(by)S
3638(reference)S
4132(to)S
4267(both)S
4522(client)S
4833(stub)S
5075(and)S
2332 V
708(implementation)S
1498(routine.)S
2508 V
708(The)S
926(attribute)S
12 I
1361(in)S
12 R
1495(specifies)S
1950(that)S
2162(the)S
2340(parameter)S
2856(must)S
3121(be)S
3265(shipped)S
3670(in)S
3794(the)S
3972(request)S
4352(message.)S
2648 V
708(Finally)S
1095(the)S
1287(attribute)S
12 I
1736(out)S
12 R
1944(means)S
2297(it)S
2409(must)S
2688(be)S
2846(shipped)S
3265(in)S
3403(the)S
3595(reply)S
3888(message.)S
4402(The)S
4635(attribute)S
12 I
5085(out)S
2788 V
12 R
708(implies)S
12 I
1121(var)S
12 R
1292(.)S
1408(If)S
1546(neither)S
12 I
1939(in)S
12 R
2099(nor)S
12 I
2316(out)S
12 R
2536(is)S
2673(specified,)S
12 I
3197(in)S
12 R
3357(is)S
3494(assumed.)S
4026(In)S
4182(effect,)S
4545(there)S
4843(are)S
5047(four)S
2928 V
708(possible)S
1134(combinations:)S
1849(in,)S
2003(var-out,)S
2413(var-in,)S
2763(and)S
2967(var-in-out.)S
3104 V
708(The)S
928(value)S
1222(of)S
1355(an)S
1501(out)S
1687(parameter)S
2206(after)S
2463(a)S
2550(communication)S
3335(failure)S
3686(is)S
(undefined.)513 3800 A
4376(Its)S
4531(contents)S
4967(might)S
3244 V
708(have)S
966(been)S
(overwritten)560 1224 A
1814(during)S
2159(the)S
2337(processing)S
2884(of)S
3015(the)S
3193(reply)S
3472(by)S
3622(the)S
3800(Amoeba)S
4240(kernel.)S
3420 V
708(AlternateNumbers)S
1655(are)S
1854(really)S
2181(a)S
2285(hack.)S
2623(Their)S
2936(use)S
3148(is)S
3280(not)S
3485(encouraged,)S
4123(and)S
4348(seldom)S
(necessary.)501 4748 A
3560 V
708(They)S
(introduce)457 1016 A
1533(numbers)S
2009(that)S
(should)321 2251 A
2632(also)S
2886(be)S
(recognized)531 3059 A
3649(by)S
3828(a)S
3941(server.)S
4357(Only)S
4658(the)S
4865(primary)S
3700 V
708(number)S
1107(is)S
1218(used)S
1469(in)S
1593(client)S
1893(stubs.)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(75)S
7920 V
EP
%%Page: 76 82
BP
/slant 0 def
/height 0 def
860 V
12 B
708(6.2.)S
978(The)S
1209(AIL)S
1454(Cookbook)S
1140 V
708(Introduction)S
1316 V
12 R
708(This)S
956(manual)S
1345(describes)S
1829(the)S
2010(parts)S
2279(of)S
2413(AIL)S
2649(that)S
2864(are)S
3046(target)S
(language)436 3356 A
3825(specific:)S
4270(the)S
4452(code)S
4714(generators.)S
1456 V
708(This)S
971(documentation)S
1737(is)S
1865(in)S
2006(a)S
2107(separate)S
(place)256 2552 A
2855(since)S
3151(it)S
3266(is)S
3394(probably)S
3870(the)S
4065(fastest)S
4423(changing)S
4912(part)S
5148(of)S
1596 V
708(AIL.)S
1017(In)S
1164(particular,)S
1706(whenever)S
(support)362 2223 A
2631(for)S
2819(a)S
2919(new)S
(language)436 3167 A
3649(is)S
3777(added,)S
4142(this)S
4364(manual)S
(should)321 4767 A
5135(be)S
1736 V
708(changed)S
(accordingly.)601 1154 A
1829(It)S
1948(is)S
2072(assumed)S
2531(that)S
2756(the)S
2947(reader)S
3294(is)S
(familiar)386 3418 A
3847(with)S
4106(the)S
4297(material)S
4739(in)S
4876(the)S
12 I
5067(AIL)S
1876 V
708(Reference)S
(Manual)375 1223 A
12 R
1608(.)S
2052 V
708(First)S
979(of)S
1128(all,)S
1328(check)S
1658(that)S
1888(this)S
2111(documentation)S
2877(is)S
3006(consistent)S
3539(with)S
3804(the)S
4001(installed)S
4461(version)S
4866(of)S
5016(AIL.)S
2192 V
708(Type)S
12 I
986(ail)S
1144(\261gG)S
12 R
1392(to)S
1516(obtain)S
1848(a)S
1932(list)S
2111(of)S
2242(code)S
2500(generators)S
3035(that)S
3247(the)S
3425(installed)S
3866(version)S
4252(of)S
4383(AIL)S
(knows.)345 4616 A
2368 V
708(By)S
(convention,)566 893 A
1504(the)S
1697(generators)S
2247(that)S
2474(affect)S
2797(the)S
2990(behavior)S
3458(of)S
3604(other)S
3898(generators)S
4449(have)S
4723(capitalized)S
2508 V
708(names.)S
1109(An)S
1289(example)S
1731(of)S
1864(such)S
2117(a)S
2203(generator)S
2693(is)S
12 I
(Language)481 2806 A
12 R
3297(,)S
3359(which)S
3686(sets)S
3899(the)S
4078(output)S
(language)436 4417 A
4884(of)S
5016(AIL.)S
2648 V
708(Information)S
1337(like)S
1569(this)S
1794(is)S
1925(localized)S
2413(by)S
(resetting)418 2584 A
3053(it)S
3172(to)S
3317(its)S
3483(default)S
3871(every)S
4191(time)S
4458(a)S
4563(new)S
12 I
4816(generate)S
2788 V
12 R
708(clause)S
1041(shows)S
1373(up.)S
2964 V
708(Some)S
1025(code)S
1295(generators)S
1843(might)S
2168(have)S
2439(names)S
2791(that)S
3016(start)S
3269(with)S
3528(an)S
(underscore,)561 3685 A
4289(indicating)S
4816(that)S
5041(they)S
3104 V
(should)321 708 A
1062(not)S
1249(normally)S
1719(be)S
1866(used)S
2120(for)S
2295(some)S
2583(reason.)S
2992(Some)S
3299(may)S
3539(do)S
3691(things)S
4018(that)S
4232(are)S
4413(only)S
4659(useful)S
4987(when)S
3244 V
708(developing)S
1279(a)S
1368(new)S
1605(version)S
1997(of)S
2134(AIL,)S
2403(others)S
2735(may)S
2979(not)S
3169(be)S
3319(of)S
3456(astonishing)S
(quality,)366 4042 A
4444(or)S
4581(are)S
4766(scheduled)S
3384 V
708(to)S
832(disappear.)S
1386(They)S
1664(are)S
1843(listed)S
2136(here)S
2375(merely)S
2742(for)S
2914(completeness.)S
3560 V
708(A)S
838(concise)S
1243(description)S
1823(of)S
1966(the)S
2156(syntax)S
2513(to)S
2649(call)S
2867(a)S
2963(code)S
3233(generator)S
3733(is)S
(found)281 3856 A
4179(in)S
12 I
4315(The)S
4539(AIL)S
4764(Reference)S
3700 V
(Manual)375 708 A
12 R
1093(.)S
1200(As)S
(long)214 1382 A
1643(as)S
1791(AIL)S
2041(does)S
2308(not)S
(support)362 2508 A
2916(programming)S
(languages)483 3620 A
4149(other)S
4444(than)S
4698(C,)S
4854(it)S
4968(is)S
5095(not)S
3840 V
(necessary)471 708 A
1242(to)S
1399(document)S
1938(the)S
(obvious:)415 2149 A
2627(where)S
2987(``header)S
3455(file'')S
3763(is)S
(written)345 3907 A
4315(it)S
4476(means)S
4848(a)S
4965(C-file)S
3980 V
708(intended)S
1161(to)S
1291(be)S
1441(included)S
1893(whose)S
2238(name)S
2536(ends)S
2793(in)S
2923(``.h'',)S
3243(and)S
3453(where)S
3786(it)S
3890(says)S
(``function'')567 4134 A
4737(it)S
4841(refers)S
5155(to)S
4120 V
708(one)S
(written)345 912 A
1287(in)S
1411(C.)S
4296 V
708(All)S
896(code)S
1156(generators)S
1693(that)S
1907(create)S
2231(files)S
2474(put)S
2661(them)S
2936(in)S
3063(the)S
3244(output)S
3585(directory)S
4056(set)S
4224(by)S
4377(the)S
4558(command)S
5067(line)S
4436 V
12 B-1
708(-)S
12 B
776(o)S
12 R
878(option.)S
1288(The)S
1518(default)S
1897(output)S
2247(directory)S
2727(is)S
2850(the)S
3040(working)S
3485(directory.)S
4025(If)S
4149(the)S
4339(output)S
4689(directory)S
5168(is)S
4576 V
708(absent,)S
1077(it)S
(will)190 1175 A
1395(be)S
1539(created.)S
4752 V
708(The)S
949(rest)S
1178(of)S
1332(this)S
1561(document)S
2091(describes)S
2596(the)S
2798(following)S
3323(code)S
3605(generators:)S
4198(Act)S
12 Y1
4374(3)S
12 R
(deact,)286 4434 A
4774(class)S
12 Y1
5010(3)S
12 R
5070(list,)S
4892 V
708(client)S
12 Y1
978(3)S
12 R
(interface,)456 1038 A
1588(client)S
12 Y1
1858(3)S
12 R
1918(stubs,)S
2289(command,)S
2888(complete)S
12 Y1
3332(3)S
12 R
(interface,)456 3392 A
3941(complete)S
12 Y1
4385(3)S
12 R
4445(stubs,)S
4816(contents,)S
5032 V
708(define,)S
1151(feature,)S
1629(flat)S
12 Y1
1792(3)S
12 R
(interface,)456 1852 A
2418(Get)S
12 Y1
2594(3)S
12 R
2654(mem,)S
3037(Idempotent,)S
3729(impl)S
12 Y1
3951(3)S
12 R
4011(dummy,)S
4520(Impl)S
12 Y1
4749(3)S
12 R
4809(repl)S
12 Y1
4998(3)S
12 R
5058(buf,)S
5172 V
(Language,)506 708 A
1372(marsh)S
12 Y1
1668(3)S
12 R
1728(funcs,)S
2177(Monitor)S
12 Y1
2573(3)S
12 R
2633(client,)S
3090(ordinal,)S
3620(output)S
12 Y1
3928(3)S
12 R
3988(files,)S
4385(Output)S
12 Y1
4721(3)S
12 R
4781(directory,)S
5312 V
708(Pass)S
12 Y1
923(3)S
12 R
983(acttype,)S
1393(Post)S
12 Y1
1601(3)S
12 R
(deact,)286 1661 A
1977(server,)S
2334(type)S
12 Y1
2542(3)S
12 R
2602(list)S
5592 V
12 B
708(Generator)S
1276(Act)S
12 Y1
1459(3)S
12 B
1519(deact)S
5768 V
12 R
708(This)S
953(one)S
1157(changes)S
1576(the)S
1754(output)S
2092(of)S
2223(generator)S
2711(server.)S
3098(The)S
3316(syntax)S
3661(is:)S
5968 V
11 C
(Act)201 1068 A
11 Y1
1269(3)S
11 C
(deact\(type-name,)1072 1324 A
(activate-function,)1206 2463 A
(deactivate-function\))1340 3736 A
6168 V
12 R
708(It)S
823(is)S
944(used)S
1205(to)S
1339(call,)S
1585(for)S
1767(example,)S
2247(locking)S
2649(code,)S
2947(code)S
3215(to)S
3349(check)S
3671(the)S
3859(validity)S
4269(of)S
4410(the)S
(capability,)508 4599 A
5148(or)S
6308 V
708(code)S
970(to)S
1098(do)S
(additional)484 1252 A
(cleanup)376 1770 A
2180(between)S
12 I
2618(putrep)S
12 R
2977(and)S
3185(the)S
3367(next)S
3609(call)S
3819(to)S
12 I
3946(getreq)S
12 R
4265(.)S
4358(This)S
4606(code)S
4867(must)S
5135(be)S
6448 V
708(provided)S
1167(by)S
1317(the)S
1495(server)S
1822(implementor.)S
6624 V
708(Type-name)S
1300(is)S
(supposed)448 1422 A
1911(to)S
2046(be)S
2201(any)S
2416(valid)S
2699(type.)S
3008(AIL)S
3252(does)S
3514(not)S
3709(check)S
4032(this,)S
(because)383 4278 A
4702(it)S
4811(might)S
5135(be)S
6764 V
708(declared)S
1157(in)S
1289(one)S
1501(of)S
1640(the)S
1826(``include'')S
2384(files.)S
2692(Note)S
2966(that)S
3186(this)S
3399(may)S
3645(lead)S
3885(to)S
4017(server)S
4352(code)S
4618(that)S
4837(does)S
5095(not)S
6904 V
708(compile.)S
7080 V
708(The)S
943(activate)S
1369(function)S
1820(must)S
2103(return)S
2441(an)S
12 I
(errstat)323 2603 A
12 R
2984(as)S
3133(defined)S
3544(in)S
12 I
3686(amoeba.h)S
12 R
4168(.)S
4276(Its)S
4446(arguments)S
4998(are)S
5195(a)S
7220 V
708(pointer)S
1083(to)S
1209(the)S
1389(private)S
1758(part)S
1979(of)S
2112(the)S
(capability)478 2292 A
2802(the)S
2982(RPC)S
3241(is)S
3354(meant)S
3682(for,)S
3885(and)S
4090(optionally)S
4611(a)S
4696(pointer)S
5070(to)S
5195(a)S
7700 V
708(76)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 77 83
BP
/slant 0 def
/height 0 def
860 V
12 R
708(variable)S
1138(of)S
1278(type)S
1525(type-name.)S
2135(The)S
(deactivate)492 2362 A
2893(function)S
3335(is)S
3455(of)S
3595(type)S
12 I
3842(void)S
12 R
4060(,)S
4130(and)S
4344(optionally)S
4874(has)S
5075(one)S
1000 V
708(argument)S
1195(of)S
1326(type)S
12 I
1564(type-name)S
12 R
2079(:)S
1200 V
11 C
(errstat)469 1068 A
(activate)536 1604 A
11 Y1
2140(3)S
11 C
(function\(private)1072 2195 A
3334(*)S
11 Y1
3401(3)S
11 C
(prv\);)335 3456 A
1340 V
(void)268 1068 A
(deactivate)670 1403 A
11 Y1
2073(3)S
11 C
(function\(void\);)1005 2128 A
1576 V
12 R
708(As)S
883(mentioned)S
(above,)318 1433 A
12 Y1
1791(3)S
12 R
1851(obj)S
2045(parameters)S
2618(of)S
2759(type)S
12 I
3007(type)S
12 Y1
3209(3)S
12 I
3269(name)S
3572(*)S
12 R
3683(and)S
12 I
3898(type)S
12 Y1
4100(3)S
12 I
4160(name)S
12 R
4473(respectively)S
5100(are)S
1716 V
708(passed)S
1060(if)S
1165(generator)S
12 I
1653(Pass)S
12 Y1
1881(3)S
12 I
1941(acttype)S
12 R
2331(was)S
2550(used)S
2801(in)S
2925(the)S
3103(same)S
3382(generate)S
3823(clause.)S
1892 V
708(After)S
1002(the)S
1186(request)S
1572(comes)S
1917(in,)S
2077(the)S
2261(activate)S
2675(function)S
3114(is)S
3231(called.)S
3617(If)S
3736(it)S
3841(returns)S
4215(something)S
4755(other)S
5041(than)S
2032 V
708(STD)S
12 Y1
937(3)S
12 R
997(OK,)S
1239(no)S
1395(implementation)S
2191(function)S
2630(is)S
2747(called,)S
3103(and)S
3313(the)S
3497(server)S
3830(returns)S
4203(the)S
4387(error)S
4660(status)S
4972(to)S
5101(the)S
2172 V
708(client.)S
1094(If)S
1232(it)S
1356(returns)S
1749(STD)S
12 Y1
1978(3)S
12 R
2038(OK,)S
2300(the)S
2504(activate)S
2939(function)S
3399(is)S
(supposed)448 3537 A
4042(to)S
4193(have)S
4478(set)S
4670(*)S
12 Y1
4730(3)S
12 R
4790(obj.)S
5061(The)S
2312 V
708(implementation)S
1514(function)S
1963(is)S
2090(called,)S
2456(and)S
2676(then)S
2930(the)S
(deactivate)492 3124 A
3662(function)S
(will)190 4111 A
4346(be)S
4505(called)S
4840(with)S
5101(the)S
2452 V
708(variable)S
1129(set)S
1294(by)S
1444(the)S
1622(activate)S
2030(function,)S
2493(whether)S
2914(the)S
3092(implementation)S
(succeeded)497 3882 A
4409(or)S
4540(failed.)S
2628 V
12 I
708(See)S
906(also)S
1137(:)S
12 R
1218(Pass)S
12 Y1
1433(3)S
12 R
1493(acttype,)S
1903(server,)S
2260(Post)S
12 Y1
2468(3)S
12 R
(deact.)286 2528 A
2908 V
12 B
708(Generator)S
1276(class)S
12 Y1
1518(3)S
12 B
1578(list)S
3084 V
12 R
708(This)S
960(generator)S
1455(is)S
1573(probably)S
2039(only)S
2290(useful)S
2624(for)S
2804(gurus.)S
3170(It)S
3283(makes)S
3630(a)S
3722(user-unfriendly)S
4507(dump)S
4819(of)S
4958(AIL's)S
3224 V
708(internal)S
1109(class)S
1375(data.)S
3504 V
12 B
708(Generator)S
1276(client)S
12 Y1
1560(3)S
12 B
1620(interface)S
3680 V
12 R
708(This)S
961(generator)S
1457(creates)S
1833(a)S
1926(class)S
2201(specific)S
2618(header)S
2980(file.)S
3242(No)S
3429(parameters)S
4001(are)S
4189(allowed.)S
4672(It)S
4786(#includes)S
3820 V
708(the)S
904(header)S
1275(files)S
1533(of)S
1682(all)S
1852(inherited)S
2331(classes)S
2716(and)S
2938(the)S
3134(files)S
3392(listed)S
3702(in)S
3843(the)S
4038(include)S
4441(line)S
4670(of)S
4818(the)S
5013(class)S
3960 V
(definition,)501 708 A
1241(so)S
1380(in)S
1506(general)S
1895(a)S
1981(client)S
12 Y1
2251(3)S
12 R
(interface)426 2311 A
2769(is)S
2882(needed)S
3256(for)S
3430(every)S
3732(class)S
4001(defined.)S
4457(Then)S
4738(it)S
4839(#defines)S
4100 V
708(the)S
912(constants,)S
1448(declares)S
1902(the)S
2106(types,)S
2447(and)S
2677(declares)S
3131(the)S
3335(operators.)S
3902(These)S
4247(declarations)S
(will)190 4889 A
5135(be)S
4240 V
708(prototypes)S
1248(if)S
1353(the)S
(language)436 1531 A
1997(is)S
12 I
2108(ansi)S
12 R
2319(.)S
4416 V
708(Then)S
994(there)S
1275(is)S
1394(the)S
1580(prototype)S
2081(versus)S
2428(argument)S
2923(widening)S
3411(problem)S
3853(in)S
3986(C.)S
4165(If)S
4286(a)S
4379(function)S
4821(has)S
5021(been)S
4556 V
708(declared)S
1178(to)S
1331(have)S
1618(either)S
1954(a)S
2067(short,)S
2398(a)S
2511(char)S
2779(or)S
2939(a)S
3051(float)S
3332(argument,)S
3877(ANSI)S
4219(compilers)S
4755(can)S
4981(avoid)S
4696 V
708(argument)S
1204(widening)S
1693(when)S
1994(there)S
2276(is)S
2396(a)S
2489(prototype)S
2991(for)S
3172(the)S
3359(function)S
3801(in)S
3934(scope.)S
4308(If)S
4430(any)S
4644(operator)S
5088(has)S
4836 V
708(been)S
973(declared)S
1421(that)S
1640(has)S
1838(such)S
2096(an)S
2247(argument,)S
2771(AIL)S
(will)190 3011 A
3238(generate)S
3686(code)S
3950(that)S
4168(checks)S
4533(the)S
12 Y1
4717(33)S
12 C
(STDC)292 4837 A
12 Y1
5129(33)S
4976 V
12 R
708(symbol.)S
1164(If)S
1287(this)S
1503(does)S
1765(not)S
1960(match)S
2297(the)S
2486(currently)S
2965(selected)S
(Language,)506 3397 A
3944(the)S
4133(code)S
(will)190 4402 A
4633(not)S
4829(compile,)S
5116 V
708(unless)S
(you)180 1040 A
1250(have)S
1508(files)S
1748(with)S
1994(ridiculous)S
2508(names)S
2847(like)S
(traditional)499 3059 A
12 Y1
3558(3)S
12 R
3618(c)S
12 Y1
3672(3)S
12 R
3732(required,)S
4196(or)S
4327(ansi)S
12 Y1
4522(3)S
12 R
4582(c)S
12 Y1
4636(3)S
12 R
4696(required.)S
5292 V
708(To)S
878(prevent)S
(multiple)404 1277 A
1717(inclusions,)S
2273(the)S
2457(file)S
2656(tests)S
2908(and)S
3118(defines)S
3504(a)S
3594(preprocessor)S
4249(symbol)S
4641(whose)S
4987(name)S
5432 V
708(is)S
837(a)S
939(derivative)S
1472(of)S
1621(the)S
1816(name)S
2125(of)S
2273(the)S
2468(class.)S
2811(For)S
3026(example,)S
3513(the)S
3708(client)S
(interface)426 4025 A
4498(for)S
4687(class)S
12 I
4970(foo)S
12 R-1
5181(-)S
5572 V
12 R
708(which)S
1034(is)S
1145(a)S
1229(C)S
1339(header)S
1692(file)S
1885(called)S
12 I
2205(foo.h)S
12 R-1
2489(-)S
12 R
(will)190 2587 A
2807(define)S
12 Y1
3140(33)S
12 C
(FOO)219 3260 A
12 Y1
3479(3)S
12 C
3539(H)S
12 Y1
3612(33)S
12 R
3742(.)S
5748 V
12 I
708(See)S
906(also)S
1137(:)S
12 R
1218(complete)S
12 Y1
1662(3)S
12 R
(interface,)456 1722 A
(Language,)506 2208 A
2744(Output)S
12 Y1
3080(3)S
12 R
3140(directory.)S
6028 V
12 B
708(Generator)S
1276(client)S
12 Y1
1560(3)S
12 B
1620(stubs)S
6204 V
12 R
708(This)S
992(generates)S
1519(a)S
1642(client)S
1981(stub)S
2251(for)S
(each)222 2462 A
2753(operator)S
3226(in)S
3389(a)S
3512(separate)S
3979(file.)S
4271(If)S
(invoked)388 4422 A
(without)370 4879 A
6344 V
708(arguments,)S
1293(AIL)S
(will)190 1547 A
1788(generate)S
2250(the)S
2449(functions)S
2949(for)S
3141(all)S
3313(the)S
3511(operators)S
4012(defined)S
4425(within)S
4785(the)S
4983(class.)S
6484 V
708(Otherwise)S
1256(AIL)S
1507(assumes)S
1958(that)S
2188(the)S
2384(arguments)S
2936(are)S
3133(the)S
3329(names)S
3687(of)S
3837(the)S
4034(operators)S
4534(that)S
(should)321 4765 A
5135(be)S
6624 V
708(generated.)S
6800 V
708(Normally,)S
1245(this)S
1462(function)S
1907(contains)S
2352(code)S
2622(to)S
2758(marshal)S
3184(the)S
3374(parameters,)S
3979(call)S
12 I
4197(trans)S
12 R
4455(,)S
4528(and)S
4745(unmarshal)S
6940 V
708(the)S
893(results.)S
1307(If)S
1426(the)S
1611(operator)S
2052(is)S
2170(declared)S
2618(to)S
2749(be)S
2900(idempotent,)S
3511(AIL)S
3751(generates)S
4246(code)S
4511(to)S
4642(retry)S
4909(in)S
5040(case)S
7080 V
708(of)S
845(RPC)S
1108(failures.)S
1569(The)S
1793(function)S
2233(has)S
2431(exactly)S
2818(the)S
3003(same)S
3289(name)S
3588(as)S
3726(the)S
3911(operator,)S
4382(and)S
4593(is)S
(placed)316 4711 A
5064(in)S
5195(a)S
7220 V
708(separate)S
1136(file)S
1329(with)S
1575(the)S
1753(name)S
2045(<operator-id>.c.)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(77)S
7920 V
EP
%%Page: 78 84
BP
/slant 0 def
/height 0 def
860 V
12 R
708(The)S
935(function)S
1377(is)S
(written)345 1497 A
1881(in)S
2014(the)S
2201(flavor)S
2530(of)S
2670(C)S
2789(selected)S
3219(by)S
3378(generator)S
(``Language'',)670 3875 A
4584(or)S
4724(the)S
4912(default)S
1000 V
(language)436 708 A
1174(if)S
(none)234 1279 A
1543(was)S
1762(selected.)S
1176 V
708(AIL)S
945(assumes)S
1382(that)S
1598(operators)S
2084(that)S
2301(do)S
2456(not)S
2645(have)S
2908(the)S
3091(special)S
3463(first)S
3695(argument)S
4187(``*'')S
(will)190 4446 A
4671(be)S
4820(provided)S
1316 V
708(by)S
872(the)S
1064(programmer.)S
1767(A)S
1899(request)S
2293(to)S
2431(write)S
2726(a)S
2824(complete)S
3312(client)S
3626(stub)S
(cannot)322 3871 A
4237(be)S
4395(satisfied)S
4843(anyway,)S
1456 V
(because)383 708 A
1127(AIL)S
1366(would)S
1704(not)S
(know)268 1894 A
2199(which)S
2532(port)S
2764(to)S
2895(use.)S
3153(Instead,)S
3570(it)S
(will)190 3675 A
3902(generate)S
4350(a)S
4441(dummy)S
4846(function)S
1596 V
708(that)S
923(has)S
1117(the)S
1298(parameter)S
1817(list)S
1999(AIL)S
2235(expects)S
2631(it)S
2732(to)S
2859(have.)S
3180(It)S
3288(returns)S
3657(an)S
3803(error)S
4072(code)S
4332(right)S
4593(away.)S
4941(In)S
5074(this)S
1736 V
708(case)S
947(the)S
1125(file)S
1318(is)S
1429(called)S
1749(<operator-id>.c.dummy.)S
1912 V
12 I
708(See)S
906(also)S
1137(:)S
12 R
1218(complete)S
12 Y1
1662(3)S
12 R
1722(stubs,)S
2030(Get)S
12 Y1
2206(3)S
12 R
2266(mem,)S
2568(Idempotent,)S
(Language,)506 3179 A
3715(Monitor)S
12 Y1
4111(3)S
12 R
4171(client.)S
2192 V
12 B
708(Generator)S
1276(command)S
2368 V
12 R
708(This)S
973(generator)S
1481(generates)S
1989(one)S
2213(or)S
2364(more)S
2663(stand)S
2968(alone)S
3281(programs)S
3789(that)S
4022(do)S
4193(one)S
4418(transaction.)S
5061(The)S
2508 V
708(arguments)S
1259(to)S
1400(the)S
1595(generator)S
2100(are)S
2295(the)S
2489(names)S
2844(of)S
2991(the)S
3185(operators)S
3682(for)S
3870(which)S
4212(a)S
4312(program)S
(should)321 4768 A
5135(be)S
2648 V
708(created.)S
1179(If)S
(invoked)388 1321 A
(without)370 1769 A
2199(arguments,)S
2793(AIL)S
(will)190 3056 A
3306(generate)S
3777(a)S
3891(program)S
4361(for)S
(each)222 4563 A
4845(operator)S
2788 V
708(defined)S
1102(in)S
1227(the)S
1406(class.)S
1733(Each)S
2005(program)S
2445(appears)S
2845(in)S
2969(a)S
3053(separate)S
3481(file,)S
3704(called)S
4024(cmd)S
12 Y1
4232(3)S
12 R
4292(<operator-name>.c,)S
2928 V
708(e.g.,)S
12 I
942(cmd)S
12 Y1
1144(3)S
12 I
1204(op.c)S
12 R
1448(for)S
1620(operator)S
12 I
2054(op)S
12 R
2184(.)S
3104 V
708(The)S
948(program,)S
1440(when)S
1755(compiled)S
2258(and)S
2485(executed,)S
2998(expects)S
3414(the)S
3615(in-parameters)S
4336(of)S
4490(the)S
4691(operator)S
5148(as)S
3244 V
708(command)S
1278(line)S
1554(arguments.)S
2212(The)S
2494(first)S
2785(argument)S
3336(is)S
(converted)477 3511 A
4082(to)S
4270(a)S
(capability)478 4417 A
4988(using)S
3384 V
12 I
708(name)S
12 Y1
970(3)S
12 I
1030(lookup)S
12 R
1368(\(L\).)S
1622(The)S
1848(out-parameters)S
2614(and)S
2826(their)S
3088(values)S
3436(are)S
3624(printed)S
4006(on)S
12 I
(stdout)295 4165 A
12 R
4470(,)S
4539(except)S
4894(for)S
5075(any)S
3524 V
708(out)S
(capabilities.)583 898 A
1547(These)S
1872(are)S
2057(registered)S
2572(at)S
2696(the)S
2880(directory)S
3354(server)S
3687(using)S
3984(a)S
4074(path)S
4318(from)S
4590(the)S
4773(command)S
3664 V
708(line.)S
1000(Any)S
1258(previous)S
1724(entry)S
2023(with)S
2289(the)S
2487(same)S
2787(name)S
3100(is)S
3232(deleted,)S
3663(but)S
3868(not)S
4073(destroyed.)S
4654(If)S
4787(any)S
5012(error)S
3804 V
708(occurs,)S
1121(the)S
1336(program)S
1813(prints)S
2156(the)S
2371(most)S
2673(descriptive)S
3272(message)S
3749(possible)S
4212(given)S
4547(AIL's)S
4905(limited)S
3944 V
(knowledge)530 708 A
1280(of)S
1423(what)S
1701(it)S
1811(is)S
1934(doing,)S
2281(and)S
2498(exits)S
2770(with)S
3029(status)S
3348(1.)S
3511(Hint:)S
3804(the)S
3995(first)S
4235(error)S
4515(to)S
4652(check)S
4977(is)S
5101(the)S
4084 V
708(number)S
1114(of)S
1252(parameters,)S
1852(which)S
2185(is)S
2303(fixed.)S
2649(Since)S
2955(these)S
3241(programs)S
3735(take)S
3974(at)S
4098(least)S
4357(one)S
4567(argument)S
5060(\(the)S
4224 V
708(object)S
(capability\),)549 1034 A
(invoking)428 1613 A
2071(it)S
(without)370 2169 A
2569(arguments)S
3103(makes)S
3442(it)S
3540(print)S
3799(a)S
3883(usage)S
4188(string.)S
4400 V
708(Currently,)S
1249(only)S
1510(integers,)S
(capabilities)553 1971 A
2571(and)S
2792(character)S
3286(arrays)S
3631(are)S
(accepted)424 3828 A
4300(as)S
4449(arguments.)S
5061(The)S
4540 V
708(way)S
957(the)S
1152(latter)S
1450(are)S
1645(handled)S
2073(is)S
2200(a)S
2300(genuine)S
(bug,)210 2728 A
2984(which)S
(will)190 3326 A
3562(be)S
(around)335 3722 A
(until)222 4103 A
4371(AIL)S
(knows)315 4620 A
(about)268 4981 A
4680 V
708(strings.)S
1121(By)S
1291(then,)S
1559(the)S
(support)362 1737 A
2129(for)S
2301(character)S
2777(arrays)S
(will)190 3104 A
3324(probably)S
3783(disappear.)S
4856 V
12 I
708(See)S
906(also)S
1137(:)S
12 R
(Language,)506 1218 A
1754(Output)S
12 Y1
2090(3)S
12 R
2150(directory.)S
5136 V
12 B
708(Generator)S
1276(complete)S
12 Y1
1741(3)S
12 B
1801(interface)S
5312 V
12 R
708(The)S
940(generator)S
12 I
1442(client)S
12 Y1
1712(3)S
12 I
1772(interface)S
12 R
2257(only)S
2515(generates)S
3017(the)S
3209(header)S
3576(file)S
3783(for)S
3969(one)S
4187(class.)S
4527(In)S
4672(this)S
4892(file)S
5100(are)S
5452 V
708(#includes)S
1220(for)S
1411(inherited)S
1891(classes,)S
2307(which)S
2652(are)S
2850(not)S
3053(automatically)S
3761(generated)S
4280(by)S
12 I
4448(client)S
12 Y1
4718(3)S
12 I
4778(interface)S
12 R
5219(.)S
5592 V
708(This)S
1005(generator)S
1545(generates)S
2085(the)S
2316(header)S
2722(files)S
3015(of)S
3199(the)S
3430(effectively)S
4033(inherited)S
4547(classes.)S
5027(Like)S
5732 V
12 I
708(client)S
12 Y1
978(3)S
12 I
1038(interface)S
12 R
1479(,)S
1539(it)S
1637(does)S
1888(not)S
(accept)310 2072 A
2412(arguments.)S
5908 V
12 I
708(See)S
906(also)S
1137(:)S
12 R
1218(client)S
12 Y1
1488(3)S
12 R
(interface,)456 1548 A
(Language.)506 2034 A
6188 V
12 B
708(Generator)S
1276(complete)S
12 Y1
1741(3)S
12 B
1801(stubs)S
6364 V
12 R
708(This)S
963(generator)S
1461(emits)S
1765(the)S
1954(same)S
2244(files)S
2495(as)S
12 I
2637(client)S
12 Y1
2907(3)S
12 I
2967(stubs)S
12 R
3225(,)S
3296(but)S
3491(for)S
3674(all)S
3837(the)S
4026(inherited)S
4498(classes,)S
4906(not)S
5101(the)S
6504 V
708(class)S
987(self.)S
1266(It)S
1384(does)S
1648(not)S
(accept)310 1845 A
2198(arguments.)S
2805(Note)S
3084(that)S
3309(a)S
3406(class)S
3685(might)S
4010(inherit)S
4370(more)S
4662(classes)S
5041(than)S
6644 V
708(just)S
928(the)S
1121(ones)S
1387(listed)S
1695(in)S
1834(its)S
1994(inheritance)S
2578(list,)S
2802(since)S
3096(the)S
3289(classes)S
3671(mentioned)S
4226(might)S
4553(in)S
4692(turn)S
4932(inherit)S
6784 V
708(classes,)S
1105(which)S
1431(are)S
1610(then)S
(implicitly)472 1848 A
2350(inherited)S
2811(by)S
2961(any)S
3165(class)S
3431(that)S
3643(inherits)S
4037(it.)S
6960 V
12 I
708(See)S
906(also)S
1137(:)S
12 R
1218(client)S
12 Y1
1488(3)S
12 R
1548(stubs,)S
1856(Idempotent,)S
(Language,)506 2467 A
3003(Monitor)S
12 Y1
3399(3)S
12 R
3459(client.)S
7700 V
708(78)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 79 85
BP
/slant 0 def
/height 0 def
860 V
12 B
708(Generator)S
1276(contents)S
1036 V
12 R
708(Lists)S
974(the)S
1152(contents)S
1585(of)S
1716(a)S
1800(class)S
2066(on)S
12 I
(stdout)295 2216 A
12 R
2521(.)S
1316 V
12 B
708(Generator)S
1276(define)S
1492 V
12 R
708(This)S
969(generator)S
1473(creates)S
1857(a)S
1957(header)S
2326(file)S
2535(that)S
2763(defines)S
3159(the)S
12 I
3353(h)S
12 Y1
3413(3)S
12 I
(command)470 3473 A
12 R
3999(values)S
4354(it)S
4469(picked)S
4838(for)S
(each)222 5027 A
1632 V
708(operator.)S
1214(To)S
1390(mimic)S
1742(C)S
1864(programmers,)S
2582(it)S
2692(folds)S
2976(the)S
3166(names)S
3517(of)S
3660(the)S
3849(operators)S
4341(to)S
(uppercase.)514 4476 A
5061(The)S
1772 V
708(header)S
1061(file)S
1254(is)S
1365(called)S
12 I
1685(<class>)S
12 Y1
2091(3)S
12 I
2151(def.h.)S
2052 V
12 B
708(Generator)S
1276(flat)S
12 Y1
1452(3)S
12 B
1512(interface)S
2228 V
12 R
708(This)S
982(generator)S
1499(creates)S
1896(a)S
2009(class)S
2304(specific)S
2741(header)S
3123(file,)S
3375(like)S
12 I
3617(client)S
12 Y1
3887(3)S
12 I
3947(interface)S
12 R
4388(.)S
4508(No)S
4716(parameters)S
2368 V
708(allowed.)S
1188(Unlike)S
12 I
1554(client)S
12 Y1
1824(3)S
12 I
1884(interface)S
12 R
2325(,)S
2391(it)S
2495(generates)S
2989(the)S
(definitions)518 3173 A
3726(of)S
3862(the)S
4045(classes)S
4417(that)S
4634(are)S
4818(inherited)S
2508 V
(explicitly,)488 708 A
1227(instead)S
1601(of)S
1734(including)S
2222(the)S
2402(associated)S
2932(header)S
3287(files.)S
3589(It)S
3696(#includes)S
4191(the)S
4371(header)S
4726(files)S
4968(of)S
5101(the)S
2648 V
(implicitly)472 708 A
1220(inherited)S
1691(classes.)S
2128(For)S
(each)222 2335 A
(explicitly)458 2596 A
3093(inherited)S
3563(class,)S
3868(it)S
3975(includes)S
4417(the)S
4604(files)S
4853(listed)S
5155(in)S
2788 V
708(the)S
888(include)S
1276(line)S
1490(of)S
1623(the)S
1803(class)S
(definition.)501 2071 A
2634(Then)S
2914(it)S
3014(#defines)S
3456(the)S
3636(constants,)S
4148(declares)S
4578(the)S
4758(types,)S
5075(and)S
2928 V
708(declares)S
1136(the)S
1314(operators.)S
1855(These)S
2174(declarations)S
(will)190 2790 A
3010(be)S
3154(prototypes)S
3694(if)S
3799(the)S
(language)436 3977 A
4443(is)S
12 I
4554(ansi)S
12 R
4765(.)S
3104 V
708(To)S
878(prevent)S
(multiple)404 1277 A
1717(inclusions,)S
2273(the)S
2457(file)S
2656(tests)S
2908(and)S
3118(defines)S
3504(a)S
3594(preprocessor)S
4249(symbol)S
4641(whose)S
4987(name)S
3244 V
708(is)S
837(a)S
939(derivative)S
1472(of)S
1621(the)S
1817(name)S
2127(of)S
2276(the)S
2471(class.)S
2814(For)S
3029(example,)S
3516(the)S
3711(client)S
(interface)426 4028 A
4501(for)S
4690(class)S
4973(foo)S
12 R-1
5181(-)S
3384 V
12 R
708(which)S
1034(is)S
1145(a)S
1229(C)S
1339(header)S
1692(file)S
1885(called)S
12 I
2205(foo.h)S
12 R-1
2489(-)S
12 R
(will)190 2587 A
2807(define)S
12 Y1
3140(33)S
12 C
(FOO)219 3260 A
12 Y1
3479(3)S
12 C
3539(H)S
12 Y1
3612(33)S
12 R
3742(.)S
3560 V
12 I
708(See)S
906(also)S
1137(:)S
12 R
(Language,)506 1218 A
1754(client)S
12 Y1
2024(3)S
12 R
(interface,)456 2084 A
2570(Output)S
12 Y1
2906(3)S
12 R
2966(directory.)S
3840 V
12 B
708(Generator)S
1276(feature)S
4016 V
12 R
708(This)S
959(generator)S
1453(generates)S
1947(several)S
2327(miscellaneous)S
3050(things.)S
3442(They)S
3727(are)S
3913(put)S
4104(together)S
4538(in)S
4669(a)S
4760(single)S
5086(file)S
4156 V
708(called)S
12 I
1028(<class-id>)S
12 Y1
1569(3)S
12 I
1629(feature.c)S
12 R
2066(.)S
4332 V
708(The)S
933(argument)S
12 I
1427(def)S
12 Y1
1575(3)S
12 I
1635(inh)S
12 R
1836(tells)S
2076(it)S
2181(to)S
2312(emit)S
2565(the)S
2750(declaration)S
3327(and)S
(initialization)614 3539 A
4191(of)S
4330(a)S
4422(character)S
4906(pointer)S
4472 V
708(array)S
1025(called)S
12 I
1382(def)S
12 Y1
1530(3)S
12 I
1590(inh)S
12 R
1754(.)S
1881(These)S
2237(pointers)S
2694(point)S
3009(to)S
3169(the)S
3383(names)S
3758(of)S
3925(the)S
4139(classes)S
4542(in)S
4702(the)S
12 I
4916(inherit)S
4612 V
12 R
708(statement.)S
1268(The)S
1491(last)S
1695(pointer)S
2073(in)S
2202(the)S
2385(array)S
2670(is)S
(initialized)486 2786 A
3308(to)S
3438(null.)S
3722(The)S
3946(argument)S
12 I
4439(eff)S
12 Y1
4561(3)S
12 I
4621(inh)S
12 R
4821(creates)S
5195(a)S
4752 V
708(similar)S
1091(array)S
1386(called)S
12 I
1721(eff)S
12 Y1
1843(3)S
12 I
1903(inh)S
12 R
2067(,)S
2142(containing)S
2697(the)S
2890(names)S
3244(of)S
3389(the)S
3581(effectively)S
4145(inherited)S
4620(classes.)S
5061(The)S
4892 V
708(first)S
935(class)S
1201(listed)S
1494(is)S
1605(the)S
1783(superclass.)S
5172 V
12 B
708(Generator)S
1276(Get)S
12 Y1
1465(3)S
12 B
1525(mem)S
5348 V
12 R
708(For)S
923(clients)S
1287(stubs,)S
1612(AIL)S
1862(by)S
2029(default)S
2413(does)S
2681(not)S
2882(generate)S
3340(code)S
3615(containing)S
4172(calls)S
4442(to)S
4583(either)S
12 I
4907(alloca)S
12 R
5219(,)S
5488 V
12 I
708(malloc)S
12 R
1082(or)S
12 I
1217(free)S
12 R
1416(.)S
1510(Specify)S
12 I
1914(Get)S
12 Y1
2090(3)S
12 I
2150(mem\(malloc\))S
12 R
2836(to)S
2964(let)S
3120(the)S
3302(client)S
3606(generators)S
4145(use)S
12 I
4340(malloc)S
12 R
4714(and)S
12 I
4922(free)S
12 R
5155(to)S
5628 V
708(obtain)S
1043(and)S
1250(release)S
(dynamic)416 1621 A
2070(storage.)S
2513(Specify)S
12 I
2916(Get)S
12 Y1
3092(3)S
12 I
3152(mem\(alloca\))S
12 R
3809(to)S
3936(let)S
4091(them)S
4366(use)S
12 I
4560(alloca)S
12 R
4872(.)S
4966(There)S
5768 V
708(is)S
819(an)S
963(implicit)S
12 I
1371(Get)S
12 Y1
1547(3)S
12 I
1607(mem\(off\))S
12 R
2087(before)S
2427(any)S
2631(generator)S
3119(is)S
3230(executed)S
3690(within)S
4030(a)S
4114(generate)S
4555(clause.)S
6048 V
12 B
708(Generator)S
1276(Idempotent)S
6224 V
12 R
708(Usage:)S
6424 V
11 C
(Idempotent\()737 1068 A
([retry)402 1872 A
2341(=)S
(expr,)335 2475 A
2877(])S
(operators)603 3011 A
3681(\);)S
6660 V
12 R
708(If)S
828(an)S
980(operator)S
1422(is)S
1542(declared)S
1992(to)S
2125(be)S
2278(idempotent,)S
2891(AIL)S
(will)190 3133 A
3362(generate)S
3812(client)S
4121(stubs)S
4408(that)S
4629(retry)S
4898(<expr>)S
6800 V
708(times)S
1006(if)S
12 I
1116(trans)S
12 R
1409(returns)S
1781(RPC)S
12 Y1
2008(3)S
12 R
2068(FAILURE.)S
2675(The)S
2898(current)S
3277(default)S
3649(for)S
12 I
3826(retry)S
12 R
4107(is)S
4222(five.)S
4505(Note)S
4775(that)S
12 I
4991(trans)S
6940 V
12 R
708(is)S
819(called)S
1139(at)S
1257(most)S
12 I
1522(retry)S
12 R
1798(+)S
1896(1)S
1986(times.)S
7116 V
708(Please)S
1062(also)S
1301(note)S
1553(that)S
1779(the)S
1971(return)S
2305(value)S
2611(of)S
2756(a)S
2854(stub)S
3099(generated)S
3614(like)S
3840(this)S
4059(is)S
4184(the)S
4377(value)S
4684(for)S
4871(the)S
12 I
5064(last)S
7256 V
12 R
708(attempt.)S
1171(This)S
1424(means)S
1771(that)S
12 C
(RPC)219 1991 A
12 Y1
2210(3)S
12 C
(NOTFOUND)584 2270 A
12 R
2892(does)S
3151(not)S
3343(guarantee)S
3852(that)S
4072(the)S
4258(operation)S
4753(was)S
4980(never)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(79)S
7920 V
EP
%%Page: 80 86
BP
/slant 0 def
/height 0 def
860 V
12 R
708(executed.)S
1036 V
12 I
708(See)S
906(also)S
1137(:)S
12 R
1218(client)S
12 Y1
1488(3)S
12 R
1548(stubs.)S
1316 V
12 B
708(Generator)S
1276(impl)S
12 Y1
1512(3)S
12 B
1572(dummy)S
1492 V
12 R
708(This)S
969(generator)S
1473(makes)S
1828(dummy)S
2243(implementation)S
3050(routines)S
3487(for)S
3676(all)S
3845(the)S
4040(operators)S
4538(that)S
(should)321 4767 A
5135(be)S
1632 V
708(implemented)S
1370(by)S
1520(a)S
1604(server)S
1931(for)S
2103(a)S
2187(class.)S
2513(The)S
2731(output)S
3069(is)S
3180(stored)S
3506(in)S
3630(a)S
3714(file)S
3907(called)S
12 I
4227(<class-id>.dummy)S
12 R
5158(.)S
1808 V
708(If)S
828(the)S
(language)436 1014 A
1488(is)S
1607(set)S
1780(to)S
12 I
1912(ansi)S
12 R
2123(,)S
2191(AIL)S
(will)190 2432 A
2660(generate)S
3109(a)S
3201(prototype)S
3702(style)S
3969(function,)S
4441(otherwise)S
4952(it)S
(will)190 5059 A
1948 V
708(generate)S
1178(an)S
1351(old-fashioned)S
2075(K&R)S
2395(style)S
2682(function.)S
3203(The)S
(body)240 3449 A
3747(contains)S
4208(the)S
4414(statement)S
12 I
4937(return)S
2088 V
12 C
(STD)219 708 A
12 Y1
927(3)S
12 C
(ARGBAD)438 987 A
12 R
1425(.)S
2264 V
12 I
708(See)S
906(also)S
1137(:)S
12 R
1218(Pass)S
12 Y1
1433(3)S
12 R
1493(acttype,)S
(Language.)506 1903 A
2544 V
12 B
708(Generator)S
1276(Impl)S
12 Y1
1525(3)S
12 B
1585(repl)S
12 Y1
1794(3)S
12 B
1854(buf)S
2720 V
12 R
708(This)S
1007(generator)S
1549(takes)S
1882(several)S
2311(operator)S
2800(names)S
3194(as)S
3380(arguments,)S
3999(and)S
4258(tells)S
4546(AIL)S
4834(that)S
5101(the)S
2860 V
708(implementations)S
1583(for)S
1793(them)S
(supplies)396 2103 A
2567(the)S
2783(buffer)S
3147(for)S
3356(the)S
3571(reply)S
3887(message.)S
4424(This)S
4706(is)S
(done)234 4854 A
5155(to)S
3000 V
708(implement,)S
1286(for)S
1458(example,)S
1928(the)S
2106(Bullet)S
2432(Server's)S
2867(read)S
3106(request)S
3486(efficiently.)S
4077(An)S
4256(operator)S
4691(can)S
4890(only)S
5135(be)S
3140 V
708(implemented)S
1380(this)S
1595(way)S
1837(if)S
1952(there)S
2235(is)S
2356(exactly)S
2746(one)S
2960(parameter)S
3486(in)S
3620(the)S
3808(reply)S
4096(buffer.)S
4492(There)S
4814(might)S
5135(be)S
3280 V
708(more)S
990(in)S
1117(the)S
1298(header)S
1654(of)S
1788(course.)S
2197(AIL)S
2433(assumes)S
2869(that)S
3084(no)S
3237(marshaling)S
3808(of)S
3942(this)S
4150(particular)S
4649(parameter)S
5168(is)S
3420 V
708(needed.)S
1141(Instead)S
1522(of)S
1654(passing)S
2047(a)S
2132(pointer)S
2506(in)S
2630(the)S
2808(buffer)S
3135(as)S
3266(usual,)S
3581(the)S
3759(server)S
(loop)214 4086 A
(will)190 4330 A
4550(pass)S
4788(two)S
5000(other)S
3560 V
708(parameters.)S
1344(The)S
1575(first)S
1815(one)S
2032(is)S
2156(a)S
2253(var)S
2451(pointer)S
2837(to)S
12 C
(char)292 2974 A
12 R
3310(\(a)S
3449(char)S
3702(**)S
3866(in)S
4004(C\),)S
4199(which)S
4539(must)S
4818(be)S
4976(set)S
5155(to)S
3700 V
708(point)S
999(to)S
1136(the)S
1327(buffer.)S
1726(The)S
1956(other)S
2247(one)S
2463(is)S
2586(a)S
12 C
(var)219 2682 A
(long)292 2986 A
12 R
3320(\(hence)S
(long)214 3685 A
3941(*)S
4043(in)S
4179(C\),)S
4372(and)S
4588(must)S
4865(indicate)S
3840 V
708(how)S
964(big)S
1166(this)S
1389(buffer)S
1734(is.)S
1923(Obviously,)S
2504(this)S
2727(affects)S
3100(both)S
3362(server)S
(loop)214 3707 A
3969(and)S
4192(implementation.)S
5061(The)S
3980 V
708(client)S
1008(stubs)S
1286(are)S
1465(not)S
1649(affected.)S
4156 V
12 I
708(See)S
906(also)S
1137(:)S
12 R
1218(server,)S
1575(impl)S
12 Y1
1797(3)S
12 R
1857(dummy.)S
4436 V
12 B
708(Generator)S
1276(Language)S
4612 V
12 R
708(This)S
960(generator)S
1455(tells)S
1695(AIL)S
1935(which)S
(language)436 2268 A
(should)321 2741 A
3099(be)S
3250(generated.)S
3818(It)S
3930(takes)S
4216(one)S
4428(argument,)S
4953(which)S
4752 V
708(stands)S
1064(for)S
1260(the)S
(language.)466 1462 A
2012(Currently,)S
2560(it)S
(knows)315 2682 A
(about)268 3051 A
12 I
(traditional)517 3372 A
12 R
3899(,)S
12 I
3982(ansi)S
12 R
4246(and)S
12 I
4473(lint)S
12 R
4645(.)S
4758(All)S
4967(are)S
5169(C)S
4892 V
708(dialects.)S
1169(The)S
1387(default)S
1754(is)S
12 I
(traditional)517 1865 A
12 R
2392(.)S
5068 V
708(Not)S
920(all)S
1072(generators)S
1607(actually)S
2021(obey)S
2285(this)S
(setting,)353 2490 A
(because)383 2873 A
3286(it)S
3384(does)S
3635(not)S
3819(make)S
4111(sense)S
4403(for)S
4575(some.)S
5348 V
12 B
708(Generator)S
1276(marsh)S
12 Y1
1605(3)S
12 B
1665(funcs)S
5524 V
12 R
708(This)S
977(function)S
1434(generates)S
1946(the)S
2148(marshaling)S
2740(and)S
2969(unmarshaling)S
3682(routines)S
4127(for)S
4324(a)S
4433(typedef)S
4851(type.)S
5174(It)S
5664 V
708(expects)S
1108(one)S
1319(argument:)S
1847(the)S
2032(name)S
2330(of)S
2467(the)S
2651(typedef.)S
3110(The)S
3334(names)S
3679(of)S
3816(the)S
4000(functions)S
4486(must)S
4757(have)S
5021(been)S
5804 V
708(specified)S
1176(with)S
1422(a)S
12 I
1506(marshal)S
12 R
1942(statement.)S
5980 V
12 I
708(See)S
906(also)S
1137(:)S
12 R
(Language.)506 1218 A
6260 V
12 B
708(Generator)S
1276(Monitor)S
12 Y1
1706(3)S
12 B
1766(client)S
6436 V
12 R
708(With)S
984(this)S
1193(generator)S
1685(one)S
1893(can)S
(convince)436 2095 A
2565(AIL)S
2802(to)S
2930(include)S
3320(monitor)S
3737(code)S
3999(in)S
4127(the)S
4309(named)S
4666(client)S
4971(stubs.)S
6576 V
708(If)S
820(no)S
970(operators)S
1451(are)S
1630(mentioned,)S
2200(all)S
2352(client)S
12 Y1
2622(3)S
12 R
2682(stubs)S
(will)190 2960 A
3180(be)S
3324(monitored.)S
6752 V
12 I
708(See)S
906(also)S
1137(:)S
12 R
1218(client)S
12 Y1
1488(3)S
12 R
1548(stubs.)S
7700 V
708(80)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 81 87
BP
/slant 0 def
/height 0 def
860 V
12 B
708(Generator)S
1276(ordinal)S
1036 V
12 R
708(For)S
915(tagged)S
1276(enumerated)S
1880(types,)S
2204(AIL)S
2447(can)S
2655(generate)S
(conversion)530 3106 A
3676(routines)S
4106(from)S
4382(enumerated)S
4987(value)S
1176 V
708(to)S
842(enumeration)S
1487(identifier)S
1973(and)S
2187(back.)S
2515(The)S
2742(identifiers)S
3274(are)S
3462(ordinary,)S
3941(statically)S
4419(allocated)S
4896(strings.)S
1316 V
708(The)S
938(table)S
1216(of)S
1359(strings)S
1725(is)S
1849(called)S
12 I
2182(tab)S
12 Y1
2336(3)S
12 I
2396(<tag>)S
12 R
2724(.)S
2827(The)S
(conversion)530 3058 A
3631(routine)S
4017(from)S
4296(enumerated)S
4904(type)S
5155(to)S
1456 V
708(string)S
1033(is)S
1163(called)S
12 I
1502(str)S
12 Y1
1630(3)S
12 I
1690(<tag>)S
12 R
2018(,)S
2097(and)S
2320(the)S
(conversion)530 2516 A
3094(back)S
3370(is)S
3499(called)S
12 I
3837(ord)S
12 Y1
4004(3)S
12 I
4064(<tag>)S
12 R
4392(.)S
4500(They)S
4796(are)S
4993(to)S
5135(be)S
1596 V
(found)281 708 A
1019(in)S
1143(the)S
1322(file)S
12 I
1516(conv)S
12 Y1
1744(3)S
12 I
1804(<tag>.c)S
12 R
2216(.)S
2307(The)S
2526(type)S
2765(of)S
12 I
2897(tab)S
12 Y1
3051(3)S
12 I
3111(<tag>)S
12 R
3470(is)S
(explicitly)458 3582 A
4071(left)S
(undocumented,)740 4265 A
5036(as)S
5168(is)S
1736 V
708(the)S
886(behavior)S
1339(of)S
1470(the)S
12 I
1648(ord)S
12 Y1
1815(3)S
12 I
1875(<tag>)S
12 R
2233(function)S
2666(when)S
(invoked)388 2958 A
3376(with)S
3622(an)S
3766(invalid)S
4132(parameter.)S
1912 V
708(The)S
927(functions)S
1408(are)S
(written)345 1588 A
1964(in)S
2089(the)S
2268(flavor)S
2589(of)S
2721(C)S
2832(selected)S
3255(by)S
3407(generator)S
(``Language'',)670 3897 A
4599(or)S
4732(the)S
4912(default)S
2052 V
(language)436 708 A
1174(if)S
(none)234 1279 A
1543(was)S
1762(selected.)S
2228 V
12 I
708(See)S
906(also)S
1137(:)S
12 R
(Language.)506 1218 A
2508 V
12 B
708(Generator)S
1276(output)S
12 Y1
1619(3)S
12 B
1679(files)S
2684 V
12 R
708(This)S
959(generator)S
1453(prints)S
1765(a)S
1855(list)S
2040(of)S
2177(file)S
2377(names)S
2723(generated)S
3231(thus)S
3469(far.)S
3702(It)S
3814(takes)S
4100(one)S
4311(argument,)S
4835(which)S
5168(is)S
2824 V
708(considered)S
1262(to)S
1386(be)S
1530(the)S
1708(name)S
2000(of)S
2131(the)S
2309(file)S
2502(where)S
2829(it)S
(should)321 2927 A
3278(print)S
3537(its)S
3682(list.)S
3104 V
12 B
708(Generator)S
1276(Output)S
12 Y1
1653(3)S
12 B
(directory)478 1713 A
3280 V
12 R
708(This)S
955(generator)S
1445(sets)S
1659(the)S
1839(current)S
2215(output)S
2555(directory)S
3026(for)S
3201(this)S
3409(generate)S
3853(clause.)S
4249(The)S
4470(output)S
4811(directory)S
3420 V
708(is)S
819(reset)S
1079(to)S
1203(its)S
1348(default,)S
1745(or)S
1876(the)S
2054(command)S
2560(line)S
2772(value)S
3064(for)S
(each)222 3236 A
3488(generate)S
3929(clause.)S
3700 V
12 B
708(Generator)S
1276(Pass)S
12 Y1
1504(3)S
12 B
1564(acttype)S
3876 V
12 R
708(This)S
964(changes)S
1394(the)S
1584(output)S
1934(of)S
2077(a)S
2173(generator)S
2673(server.)S
3072(Before)S
3444(it)S
3554(may)S
3804(be)S
3960(called,)S
4322(an)S
12 I
4478(Act)S
12 Y1
4640(3)S
12 I
4700(deact)S
12 R
5014(must)S
4016 V
708(have)S
972(been)S
1236(used.)S
1553(It)S
1664(makes)S
2009(the)S
2193(server)S
2526(pass)S
2770(to)S
2900(the)S
3084(implementation)S
3880(the)S
4064(value)S
4362(set)S
4533(by)S
4688(the)S
4871(activate)S
4156 V
708(function.)S
4332 V
708(The)S
945(arguments)S
1498(are)S
1696(the)S
1893(names)S
2251(of)S
2401(the)S
2598(operators)S
3098(to)S
3241(which)S
3586(the)S
3783(activate)S
4210(return)S
4549(value)S
4860(is)S
4991(to)S
5135(be)S
4472 V
708(passed.)S
1120(If)S
1232(no)S
1382(arguments)S
1916(are)S
2095(passed,)S
2477(the)S
2655(value)S
2947(is)S
3058(passed)S
3410(to)S
3534(all)S
3686(implementations.)S
4648 V
12 I
708(See)S
906(also)S
1137(:)S
12 R
1218(Act)S
12 Y1
1394(3)S
12 R
(deact,)286 1454 A
1770(server.)S
4928 V
12 B
708(Generator)S
1276(Post)S
12 Y1
1498(3)S
12 B
1558(deact)S
5104 V
12 R
708(Before)S
1074(this)S
1285(generator)S
1779(is)S
1896(called,)S
12 I
2252(Act)S
12 Y1
2414(3)S
12 I
2474(deact)S
12 R
2782(must)S
3053(have)S
3318(been)S
3583(be)S
3734(used.)S
4052(There)S
4372(are)S
4558(no)S
4715(arguments.)S
5244 V
708(Normally,)S
1260(the)S
(deactivate)492 1465 A
2014(function)S
2474(is)S
2612(called)S
2959(before)S
3326(the)S
3530(reply)S
3835(is)S
3972(sent)S
4223(to)S
4373(the)S
4577(client.)S
4963(If)S
5101(the)S
5384 V
(deactivate)492 708 A
1248(function)S
1699(basically)S
2178(unlocks)S
2601(internal)S
3020(data)S
3270(structures,)S
3821(this)S
4045(is)S
4175(what)S
(you)180 4460 A
4689(want.)S
5034(This)S
5524 V
708(generator)S
1205(makes)S
12 I
1553(server)S
12 R
1905(call)S
2120(the)S
(deactivate)492 2307 A
2838(function)S
12 I
3279(after)S
12 R
3556(the)S
3742(call)S
3956(to)S
12 I
4088(putrep)S
12 R
4413(.)S
4511(This)S
4764(is)S
(done)234 4883 A
5155(to)S
5664 V
(facilitate)427 708 A
1165(single)S
1484(threaded)S
1931(servers)S
2305(and)S
2509(to)S
2633(be)S
2777(able)S
3009(to)S
3133(call)S
12 I
3339(thread)S
12 Y1
3654(3)S
12 I
3714(exit)S
12 R
3930(at)S
4048(a)S
4132(reasonable)S
4680(point.)S
5944 V
12 B
708(Generator)S
1276(type)S
12 Y1
1498(3)S
12 B
1558(list)S
6120 V
12 R
708(This)S
980(prints)S
1313(on)S
12 I
(stdout)295 1490 A
12 R
1852(a)S
1963(list)S
2169(of)S
2327(all)S
(known)328 2506 A
2892(types,)S
3235(together)S
3690(with)S
3964(the)S
4170(address)S
4591(its)S
4764(descriptor)S
6260 V
708(happens)S
1133(to)S
1257(have)S
1515(within)S
1855(AIL.)S
6540 V
12 B
708(Generator)S
1276(server)S
6716 V
12 R
708(Used)S
994(to)S
1125(create)S
1453(server)S
1787(main)S
(loops.)291 2066 A
2424(The)S
2649(server)S
(loop)214 2983 A
3234(is)S
3352(put)S
3543(in)S
3674(the)S
3859(file)S
12 I
4059(ml)S
12 Y1
4181(3)S
12 I
4241(<class-id>.c)S
12 R
4876(.)S
4974(Some)S
6856 V
708(aspects)S
1088(of)S
1219(the)S
1397(server)S
(loop)214 1724 A
1968(can)S
2166(be)S
2310(modified)S
2777(by)S
2927(passing)S
3319(optional)S
3745(parameters.)S
7032 V
958(Specifying)S
12 I
1542(rights)S
12 Y1
1824(3)S
12 I
(check)276 1884 A
12 R
2231(has)S
2453(the)S
2662(effect)S
3001(that)S
3244(the)S
3453(server)S
(will)190 3811 A
4062(verify)S
4413(that)S
4656(a)S
(capability)478 4771 A
7172 V
958(contains)S
1394(the)S
1575(appropriate)S
2160(rights)S
2468(for)S
2642(an)S
2788(operation)S
3277(before)S
(calling)330 3619 A
3981(the)S
4161(implementation.)S
5013(Note)S
7312 V
958(that)S
1172(the)S
1352(generated)S
1855(code)S
2115(is)S
2228(insufficient)S
2813(to)S
2939(make)S
3233(a)S
3319(server)S
3648(secure.)S
4050(The)S
(capability)478 4270 A
(should)321 4781 A
5135(be)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(81)S
7920 V
EP
%%Page: 82 88
BP
/slant 0 def
/height 0 def
860 V
12 R
958(checked)S
1412(for)S
1612(the)S
1818(correct)S
2214(check)S
2554(field)S
2835(as)S
2994(well.)S
3322(Hint:)S
3630(this)S
3862(can)S
4087(be)S
(done)234 4258 A
4549(in)S
4700(an)S
4871(activate)S
1000 V
958(function)S
1391(provided)S
1850(by)S
2000(the)S
2178(programmer.)S
2867(See)S
12 I
3072(Act)S
12 Y1
3234(3)S
12 I
3294(deact)S
12 R
3566(.)S
1176 V
958(Specifying)S
12 I
1524(monitor)S
12 R
1959(has)S
2162(the)S
2352(effect)S
2672(that)S
12 I
2896(monitor.h)S
12 R
3421(is)S
3544(also)S
3781(included.)S
4299(See)S
12 I
4516(monitor)S
12 R
4909(\(L\))S
5107(for)S
1316 V
958(the)S
1136(implications)S
1765(of)S
1896(this.)S
1492 V
958(Another)S
1394(argument)S
1890(is)S
12 I
2010(buf)S
12 Y1
2164(3)S
12 I
2224(size)S
12 R
2416(,)S
2485(which)S
(should)321 2820 A
3180(have)S
3447(a)S
(positive)383 3540 A
3962(value,)S
(because)383 4293 A
4716(it)S
4824(specifies)S
1632 V
958(the)S
1136(size)S
1355(of)S
1486(the)S
1664(message)S
2104(buffer.)S
1808 V
958(Another)S
1387(way)S
1621(to)S
1747(provide)S
2148(a)S
2234(message)S
2676(buffer)S
3005(is)S
3118(passing)S
3512(it)S
3612(at)S
3732(run-time,)S
4212(which)S
4540(is)S
4653(indicated)S
5129(by)S
1948 V
958(the)S
1139(parameter)S
12 I
1658(my)S
12 Y1
1800(3)S
12 I
1860(buf)S
12 R
2024(.)S
2117(This)S
2364(results)S
2713(in)S
2839(a)S
2925(function)S
3360(that)S
3574(expects)S
(you)180 3969 A
4181(to)S
4307(pass)S
4547(a)S
12 I
4633(port)S
12 R
4876(pointer,)S
2088 V
958(a)S
1045(buffer)S
1375(pointer)S
1751(and)S
1958(a)S
2045(buffer)S
2375(size,)S
2627(in)S
2754(that)S
2969(order.)S
3318(The)S
3539(buffer)S
3869(size)S
4091(is)S
4205(declared)S
4650(as)S
4785(a)S
12 I
4873(bufsize)S
12 R
5219(.)S
2228 V
958(Currently)S
1452(it)S
1550(is)S
1661(an)S
1805(unsigned)S
2270(16-bit)S
2589(integer.)S
3016(This)S
(will)190 3261 A
3481(probably)S
3940(change)S
4312(in)S
4436(Amoeba)S
4876(6.0.)S
2404 V
958(If)S
1101(neither)S
1499(buf)S
12 Y1
1660(3)S
12 R
1720(size)S
1970(or)S
2132(my)S
12 Y1
2286(3)S
12 R
2346(buf)S
2568(is)S
2710(specified,)S
3239(AIL)S
3503(is)S
(responsible)551 3645 A
4257(for)S
4461(the)S
4671(buffer)S
5030(size.)S
2544 V
958(However,)S
1465(if)S
1572(any)S
1778(of)S
1911(the)S
(supported)476 2091 A
2599(operators)S
3082(has)S
3275(a)S
3360(variable)S
3782(sized)S
4062(parameter,)S
4609(AIL)S
4843(does)S
5095(not)S
2684 V
(succeed.)413 958 A
1431(It)S
1536(simply)S
1895(prints)S
2201(a)S
2285(warning)S
2712(and)S
2916(comes)S
3255(up)S
3405(with)S
3651(a)S
3735(compiled-in)S
4350(default.)S
2860 V
958(The)S
1199(argument)S
12 I
1709(no)S
12 Y1
1829(3)S
12 I
(loop)214 1889 A
12 R
2166(indicates)S
2650(that)S
2885(no)S
(loop)214 3058 A
(should)321 3326 A
3701(be)S
3869(generated.)S
4454(In)S
4609(this)S
4838(case)S
5101(the)S
3000 V
958(generated)S
1459(routine)S
1832(handles)S
2231(at)S
2349(most)S
2614(one)S
2818(request)S
3198(and)S
3402(returns)S
3769(zero)S
4008(if)S
4113(all)S
4265(went)S
4531(well.)S
3176 V
708(The)S
926(server)S
(loop)214 1253 A
(looks)261 1497 A
1788(like)S
2000(this:)S
3352 V
708(First)S
964(of)S
1098(all,)S
12 I
1283(ailamoeba.h)S
12 R
1926(and)S
2133(the)S
2314(client)S
(interface)426 2617 A
3076(are)S
3258(included.)S
3767(The)S
3988(latter)S
(should)321 4273 A
4628(be)S
4776(in)S
4904(the)S
5086(file)S
3492 V
12 I
708(<class-id>.h)S
12 R
1349(.)S
1441(Then)S
1721(the)S
1901(marshaling)S
2471(functions)S
2953(are)S
3134(declared)S
3577(\(maybe)S
3972(these)S
(should)321 4252 A
4604(be)S
4749(part)S
4969(of)S
5101(the)S
3632 V
708(client)S
12 Y1
978(3)S
12 R
(interface?\).)551 1038 A
1656(Since)S
1962(C)S
2079(programmers)S
2762(might)S
3081(want)S
3354(to)S
3485(implement)S
4040(a)S
4131(marshaling)S
4707(function)S
5148(as)S
3772 V
708(a)S
799(macro,)S
1169(every)S
1475(declaration)S
2051(is)S
(surrounded)543 2169 A
2749(by)S
2906(#ifdef/#endif's.)S
3724(This)S
3976(is)S
4094(used)S
4352(by)S
12 I
4509(ailamoeba.h)S
12 R
5155(to)S
3912 V
708(speed)S
1016(some)S
1304(things)S
1632(up,)S
1815(by)S
1968(the)S
2149(way.)S
2444(The)S
2665(server)S
2995(main)S
(loop)214 3270 A
3518(is)S
3633(implemented)S
4299(as)S
4434(a)S
4522(function)S
4959(called)S
4052 V
12 I
708(ml)S
12 Y1
830(3)S
12 I
890(<class-id>)S
12 R
1441(.)S
1549(It)S
1672(takes)S
1969(one)S
2191(argument)S
2696(unless)S
12 I
3046(my)S
12 Y1
3188(3)S
12 I
3248(buf)S
12 R
3460(was)S
3697(passed:)S
4131(a)S
4233(port-pointer.)S
4919(Unless)S
4192 V
12 I
708(no)S
12 Y1
828(3)S
12 I
(loop)214 888 A
12 R
1147(is)S
1263(passed,)S
1650(the)S
1833(function)S
2271(does)S
2527(repeated)S
2973(calls)S
3231(to)S
12 I
3360(getreq)S
12 R
3714(on)S
3869(this)S
4080(port,)S
4341(and)S
4551(only)S
4801(returns)S
5174(if)S
4332 V
12 I
708(getreq)S
12 R
1057(fails.)S
1357(The)S
1575(return)S
1895(value)S
2187(is)S
2298(the)S
2476(return)S
2796(value)S
3088(from)S
12 I
3354(getreq)S
12 R
3703(is)S
3814(this)S
4019(case.)S
4508 V
708(It)S
833(decodes)S
1273(the)S
1472(request)S
1873(and)S
2098(calls)S
2372(the)S
(corresponding)691 2571 A
3313(implementation)S
4124(function)S
4578(if)S
4704(all)S
4877(is)S
5009(well.)S
4648 V
708(This)S
963(implementation)S
1763(function)S
2206(is)S
(supposed)448 2327 A
2815(to)S
2949(have)S
3216(a)S
3309(name)S
3610(of)S
3750(the)S
3937(form)S
12 I
4212(impl)S
12 Y1
4428(3)S
12 I
4488(<operator-id>)S
12 R
5219(,)S
4788 V
708(so)S
845(the)S
1023(implementation)S
1813(for)S
12 I
1985(std)S
12 Y1
2126(3)S
12 I
2186(info)S
12 R
2414(is)S
12 I
2525(impl)S
12 Y1
2741(3)S
12 I
2801(std)S
12 Y1
2942(3)S
12 I
3002(info)S
12 R
3200(.)S
4964 V
708(The)S
931(return)S
1256(value)S
1553(of)S
1689(the)S
1872(implementation)S
2668(is)S
2785(treated)S
3152(as)S
3289(an)S
3439(error)S
3712(code.)S
4036(It)S
(should)321 4147 A
4504(be)S
4654(zero)S
4899(if)S
5010(all)S
5168(is)S
5104 V
708(well,)S
978(and)S
1182(is)S
1293(shipped)S
1698(in)S
1822(the)S
12 I
2000(h)S
12 Y1
2060(3)S
12 I
(command)470 2120 A
12 R
2630(field,)S
2913(which)S
3239(is)S
3350(#defined)S
3803(to)S
12 I
3927(h)S
12 Y1
3987(3)S
12 I
4047(status)S
12 R
4339(.)S
5280 V
708(If)S
859(the)S
1076(implementation)S
1905(function)S
2377(terminates)S
(successfully,)622 2952 A
3643(the)S
3860(results)S
4246(are)S
4464(marshaled)S
5031(in)S
5195(a)S
5420 V
708(message)S
1148(buffer.)S
1535(After)S
1823(that,)S
12 I
2065(putrep)S
12 R
2420(is)S
2531(called.)S
5596 V
12 I
708(See)S
906(also)S
1137(:)S
12 R
1218(Act)S
12 Y1
1394(3)S
12 R
(deact,)286 1454 A
1770(Impl)S
12 Y1
1999(3)S
12 R
2059(repl)S
12 Y1
2248(3)S
12 R
2308(buf,)S
(Language,)506 2529 A
3065(Pass)S
12 Y1
3280(3)S
12 R
3340(acttype,)S
3750(Post)S
12 Y1
3958(3)S
12 R
(deact.)286 4018 A
7700 V
708(82)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 83 89
BP
/slant 0 def
/height 0 def
860 V
12 B
708(6.3.)S
978(Amake)S
1378(User)S
(Reference)520 1651 A
2201(Manual)S
1280 V
708(6.3.1.)S
1068(Introduction)S
1456 V
12 I
708(Amake)S
12 R
1084(is)S
1201(a)S
1291(software)S
1746(configuration)S
2434(manager)S
2888(that)S
3107(was)S
3333(designed)S
3799(to)S
3930(be)S
4081(a)S
4172(tool)S
4397(in)S
4528(the)S
4713(same)S
4999(spirit)S
1596 V
708(as)S
12 I
841(make)S
12 R
1107(,)S
1169(i.e.,)S
1379(it)S
1479(is)S
1592(a)S
1678(stand-alone)S
2268(tool)S
2488(that,)S
2732(when)S
3026(run)S
3219(by)S
3371(the)S
3551(user,)S
(should)321 3814 A
(invoke)328 4166 A
4525(precisely)S
4994(those)S
1736 V
708(commands)S
1264(that)S
1479(\(re-\)create)S
2021(a)S
2108(set)S
2276(of)S
2410(target)S
2720(files,)S
(according)477 2993 A
3504(to)S
3632(a)S
3720(description)S
4292(file.)S
4549(The)S
4771(main)S
5047(idea)S
1876 V
708(is)S
824(to)S
952(make)S
1248(use)S
1443(of)S
1578(previous)S
2028(results)S
2379(as)S
2514(much)S
2816(as)S
2951(possible.)S
3441(Unlike)S
3805(standard)S
12 I
4249(make)S
12 R
4515(,)S
12 I
4579(amake)S
12 R
4939(is)S
5054(also)S
2016 V
708(able)S
943(to)S
1070(exploit)S
1439(possible)S
1868(parallelism)S
2441(between)S
2878(the)S
3060(commands.)S
(Although,)486 3677 A
4197(as)S
4332(the)S
4514(name)S
(suggests,)439 4810 A
2156 V
12 I
708(amake)S
12 R
1083(was)S
1321(designed)S
1799(to)S
1942(be)S
2105(used)S
2375(on)S
2543(the)S
2739(Amoeba)S
3197(distributed)S
3763(operating)S
4268(system,)S
4682(it)S
4798(also)S
5041(runs)S
2296 V
(under)275 708 A
11 R
1011(UNIX)S
12 R
1288(.)S
2472 V
708(In)S
860(contrast)S
1296(to)S
1442(a)S
1548(lot)S
1728(of)S
1881(``extended)S
2451(makes'')S
2894(the)S
3094(specification)S
(language)436 3766 A
4254(is)S
4387(not)S
4593(a)S
4699(superset)S
5148(of)S
2612 V
12 I
708(make)S
12 R
974('s,)S
1126(but)S
1314(a)S
1402(totally)S
1746(new)S
1982(one.)S
2250(This)S
2499(paper)S
2802(focuses)S
3198(mainly)S
3567(on)S
3720(the)S
3901(syntax)S
4249(and)S
4456(semantics)S
4967(of)S
5101(the)S
2752 V
708(various)S
1099(constructs)S
1625(in)S
1754(the)S
(language.)466 1937 A
2468(To)S
2637(make)S
2934(it)S
3037(as)S
3173(flexible)S
3579(as)S
3715(possible,)S
12 I
4177(amake)S
12 R
4539(has)S
4736(no)S
(built-in)357 4892 A
2892 V
(knowledge)530 708 A
(about)268 1276 A
1582(specific)S
(languages)483 1997 A
2517(or)S
2655(tools.)S
2987(The)S
3212(presence)S
3673(and)S
3884(usage)S
4196(of)S
4334(tools)S
4606(available)S
5081(can)S
3032 V
708(be)S
868(declared)S
1325(in)S
1465(files)S
1721(that)S
1949(serve)S
2251(as)S
2398(a)S
2498(library)S
2869(of)S
3017(site-specific)S
12 I
3652(amake)S
12 R
4025(information.)S
4704(In)S
4852(order)S
5155(to)S
3172 V
708(make)S
1037(it)S
1172(possible)S
1635(to)S
1796(exchange)S
2319(a)S
2439(software)S
2924(configuration)S
3642(between)S
4112(various)S
4534(sites)S
4816(easily,)S
5195(a)S
3312 V
708(standard)S
1148(tool)S
1366(library)S
1720(is)S
1831(provided.)S
3732 V
12 B
708(6.3.2.)S
1068(Why)S
1345(Amake)S
3908 V
12 I
708(Amake)S
12 R
1103(is)S
1239(a)S
1348(software)S
1822(configuration)S
2529(manager)S
3001(developed)S
3552(to)S
3701(make)S
4018(use)S
4234(of)S
4390(the)S
(capacities)479 4594 A
5129(\320)S
4048 V
708(especially)S
1239(parallelism)S
1825(\320)S
1991(of)S
2138(the)S
2332(Amoeba)S
2788(Distributed)S
3380(Operating)S
3911(System.)S
4372(While)S
4713(developing)S
4188 V
708(ideas)S
(about)268 1005 A
1321(what)S
1605(features)S
2038(this)S
2261(new)S
2511(tool)S
2747(could)S
3063(and)S
3286(\(most)S
3611(importantly\))S
(should)321 4266 A
4636(have,)S
4943(it)S
5060(was)S
4328 V
(found)281 708 A
1028(that)S
1249(keeping)S
1670(upward)S
(compatibility)646 2072 A
2757(with)S
12 I
3012(make)S
12 R
3317(would)S
3657(constrain)S
12 I
4139(amake)S
12 R
4503(too)S
4695(much.)S
5061(The)S
4468 V
708(basic)S
989(problem)S
1424(was)S
1645(that)S
1859(sticking)S
2274(to)S
2401(a)S
2488(make-like)S
3006(description)S
3577(file)S
3773(format)S
4130(would)S
4465(only)S
4712(allow)S
5015(us)S
5155(to)S
4608 V
(introduce)457 708 A
1212(rules,)S
(written)345 1525 A
1917(in)S
12 I
2058(make)S
12 R
2371(syntax,)S
2762(containing)S
3318(directives)S
3836(having)S
4210(a)S
4310(special)S
4693(meaning)S
5155(to)S
4748 V
12 I
708(amake)S
12 R
1034(.)S
(Although)456 1132 A
1626(this)S
1839(is)S
1958(sufficient)S
2456(to)S
2589(provide)S
2997(the)S
3184(enhanced)S
12 I
3679(make)S
12 R
3984(with)S
4239(the)S
4426(information)S
5037(that,)S
4888 V
708(say,)S
957(some)S
(additional)484 1270 A
1812(action)S
2166(has)S
2385(to)S
2536(be)S
2707(taken)S
3026(when)S
(updating)422 3345 A
3824(an)S
3995(explicit)S
4416(rule,)S
4692(it)S
4817(does)S
5095(not)S
5028 V
(fundamentally)699 708 A
1437(change)S
12 I
1809(make)S
12 R
2075('s)S
2193(concepts.)S
5204 V
708(Two)S
988(aspects)S
1396(of)S
12 I
1555(make)S
12 R
1880(are)S
2088(especially)S
2632(bothersome.)S
3315(First)S
3597(of)S
3757(all)S
3938(there)S
4240(is)S
4380(the)S
4587(\(type,)S
4925(suffix\))S
5344 V
(correspondence,)789 708 A
(upon)240 1536 A
1815(which)S
2150(the)S
2337(implicit-rule)S
2984(construct)S
3467(is)S
3587(based.)S
3961(One)S
4202(would)S
4543(like)S
4763(to)S
4895(be)S
5047(able)S
5484 V
708(to)S
(group)281 864 A
1207(source)S
1585(objects)S
(according)477 1990 A
2529(to)S
2685(other)S
2997(criteria)S
3406(than)S
3677(just)S
3915(sharing)S
4334(a)S
4451(common)S
4936(suffix.)S
5624 V
708(Another)S
1136(major)S
1450(problem)S
1884(with)S
12 I
2131(make)S
12 R
2397(,)S
2458(when)S
2751(used)S
3003(for)S
3176(large)S
3450(configurations,)S
4210(is)S
4321(that)S
4533(the)S
4711(description)S
5764 V
708(file)S
904(is)S
12 I
1018(task)S
1246(model)S
12 R
1585(oriented,)S
2045(that)S
2260(is,)S
2404(it)S
2506(tells)S
12 I
2743(how)S
12 R
2987(instead)S
3364(of)S
12 I
3499(which)S
12 R
3831(things)S
4160(need)S
4422(to)S
4550(be)S
(done.)264 4698 A
5026(As)S
5195(a)S
5904 V
708(result)S
1065(of)S
1253(this,)S
12 I
1545(make)S
12 R
1898(description)S
2523(files)S
2820(are)S
3056(system)S
3479(dependent)S
4062(and)S
4323(contain)S
(redundant)483 4766 A
6044 V
708(information.)S
1382(For)S
1592(example,)S
2074(if)S
2191(all)S
2355(programs)S
2854(in)S
2990(a)S
3086(big)S
3282(software)S
3743(project)S
4123(need)S
4394(to)S
4531(be)S
4688(linked)S
5033(with)S
6184 V
708(some)S
993(specific)S
1401(set)S
1566(of)S
1697(flags)S
1963(and)S
2167(libraries,)S
2626(this)S
2831(information)S
3433(has)S
3624(to)S
3748(be)S
3892(repeated)S
4333(in)S
(each)222 4457 A
4709(Makefile.)S
6360 V
708(Another)S
1174(problem)S
1646(with)S
12 I
1931(make)S
12 R
2266(is)S
2416(that)S
2667(its)S
2851(implicit)S
3298(rules,)S
3634(which)S
4000(it)S
4138(uses)S
4416(to)S
4580(derive)S
4953(which)S
6500 V
708(transformations)S
1514(it)S
(should)321 1627 A
1993(perform)S
2429(automatically,)S
3164(only)S
3423(work)S
3717(when)S
4023(the)S
4215(source)S
4575(objects)S
4962(are)S
5155(in)S
6640 V
708(the)S
12 I
909(same)S
12 R
1221(directory)S
1712(as)S
1866(the)S
12 I
(makefile)412 2067 A
12 R
2542(and,)S
2799(consequently,)S
3520(the)S
3722(file)S
3939(objects)S
(produced.)479 4336 A
4899(This)S
5168(is)S
6780 V
708(extremely)S
1231(bothersome)S
1833(when)S
2133(several)S
2515(versions)S
2956(of)S
3094(the)S
(resulting)424 3279 A
3740(binaries)S
4161(have)S
4426(to)S
4557(be)S
4708(kept)S
4953(up-to-)S
6920 V
708(date.)S
1006(A)S
(well-known)579 1130 A
1745(trick)S
2004(that)S
2222(tries)S
2468(to)S
2599(alleviate)S
3048(this)S
3260(problem)S
3700(is)S
3818(the)S
4003(creation)S
4431(of)S
12 I
(shadow)367 4569 A
4973(trees)S
12 R
5219(,)S
7060 V
708(consisting)S
1238(of)S
1379(symbolic)S
1862(links)S
2137(to)S
2271(all)S
2433(the)S
2621(sources.)S
3084(However,)S
3599(apart)S
3881(from)S
4156(the)S
4343(fact)S
4565(that)S
4786(this)S
5000(takes)S
7200 V
708(up)S
867(a)S
960(lot)S
1127(of)S
1267(disk)S
(space,)299 1507 A
1845(it)S
1952(in)S
2085(turn)S
(introduces)504 2319 A
2862(the)S
3049(problem)S
3491(of)S
3631(keeping)S
4052(the)S
4239(symbolic)S
4721(links)S
4995(up)S
5155(to)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(83)S
7920 V
EP
%%Page: 84 90
BP
/slant 0 def
/height 0 def
860 V
12 R
708(date)S
940(\(e.g.,)S
1215(when)S
1507(a)S
1591(source)S
1937(file)S
2130(is)S
2241(added)S
2559(or)S
2690(moved\).)S
1036 V
708(As)S
881(the)S
1067(aspects)S
1455(mentioned)S
2003(are)S
(fundamental)605 2190 A
2833(to)S
12 I
2965(make)S
12 R
3231(,)S
3299(it)S
3405(was)S
3632(decided)S
4046(not)S
4238(try)S
4411(to)S
4544(implement)S
5101(yet)S
1176 V
708(another)S
1101(extended)S
1567(version)S
1953(of)S
2084(the)S
2262(existing)S
2675(program.)S
1596 V
12 B
708(6.3.3.)S
1068(Overview)S
1772 V
12 R
708(In)S
12 I
869(amake)S
12 R
1195(,)S
1285(a)S
1399(software)S
1878(configuration)S
2590(can)S
2818(be)S
2992(specified)S
3490(by)S
3670(means)S
4040(of)S
4202(one)S
4437(or)S
4599(more)S
12 I
4909(cluster)S
1912 V
12 R
(definitions.)548 708 A
1323(A)S
1448(cluster)S
1809(defines)S
2196(the)S
2381(targets)S
2742(to)S
2873(be)S
3024(constructed)S
3619(from)S
3892(a)S
3983(given)S
4288(set)S
4460(of)S
4598(sources.)S
5057(It)S
5168(is)S
2052 V
12 I
708(amake)S
12 R
1034('s)S
1159(task)S
1391(to)S
1522(deduce)S
1901(which)S
12 I
2235(tools)S
12 R
2518(to)S
2650(use,)S
2879(in)S
3011(what)S
3285(order,)S
3609(and)S
3821(how)S
4067(to)S
4199(do)S
4357(it)S
4463(efficiently.)S
5061(The)S
2192 V
708(tools)S
977(available)S
1448(can)S
1649(be)S
1796(defined)S
2192(by)S
2345(the)S
2526(user,)S
2791(but)S
2978(generally)S
3462(a)S
3549(reference)S
4035(to)S
4162(a)S
4249(common)S
4704(tool)S
4925(library)S
2332 V
708(\(by)S
914(means)S
1268(of)S
1414(a)S
1513(source)S
1875(inclusion)S
2364(mechanism\))S
(will)190 3002 A
3238(suffice.)S
3675(In)S
3822(order)S
4124(to)S
4264(be)S
4424(able)S
4672(to)S
4812(decide)S
5174(if)S
2472 V
708(some)S
999(file)S
1198(may)S
1442(be)S
1592(used)S
1849(or)S
(produced)449 1986 A
2471(by)S
2626(a)S
2715(certain)S
3081(tool,)S
(each)222 3334 A
3591(file)S
3789(is)S
3905(represented)S
4499(internally)S
4999(as)S
5135(an)S
2612 V
12 I
708(object)S
12 R
1061(with)S
1324(a)S
1425(set)S
1607(of)S
1755(valued)S
12 I
2124(attributes)S
12 R
2598(.)S
2705(\(One)S
2996(possible)S
3440(value)S
3750(is)S
(``unknown,'')642 3879 A
4569(indicating)S
5101(the)S
2752 V
708(absence)S
1121(of)S
1252(the)S
1430(attribute.\))S
2928 V
708(A)S
833(tool)S
(definition,)501 1058 A
1596(which)S
1929(shows)S
2268(some)S
2560(resemblance)S
3203(to)S
3334(a)S
3426(function)S
(definition)471 3867 A
(found)281 4376 A
4695(in)S
4827(common)S
3068 V
708(programming)S
(languages,)513 1412 A
1971(contains)S
2420(in)S
2560(its)S
2721(header)S
3090(references)S
3636(to)S
3776(the)S
3969(required)S
4418(values)S
4772(of)S
4918(certain)S
3208 V
708(attributes,)S
1222(such)S
1475(as)S
1608(``type.'')S
2072(Rather)S
2427(than)S
(letting)310 2667 A
3009(the)S
3189(user)S
3423(specify)S
3805(the)S
3985(values)S
4327(of)S
4461(all)S
4616(the)S
4797(attributes)S
3348 V
708(needed,)S
1142(these)S
1453(values)S
1824(can)S
2054(most)S
2351(of)S
2514(the)S
2724(time)S
3002(be)S
3178(derived)S
3603(by)S
12 I
3785(amake)S
12 R
4173(itself,)S
4509(using)S
12 I
4832(attribute)S
3488 V
708(derivations)S
12 R
1262(.)S
1352(A)S
(well-known)579 1470 A
2079(example)S
2519(is)S
2630(the)S
12 I
2808(name-based)S
12 R
3432(derivation:)S
3987(a)S
4072(file)S
4266(having)S
4625(suffix)S
4939(``)S
12 C
5021(.c)S
12 R
5167('')S
3628 V
708(is)S
827(assumed)S
1281(to)S
1413(be)S
1565(a)S
1657(C)S
1775(source)S
2129(file)S
2330(\(hence)S
2691(having)S
3057(a)S
12 C
(type)292 3149 A
12 R
3479(attribute)S
3922(with)S
4175(value)S
12 C
(C-src)365 4474 A
12 R
4839(\),)S
4947(unless)S
3768 V
(explicitly)458 708 A
1224(specified)S
1720(otherwise.)S
2310(The)S
12 I
2556(rules)S
12 R
2866(defining)S
3327(derivations)S
3923(possible)S
(will)190 4377 A
4625(generally)S
5135(be)S
3908 V
708(defined)S
1110(in)S
1243(a)S
1336(library,)S
1729(together)S
2165(with)S
2420(the)S
2607(tools)S
2881(that)S
3102(refer)S
3372(to)S
3505(the)S
3692(attribute)S
4136(values)S
4484(in)S
4617(question,)S
5095(but)S
4048 V
708(the)S
897(user)S
1140(may)S
1389(of)S
1531(course)S
1888(provide)S
(additional)484 2298 A
2823(ones.)S
3145(In)S
3287(derivations,)S
3896(as)S
4038(in)S
(each)222 4173 A
12 I
4437(amake)S
12 R
4805(construct)S
4188 V
708(that)S
920(allows)S
1267(expressions,)S
(built-in)357 1891 A
2278(functions)S
2758(and)S
2962(previously)S
3502(declared)S
3943(tools)S
4208(may)S
4446(be)S
4590(used.)S
4608 V
12 B
708(6.3.4.)S
1068(Example)S
4784 V
12 R
708(For)S
922(an)S
(illustration)526 1083 A
1656(of)S
1804(the)S
1999(major)S
2329(differences)S
2916(between)S
12 I
3367(make)S
12 R
3680(and)S
12 I
3901(amake)S
12 R
4274(consider)S
4731(the)S
4926(simple)S
4924 V
708(compiler)S
12 I
1175(comp)S
12 R
1483(to)S
1613(be)S
(built)222 1763 A
2021(from)S
2293(the)S
2477(source)S
2829(files)S
12 I
3074(parse.y)S
12 R
3436(,)S
12 I
3501(lex.l)S
12 R
3717(,)S
12 I
3782(comp.c)S
12 R
4138(,)S
12 I
4203(defs.h)S
12 R
4533(and)S
4742(the)S
4925(library)S
5064 V
12 I
708(ident.a)S
12 R
1050(.)S
1140(A)S
12 I
1258(make)S
12 R
1554(specification)S
2204(for)S
2376(this)S
2581(configuration)S
3263(is)S
3374(presented)S
3868(in)S
3992(figure)S
4312(6.1.)S
5405 V
11 C
1068(1)S
(OBJECTS)469 1202 A
1738(=)S
(parse.o)469 1872 A
(scan.o)402 2408 A
(comp.o)402 2877 A
5545 V
1068(2)S
(LIBES)335 1202 A
1604(=)S
(ident.a)469 1738 A
5685 V
1068(3)S
5825 V
1068(4)S
(comp:)335 1202 A
($\(OBJECTS\))670 1604 A
($\(LIBES\))536 2341 A
5965 V
1068(5)S
($\(CC\))335 1604 A
2006(-o)S
(comp)268 2207 A
($\(OBJECTS\))670 2542 A
($\(LIBES\))536 3279 A
6105 V
1068(6)S
6245 V
1068(7)S
(parse.o)469 1202 A
(scan.o:)469 1738 A
(defs.h)402 2274 A
6586 V
10 B
1928(Fig.)S
2118(6.1.)S
10 R
2293(Specification)S
2850(of)S
2959(a)S
3029(simple)S
3322(compiler)S
3705(in)S
10 I
3808(make)S
6874 V
12 R
708(Note)S
976(that)S
12 I
1190(intermediate)S
12 R
1845(files)S
2087(stemming)S
2596(from)S
2864(the)S
3044(application)S
3614(of)S
3747(an)S
3894(implicit)S
4305(rule)S
4527(are)S
4709(mentioned,)S
7014 V
708(rather)S
1026(than)S
1268(the)S
1449(sources)S
1845(themselves.)S
2476(This)S
2724(may)S
(introduce)457 2965 A
(portability)505 3455 A
3993(problems,)S
(because)383 4506 A
4922(on)S
5075(one)S
7154 V
708(system)S
1080(the)S
1264(C-compiler)S
1852(might)S
(produce)389 2170 A
2595(loadable)S
3042(objects)S
(\(``.o)213 3422 A
(files''\),)363 3672 A
4072(while)S
4379(on)S
4536(another)S
4936(it)S
5041(may)S
7294 V
708(generate)S
1167(assembly)S
(\(``.s''\))323 1665 A
2036(files.)S
2354(As)S
2537(there)S
2828(is)S
2957(no)S
3124(way)S
3373(to)S
3514(specify)S
3911(an)S
4072(implicit)S
4497(rule)S
4733(combining)S
7700 V
708(84)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 85 91
BP
/slant 0 def
/height 0 def
860 V
12 R
708(several)S
1094(files)S
1346(\(possibly)S
1831(of)S
1974(different)S
2435(kinds)S
2738(as)S
2881(well\),)S
3204(an)S
3360(explicit)S
3766(rule)S
3997(has)S
4200(to)S
4336(be)S
4492(provided)S
4964(in)S
5101(the)S
1000 V
708(manner)S
1101(shown)S
1446(on)S
1596(lines)S
1855(4)S
1945(and)S
2149(5.)S
1176 V
708(Also)S
979(note)S
1229(the)S
1419(way)S
12 I
1663(implicit)S
(inputs)295 2077 A
12 R
2424(have)S
2694(to)S
2831(be)S
2988(specified)S
3469(in)S
12 I
3606(make)S
12 R
3872(.)S
3975(Implicit)S
(inputs)295 4403 A
4741(are)S
4933(source)S
1316 V
708(files)S
959(that)S
1182(are)S
1372(read)S
1622(by)S
1783(the)S
1972(tool,)S
2231(in)S
(addition)396 2366 A
2803(to)S
2938(the)S
3127(prime)S
3451(source)S
3808(file.)S
4072(In)S
4213(the)S
4401(example)S
4851(the)S
5039(files)S
1456 V
708(read)S
954(by)S
1111(the)S
1296(C-compiler)S
1885(\(or)S
2064(C-preprocessor\))S
2882(as)S
3020(a)S
3111(result)S
3418(of)S
3556(``#include'')S
4174(directives)S
4684(are)S
4871(implicit)S
1596 V
(inputs.)325 708 A
1109(When)S
1443(one)S
1663(of)S
1810(the)S
2004(implicit)S
2427(files)S
2682(used)S
2948(in)S
3087(the)S
3280(construction)S
3923(of)S
4069(an)S
4228(intermediate)S
4880(file)S
5088(has)S
1736 V
708(changed,)S
1178(the)S
1364(associated)S
1901(command)S
2416(has)S
2616(to)S
2749(be)S
(re-invoked)524 2902 A
(because)383 3465 A
3887(it)S
3994(might)S
4315(deliver)S
4691(new)S
4932(results)S
1876 V
708(\(i.e.,)S
963(when)S
12 I
1261(defs.h)S
12 R
1592(is)S
1708(modified,)S
2210(both)S
12 I
2459(parse.c)S
12 R
2856(and)S
12 I
3065(scan.c)S
12 R
3415(have)S
3678(to)S
3807(be)S
3956(recompiled\).)S
4637(In)S
12 I
4773(make)S
12 R
5074(this)S
2016 V
708(implicit)S
1116(dependency)S
1722(has)S
1913(to)S
2037(be)S
2181(specified)S
(explicitly,)488 2649 A
3167(as)S
3298(is)S
(done)234 3409 A
3673(on)S
3823(line)S
4035(7.)S
2192 V
708(To)S
873(contrast)S
1288(with)S
12 I
1535(amake)S
12 R
1861(,)S
1923(consider)S
2365(the)S
12 I
2545(amake)S
12 R
2903(specification)S
3555(of)S
3688(the)S
3868(same)S
4149(configuration)S
4833(in)S
4959(figure)S
2332 V
708(6.2.)S
2673 V
11 C
1068(1)S
(%include)536 1202 A
11 I
1805(std-amake.amk)S
11 C
2474(;)S
2813 V
1068(2)S
2953 V
1068(3)S
(%cluster)536 1202 A
3093 V
1068(4)S
1202({)S
3233 V
1068(5)S
(%targets)536 1470 A
11 I
2073(comp)S
11 C
2313([)S
11 I
2380(type)S
11 C
2633(=)S
11 I
2767(program)S
11 C
3153(];)S
3373 V
1068(6)S
(%sources)536 1470 A
11 I
2073(parse.y)S
11 C
2397(,)S
11 I
2531(scan.l)S
11 C
2793(,)S
11 I
2927(comp.c)S
11 C
3245(,)S
11 I
3379(defs.h)S
11 C
3641(,)S
11 I
3775(ident.a)S
11 C
4080(;)S
3513 V
1068(7)S
1202(};)S
3854 V
10 B
1295(Fig.)S
1485(6.2.)S
10 R
1660(Specification)S
2217(of)S
2326(a)S
2396(simple)S
2689(compiler)S
3072(in)S
10 I
3175(amake)S
10 R
3446(.)S
3521(Non-keywords)S
4144(are)S
4293(in)S
4396(italics.)S
4106 V
12 R
708(The)S
12 C
(%include)584 934 A
12 R
1556(directive)S
2019(on)S
2177(line)S
2397(1)S
2495(causes)S
12 I
2849(amake)S
12 R
3214(to)S
3347(read)S
3595(the)S
3782(file)S
3984(``std-amake.amk'',)S
4953(which)S
4246 V
708(contains)S
1166(a)S
1275(standard)S
1740(tool)S
1982(set)S
(constituting)571 2171 A
2796(a)S
2904(C)S
3038(programming)S
3750(environment)S
4415(\(containing)S
5020(a)S
5128(C-)S
4386 V
708(compiler,)S
1216(loader,)S
1596(library)S
1967(maintainer,)S
12 I
2563(Yacc)S
12 R
2808(,)S
12 I
2885(Lex)S
12 R
3070(,)S
12 I
3147(Lint)S
12 R
3352(,)S
3429(etc.\).)S
3749(The)S
3985(cluster)S
(definition)471 4357 A
4876(itself)S
5168(is)S
4526 V
708(clear,)S
1018(apart)S
1304(from)S
1583(the)S
1774(phrase)S
(``[type)331 2133 A
2507(=)S
(program]'')533 2618 A
3194(on)S
3357(line)S
3582(3,)S
3715(which)S
4054(takes)S
4346(care)S
4592(of)S
(setting)323 4736 A
5101(the)S
4666 V
708(attribute)S
1143(``type'')S
1545(of)S
1676(file)S
12 I
1869(comp)S
12 R
2161(\(the)S
12 I
2380(target)S
12 R
2709(to)S
2833(be)S
2977(constructed\))S
3607(to)S
3732(``program''.)S
12 I
4397(Amake)S
12 R
4768(needs)S
5074(this)S
4806 V
708(information,)S
(because,)413 1348 A
1799(in)S
1930(general,)S
2354(various)S
2747(kinds)S
3045(of)S
3183(objects)S
3563(may)S
3808(be)S
(produced)449 3959 A
4445(from)S
4718(a)S
4809(given)S
5114(set)S
4946 V
708(of)S
851(sources)S
1256(\(e.g.,)S
1543(loadable)S
1995(objects)S
2380(may)S
2630(be)S
2786(combined)S
3304(to)S
3440(form)S
3718(either)S
4037(a)S
(runnable)423 4133 A
4598(program)S
5051(or)S
5195(a)S
5086 V
708(library\).)S
1181(In)S
1330(this)S
1553(example,)S
12 I
2041(amake)S
12 R
2415(is)S
2544(able)S
2794(to)S
2936(derive)S
3287(the)S
12 I
3483(type)S
12 R
3743(attribute)S
4196(of)S
4344(all)S
4513(source)S
4876(objects,)S
5226 V
708(using)S
999(only)S
1243(suffixes.)S
5402 V
708(A)S
843(set)S
1025(of)S
1173(clauses)S
1570(describing)S
2121(implicit)S
(inputs)295 2547 A
2890(is)S
3019(not)S
3221(needed)S
3611(in)S
12 I
3753(amake)S
12 R
4079(,)S
(because)383 4157 A
4588(tools)S
4871(with)S
5135(an)S
5542 V
708(implicit)S
(input)248 1119 A
1400(concept)S
1809(are)S
(supposed)448 1991 A
2472(to)S
2599(deliver)S
2969(a)S
3056(list)S
3238(of)S
3372(them)S
3647(on)S
3800(a)S
3887(report)S
4210(file.)S
4466(If)S
4581(the)S
4762(tool)S
4982(is)S
5095(not)S
5682 V
708(able)S
946(to)S
1076(do)S
1232(that,)S
1480(it)S
1584(is)S
1701(possible)S
2133(to)S
2263(specify)S
2649(in)S
2779(the)S
2963(tool's)S
(definition)471 3275 A
3783(that)S
4002(another)S
4402(program)S
4849(\(such)S
5148(as)S
5822 V
12 I
708(mkdep)S
12 R
1066(for)S
1240(C-programs\))S
(should)321 1890 A
2242(be)S
2387(called)S
2708(to)S
2833(deliver)S
3201(the)S
3380(information)S
3983(needed.)S
12 I
4416(Amake)S
12 R
4787(stores)S
5101(the)S
5962 V
708(set)S
881(of)S
12 I
1020(actual)S
12 R
(inputs)295 1370 A
(encountered)591 1703 A
2332(when)S
2632(the)S
2818(tool)S
3044(was)S
3271(run)S
3470(in)S
3602(a)S
3694(\(hidden\))S
4142(statefile,)S
4596(so)S
4741(the)S
4927(user)S
5168(is)S
6102 V
708(not)S
892(bothered)S
1345(with)S
1591(keeping)S
2003(this)S
2208(information)S
2810(up-to-date.)S
6278 V
708(Concluding,)S
1365(it)S
1498(is)S
1644(felt)S
1872(that)S
12 I
2119(amake)S
12 R
2445('s)S
2598(way)S
2866(of)S
3033(describing)S
3603(software)S
4088(configurations)S
4853(is)S
5000(more)S
6418 V
(convenient)530 708 A
1272(for)S
1448(the)S
1629(user,)S
1894(less)S
2109(system)S
2478(dependent,)S
3037(and)S
3244(\320)S
3397(thanks)S
3745(to)S
3872(the)S
4053(automated)S
4590(implicit)S
(input)248 5001 A
6558 V
708(and)S
912(compilation)S
1520(flag)S
1739(administration)S
2469(\320)S
2619(more)S
2898(secure.)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(85)S
7920 V
EP
%%Page: 86 92
BP
/slant 0 def
/height 0 def
860 V
12 B
708(6.3.5.)S
1068(Lexical)S
1474(elements)S
1036 V
12 R
708(The)S
932(lexical)S
1293(elements)S
1761(are)S
1947(described)S
2448(first,)S
2712(before)S
3059(turning)S
3445(our)S
3643(attention)S
4104(to)S
4235(the)S
4420(various)S
(language)436 4813 A
1176 V
708(constructs,)S
1280(one)S
1505(by)S
1675(one.)S
1959(The)S
2197(main)S
2489(difference)S
3032(between)S
3486(the)S
3684(syntax)S
4049(of)S
4200(the)S
(language)436 4398 A
4884(used)S
5155(in)S
1316 V
12 I
708(amake)S
12 R
1066(description)S
1636(files)S
1878(and)S
2084(the)S
2264(ones)S
2517(used)S
2770(in)S
2896(common)S
3350(programming)S
(languages)483 4040 A
4556(is)S
4670(the)S
4851(fact)S
5067(that)S
1456 V
12 I
(keywords)456 708 A
12 R
1205(rather)S
1530(than)S
1779(\(file)S
2024(name)S
2327(or)S
2469(string\))S
2827(constants)S
3317(are)S
(quoted)328 3506 A
3874(\(prefixed)S
4359(with)S
4615(the)S
4803(character)S
1596 V
708(``)S
12 C
790(%)S
12 R
863('')S
975(in)S
1099(this)S
1304(case\).)S
1644(Figure)S
1990(6.3)S
2170(shows)S
2502(the)S
2680(keywords)S
3180(of)S
3311(the)S
12 I
3489(amake)S
12 R
3845(specification)S
(language.)466 4495 A
1937 V
11 C
(%and,)335 1068 A
(%boolean,)603 1738 A
(%cluster,)603 2408 A
(%computed,)670 3078 A
(%condition,)737 3815 A
2077 V
(%conform,)603 1068 A
(%declare,)603 1738 A
(%default,)603 2408 A
(%derive,)536 3078 A
(%diag,)402 3815 A
2217 V
(%do,)268 1068 A
(%export,)536 1738 A
(%false,)469 2408 A
(%generic,)603 3078 A
(%if,)268 3815 A
2357 V
(%ignore,)536 1068 A
(%import,)536 1738 A
(%in,)268 2408 A
(%include,)603 3078 A
(%instance,)670 3815 A
2497 V
(%list,)402 1068 A
(%not,)335 1738 A
(%or,)268 2408 A
(%out,)335 3078 A
(%return,)536 3815 A
2637 V
(%sources,)603 1068 A
(%string,)536 1738 A
(%targets,)603 2408 A
(%tmp,)335 3078 A
(%tool,)402 3815 A
2777 V
(%trigger,)603 1068 A
(%true,)402 1738 A
(%unknown,)603 2408 A
(%use,)335 3078 A
(%when)335 3815 A
3118 V
10 B
2589(Fig.)S
2779(6.3.)S
10 R
2954(Keywords)S
3406 V
12 R
708(It)S
(should)321 827 A
1192(be)S
1350(noted)S
1662(that)S
1889(a)S
1988(large)S
2276(portion)S
2670(of)S
2816(the)S
3009(keywords)S
3524(deals)S
3818(with)S
4079(the)S
4272(construction)S
4915(of)S
5061(tool)S
3546 V
708(descriptions.)S
1403(Most)S
1701(people)S
(will)190 2073 A
2313(just)S
2537(use)S
2747(an)S
2910(already)S
3316(existing)S
3748(tool)S
3985(set,)S
4199(so)S
4355(in)S
4498(practice)S
4932(only)S
5195(a)S
3686 V
708(small)S
1001(subset)S
1333(of)S
1464(the)S
(language)436 1642 A
(will)190 2108 A
2328(be)S
(encountered.)621 2472 A
3862 V
708(Literals,)S
1143(which)S
1472(may)S
1713(be)S
1860(used)S
2114(to)S
2241(serve)S
2530(as)S
2664(a)S
2751(string)S
3060(constant,)S
3527(or)S
3662(as)S
3797(\(a)S
(component)536 3926 A
4496(of\))S
4672(a)S
4760(file)S
4957(name,)S
4002 V
708(are)S
901(sequences)S
1435(of)S
(upper-)316 1580 A
1940(and)S
2158(lower)S
2479(case)S
2732(letters,)S
3104(digits,)S
3447(dots)S
(\(``)123 3692 A
12 C
3815(.)S
12 R
(''\),)153 3888 A
4085(minus-signs)S
(\(``)123 4713 A
12 C-1
4836(-)S
12 R
(''\))123 4909 A
5075(and)S
4142 V
(underlines)504 708 A
(\(``)123 1258 A
12 Y1
1381(3)S
12 R
(''\).)153 1441 A
1671(When)S
2006(a)S
2107(string)S
2430(containing)S
2987(special)S
3371(\(but)S
3613(printable\))S
4132(characters)S
4672(needs)S
4994(to)S
5135(be)S
4282 V
708(specified,)S
1220(it)S
1332(has)S
1537(to)S
1675(be)S
(quoted)328 1833 A
2204(by)S
2367(adding)S
(apostrophes)577 2738 A
(\(``)123 3358 A
12 C
3481(\302)S
12 R
(''\))123 3554 A
3720(to)S
3857(the)S
4048(beginning)S
4573(and)S
4790(end)S
5007(of)S
5151(it.)S
4422 V
(Apostrophes)611 708 A
1351(contained)S
1853(within)S
2195(a)S
(quoted)328 2281 A
2642(string)S
2951(have)S
3212(to)S
3339(be)S
(doubled,)418 3486 A
3937(so)S
4077(the)S
4258(string)S
12 I
4567(I'm)S
4770(ready)S
12 R
5088(has)S
4562 V
708(to)S
832(be)S
976(specified)S
1444(as)S
12 C
('I''m)365 1575 A
(ready')438 2013 A
12 R
2451(.)S
4738 V
708(The)S
929(names)S
1271(of)S
1405(global)S
1741(variables)S
2213(and)S
2421(parameters)S
2988(closely)S
3365(resemble)S
(literals,)362 3837 A
4233(except)S
4583(that)S
4799(they)S
5041(may)S
4878 V
708(not)S
904(contain)S
1302(dots)S
1545(or)S
1688(minus-signs.)S
2374(A)S
2504(reference)S
2999(to)S
3135(a)S
3231(previously)S
3783(defined)S
4188(parameter)S
4716(or)S
4858(variable)S
5018 V
708(can)S
910(be)S
1058(made)S
1354(by)S
1508(prefixing)S
1986(the)S
2168(name)S
2464(with)S
2714(a)S
2802(dollar-sign)S
(\(``)123 3361 A
12 C
3484($)S
12 R
(''\).)153 3557 A
3774(Note)S
4045(that)S
4262(in)S
4391(the)S
4574(declaration)S
5148(of)S
5158 V
708(a)S
792(parameter)S
1308(or)S
1439(variable)S
1860(no)S
2010(dollar-sign)S
2565(is)S
2676(used,)S
2957(as)S
3088(is)S
3199(the)S
3377(case)S
3616(for)S
3788(the)S
3966(Bourne)S
4351(shell)S
4610(and)S
12 I
4814(make)S
12 R
5080(.)S
5334 V
708(The)S
926(operators)S
1407(and)S
1611(delimiters)S
2127(composed)S
2646(of)S
2777(special)S
3144(characters)S
3667(are)S
3846(shown)S
4191(in)S
4315(figure)S
4635(6.4.)S
5675 V
12 C
1068(=)S
1652(==)S
2236(<>)S
2820(=>)S
3404(+)S
3988(?)S
5815 V
1068(&)S
1652(:)S
2236(,)S
2820(;)S
3404(/)S
3988(\\)S
5955 V
1068(\()S
1652(\))S
2236({)S
2820(})S
3404([)S
3988(])S
6296 V
10 B
2298(Fig.)S
2488(6.4.)S
10 R
2663(Operators)S
3086(and)S
3256(delimiters)S
6584 V
12 R
708(Comments)S
1265(are)S
(introduced)517 1448 A
1999(with)S
2249(the)S
(\(unquoted\))530 2431 A
2995(character)S
3475(``)S
12 C
3557(#)S
12 R
3630('')S
3746(and)S
3954(continue)S
(till)136 4404 A
4574(the)S
4756(end)S
4965(of)S
5101(the)S
6724 V
708(line.)S
998(White)S
(space)269 1342 A
(\(spaces,)387 1659 A
2094(tabs)S
2337(and)S
2559(newlines\))S
3079(is)S
3208(not)S
3410(significant,)S
3999(other)S
4295(than)S
4550(as)S
4698(a)S
4799(means)S
5155(to)S
6864 V
708(separate)S
1136(tokens.)S
7700 V
708(86)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 87 93
BP
/slant 0 def
/height 0 def
860 V
12 B
708(6.3.6.)S
1068(Amake)S
1468(Constructions)S
1036 V
12 R
708(The)S
927(most)S
1193(important)S
(constituents)578 1695 A
2304(of)S
2436(an)S
12 I
2581(amake)S
12 R
2938(``program'')S
3543(are)S
3723(the)S
12 I
3902(cluster)S
12 R
4273(and)S
12 I
4478(tool)S
(definitions)511 4698 A
12 R
5219(,)S
1176 V
708(and)S
913(the)S
12 I
1092(attribute)S
1540(derivation)S
2068(rules)S
12 R
2320(.)S
2411(They)S
2689(describe,)S
3153(respectively,)S
3799(the)S
3977(software)S
4426(configurations)S
5155(to)S
1316 V
708(be)S
854(managed,)S
1352(the)S
1533(tools)S
1801(available,)S
2302(and)S
2509(how)S
2750(some)S
3038(attribute)S
3476(of)S
3610(an)S
3757(object)S
4086(could)S
4387(be)S
4534(computed,)S
5073(if)S
5181(it)S
1456 V
708(were)S
(still)183 979 A
(unknown.)478 1196 A
1738(These)S
2061(basic)S
2344(constructs)S
2869(are)S
3052(used)S
3307(as)S
3442(an)S
3590(information)S
4196(base)S
4444(in)S
4571(the)S
4752(process)S
5148(of)S
1596 V
708(determining)S
1335(what)S
1613(actions)S
12 I
1998(amake)S
12 R
2366(has)S
2570(to)S
2707(perform,)S
3171(when)S
(updating)422 3476 A
3941(a)S
4038(configuration.)S
(Although)456 4793 A
1736 V
708(they)S
951(may)S
1194(be)S
1343(considered)S
1902(as)S
12 I
2038(declarative)S
12 R
(language)436 2618 A
3089(constructs)S
3615(\(like)S
12 I
3872(facts)S
12 R
4135(in)S
4263(logic)S
4539(programs\),)S
5101(the)S
1876 V
708(order)S
1009(of)S
(definition)471 1155 A
1671(is)S
1797(sometimes)S
2360(significant,)S
2947(e.g.,)S
3196(derivations)S
3779(rules)S
4060(are)S
4254(tried)S
4522(in)S
4661(the)S
4854(order)S
5155(in)S
2016 V
708(which)S
1034(they)S
1272(are)S
1451(declared.)S
2192 V
708(Formally,)S
1224(at)S
1354(the)S
1544(highest)S
1935(level)S
2213(an)S
12 I
2369(amake)S
12 R
2737(specification)S
3399(file)S
3604(has)S
3807(the)S
3997(structure)S
4464(shown)S
4822(in)S
4959(figure)S
2332 V
708(6.5.)S
948(Note)S
1214(that)S
(each)222 1426 A
12 I
1678(amake-def)S
12 R
2213(must)S
2478(be)S
2622(followed)S
3083(by)S
3233(a)S
3317(semicolon.)S
2673 V
12 I
1068(amake-program)S
12 C
(::=)219 1920 A
12 I
2268(amake-def-list)S
2813 V
1068(amake-def-list)S
12 C
(::=)219 1836 A
2268([)S
12 I
2414(amake-def)S
12 C
(";")219 2992 A
3284(]*)S
3093 V
12 I
1068(amake-def)S
12 C
(::=)219 1646 A
2268([)S
12 I
2414(cluster-def)S
12 C
3468(|)S
12 I
3614(default-def)S
3233 V
12 C
2268(|)S
12 I
2414(tool-def)S
12 C
3468(|)S
12 I
3614(derivation-rule)S
3373 V
12 C
2268(|)S
12 I
2414(assignment)S
12 C
3468(|)S
12 I
3614(declaration)S
3513 V
12 C
2268(|)S
12 I
2414(source-inclusion)S
12 C
3468(|)S
12 I
(conditional)550 3614 A
3653 V
12 C
2268(|)S
12 I
2414(generic)S
12 C
3468(|)S
12 I
3614(instantiation)S
3793 V
12 C
2268(|)S
12 I
2414(import)S
12 C
3468(|)S
12 I
3614(export)S
3933 V
12 C
2268(])S
4274 V
10 B
2470(Fig.)S
2660(6.5.)S
10 R
2835(Global)S
3134(structure)S
4562 V
12 R
708(In)S
842(order)S
1131(to)S
1259(make)S
1555(it)S
1657(possible)S
2087(to)S
2215(share)S
2505(data)S
2741(between)S
3179(several)S
3557(constructs)S
4082(within)S
4426(a)S
4514(description)S
5086(file)S
4702 V
708(\(e.g.,)S
1002(clusters)S
1422(having)S
1798(partly)S
2129(the)S
2325(same)S
2622(sources\))S
3074(and)S
(among)328 3296 A
3672(independent)S
4310(description)S
4896(files)S
5154(\(a)S
4842 V
708(common)S
1163(tool)S
1384(library,)S
1771(for)S
1946(instance\))S
2417(there)S
2693(are)S
2875(also)S
3103(some)S
3391(imperative)S
3944(constructs)S
4469(available.)S
5001(They)S
4982 V
708(include)S
1101(the)S
12 I
1286(assignment)S
12 R
1830(,)S
12 I
1897(source)S
2256(code)S
2521(inclusion)S
12 R
2964(,)S
12 I
(conditional)550 3031 A
(definition)464 3617 A
12 R
4081(,)S
4147(a)S
(facility)345 4237 A
4618(to)S
4748(create)S
5075(and)S
5122 V
708(instantiate)S
12 I
1237(generic)S
12 R
(pieces)303 1630 A
1963(of)S
12 I
2094(amake)S
12 R
2450(code,)S
2738(and)S
12 I
2942(environment)S
12 R
3577(interaction.)S
5298 V
708(Almost)S
1110(all)S
1277(top-level)S
1753(constructs)S
2289(may)S
2542(contain)S
2943(general)S
3345(expressions.)S
4014(In)S
4160(order)S
4461(to)S
4600(avoid)S
(getting)336 4913 A
5438 V
708(too)S
905(technical)S
1386(right)S
1658(away,)S
1987(expressions)S
(will)190 2594 A
2827(be)S
2984(defined)S
3390(more)S
3682(formally)S
4143(in)S
4280(a)S
4377(later)S
4636(section.)S
5081(We)S
5578 V
(will)190 708 A
928(first)S
1155(go)S
(through)375 1305 A
1710(the)S
1888(top-level)S
(language)436 2349 A
2815(elements)S
3276(available.)S
5998 V
12 B
708(6.3.7.)S
1068(Clusters)S
6174 V
12 R
708(Clusters)S
1147(are)S
1338(used)S
1601(to)S
1737(describe)S
2183(a)S
12 I
2279(configuration)S
12 R
2978(of)S
3121(sources)S
3526(and)S
3742(targets)S
4108(that)S
4333(have)S
4604(to)S
4741(be)S
4898(created)S
6314 V
708(from)S
982(the)S
1168(former.)S
1596(It)S
1708(is)S
12 I
1826(amake)S
12 R
2152('s)S
2277(task)S
2509(to)S
2640(determine)S
3162(which)S
3495(tools)S
3767(it)S
3872(has)S
4070(to)S
4201(apply)S
4506(to)S
4637(achieve)S
5044(this.)S
6454 V
708(If)S
823(there)S
1099(is)S
1213(more)S
1495(than)S
1736(one)S
1943(way)S
2179(to)S
2307(do)S
2461(this)S
2670(\320)S
2824(for)S
3000(instance,)S
3461(two)S
3677(different)S
4130(compilers)S
4642(for)S
4818(the)S
5000(same)S
6594 V
(language)436 708 A
1176(could)S
1476(be)S
1622(defined)S
2017(\320)S
12 I
2169(amake)S
12 R
2527(points)S
2854(out)S
3040(the)S
3220(conflict,)S
3653(and)S
3859(the)S
4039(user)S
(will)190 4273 A
4495(have)S
4755(to)S
4880(provide)S
6734 V
(additional)484 708 A
1247(information,)S
1904(enabling)S
12 I
2375(amake)S
12 R
2756(to)S
2905(find)S
3155(a)S
3264(unique)S
3648(solution.)S
4153(The)S
4397(syntax)S
4768(of)S
4925(cluster)S
6874 V
(definitions,)548 708 A
1295(as)S
1435(well)S
1683(as)S
1822(their)S
2083(semantics)S
(will)190 2599 A
2827(be)S
2979(presented)S
3481(at)S
3607(the)S
3793(end)S
4005(of)S
4144(this)S
4357(section,)S
4768(but)S
4960(first)S
5195(a)S
7014 V
(non-trivial)512 708 A
1250(example.)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(87)S
7920 V
EP
%%Page: 88 94
BP
/slant 0 def
/height 0 def
860 V
12 B
708(Example)S
1036 V
12 R
708(To)S
877(show)S
1167(a)S
1256(bit)S
1419(more)S
1703(of)S
12 I
1839(amake)S
12 R
2165('s)S
(capabilities,)583 2288 A
2906(consider)S
3351(the)S
3534(extended)S
4005(software)S
4460(configuration)S
5148(of)S
1176 V
708(figure)S
1028(6.6.)S
1517 V
11 C
1135(1)S
(%include)536 1269 A
(std-amake.amk;)938 1872 A
1657 V
1135(2)S
1797 V
1135(3)S
(SRC)201 1269 A
1537(=)S
1671({)S
(parse.y,)536 1805 A
(scan.l,)469 2408 A
(comp.c,)469 2944 A
(defs.h,)469 3480 A
(comp.a)402 4016 A
4485(};)S
1937 V
1135(4)S
(FLAGS)335 1269 A
1671(=)S
('-DAMOEBA';)737 1805 A
2077 V
1135(5)S
2217 V
1135(6)S
(%cluster)536 1269 A
2006(#)S
(made)268 2140 A
2475(by)S
(default.)536 2676 A
2357 V
1135(7)S
1269({)S
2497 V
1135(8)S
(%targets)536 1403 A
(comp[type)603 2006 A
2676(=)S
(program];)603 2810 A
2637 V
1135(9)S
(%sources)536 1403 A
($SRC;)335 2006 A
2777 V
1068(10)S
(%use)268 1403 A
(cc-c\(flags)670 2006 A
2743(=>)S
($FLAGS,)469 2944 A
(optimize)536 3480 A
4083(=>)S
(%true\);)469 4284 A
2917 V
1068(11)S
1269(};)S
3057 V
1068(12)S
3197 V
1068(13)S
(%cluster)536 1269 A
2006(#)S
(only)268 2140 A
(made)268 2475 A
(when)268 2810 A
(asked)335 3145 A
(for.)268 3547 A
3337 V
1068(14)S
1269({)S
3477 V
1068(15)S
(%targets)536 1403 A
(comp)268 2006 A
11 Y1
2274(3)S
11 C
(debug[type)670 2329 A
3066(=)S
(program];)603 3200 A
3617 V
1068(16)S
(%sources)536 1403 A
($SRC)268 2006 A
2341(+)S
(debug.c;#)603 2475 A
(extra)335 3145 A
(source)402 3547 A
3757 V
1068(17)S
(%use)268 1403 A
(cc-c\(flags)670 2006 A
2743(=>)S
($FLAGS)402 2944 A
3413(+)S
('-DDEBUG'\);)737 3547 A
3897 V
1068(18)S
1269(};)S
4238 V
10 B
2139(Fig.)S
2329(6.6.)S
10 R
2504(Extended)S
2909(configuration)S
3476(example)S
4526 V
12 R
708(This)S
(definition)471 998 A
1544(describes)S
2071(a)S
2201(common)S
2699(software)S
3194(development)S
3894(situation:)S
4421(we)S
4639(have)S
4943(a)S
5073(fast)S
4666 V
(``production'')687 708 A
1432(version)S
1825(\(defined)S
2266(on)S
2423(lines)S
2689(6)S
(through)375 2786 A
3198(11\))S
3396(and)S
3607(a)S
(debug)294 3698 A
4029(version)S
4422(\(defined)S
4863(on)S
5020(lines)S
4806 V
708(13)S
(through)375 875 A
1297(18\),)S
1535(which)S
1878(probably)S
2354(has)S
2562(some)S
(additional)484 2864 A
(capabilities.)583 3395 A
4055(Common)S
12 I
4550(make)S
12 R
4864(practice)S
4946 V
708(when)S
1000(we)S
1172(want)S
1438(to)S
1562(switch)S
1909(from)S
2175(a)S
(debug-)335 2259 A
2624(to)S
2748(a)S
2832(fast)S
3038(version)S
3424(is)S
3535(the)S
3713(following)S
4214(procedure:)S
5122 V
708(1\))S
958(execute)S
12 C
(make)292 1358 A
(clean)365 1723 A
12 R
2088(,)S
2148(which)S
(ought\(!\))397 2474 A
2901(to)S
3025(throw)S
3338(away)S
3624(previously)S
(produced)449 4164 A
4643(files)S
5298 V
708(2\))S
958(execute)S
12 C
(make)292 1358 A
(CFLAGS=-O)657 1723 A
12 R
2380(,)S
2440(which)S
2766(creates)S
3134(the)S
3312(version)S
3698(wanted.)S
5474 V
708(In)S
847(contrast,)S
12 I
1299(amake)S
12 R
1663(maintains)S
2172(its)S
2325(own)S
12 I
2571(object)S
(pool)214 2905 A
12 R
3157(of)S
3296(files)S
3544(generated,)S
(without)370 4084 A
4493(the)S
4680(user)S
4921(having)S
5614 V
708(to)S
833(notice)S
1160(it)S
1259(\(other)S
1580(than)S
1819(that)S
2032(some)S
2318(builds)S
2644(might)S
2957(be)S
3102(unexpectedly)S
3776(quick\).)S
4175(Besides)S
4581(the)S
4759(advantage)S
5754 V
708(of)S
846(not)S
1037(having)S
1402(to)S
(look)214 1533 A
1784(at)S
1910(a)S
2002(directory)S
2478(cluttered)S
2941(up)S
3099(with)S
3353(objects)S
3734(that)S
3954(are)S
4141(\320)S
4299(or)S
(should)321 4438 A
4797(be!)S
4990(\320)S
5148(of)S
5894 V
708(no)S
860(interest)S
1249(to)S
1374(the)S
1553(programmer,)S
2213(this)S
2419(gives)S
12 I
2705(amake)S
12 R
3062(the)S
(opportunity)563 3241 A
3835(to)S
3960(retain)S
4268(intermediate)S
4906(objects)S
6034 V
708(that)S
920(may)S
1158(be)S
1302(of)S
1433(use)S
1624(in)S
1748(later)S
1995(runs.)S
6210 V
708(It)S
819(is)S
937(even)S
1202(possible)S
1635(to)S
1766(maintain)S
2227(both)S
2478(\(fast)S
2732(and)S
(debug\))335 2943 A
3315(versions)S
3755(in)S
3886(one)S
4097(run:)S
4329(there)S
4609(is)S
4727(an)S
4878(internal)S
6350 V
708(locking)S
1125(mechanism)S
1731(that)S
1968(allows)S
2340(both)S
2608(clusters)S
3033(to)S
3181(be)S
(updated.)412 3349 A
(\(If)123 3845 A
4022(there)S
4319(are)S
4522(sufficient)S
(pool)214 5035 A
6490 V
708(processors,)S
1290(one)S
1505(might)S
1828(as)S
1970(well)S
2221(use)S
2423(it\).)S
2634(If)S
2758(this)S
2975(kind)S
3231(of)S
3374(use)S
3577(is)S
3700(intended,)S
4188(the)S
4378(targets)S
4744(must)S
5021(have)S
6630 V
708(different)S
1157(names)S
1496(or)S
1627(destination)S
2188(directories,)S
2761(of)S
2892(course.)S
6806 V
708(As)S
879(a)S
970(final)S
1230(remark,)S
1641(situations)S
2142(as)S
(above,)318 2280 A
2635(where)S
2969(some)S
3261(constructs)S
3789(\320)S
3946(clusters)S
4354(in)S
4485(this)S
4697(case)S
4943(\320)S
5100(are)S
6946 V
708(repeated)S
1184(with)S
1465(minor)S
1819(differences,)S
2454(can)S
2687(be)S
2866(handled)S
3312(more)S
(conveniently)624 3625 A
4313(by)S
4497(making)S
4923(use)S
5148(of)S
7086 V
12 I
708(generics)S
12 R
1128(,)S
1188(which)S
1514(are)S
1693(described)S
2187(later)S
2434(on.)S
7700 V
708(88)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 89 95
BP
/slant 0 def
/height 0 def
860 V
12 B
708(Syntax)S
1036 V
12 R
708(The)S
926(syntax)S
1271(of)S
1402(a)S
1486(cluster)S
(definition)471 1840 A
2341(is)S
2452(shown)S
2797(in)S
2921(figure)S
3241(6.7.)S
1377 V
12 I
1068(cluster-def)S
12 C
(::=)219 2236 A
12 B
2528(%cluster)S
12 I
3072(cluster-name)S
12 C
3778(?)S
1517 V
("{")219 2528 A
1657 V
2528([)S
12 B
2674(%targets)S
12 I
3224(expression-list)S
12 C
(";")219 4004 A
4296(]?)S
1797 V
2528([)S
12 B
(%sources)503 2674 A
12 I
3250(expression-list)S
12 C
(";")219 4030 A
4322(]?)S
1937 V
2528([)S
12 B
2674(%use)S
12 I
3327(tool-usage-list)S
12 C
(";")219 4100 A
2077 V
2528(|)S
12 B
2674(%do)S
12 I
3359(statement-list)S
2217 V
12 C
2528(]?)S
2357 V
("}")219 2528 A
2637 V
12 I
1068(cluster-name)S
12 C
(::=)219 2236 A
12 I
2528(expression)S
2917 V
1068(tool-usage-list)S
12 C
(::=)219 2236 A
12 I
2528(tool-usage)S
12 C
3111([)S
(",")219 3257 A
12 I
3549(tool-usage)S
12 C
4132(]*)S
3057 V
12 I
1068(tool-usage)S
12 C
(::=)219 2236 A
12 I
(identifier)445 2528 A
12 C
("\(")219 3046 A
12 I
3338(argument-list)S
12 C
("\)")219 4064 A
3337 V
12 I
1068(statement-list)S
12 C
(::=)219 2236 A
2528([)S
12 I
2674(statement)S
12 C
(";")219 3212 A
3504(]*)S
3477 V
12 I
1068(statement)S
12 C
(::=)219 2236 A
12 I
2528(expression)S
3818 V
10 B
2299(Fig.)S
2489(6.7.)S
10 R
2664(Cluster)S
(definition)391 2980 A
3396(syntax)S
4106 V
12 R
708(Note)S
979(that)S
1196(the)S
1379(cluster)S
1738(name)S
2035(may)S
2278(be)S
2427(an)S
2576(expression)S
3128(\320)S
3284(rather)S
3604(than)S
3848(just)S
4059(a)S
(literal)285 4149 A
4470(\320)S
4626(which)S
4958(has)S
5155(to)S
4246 V
708(evaluate)S
1145(to)S
1272(a)S
1359(string.)S
1728(This)S
1976(makes)S
2318(it)S
2419(possible)S
2847(to)S
2973(include)S
3361(a)S
3447(cluster)S
(definition)471 3803 A
4306(in)S
4432(a)S
12 I
4518(generic)S
12 R
4891(,)S
4953(which)S
4386 V
708(is)S
(handy)294 840 A
1185(in)S
1330(case)S
1590(a)S
1695(lot)S
1874(of)S
2026(similarly)S
(looking)368 2509 A
2928(clusters)S
3350(have)S
3629(to)S
3774(be)S
3939(defined.)S
4413(We)S
(will)190 4633 A
4875(give)S
5135(an)S
4526 V
708(example)S
1148(of)S
1279(this)S
1484(construct)S
1958(when)S
2250(generics)S
2684(are)S
2863(defined.)S
4702 V
708(Cluster)S
1088(names)S
1427(can)S
1625(be)S
1769(given)S
2067(as)S
2198(argument)S
2685(to)S
12 I
2809(amake)S
12 R
3135(,)S
3195(in)S
3320(order)S
3607(to)S
3732(specify)S
4113(another)S
4507(cluster)S
4862(than)S
5101(the)S
4842 V
708(default)S
1084(one)S
1296(\(see)S
1530(the)S
1716(section)S
2097(on)S
2255(defaults\).)S
2778(A)S
2904(cluster)S
3266(name)S
3566(may)S
3812(also)S
4045(be)S
4197(absent,)S
4574(in)S
4706(which)S
5040(case)S
4982 V
12 I
708(amake)S
12 R
1064(takes)S
1343(the)S
1521(cluster)S
1875(to)S
1999(be)S
2143(a)S
2227(candidate)S
2721(for)S
2893(use)S
3084(as)S
12 I
3215(subcluster)S
12 R
3712(.)S
3802(Subclusters)S
4390(create)S
4712(targets)S
5067(that)S
5122 V
708(are)S
889(sources)S
1284(of)S
1417(other)S
1698(clusters.)S
2161(Given)S
2488(the)S
2667(clusters)S
3069(to)S
3194(be)S
(updated,)412 3339 A
3782(the)S
3961(subclusters)S
4530(are)S
4710(recursively)S
5262 V
708(determined.)S
5438 V
708(The)S
936(need)S
1204(for)S
1386(this)S
1601(construct)S
2085(arises)S
2402(when)S
2704(either)S
3021(a)S
3115(tool)S
3343(hierarchy)S
3841(creating)S
4272(the)S
4460(targets)S
4824(from)S
5101(the)S
5578 V
708(sources)S
(cannot)322 1112 A
1475(be)S
1630(constructed)S
2229(or)S
2371(\320)S
2532(a)S
2627(much)S
2936(more)S
3226(common)S
3689(case)S
3939(\320)S
4100(when)S
4402(the)S
4590(user)S
4832(wants)S
5155(to)S
5718 V
708(create)S
1034(a)S
12 I
1123(set)S
12 R
1293(of)S
1429(targets,)S
(each)222 1818 A
2075(defined)S
2473(by)S
2628(its)S
2778(own)S
3021(cluster)S
3380(containing)S
3926(its)S
4077(private)S
4450(sources,)S
(without)370 4879 A
5858 V
708(having)S
1066(to)S
1190(specify)S
1570(them)S
1842(all)S
1994(on)S
2144(the)S
2322(command)S
2828(line.)S
6034 V
708(The)S
12 C
(%targets)584 929 A
12 R
1546(and)S
12 C
(%sources)584 1753 A
12 R
2370(specification)S
(each)222 3023 A
3278(require)S
3655(an)S
3802(expression)S
4352(delivering)S
4877(a)S
4965(list)S
5148(of)S
6174 V
708(objects.)S
1142(Note)S
1409(that)S
1622(these)S
1902(expressions)S
2497(also)S
2723(may)S
2962(contain)S
3349(attribute)S
3785(assignments.)S
4466(In)S
4597(this)S
4802(case)S
5041(they)S
6314 V
708(are)S
891(taken)S
1187(to)S
1316(be)S
12 I
1465(local)S
12 R
1742(attributes,)S
2259(i.e.,)S
2472(it)S
2575(is)S
2691(possible)S
3122(in)S
12 I
3251(amake)S
12 R
3612(to)S
3741(let)S
3898(an)S
4047(object)S
4378(have)S
4641(type)S
12 C
(C-src)365 4884 A
6454 V
12 R
708(in)S
832(one)S
1036(cluster,)S
1420(and)S
1624(type)S
12 C
(text)292 1862 A
12 R
2184(in)S
2308(another.)S
6630 V
708(The)S
12 C
(%use)292 937 A
12 R
1270(clause)S
1614(serves)S
1958(two)S
2181(purposes.)S
2711(Firstly,)S
3099(it)S
3208(may)S
3457(be)S
3613(used)S
3876(to)S
4012(specify)S
4404(different)S
4865(defaults)S
6770 V
708(than)S
(supplied)409 953 A
1399(by)S
1556(the)S
1740(tool)S
(definition)471 1964 A
2471(itself.)S
(Secondly,)479 2811 A
3326(it)S
3430(can)S
3634(be)S
3784(used)S
4041(to)S
4171(remove)S
4570(a)S
4660(conflict)S
5067(that)S
6910 V
708(arises)S
1025(when)S
12 I
1327(amake)S
12 R
1693(finds)S
1975(that)S
2197(there)S
2480(is)S
2601(no)S
2761(unique)S
3129(set)S
3304(of)S
3445(tools)S
3720(that)S
3942(create)S
4273(the)S
4461(targets)S
4825(from)S
5101(the)S
7050 V
708(sources.)S
1161(Normally,)S
1686(when)S
1978(the)S
2156(standard)S
2596(tool)S
2814(set)S
2979(is)S
3090(used,)S
3371(this)S
(should)321 3576 A
3927(not)S
4111(be)S
(necessary.)501 4255 A
7226 V
708(The)S
12 C
(%do)219 927 A
12 R
1177(clause)S
1512(gives)S
1799(an)S
(opportunity)563 1945 A
2540(to)S
2666(override)S
12 I
3102(amake)S
12 R
3428('s)S
3548(default)S
3917(behavior)S
4372(of)S
4505(deciding)S
4953(which)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(89)S
7920 V
EP
%%Page: 90 96
BP
/slant 0 def
/height 0 def
860 V
12 R
708(tools)S
1002(to)S
1155(run.)S
1435(It)S
1569(resembles)S
12 I
2113(make's)S
12 R
2526(explicit)S
2948(rule)S
3195(mechanism.)S
3864(The)S
12 I
4110(statement-list)S
12 R
4823(is)S
4962(just)S
5195(a)S
1000 V
(boolean)382 708 A
1127(expression)S
1681(to)S
1812(be)S
1963(evaluated;)S
2498(the)S
2683(semicolons)S
3265(are)S
3452(interpreted)S
4016(as)S
12 C
(%and)292 4155 A
12 R
4485(operators.)S
5034(This)S
1140 V
708(statement)S
1208(list)S
(will)190 1392 A
1617(generally)S
2103(consist)S
2474(of)S
2610(an)S
12 C
(exec)292 2759 A
12 R
3086(call,)S
3327(which)S
3658(is)S
3773(executed)S
(each)222 4237 A
4493(time)S
4743(the)S
4925(cluster)S
1280 V
708(is)S
822(run.)S
1076(Alternatively)S
1750(an)S
1897(explicit)S
2295(tool)S
(invocation)510 2517 A
3061(can)S
3263(be)S
3411(made.)S
3767(In)S
3902(this)S
4111(case)S
4354(it)S
4456(is)S
4571(only)S
4819(executed)S
1420 V
708(when)S
1002(the)S
(inputs)295 1182 A
1509(of)S
1642(the)S
1822(tool)S
2042(\(usually)S
2464(consisting)S
2986(of)S
3119(all)S
3273(the)S
3453(sources)S
3848(of)S
3981(the)S
4161(cluster\))S
4558(have)S
4817(changed.)S
1560 V
708(If)S
820(the)S
998(statement)S
1494(list)S
1674(does)S
1926(not)S
2111(evaluate)S
2546(to)S
12 C
(%true)365 2671 A
12 R
3036(,)S
3097(the)S
3276(build)S
3555(of)S
3687(the)S
3866(cluster)S
4221(is)S
4333(said)S
4559(to)S
4684(have)S
12 I
4943(failed)S
12 R
5219(,)S
1700 V
708(which)S
(will)190 1034 A
1254(be)S
1398(reported.)S
1876 V
708(Clusters)S
1136(that)S
1349(have)S
1608(neither)S
1976(a)S
12 C
(%use)292 2061 A
12 R
2384(nor)S
2576(a)S
12 C
(%do)219 2661 A
12 R
2912(clause,)S
3277(are)S
3458(handled)S
3872(as)S
12 C
(%use)292 4005 A
12 R
4329(clause)S
4664(clusters)S
5067(that)S
2016 V
708(do)S
858(not)S
1042(change)S
1414(defaults,)S
1858(and)S
2062(thus)S
2293(let)S
12 I
2445(amake)S
12 R
2801(find)S
3026(out)S
3210(which)S
3536(tools)S
3801(it)S
3899(has)S
4090(to)S
4214(run)S
4405(in)S
4529(what)S
4795(order.)S
2296 V
12 B
708(Default)S
1123(Clusters)S
2472 V
12 R
708(As)S
12 I
893(amake)S
12 R
1269(allows)S
(multiple)404 1636 A
2090(clusters)S
2511(to)S
2655(be)S
2819(declared,)S
3310(there)S
3603(has)S
3814(to)S
3959(be)S
4124(a)S
4229(way)S
4482(to)S
4627(tell)S
4834(it)S
4953(which)S
2612 V
708(clusters)S
1116(are)S
1302(to)S
1433(be)S
(brought)375 1584 A
1996(up)S
2153(to)S
2284(date.)S
2583(Apart)S
2897(from)S
3170(specifying)S
3710(clusters)S
4117(to)S
4247(be)S
(built)222 4397 A
4655(as)S
4792(argument)S
2752 V
708(when)S
12 I
1006(amake)S
12 R
1368(is)S
(invoked,)418 1485 A
1939(it)S
2043(is)S
2160(also)S
2392(possible)S
2825(to)S
2956(mark)S
3242(some)S
3534(of)S
3672(the)S
3857(clusters)S
4265(as)S
4403(``default''.)S
5001(They)S
2892 V
(will)190 708 A
941(be)S
1098(constructed)S
1699(in)S
1836(case)S
2088(no)S
2251(cluster)S
2617(is)S
2740(mentioned.)S
3352(Default)S
3759(clusters)S
4172(are)S
4363(specified)S
4843(with)S
5101(the)S
3032 V
708(following)S
1209(syntax:)S
3232 V
12 I
1068(default-def)S
12 C
(::=)219 1666 A
12 B
1958(%default)S
12 I
2515(expression)S
3432 V
12 R
708(The)S
970(expression)S
1561(given)S
1903(as)S
2079(argument)S
(should)321 2611 A
3007(evaluate)S
3486(to)S
3655(the)S
3878(names)S
4262(of)S
4438(the)S
4661(clusters)S
5107(\(or)S
3572 V
(corresponding)691 708 A
1429(targets\))S
1824(to)S
1948(be)S
(built)222 2092 A
2344(by)S
2494(default.)S
(Multiple)417 2921 A
3368(default)S
(definition)471 3735 A
4236(are)S
4415(allowed.)S
3992 V
12 B
708(6.3.8.)S
1068(Attribute)S
1585(Derivation)S
2167(Rules)S
4168 V
12 R
708(When)S
12 I
1039(amake)S
12 R
1408(has)S
1612(to)S
1749(decide)S
2108(whether)S
2542(a)S
2639(certain)S
3013(object)S
3352(may)S
3603(be)S
3760(used)S
4024(as)S
4168(the)S
(input)248 4359 A
4651(or)S
4796(output)S
5148(of)S
4308 V
708(some)S
1016(tool,)S
1287(it)S
1408(first)S
(looks)261 1658 A
1972(at)S
2113(attributes)S
2617(already)S
(known)328 3026 A
(about)268 3406 A
3726(the)S
3926(object.)S
4334(If)S
4468(the)S
4668(value)S
4982(of)S
5135(an)S
4448 V
708(attribute)S
1146(that)S
1361(is)S
1475(needed)S
1850(is)S
1964(not)S
2152(present,)S
12 I
2566(amake)S
12 R
2926(tries)S
3170(to)S
12 I
3298(derive)S
12 R
3645(it,)S
3777(using)S
4072(the)S
12 I
4254(attribute)S
4705(derivations)S
4588 V
708(rules)S
12 R
1029(relevant)S
1499(for)S
1720(that)S
1981(attribute.)S
2525(Such)S
2845(a)S
2978(rule)S
3245(has)S
3484(two)S
3744(parts:)S
4092(a)S
4224(specification)S
4922(of)S
5101(the)S
4728 V
708(attribute/value)S
1450(pairs)S
1728(to)S
1864(be)S
2020(attached,)S
2496(and)S
2712(a)S
12 I
(condition)456 2808 A
12 R
3306(which)S
(places)303 3644 A
3989(a)S
4085(restriction)S
4620(on)S
4782(the)S
4972(rule's)S
4868 V
(applicability.)636 708 A
1404(A)S
1522(derivation)S
2043(is)S
(introduced)517 2154 A
2701(as)S
2832(follows:)S
5068 V
12 I
1068(derivation-rule)S
12 C
(::=)219 1874 A
12 B
2236(%derive)S
12 I
(identifier)445 2752 A
12 C
("[")219 3270 A
12 I
3562(attr-spec-list)S
12 C
("]")219 4256 A
5208 V
12 B
2236(%when)S
12 I
2705(expression)S
5408 V
12 R
708(The)S
950(identifier)S
1450(\(say)S
(``id''\))299 1706 A
2059(serves)S
2416(as)S
2571(a)S
2679(parameter)S
3219(to)S
3367(the)S
3570(derivation)S
4116(rule,)S
4390(so)S
4552(that)S
4789(it)S
4912(can)S
5135(be)S
5548 V
708(referred)S
1156(to)S
1312(\(by)S
(``$id''\))359 1535 A
1956(in)S
2112(the)S
2322(rest)S
2560(of)S
2723(the)S
2932(rule.)S
3242(When)S
3591(a)S
3706(rule)S
3956(is)S
4098(tried,)S
4412(the)S
4621(parameter)S
5168(is)S
5688 V
708(instantiated)S
1297(to)S
1421(the)S
1599(object)S
1925(for)S
2097(which)S
2423(the)S
2601(attribute\(s\))S
3165(have)S
3423(to)S
3547(be)S
3691(computed.)S
5864 V
708(Derivations)S
1312(rules)S
1586(are)S
1773(tried)S
2034(one)S
2246(by)S
2404(one,)S
2647(in)S
2780(the)S
2967(order)S
3262(in)S
3395(which)S
3730(they)S
3977(are)S
4165(defined.)S
4627(If)S
4748(one)S
4961(of)S
5101(the)S
6004 V
708(derivations)S
12 I
(succeeds)430 1320 A
12 R
1750(,)S
1854(i.e.,)S
2106(its)S
(condition)456 2295 A
2825(evaluates)S
3350(to)S
12 C
(%true)365 3518 A
12 R
3883(,)S
3986(the)S
4207(values)S
4589(specified)S
5100(are)S
6144 V
708(permanently)S
1349(attached)S
1789(to)S
1919(the)S
2103(object.)S
2495(If,)S
2643(however,)S
3126(the)S
3310(attribute)S
3751(can)S
3955(not)S
4146(be)S
4297(derived,)S
4727(the)S
4912(special)S
6284 V
708(value)S
12 C
(%unknown)584 1000 A
12 R
1614(is)S
1725(given)S
2023(by)S
2173(default.)S
6460 V
708(An)S
890(often)S
1173(used)S
1428(derivation)S
1953(is)S
2068(that)S
2284(of)S
2420(the)S
2603(suffix)S
2921(based)S
3231(``type'')S
3638(attribute.)S
4138(Consider)S
4609(the)S
4792(examples)S
6600 V
708(in)S
832(the)S
1010(next)S
1248(figure.)S
6776 V
708(The)S
930(third)S
1193(derivation)S
1718(is)S
1833(especially)S
2352(interesting.)S
2958(Tool)S
(definitions)518 3220 A
3772(\(described)S
4311(in)S
4439(the)S
4622(next)S
4865(section\))S
6916 V
708(require)S
1098(the)S
1292(attributes)S
1790(of)S
1937(in-)S
2118(and)S
2338(output)S
2692(objects)S
3081(to)S
3221(be)S
(explicitly)458 3381 A
3885(defined;)S
4328(there)S
4617(is)S
4743(no)S
4908(way)S
5155(to)S
7056 V
708(specify)S
1090(that)S
1304(an)S
1450(object)S
1778(has)S
1971(got)S
2157(to)S
2283(have)S
2544(value)S
2839(``C-incl'')S
12 I
3339(or)S
12 R
3479(value)S
3774(``C-src'')S
4234(for)S
4409(attribute)S
4847(``type''.)S
7196 V
708(By)S
(introducing)557 887 A
1483(new)S
1724(attributes)S
2215(and)S
(corresponding)691 2428 A
3158(derivation)S
3688(rules,)S
3993(one)S
4206(can)S
4413(work)S
(around)335 4701 A
5074(this)S
7336 V
708(restriction.)S
1310(The)S
1547(final)S
1819(derivation)S
2359(shows)S
2710(how)S
2967(we)S
3158(can)S
3375(prevent)S
12 I
3787(amake)S
12 R
(setting)323 4163 A
4536(an)S
4700(attribute)S
5155(to)S
7700 V
708(90)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 91 97
BP
/slant 0 def
/height 0 def
1061 V
11 C
(%derive)469 1068 A
(f[type)402 1604 A
2073(=)S
(C-src])402 2207 A
(%when)335 2743 A
(matches\($f,)737 3145 A
('%.c'\);)469 3949 A
1201 V
(%derive)469 1068 A
(f[type)402 1604 A
2073(=)S
(C-incl])469 2207 A
(%when)335 2743 A
(matches\($f,)737 3145 A
('%.h'\);)469 3949 A
1341 V
(%derive)469 1068 A
(f[C-src-or-incl])1072 1604 A
(%when)335 2743 A
3145($f)S
3346(?)S
(type)268 3480 A
3815(==)S
(C-src)335 4016 A
1481 V
(%or)201 2743 A
3145($f)S
3346(?)S
(type)268 3480 A
3815(==)S
(C-incl;)469 4016 A
1621 V
(%derive)469 1068 A
(f[any-src])670 1604 A
(%when)335 2743 A
(%true;)402 3145 A
1962 V
10 B
2287(Fig.)S
2477(6.8.)S
10 R
2652(Derivation)S
3108(rule)S
3290(examples)S
2214 V
12 C
(%unknown)584 708 A
12 R
1292(,)S
1352(by)S
1502(default.)S
2634 V
12 B
708(6.3.9.)S
1068(Tool)S
1332(definitions)S
2810 V
12 R
708(The)S
946(existence)S
1447(and)S
1671(characteristics)S
2417(of)S
2568(tools)S
2853(that)S
3085(might)S
3417(be)S
3581(used)S
3852(by)S
12 I
4022(amake)S
12 R
4398(have)S
4677(to)S
4822(be)S
4987(made)S
2950 V
(known)328 708 A
1069(by)S
1222(means)S
1564(of)S
12 I
1698(tool)S
(definitions)511 1919 A
12 R
2430(.)S
2523(Tool)S
(definitions)518 2784 A
3335(form)S
3604(an)S
(interface)426 3751 A
4210(to)S
4337(a)S
4424(set)S
4592(of)S
4726(commands)S
3090 V
708(\(defined)S
1176(in)S
1334(the)S
1546(tool)S
(body\))281 1798 A
2143(that)S
2390(are)S
2604(to)S
2763(be)S
2942(executed.)S
3497(They)S
3810(also)S
4070(provide)S
4504(more)S
4818(semantic)S
3230 V
708(information)S
1310(than)S
1548(the)S
1726(\(textual\))S
2168(commands)S
2721(themselves.)S
3406 V
708(The)S
926(main)S
1198(properties)S
1713(of)S
1844(a)S
1928(tool)S
(definition)471 2146 A
2647(are:)S
3582 V
12 Y1
708(d)S
12 R
958(It)S
1068(describes)S
1554(what)S
1825(attribute)S
2265(values)S
2609(the)S
(input)248 2792 A
3075(objects)S
3453(are)S
(supposed)448 3637 A
4120(to)S
4249(have.)S
4573(The)S
4797(attributes)S
3722 V
958(are)S
1143(examined)S
1649(in)S
1779(the)S
1963(algorithm)S
12 I
2470(amake)S
12 R
2832(uses)S
3076(to)S
3205(decide)S
3556(whether)S
3982(the)S
4165(tool)S
(should)321 4388 A
4744(be)S
4893(applied)S
3862 V
958(to)S
1082(source)S
1428(or)S
1559(intermediate)S
2196(objects.)S
4038 V
12 Y1
708(d)S
12 R
958(It)S
1111(describes)S
1640(what)S
1954(attribute)S
2437(values)S
(will)190 2824 A
3092(be)S
3284(attached)S
3766(to)S
3938(the)S
4165(output)S
4552(objects.)S
5034(This)S
4178 V
958(information)S
1603(is)S
1757(needed)S
(because)383 2172 A
2627(the)S
2847(files)S
(produced)449 3129 A
3650(possibly)S
4124(require)S
4540(processing)S
5129(by)S
4318 V
958(subsequent)S
1537(tools.)S
1875(The)S
2106(attributes)S
2601(can)S
2812(also)S
3050(be)S
3207(used)S
3471(to)S
3608(determine)S
4136(what)S
4415(name)S
4720(the)S
4912(default)S
4458 V
958(output)S
1303(objects)S
(will)190 1683 A
1910(have.)S
2234(It)S
2345(often)S
2630(happens)S
3061(to)S
3191(be)S
3341(the)S
3525(case)S
3770(that)S
3988(the)S
4172(default)S
4545(output)S
4889(file)S
5088(has)S
4598 V
958(the)S
1136(same)S
12 I
1415(basename)S
12 R
1938(as)S
2069(one)S
2273(of)S
2404(the)S
(inputs.)325 2582 A
4774 V
12 Y1
708(d)S
12 R
958(It)S
1066(is)S
1180(possible)S
1609(to)S
1736(create)S
2060(a)S
2147(relatively)S
2639(system)S
3008(independent)S
(interface)426 3632 A
4092(by)S
(introducing)557 4246 A
(boolean,)412 4837 A
4914 V
958(string,)S
1294(or)S
1425(string)S
1731(list)S
1910(parameters,)S
2503(which)S
2829(may)S
3067(influence)S
3548(tool)S
3766(behavior.)S
5090 V
12 Y1
708(d)S
12 R
958(Temporary)S
1534(files)S
1782(can)S
1988(be)S
2140(specified)S
2616(so)S
2761(that)S
12 I
2981(amake)S
12 R
3345(can)S
3551(take)S
3791(measures)S
4280(not)S
4472(to)S
4604(let)S
4764(two)S
4984(tools,)S
5230 V
958(using)S
1249(the)S
1427(same)S
1706(file,)S
1929(interfere.)S
5406 V
12 Y1
708(d)S
12 R
958(It)S
1103(is)S
1254(possible)S
1720(to)S
(supply)321 1884 A
2275(default)S
2682(values)S
3061(for)S
3273(most)S
3579(of)S
3751(the)S
3970(parameters,)S
4604(so)S
4782(that)S
5035(only)S
5546 V
958(differences)S
1528(with)S
1774(the)S
1952(standard)S
2392(behavior)S
2845(are)S
3024(to)S
3148(be)S
3292(specified)S
3760(in)S
3884(the)S
4062(cluster's)S
12 C
(%use)292 4504 A
12 R
4826(clause.)S
5826 V
12 B
708(Example)S
6002 V
12 R
708(We)S
(will)190 914 A
1142(first)S
1377(give)S
1623(an)S
1775(example)S
2223(before)S
2571(turning)S
2958(to)S
3091(the)S
3278(general)S
3674(case.)S
3982(Figure)S
4337(6.9)S
4526(contains)S
4968(a)S
5061(tool)S
6142 V
(definition)471 708 A
1234(of)S
1390(the)S
11 R
1591(UNIX)S
12 R
1923(program)S
2388(``lex'',)S
2785(which)S
(produces)436 3136 A
3627(a)S
3736(lexical)S
4115(scanner)S
4540(\(in)S
4730(C\))S
4905(from)S
5195(a)S
6282 V
708(description)S
1276(file.)S
6458 V
708(As)S
884(can)S
1093(be)S
1248(seen)S
1504(from)S
1781(this)S
1997(example,)S
2478(tool)S
(definitions)518 2707 A
3266(have)S
3535(a)S
3630(lot)S
3799(in)S
3934(common)S
4398(with)S
4656(functions)S
5148(or)S
6598 V
708(procedures)S
(found)281 1284 A
1610(in)S
1749(common)S
2216(imperative)S
2780(programming)S
(languages.)513 3483 A
4071(Lines)S
4384(1-7)S
4589(form)S
4869(the)S
12 I
5061(tool)S
6738 V
708(header)S
12 R
1043(,)S
1109(giving)S
1453(the)S
1637(name)S
1935(of)S
2072(the)S
2256(tool)S
2480(and)S
2690(\(in)S
2861(the)S
3045(parameter)S
3567(list\))S
3793(describing)S
4333(the)S
4517(kind)S
4768(of)S
4906(objects)S
6878 V
708(used)S
960(as)S
1092(in-)S
1258(and)S
1463(outputs,)S
1879(side-effects)S
2471(and)S
2676(options)S
3062(of)S
3194(the)S
3373(tool.)S
3652(Lines)S
3952(8-11)S
4203(contain)S
4589(the)S
12 I
4767(tool)S
(body)234 4985 A
12 R
5219(,)S
7018 V
708(describing)S
1258(the)S
1452(actions)S
1841(to)S
1981(be)S
2141(executed.)S
2677(In)S
2824(this)S
3045(case,)S
3330(the)S
3524(result)S
3840(of)S
3987(the)S
4181(tool)S
(invocation)510 4416 A
4973(is)S
5101(the)S
7158 V
(boolean)382 708 A
1120(result)S
1420(of)S
1551(the)S
1729(evaluation)S
2263(of)S
2394(the)S
2572(tool)S
(body.)270 2790 A
7334 V
708(Going)S
(through)375 1057 A
1479(the)S
1674(header,)S
2074(we)S
2263(notice)S
2606(that)S
2835(the)S
3031(parameter)S
12 C
(src)219 3565 A
12 R
3832(is)S
3961(the)S
4157(only)S
4419(parameter)S
4953(which)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(91)S
7920 V
EP
%%Page: 92 98
BP
/slant 0 def
/height 0 def
1061 V
11 C
1068(1)S
(%tool)335 1269 A
(lex)201 1671 A
1939(\()S
1201 V
1068(2)S
(src:)268 1537 A
(%in)201 2006 A
([type)335 2542 A
2944(=)S
(lex-src];)603 3078 A
1341 V
1068(3)S
(dest:)335 1537 A
(%out)268 2006 A
([type)335 2542 A
2944(=)S
(C-src])402 3078 A
3748(=>)S
(match\($src\);)804 3949 A
1481 V
1068(4)S
(temp:)335 1537 A
(%tmp)268 2006 A
3748(=>)S
(lex.yy.c;)603 3949 A
1621 V
1068(5)S
(flags:)402 1537 A
(%string)469 2006 A
(%list)335 2542 A
3748(=>)S
({};)201 3949 A
1761 V
1068(6)S
(prog:)335 1537 A
(%in)201 2006 A
([type)335 2542 A
2944(=)S
(command])536 3078 A
3748(=>)S
(/usr/bin/lex;)871 3949 A
1901 V
1068(7)S
1269(\))S
2041 V
1068(8)S
1269({)S
2181 V
1068(9)S
(exec\($prog,)737 1537 A
(args)268 2341 A
2676(=>)S
($flags)402 2877 A
3346(+)S
($src\);)402 3480 A
2321 V
1068(10)S
(move\($temp,)737 1537 A
($dest\);)469 2341 A
2461 V
1068(11)S
1269(})S
2802 V
10 B
2298(Fig.)S
2488(6.9.)S
10 R
2663(A)S
2761(tool)S
(definition)391 2942 A
3358(for)S
3501(Lex)S
3054 V
12 R
708(does)S
963(not)S
1151(have)S
1413(a)S
1501(default.)S
1932(This)S
(should)321 2181 A
2536(not)S
2724(be)S
2872(too)S
3060(surprising,)S
(because)383 3608 A
4026(this)S
4236(parameter)S
4757(represents)S
3194 V
708(a)S
803(possible)S
1240(lex)S
(input)248 1429 A
1718(file)S
1921(\320)S
2081(note)S
2329(it)S
2437(is)S
2558(marked)S
12 C
(%in)219 2961 A
12 R
3220(\320)S
3380(and)S
3594(it)S
3702(is)S
12 I
3823(amake)S
12 R
4149('s)S
4277(very)S
4532(job)S
4726(to)S
4860(find)S
5095(out)S
3334 V
708(whether)S
1139(this)S
1354(tool)S
1583(can)S
1792(be)S
1947(applied)S
2344(to)S
2479(one)S
2694(of)S
2836(the)S
3025(files)S
3276(given)S
3585(as)S
3727(source)S
4084(in)S
4219(a)S
4314(cluster.)S
4739(Many)S
5061(tool)S
3474 V
(definitions)518 708 A
1263(\(e.g.,)S
1545(the)S
1730(ones)S
1988(currently)S
2463(present)S
2849(in)S
2979(the)S
3163(standard)S
3609(tool)S
(definition)471 3833 A
4340(set\))S
4552(have)S
4816(the)S
5000(same)S
3614 V
708(basic)S
987(structure)S
1442(as)S
1573(the)S
1751(one)S
1955(presented)S
2449(here.)S
3790 V
708(The)S
926(next)S
1164(parameter)S
1680(\()S
12 C
(dest)292 1721 A
12 R
2043(on)S
2194(line)S
2407(3\))S
2539(is)S
2651(of)S
2783(type)S
12 C
(%out)292 3022 A
12 R
3314(,)S
3375(i.e.,)S
3584(it)S
3683(denotes)S
4083(a)S
4168(file)S
4362(which)S
4689(is)S
(supposed)448 4801 A
3930 V
708(to)S
834(be)S
980(generated)S
1482(by)S
1633(the)S
1812(command)S
2319(block)S
2618(of)S
2750(the)S
2929(tool.)S
3208(The)S
3427(default)S
3795(name)S
4088(for)S
4261(this)S
4467(file)S
4661(is)S
4773(computed)S
4070 V
708(by)S
883(the)S
(built-in)357 1086 A
12 C
(match)365 1498 A
12 R
1918(function.)S
2436(Actually,)S
2939(this)S
3169(function)S
3628(needs)S
3959(some)S
4270(help)S
4534(provided)S
5019(by)S
5195(a)S
4210 V
708(derivation)S
1240(rule,)S
1500(but)S
1695(this)S
(will)190 1911 A
2142(be)S
2297(described)S
2802(in)S
2937(a)S
3032(later)S
3290(section.)S
3734(The)S
3963(result,)S
4304(however,)S
4792(is)S
4913(that)S
5135(an)S
4350 V
(input)248 708 A
986(file)S
12 C
(lexer.l)511 1179 A
12 R
(will)190 1720 A
1940(cause)S
2239(an)S
2383(output)S
2721(file)S
12 C
(lexer.c)511 2914 A
12 R
3455(to)S
3579(be)S
3723(created.)S
4526 V
708(Line)S
960(4)S
1050(makes)S
1389(the)S
1567(hard-wired)S
2130(temporary)S
2659(file)S
2853(``)S
12 C
(lex.yy.c)584 2935 A
12 R
3519('')S
3632(explicit.)S
4087(As)S
12 I
4253(amake)S
12 R
4610(has)S
4802(a)S
4887(locking)S
4666 V
708(mechanism,)S
1322(which)S
1651(takes)S
1933(care)S
2169(of)S
2303(tool)S
2523(synchronization,)S
3357(this)S
(will)190 3564 A
3786(prevent)S
4181(it)S
4281(to)S
4407(run)S
4600(2)S
(invocations)557 4692 A
4806 V
708(of)S
839(Lex)S
1057(at)S
1175(the)S
1353(same)S
1632(time.)S
4982 V
708(The)S
940(various)S
1340(options)S
1739(of)S
1884(the)S
2076(tool)S
2308(are)S
2501(represented)S
3104(on)S
3268(line)S
3494(5)S
3598(by)S
3762(the)S
3954(parameter)S
12 C
(flags)365 4485 A
12 R
4895(of)S
5041(type)S
5122 V
12 C
(%string)511 708 A
(%list)365 1307 A
12 R
1672(.)S
1777(As)S
1957(the)S
12 I
(command)470 2150 A
12 R
2665(Lex)S
2898(only)S
3157(has)S
3363(few)S
3591(options)S
3991(an)S
4150(alternative)S
4708(\320)S
4873(perhaps)S
5262 V
708(more)S
(convenient,)560 990 A
1583(or)S
1717(at)S
1838(least)S
2094(more)S
2376(portable)S
2806(\320)S
2960(approach)S
3437(would)S
3773(be)S
3921(to)S
(introduce)457 4049 A
4540(a)S
4628(parameter)S
5148(of)S
5402 V
708(type)S
12 C
(%boolean)584 964 A
12 R
1548(,)S
1626(one)S
1848(for)S
(each)222 2037 A
2306(option.)S
2721(The)S
2956(reason)S
3319(why)S
3574(this)S
3796(is)S
3924(not)S
(done)234 4125 A
4406(here,)S
4692(is)S
4820(probably)S
5542 V
708(lazyness)S
1148(on)S
1298(part)S
1517(of)S
1648(the)S
12 I
1826(amake)S
12 R
2182(programmer.)S
5718 V
708(The)S
926(syntax)S
1271(of)S
12 I
1402(amake)S
12 R
1728('s)S
1846(tool)S
(definitions)518 2064 A
2612(is)S
2723(presented)S
3217(in)S
3341(figure)S
3661(6.10.)S
5894 V
708(A)S
856(tool)S
1105(returns)S
1503(the)S
1712(value)S
(resulting)424 2035 A
2520(from)S
2817(the)S
3026(evaluation)S
3591(of)S
3753(its)S
(body,)270 3929 A
4260(unless)S
4623(a)S
12 C
(%return)511 4738 A
6034 V
12 R
708(directive)S
1172(is)S
1292(used)S
1552(as)S
1691(file)S
1892(argument.)S
2447(In)S
2586(that)S
2806(case)S
3053(the)S
3239(result)S
3547(consists)S
3968(of)S
4107(the)S
4293(contents)S
4734(of)S
4873(this)S
5086(file)S
6174 V
708(\(which)S
1087(can)S
1297(be)S
1453(referred)S
1881(to)S
2017(in)S
2153(the)S
2343(tool)S
(body)240 2573 A
2855(by)S
3017(the)S
3207(parameter)S
3735(name\))S
4080(after)S
4346(the)S
(body)240 4536 A
4818(has)S
5021(been)S
6314 V
708(executed.)S
6594 V
12 B
(Input)289 708 A
1027(and)S
1251(output)S
1624(objects)S
6770 V
12 R
708(The)S
(input)248 927 A
1206(and)S
1411(output)S
1751(objects)S
2126(are)S
2307(described)S
2803(by)S
2955(a)S
3041(set)S
3208(of)S
3341(attributes,)S
3855(possibly)S
4289(including)S
4777(the)S
12 C
(type)292 4957 A
6910 V
12 R
708(attribute,)S
1178(as)S
1314(was)S
1538(the)S
1721(case)S
1965(in)S
2094(the)S
2277(example)S
(above.)318 2722 A
3104(The)S
3326(main)S
3602(advantage)S
4126(of)S
4261(having)S
4623(some)S
4912(special)S
7050 V
708(``type'')S
1113(attribute)S
1551(is)S
1665(that)S
1880(it)S
1981(allows)S
2331(us)S
2471(to)S
2598(create)S
12 I
2922(generic)S
12 R
3285(,)S
3348(suffix-based,)S
4010(derivation)S
4534(rules)S
4804(\(generics)S
7190 V
708(are)S
906(described)S
1419(in)S
1562(a)S
1665(later)S
1931(section\).)S
2424(Note)S
2709(that)S
2940(an)S
12 I
3103(attribute)S
3569(class)S
12 R
3860(may)S
4117(contain)S
4522(more)S
4819(than)S
5075(one)S
7330 V
708(``attribute)S
1229(=)S
1331(value'')S
1709(pair,)S
1962(so)S
2103(that)S
2319(we)S
2495(can)S
2698(specify)S
3083(that)S
3300(a)S
3389(tool)S
3612(only)S
3861(takes,)S
4175(say,)S
(non-generated)692 4401 A
5128(C-)S
7700 V
708(92)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 93 99
BP
/slant 0 def
/height 0 def
1061 V
12 I
1068(tool-def)S
12 C
(::=)219 2236 A
12 I
2528(tool-header)S
3165(trigger)S
12 C
3501(?)S
12 I
(tool-body)463 3647 A
1201 V
1068(tool-header)S
12 C
(::=)219 2236 A
12 B
2528(%tool)S
12 I
(identifier)445 2916 A
12 C
("\(")219 3434 A
3726([)S
12 I
3872(param-decl)S
12 C
(";")219 4503 A
4795(]*)S
("\)")219 5014 A
1481 V
12 I
1068(param-decl)S
12 C
(::=)219 2236 A
12 I
(identifier)445 2528 A
12 C
(":")219 3046 A
12 I
3338(type-spec)S
1621 V
12 C
2528([)S
("=>")292 2674 A
12 B
3039(%computed)S
12 I
3743(param-ref)S
1761 V
12 C
2528(|)S
("=>")292 2674 A
12 I
3039(default-spec)S
1901 V
12 C
2528(]?)S
2041 V
2528([)S
("=>")292 2674 A
12 B
3039(%conform)S
12 I
3669(param-ref)S
12 C
4233(]?)S
2321 V
12 I
1068(type-spec)S
12 C
(::=)219 2236 A
12 I
2528(base-type)S
12 B
3065(%list)S
12 C
3414(?)S
3560([)S
("[")219 3706 A
12 I
3998(attr-spec-list)S
12 C
("]")219 4692 A
4984(]?)S
2461 V
12 I
1068(base-type)S
12 C
(::=)219 2236 A
12 B
2528(%boolean)S
12 C
3123(|)S
12 B
3269(%string)S
12 C
3765(|)S
12 B
3911(%in)S
12 C
4205(|)S
12 B
4351(%out)S
12 C
4712(|)S
12 B
4858(%tmp)S
2741 V
12 I
1068(default-spec)S
12 C
(::=)219 2236 A
12 I
(expr-designator)772 2528 A
2881 V
1068(trigger)S
12 C
(::=)219 2236 A
12 B
2528(%trigger)S
12 I
3078(expression)S
3021 V
(tool-body)463 1068 A
12 C
(::=)219 2236 A
("{")219 2528 A
12 I
2820(statement-list)S
12 C
("}")219 3548 A
3161 V
12 I
1068(param-ref)S
12 C
(::=)219 2236 A
("$")219 2528 A
12 I
(identifier)445 2747 A
3502 V
10 B
2324(Fig.)S
2514(6.10.)S
10 R
2739(Tool)S
(definition)391 2954 A
3370(syntax)S
3754 V
12 R
708(source)S
1054(files)S
1294(as)S
(input.)278 1425 A
3930 V
708(It)S
847(also)S
1106(is)S
1251(of)S
1416(prime)S
1763(importance)S
2372(that)S
2618(a)S
2736(tool)S
(definition)471 2988 A
3523(describes)S
4039(all)S
4226(the)S
(inputs)295 4439 A
4799(a)S
4918(certain)S
4070 V
(invocation)510 708 A
1252(has,)S
1477(otherwise)S
1983(a)S
2071(tool)S
2293(might)S
2609(be)S
2757(started)S
3115(before)S
3459(all)S
(inputs)295 3615 A
3944(\(which)S
4315(might)S
4631(be)S
4778(generated)S
4210 V
708(by)S
858(other)S
1137(tools;)S
1436(think)S
(about)268 1714 A
2012(parser)S
2339(generators\))S
2915(are)S
3094(available.)S
4386 V
708(Not)S
921(specifying)S
1456(all)S
(inputs)295 1609 A
1935(also)S
2161(means)S
2501(that)S
12 I
2714(amake)S
12 R
(cannot)322 3071 A
3424(check)S
3737(whether)S
4159(all)S
(inputs)295 4312 A
4639(are)S
4820(the)S
5000(same)S
4526 V
708(as)S
846(in)S
977(previous)S
(invocations.)587 1430 A
2083(E.g.,)S
2343(if)S
2454(in)S
2584(the)S
2768(example)S
3214(the)S
3398(parameter)S
3920(``prog'')S
4341(is)S
4458(left)S
4657(out,)S
4877(the)S
5061(tool)S
4666 V
708(lex)S
(will)190 901 A
1136(not)S
1335(be)S
1494(rerun)S
1795(when)S
2102(a)S
2201(new)S
2448(version)S
2849(of)S
2995(the)S
3188(program)S
3643(``/usr/bin/lex'')S
4404(is)S
4530(installed.)S
5047(It)S
5168(is)S
4806 V
708(possible,)S
1184(however,)S
1681(that)S
1913(this)S
2138(behavior)S
2611(is)S
(convenient)530 2742 A
3322(in)S
3466(some)S
3771(cases,)S
4106(e.g.,)S
4359(when)S
4670(a)S
4773(command)S
4946 V
708(which)S
1034(often)S
1313(changes)S
(\(because)424 1732 A
2186(it)S
2284(is)S
2395(being)S
2693(currently)S
3161(developed\))S
3728(is)S
3839(used.)S
5122 V
708(A)S
12 C
(%conform)584 831 A
12 R
1450(clause)S
1788(makes)S
2133(it)S
2237(possible)S
2669(to)S
2799(describe)S
3239(commands)S
3798(where)S
4131(the)S
4315(creation)S
4742(of)S
4879(a)S
4969(file)S
5168(is)S
5262 V
708(dependent)S
1256(on)S
1428(the)S
1628(value)S
1942(of)S
2095(a)S
2201(parameter.)S
2799(In)S
2952(this)S
3178(case,)S
3468(the)S
3667(tool)S
(should)321 3906 A
4278(be)S
4443(given)S
4762(a)S
(boolean)382 4867 A
5402 V
708(parameter)S
1225(\(probably)S
1726(with)S
1973(a)S
2059(default)S
2428(value\))S
(telling)310 2763 A
3105(whether)S
3528(the)S
3708(side-effect)S
(should)321 4254 A
4607(occur.)S
4968(In)S
5101(the)S
5542 V
708(tool)S
(body,)270 930 A
1234(the)S
1416(value)S
1712(of)S
1847(the)S
(boolean)382 2029 A
2444(parameter)S
2963(can)S
3164(be)S
3311(used)S
3565(to)S
3692(decide)S
4041(which)S
4370(flag)S
4592(the)S
4773(command)S
5682 V
(should)321 708 A
1059(be)S
1203(provided)S
1662(with.)S
5962 V
12 B
708(Computed)S
(Inputs)336 1283 A
6138 V
12 I
708(Amake)S
12 R
1084(contains)S
1523(a)S
1613(very)S
1864(useful)S
2196(feature,)S
2600(allowing)S
3060(tools)S
3332(to)S
3463(make)S
(known)328 3762 A
4127(the)S
12 I
4312(actual)S
12 R
(inputs)295 4651 A
4983(it)S
5088(has)S
6278 V
708(read)S
950(during)S
1298(a)S
1385(certain)S
(invocation.)540 1749 A
2352(This)S
2600(can)S
2801(be)S
2948(specified)S
3419(with)S
3668(the)S
12 C
(%computed)657 3849 A
12 R
4538(clause.)S
4933(Figure)S
6418 V
708(6.11)S
979(contains)S
1443(an)S
1618(example)S
2089(of)S
2251(this)S
2487(construct.)S
3052(It)S
3189(is)S
3332(an)S
3508(adaptation)S
4074(of)S
4237(the)S
4447(C-compiler)S
5061(tool)S
6558 V
(definition)471 708 A
1219(currently)S
1697(used)S
1958(in)S
2092(the)S
2280(construction)S
2918(of)S
3059(Amoeba)S
3509(libraries)S
3948(and)S
(utilities.)395 4163 A
4629(For)S
4838(a)S
4933(source)S
6698 V
708(file)S
12 C
(f.c)219 925 A
12 R
1144(,)S
1228(the)S
1430(parameter)S
1969(``deps'')S
(will)190 2407 A
2650(expand)S
3051(to)S
12 C
(f.dep)365 3198 A
12 R
3563(.)S
3676(The)S
12 C
3917(-d)S
12 R
4116(option)S
4477(requests)S
4927(the)S
5128(C-)S
6838 V
708(compiler)S
1176(to)S
1307(report)S
1634(\(on)S
1832(file)S
12 C
(f.dep)365 2032 A
12 R
2397(\))S
2475(the)S
2661(header)S
3022(files)S
(encountered.)621 3270 A
3959(This)S
4212(list)S
4399(of)S
4538(implicit)S
(inputs)295 4954 A
6978 V
(will,)220 708 A
958(as)S
(soon)227 1089 A
1346(as)S
1477(the)S
1655(tool)S
(body)240 1873 A
2143(has)S
2334(been)S
2592(completed,)S
3156(be)S
3300(assigned)S
3746(to)S
3870(parameter)S
4386(``incl''.)S
7154 V
708(When)S
1026(a)S
1110(tool,)S
1358(making)S
1750(use)S
1941(of)S
2072(this)S
2277(feature,)S
2676(is)S
(invoked)388 2788 A
3207(for)S
3380(the)S
3559(first)S
3787(time,)S
12 I
4064(amake)S
12 R
4421(is)S
12 I
4533(pessimistic)S
12 R
5107(\(or)S
7294 V
708(at)S
849(least)S
1125(not)S
1332(overly)S
1694(optimistic\))S
2273(in)S
2420(that)S
2655(it)S
2776(lets)S
2998(the)S
3199(tool)S
3440(wait)S
(until)222 3703 A
3978(all)S
4152(the)S
4352(objects)S
4747(that)S
4981(could)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(93)S
7920 V
EP
%%Page: 94 100
BP
/slant 0 def
/height 0 def
1061 V
11 C
(%tool)335 1068 A
(cc-c)268 1470 A
1805(\()S
1201 V
(src:)268 1336 A
(%in)201 1805 A
([type)335 2475 A
2877(=)S
(C-src];)469 3011 A
1341 V
(obj:)268 1336 A
(%out)268 1805 A
([type)335 2475 A
2877(=)S
(loadable])603 3011 A
3748(=>)S
(match\($src\);)804 3949 A
1481 V
(flags:)402 1336 A
(%string)469 1805 A
(%list)335 2341 A
3748(=>)S
($CFLAGS;)536 3949 A
1621 V
(prog:)335 1336 A
(%in)201 1805 A
([type)335 2475 A
2877(=)S
(command])536 3011 A
3748(=>)S
($CC;)268 3949 A
1761 V
(deps:)335 1336 A
(%out)268 1805 A
([type)335 2475 A
2877(=)S
(dependents]=>)871 3011 A
(match\($src\);)804 3949 A
1901 V
(incl:)335 1336 A
(%in)201 1805 A
(%list)335 2073 A
([C-incl,implicit])1139 2475 A
3748(=>)S
(%computed)603 3949 A
($deps;)402 4619 A
2041 V
1068(\))S
2181 V
1068({)S
2321 V
(exec\($prog,)737 1336 A
(args=>)402 2140 A
('-d'$deps)603 2609 A
3279(+)S
('-c')268 3413 A
3748(+)S
($flags)402 3882 A
4351(+)S
($src\);)402 4485 A
2461 V
1068(};)S
2802 V
10 B
1988(Fig.)S
2178(6.11.)S
10 R
2403(A)S
2501(tool)S
(definition)391 2682 A
3098(with)S
3302(computed)S
(inputs)245 3723 A
3054 V
12 I
708(possibly)S
12 R
1137(be)S
(inputs)295 1284 A
1613(are)S
1796(available.)S
2328(This)S
2577(is)S
2692(important)S
(because)383 3197 A
3614(some)S
3903(of)S
4038(them)S
4314(might)S
4630(be)S
4778(generated)S
3194 V
708(by)S
865(other)S
1151(tools.)S
1483(For)S
1688(example,)S
2165(the)S
2350(tool)S
(Yacc)250 2575 A
2862(may)S
(produce)389 3107 A
3533(a)S
3623(header)S
3982(file)S
4181(included)S
4633(by)S
4789(several)S
5169(C)S
3334 V
708(source)S
1054(files.)S
3510 V
708(If)S
822(the)S
1002(same)S
(invocation)510 1283 A
1825(is)S
1938(to)S
2064(be)S
2210(checked)S
2638(in)S
2764(a)S
2850(later)S
12 I
3099(amake)S
12 R
3457(run,)S
12 I
3680(amake)S
12 R
(knows)315 4038 A
4385(both)S
4631(the)S
4811(specified)S
3650 V
708(and)S
931(the)S
1128(computed)S
(input)248 1653 A
1950(objects,)S
2372(and)S
2595(the)S
2792(tool)S
3029(only)S
3292(has)S
3502(to)S
3644(be)S
3806(rerun)S
4110(when)S
4420(one)S
4642(of)S
4791(these)S
5088(has)S
3790 V
708(changed.)S
1227(As)S
(each)222 1420 A
1700(tool)S
(invocation)510 1946 A
2514(reports)S
2909(the)S
3115(objects)S
3516(that)S
3756(were)S
4051(read,)S
12 I
4348(amake)S
12 R
(will)190 4732 A
4980(never)S
3930 V
708(erroneously)S
1324(fail)S
1532(to)S
1671(recompile)S
2201(a)S
2300(source)S
2661(file,)S
2899(in)S
3038(the)S
3231(event)S
3538(that)S
3764(some)S
4063(of)S
4208(the)S
4400(header)S
4767(files)S
5021(have)S
4070 V
708(changed.)S
4490 V
12 B
708(6.3.10.)S
1128(Expressions)S
4666 V
12 R
708(Expressions)S
1337(in)S
12 I
1476(amake)S
12 R
1847(are)S
2041(typed.)S
2414(The)S
2647(types)S
2947(available)S
3430(are)S
12 I
(boolean)388 3624 A
12 R
4012(,)S
12 I
4087(string)S
12 R
4369(,)S
12 I
4444(object)S
12 R
4740(,)S
12 I
4815(unknown)S
4806 V
12 R
708(and)S
12 I
913(lists)S
12 R
1140(of)S
1272(these.)S
1612(Arguments)S
2181(of)S
2313(operators,)S
2825(functions)S
3306(and)S
3511(tools)S
3777(are)S
3957(automatically)S
(converted)477 4648 A
5155(to)S
4946 V
708(the)S
886(type)S
1124(required,)S
1588(if)S
1693(possible.)S
5226 V
12 B
708(Overview)S
5402 V
12 R
708(Objects)S
1117(are)S
12 I
1304(amake)S
12 R
1630('s)S
1757(internal)S
2167(representation)S
2893(of)S
3033(\(not)S
(necessarily)539 3267 A
3845(existing\))S
4308(files.)S
4617(Properties)S
5148(of)S
5542 V
708(the)S
897(files)S
1148(that)S
1371(are)S
1561(of)S
1703(interest)S
2102(to)S
12 I
2237(amake)S
12 R
2604(are)S
2794(represented)S
3393(as)S
3534(attributes.)S
4086(We)S
4294(must)S
4569(stress)S
4879(that)S
5101(the)S
5682 V
(correspondence)759 708 A
1511(is)S
1636(not)S
1834(very)S
2093(strict:)S
2415(the)S
(``physical'')567 2607 A
3218(object)S
3558(may)S
3810(have)S
4082(certain)S
4457(attributes)S
4953(which)S
5822 V
708(are)S
891(not)S
1079(represented)S
1672(internally)S
2171(\(e.g.,)S
2450(contents,)S
(although)422 2917 A
3373(it)S
12 I
3475(is)S
12 R
3590(possible)S
4020(to)S
4148(represent)S
4626(it\),)S
4798(while)S
5101(the)S
5962 V
708(internal)S
1137(object)S
(will)190 1492 A
1741(have)S
2028(attributes)S
2539(\(such)S
2860(as)S
3020(type,)S
3317(and)S
3550(other)S
3858(properties)S
4402(used)S
4682(in)S
12 I
4835(amake)S
12 R
5161('s)S
6102 V
708(algorithms\))S
1340(which)S
1709(are)S
1931(not)S
(necessarily)539 2158 A
2770(represented)S
3402(anywhere)S
3946(on)S
4138(the)S
4358(file)S
4593(system.)S
5061(The)S
6242 V
708(hierarchical)S
1312(structure,)S
1797(which)S
2123(most)S
2388(file)S
2581(systems)S
2994(have,)S
3282(is)S
3393(represented)S
3982(internally,)S
4507(however.)S
6418 V
708(As)S
878(in)S
11 R
1005(UNIX)S
12 R
1317(and)S
1526(Amoeba,)S
2001(objects)S
2379(are)S
2563(identified)S
3063(with)S
3314(their)S
12 I
3572(path)S
3821(name)S
12 R
4083(.)S
4178(It)S
4288(is)S
4404(important)S
4911(to)S
5041(note)S
6558 V
708(that)S
12 I
922(amake)S
12 R
1280(\(in)S
1447(contrast)S
1863(to,)S
2019(e.g.,)S
2255(the)S
2435(Bourne)S
2822(Shell)S
3103(and)S
12 I
3309(make)S
12 R
3575(\))S
3648(interprets)S
4139(the)S
4318(character)S
4795(``)S
12 C
4877(/)S
12 R
4950('')S
5063(as)S
5195(a)S
6698 V
708(real)S
12 I
923(selection)S
12 R
1386(operator,)S
1852(rather)S
2168(than)S
2408(just)S
2615(a)S
2701(character)S
3179(which)S
3507(is)S
3620(part)S
3842(of)S
3976(a)S
4063(path)S
4304(name.)S
4659(This)S
4907(has)S
5101(the)S
6838 V
708(advantage)S
1248(that)S
1480(an)S
12 I
1644(amake)S
12 R
2020(specification)S
2690(file)S
2903(might)S
3235(also)S
3480(be)S
3644(used,)S
(without)370 3945 A
4365(change,)S
4787(in)S
4931(an)S
5094(OS)S
6978 V
708(environment)S
1349(that)S
1561(uses)S
1799(a)S
1883(different)S
2332(way)S
2564(to)S
2688(represent)S
3163(the)S
3341(file)S
3534(hierarchy.)S
7154 V
708(In)S
12 I
857(amake)S
12 R
1183(,)S
1261(strings)S
1632(and)S
(booleans)429 1854 A
2331(are)S
2528(used)S
2797(mainly)S
3181(as)S
3330(attribute)S
3783(value)S
4094(and)S
4317(options)S
4721(to)S
4864(tools)S
5148(or)S
7294 V
708(commands.)S
1355(Boolean)S
1821(expressions)S
2449(can)S
2681(also)S
2940(be)S
3118(used)S
3403(to)S
3561(force)S
3875(control)S
4282(flow)S
4569(within)S
4943(a)S
5061(tool)S
7700 V
708(94)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 95 101
BP
/slant 0 def
/height 0 def
860 V
12 R
(invocation.)540 708 A
1319(A)S
1448(special)S
(``unknown'')612 1827 A
2481(value)S
2785(is)S
2908(given)S
3218(to)S
3354(an)S
3510(attribute)S
3957(whose)S
4308(value)S
4612(is)S
4735(neither)S
5114(set)S
1000 V
(explicitly,)488 708 A
1226(nor)S
1417(derivable.)S
1280 V
12 B
708(Expression)S
1308(Syntax)S
1693(and)S
1917(Semantics)S
1456 V
12 R
708(Figure)S
1054(6.12)S
1294(shows)S
1626(how)S
1864(expression)S
2411(are)S
(built)222 2590 A
2842(up,)S
3022(recursively.)S
1797 V
12 I
1068(expression)S
12 C
(::=)219 1658 A
12 I
(literal)297 2434 A
1937 V
12 C
2268(|)S
12 I
2414(string)S
2077 V
12 C
2268(|)S
12 I
2414(var-reference)S
2217 V
12 C
2268(|)S
12 B
2414(%true)S
2357 V
12 C
2268(|)S
12 B
2414(%false)S
2497 V
12 C
2268(|)S
12 B
(%unknown)603 2414 A
2637 V
12 C
2268(|)S
12 I
(identifier)445 2414 A
12 C
("\(")219 2932 A
12 I
3224(argument-list)S
12 C
3950(?)S
("\)")219 4096 A
2777 V
2268(|)S
("{")219 2414 A
12 I
2706(expression-list)S
12 C
3486(?)S
("}")219 3632 A
2917 V
2268(|)S
("\(")219 2414 A
12 I
2706(expression)S
12 C
("\)")219 3296 A
3057 V
2268(|)S
12 I
2414(expression)S
12 C
("[")219 3004 A
12 I
3296(attr-spec-list)S
12 C
("]")219 3990 A
3197 V
2268(|)S
12 I
2414(expression)S
(binop)274 2961 A
12 C
3308(?)S
12 I
3454(expression)S
3337 V
12 C
2268(|)S
12 B
2414(%not)S
12 I
2775(expression)S
3477 V
12 C
2268(|)S
("/")219 2414 A
12 I
2706(expression)S
12 C
3296(?)S
3617 V
2268(|)S
12 I
2414(expression)S
12 C
("/")219 3004 A
3897 V
12 I
(binop)274 1068 A
12 C
(::=)219 1415 A
12 B
2268(+)S
12 C
2409(|)S
12 B
2555(\\)S
12 C
2662(|)S
12 B
2808(==)S
12 C
3017(|)S
12 B
3163(<>)S
12 C
3372(|)S
12 B
3518(&)S
12 C
3692(|)S
12 B
3838(/)S
12 C
3945(|)S
12 B
4091(?)S
12 C
4224(|)S
12 B
4370(%and)S
12 C
4757(|)S
12 B
4903(%or)S
4177 V
12 I
1068(argument-list)S
12 C
(::=)219 1794 A
12 I
2268(argument-spec)S
12 C
3060([)S
(",")219 3206 A
12 I
3498(argument-spec)S
12 C
4290(]*)S
4317 V
12 I
1068(argument-spec)S
12 C
(::=)219 1860 A
2268([)S
12 I
(identifier)445 2414 A
12 C
("=>")292 2932 A
3297(]?)S
12 I
(expr-designator)772 3516 A
4457 V
(expr-designator)772 1068 A
12 C
(::=)219 1913 A
12 I
2268(expression)S
12 C
2858(|)S
12 I
(designator)516 3004 A
4597 V
(designator)516 1068 A
12 C
(::=)219 1657 A
12 B
2268(%ignore)S
12 C
2790(|)S
12 B
2936(%return)S
12 C
3466(|)S
12 B
3612(%diag)S
4737 V
12 I
1068(expression-list)S
12 C
(::=)219 1848 A
12 I
2268(expression)S
12 C
2858([)S
(",")219 3004 A
12 I
3296(expression)S
12 C
3886(]*)S
5017 V
12 I
1068(attr-spec-list)S
12 C
(::=)219 1762 A
12 I
2268(attr-spec)S
12 C
2772([)S
(",")219 2918 A
12 I
3210(attr-spec)S
12 C
3714(]*)S
5157 V
12 I
1068(attr-spec)S
12 C
(::=)219 1572 A
12 I
(literal)297 2268 A
12 C
2638([)S
("=")219 2784 A
12 I
3076(expression)S
12 C
3666(]?)S
5498 V
10 B
2404(Fig.)S
2594(6.12.)S
10 R
2819(Expression)S
3291(syntax)S
5786 V
12 R
708(Literals,)S
1168(strings)S
1549(and)S
1781(variable)S
2231(or)S
2391(parameter)S
2936(references)S
3495(were)S
(introduced)517 3791 A
4367(in)S
4520(the)S
4727(section)S
5129(on)S
5926 V
708(lexical)S
1079(elements.)S
1617(The)S
1852(possible)S
2295(confusion)S
2818(whether)S
3256(the)S
3451(string)S
3773(``)S
12 C
(\302a\302)219 3855 A
12 R
4074('')S
4202(or)S
4349(the)S
4543(object)S
4885(``)S
12 C
4967(a)S
12 R
5040('')S
5168(is)S
6066 V
708(meant,)S
1066(disappears)S
1609(when)S
1903(the)S
2083(value)S
2377(is)S
2490(used,)S
2774(for)S
2949(example)S
3392(when)S
3687(it)S
3788(appears)S
4191(as)S
4325(source)S
4674(of)S
4808(a)S
4895(cluster.)S
6206 V
708(The)S
969(meaning)S
1458(of)S
12 C
(%true)365 1632 A
12 R
1997(,)S
12 C
(%false)438 2100 A
12 R
2610(and)S
12 C
(%unknown)584 2856 A
12 R
(should)321 3512 A
3905(be)S
4091(clear.)S
4460(The)S
4720(next)S
5000(entry)S
6346 V
708(represents)S
1239(both)S
(built-in)357 1492 A
1888(function)S
2330(call)S
2545(and)S
2758(tool)S
(invocation.)540 2985 A
3594(Lists)S
3870(\(of)S
4052(objects,)S
4465(strings)S
4828(etc.\))S
5081(can)S
6486 V
708(be)S
(built)222 861 A
1122(with)S
1377(curly)S
1665(brackets)S
(\(``)123 2138 A
12 C
2261({)S
12 R
2334('')S
2455(and)S
2668(``)S
12 C
2750(})S
12 R
(''\).)153 2823 A
3045(Parentheses)S
3655(can)S
3861(be)S
4013(used)S
4272(to)S
4404(force)S
4692(a)S
(grouping,)465 4784 A
6626 V
708(differing)S
1163(from)S
1429(the)S
1607(default)S
1974(one.)S
6802 V
708(Attributes)S
1227(can)S
1428(be)S
1575(attached)S
2012(to)S
2139(objects)S
2515(by)S
2668(means)S
3010(of)S
3144(the)S
3325(special)S
(``['')205 3695 A
3934(operator.)S
4432(The)S
(literal)285 4654 A
4973(in)S
5101(the)S
6942 V
12 I
708(attr-spec)S
12 R
1178(is)S
1298(the)S
1485(name)S
1786(of)S
1926(the)S
2113(attribute)S
2556(to)S
2688(be)S
2840(set.)S
3073(If)S
3193(the)S
3379(expression)S
3934(specifying)S
4476(the)S
4662(value)S
4962(of)S
5101(the)S
7082 V
708(attribute)S
1158(is)S
1284(absent,)S
1668(the)S
1861(value)S
12 C
(%true)365 2168 A
12 R
2578(is)S
2705(assumed)S
3167(by)S
3333(default.)S
3776(When)S
4110(evaluated,)S
4650(the)S
4844(attribute)S
7222 V
708(assignment)S
1299(expression)S
1863(puts)S
2111(the)S
2306(attributes)S
2805(on)S
2971(its)S
3132(right)S
3407(hand)S
3687(side)S
3928(on)S
4094(the)S
4288(object\(s\))S
4759(on)S
4925(its)S
5086(left)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(95)S
7920 V
EP
%%Page: 96 102
BP
/slant 0 def
/height 0 def
860 V
12 R
708(hand)S
977(side,)S
1237(which)S
1568(also)S
1798(becomes)S
2256(the)S
2440(result)S
2746(of)S
2883(the)S
3067(expression.)S
3680(This)S
3931(makes)S
4276(it)S
4380(possible)S
4812(to)S
4942(let)S
5100(list)S
1000 V
708(building)S
1140(coincide)S
1580(with)S
1826(attribute)S
(setting,)353 2261 A
2644(for)S
2816(example)S
3256(as)S
3387(in)S
1200 V
11 C
(SRC)201 1068 A
1336(=)S
1470({)S
(fool.c[C-src)804 1604 A
2475(=)S
(%false],)536 2609 A
(real.c)402 3212 A
3681(})S
([author)469 3815 A
4351(=)S
(versto];)536 4485 A
1400 V
12 R
708(The)S
944(operators,)S
1473(their)S
1744(priority)S
2156(and)S
2378(their)S
2649(interpretation)S
3351(are)S
3548(summarized)S
4188(in)S
4330(the)S
4526(table)S
4810(of)S
4959(figure)S
1540 V
708(6.13.)S
1771 V
12 Y1
1055(2)S
(2222222222222222222222222222222222222222222222222222222222222222)3840 1062 A
1911 V
12 R
1115(operator)S
1699(priority)S
2243(interpretation)S
3497(domain)S
4516(range)S
1931 V
12 Y1
1055(2)S
(2222222222222222222222222222222222222222222222222222222222222222)3840 1062 A
1951 V
1055(2)S
(2222222222222222222222222222222222222222222222222222222222222222)3840 1062 A
2091 V
12 B
1173(%not)S
12 R
1851(8)S
2493(not)S
(boolean)382 3487 A
(boolean)382 4460 A
2111 V
12 Y1
1055(2)S
(2222222222222222222222222222222222222222222222222222222222222222)3840 1062 A
2251 V
12 B
1300(/)S
12 R
1851(7)S
2431(select)S
3332(object)S
3658(x)S
3748(string)S
4503(object)S
2271 V
12 Y1
1055(2)S
(2222222222222222222222222222222222222222222222222222222222222222)3840 1062 A
2411 V
12 B
1266(&)S
12 R
1851(6)S
2412(concat)S
3342(string)S
3648(x)S
3738(string)S
4513(string)S
2431 V
12 Y1
1055(2)S
(2222222222222222222222222222222222222222222222222222222222222222)3840 1062 A
2571 V
12 B
1283(+)S
12 R
1851(5)S
2396(append)S
3469(list)S
3648(x)S
3738(list)S
4576(list)S
2591 V
12 Y1
1055(2)S
(2222222222222222222222222222222222222222222222222222222222222222)3840 1062 A
2731 V
12 B
1287(?)S
12 R
1851(5)S
2496(get)S
3268(object)S
3594(x)S
3684(attribute)S
4547(type)S
2751 V
12 Y1
1055(2)S
(2222222222222222222222222222222222222222222222222222222222222222)3840 1062 A
2891 V
12 B
1296([)S
12 R
1851(5)S
2493(put)S
3077(object)S
3403(x)S
3493(attribute)S
3928(x)S
4018(value)S
4503(object)S
2911 V
12 Y1
1055(2)S
(2222222222222222222222222222222222222222222222222222222222222222)3840 1062 A
3051 V
12 B
1300(\\)S
12 R
1851(4)S
2388(remove)S
3469(list)S
3648(x)S
3738(list)S
4576(list)S
3071 V
12 Y1
1055(2)S
(2222222222222222222222222222222222222222222222222222222222222222)3840 1062 A
3211 V
12 B
1249(==)S
12 R
1851(3)S
2439(equal)S
3410(type)S
3648(x)S
3738(type)S
(boolean)382 4460 A
3231 V
12 Y1
1055(2)S
(2222222222222222222222222222222222222222222222222222222222222222)3840 1062 A
3371 V
12 B
1249(<>)S
12 R
1851(3)S
2379(unequal)S
3410(type)S
3648(x)S
3738(type)S
(boolean)382 4460 A
3391 V
12 Y1
1055(2)S
(2222222222222222222222222222222222222222222222222222222222222222)3840 1062 A
3531 V
12 B
1160(%and)S
12 R
1851(2)S
2483(and)S
(boolean)382 3236 A
3648(x)S
(boolean)382 3738 A
(boolean)382 4460 A
3551 V
12 Y1
1055(2)S
(2222222222222222222222222222222222222222222222222222222222222222)3840 1062 A
3691 V
12 B
1200(%or)S
12 R
1851(1)S
2519(or)S
(boolean)382 3236 A
3648(x)S
(boolean)382 3738 A
(boolean)382 4460 A
3711 V
12 Y1
1055(2)S
(2222222222222222222222222222222222222222222222222222222222222222)3840 1062 A
1055(1)S
3691 V
1055(1)S
3571 V
1055(1)S
3451 V
1055(1)S
3331 V
1055(1)S
3211 V
1055(1)S
3091 V
1055(1)S
2971 V
1055(1)S
2851 V
1055(1)S
2731 V
1055(1)S
2611 V
1055(1)S
2491 V
1055(1)S
2371 V
1055(1)S
2251 V
1055(1)S
2131 V
1055(1)S
2011 V
1055(1)S
1891 V
1055(1)S
3711 V
1599(1)S
3691 V
1599(1)S
3571 V
1599(1)S
3451 V
1599(1)S
3331 V
1599(1)S
3211 V
1599(1)S
3091 V
1599(1)S
2971 V
1599(1)S
2851 V
1599(1)S
2731 V
1599(1)S
2611 V
1599(1)S
2491 V
1599(1)S
2371 V
1599(1)S
2251 V
1599(1)S
2131 V
1599(1)S
2011 V
1599(1)S
1891 V
1599(1)S
3711 V
1619(1)S
3691 V
1619(1)S
3571 V
1619(1)S
3451 V
1619(1)S
3331 V
1619(1)S
3211 V
1619(1)S
3091 V
1619(1)S
2971 V
1619(1)S
2851 V
1619(1)S
2731 V
1619(1)S
2611 V
1619(1)S
2491 V
1619(1)S
2371 V
1619(1)S
2251 V
1619(1)S
2131 V
1619(1)S
2011 V
1619(1)S
1891 V
1619(1)S
3711 V
2153(1)S
3691 V
2153(1)S
3571 V
2153(1)S
3451 V
2153(1)S
3331 V
2153(1)S
3211 V
2153(1)S
3091 V
2153(1)S
2971 V
2153(1)S
2851 V
2153(1)S
2731 V
2153(1)S
2611 V
2153(1)S
2491 V
2153(1)S
2371 V
2153(1)S
2251 V
2153(1)S
2131 V
2153(1)S
2011 V
2153(1)S
1891 V
2153(1)S
3711 V
2987(1)S
3691 V
2987(1)S
3571 V
2987(1)S
3451 V
2987(1)S
3331 V
2987(1)S
3211 V
2987(1)S
3091 V
2987(1)S
2971 V
2987(1)S
2851 V
2987(1)S
2731 V
2987(1)S
2611 V
2987(1)S
2491 V
2987(1)S
2371 V
2987(1)S
2251 V
2987(1)S
2131 V
2987(1)S
2011 V
2987(1)S
1891 V
2987(1)S
3711 V
4370(1)S
3691 V
4370(1)S
3571 V
4370(1)S
3451 V
4370(1)S
3331 V
4370(1)S
3211 V
4370(1)S
3091 V
4370(1)S
2971 V
4370(1)S
2851 V
4370(1)S
2731 V
4370(1)S
2611 V
4370(1)S
2491 V
4370(1)S
2371 V
4370(1)S
2251 V
4370(1)S
2131 V
4370(1)S
2011 V
4370(1)S
1891 V
4370(1)S
3711 V
4902(1)S
3691 V
4902(1)S
3571 V
4902(1)S
3451 V
4902(1)S
3331 V
4902(1)S
3211 V
4902(1)S
3091 V
4902(1)S
2971 V
4902(1)S
2851 V
4902(1)S
2731 V
4902(1)S
2611 V
4902(1)S
2491 V
4902(1)S
2371 V
4902(1)S
2251 V
4902(1)S
2131 V
4902(1)S
2011 V
4902(1)S
1891 V
4902(1)S
4062 V
10 B
2098(Fig.)S
2288(6.13.)S
10 R
2513(Operators)S
2936(and)S
3106(their)S
3316(interpretation)S
4314 V
12 R
708(If)S
843(the)S
1044(binary)S
1406(operator)S
1863(is)S
(omitted,)400 1997 A
2450(it)S
2571(is)S
2705(interpreted)S
3284(as)S
3438(a)S
3545(concatenation.)S
4331(The)S
4573(``?'')S
4845(operator)S
4454 V
708(delivers)S
1137(the)S
1330(value)S
1637(of)S
1783(the)S
1976(attribute)S
2426(on)S
2591(its)S
2751(right)S
3025(hand)S
3304(side)S
3544(argument)S
4045(for)S
4231(the)S
4423(object)S
4763(on)S
4927(its)S
5086(left)S
4594 V
708(hand)S
980(side.)S
1273(If)S
1394(it)S
1501(is)S
1621(not)S
1814(present,)S
12 I
2233(amake)S
12 R
2598(tries)S
2847(to)S
2980(derive)S
3322(it)S
3429(first.)S
3725(If)S
3846(that)S
4067(does)S
4327(not)S
(succeed)383 4520 A
4942(either,)S
4734 V
708(the)S
886(result)S
1186(is)S
12 C
(%unknown)584 1297 A
12 R
1881(.)S
4910 V
708(The)S
12 C
(%and)292 929 A
12 R
1254(and)S
12 C
(%or)219 1461 A
12 R
1713(operators)S
2197(have)S
2458(the)S
2639(same)S
2921(interpretation)S
3608(as)S
3742(the)S
12 C
3923(&&)S
12 R
4102(and)S
12 C
4309(||)S
12 R
4488(operators)S
4973(in)S
5101(the)S
5050 V
708(C)S
818(programming)S
(language,)466 1506 A
2002(i.e,)S
5250 V
11 I
1068(eval)S
11 C
1254(\()S
11 I
1321(b1)S
11 C
(%and)268 1498 A
11 I
1833(b2)S
11 C
1943(\))S
2077(=)S
2211(if)S
11 I
2412(eval)S
11 C
2598(\()S
11 I
2665(b1)S
11 C
2775(\))S
(then)268 2909 A
11 I
3244(eval)S
11 C
3430(\()S
11 I
3497(b2)S
11 C
3607(\))S
(else)268 3741 A
(%false)402 4076 A
4545(fi)S
5390 V
11 I
1068(eval)S
11 C
1254(\()S
11 I
1321(b1)S
11 C
(%or)201 1498 A
11 I
1766(b2)S
11 C
1876(\))S
2077(=)S
2211(if)S
11 I
2412(eval)S
11 C
2598(\()S
11 I
2665(b1)S
11 C
2775(\))S
(then)268 2909 A
(%true)335 3244 A
(else)268 3646 A
11 I
3981(eval)S
11 C
4167(\()S
11 I
4234(b2)S
11 C
4344(\))S
4478(fi)S
5626 V
12 R
708(Two)S
972(lists)S
1210(are)S
1401(equal)S
1705(if)S
1822(and)S
2038(only)S
2294(if)S
2411(their)S
2676(respective)S
(components)583 3211 A
3837(are)S
4029(equal,)S
4364(i.e.,)S
4585(the)S
4776(order)S
5075(and)S
5766 V
(multiplicity)566 708 A
1306(of)S
1439(elements)S
12 I
1902(does)S
12 R
2155(matter.)S
2558(Lists)S
2826(within)S
3168(lists)S
3396(are)S
3577(flattened,)S
4064(so)S
4203(``)S
12 C
4285({)S
4433(a,)S
4653({)S
4800(b)S
4947(})S
5094(})S
12 R
5167('')S
5906 V
708(evaluates)S
1191(to)S
1317(``)S
12 C
1399({)S
1547(a,)S
1768(b)S
1916(})S
12 R
1989(''.)S
2163(Be)S
2329(careful)S
2700(not)S
2887(to)S
3014(forget)S
3337(the)S
3518(commas)S
3954(separating)S
4485(the)S
(components)583 4666 A
6046 V
708(in)S
855(a)S
962(list)S
1164(expression:)S
1768(the)S
1969(expression)S
2539(``)S
12 C
2621({)S
(bet)219 2790 A
(ray)219 3105 A
3420(})S
12 R
3493('')S
3628(evaluates)S
4132(to)S
4279(``)S
12 C
4361({)S
(betray)438 4530 A
5064(})S
12 R
5137('',)S
6186 V
(because)383 708 A
1121(of)S
1252(an)S
12 I
1396(invisible)S
12 R
1847(concatenation)S
2549(operator)S
2983(between)S
3417(the)S
3595(two)S
3807(strings.)S
6362 V
708(Since,)S
1040(as)S
1174(noted)S
1475(before,)S
1848(the)S
2029(slash)S
2304(is)S
2418(an)S
2565(ordinary)S
3008(operator,)S
3475(white)S
(space)269 3778 A
12 I
4080(is)S
12 R
4194(allowed)S
4611(\(but)S
(ignored\))410 4839 A
6502 V
708(in)S
843(path)S
1092(expressions.)S
1757(The)S
1986(entries)S
2351(in)S
2486(the)S
2674(grammar)S
3152(specification)S
3812(for)S
3994(expression)S
4551(containing)S
5101(the)S
6642 V
708(slash)S
984(operator)S
1422(are)S
1605(there)S
1882(so)S
2023(that)S
11 R
2237(UNIX)S
12 R
2549(path)S
2792(names)S
3136(can)S
3339(be)S
(accepted)424 3488 A
(without)370 3947 A
4352(change:)S
4763(a)S
4852(slash)S
5129(on)S
6782 V
708(its)S
862(own)S
1109(denotes)S
1517(the)S
1704(root)S
1938(directory,)S
2445(so)S
2591(``)S
12 C
(/comp)365 2673 A
12 R
3038('')S
3158(selects)S
3520(``)S
12 C
(comp)292 3602 A
12 R
3894('')S
4014(within)S
4362(the)S
4548(root)S
4781(directory.)S
6922 V
708(A)S
(trailing)351 826 A
1207(slash)S
1479(is)S
(ignored.)399 1590 A
7700 V
708(96)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 97 103
BP
/slant 0 def
/height 0 def
860 V
12 B
708(Type)S
999(Conversion)S
1036 V
12 R
708(Type)S
(conversion)530 1044 A
1662(is)S
(done)234 1831 A
2153(automatically)S
2901(when)S
3251(needed;)S
3715(the)S
(conversions)577 3951 A
4616(possible)S
5100(are)S
1176 V
708(summarized)S
1330(in)S
1454(figure)S
1774(6.14.)S
1407 V
12 Y1
1129(2)S
(2222222222222222222222222222222222222222222222222222222222222)3660 1167 A
1547 V
12 R
1295(from)S
(unknown)448 1858 A
2710(string)S
3499(object)S
(boolean)382 4254 A
1567 V
12 Y1
1129(2)S
(2222222222222222222222222222222222222222222222222222222222222)3660 1167 A
1587 V
1129(2)S
(2222222222222222222222222222222222222222222222222222222222222)3660 1167 A
1727 V
12 R
(unknown)448 1189 A
2052(*)S
('unknown')530 2583 A
1747 V
12 Y1
1129(2)S
(2222222222222222222222222222222222222222222222222222222222222)3660 1167 A
1887 V
12 R
1275(string)S
('unknown')530 1817 A
2818(*)S
3350(./)S
12 I
(component)530 3414 A
12 R
4124('true',)S
4455('false')S
1907 V
12 Y1
1129(2)S
(2222222222222222222222222222222222222222222222222222222222222)3660 1167 A
2047 V
12 R
1265(object)S
12 I
2595(path)S
2839(name)S
12 R
3617(*)S
2067 V
12 Y1
1129(2)S
(2222222222222222222222222222222222222222222222222222222222222)3660 1167 A
2207 V
12 R
(boolean)382 1222 A
2527('true',)S
2858('false')S
4415(*)S
2227 V
12 Y1
1129(2)S
(2222222222222222222222222222222222222222222222222222222222222)3660 1167 A
1129(1)S
2127 V
1129(1)S
2007 V
1129(1)S
1887 V
1129(1)S
1767 V
1129(1)S
1647 V
1129(1)S
1527 V
1129(1)S
2227 V
1717(1)S
2127 V
1717(1)S
2007 V
1717(1)S
1887 V
1717(1)S
1767 V
1717(1)S
1647 V
1717(1)S
1527 V
1717(1)S
2227 V
1737(1)S
2127 V
1737(1)S
2007 V
1737(1)S
1887 V
1737(1)S
1767 V
1737(1)S
1647 V
1737(1)S
1527 V
1737(1)S
2227 V
2437(1)S
2127 V
2437(1)S
2007 V
2437(1)S
1887 V
2437(1)S
1767 V
2437(1)S
1647 V
2437(1)S
1527 V
2437(1)S
2227 V
3260(1)S
2127 V
3260(1)S
2007 V
3260(1)S
1887 V
3260(1)S
1767 V
3260(1)S
1647 V
3260(1)S
1527 V
3260(1)S
2227 V
4034(1)S
2127 V
4034(1)S
2007 V
4034(1)S
1887 V
4034(1)S
1767 V
4034(1)S
1647 V
4034(1)S
1527 V
4034(1)S
2227 V
4827(1)S
2127 V
4827(1)S
2007 V
4827(1)S
1887 V
4827(1)S
1767 V
4827(1)S
1647 V
4827(1)S
1527 V
4827(1)S
2578 V
10 B
2429(Fig.)S
2619(6.14.)S
10 R
(Conversion)463 2844 A
3332(table)S
2866 V
12 R
708(In)S
846(words:)S
1213(types)S
(boolean)382 1505 A
1925(and)S
(unknown)448 2137 A
2623(are)S
(converted)477 2810 A
3325(to)S
3457(and)S
3669(from)S
3943(strings)S
4304(by)S
4462(means)S
4809(of)S
4948('true',)S
3006 V
708(i.e.,)S
917(the)S
1096(keywords)S
(without)370 1597 A
1997(the)S
2175(``)S
12 C
2257(%)S
12 R
2330(''.)S
(Conversion)556 2502 A
3088(from)S
3354(object)S
3680(to)S
3804(strings)S
4157(delivers)S
4571(the)S
4749(path)S
4987(name)S
3146 V
708(of)S
858(the)S
1055(object.)S
1460(If)S
1591(the)S
1788(object)S
2133(resides)S
2520(in)S
2664(the)S
2862(current)S
3256(directory)S
3744(or)S
3895(one)S
4119(of)S
4270(its)S
(subdirectories,)710 4435 A
5195(a)S
3286 V
708(relative)S
1108(path)S
1350(name)S
1646(is)S
1761(generated,)S
2296(otherwise)S
2802(an)S
2950(absolute)S
3387(path)S
3629(name.)S
(Conversion)556 3985 A
4575(from)S
4845(string)S
5155(to)S
3426 V
708(object)S
1034(is)S
(done)234 1145 A
1409(by)S
1559(assuming)S
2045(that)S
2257(an)S
2401(object)S
2727(within)S
3067(the)S
3245(current)S
3619(directory)S
4087(is)S
4198(meant.)S
3602 V
708(When)S
1040(an)S
1198(operator)S
1646(or)S
1791(function)S
2238(expects)S
2646(a)S
2745(list)S
2939(argument,)S
3471(atomic)S
3846(arguments)S
4395(are)S
4589(automatically)S
3742 V
(converted)477 708 A
1217(to)S
1343(the)S
(corresponding)691 1523 A
2246(``singleton,'')S
2915(so)S
3053(``)S
12 C
3135({)S
3282(a,)S
3502(b)S
3649(})S
3796(+)S
3943(c)S
12 R
4016('')S
4129(is)S
(converted)477 4241 A
4749(to)S
4874(``)S
12 C
4956({)S
5103(a,)S
3882 V
708(b)S
854(})S
1000(+)S
1146({)S
1292(c)S
1438(})S
12 R
1511('',)S
1653(which)S
1979(in)S
2103(turn)S
2328(evaluates)S
2809(to)S
2933(``)S
12 C
3015({)S
3161(a,)S
3380(b,)S
3599(c)S
3745(})S
12 R
3818(''.)S
4162 V
12 B
708(Built-in)S
1136(functions)S
1644(and)S
1868(Tools)S
4338 V
12 R
708(There)S
1024(are)S
1206(two)S
1421(kinds)S
1715(of)S
1849(calls:)S
(built-in)357 2139 A
2529(function)S
2965(call)S
3174(and)S
3381(tool)S
(invocation.)540 3603 A
4207(Tool)S
(definitions)518 4469 A
5021(have)S
4478 V
708(been)S
(introduced)517 967 A
1515(in)S
1640(a)S
1725(previous)S
2172(section.)S
2606(Most)S
2885(of)S
3017(a)S
3102(tool's)S
3409(parameters)S
(will)190 3973 A
4194(generally)S
4676(be)S
4820(provided)S
4618 V
708(with)S
977(defaults,)S
1444(and)S
1671(the)S
1872(\(Ada-like\))S
(invocation)510 2432 A
2995(syntax)S
3364(reflects)S
3777(this:)S
4040(only)S
4308(a)S
4416(subset)S
4772(has)S
4987(to)S
5135(be)S
4758 V
708(specified,)S
1216(and)S
1430(both)S
(positional)477 1684 A
2201(and)S
2415(named)S
2777(argument)S
3274(syntax)S
3629(are)S
(accepted.)454 3818 A
4342(Figure)S
4698(6.15)S
4947(shows)S
4898 V
708(the)S
(built-in)357 886 A
1273(functions)S
1753(currently)S
2221(available.)S
5178 V
12 B
708(The)S
939(Exec)S
1217(Function)S
5354 V
12 R
708(The)S
951(function)S
12 C
(exec)292 1409 A
12 R
1756(takes)S
2060(care)S
2318(of)S
2474(the)S
2677(actual)S
3022(execution)S
3547(of)S
3703(a)S
3812(command)S
4343(on)S
4518(the)S
4722(system.)S
5174(It)S
5494 V
708(resembles)S
1228(the)S
1411(way)S
1648(a)S
1737(single)S
2061(command)S
2571(is)S
2686(specified)S
3158(in)S
3286(the)S
3468(Bourne)S
3857(shell)S
4120(\320)S
4274(with)S
4524(syntax)S
4873(adapted)S
5634 V
708(to)S
12 I
858(amake)S
12 R
1184('s,)S
1358(of)S
1515(course)S
1887(\320)S
2063(but)S
2273(we)S
2472(considered)S
3053(it)S
3178(general)S
(enough)354 3592 A
4003(to)S
4154(be)S
4325(used)S
4603(as)S
4761(a)S
4872(system-)S
5774 V
708(independent)S
(interface.)456 1332 A
1852(Just)S
2074(like)S
2290(tools,)S
2589(the)S
2771(exec)S
3027(function)S
3464(contains)S
3900(defaults)S
4317(to)S
4444(make)S
4739(life)S
4935(easier.)S
5914 V
708(Parameter)S
12 C
(args)292 1255 A
12 R
1547(,)S
1631(requiring)S
2129(a)S
2237(string)S
2567(list,)S
2801(is)S
2937(used)S
3213(to)S
3362(specify)S
3767(file)S
3985(arguments)S
4544(and)S
4773(command)S
6054 V
708(options,)S
1136(and)S
1353(defaults)S
1780(to)S
1916(the)S
2106(empty)S
2450(list.)S
2701(Standard)S
(input)248 3173 A
3463(is)S
3586(by)S
3748(default)S
4127(redirected)S
4655(to)S
4791(an)S
4947(empty)S
6194 V
708(file,)S
931(and)S
1135(both)S
1379(standard)S
1819(output)S
2157(and)S
2361(standard)S
2801(error)S
3068(are)S
3247(redirected)S
3763(to)S
3887(a)S
3971(temporary)S
(diagnostic)497 4499 A
5026(file.)S
6370 V
708(After)S
1001(the)S
1184(command)S
1695(has)S
1891(finished,)S
2346(the)S
(diagnostic)497 2529 A
3061(files)S
3306(are)S
3490(examined,)S
4026(and)S
4236(their)S
4495(contents)S
4934(shown)S
6510 V
708(on)S
12 I
861(amake)S
12 R
1187('s)S
1308(standard)S
1751(output.)S
2152(The)S
2373(reason)S
2722(why)S
2963(they)S
3204(are)S
3386(redirected)S
3905(by)S
4058(default)S
4428(in)S
4554(the)S
4734(first)S
(place,)286 4963 A
6650 V
708(is)S
837(to)S
979(prevent)S
1390(output)S
1746(of)S
1895(several)S
2287(parallel)S
2700(jobs)S
2949(to)S
3091(appear)S
3462(intermixed)S
4036(on)S
4205(the)S
4402(terminal,)S
4886(thereby)S
6790 V
708(probably)S
1167(confusing)S
1673(the)S
1851(user.)S
6966 V
708(The)S
930(designators)S
12 C
(%ignore)511 1515 A
12 R
2026(,)S
12 C
(%diag)365 2090 A
12 R
2489(and)S
12 C
(%return)511 2697 A
12 R
3242(can)S
3444(be)S
3592(used)S
3847(as)S
3982(file)S
4179(arguments)S
4717(to)S
4845(the)S
5027(exec)S
7106 V
708(function)S
1153(and)S
1369(tool)S
(invocations,)587 1599 A
2228(and)S
2444(have)S
2714(special)S
3093(semantics.)S
3673(The)S
3902(keyword)S
12 C
(%ignore)511 4366 A
12 R
4918(acts)S
5148(as)S
7246 V
12 I
708(/dev/null)S
12 R
1188(on)S
11 R
1352(UNIX)S
12 R
1629(,)S
1705(i.e.,)S
1929(empty)S
2277(file)S
2486(when)S
2794(used)S
3062(as)S
(input,)278 3210 A
3535(and)S
3756(``kitchen)S
4241(sink'')S
4571(when)S
4880(used)S
5148(as)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(97)S
7920 V
EP
%%Page: 98 104
BP
/slant 0 def
/height 0 def
951 V
12 Y1
708(2)S
(22222222222222222222222222222222222222222222222222222222222222222222222222222)4620 719 A
1091 V
12 R
858(function)S
2119(arguments)S
4127(meaning)S
1111 V
12 Y1
708(2)S
(22222222222222222222222222222222222222222222222222222222222222222222222222222)4620 719 A
1131 V
708(2)S
(22222222222222222222222222222222222222222222222222222222222222222222222222222)4620 719 A
1271 V
12 C
(exec)292 768 A
(\(prog,)438 1532 A
(args,)365 2189 A
(stdin,)438 2773 A
1411 V
(stdout,)511 1532 A
(stderr\))511 2116 A
1271 V
12 R
3391(execute)S
3855(a)S
4003(command)S
4573(with)S
4883(possible)S
1411 V
3391(redirection)S
1431 V
12 Y1
708(2)S
(22222222222222222222222222222222222222222222222222222222222222222222222222222)4620 719 A
1571 V
12 C
768(if)S
(\(condition,)803 1532 A
(then,)365 2408 A
(else\))365 2846 A
12 R
(conditional)544 3391 A
3965(evaluation)S
1591 V
12 Y1
708(2)S
(22222222222222222222222222222222222222222222222222222222222222222222222222222)4620 719 A
1731 V
12 C
(echo)292 768 A
(\(strings\))657 1532 A
12 R
3391(print)S
3650(arguments)S
4184(on)S
12 I
4334(amake)S
(stdout)295 4680 A
1751 V
12 Y1
708(2)S
(22222222222222222222222222222222222222222222222222222222222222222222222222222)4620 719 A
1891 V
12 C
(defined)511 768 A
(\(variable\))730 1532 A
12 R
3391(has)S
3582(a)S
3666(variable)S
4087(been)S
4345(assigned)S
4791(to?)S
1911 V
12 Y1
708(2)S
(22222222222222222222222222222222222222222222222222222222222222222222222222222)4620 719 A
2051 V
12 C
(exit)292 768 A
(\(integer\))657 1532 A
12 R
3391(exit)S
3603(amake)S
3949(prematurely)S
2071 V
12 Y1
708(2)S
(22222222222222222222222222222222222222222222222222222222222222222222222222222)4620 719 A
2211 V
12 C
(move)292 768 A
(\(from,)438 1532 A
(to\))219 2043 A
12 R
3391(rename)S
3778(a)S
3862(file)S
4055(on)S
4205(the)S
4383(file)S
4576(system)S
2231 V
12 Y1
708(2)S
(22222222222222222222222222222222222222222222222222222222222222222222222222222)4620 719 A
2371 V
12 C
(select)438 768 A
(\(list,)438 1532 A
(attr,)365 2043 A
(value\))438 2481 A
12 R
3391(select)S
3698(objects)S
4071(specified)S
2391 V
12 Y1
708(2)S
(22222222222222222222222222222222222222222222222222222222222222222222222222222)4620 719 A
2531 V
12 C
(get)219 768 A
(\(object,)584 1532 A
(attribute\))730 2189 A
12 R
3391(return)S
3711(value)S
4003(of)S
4134(attribute,)S
4599(or)S
(%unknown)549 4730 A
2551 V
12 Y1
708(2)S
(22222222222222222222222222222222222222222222222222222222222222222222222222222)4620 719 A
2691 V
12 C
(vpath)365 768 A
(\(name,)438 1532 A
(dirs\))365 2043 A
12 R
3391(first)S
3618(d)S
3708(in)S
3832(dirs)S
4044(for)S
4216(which)S
4542(d/name)S
4928(exists)S
2711 V
12 Y1
708(2)S
(22222222222222222222222222222222222222222222222222222222222222222222222222222)4620 719 A
2851 V
12 C
(lcomp)365 768 A
(\(object\))584 1532 A
12 R
3391(last)S
(component)536 3590 A
4156(of)S
4287(path)S
2871 V
12 Y1
708(2)S
(22222222222222222222222222222222222222222222222222222222222222222222222222222)4620 719 A
3011 V
12 C
(basename)584 768 A
(\(object,)584 1532 A
(pattern\))584 2189 A
12 R
3391(remove)S
3784(prefix)S
4104(and/or)S
4443(suffix)S
3031 V
12 Y1
708(2)S
(22222222222222222222222222222222222222222222222222222222222222222222222222222)4620 719 A
3171 V
12 C
(matches)511 768 A
(\(string,)584 1532 A
(pattern\))584 2189 A
12 R
3391(%true)S
3711(iff)S
3857(strings)S
4210(matches)S
4637(pattern)S
3191 V
12 Y1
708(2)S
(22222222222222222222222222222222222222222222222222222222222222222222222222222)4620 719 A
3331 V
12 C
(match)365 768 A
(\(object\))584 1532 A
12 R
3391(match)S
3717(basenames)S
4271(of)S
4402(objects)S
3351 V
12 Y1
708(2)S
(22222222222222222222222222222222222222222222222222222222222222222222222222222)4620 719 A
708(1)S
3231 V
708(1)S
3111 V
708(1)S
2991 V
708(1)S
2871 V
708(1)S
2751 V
708(1)S
2631 V
708(1)S
2511 V
708(1)S
2391 V
708(1)S
2271 V
708(1)S
2151 V
708(1)S
2031 V
708(1)S
1911 V
708(1)S
1791 V
708(1)S
1671 V
708(1)S
1551 V
708(1)S
1431 V
708(1)S
1311 V
708(1)S
1191 V
708(1)S
1071 V
708(1)S
3351 V
1442(1)S
3231 V
1442(1)S
3111 V
1442(1)S
2991 V
1442(1)S
2871 V
1442(1)S
2751 V
1442(1)S
2631 V
1442(1)S
2511 V
1442(1)S
2391 V
1442(1)S
2271 V
1442(1)S
2151 V
1442(1)S
2031 V
1442(1)S
1911 V
1442(1)S
1791 V
1442(1)S
1671 V
1442(1)S
1551 V
1442(1)S
1431 V
1442(1)S
1311 V
1442(1)S
1191 V
1442(1)S
1071 V
1442(1)S
3351 V
3301(1)S
3231 V
3301(1)S
3111 V
3301(1)S
2991 V
3301(1)S
2871 V
3301(1)S
2751 V
3301(1)S
2631 V
3301(1)S
2511 V
3301(1)S
2391 V
3301(1)S
2271 V
3301(1)S
2151 V
3301(1)S
2031 V
3301(1)S
1911 V
3301(1)S
1791 V
3301(1)S
1671 V
3301(1)S
1551 V
3301(1)S
1431 V
3301(1)S
1311 V
3301(1)S
1191 V
3301(1)S
1071 V
3301(1)S
3351 V
5339(1)S
3231 V
5339(1)S
3111 V
5339(1)S
2991 V
5339(1)S
2871 V
5339(1)S
2751 V
5339(1)S
2631 V
5339(1)S
2511 V
5339(1)S
2391 V
5339(1)S
2271 V
5339(1)S
2151 V
5339(1)S
2031 V
5339(1)S
1911 V
5339(1)S
1791 V
5339(1)S
1671 V
5339(1)S
1551 V
5339(1)S
1431 V
5339(1)S
1311 V
5339(1)S
1191 V
5339(1)S
1071 V
5339(1)S
3702 V
10 B
2415(Fig.)S
2605(6.15.)S
10 R
(Built-in)313 2830 A
3168(functions)S
3954 V
12 R
708(The)S
926(following)S
1427(example)S
(illustrates)473 1867 A
2370(the)S
2548(use)S
2739(of)S
2870(defaults)S
3284(and)S
3488(call)S
3694(syntax:)S
4154 V
11 C
(exec\(/bin/cc,)871 1068 A
(args)268 2006 A
2341(=>)S
('-E')268 2542 A
2877(+)S
($base.c,)536 3011 A
(stdout)402 3614 A
4083(=>)S
($base.e\))536 4284 A
4354 V
12 R
708(output)S
1052(file.)S
(Diagnostic)525 1311 A
1872(files,)S
2148(to)S
2278(be)S
2428(shown)S
2779(on)S
2936(standard)S
3383(output)S
3728(when)S
4027(the)S
4212(command)S
4725(or)S
4863(tool)S
5088(has)S
4494 V
708(finished,)S
1178(are)S
1377(created)S
1778(with)S
12 C
(%diag)365 2044 A
12 R
2409(.)S
2519(Usually,)S
2976(evaluation)S
3530(of)S
3681(commands)S
4254(and)S
4478(tools)S
4762(delivers)S
5195(a)S
4634 V
(boolean)382 708 A
1156(value,)S
1514(indicating)S
(success)363 2064 A
2493(or)S
2660(failure.)S
(Supplying)495 3104 A
12 C
(%return)511 3665 A
12 R
4242(as)S
4409(argument)S
4933(causes)S
4774 V
708(redirection)S
1274(to)S
1407(a)S
1500(temporary)S
2037(file,)S
2269(whose)S
2617(contents)S
(will)190 3059 A
3288(be)S
3441(returned)S
3884(as)S
4024(a)S
4117(string)S
4432(list)S
4620(\320)S
4779(the)S
4966(file)S
5168(is)S
4914 V
(supposed)448 708 A
1186(to)S
1310(contain)S
1696(readable)S
2137(output)S
2475(\320)S
2625(so)S
5114 V
11 C
(exec\(/bin/cat,)938 1068 A
(args)268 2073 A
2408(=>)S
(hello,)402 2609 A
(stdout)402 3078 A
3547(=>)S
(%return\))536 3748 A
5314 V
12 R
708(effectively)S
1258(works)S
1584(as)S
1715(a)S
1799(``contents'')S
2396(function.)S
2889(Note)S
3155(that)S
3367(this)S
3572(is)S
3683(equivalent)S
4217(to)S
4341(the)S
4519(command)S
5514 V
11 C
(\301/bin/cat)603 1068 A
(hello\301)402 1738 A
5714 V
12 R
708(in)S
832(the)S
1010(Bourne)S
1395(shell.)S
5994 V
12 B
708(General)S
(Utility)332 1155 A
1517(Functions)S
6170 V
12 R
(Conditional)570 708 A
1325(evaluation)S
1876(is)S
2004(possible)S
2448(with)S
2712(the)S
12 C
2908(if)S
12 R
3102(function.)S
3613(If)S
3743(its)S
3906(first)S
4151(argument)S
4656(evaluates)S
5155(to)S
6310 V
12 C
(%true)365 708 A
12 R
1073(,)S
1160(it)S
1285(delivers)S
1726(the)S
1931(value)S
2250(its)S
(second)335 2422 A
2814(argument,)S
3358(otherwise)S
3887(that)S
4126(of)S
4284(its)S
4456(third.)S
4802(Only)S
5101(the)S
6450 V
708(argument)S
1202(to)S
1333(be)S
1484(delivered)S
1973(is)S
2092(evaluated)S
2594(\(for)S
2815(other)S
3102(functions)S
3590(all)S
3750(arguments)S
4292(are)S
4479(evaluated)S
4981(first\).)S
6590 V
708(The)S
934(third)S
1201(argument)S
1696(is)S
1815(optional:)S
2283(a)S
2375(default)S
2750(value)S
3049(\(empty)S
3429(list,)S
3645(empty)S
3984(string,)S
4327(or)S
12 C
(%true)365 4465 A
12 R
4830(\))S
(will)190 4908 A
5135(be)S
6730 V
708(assumed,)S
1184(depending)S
1716(on)S
1866(the)S
2044(type)S
2282(of)S
2413(the)S
(second)335 2591 A
2956(argument.)S
6906 V
708(When)S
1031(creating)S
1457(a)S
1546(description)S
2119(file)S
2317(that)S
2534(is)S
(supposed)448 2650 A
3133(to)S
3262(be)S
3411(suitable)S
3824(for)S
4002(different)S
4457(environments,)S
5181(it)S
7046 V
708(is)S
827(sometimes)S
(convenient)530 1383 A
1951(to)S
2083(be)S
2235(able)S
2475(to)S
2607(act)S
(upon)240 2787 A
3065(the)S
3251(fact)S
3472(whether)S
3901(some)S
4193(variable)S
4621(has)S
4819(been)S
5084(set.)S
7186 V
708(This)S
955(can)S
1155(be)S
1301(achieved)S
1763(with)S
2011(the)S
2191(use)S
2384(of)S
2517(the)S
2697(function)S
12 C
(defined)511 3132 A
12 R
3643(,)S
3706(usually)S
4088(in)S
4215(combination)S
4852(with)S
5101(the)S
7326 V
12 C
708(if)S
12 R
884(function.)S
7700 V
708(98)S
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 99 105
BP
/slant 0 def
/height 0 def
860 V
12 R
708(The)S
931(function)S
12 C
(echo)292 1369 A
12 R
1696(can)S
1899(be)S
2048(used)S
2304(to)S
2434(write)S
2721(a)S
2811(informative)S
3413(message)S
3859(on)S
12 I
4015(amake)S
12 R
4341('s)S
4465(standard)S
4911(output.)S
1000 V
708(It)S
828(delivers)S
12 C
(%true)365 1257 A
12 R
1667(as)S
1813(return)S
2148(value.)S
2515(The)S
12 C
(exit)292 2748 A
12 R
3084(function)S
3531(also)S
3770(prints)S
4090(its)S
4249(arguments,)S
4827(but)S
5025(after)S
1140 V
708(that)S
926(it)S
1030(forces)S
1363(a)S
1454(premature)S
12 I
1983(amake)S
12 R
2346(exit.)S
2625(This)S
2877(is)S
2995(useful)S
3328(when,)S
3657(for)S
3836(example,)S
4313(some)S
4605(vital)S
4858(variable)S
1280 V
708(has)S
899(not)S
1083(been)S
1341(set.)S
1566(Examples:)S
1480 V
11 C
1068(if)S
(\($OS)268 1269 A
1604(==)S
(AMOEBA,)469 1805 A
(ainstall\($prog\)\))1072 2341 A
1620 V
1068(if)S
(\(defined\(OPTIMIZE\),)1273 1269 A
($OPTIMIZE,)670 2609 A
('-O'\))335 3346 A
1760 V
1068(if)S
(\(%not)335 1269 A
(defined\(OS\),)804 1671 A
(exit\('$OS)603 2542 A
(not)201 3212 A
(defined'\),)670 3480 A
(echo\('O.K.'\)\))871 4217 A
1960 V
12 R
708(The)S
948(function)S
12 C
(get)219 1403 A
12 R
1674(is)S
1807(an)S
1973(alias)S
2248(for)S
2442(the)S
2642(``?'')S
2912(operator,)S
3399(i.e.,)S
3630(it)S
3751(returns)S
4141(the)S
4342(value)S
4657(of)S
4811(a)S
4918(certain)S
2100 V
708(attribute)S
1143(of)S
1274(an)S
1418(object,)S
1774(possibly)S
2206(after)S
2460(deriving)S
2893(it.)S
2276 V
708(There)S
1021(is)S
1132(also)S
1358(a)S
1443(function)S
12 C
(select)438 1877 A
12 R
2315(,)S
2376(which)S
(filters)285 2703 A
3019(precisely)S
3488(those)S
3774(objects)S
4148(from)S
4415(an)S
4560(object)S
4887(list)S
5067(that)S
2416 V
708(have)S
968(a)S
1054(particular)S
1552(value)S
1846(for)S
2019(some)S
2305(attribute.)S
2801(Note)S
3068(that)S
3281(the)S
3460(attribute)S
3896(referred)S
4313(to)S
4438(might)S
4751(have)S
5010(to)S
5135(be)S
2556 V
708(derived)S
1101(first.)S
1388(For)S
1586(example:)S
2756 V
11 C
(select\({parse.y,)1072 1068 A
(scan.c},)536 2207 A
(type,)335 2810 A
(C-src\))402 3212 A
3681(==)S
({scan.c})536 3882 A
2956 V
12 R
708(As)S
874(the)S
1053(example)S
1494(indicates,)S
1986(this)S
2192(function)S
2626(can)S
2825(be)S
(handy)294 2970 A
3296(when)S
3590(some)S
3877(special)S
4246(cluster)S
4602(only)S
4848(needs)S
5155(to)S
3096 V
708(have)S
966(a)S
1050(subset)S
1382(from)S
1648(all)S
1800(sources)S
2193(as)S
(input)248 2324 A
2602(\(e.g.,)S
2877(only)S
3121(the)S
3299(``lintable'')S
3857(sources\).)S
3376 V
12 B
708(Object)S
1089(functions)S
3552 V
12 R
708(Sometimes)S
1280(it)S
1382(is)S
1497(not)S
(known)328 1685 A
2047(in)S
2176(advance)S
2607(where)S
2939(a)S
3028(file)S
3226(resides)S
3598(\(e.g.,)S
3878(its)S
(place)256 4028 A
4319(might)S
4636(change)S
5013(from)S
3692 V
708(time)S
956(to)S
1082(time\).)S
1431(The)S
1651(function)S
12 C
(vpath)365 2086 A
12 R
2483(\(the)S
2704(``v'')S
2960(stands)S
3294(for)S
(``view''\))441 3468 A
3941(returns)S
4310(the)S
12 I
4490(first)S
12 R
4717(occurrence)S
3832 V
708(of)S
839(a)S
923(file)S
1116(in)S
1240(a)S
1324(list)S
1503(of)S
1634(directories,)S
2207(having)S
2565(a)S
2649(specified)S
3117(string)S
3423(as)S
3554(last)S
(component.)566 3753 A
4379(Example:)S
4032 V
11 C
(PATH)268 1068 A
1403(=)S
1537({)S
(/usr/local/bin,)1005 1671 A
(/bin,)335 2743 A
(/usr/bin,)603 3145 A
(/usr/ucb/bin)804 3815 A
4686(};)S
4172 V
1068(CC)S
1269(=)S
(vpath\(cc,)603 1403 A
($PATH\);)469 2073 A
4408 V
12 R
708(It)S
819(is)S
936(common)S
1394(practice)S
1815(that)S
2033(system)S
2405(commands)S
2964(create)S
3291(output)S
3635(objects)S
4014(based)S
4325(on)S
4481(the)S
4665(name)S
4963(of)S
5101(the)S
4548 V
(input\(s\).)407 708 A
1184(To)S
1357(give)S
1604(some)S
1897(way)S
2137(to)S
2269(describe)S
2711(this)S
2924(within)S
3272(a)S
3364(tool)S
(definition,)501 3590 A
4129(and)S
4341(also)S
4574(to)S
4706(allow)S
5014(tools)S
4688 V
708(themselves)S
1284(to)S
1416(implement)S
1972(this)S
2185(kind)S
2437(of)S
2576(behavior,)S
3067(the)S
3254(function)S
12 C
(basename)584 3696 A
12 R
4319(is)S
4439(provided.)S
4967(It)S
5081(can)S
4828 V
708(be)S
852(used)S
1103(to)S
1227(strip)S
1473(off)S
1645(a)S
(known)328 1729 A
2087(prefix)S
2407(and/or)S
2746(suffix.)S
5004 V
708(The)S
946(predicate)S
12 C
(matches)511 1441 A
12 R
2002(returns)S
2390(a)S
(boolean)382 2495 A
(telling)310 2928 A
3289(whether)S
3731(its)S
3897(first)S
4145(argument)S
4653(matches)S
5101(the)S
5144 V
708(pattern)S
1083(given)S
1389(as)S
(second)335 1528 A
1900(parameter.)S
2483(This)S
2735(function)S
3175(is)S
3293(often)S
3579(used)S
3837(in)S
3968(a)S
4059(derivations)S
4634(of)S
4772(the)S
12 C
(type)292 4957 A
5284 V
12 R
708(attribute.)S
5460 V
708(The)S
953(function)S
12 C
(match)365 1413 A
12 R
1835(\(not)S
2087(to)S
2239(be)S
2411(confused)S
2905(with)S
3179(the)S
3385(previous)S
3859(one\))S
(involves)409 4132 A
4599(some)S
4912(special)S
5600 V
708(trickery,)S
1155(and)S
1368(can)S
1575(only)S
1828(be)S
1981(used)S
2241(in)S
2374(tool)S
2601(contexts)S
3043(to)S
3176(derive)S
3517(the)S
3703(name)S
4003(of)S
4142(an)S
4294(output)S
4640(object)S
4974(based)S
5740 V
708(on)S
858(that)S
1070(of)S
1201(an)S
(input)248 1345 A
1623(object.)S
2009(This)S
(will)190 2254 A
2474(be)S
2618(described)S
3112(in)S
3236(a)S
3320(later)S
3567(section.)S
5916 V
708(Examples:)S
6116 V
11 C
(basename\(file.c,)1072 1068 A
('%.c'\))402 2207 A
2676(==)S
(file)268 2877 A
6256 V
(basename\(pre.file.post,)1541 1068 A
('pre.%.post'\))871 2676 A
3614(==)S
(file)268 3815 A
6396 V
(basename\(file.c,)1072 1068 A
('%.y'\))402 2207 A
2676(==)S
(file.c)402 2877 A
6656 V
(matches\('down.under',)1407 1068 A
('%.under'\))670 2542 A
3279(==)S
(%true)335 3480 A
6796 V
(matches\('down.under',)1407 1068 A
('%.above'\))670 2542 A
3279(==)S
(%false)402 3480 A
6996 V
12 R
708(Notice)S
1062(that)S
1274(an)S
1418(unmatching)S
2018(pattern)S
2385(causes)S
2731(basename)S
3238(to)S
3362(return)S
3682(its)S
3827(first)S
4054(argument.)S
7700 V
2683(Amoeba)S
3123(5.3)S
5129(99)S
7920 V
EP
%%Page: 100 106
BP
/slant 0 def
/height 0 def
860 V
12 B
708(6.3.11.)S
1128(Assignments)S
1811(and)S
2035(Declarations)S
1036 V
12 R
708(In)S
12 I
845(amake)S
12 R
1171(,)S
1237(variables)S
1711(are)S
1896(primarily)S
2384(used)S
2641(to)S
2771(avoid)S
3076(having)S
3441(to)S
3572(repeat)S
3906(lists)S
4139(of)S
4277(strings)S
4637(or)S
4775(objects)S
5155(in)S
1176 V
708(different)S
(places.)333 1167 A
1570(The)S
1798(variables)S
2276(are)S
12 I
2465(not)S
12 R
2659(textual)S
3029(macros,)S
3448(so)S
3594(assignments)S
4224(expect)S
4579(an)S
4732(expression)S
1316 V
708(as)S
839(right)S
1098(hand)S
1362(side.)S
1516 V
12 I
1068(assignment)S
12 C
(::=)219 1685 A
1977([)S
12 I
(identifier)445 2123 A
12 C
("=")219 2641 A
2933(]?)S
12 I
3152(expression)S
1716 V
12 R
708(As)S
879(expressions)S
1479(are)S
1664(typed,)S
1998(so)S
2142(are)S
2328(variables.)S
2863(Note)S
3136(that)S
3355(there)S
3635(are)S
3821(no)S
3978(restrictions)S
4555(on)S
4712(the)S
4897(kind)S
5148(of)S
1856 V
708(expressions:)S
1353(tools)S
1635(may)S
1890(also)S
2132(be)S
2293(called,)S
2660(for)S
2849(instance.)S
3353(Variables)S
3866(may)S
4121(be)S
4282(assigned)S
4745(more)S
5041(than)S
1996 V
708(once.)S
2172 V
708(Assignments)S
1373(are)S
1562(not)S
(necessarily)539 1756 A
2335(executed)S
2805(directly)S
3216(the)S
3404(moment)S
3840(they)S
4089(are)S
4279(read;)S
4563(they)S
4812(might)S
5135(be)S
2312 V
(cached)336 708 A
(until)222 1078 A
1334(their)S
1591(value)S
1887(is)S
2002(used,)S
2287(or)S
2422(all)S
(input)248 2578 A
2860(has)S
3055(been)S
3317(read.)S
3619(If)S
3734(an)S
3881(expression)S
(should)321 4431 A
4785(evaluated)S
2452 V
(because)383 708 A
1141(of)S
1292(its)S
1457(side)S
1702(effect)S
2030(rather)S
2364(than)S
2622(its)S
(resulting)424 2787 A
3261(value,)S
3603(it)S
3721(is)S
3852(allowed)S
4286(just)S
4511(to)S
4655(mention)S
5101(the)S
2592 V
708(expression)S
1255(itself.)S
1589(In)S
1720(that)S
1932(case,)S
2201(the)S
2379(expression)S
2926(is)S
3037(evaluated)S
3531(right)S
3790(away.)S
4136(Example:)S
2792 V
11 C
(%if)201 1068 A
(\(%not)335 1336 A
(defined\(TOOLSET\),)1139 1738 A
2944({)S
2932 V
(exit\('panic:)804 1269 A
(TOOLSET)469 2140 A
(not)201 2676 A
(defined'\);)670 2944 A
3681(#)S
(exit)268 3815 A
(right)335 4150 A
(away)268 4552 A
3072 V
(}\);)201 1068 A
3308 V
12 R
708(Values)S
1088(of)S
1232(variables)S
1713(can)S
1924(also)S
2162(be)S
2319(taken)S
2624(from)S
2903(the)S
3094(environment)S
3748(and)S
3965(put)S
4163(in)S
4301(the)S
4493(environment)S
5148(of)S
3448 V
708(commands)S
1295(executed.)S
1849(See)S
2087(the)S
2298(section)S
2704(on)S
2887(import)S
3273(and)S
(export)309 3510 A
3882(for)S
4087(details.)S
4527(The)S
4778(following)S
3588 V
708(variables)S
1176(have)S
1434(a)S
1518(special)S
1885(interpretation:)S
3678 V
12 Y1
1378(2)S
(22222222222222222222222222222222222222222222222222222)3180 1398 A
3818 V
12 R
1438(PWD)S
2258(the)S
2436(directory)S
2904(containing)S
3444(current)S
3818(file)S
4011(being)S
4309(read)S
3958 V
1438(AMAKELIB)S
2258(the)S
2436(search)S
2776(path)S
3014(for)S
3186(files)S
3426(to)S
3550(be)S
3694(%included)S
4098 V
1438(ROOT)S
2258(the)S
2436(root)S
2661(object,)S
3017(``/'')S
4118 V
12 Y1
1378(2)S
(22222222222222222222222222222222222222222222222222222)3180 1398 A
1378(1)S
4038 V
1378(1)S
3918 V
1378(1)S
3798 V
1378(1)S
4118 V
2168(1)S
4038 V
2168(1)S
3918 V
2168(1)S
3798 V
2168(1)S
4118 V
4578(1)S
4038 V
4578(1)S
3918 V
4578(1)S
3798 V
4578(1)S
4364 V
12 R
708(The)S
955(variable)S
12 C
(PWD)219 1405 A
12 R
1683(is)S
1823(particularly)S
2442(useful:)S
2831(it)S
2958(makes)S
3326(it)S
3453(possible)S
3909(to)S
4063(maintain)S
12 I
4547(amake)S
12 R
4933(source)S
4504 V
708(descriptions,)S
1373(completely)S
1960(independent)S
2599(of)S
2749(the)S
(place)256 2946 A
3251(where)S
3597(the)S
3794(targets)S
4167(are)S
(built.)252 4365 A
4696(The)S
4933(source)S
4644 V
708(description)S
1294(file,)S
1535(residing)S
1973(in)S
2115(the)S
2311(same)S
2608(directory)S
3094(as)S
3243(the)S
3439(sources,)S
3880(can)S
4097(refer)S
4377(to)S
4520(the)S
4717(sources)S
5129(by)S
4784 V
708(means)S
1074(of)S
1232(``)S
12 C
($PWD/sourcename)1095 1314 A
12 R
2409(''.)S
2608(An)S
12 C
(Amakefile)657 2812 A
12 R
3525(in)S
3675(the)S
3879(configuration)S
4587(directory)S
5081(can)S
4924 V
708(then)S
946(include)S
1332(the)S
1510(source)S
1856(lists)S
2082(required,)S
2546(and)S
2750(specify)S
3130(what)S
(should)321 3396 A
3747(be)S
3891(constructed)S
4479(out)S
4663(of)S
4794(it.)S
5204 V
12 B
708(Declarations)S
5380 V
12 R
708(Declarations)S
1352(can)S
1550(be)S
1694(used)S
1945(to)S
2069(attach)S
2389(attributes)S
2871(to)S
2995(a)S
3079(list)S
3258(of)S
3389(objects.)S
5580 V
12 I
1068(declaration)S
12 C
(::=)219 1698 A
12 B
1990(%declare)S
12 I
2560(expression-list)S
5780 V
12 R
708(Each)S
1016(expression)S
1600(in)S
1761(the)S
1976(expression)S
2560(list)S
2776(is)S
2924(required)S
3395(to)S
3556(be)S
3737(an)S
3918(attribute)S
4390(assignment.)S
5061(The)S
5920 V
708(expressions)S
1333(are)S
1543(evaluated)S
2068(one)S
2303(by)S
2484(one,)S
2749(which)S
3106(has)S
3328(the)S
3537(effect)S
3875(of)S
4036(the)S
4244(attributes)S
4756(being)S
5084(set.)S
6060 V
708(Example:)S
6260 V
11 C
(%declare)536 1068 A
($SRC[author)737 1671 A
2475(=)S
(versto],)536 2609 A
(foo.c[author)804 3212 A
4083(=)S
(nobody];)536 4217 A
6460 V
12 R
708(It)S
(should)321 823 A
1184(be)S
1338(noted)S
1646(that)S
1868(the)S
2056(same)S
2345(effect)S
2663(could)S
2971(be)S
3125(achieved)S
3595(by)S
3755(means)S
4104(of)S
4245(assignments,)S
4906(but)S
5101(the)S
6600 V
708(advantage)S
1229(of)S
1361(using)S
1653(declarations)S
2270(is)S
2382(that)S
2595(they)S
2834(do)S
2984(not)S
3168(require)S
3542(invention)S
4028(of)S
4159(a)S
4243(variable)S
4664(name)S
4956(that)S
5168(is)S
6740 V
708(not)S
892(used)S
1143(afterwards.)S
6916 V
708(A)S
827(possible)S
1254(application)S
1823(is)S
1935(the)S
2114(situation)S
2562(where)S
2890(a)S
12 I
2975(derivation)S
3503(rule)S
12 R
3729(is)S
3841(used)S
4094(to)S
4220(set)S
4387(the)S
4567(value)S
4861(of)S
4994(some)S
7056 V
708(attribute)S
1158(by)S
1323(default,)S
1735(and)S
1954(a)S
12 I
2052(declaration)S
12 R
2653(takes)S
2946(care)S
3193(of)S
(setting)323 3338 A
3705(the)S
3897(attributes)S
4393(to)S
4531(some)S
4830(different)S
7196 V
708(value)S
1000(for)S
1172(the)S
1350(exceptions.)S
1957(So)S
2114(a)S
2198(more)S
2477(generic)S
2864(version)S
3250(of)S
3381(the)S
3559(example)S
(above)288 3999 A
4317(would)S
4649(be:)S
7700 V
(100)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 101 107
BP
/slant 0 def
/height 0 def
920 V
11 C
(%derive)469 1068 A
(f[author)536 1604 A
2207(=)S
(versto])469 2341 A
(%when)335 2877 A
(%true;)402 3279 A
3748(#)S
(default)469 3882 A
(case)268 4418 A
1060 V
(%declare)536 1068 A
(foo.c[author)804 1671 A
2542(=)S
(nobody];)536 2676 A
3748(#)S
(exception)603 3882 A
1540 V
12 B
708(6.3.12.)S
(Source)356 1128 A
1514(Inclusions)S
1716 V
12 R
708(The)S
939(primary)S
1366(tool)S
1597(in)S
1734(structuring)S
2302(description)S
2883(files)S
3136(is)S
3260(the)S
3451(re-use)S
3791(of)S
3935(tool)S
(definitions,)548 4166 A
4758(derivation)S
1856 V
708(rules,)S
1004(etc.,)S
1236(by)S
1386(means)S
1725(of)S
1856(source)S
2202(file)S
2395(inclusion:)S
2056 V
12 I
1068(source-inclusion)S
12 C
(::=)219 1947 A
12 B
2239(%include)S
12 I
2809(expression-list)S
2256 V
12 R
708(The)S
945(expression-list)S
(should)321 1701 A
2071(evaluate)S
2524(to)S
2667(a)S
2771(list)S
2970(of)S
12 I
3121(amake)S
12 R
3497(source)S
3863(file)S
4076(names.)S
4495(If)S
4627(the)S
(resulting)424 4825 A
2396 V
708(name)S
1004(is)S
1118(just)S
1326(a)S
(component,)566 1413 A
12 I
2012(amake)S
12 R
(will)190 2371 A
2594(read)S
2836(the)S
3017(first)S
3247(object)S
3576(with)S
3825(that)S
4040(last)S
(component,)566 4242 A
(found)281 4841 A
5155(in)S
2536 V
708(the)S
887(search)S
1228(list)S
1408(described)S
1903(by)S
2054(the)S
2233(variable)S
12 C
(AMAKELIB)584 2655 A
12 R
3239(.)S
3330(If)S
3443(a)S
3528(file)S
3722(to)S
3847(be)S
3992(included)S
(cannot)322 4439 A
4792(be)S
(found,)311 4938 A
2676 V
708(a)S
792(fatal)S
1039(error)S
(will)190 1306 A
1526(be)S
1670(triggered.)S
2852 V
708(Conceptually)S
1383(the)S
12 C
(%include)584 1562 A
12 R
2177(directive)S
2633(is)S
(replaced)411 2745 A
3187(by)S
3338(the)S
3517(concatenation)S
4220(of)S
4353(the)S
4533(contents)S
4968(of)S
5101(the)S
2992 V
708(files.)S
1008(However,)S
1513(a)S
1597(file)S
(will)190 1790 A
2010(never)S
2309(be)S
2453(included)S
2899(more)S
3178(than)S
3416(once.)S
3168 V
708(The)S
926(search)S
1266(path)S
1504(can)S
1702(be)S
1846(altered)S
2207(in)S
2331(various)S
2717(ways:)S
3344 V
12 Y1
708(d)S
12 R
958(simply)S
1362(assign)S
1739(it)S
1882(in)S
2051(the)S
2274(specification)S
2969(file)S
3207(itself.)S
3586(This)S
3876(is)S
(convenient)530 4032 A
4637(if)S
4788(a)S
4918(certain)S
3484 V
958(configuration)S
1640(needs)S
1945(some)S
(non-standard)631 2230 A
2891(set)S
3056(of)S
3187(description)S
3755(files.)S
3660 V
12 Y1
708(d)S
12 R
958(define)S
1331(AMAKELIB)S
2041(on)S
2232(the)S
2451(command)S
2998(line.)S
3311(This)S
3597(is)S
3749(useful)S
4116(when)S
(looking)368 4449 A
4888(for)S
5101(the)S
3800 V
958(differences)S
1528(between)S
1962(two)S
2174(description)S
2742(sets.)S
3014(See)S
3219(the)S
3397(manual)S
3783(page)S
4041(for)S
4213(the)S
4391(exact)S
4677(syntax.)S
3976 V
12 Y1
708(d)S
12 R
958(insert)S
1266(a)S
1358(path)S
1604(in)S
1736(front)S
2010(of)S
2149(the)S
2335(standard)S
2783(path)S
3029(list)S
3216(with)S
3471(another)S
3873(option.)S
4280(This)S
4534(is)S
(handy)294 4654 A
4987(when)S
4116 V
958(temporary)S
1496(use)S
1697(of)S
1838(a)S
1932(few)S
2155(private)S
2532(tool)S
2760(descriptions)S
(\(placed)357 3385 A
3781(in)S
3914(the)S
4101(directory)S
4578(mentioned\))S
5168(is)S
4256 V
958(desired.)S
1398(Again)S
1724(see)S
1909(the)S
2087(manual)S
2473(page)S
2731(for)S
2903(specifics.)S
4676 V
12 B
708(6.3.13.)S
1128(Generics)S
4852 V
12 R
708(Generics)S
1179(can)S
1386(be)S
1539(used)S
1799(to)S
1933(avoid)S
2241(having)S
2609(to)S
2743(repeat)S
(definitions)518 3080 A
3638(that)S
3860(are)S
4049(equal)S
4351(up)S
4511(to)S
4645(some)S
4940(values)S
4992 V
708(\(strings,)S
1136(objects,)S
(booleans\).)500 1542 A
2105(Generics)S
2570(have)S
2831(to)S
2958(be)S
3105(defined)S
3501(in)S
3628(a)S
12 C
(%generic)584 3715 A
12 R
4332(clause,)S
4698(before)S
5041(they)S
5132 V
708(can)S
920(be)S
1078(instantiated)S
1681(with)S
1941(an)S
12 C
(%instance)657 2099 A
12 R
2800(directive,)S
3299(which)S
3639(contains)S
4086(the)S
4278(generic's)S
4768(name)S
5075(and)S
5272 V
708(the)S
886(values)S
1225(for)S
1397(its)S
1542(parameters.)S
5613 V
12 I
1068(generic)S
12 C
(::=)219 1652 A
12 B
1944(%generic)S
12 I
(identifier)445 2514 A
12 C
("\(")219 3032 A
12 I
3324(id-list)S
12 C
("\)")219 3681 A
("{")219 3973 A
12 I
4265(amake-def-list)S
12 C
("}")219 5033 A
5753 V
12 I
1068(id-list)S
12 C
(::=)219 1652 A
12 I
(identifier)445 1944 A
12 C
2462([)S
(",")219 2608 A
12 I
(identifier)445 2900 A
12 C
3418(]*)S
5893 V
12 I
1068(instance)S
12 C
(::=)219 1652 A
12 B
1944(%instance)S
12 I
(identifier)445 2561 A
12 C
("\(")219 3079 A
12 I
3371(argument-list)S
12 C
("\)")219 4097 A
6234 V
10 B
2396(Fig.)S
2586(6.16.)S
10 R
2811(Syntax)S
3115(of)S
3224(generics)S
6522 V
12 R
708(In)S
856(the)S
1051(current)S
1442(implementation,)S
2279(instantiation)S
2925(of)S
3073(a)S
3174(generic)S
3578(has)S
3786(the)S
3981(effect)S
4306(of)S
4455(making)S
4865(\(global\))S
6662 V
708(assignments)S
1341(to)S
1477(the)S
1667(parameters,)S
2272(followed)S
2745(by)S
2907(a)S
(copy)234 3003 A
3279(of)S
3422(the)S
(body)240 3612 A
3894(of)S
4037(the)S
4226(generic.)S
4684(This)S
4940(means)S
6802 V
708(that)S
920(care)S
1153(must)S
1418(be)S
1562(taken)S
1854(not)S
2038(to)S
2162(let)S
2314(a)S
2398(generic's)S
2873(parameters)S
3436(coincide)S
3876(with)S
4122(one)S
4326(of)S
4457(other)S
4736(variables.)S
6978 V
708(We)S
(will)190 917 A
1148(give)S
1397(two)S
1620(examples)S
2118(where)S
2456(the)S
2645(use)S
2847(of)S
2990(generics)S
3436(makes)S
3787(the)S
3977(specification)S
4639(simpler,)S
5075(and)S
7118 V
708(less)S
937(error)S
1221(prone.)S
1603(The)S
1838(first)S
2082(deals)S
2378(with)S
2640(derivations,)S
3254(and)S
3474(is)S
3601(used)S
3868(in)S
4008(many)S
4322(tool)S
4556(libraries.)S
5061(The)S
7258 V
(definition,)501 708 A
1239(which)S
1565(is)S
1676(part)S
1895(of)S
2026(the)S
2204(standard)S
2644(tool)S
2862(set,)S
3057(is)S
3168(shown)S
3513(in)S
3637(figure)S
3957(6.17.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(101)180 5069 A
7920 V
EP
%%Page: 102 108
BP
/slant 0 def
/height 0 def
1061 V
11 C
1068(1)S
(%generic)536 1202 A
(deftypesuffix\(tp,)1139 1805 A
(pat\))268 3011 A
3346({)S
1201 V
1068(2)S
(%derive)469 1403 A
1939(f)S
([type)335 2073 A
2475(=)S
($tp])268 2609 A
(%when)335 3212 A
(matches\($f,)737 3614 A
($pat\);)402 4418 A
1341 V
1068(3)S
(%derive)469 1403 A
1939(f)S
([def-pat)536 2073 A
2676(=)S
($pat])335 2810 A
(%when)335 3212 A
3614($f)S
3815(?)S
(type)268 3949 A
4284(==)S
($tp;)268 4485 A
1481 V
1068(4)S
1202(};)S
1621 V
1068(5)S
1761 V
1068(6)S
(%derive)469 1202 A
1738(f)S
([base)335 1872 A
2274(=)S
(basename\($f,)804 2408 A
3279($f)S
3480(?)S
(def-pat\)])603 3614 A
1901 V
1068(7)S
(%when)335 1202 A
1738($f)S
1939(?)S
(def-pat)469 2073 A
2609(<>)S
(%unknown;)603 2810 A
2242 V
10 B
2206(Fig.)S
2396(6.17.)S
10 R
2621(Example)S
3004(use)S
3163(of)S
3272(generics)S
3633(\(1\))S
2494 V
12 R
708(A)S
826(possible)S
1252(instantiation)S
1881(\(in)S
2046(this)S
2251(case)S
2490(for)S
2662(the)S
2840(cc-c)S
3073(tool\))S
3332(would)S
3664(be:)S
2694 V
11 C
(%instance)603 1068 A
(deftypesuffix\(C-src,)1340 1738 A
('%.c'\);)469 3346 A
2834 V
(%instance)603 1068 A
(deftypesuffix\(C-incl,)1407 1738 A
('%.h'\);)469 3346 A
2974 V
(%instance)603 1068 A
(deftypesuffix\(loadable,)1541 1738 A
('%.o'\);)469 3346 A
3210 V
12 R
708(An)S
894(instantiated)S
1491(version)S
1885(of)S
12 I
(deftypesuffix)613 2024 A
12 R
2685(takes)S
2973(care)S
3215(of)S
3355(linking)S
3736(the)S
12 I
3923(type)S
12 R
4174(and)S
4387(the)S
12 I
4574(def-pat)S
12 R
4966(\(short)S
3350 V
708(for)S
(``default-pattern''\))920 894 A
1858(attribute)S
2307(of)S
2452(an)S
2610(object.)S
3010(The)S
3242(first)S
3483(derivation)S
4018(of)S
4163(the)S
4355(generic)S
4756(\(line)S
5023(2\))S
5168(is)S
3490 V
708(used)S
961(to)S
1087(derive)S
1422(the)S
1602(type)S
1843(of)S
1977(an)S
2124(object)S
2453(when)S
2748(its)S
2896(name)S
3191(matches)S
3621(some)S
3909(pattern)S
4279(\(e.g.,)S
4557(an)S
4704(object)S
5033(with)S
3630 V
708(name)S
1012(matching)S
1504(``)S
12 C
(%.c)219 1586 A
12 R
1805('')S
1929(is)S
2052(considered)S
2618(to)S
2754(have)S
3024(``)S
12 C
(type)292 3106 A
3483(=)S
(C-src)365 3641 A
12 R
4006('')S
4130(by)S
4292(default\).)S
4771(The)S
5000(other)S
3770 V
708(derivation)S
1238(included)S
1693(in)S
1826(the)S
2013(generic)S
2409(\(line)S
2671(3\))S
2811(has)S
3011(to)S
3144(do)S
3303(with)S
3558(the)S
3745(rather)S
4068(special)S
4444(semantics)S
4961(of)S
5101(the)S
3910 V
12 C
(match)365 708 A
12 R
1121(function.)S
1632(This)S
1895(function)S
2346(is)S
2475(used)S
2744(to)S
2886(specify)S
3284(names)S
3640(of)S
3788(generated)S
4306(objects,)S
4726(having)S
5101(the)S
4050 V
708(basename)S
1215(with)S
1461(the)S
(input)248 1639 A
1917(in)S
2041(common.)S
2553(To)S
2717(be)S
2861(able)S
3093(to)S
3217(do)S
3367(this,)S
3602(it)S
3700(requires)S
4226 V
12 Y1
708(d)S
12 R
958(the)S
12 I
1142(def-pat)S
12 R
1531(attribute)S
1972(of)S
2109(the)S
2293(generated)S
2800(object,)S
(supplying)475 3162 A
3673(prefix)S
3999(and/or)S
4344(suffix)S
4664(of)S
4802(the)S
4987(name)S
4366 V
958(of)S
1089(the)S
1267(generated)S
1768(objects.)S
4542 V
12 Y1
708(d)S
12 R
958(the)S
12 I
1148(base)S
12 R
1421(attribute)S
1868(of)S
2011(the)S
2201(source)S
2560(object,)S
2929(which)S
(replaces)398 3268 A
3709(the)S
3900(``%'')S
4208(in)S
4345(the)S
4536(pattern)S
4916(for)S
5101(the)S
4682 V
958(generated)S
1459(object.)S
4858 V
708(The)S
(irony)255 931 A
1221(\320)S
1377(or)S
1514(perhaps)S
1926(confusing)S
2438(detail)S
2744(\320)S
2900(is,)S
3047(that)S
3265(the)S
12 I
3449(base)S
12 R
3716(attribute)S
4157(of)S
4294(the)S
12 I
4478(source)S
12 R
4836(object)S
5168(is)S
4998 V
708(also)S
933(derived,)S
1356(using)S
1647(the)S
12 I
1825(def-pat)S
12 R
2208(attribute)S
2643(\(see)S
2869(lines)S
3128(6)S
3218(and)S
3422(7\).)S
5174 V
708(The)S
(second)335 932 A
1303(example)S
1749(deals)S
2034(with)S
2286(clusters.)S
2753(Consider)S
3225(the)S
3409(case)S
3654(when)S
3952(we)S
4130(have)S
4394(a)S
4484(whole)S
(bunch)294 4817 A
5148(of)S
5314 V
708(programs)S
1198(to)S
1325(maintain,)S
1812(all)S
1967(using)S
2261(tools)S
2529(with)S
2778(the)S
2959(same)S
3241(defaults.)S
3718(Of)S
3880(course)S
4229(we)S
4404(could)S
(introduce)457 4705 A
5195(a)S
5454 V
708(cluster)S
1062(for)S
(each)222 1235 A
1488(configuration)S
2171(and)S
(copy)234 2376 A
2641(the)S
12 C
(%use)292 2820 A
12 R
3143(clauses.)S
3584(This)S
3830(has)S
4022(the)S
4201(problem)S
4635(that)S
4848(we)S
5021(have)S
5594 V
708(to)S
840(change)S
(each)222 1220 A
1480(cluster)S
1842(when)S
2141(we)S
2320(would)S
2659(like)S
2878(to)S
3009(override)S
3450(one)S
3661(tool)S
3886(default.)S
4320(A)S
4445(better)S
4759(way)S
4998(to)S
5129(do)S
5734 V
708(this)S
913(is)S
1024(therefore)S
1493(first)S
1720(to)S
1844(create)S
2165(a)S
2249(generic)S
2636(as)S
2767(is)S
(done)234 2878 A
3142(in)S
3266(figure)S
3586(6.18.)S
5910 V
708(In)S
872(the)S
1083(instantiations)S
1792(we)S
1997(then)S
2268(only)S
2545(need)S
2836(to)S
2994(specify)S
3408(target)S
3749(and)S
3987(sources,)S
4444(for)S
(each)222 4650 A
4936(of)S
5101(the)S
6050 V
708(configurations)S
1462(to)S
1611(be)S
1780(maintained.)S
2433(Note)S
2723(that)S
2959(in)S
3107(the)S
(definition)471 3309 A
3834(of)S
12 I
3989(gencluster)S
12 R
4557(a)S
12 C
(%default)584 4665 A
6190 V
12 R
708(clause)S
1053(is)S
1176(included)S
1634(in)S
1770(order)S
2068(to)S
2204(let)S
12 I
2368(all)S
12 R
2538(instances)S
3025(created)S
3419(with)S
3678(this)S
(definition)471 3896 A
4410(to)S
4547(be)S
(updated)382 4704 A
5129(by)S
6330 V
708(default.)S
6506 V
708(Of)S
868(course)S
1215(this)S
1421(generic)S
1809(can)S
2008(also)S
2234(be)S
2379(extended)S
2846(to)S
2971(have)S
3230(a)S
3315(number)S
3715(of)S
3847(tool)S
4066(parameters)S
4630(as)S
4762(argument,)S
6646 V
708(to)S
843(use)S
(conditionals)591 1045 A
1677(\(see)S
1914(below\),)S
2322(or)S
2464(to)S
2599(define)S
2943(several)S
3328(other)S
3618(clusters)S
4029(\320)S
4189(such)S
4450(as)S
12 I
4591(print)S
12 R
4836(,)S
12 I
4906(install)S
12 R
5219(,)S
6786 V
12 I
708(lint)S
12 R
880(,)S
940(etc.)S
1142(\320)S
1292(as)S
1423(well.)S
1723(For)S
1922(all)S
2075(not)S
2260(too)S
2445(complicated)S
3068(configurations,)S
3828(an)S
12 I
3973(amake)S
12 R
4330(specification)S
(along)268 4981 A
6926 V
708(the)S
886(lines)S
1145(of)S
1276(the)S
1454(example)S
1894(in)S
2018(figure)S
2338(6.19)S
2578(would)S
2910(then)S
3148(be)S
3292(sufficient.)S
7700 V
(102)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 103 109
BP
/slant 0 def
/height 0 def
1061 V
11 C
(%generic)536 1068 A
(gencluster\(tar,)1005 1671 A
(src\))268 2743 A
3078({)S
1201 V
(%default)536 1403 A
($tar;)335 2006 A
1341 V
(%cluster)536 1403 A
1481 V
1403({)S
1621 V
(%targets)536 1671 A
($tar;)335 2274 A
1761 V
(%sources)536 1671 A
($src;)335 2274 A
1901 V
(%use)268 1671 A
(tool1\(flags)737 2274 A
3078(=>)S
($MYFLAGS1\),)737 3279 A
2041 V
(tooln\(flags)737 2274 A
3078(=>)S
($MYFLAGSn\);)737 3279 A
2181 V
1403(};)S
2321 V
1068(};)S
2662 V
10 B
2206(Fig.)S
2396(6.18.)S
10 R
2621(Example)S
3004(use)S
3163(of)S
3272(generics)S
3633(\(2\))S
3115 V
11 C
(SRCDIR=/home/joe/src/prog;)1742 1068 A
3346(#)S
(source)402 3480 A
(directory)603 3949 A
3395 V
(%include)536 1068 A
(toolset.amk;)804 1738 A
3346(#)S
(shared)402 3480 A
(tool)268 3949 A
(set)201 4284 A
3535 V
(%include)536 1068 A
(mygenerics.amk;)1005 1738 A
3346(#)S
(gencluster)670 3480 A
(etc.)268 4217 A
3675 V
(%include)536 1068 A
($SRCDIR/Amake.srclist;)1474 1738 A
3346(#)S
(source)402 3480 A
(list)268 3949 A
3955 V
(%instance)603 1068 A
(gencluster\(prog1,)1139 1738 A
($SRC)268 2944 A
11 Y1
3212(3)S
11 C
(PROG1\);)469 3267 A
4095 V
(%instance)603 1068 A
(gencluster\(prog2,)1139 1738 A
($SRC)268 2944 A
11 Y1
3212(3)S
11 C
(PROG2\);)469 3267 A
4436 V
10 B
2206(Fig.)S
2396(6.19.)S
10 R
2621(Example)S
3004(use)S
3163(of)S
3272(generics)S
3633(\(3\))S
4688 V
12 B
708(6.3.14.)S
1128(Conditional)S
4864 V
12 R
708(There)S
1031(is)S
1152(also)S
1388(a)S
1483(top-level)S
(conditional)544 1955 A
2540(available,)S
3049(comparable)S
3655(to)S
3790(the)S
(``#if''-construct)784 3979 A
4804(in)S
4939(the)S
5128(C-)S
5004 V
708(preprocessor.)S
1439(It)S
1566(has)S
1779(the)S
1979(almost)S
2354(same)S
2655(syntax)S
3021(as)S
3173(the)S
(conditional)544 3372 A
3967(expression)S
(\(although)463 4535 A
5049(it)S
5168(is)S
5144 V
708(debatable)S
1202(if)S
1307(that)S
1519(is)S
1630(really)S
1937(an)S
2081(advantage\):)S
5344 V
12 I
(conditional)550 1068 A
12 C
(::=)219 1652 A
12 B
1944(%if)S
12 C
("\(")219 2212 A
12 I
2504(expression)S
12 C
(",")219 3094 A
12 I
3386(def-list)S
12 C
([",")292 3797 A
12 I
4162(def-list)S
12 C
4500(]?)S
("\)")219 4719 A
5484 V
12 I
1068(def-list)S
12 C
(::=)219 1652 A
("{")219 1944 A
12 I
2236(amake-def-list)S
12 C
("}")219 3004 A
5684 V
12 R
708(The)S
(condition)456 935 A
1431(may)S
1679(be)S
1833(an)S
1987(arbitrary)S
(boolean)382 2446 A
2868(expression.)S
3485(Note)S
3761(that,)S
4013(in)S
4147(contrast)S
4571(to)S
(conditional)544 4705 A
5824 V
708(expressions,)S
1338(the)S
1522(``else'')S
1911(part)S
2135(is)S
2251(optional.)S
2742(This)S
2992(is)S
3108(equivalent)S
3647(to)S
3776(defining)S
4214(the)S
4397(else)S
4621(part)S
4845(as)S
4981(being)S
5964 V
708(empty.)S
1134(Also)S
1427(note)S
1699(that)S
1945(the)S
2157(``then'')S
2593(and)S
2832(``else'')S
3250(part)S
3504(are)S
3718(arbitrary)S
4202(sequences)S
4757(of)S
12 I
4923(amake)S
6104 V
12 R
(definitions,)548 708 A
1286(so)S
1423(nested)S
(conditionals)591 1762 A
2383(are)S
2562(allowed.)S
6280 V
708(A)S
826(possible)S
1252(application)S
1820(is)S
1931(to)S
2055(assign)S
2387(default)S
2754(values)S
3093(for)S
3265(variables)S
3733(used)S
3984(in)S
4108(tool)S
(definitions.)548 4326 A
4935(As)S
5101(the)S
6420 V
708(variables)S
1189(might)S
1514(well)S
1767(be)S
1924(defined)S
2330(before)S
2683(the)S
2873(tool)S
3103(itself)S
3389(is)S
3512(included,)S
4000(the)S
4190(default)S
4569(assignment)S
5155(in)S
6560 V
708(the)S
886(tool)S
1104(library)S
1458(has)S
1649(to)S
1773(be)S
1917(shielded)S
2350(off.)S
2582(Examples:)S
6760 V
11 C
(%if)201 1068 A
(\(%not)335 1336 A
(defined\(CFLAGS\),)1072 1738 A
2877({)S
6900 V
(CFLAGS)402 1336 A
1805(=)S
1939({)S
('-O')268 2073 A
2408(};)S
7040 V
(}\);)201 1068 A
7700 V
12 R
2683(Amoeba)S
3123(5.3)S
(103)180 5069 A
7920 V
EP
%%Page: 104 110
BP
/slant 0 def
/height 0 def
920 V
11 C
(%if)201 1068 A
(\(%not)335 1336 A
(defined\(TOOLSET\),)1139 1738 A
2944({)S
1060 V
(exit\('fatal)737 1336 A
(error:)402 2140 A
(TOOLSET)469 2609 A
(not)201 3145 A
(defined'\);)670 3413 A
1200 V
(}\);)201 1068 A
1680 V
12 B
708(6.3.15.)S
1128(Import)S
1528(and)S
1752(Export)S
1856 V
12 I
708(Amake)S
12 R
1113(also)S
1373(has)S
1599(two)S
1847(constructs)S
2404(dealing)S
2826(with)S
3108(the)S
3322(string)S
3664(environment)S
(each)222 4341 A
4629(process)S
5058(has.)S
1996 V
708(Importing)S
1240(an)S
12 I
1402(amake)S
12 R
1776(variable)S
2215(is)S
(done)234 2343 A
2624(by)S
2791(retrieving)S
3310(the)S
(corresponding)691 3505 A
4243(value)S
4552(from)S
12 I
4835(amake)S
12 R
5161('s)S
2136 V
708(environment,)S
1385(thereby)S
(converting)517 1784 A
2337(it)S
2441(to)S
2571(an)S
12 I
2721(amake)S
12 R
3083(value.)S
(Exporting)483 3441 A
3960(an)S
4110(variable)S
4537(is)S
4655(the)S
(opposite)409 4840 A
2276 V
708(action,)S
1078(which)S
1417(causes)S
1776(processes)S
2283(started)S
2650(up)S
2813(by)S
12 I
2976(amake)S
12 R
3345(to)S
3482(have)S
3753(a)S
(corresponding)691 3850 A
4584(value)S
4889(in)S
5026(their)S
2416 V
708(environment.)S
1409(The)S
1627(syntax)S
1972(is:)S
2616 V
12 I
1068(import)S
12 C
(::=)219 1464 A
12 B
1756(%import)S
12 I
(identifier)445 2306 A
2824(string)S
12 C
3106(?)S
2756 V
12 I
1068(export)S
12 C
(::=)219 1450 A
12 B
1742(%export)S
12 I
(identifier)445 2271 A
2789(string)S
12 C
3071(?)S
2992 V
12 R
(Because)403 708 A
1150(there)S
1432(is)S
1552(no)S
1711(system-enforced)S
2551(list)S
2739(element)S
3162(separator)S
3647(in)S
3781(the)S
3969(environment)S
4620(\320)S
4780(not)S
(under)275 4974 A
3132 V
11 R
708(UNIX)S
12 R
985(,)S
1049(at)S
1171(least)S
1428(\320)S
1582(the)S
1764(constructs)S
2288(have)S
2549(an)S
2696(optional)S
3125(string)S
3434(argument)S
3924(specifying)S
4461(it)S
(\(each)263 4562 A
4858(variable)S
3272 V
708(has)S
903(its)S
1052(own)S
1294(list)S
1477(separator\).)S
2057(The)S
2279(default)S
2650(separator)S
3129(is)S
12 C
(':')219 3244 A
12 R
3463(,)S
(because)383 3527 A
3944(that)S
4160(is)S
4276(the)S
4459(one)S
4668(used)S
4924(for)S
5101(the)S
3412 V
708(various)S
1094(PATH)S
1441(variables)S
1909(interpreted)S
2465(by)S
2615(the)S
2793(Bourne)S
3178(shell)S
3437(and)S
(utilities.)395 3641 A
4096(Example:)S
3612 V
11 C
(%import)469 1068 A
(PATH;)335 1604 A
3752 V
(%import)469 1068 A
(HOME;)335 1604 A
3892 V
(CFLAGS)402 1068 A
1537(=)S
1671({)S
('-DAMOEBA',)737 1805 A
('-DACK')469 2609 A
3145(};)S
4032 V
(PATH)268 1068 A
1403(=)S
($PATH)335 1537 A
1939(+)S
($HOME/amakebin;)1005 2073 A
4172 V
(%export)469 1068 A
(PATH;)335 1604 A
4312 V
(%export)469 1068 A
(CFLAGS)402 1604 A
2073(')S
2207(';)S
4548 V
12 R
708(Note)S
987(that)S
1213(the)S
1405(variable)S
1840(CFLAGS)S
2348(has)S
2553(been)S
(export)309 2825 A
3178(with)S
3438(the)S
(space)269 3630 A
3943(as)S
4088(separator.)S
4637(Otherwise)S
5181(it)S
4688 V
708(would)S
1040(have)S
1298(resulted)S
1712(in)S
1836(the)S
2014(value)S
2306(``)S
12 C
(-DAMOEBA:-DACK)1022 2388 A
12 R
3410(''.)S
5108 V
12 B
708(6.3.16.)S
1128(Concluding)S
1756(Remarks)S
5284 V
12 R
708(For)S
972(information)S
(about)268 1640 A
2004(the)S
2248(actual)S
(invocation)510 2634 A
3240(of)S
12 I
3438(amake)S
12 R
3861(\(options,)S
4384(notes)S
(about)268 4736 A
5101(the)S
5424 V
708(implementation,)S
1528(etc.\),)S
1801(refer)S
2062(to)S
2186(the)S
2364(manual)S
2750(page.)S
7700 V
(104)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 105 111
BP
/slant 0 def
/height 0 def
860 V
12 B
708(6.4.)S
978(BAWK)S
1380(\320)S
1520(Basic)S
1825(AWK)S
1036 V
12 R
708(AWK)S
1035(is)S
1153(a)S
1244(programming)S
(language)436 1939 A
2412(devised)S
2818(by)S
2975(Aho,)S
3250(Weinberger,)S
3889(and)S
4100(Kernighan)S
4648(at)S
4774(Bell)S
5014(Labs)S
1176 V
708(\(hence)S
1065(the)S
1246(name\).)S
12 I
1642(Bawk)S
12 R
1953(is)S
2067(a)S
2154(basic)S
2436(subset)S
2771(of)S
2905(it)S
(written)345 3006 A
3384(by)S
3537(Bob)S
3770(Brodt.)S
12 I
4138(Bawk)S
12 R
4449(programs)S
4939(search)S
1316 V
708(files)S
968(for)S
1160(specific)S
1588(patterns)S
2022(and)S
2246(performs)S
2734(``actions'')S
3291(for)S
3483(every)S
3802(occurrence)S
4384(of)S
4535(these)S
4835(patterns.)S
1456 V
708(The)S
961(patterns)S
1410(can)S
1643(be)S
(``regular)426 1822 A
2313(expressions'')S
3024(as)S
3190(used)S
3476(in)S
3634(the)S
12 I
3846(ed)S
12 R
4034(editor.)S
4441(The)S
4693(actions)S
5100(are)S
1596 V
708(expressed)S
1215(using)S
1506(a)S
1590(subset)S
1922(of)S
2053(the)S
2231(C)S
(language.)466 2341 A
1772 V
708(The)S
937(patterns)S
1362(and)S
1577(actions)S
1961(are)S
2151(usually)S
(placed)316 2541 A
2898(in)S
3033(a)S
(``rules'')400 3128 A
3569(file)S
3774(whose)S
4125(name)S
4429(must)S
4706(be)S
4862(the)S
5052(first)S
1912 V
708(argument)S
1199(in)S
1327(the)S
1509(command)S
2019(line,)S
(preceded)437 2264 A
2734(by)S
2887(the)S
3068(flag)S
12 B
3290(\261f)S
12 R
3391(.)S
3484(Otherwise,)S
4047(the)S
4228(first)S
4458(argument)S
4948(on)S
5101(the)S
2052 V
708(command)S
1214(line)S
1426(is)S
1537(taken)S
1829(to)S
1953(be)S
2097(a)S
2181(string)S
2487(containing)S
3027(the)S
3205(rules)S
3471(themselves.)S
4099(All)S
4285(other)S
4565(arguments)S
5100(are)S
2192 V
708(taken)S
1017(to)S
1158(be)S
1319(the)S
1514(names)S
1870(of)S
2018(text)S
2247(files)S
2504(on)S
2671(which)S
3014(the)S
3209(rules)S
3492(are)S
3687(to)S
3827(be)S
3987(applied,)S
4419(with)S
12 B
4681(\261)S
12 R
4787(being)S
5101(the)S
2332 V
708(standard)S
(input.)278 1148 A
1486(To)S
1650(take)S
1882(rules)S
2148(from)S
2414(the)S
2592(standard)S
(input,)278 3032 A
3340(use)S
12 B
3531(\261f)S
3662(\261)S
12 R
3722(.)S
2508 V
708(The)S
926(command:)S
2708 V
11 C
(bawk)268 1068 A
(rules)335 1403 A
(prog.)335 1805 A
2763 V
13 C
2140(*)S
2908 V
12 R
708(would)S
1066(read)S
1331(the)S
1535(patterns)S
1975(and)S
2205(actions)S
2604(rules)S
2896(from)S
3188(the)S
3392(file)S
12 I
3611(rules)S
12 R
3919(and)S
4149(apply)S
4473(them)S
4771(to)S
4922(all)S
5101(the)S
3048 V
708(arguments.)S
3224 V
708(The)S
926(general)S
1313(format)S
1667(of)S
1798(a)S
1882(rules)S
2148(file)S
2341(is:)S
3424 V
11 C
(<pattern>)603 1068 A
1738({)S
(<action>)536 1872 A
2475(})S
3564 V
(<pattern>)603 1068 A
1738({)S
(<action>)536 1872 A
2475(})S
3764 V
12 R
708(There)S
1030(may)S
1278(be)S
1432(any)S
1646(number)S
2055(of)S
2196(these)S
12 C
(<pattern>)657 2485 A
3225({)S
(<action>)584 3381 A
4048(})S
12 R
4161(sequences)S
4691(in)S
4825(the)S
5013(rules)S
3904 V
708(file.)S
12 I
963(Bawk)S
12 R
1273(reads)S
1561(a)S
1647(line)S
1861(of)S
(input)248 1993 A
2272(from)S
2539(the)S
2718(current)S
(input)248 3093 A
3372(file)S
3566(and)S
3771(applies)S
4145(every)S
12 C
(<pattern>)657 4445 A
5176({)S
4044 V
(<action>)584 708 A
1365(})S
12 R
1468(in)S
1592(sequence)S
2065(to)S
2189(the)S
2367(line.)S
4220 V
708(If)S
826(the)S
12 C
(<pattern>)657 1010 A
12 R
(corresponding)691 1703 A
2430(to)S
2560(any)S
12 C
2770({)S
(<action>)584 2922 A
3586(})S
12 R
3696(is)S
3814(missing,)S
4257(the)S
4442(action)S
4775(is)S
4893(applied)S
4360 V
708(to)S
832(every)S
1131(line)S
1343(of)S
(input.)278 1474 A
1812(The)S
2030(default)S
12 C
2397({)S
(<action>)584 2543 A
3200(})S
12 R
3303(is)S
3414(to)S
3538(print)S
3797(the)S
3975(matched)S
(input)248 4415 A
4693(line.)S
4780 V
12 B
708(6.4.1.)S
1068(Patterns)S
4956 V
12 R
708(A)S
12 C
(<pattern>)657 833 A
12 R
1527(may)S
1772(consist)S
2145(of)S
2283(any)S
2494(valid)S
2773(C)S
2891(expression.)S
3506(If)S
3626(the)S
12 C
(<pattern>)657 3812 A
12 R
4507(consists)S
4928(of)S
5067(two)S
5096 V
708(expressions)S
1305(separated)S
1796(by)S
1949(a)S
2036(comma,)S
2455(it)S
2556(is)S
2670(taken)S
2965(to)S
3092(be)S
3239(a)S
3326(range)S
3628(and)S
3835(the)S
12 C
(<action>)584 4015 A
12 R
4631(is)S
4744(performed)S
5236 V
708(on)S
907(all)S
1108(lines)S
1416(of)S
(input)248 1596 A
1923(that)S
2184(match)S
2559(the)S
2786(range.)S
3194(A)S
12 C
(<pattern>)657 3362 A
12 R
4099(may)S
4387(contain)S
(``regular)426 4823 A
5376 V
708(expressions'')S
1418(delimited)S
1940(by)S
2124(an)S
2302(@)S
2477(symbol.)S
2955(Regular)S
3401(expressions)S
4028(can)S
4259(be)S
(thought)368 4436 A
4867(of)S
5031(as)S
5195(a)S
5516 V
708(generalized)S
1303(``wildcard'')S
1929(string)S
2242(matching)S
2729(mechanism,)S
3347(similar)S
3722(to)S
3853(that)S
4072(used)S
4330(by)S
4487(many)S
4792(operating)S
5656 V
708(systems)S
1156(to)S
1315(specify)S
1730(file)S
1958(names.)S
2392(Regular)S
2840(expressions)S
3469(may)S
3742(contain)S
4163(any)S
4401(of)S
4566(the)S
4778(following)S
5796 V
708(characters:)S
6042 V
1150(x)S
1424(An)S
1602(ordinary)S
2042(character.)S
6182 V
1150(\\)S
1424(The)S
1642(backslash)S
(quotes)315 2142 A
2487(any)S
2691(character.)S
6322 V
1150(\303)S
1424(A)S
1548(circumflex)S
2110(at)S
2234(the)S
2418(beginning)S
2936(of)S
3074(an)S
3225(expr)S
3477(matches)S
3911(the)S
4096(beginning)S
4615(of)S
4753(a)S
6462 V
1424(line.)S
6602 V
1150($)S
1424(A)S
1542(dollar-sign)S
2097(at)S
2215(the)S
2393(end)S
2597(of)S
2728(an)S
2872(expression)S
3419(matches)S
3846(the)S
4024(end)S
4228(of)S
4359(a)S
4443(line.)S
6742 V
1150(:x)S
1424(A)S
1542(colon)S
1840(matches)S
2267(a)S
2351(class)S
2617(of)S
2748(characters)S
3271(described)S
3765(by)S
3915(the)S
4093(next)S
4331(character.)S
6882 V
1150(:a)S
1424(``:a'')S
1706(matches)S
2133(any)S
2337(alphabetic.)S
7022 V
1150(:d)S
1424(``:d'')S
1712(matches)S
2139(digits.)S
7162 V
1150(:n)S
1424(``:n'')S
1712(matches)S
2139(alphanumerics.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(105)180 5069 A
7920 V
EP
%%Page: 106 112
BP
/slant 0 def
/height 0 def
860 V
12 R
1150(:)S
1424(``:)S
1600('')S
1742(matches)S
(spaces,)346 2199 A
2605(tabs,)S
2891(and)S
3126(other)S
3436(control)S
3840(characters,)S
4424(such)S
4706(as)S
1000 V
1424(newline.)S
1140 V
1150(*)S
1424(An)S
1652(expression)S
2249(followed)S
2760(by)S
2961(an)S
3156(asterisk)S
3608(matches)S
4086(zero)S
4376(or)S
4558(more)S
1280 V
1424(occurrences)S
2049(of)S
2196(that)S
2424(expression:)S
(``fo*'')325 3020 A
3390(matches)S
(``f'',)235 3832 A
(``fo'',)295 4112 A
(``foo'',)355 4452 A
1420 V
(``fooo'',)415 1424 A
1869(etc.)S
1560 V
1150(+)S
1424(An)S
1651(expression)S
2247(followed)S
2757(by)S
2956(a)S
3089(plus)S
3369(sign)S
3649(matches)S
4125(one)S
4378(or)S
4558(more)S
1700 V
1424(occurrences)S
2088(of)S
2274(that)S
2540(expression:)S
(``fo+'')333 3175 A
3592(matches)S
(``fo'',)295 4073 A
(``foo'',)355 4452 A
1840 V
(``fooo'',)415 1424 A
1869(etc.)S
1980 V
12 Y
1150(-)S
12 R
1424(An)S
1636(expression)S
2217(followed)S
2712(by)S
2897(a)S
3016(minus)S
3376(sign)S
3642(optionally)S
4197(matches)S
4659(the)S
2120 V
1424(expression.)S
2260 V
1150([])S
1424(A)S
1550(string)S
1864(enclosed)S
2325(in)S
2457(square)S
2811(brackets)S
3253(matches)S
3688(any)S
3900(single)S
4228(character)S
4713(in)S
2400 V
1424(that)S
1663(string,)S
2026(but)S
2237(no)S
2414(others.)S
2827(If)S
2966(the)S
3171(first)S
3425(character)S
3928(in)S
4079(the)S
4284(string)S
4616(is)S
4753(a)S
2540 V
1424(circumflex,)S
2013(the)S
2195(expression)S
2746(matches)S
3177(any)S
3385(character)S
3865(except)S
4215(newline)S
4633(and)S
2680 V
1424(the)S
1623(characters)S
2167(in)S
2312(the)S
2511(string.)S
2898(For)S
3116(example,)S
(``[xyz]'')420 3606 A
4076(matches)S
4523(``xx'')S
2820 V
1424(and)S
1629(``zyx'',)S
2028(while)S
(``[\303xyz]'')461 2330 A
2823(matches)S
3252(``abc'')S
3616(but)S
3802(not)S
3988(``axb''.)S
4418(A)S
4538(range)S
2960 V
1424(of)S
1555(characters)S
2078(may)S
2316(be)S
2460(specified)S
2928(by)S
3078(two)S
3290(characters)S
3813(separated)S
4301(by)S
4451(``)S
12 R-1
4533(-)S
12 R
4601(''.)S
3450 V
12 B
708(6.4.2.)S
1068(Actions)S
3626 V
12 R
708(Actions)S
1122(are)S
1308(expressed)S
1823(as)S
1962(a)S
2054(subset)S
2394(of)S
2533(the)S
2719(C)S
(language.)466 2837 A
3371(All)S
3565(variables)S
4041(are)S
4228(global)S
4568(and)S
4780(default)S
5155(to)S
3766 V
708(int's)S
964(if)S
1079(not)S
1273(formally)S
1731(declared.)S
2242(Only)S
2524(char's)S
2861(and)S
3074(int's)S
3329(and)S
3542(pointers)S
3971(and)S
4184(arrays)S
4520(of)S
4660(char)S
4908(and)S
5121(int)S
3906 V
708(are)S
890(allowed.)S
12 I
1367(Bawk)S
12 R
1678(allows)S
2028(only)S
2275(decimal)S
2692(integer)S
3062(constants)S
3545(to)S
3672(be)S
3819(used\320no)S
4314(hex)S
(\(0xnn\))322 4522 A
4878(or)S
5013(octal)S
4046 V
(\(0nn\).)292 708 A
1060(String)S
1386(and)S
1590(character)S
2066(constants)S
2546(may)S
2784(contain)S
3170(all)S
3322(of)S
3453(the)S
3631(special)S
3998(C)S
4108(escapes)S
4508(\(\\)S
4593(n,)S
4713(\\)S
4757(r,)S
4858(etc.\).)S
4222 V
12 I
708(Bawk)S
12 R
(supports)409 1030 A
1483(the)S
(``if'',)269 1675 A
1988(``else'',)S
2415(``while'')S
2893(and)S
3111(``break'')S
3588(flow)S
3855(of)S
4000(control)S
4387(constructs,)S
4953(which)S
4362 V
708(behave)S
1080(exactly)S
1460(as)S
1591(in)S
1715(C.)S
4538 V
708(Also)S
(supported)476 975 A
1489(are)S
1676(the)S
1862(following)S
2371(unary)S
2684(and)S
2896(binary)S
3243(operators,)S
3762(listed)S
4064(in)S
4197(order)S
4492(from)S
4767(highest)S
5155(to)S
4678 V
708(lowest)S
(precedence:)579 1055 A
4924 V
12 B
1953(Operator)S
2854(Type)S
3343(Associativity)S
5064 V
12 R
1953(\(\))S
2065([])S
2854(unary)S
3343(left)S
3536(to)S
3660(right)S
5204 V
1953(!)S
2084(++)S
2250(\261\261)S
2400(\261)S
2490(*)S
2580(&)S
2854(unary)S
3343(right)S
3602(to)S
3726(left)S
5344 V
1953(*)S
2043(/)S
2107(%)S
2854(binary)S
3343(left)S
3536(to)S
3660(right)S
5484 V
1953(+)S
2051(\261)S
2854(binary)S
3343(left)S
3536(to)S
3660(right)S
5624 V
1953(<<)S
2119(>>)S
2854(binary)S
3343(left)S
3536(to)S
3660(right)S
5764 V
1953(<)S
2051(<=)S
2217(>)S
2315(>=)S
2854(binary)S
3343(left)S
3536(to)S
3660(right)S
5904 V
1953(==)S
2119(!=)S
2854(binary)S
3343(left)S
3536(to)S
3660(right)S
6044 V
1953(&)S
2854(binary)S
3343(left)S
3536(to)S
3660(right)S
6184 V
1953(\303)S
2854(binary)S
3343(left)S
3536(to)S
3660(right)S
6324 V
1953(|)S
2854(binary)S
3343(left)S
3536(to)S
3660(right)S
6464 V
1953(&&)S
2854(binary)S
3343(left)S
3536(to)S
3660(right)S
6604 V
1953(||)S
2854(binary)S
3343(left)S
3536(to)S
3660(right)S
6744 V
1953(=)S
2854(binary)S
3343(right)S
3602(to)S
3726(left)S
6990 V
708(Comments)S
1267(are)S
(introduced)517 1452 A
2005(by)S
2161(a)S
2252('#')S
2431(symbol)S
2823(and)S
3034(are)S
3220(terminated)S
3776(by)S
3933(the)S
4118(first)S
4352(newline)S
4773(character.)S
7130 V
708(The)S
950(standard)S
1414(``/*'')S
1726(and)S
1954(``*/'')S
2266(comment)S
2770(delimiters)S
3310(are)S
3513(not)S
(supported)476 3721 A
4251(and)S
(will)190 4479 A
4723(result)S
5047(in)S
5195(a)S
7270 V
708(syntax)S
1053(error.)S
7700 V
(106)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 107 113
BP
/slant 0 def
/height 0 def
860 V
12 B
708(6.4.3.)S
1068(Fields)S
1036 V
12 R
708(When)S
12 I
1028(bawk)S
12 R
1324(reads)S
1612(a)S
1698(line)S
1912(from)S
2180(the)S
2360(current)S
(input)248 2736 A
3016(file,)S
3241(the)S
3421(record)S
3763(is)S
3877(automatically)S
4570(separated)S
5061(into)S
1176 V
(``fields.'')464 708 A
1266(A)S
1418(field)S
1705(is)S
1850(simply)S
2243(a)S
2361(string)S
2701(of)S
2866(consecutive)S
3501(characters)S
4057(delimited)S
4578(by)S
4761(either)S
5101(the)S
1316 V
708(beginning)S
1229(or)S
1369(end)S
1582(of)S
1722(line,)S
1973(or)S
2113(a)S
(``field)305 2206 A
(separator'')527 2550 A
3116(character.)S
(Initially,)415 3662 A
4117(the)S
4305(field)S
4568(separators)S
5100(are)S
1456 V
708(the)S
(space)269 899 A
1211(and)S
1428(tab)S
1619(character.)S
2168(The)S
2399(special)S
2778(unary)S
3095(operator)S
3541('$')S
3725(is)S
3848(used)S
4111(to)S
4247(reference)S
4742(one)S
4958(of)S
5101(the)S
1596 V
708(fields)S
1019(in)S
1154(the)S
1344(current)S
(input)248 1730 A
2020(record)S
2372(\(line\).)S
2738(The)S
2968(fields)S
3280(are)S
3471(numbered)S
3996(sequentially)S
4623(starting)S
5029(at)S
5159(1.)S
1736 V
708(The)S
926(expression)S
1473(``$0'')S
1787(references)S
2317(the)S
2495(entire)S
(input)248 2802 A
3080(line.)S
1912 V
708(Similarly,)S
1230(the)S
(``record)392 1418 A
(separator'')527 1851 A
2419(is)S
2541(used)S
2803(to)S
2938(determine)S
3464(the)S
3653(end)S
3868(of)S
4010(an)S
(input)248 4165 A
4454(``line,'')S
(initially)378 4871 A
2052 V
708(the)S
891(newline)S
1310(character.)S
1850(The)S
2072(field)S
2329(and)S
2537(record)S
2881(separators)S
3407(may)S
3649(be)S
3797(changed)S
4233(programmatically)S
5129(by)S
2192 V
708(one)S
912(of)S
1043(the)S
1221(actions)S
1594(and)S
(will)190 1798 A
2018(remain)S
2385(in)S
2509(effect)S
(until)222 2817 A
3069(changed)S
3501(again.)S
2368 V
(Multiple)417 708 A
1163(\(up)S
1362(to)S
1494(10\))S
1693(field)S
1954(separators)S
2484(are)S
2671(allowed)S
3093(at)S
3219(a)S
3311(time,)S
3596(but)S
3789(only)S
4042(one)S
4255(record)S
4604(separator.)S
5148(In)S
2508 V
708(either)S
1015(case,)S
1284(they)S
1522(must)S
1787(be)S
1931(changed)S
2363(by)S
12 I
2513(strcpy)S
12 R
2819(,)S
2879(not)S
3063(by)S
3213(a)S
3297(simple)S
3650(equate)S
3996(as)S
4127(in)S
4251(the)S
4429(real)S
4642(AWK.)S
2684 V
708(Fields)S
1042(behave)S
1422(exactly)S
1810(like)S
2030(strings;)S
2425(and)S
2637(can)S
2843(be)S
2995(used)S
3254(in)S
3386(the)S
3572(same)S
3859(context)S
4253(as)S
4392(a)S
4484(character)S
4969(array.)S
2824 V
708(These)S
1027(``arrays'')S
1518(can)S
1716(be)S
1860(considered)S
2414(to)S
2538(have)S
2796(been)S
3054(declared)S
3495(as:)S
3024 V
11 C
(char)268 1068 A
(\($n\)[)335 1403 A
(128)201 1805 A
2073(];)S
3224 V
12 R
708(In)S
850(other)S
1140(words,)S
1507(they)S
1756(are)S
(128)180 1946 A
2167(bytes)S
(long.)244 2463 A
2778(Notice)S
3143(that)S
3366(the)S
3555(parentheses)S
4162(are)S
(necessary)471 4353 A
(because)383 4866 A
3364 V
708(the)S
900(operators)S
1395([])S
1520(and)S
1737($)S
1840(associate)S
2321(from)S
2600(right)S
2872(to)S
3009(left;)S
(without)370 3249 A
3662(them,)S
3977(the)S
4168(statement)S
4676(would)S
5021(have)S
3504 V
708(parsed)S
1054(as:)S
3704 V
11 C
(char)268 1068 A
($\(1[)268 1403 A
(128)201 1738 A
(]\);)201 2006 A
3904 V
12 R
708(which)S
1034(is)S
(obviously)475 1145 A
1650(ridiculous.)S
4080 V
708(If)S
826(the)S
1010(contents)S
1449(of)S
1586(one)S
1796(of)S
1933(these)S
2218(field)S
2477(arrays)S
2810(is)S
2927(altered,)S
3324(the)S
3508(``$0'')S
3829(field)S
(will)190 4089 A
4316(reflect)S
4665(this)S
4877(change.)S
4220 V
708(For)S
906(example,)S
1376(this)S
1581(expression:)S
4420 V
11 C
(*$4)201 1068 A
1336(=)S
('A';)268 1470 A
4620 V
12 R
(will)190 708 A
930(change)S
1304(the)S
1484(first)S
1713(character)S
2191(of)S
2324(the)S
2504(fourth)S
2832(field)S
3087(to)S
3213(an)S
(upper-)316 3359 A
3707(case)S
3948(letter)S
4232('A'.)S
4495(Then,)S
4806(when)S
5101(the)S
4760 V
708(following)S
(input)248 1209 A
1487(line:)S
4960 V
11 C
(120)201 1068 A
(PRINT)335 1336 A
("Name)335 1738 A
(address)469 2676 A
(Zip")268 3681 A
5160 V
12 R
708(is)S
819(processed,)S
1356(it)S
1454(would)S
1786(be)S
1930(printed)S
2303(as:)S
5360 V
11 C
(120)201 1068 A
(PRINT)335 1336 A
("Name)335 1738 A
(Address)469 2676 A
(Zip")268 3681 A
5596 V
12 R
708(Fields)S
1070(may)S
1344(also)S
1606(be)S
1787(modified)S
2291(with)S
2574(the)S
12 I
2789(strcpy)S
12 R
3162(function)S
3632(\(see)S
3895(below\).)S
4359(For)S
4594(example,)S
5101(the)S
5736 V
708(expression:)S
5936 V
11 C
(strcpy\()469 1068 A
($4,)201 1604 A
("Addr.")469 1872 A
2408(\);)S
6136 V
12 R
708(applied)S
1094(to)S
1218(the)S
1396(same)S
1675(line)S
(above)288 1887 A
2205(would)S
2537(yield:)S
6336 V
11 C
(120)201 1068 A
(PRINT)335 1336 A
("Name)335 1738 A
(Addr.)335 2676 A
(Zip")268 3547 A
7700 V
12 R
2683(Amoeba)S
3123(5.3)S
(107)180 5069 A
7920 V
EP
%%Page: 108 114
BP
/slant 0 def
/height 0 def
860 V
12 B
708(6.4.4.)S
1068(Predefined)S
1664(Variables)S
1036 V
12 R
708(The)S
926(following)S
1427(variables)S
1895(are)S
2074(pre-defined:)S
1246 V
1113(FS)S
1906(Field)S
2185(separator)S
2660(\(see)S
2886(below\).)S
1386 V
1113(RS)S
1906(Record)S
2285(separator)S
2760(\(see)S
2986(below)S
3312(also\).)S
1526 V
1113(NF)S
1906(Number)S
2333(of)S
2464(fields)S
2764(in)S
2888(current)S
(input)248 3262 A
3540(record)S
3880(\(line\).)S
1666 V
1113(NR)S
1906(Number)S
2333(of)S
2464(records)S
2851(processed)S
3358(thus)S
3589(far.)S
1806 V
1113(FILENAME)S
1906(Name)S
2226(of)S
2357(current)S
(input)248 2731 A
3009(file.)S
1946 V
1113(BEGIN)S
1906(A)S
2024(special)S
2391(<pattern>)S
2894(that)S
3106(matches)S
3533(the)S
3711(beginning)S
4223(of)S
(input)248 4354 A
4632(text.)S
2086 V
1113(END)S
1906(A)S
2024(special)S
2391(<pattern>)S
2894(that)S
3106(matches)S
3533(the)S
3711(end)S
3915(of)S
(input)248 4046 A
4324(text.)S
2296 V
12 I
708(Bawk)S
12 R
1016(also)S
1241(provides)S
1687(some)S
1972(useful)S
(built-in)357 2298 A
2685(functions)S
3165(for)S
3337(string)S
3643(manipulation)S
4311(and)S
4515(printing:)S
2506 V
976(print\(arg\))S
1930(Simple)S
2303(printing)S
2716(of)S
2847(strings)S
3200(only,)S
3474(terminated)S
4023(by)S
4173('\\n'.)S
2646 V
(printf\(arg...\))597 976 A
1930(Exactly)S
2330(the)S
(printf\(\))352 2508 A
2890(function)S
3323(from)S
3589(C.)S
2786 V
(getline\(\))412 976 A
1930(Reads)S
2255(the)S
2433(next)S
2671(record)S
3011(and)S
3215(returns)S
3582(0)S
3672(on)S
3822(end)S
4026(of)S
4157(file.)S
2926 V
976(nextfile\(\))S
1930(Closes)S
2282(the)S
2460(current)S
(input)248 2834 A
3112(file)S
3305(and)S
3509(begins)S
3854(processing)S
4401(the)S
4579(next)S
4817(file)S
3066 V
976(strlen\(s\))S
1930(Returns)S
2336(the)S
2514(length)S
2846(of)S
2977(its)S
3122(string)S
3428(argument.)S
3206 V
976(strcpy\(s,t\))S
1930(Copies)S
2295(the)S
2473(string)S
2779(``t'')S
3007(to)S
3131(the)S
3309(string)S
3615(``s''.)S
3346 V
976(strcmp\(s,t\))S
1930(Compares)S
2450(the)S
2628(``s'')S
2869(to)S
2993(``t'')S
3221(and)S
3425(returns)S
3792(0)S
3882(if)S
3987(they)S
4225(match.)S
3486 V
(toupper\(c\))505 976 A
1930(Returns)S
2336(its)S
2481(character)S
2957(argument)S
(converted)477 3444 A
3951(to)S
(upper-case.)555 4075 A
3626 V
976(tolower\(c\))S
1930(Returns)S
2336(its)S
2481(character)S
2957(argument)S
(converted)477 3444 A
3951(to)S
4075(lower-case.)S
3766 V
976(match\(s,@re@\))S
1930(Compares)S
2463(the)S
2654(string)S
2973(``s'')S
3227(to)S
3364(the)S
3555(regular)S
3942(expression)S
(``re'')259 4503 A
4806(and)S
3906 V
1930(returns)S
2297(the)S
2475(number)S
2874(of)S
3005(matches)S
(found)281 3432 A
3743(\(zero)S
4023(if)S
(none\).)305 4128 A
4396 V
12 B
708(6.4.5.)S
1068(Limitations)S
4572 V
12 R
708(The)S
926(maximum)S
(input)248 1446 A
1724(line)S
1936(is)S
(128)180 2047 A
2257(characters.)S
2840(The)S
3058(maximum)S
3578(action)S
3904(is)S
4015(4K.)S
7700 V
(108)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 109 115
BP
/slant 0 def
/height 0 def
860 V
12 B
708(6.5.)S
978(Debugging)S
1565(Tools)S
1036 V
12 R
708(Amoeba)S
1148(has)S
1339(several)S
1713(aids)S
1938(for)S
(debugging)508 2110 A
2648(and)S
2852(performance)S
3495(tuning)S
3833(of)S
3964(programs.)S
1212 V
708(The)S
(GNU)264 947 A
(debugger)449 1262 A
12 I
(gdb)180 1762 A
12 R
2003(has)S
2215(been)S
2494(ported)S
2854(to)S
2999(Amoeba.)S
3520(Special)S
(support)362 3928 A
4341(for)S
(multi-threaded)714 4535 A
1352 V
708(programs)S
1195(has)S
1386(been)S
1644(added.)S
2022(The)S
(debugger)449 2240 A
2719(is)S
2830(available)S
3298(with)S
3544(the)S
3722(third-party)S
4271(software.)S
1528 V
708(For)S
928(tracing)S
1317(server)S
1666(operations)S
2222(there)S
2517(is)S
2650(also)S
2897(special)S
3287(monitoring)S
3877(software.)S
4409(This)S
4677(is)S
4811(available)S
1668 V
(through)375 708 A
1137(including)S
1647(the)S
1849(file)S
12 I
2065(monitor.h)S
12 R
2601(in)S
2748(the)S
2949(program)S
3412(sources)S
3828(and)S
4055(making)S
4470(calls)S
4746(to)S
4893(various)S
1808 V
708(macros)S
1107(where)S
1453(various)S
1858(``events'')S
2380(take)S
(place.)286 2631 A
2996(The)S
3233(software)S
3701(automatically)S
4410(collects)S
4830(statistics)S
1948 V
(about)268 708 A
1026(how)S
1284(often)S
(each)222 1583 A
1855(event)S
2167(has)S
2378(occurred)S
2852(and)S
3075(also)S
3319(provides)S
3784(the)S
(possibility)504 3981 A
4534(of)S
(logging)368 4684 A
5101(the)S
2088 V
708(order)S
1036(in)S
1202(which)S
1570(events)S
1951(occurred)S
2447(from)S
2755(a)S
2881(particular)S
3419(point)S
3739(in)S
3905(time.)S
4254(A)S
4415(user)S
(utility)290 4690 A
5053(\(see)S
2228 V
12 I
708(monitor)S
12 R
1101(\(U\)\))S
1342(allows)S
(you)180 1689 A
1899(to)S
2023(recover)S
2417(the)S
2595(event)S
2887(information)S
3489(from)S
3755(the)S
3933(server.)S
2404 V
708(The)S
926(monitoring)S
1493(system)S
1859(is)S
1970(described)S
2464(below.)S
2824 V
12 B
708(6.5.1.)S
1068(Monitoring)S
3000 V
12 R
708(It)S
839(is)S
977(possible)S
1430(to)S
1581(monitor)S
2021(various)S
2434(``events'')S
2964(in)S
3115(a)S
3226(server)S
3580(program.)S
4107(This)S
4379(includes)S
4839(Amoeba)S
3140 V
708(kernels)S
1134(since)S
1459(they)S
1743(have)S
2047(internal)S
2494(servers.)S
2974(This)S
3265(is)S
3422(currently)S
3936(only)S
(supported)476 4226 A
4777(in)S
4946(the)S
5169(C)S
3280 V
708(programming)S
(language.)466 1404 A
1938(There)S
2259(is)S
2378(a)S
2470(special)S
2845(include)S
3239(file,)S
3470(called)S
12 I
3798(monitor.h)S
12 R
4281(,)S
4349(which)S
4684(implements)S
3420 V
708(the)S
898(mechanism)S
1491(for)S
1675(storing)S
2053(and)S
2269(retrieving)S
2783(the)S
2973(monitor)S
3398(information.)S
4072(A)S
4202(special)S
4581(macro)S
4926(can)S
5135(be)S
3560 V
(placed)316 708 A
1054(in)S
1178(the)S
1356(code)S
1614(which)S
1940(acts)S
2159(as)S
2290(an)S
2434(``event)S
(marker''.)456 2809 A
3326(The)S
3545(macro)S
3879(keeps)S
4185(a)S
(count)268 4270 A
4569(of)S
4701(the)S
4880(number)S
3700 V
708(of)S
840(times)S
1133(it)S
1231(has)S
1422(been)S
1680(executed.)S
2200(The)S
2418(statistics)S
2867(kept)S
3105(by)S
3255(the)S
3433(monitoring)S
4000(can)S
4198(be)S
4342(collected)S
4810(using)S
5101(the)S
3840 V
708(command)S
12 I
1223(monitor)S
12 R
1616(\(U\).)S
1885(This)S
2139(command)S
2654(allows)S
3010(the)S
(possibility)504 3198 A
3742(of)S
3883(keeping)S
4305(a)S
4399(circular)S
4811(buffer)S
5148(of)S
3980 V
708(events)S
1060(in)S
1197(the)S
1388(order)S
1687(in)S
1824(which)S
2163(they)S
2414(occur)S
2726(in)S
(addition)396 2863 A
3302(to)S
3439(the)S
(count)268 3630 A
3941(of)S
4085(the)S
4276(number)S
4687(of)S
4830(times)S
5135(an)S
4120 V
708(event)S
1013(has)S
1217(occurred.)S
1744(This)S
2002(option)S
2353(tends)S
2651(to)S
2788(use)S
2992(a)S
3089(lot)S
3260(of)S
3404(memory)S
3850(and)S
(shouldn't)456 4067 A
4566(be)S
4724(left)S
4931(on)S
5095(too)S
4260 V
(long)214 708 A
952(in)S
1076(important)S
1577(servers.)S
4436 V
708(The)S
926(macro)S
1259(that)S
1471(implements)S
2066(event)S
2358(marking)S
2791(is)S
2902(called)S
12 C
(MON)219 3222 A
12 Y1
3441(3)S
12 C
(EVENT)365 3501 A
12 R
3866(.)S
3956(The)S
4174(syntax)S
4519(of)S
4650(the)S
4828(call)S
5034(is:)S
4636 V
11 C
(MON)201 1068 A
11 Y1
1269(3)S
11 C
(EVENT\("description)1206 1324 A
2597(of)S
2798(an)S
(event"\))469 2999 A
4872 V
12 R
708(Execution)S
1233(of)S
1369(this)S
1580(call)S
1792(generates)S
2286(a)S
(primitive)445 2376 A
2857(event.)S
3215(A)S
3339(string)S
3651(describing)S
4191(the)S
4375(event)S
4673(is)S
4790(passed)S
5148(as)S
5012 V
708(an)S
869(argument.)S
1433(A)S
1568(variable)S
2005(denoting)S
2473(the)S
2667(number)S
3082(of)S
3229(times)S
3538(this)S
3759(specific)S
4183(event)S
4491(has)S
4698(occurred)S
5168(is)S
5152 V
708(incremented.)S
1397(Memory)S
1843(within)S
2183(the)S
2361(server)S
2688(is)S
2799(used)S
3050(to)S
3174(buffer)S
3501(the)S
3679(event)S
3971(information.)S
5328 V
708(The)S
941(three)S
1229(RPC)S
1501(calls)S
1769(are)S
1963(automatically)S
2668(monitored.)S
3270(There)S
3598(are)S
3792(events)S
4146(for)S
(each)222 4333 A
4600(call)S
4821(to)S
12 I
4961(trans)S
12 R
5219(,)S
5468 V
12 I
708(getreq)S
12 R
1057(and)S
12 I
1261(putrep)S
12 R
1586(.)S
1676(In)S
(addition)396 1807 A
2233(special)S
2600(events)S
2939(are)S
3118(kept)S
3356(for)S
3528(any)S
3732(RPC)S
3989(errors.)S
5644 V
708(The)S
942(server)S
1285(does)S
1552(not)S
1752(need)S
2027(to)S
2168(implement)S
2733(a)S
2834(special)S
3218(command)S
3741(to)S
3882(allow)S
4199(clients)S
4563(to)S
4704(request)S
5101(the)S
5784 V
708(monitoring)S
1312(statistics.)S
1858(The)S
2113(include)S
2536(file)S
2766(redefines)S
12 I
3278(getreq)S
12 R
3664(call)S
3907(to)S
4068(implement)S
4652(the)S
4866(monitor)S
5924 V
708(command)S
(without)370 1214 A
1614(the)S
1792(server)S
2119(seeing)S
2458(it.)S
6100 V
708(At)S
862(start)S
1104(up)S
1256(time)S
1504(the)S
1684(monitoring)S
2253(system)S
2621(allocates)S
3078(memory)S
3513(to)S
3639(store)S
3907(the)S
4088(event)S
4383(information)S
4988(using)S
6240 V
12 I
708(malloc)S
12 R
1048(\(L\).)S
1297(Some)S
1605(times)S
1901(this)S
2109(is)S
2223(impossible)S
2780(or)S
(undesirable)558 2914 A
3505(since)S
3787(it)S
3888(may)S
4129(modify)S
4511(the)S
4692(behavior)S
5148(of)S
6380 V
708(the)S
899(system)S
1278(being)S
1589(monitored)S
2129(in)S
(unacceptable)632 2266 A
2941(ways.)S
3293(It)S
3411(is)S
3535(possible)S
3974(to)S
4111(pass)S
4362(the)S
4554(monitoring)S
5135(an)S
6520 V
708(event)S
1000(buffer)S
1327(using)S
1618(the)S
12 C
(MON)219 1796 A
12 Y1
2015(3)S
12 C
(SETBUF)438 2075 A
12 R
2543(macro.)S
2936(The)S
3154(syntax)S
3499(of)S
3630(the)S
3808(call)S
4014(is)S
4125(as)S
4256(follows.)S
6720 V
11 C
(MON)201 1068 A
11 Y1
1269(3)S
11 C
(SETBUF\(buffer,)938 1324 A
(size\))335 2329 A
6920 V
12 R
708(A)S
826(pointer)S
1199(to)S
1323(the)S
1501(private)S
1868(buffer)S
2195(and)S
2399(its)S
2544(size)S
(should)321 2763 A
3114(be)S
3258(passed)S
3610(as)S
3741(arguments.)S
7096 V
708(Note)S
987(that)S
1212(it)S
1323(is)S
1447(not)S
1644(a)S
(good)240 1741 A
2024(idea)S
2269(to)S
2407(add)S
12 C
(MON)219 2625 A
12 Y1
2844(3)S
12 C
(EVENT)365 2904 A
12 R
3313(calls)S
3580(to)S
3718(timing)S
(critical)339 4078 A
4461(code.)S
(Although)456 4793 A
7236 V
708(inexpensive)S
1315(there)S
1588(is)S
1699(some)S
1984(overhead)S
(involved.)452 2457 A
7700 V
2683(Amoeba)S
3123(5.3)S
(109)180 5069 A
7920 V
EP
%%Page: 110 116
BP
/slant 0 def
/height 0 def
940 V
14 B
2467(7)S
2642(Manual)S
3145(Pages)S
1176 V
12 R
708(This)S
956(chapter)S
1347(contains)S
1784(the)S
1966(library)S
2324(manual)S
2714(pages)S
3023(for)S
3199(C)S
3313(programming)S
(under)275 4005 A
4314(Amoeba.)S
4818(They)S
5100(are)S
1316 V
708(listed)S
1013(in)S
1149(alphabetical)S
1777(order)S
2075(by)S
2237(entry)S
2528(name)S
2832(and)S
3048(classified)S
3549(into)S
3779(one)S
3994(of)S
4136(two)S
4359(categories.)S
4952(Either)S
1456 V
708(\(L\))S
898(for)S
1074(library)S
1432(routine)S
1809(or)S
1944(\(H\))S
2148(for)S
2324(include)S
2714(file.)S
2971(At)S
3127(the)S
3310(beginning)S
3827(of)S
(each)222 3963 A
4220(manual)S
4611(entry)S
4895(is)S
5011(a)S
5100(list)S
1596 V
708(of)S
839(the)S
1017(libraries)S
1446(in)S
1570(which)S
1896(the)S
2074(routine\(s\))S
2576(described)S
3070(can)S
3268(be)S
(found.)311 3412 A
7700 V
(110)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 111 117
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ansi)S
12 Y1
903(3)S
12 R
963(C)S
1063(\(L\))S
2567(Library)S
2961(Routines)S
4738(ansi)S
12 Y1
4933(3)S
12 R
4993(C)S
5093(\(L\))S
860 V
2113(\(in)S
2278(libraries:)S
2741(libajax.a,)S
3215(libamoeba.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(ansi)S
12 Y1
903(3)S
12 R
963(C)S
12 R-1
1073(-)S
12 R
1201(details)S
1548(of)S
1679(STD)S
1938(C)S
2048(library)S
2402(conformance)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(Support)469 708 A
(for)201 1244 A
(STD)201 1512 A
1780(C)S
(library)469 1914 A
(functions)603 2450 A
(and)201 3120 A
(header)402 3388 A
(files)335 3857 A
4259(is)S
(discussed.)670 4460 A
2242 V
12 B
708(Description)S
2418 V
12 R
708(Several)S
1105(STD)S
1367(C)S
1481(conformant)S
2073(compilers)S
2585(have)S
2847(been)S
3109(ported)S
3452(to)S
3580(Amoeba.)S
4084(The)S
4306(principle)S
4771(compilers)S
2558 V
708(are)S
919(the)S
1129(ACK)S
1447(and)S
1683(the)S
(GNU)264 1893 A
2219(compilers.)S
2819(Details)S
3226(of)S
3389(the)S
3598(ACK)S
3915(compiler)S
4407(conformance)S
5100(are)S
2698 V
708(provided)S
1167(in)S
1291(the)S
(languages)483 1469 A
1982(section)S
2355(of)S
2486(the)S
12 I
2664(Programming)S
3372(Guide)S
12 R
3678(.)S
2874 V
708(Amoeba)S
1170(provides)S
1639(its)S
1807(own)S
2068(C)S
2201(library)S
2578(rather)S
2915(than)S
3176(using)S
3490(those)S
3798(of)S
3952(a)S
4059(specific)S
4490(compiler.)S
5034(This)S
3014 V
708(library)S
1062(is)S
1173(the)S
1351(subject)S
1724(of)S
1855(the)S
2033(rest)S
2239(of)S
2370(this)S
2575(manual)S
2961(entry.)S
3190 V
708(The)S
953(various)S
1366(STD)S
1652(C)S
1789(functions)S
2296(are)S
(found)281 2502 A
2840(in)S
2991(either)S
12 I
3325(libamoeba.a)S
12 R
3935(,)S
12 I
4023(libajax.a)S
12 R
4517(and)S
12 I
4749(libmath.a)S
12 R
5219(.)S
3330 V
708(Specific)S
1155(deviations)S
1701(from)S
1986(the)S
2183(C)S
2312(Standard)S
2791(are)S
2989(listed)S
3301(below)S
3646(where)S
3991(applicable.)S
4597(Many)S
4926(header)S
3470 V
708(files)S
954(define)S
(additional)484 1293 A
1813(names)S
2158(that)S
2376(are)S
2561(disallowed)S
3123(by)S
3280(STD)S
3546(C.)S
3723(The)S
3948(library)S
4309(also)S
4541(contains)S
4981(many)S
3610 V
708(reserved)S
1159(names)S
1508(that)S
(should)321 1730 A
2091(not)S
2285(be)S
2439(overridden)S
3003(by)S
3163(applications)S
3788(\(e.g.,)S
12 I
4073(trans)S
12 R
4331(\).)S
4471(STD)S
4739(C)S
4858(requires)S
3750 V
708(that)S
938(only)S
1200(the)S
1396(names)S
1753(defined)S
2164(by)S
2332(STD)S
2609(C)S
2737(are)S
2934(reserved,)S
3423(but)S
3626(this)S
3850(requires)S
4290(that)S
4521(every)S
4839(Amoeba)S
3890 V
708(function)S
1161(name)S
1473(has)S
1684(a)S
1788(leading)S
(underscore.)561 2194 A
2835(This)S
3100(has)S
3311(not)S
3515(been)S
3793(fully)S
4071(implemented)S
4752(yet,)S
4979(so)S
5135(be)S
4030 V
708(careful.)S
4206 V
708(All)S
(supported)476 914 A
1440(header)S
1813(files)S
2073(are)S
(found)281 2272 A
2603(in)S
2747(the)S
2945(include)S
(subdirectory)605 3351 A
12 I
4006(posix)S
12 R
4271(.)S
4381(Since)S
4700(the)S
4898(POSIX)S
4346 V
708(standard)S
1152(defines)S
1536(extensions)S
2080(to)S
2208(many)S
2510(STD)S
2773(C)S
2887(headers,)S
3320(separating)S
3851(STD)S
4113(C)S
4226(headers)S
4629(from)S
4898(POSIX)S
4486 V
708(headers)S
1108(would)S
1440(be)S
1584(impossible.)S
4662 V
708(Only)S
998(functions)S
1496(and)S
1718(header)S
2089(files)S
2347(with)S
(peculiarities)594 2611 A
3253(are)S
3450(mentioned.)S
4068(The)S
4304(rest)S
4528(are)S
4725(adequately)S
4802 V
708(described)S
1202(by)S
1352(the)S
1530(ISO)S
1756(C)S
1866(standard.)S
5118 V
12 I
708(Notes)S
1013(regarding)S
1525(Amoeba's)S
2039(STD)S
2284(C)S
2394(header)S
(files)203 2759 A
(and)180 2992 A
3202(libraries)S
5434 V
708(<errno.h>)S
5610 V
12 R
708(Currently)S
1217(declares)S
1661(the)S
1855(integer)S
2238(variable)S
12 I
2675(errno)S
12 R
2953(,)S
3029(the)S
3223(constants)S
12 C
(EDOM)292 3719 A
12 R
4057(and)S
12 C
(ERANGE)438 4277 A
12 R
4761(and)S
4981(many)S
5750 V
708(constants)S
1190(required)S
1626(by)S
1778(POSIX.)S
2221(Warning:)S
2710(use)S
2903(of)S
12 I
3036(errno)S
12 R
3346(by)S
3498(concurrent)S
4048(threads)S
4430(is)S
4543(not)S
4728(safe;)S
4989(to)S
5114(fix)S
5890 V
708(this,)S
950(it)S
(will)190 1055 A
1282(eventually)S
1824(change)S
2204(into)S
2430(a)S
2522(macro)S
2863(that)S
3083(evaluates)S
3572(to)S
3704(a)S
3796(modifiable)S
4359(lvalue.)S
4753(For)S
4959(future)S
6030 V
(compatibility,)676 708 A
1414(applications)S
(should)321 2029 A
2380(not)S
2564(write)S
6230 V
11 C
(extern)402 1068 A
(int)201 1537 A
(errno;)402 1805 A
6430 V
12 R
708(but)S
892(rather)S
1206(include)S
12 I
1592(errno.h)S
12 R
1960(.)S
6746 V
12 I
708(<limits.h>)S
6922 V
12 R
708(Defines)S
1116(all)S
1268(the)S
1446(constants)S
1926(required)S
2360(by)S
2510(STD)S
2769(C,)S
2909(as)S
3040(well)S
3280(as)S
3411(some)S
3696(required)S
4130(by)S
4280(POSIX.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(111)180 5069 A
7920 V
EP
%%Page: 112 118
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ansi)S
12 Y1
903(3)S
12 R
963(C)S
1063(\(L\))S
2567(Library)S
2961(Routines)S
4738(ansi)S
12 Y1
4933(3)S
12 R
4993(C)S
5093(\(L\))S
860 V
12 I
708(<math.h>)S
1036 V
12 R
708(The)S
927(header)S
1281(file)S
1476(is)S
1589(STD)S
1850(C)S
1962(compatible,)S
2562(but)S
2748(in)S
(addition)396 2874 A
3302(to)S
3428(the)S
3608(standard)S
4050(requirements,)S
4745(the)S
4925(library)S
1176 V
12 I
708(libmath.a)S
12 R
1218(contains)S
1661(the)S
1848(following)S
2358(functions:)S
12 I
2881(gamma\(\),)S
3388(hypot\(\),)S
3807(j0\(\),)S
4052(j1\(\),)S
4297(jn\(\).)S
12 R
4572(The)S
4799(functions)S
1316 V
12 I
708(frexp\(\))S
12 R
1049(and)S
12 I
1270(ldexp\(\))S
12 R
1671(reside)S
2008(in)S
12 I
2149(libamoeba.a)S
12 R
2759(;)S
2841(they)S
3097(are)S
3294(included)S
3758(there)S
4049(rather)S
4381(than)S
4637(in)S
12 I
4779(libmath.a)S
1456 V
12 R
(because)383 708 A
1121(a)S
1205(few)S
1418(standard)S
1858(I/O)S
(conversion)530 2051 A
2611(routines)S
3031(need)S
3289(them.)S
1772 V
12 I
708(<setjmp.h>)S
1948 V
12 R
708(Apart)S
1025(from)S
1301(the)S
1489(standard)S
1939(requirements,)S
2642(this)S
2857(header)S
3220(file)S
3423(also)S
3658(defines)S
4049(the)S
4238(type)S
12 I
4487(sigjmp)S
12 Y1
4810(3)S
12 I
4870(buf)S
12 R
5075(and)S
2088 V
708(the)S
915(functions)S
12 I
1424(sigsetjmp\(\))S
12 R
2032(and)S
12 I
(siglongjmp\(\))619 2264 A
12 R
2951(required)S
3413(by)S
3591(POSIX.)S
4060(Note)S
4354(that)S
4594(part)S
4841(of)S
5000(these)S
2228 V
(definitions)518 708 A
1461(are)S
1845(machine-dependent)S
3027(and)S
3436(are)S
(placed)316 3820 A
4372(in)S
4702(the)S
5086(file)S
2368 V
12 I
708(posix/machdep/)S
12 R
1467(architecture)S
12 I
2041(/)S
12 Y1
2075(3)S
12 I
2135(setjmp.h)S
12 R
2552(.)S
2644(The)S
2864(directory)S
3334(where)S
3662(this)S
3868(file)S
4062(resides)S
(should)321 4430 A
4782(be)S
4927(passed)S
2508 V
708(as)S
839(a)S
923(separate)S
12 B-1
1351(-)S
12 B
1419(I)S
12 R
1496(flag)S
1715(to)S
1839(the)S
2017(C)S
2127(compiler.)S
2824 V
12 I
708(<stdio.h>)S
3000 V
12 R
708(Apart)S
1042(from)S
1335(the)S
1540(standard)S
2007(requirements,)S
2727(the)S
2932(POSIX)S
3340(function)S
12 I
(fdopen\(\))410 3800 A
12 R
4277(and)S
4509(function/macro)S
3140 V
12 I
(fileno\(\))358 708 A
12 R
1106(are)S
(supported.)506 1285 A
3456 V
12 I
708(<string.h>)S
3632 V
12 R
708(Warning:)S
1206(the)S
1395(function)S
12 I
1839(strtok\(\))S
12 R
2248(uses)S
2497(a)S
2592(static)S
2890(global)S
3233(variable;)S
3699(its)S
3855(use)S
4057(by)S
4218(concurrent)S
4777(threads)S
5168(is)S
3772 V
708(not)S
892(safe.)S
4088 V
12 I
708(<time.h>)S
4264 V
12 R
708(The)S
950(type)S
12 I
1212(time)S
12 Y1
1422(3)S
12 I
1482(t)S
12 R
1580(is)S
1715(in)S
1863(fact)S
2100(an)S
2268(integral)S
2694(type)S
2957(and)S
3186(measures)S
(seconds)382 3692 A
4129(since)S
4433(January)S
4864(1,)S
(1970)240 5009 A
4404 V
708(\(defined)S
1143(more)S
1423(precisely)S
1892(by)S
2043(POSIX\).)S
(Additional)518 2526 A
3074(information)S
(about)268 3676 A
3974(these)S
4253(functions)S
4733(is)S
(found)281 4844 A
5155(in)S
4544 V
12 I
708(ctime)S
12 R
982(\(L\).)S
1245(Warning:)S
1749(many)S
2064(of)S
2212(these)S
2508(functions)S
3005(use)S
3213(global)S
3563(variables;)S
4083(their)S
4354(use)S
4563(by)S
4731(concurrent)S
4684 V
708(threads)S
1097(is)S
1217(not)S
1410(safe.)S
1705(In)S
1845(particular,)S
12 I
2380(asctime\(\),)S
2902(ctime\(\),)S
3317(gmtime\(\),)S
(localtime\(\))534 3826 A
12 R
4399(return)S
4727(pointers)S
5155(to)S
4824 V
708(static)S
1009(storage)S
1403(that)S
1629(may)S
1882(be)S
(overwritten)560 2041 A
2646(by)S
2811(other)S
3105(threads;)S
3534(most)S
3814(also)S
4054(share)S
4355(a)S
4454(hidden)S
(cache)276 4827 A
5148(of)S
4964 V
708(timezone)S
1182(information)S
1784(that)S
1996(may)S
2234(be)S
2378(corrupted)S
2872(by)S
3022(concurrent)S
(accesses.)441 3570 A
5244 V
12 B
708(See)S
913(Also)S
5420 V
12 R
708(posix\(L\).)S
7700 V
(112)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 113 119
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ampolicy.h)S
1268(\(H\))S
2632(C)S
2742(Include)S
3135(File)S
4519(ampolicy.h)S
5079(\(H\))S
860 V
12 B
708(Name)S
1036 V
12 R
708(ampolicy.h)S
12 R-1
1278(-)S
12 R
1406(system)S
1772(parameterization)S
2618(defines)S
1316 V
12 B
708(Synopsis)S
1552 V
11 C
(#include)536 708 A
("ampolicy.h")804 1311 A
1892 V
12 B
708(Description)S
2068 V
12 R
708(This)S
968(include)S
1370(file)S
1579(contains)S
2028(system)S
2410(parameterization)S
3272(information)S
3890(which)S
4232(may)S
4486(be)S
4646(modified)S
5129(by)S
2208 V
708(the)S
904(system)S
1288(administrator)S
1983(on)S
2151(a)S
2253(system-wide)S
2914(basis.)S
3264(In)S
3413(particular)S
3927(it)S
4043(contains)S
4494(path)S
4750(names)S
5107(for)S
2348 V
(capabilities)553 708 A
1316(and)S
1545(data)S
1802(for)S
1999(certain)S
2385(servers)S
2784(and)S
3013(implies)S
3425(a)S
3534(lot)S
(about)268 3717 A
4040(the)S
4244(structure)S
4725(of)S
4882(the)S
5086(file)S
2488 V
708(system.)S
1166(It)S
1302(comes)S
1672(set)S
1868(up)S
2049(to)S
2204(work)S
2514(with)S
2791(the)S
3000(directory)S
3499(structure)S
3985(defined)S
4409(in)S
4564(the)S
4773(command)S
2628 V
12 I
(newsoapgraph)708 708 A
12 R
1426(\(A\).)S
2908 V
12 B
708(Administration)S
3084 V
12 R
708(Before)S
(compiling)490 1073 A
1598(the)S
1781(system)S
2152(it)S
2255(is)S
(necessary)471 2371 A
2877(to)S
3006(make)S
3304(all)S
3462(the)S
3646(desired)S
4032(alterations)S
4574(to)S
4704(this)S
4915(file.)S
5174(It)S
3224 V
708(determines)S
1278(to)S
1410(a)S
1502(large)S
1783(extent)S
2117(the)S
2303(directory)S
2779(structure)S
3242(required)S
3684(by)S
3842(the)S
4027(various)S
4420(programs.)S
4974(Make)S
3364 V
708(sure)S
946(that)S
1164(any)S
1374(changes)S
1799(made)S
2097(to)S
2227(this)S
2438(file)S
2637(that)S
(fundamentally)699 2855 A
3590(alter)S
3843(the)S
4027(structure)S
4488(of)S
4626(the)S
4811(directory)S
3504 V
708(graph)S
1076(are)S
1318(reflected)S
1837(in)S
2024(the)S
2265(shell)S
2587(scripts)S
2997(for)S
3232(building)S
3726(the)S
3966(directory)S
4496(graph,)S
4893(namely)S
3644 V
12 I
(newsoapgraph)708 708 A
12 R
1426(\(A\))S
1626(and)S
12 I
1830(newuser)S
12 R
2242(\(A\).)S
3924 V
12 B
708(See)S
913(Also)S
4100 V
12 R
708(newsoapgraph\(A\),)S
1636(newuser\(A\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(113)180 5069 A
7920 V
EP
%%Page: 114 120
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ar)S
823(\(L\))S
2567(Library)S
2961(Routines)S
4978(ar)S
5093(\(L\))S
860 V
2033(\(in)S
2198(libraries:)S
2661(libamoeba.a,)S
3309(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(ar)S
12 R-1
833(-)S
12 R
961(ASCII)S
1308(representations)S
2072(of)S
2203(common)S
2655(Amoeba)S
3095(types)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("module/ar.h")871 1311 A
2322 V
(char)268 708 A
1043(*)S
1177(ar)S
11 Y1
1311(3)S
11 C
(cap\(cap)469 1366 A
11 Y1
1835(3)S
11 C
1890(p\))S
2462 V
(char)268 708 A
1043(*)S
1177(ar)S
11 Y1
1311(3)S
11 C
(port\(port)603 1366 A
11 Y1
1969(3)S
11 C
2024(p\))S
2602 V
(char)268 708 A
1043(*)S
1177(ar)S
11 Y1
1311(3)S
11 C
(priv\(priv)603 1366 A
11 Y1
1969(3)S
11 C
2024(p\))S
2882 V
(char)268 708 A
1043(*)S
1177(ar)S
11 Y1
1311(3)S
11 C
(tocap\(s,)536 1366 A
(cap)201 1969 A
11 Y1
2170(3)S
11 C
2225(p\))S
3022 V
(char)268 708 A
1043(*)S
1177(ar)S
11 Y1
1311(3)S
11 C
(toport\(s,)603 1366 A
(port)268 2036 A
11 Y1
2304(3)S
11 C
2359(p\))S
3162 V
(char)268 708 A
1043(*)S
1177(ar)S
11 Y1
1311(3)S
11 C
(topriv\(s,)603 1366 A
(priv)268 2036 A
11 Y1
2304(3)S
11 C
2359(p\))S
3502 V
12 B
708(Description)S
3678 V
12 R
708(To)S
910(aid)S
1127(in)S
(debugging)508 1290 A
1867(a)S
1990(set)S
2194(of)S
2364(routines)S
2823(has)S
3053(been)S
3350(provided)S
3848(to)S
(produce)389 4011 A
4469(human-readable)S
3818 V
708(representations)S
1472(of)S
(capabilities)553 1603 A
2186(and)S
2390(various)S
(subparts)403 2776 A
3209(thereof.)S
3994 V
708(The)S
938(first)S
1177(three)S
1462(functions)S
1954(return)S
2286(a)S
2382(pointer)S
2767(to)S
2903(a)S
2999(string)S
3317(containing)S
3869(the)S
4059(ASCII)S
4418(representation)S
5148(of)S
4134 V
708(the)S
894(bytes)S
1187(in)S
1319(a)S
12 I
(capability)484 1411 A
12 R
1905(,)S
12 I
1973(port)S
12 R
2222(and)S
12 I
2434(private)S
12 R
2825(\(see)S
12 I
3059(rpc)S
12 R
3230(\(L\)\),)S
3495(respectively.)S
4178(Note)S
4451(that)S
4670(the)S
4855(string)S
5168(is)S
4274 V
708(in)S
850(static)S
1155(data)S
1405(and)S
1627(subsequent)S
2212(calls)S
2484(by)S
2653(other)S
2951(threads)S
3350(or)S
3500(the)S
3697(same)S
3995(thread)S
(will)190 4347 A
4586(overwrite)S
5101(the)S
4414 V
708(contents)S
1167(of)S
1324(the)S
1528(string.)S
1920(Each)S
2218(routine)S
2617(has)S
2834(its)S
3005(own)S
3269(static)S
3582(data)S
3840(so)S
4003(there)S
4302(are)S
4507(no)S
4683(interactions)S
4554 V
708(between)S
1142(the)S
1320(individual)S
1840(routines.)S
4730 V
708(The)S
930(latter)S
1215(three)S
1492(functions)S
(convert)363 1976 A
2373(a)S
2461(string)S
2771(of)S
2906(the)S
3088(format)S
3446(returned)S
3884(by)S
4038(the)S
4220(first)S
4452(three)S
4730(routines)S
5155(to)S
4870 V
708(a)S
(capability,)508 796 A
1338(port)S
1567(and)S
1775(private,)S
2176(respectively.)S
2856(The)S
12 I
3078(ar)S
12 Y1
3185(3)S
12 I
3245(to)S
12 R
3383(functions)S
3867(assign)S
4203(to)S
4331(the)S
(capability,)508 4513 A
5054(port)S
5010 V
708(or)S
841(private,)S
1240(pointed)S
1634(to)S
1760(by)S
1913(the)S
(second)335 2094 A
2462(parameter.)S
3041(They)S
3322(return)S
3645(a)S
3732(pointer)S
4108(to)S
4235(the)S
4416(character)S
(beyond)354 4895 A
5150 V
708(the)S
897(last)S
1107(character)S
1593(of)S
1734(the)S
1922(string.)S
2298(If)S
2420(the)S
2608(string)S
2924(is)S
(supposed)448 3045 A
3533(to)S
3667(contain)S
4063(no)S
4223(extra)S
4506(characters,)S
(you)180 5069 A
5290 V
(should)321 708 A
1059(check)S
1371(that)S
1583(the)S
1761(returned)S
2195(pointer)S
2568(points)S
2893(to)S
3017(a)S
3101(NUL)S
3381(character.)S
5466 V
708(If)S
820(the)S
998(string)S
1304(passed)S
1656(to)S
1780(an)S
12 I
1924(ar)S
12 Y1
2031(3)S
12 I
2091(to)S
12 R
2225(function)S
2658(is)S
(illegal,)334 2769 A
3133(NULL)S
3487(is)S
3598(returned.)S
5642 V
708(The)S
926(format)S
1280(used)S
1531(is)S
1642(explained)S
2142(below.)S
5958 V
12 I
708(Functions)S
6310 V
708(ar)S
12 Y1
815(3)S
12 I
875(port)S
6546 V
11 C
(char)268 1068 A
1403(*)S
6686 V
1068(ar)S
11 Y1
1202(3)S
11 C
(port\(port)603 1257 A
11 Y1
1860(3)S
11 C
1915(p\))S
6826 V
(port)268 1068 A
(*port)335 1403 A
11 Y1
1738(3)S
11 C
1793(p;)S
7026 V
12 I
708(Ar)S
12 Y1
829(3)S
12 I
889(port)S
12 R
1135(returns)S
1507(a)S
1596(pointer)S
1974(to)S
2103(a)S
2192(string)S
2503(with)S
2754(the)S
2937(six)S
3113(bytes)S
3403(in)S
3533(the)S
3717(port)S
3948(represented)S
4543(as)S
12 I
4680(x:x:x:x:x:x)S
12 R
5219(,)S
7166 V
708(where)S
12 I
1035(x)S
12 R
1129(is)S
1240(the)S
1418(value)S
1710(of)S
1841(a)S
1925(byte)S
2163(in)S
2287(hexadecimal.)S
7700 V
(114)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 115 121
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ar)S
823(\(L\))S
2567(Library)S
2961(Routines)S
4978(ar)S
5093(\(L\))S
860 V
12 I
708(ar)S
12 Y1
815(3)S
12 I
875(priv)S
1096 V
11 C
(char)268 1068 A
1403(*)S
1236 V
1068(ar)S
11 Y1
1202(3)S
11 C
(priv\(p\))469 1257 A
1376 V
(private)469 1068 A
(*p;)201 1604 A
1576 V
12 I
708(Ar)S
12 Y1
829(3)S
12 I
889(priv)S
12 R
1128(uses)S
1370(the)S
1552(format)S
12 I
1910(D\(X\)/x:x:x:x:x:x)S
12 R
2727(,)S
2791(where)S
12 I
3122(D)S
12 R
3254(is)S
3370(the)S
3553(object)S
3884(number)S
4288(in)S
4417(decimal,)S
12 I
4866(X)S
12 R
4985(is)S
5101(the)S
1716 V
708(rights)S
1014(in)S
1138(hexadecimal,)S
1810(and)S
12 I
2014(x)S
12 R
2108(is)S
2219(a)S
2303(byte)S
2541(from)S
2807(the)S
2985(check)S
3297(field,)S
3580(in)S
3704(hexadecimal.)S
2032 V
12 I
708(ar)S
12 Y1
815(3)S
12 I
875(cap)S
2268 V
11 C
(char)268 1068 A
1403(*)S
2408 V
1068(ar)S
11 Y1
1202(3)S
11 C
(cap\(cap)469 1257 A
11 Y1
1726(3)S
11 C
1781(p\))S
2548 V
(capability)670 1068 A
(*cap)268 1805 A
11 Y1
2073(3)S
11 C
2128(p;)S
2748 V
12 R
708(The)S
952(format)S
1332(used)S
1609(by)S
12 I
1785(ar)S
12 Y1
1892(3)S
12 I
1952(cap)S
12 R
2192(is)S
2329(the)S
2533(concatenation)S
3262(of)S
3420(the)S
3625(formats)S
4053(of)S
12 I
4211(ar)S
12 Y1
4318(3)S
12 I
4378(port)S
12 R
4646(and)S
12 I
4877(ar)S
12 Y1
4984(3)S
12 I
5044(priv)S
2888 V
12 R
708(respectively,)S
1354(separated)S
1842(by)S
1992(a)S
2076(slash.)S
2408(That)S
2660(is,)S
12 I
2801(x:x:x:x:x:x/D\(X\)/x:x:x:x:x:x)S
12 R
4181(.)S
3204 V
12 I
708(ar)S
12 Y1
815(3)S
12 I
875(tocap)S
3440 V
11 C
(char)268 1068 A
1403(*)S
3580 V
1068(ar)S
11 Y1
1202(3)S
11 C
(tocap\(s,)536 1257 A
(cap)201 1860 A
11 Y1
2061(3)S
11 C
2116(p\))S
3720 V
(char)268 1068 A
(*s;)201 1403 A
3860 V
(capability)670 1068 A
(*cap)268 1805 A
11 Y1
2073(3)S
11 C
2128(p;)S
4060 V
12 I
708(Ar)S
12 Y1
829(3)S
12 I
889(tocap)S
12 R
1217(takes)S
1516(a)S
1621(string)S
12 I
1948(s)S
12 R
2056(in)S
2201(the)S
2400(format)S
(produced)449 2775 A
3275(by)S
12 I
3446(ar)S
12 Y1
3553(3)S
12 I
3613(cap)S
12 R
3848(and)S
4073(makes)S
4433(a)S
(capability)478 4538 A
5067(that)S
4200 V
708(matches)S
1143(that)S
1363(representation)S
2088(in)S
2220(the)S
(capability)478 2406 A
2922(pointed)S
3322(to)S
3454(by)S
12 I
3612(cap)S
12 Y1
3786(3)S
12 I
3846(p)S
12 R
3916(.)S
4013(It)S
4125(returns)S
4499(a)S
4590(pointer)S
4970(to)S
5101(the)S
4340 V
708(first)S
935(character)S
1411(after)S
1665(the)S
1843(parsing)S
2229(of)S
12 I
2360(s)S
12 R
(stopped.)405 2447 A
4656 V
12 I
708(ar)S
12 Y1
815(3)S
12 I
(toport)295 875 A
4892 V
11 C
(char)268 1068 A
1403(*)S
5032 V
1068(ar)S
11 Y1
1202(3)S
11 C
(toport\(s,)603 1257 A
(port)268 1927 A
11 Y1
2195(3)S
11 C
2250(p\))S
5172 V
(char)268 1068 A
(*s;)201 1403 A
5312 V
(port)268 1068 A
(*port)335 1403 A
11 Y1
1738(3)S
11 C
1793(p;)S
5512 V
12 I
708(Ar)S
12 Y1
829(3)S
12 I
(toport)295 889 A
12 R
1231(takes)S
1517(a)S
1608(string)S
12 I
1921(s)S
12 R
2015(in)S
2146(the)S
2331(format)S
(produced)449 2692 A
3178(by)S
12 I
3335(ar)S
12 Y1
3442(3)S
12 I
3502(port)S
12 R
3750(and)S
3961(makes)S
4307(a)S
4399(port)S
4632(that)S
4852(matches)S
5652 V
708(that)S
940(representation)S
1677(in)S
1820(the)S
(capability)478 2017 A
2544(pointed)S
2955(to)S
3098(by)S
12 I
3267(port)S
12 Y1
3468(3)S
12 I
3528(p)S
12 R
3598(.)S
3707(It)S
3831(returns)S
4217(a)S
4320(pointer)S
4712(to)S
4855(the)S
5052(first)S
5792 V
708(character)S
1184(after)S
1438(the)S
1616(parsing)S
2002(of)S
12 I
2133(s)S
12 R
(stopped.)405 2220 A
6108 V
12 I
708(ar)S
12 Y1
815(3)S
12 I
875(topriv)S
6344 V
11 C
(char)268 1068 A
1403(*)S
6484 V
1068(ar)S
11 Y1
1202(3)S
11 C
(topriv\(s,)603 1257 A
(priv)268 1927 A
11 Y1
2195(3)S
11 C
2250(p\))S
6624 V
(char)268 1068 A
(*s;)201 1403 A
6764 V
(private)469 1068 A
(*priv)335 1604 A
11 Y1
1939(3)S
11 C
1994(p;)S
6964 V
12 I
708(Ar)S
12 Y1
829(3)S
12 I
889(topriv)S
12 R
1229(takes)S
1519(a)S
1614(string)S
12 I
1931(s)S
12 R
2029(in)S
2164(the)S
2353(format)S
(produced)449 2718 A
3208(by)S
12 I
3369(ar)S
12 Y1
3476(3)S
12 I
3536(priv)S
12 R
3782(and)S
3997(makes)S
4347(a)S
4442(private)S
4821(part)S
5052(of)S
5195(a)S
7104 V
(capability)478 708 A
1222(\(i.e.,)S
1477(object)S
1809(number,)S
2244(rights)S
2556(and)S
2766(check)S
3084(field\))S
3384(that)S
3601(matches)S
4033(that)S
4250(representation)S
4972(in)S
5101(the)S
7244 V
(capability)478 708 A
1216(pointed)S
1608(to)S
1732(by)S
12 I
1882(priv)S
12 Y1
2077(3)S
12 I
2137(p)S
12 R
2207(.)S
2297(It)S
2403(returns)S
2771(a)S
2856(pointer)S
3230(to)S
3355(the)S
3534(first)S
3762(character)S
4239(after)S
4494(the)S
4673(parsing)S
5060(of)S
12 I
5192(s)S
7700 V
12 R
2683(Amoeba)S
3123(5.3)S
(115)180 5069 A
7920 V
EP
%%Page: 116 122
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ar)S
823(\(L\))S
2567(Library)S
2961(Routines)S
4978(ar)S
5093(\(L\))S
860 V
(stopped.)405 708 A
1140 V
12 B
708(Examples)S
1316 V
12 R
708(The)S
926(following)S
1427(code)S
1685(prints)S
1991(out)S
2175(an)S
2319(array)S
2599(of)S
(capabilities:)587 2730 A
1516 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
1656 V
(#include)536 708 A
("module/ar.n")871 1311 A
1866 V
(printcaps\(caps,)1005 708 A
1780(n\))S
2006 V
(capability)670 976 A
(caps[];)469 1713 A
2146 V
(int)201 976 A
1244(n;)S
2286 V
708({)S
2426 V
(int)201 976 A
1244(i;)S
2706 V
(for)201 976 A
1244(\(i)S
1445(=)S
1579(0;)S
1780(i)S
1914(<)S
2048(n;)S
(++i\))268 2249 A
2846 V
(printf\("Cap)737 1292 A
(#%d:)268 2096 A
(%s\\n",)402 2431 A
2900(i,)S
3101(ar)S
11 Y1
3235(3)S
11 C
(cap\(&caps[i]\)\);)1005 3290 A
2986 V
708(})S
3222 V
12 R
708(The)S
932(following)S
1439(function)S
1878(prints)S
2190(``hello)S
2550(world'')S
2951(and)S
3161(stores)S
3480(the)S
3664(port)S
3895(consisting)S
4421(of)S
4558(the)S
4742(bytes)S
5033(1,)S
5159(2,)S
3362 V
708(3,)S
828(4,)S
948(5,)S
1068(6)S
1158(in)S
12 I
1282(p)S
12 R
1352(.)S
3562 V
11 C
(Hello\(\))469 708 A
3702 V
708({)S
3842 V
(port)268 976 A
1311(p;)S
4122 V
(printf\("%s\\n",)938 976 A
1981(ar)S
11 Y1
2115(3)S
11 C
(toport\("1:2:3:4:5:6hello)1608 2170 A
(world",)469 3845 A
(&p\);)268 4381 A
4262 V
708(})S
4602 V
12 B
708(See)S
913(Also)S
4778 V
12 R
708(c2a\(U\),)S
1106(rpc\(L\).)S
7700 V
(116)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 117 123
BP
/slant 0 def
/height 0 def
500 V
12 R
708(bprintf)S
1058(\(L\))S
2567(Library)S
2961(Routines)S
4743(bprintf)S
5093(\(L\))S
860 V
2033(\(in)S
2198(libraries:)S
2661(libamoeba.a,)S
3309(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(bprintf)S
12 R-1
1068(-)S
12 R
1196(like)S
1408(sprintf)S
1755(but)S
1939(with)S
(bounds)347 2185 A
2562(checking)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("module/strmisc.h")1206 1311 A
2182 V
(char)268 708 A
1043(*)S
(bprintf\(begin,)938 1177 A
(end,)268 2182 A
(fmt,)268 2517 A
(...\))268 2852 A
2322 V
(char)268 708 A
1043(*)S
(begin;)402 1177 A
2462 V
(char)268 708 A
1043(*)S
(end;)268 1177 A
2602 V
(char)268 708 A
1043(*)S
(fmt;)268 1177 A
2942 V
12 B
708(Description)S
3118 V
12 I
708(Bprintf)S
12 R
1100(is)S
1220(a)S
1313(function)S
1755(similar)S
2132(to)S
12 I
2265(sprintf)S
12 R
2630(in)S
2763(the)S
12 I
2950(STD)S
3204(C)S
3323(stdio)S
12 R
3597(library.)S
4020(It)S
4134(takes)S
4422(the)S
4609(format)S
4973(string)S
3258 V
12 I
708(fmt)S
12 R
918(and)S
1136(copies)S
1489(it)S
1601(to)S
1738(the)S
1929(buffer)S
2269(specified)S
2750(by)S
12 I
2913(begin)S
12 R
3234(and)S
12 I
3451(end)S
12 R
3635(,)S
3708(doing)S
4025(any)S
(conversions)577 4242 A
4862(of)S
5006(extra)S
3398 V
708(arguments)S
(according)477 1248 A
1761(to)S
1891(the)S
2075(rules)S
2347(of)S
12 I
2484(printf)S
12 R
2763(.)S
2859(However)S
3340(it)S
3445(does)S
(bounds)347 3703 A
4087(checking)S
4560(so)S
4704(that)S
4923(it)S
5028(does)S
3538 V
708(not)S
900(overrun)S
1314(the)S
1500(end)S
1712(of)S
1851(the)S
2037(buffer.)S
2432(It)S
2545(returns)S
2920(a)S
3012(pointer)S
3392(to)S
3523(the)S
3708(next)S
3953(free)S
(position)389 4180 A
4606(in)S
4737(the)S
4922(buffer.)S
3678 V
708(This)S
971(is)S
1100(useful)S
1444(for)S
1634(doing)S
(multiple)404 1956 A
12 I
2408(bprintf)S
12 R
2747('s)S
2883(to)S
3025(the)S
3221(same)S
3518(buffer.)S
3923(If)S
4053(it)S
4169(overruns)S
4640(the)S
4836(buffer)S
5181(it)S
3818 V
708(returns)S
1084(the)S
1271(NULL-pointer.)S
2078(If)S
12 I
2199(begin)S
12 R
2516(is)S
2636(the)S
2823(NULL-pointer)S
3570(and)S
12 I
3783(end)S
12 R
4005(is)S
(non-NULL)545 4124 A
4707(then)S
4953(it)S
(will)190 5059 A
3958 V
708(immediately)S
1344(return)S
1664(the)S
1842(NULL-pointer)S
(without)370 2580 A
2980(modifying)S
3513(the)S
3691(buffer.)S
4078(This)S
4323(means)S
4663(that)S
4876(one)S
5081(can)S
4098 V
708(put)S
902(many)S
12 I
1209(bprintf)S
12 R
1587(requests)S
2023(after)S
2286(another)S
2688(for)S
2869(the)S
3056(same)S
3344(buffer,)S
3710(using)S
4010(the)S
4197(result)S
4506(of)S
4646(the)S
4833(previous)S
4238 V
12 I
708(bprintf)S
12 R
1085(as)S
1224(the)S
12 I
1411(begin)S
12 R
1728(pointer)S
2110(for)S
2291(the)S
2478(next)S
2725(and)S
2938(never)S
3246(need)S
3513(to)S
3646(check)S
3967(for)S
4148(an)S
4301(error)S
(until)222 4577 A
4838(after)S
5101(the)S
4378 V
708(last)S
907(one.)S
1171(For)S
1369(example,)S
4578 V
11 C
(#define)469 1068 A
(BSZ)201 1604 A
1872(30)S
4718 V
(char)268 1068 A
(buf[BSZ];)603 1403 A
4858 V
(char)268 1068 A
1403(*)S
(end)201 1537 A
1805(=)S
(buf)201 1939 A
2207(+)S
(BSZ;)268 2341 A
4998 V
(char)268 1068 A
1403(*)S
1537(p:)S
5138 V
(int)201 1068 A
1336(i)S
1470(=)S
(20;)201 1604 A
5348 V
1068(p)S
1202(=)S
(bprintf\(buf,)804 1336 A
(end,)268 2207 A
("foo)268 2542 A
(%d",)268 2877 A
(i\);)201 3212 A
5488 V
1068(p)S
1202(=)S
(bprintf\(p,)670 1336 A
(end,)268 2073 A
2408(")S
(test"\);)469 2542 A
5628 V
1068(p)S
1202(=)S
(bprintf\(p,)670 1336 A
(end,)268 2073 A
("\\n"\);)402 2408 A
5768 V
1068(if)S
1269(\(p)S
1470(==)S
(\(char)335 1671 A
2073(*\))S
2274(0\))S
5908 V
(ERROR\("buffer)871 1336 A
(overflow"\);)737 2274 A
6048 V
1068(/*)S
(else)268 1269 A
(all)201 1604 A
1872(is)S
(well)268 2073 A
(...)201 2408 A
2676(*/)S
6284 V
12 R
708(If)S
828(the)S
12 I
1014(end)S
12 R
1237(pointer)S
1619(is)S
1739(the)S
1926(NULL-pointer)S
2673(then)S
12 I
2920(bprintf)S
12 R
3298(functions)S
3787(as)S
(though)334 3927 A
4300(it)S
4407(was)S
12 I
4635(printf)S
12 R
4914(.)S
5013(Note)S
6424 V
708(that)S
12 I
924(bprintf)S
12 R
(will)190 1297 A
1521(NULL-terminate)S
2379(the)S
2561(resultant)S
3013(string)S
3322(only)S
3569(if)S
3677(it)S
3778(has)S
3972(not)S
4159(yet)S
(reached)377 4340 A
4750(the)S
12 I
4931(end)S
12 R
5148(of)S
6564 V
708(the)S
901(buffer.)S
1303(Thus,)S
1619(if)S
1739(the)S
1932(buffer)S
2274(is)S
2401(too)S
2601(small)S
2910(to)S
3050(hold)S
3310(all)S
3478(the)S
3672(data)S
3920(then)S
4174(it)S
(will)190 4288 A
4524(not)S
4724(be)S
4884(NULL-)S
6704 V
708(terminated.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(117)180 5069 A
7920 V
EP
%%Page: 118 124
BP
/slant 0 def
/height 0 def
500 V
12 R
708(bprintf)S
1058(\(L\))S
2567(Library)S
2961(Routines)S
4743(bprintf)S
5093(\(L\))S
860 V
12 B
708(See)S
913(Also)S
1036 V
12 R
708(buffer\(L\).)S
7700 V
(118)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 119 125
BP
/slant 0 def
/height 0 def
500 V
12 R
708(buffer)S
1025(\(L\))S
2567(Library)S
2961(Routines)S
4776(buffer)S
5093(\(L\))S
860 V
2033(\(in)S
2198(libraries:)S
2661(libamoeba.a,)S
3309(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(buffer)S
12 R-1
1035(-)S
12 R
(getting)336 1163 A
1529(and)S
(putting)342 1733 A
2105(data)S
2337(in)S
2461(architecture-independent)S
3696(format)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("module/buffers.h")1206 1311 A
2322 V
(char)268 708 A
(*buf)268 1043 A
11 Y1
1311(3)S
11 C
(get)201 1366 A
11 Y1
1567(3)S
11 C
(cap\(p,)402 1622 A
(endp,)335 2091 A
(&val\))335 2493 A
2462 V
(char)268 708 A
(*buf)268 1043 A
11 Y1
1311(3)S
11 C
(get)201 1366 A
11 Y1
1567(3)S
11 C
(capset\(p,)603 1622 A
(endp,)335 2292 A
(&val\))335 2694 A
2602 V
(char)268 708 A
(*buf)268 1043 A
11 Y1
1311(3)S
11 C
(get)201 1366 A
11 Y1
1567(3)S
11 C
(int16\(p,)536 1622 A
(endp,)335 2225 A
(&val\))335 2627 A
2742 V
(char)268 708 A
(*buf)268 1043 A
11 Y1
1311(3)S
11 C
(get)201 1366 A
11 Y1
1567(3)S
11 C
(int32\(p,)536 1622 A
(endp,)335 2225 A
(&val\))335 2627 A
2882 V
(char)268 708 A
(*buf)268 1043 A
11 Y1
1311(3)S
11 C
(get)201 1366 A
11 Y1
1567(3)S
11 C
(objnum\(p,)603 1622 A
(endp,)335 2292 A
(&val\))335 2694 A
3022 V
(char)268 708 A
(*buf)268 1043 A
11 Y1
1311(3)S
11 C
(get)201 1366 A
11 Y1
1567(3)S
11 C
(pd\(p,)335 1622 A
(endp,)335 2024 A
(&val\))335 2426 A
3162 V
(char)268 708 A
(*buf)268 1043 A
11 Y1
1311(3)S
11 C
(get)201 1366 A
11 Y1
1567(3)S
11 C
(port\(p,)469 1622 A
(endp,)335 2158 A
(&val\))335 2560 A
3302 V
(char)268 708 A
(*buf)268 1043 A
11 Y1
1311(3)S
11 C
(get)201 1366 A
11 Y1
1567(3)S
11 C
(priv\(p,)469 1622 A
(endp,)335 2158 A
(&val\))335 2560 A
3442 V
(char)268 708 A
(*buf)268 1043 A
11 Y1
1311(3)S
11 C
(get)201 1366 A
11 Y1
1567(3)S
11 C
(right)335 1622 A
11 Y1
1957(3)S
11 C
(bits\(p,)469 2012 A
(endp,)335 2548 A
(&val\))335 2950 A
3582 V
(char)268 708 A
(*buf)268 1043 A
11 Y1
1311(3)S
11 C
(get)201 1366 A
11 Y1
1567(3)S
11 C
(string\(p,)603 1622 A
(endp,)335 2292 A
(&val\))335 2694 A
3722 V
(char)268 708 A
(*buf)268 1043 A
11 Y1
1311(3)S
11 C
(put)201 1366 A
11 Y1
1567(3)S
11 C
(cap\(p,)402 1622 A
(endp,)335 2091 A
(&val\))335 2493 A
3862 V
(char)268 708 A
(*buf)268 1043 A
11 Y1
1311(3)S
11 C
(put)201 1366 A
11 Y1
1567(3)S
11 C
(capset\(p,)603 1622 A
(endp,)335 2292 A
(&val\))335 2694 A
4002 V
(char)268 708 A
(*buf)268 1043 A
11 Y1
1311(3)S
11 C
(put)201 1366 A
11 Y1
1567(3)S
11 C
(int16\(p,)536 1622 A
(endp,)335 2225 A
(val\))268 2627 A
4142 V
(char)268 708 A
(*buf)268 1043 A
11 Y1
1311(3)S
11 C
(put)201 1366 A
11 Y1
1567(3)S
11 C
(int32\(p,)536 1622 A
(endp,)335 2225 A
(val\))268 2627 A
4282 V
(char)268 708 A
(*buf)268 1043 A
11 Y1
1311(3)S
11 C
(put)201 1366 A
11 Y1
1567(3)S
11 C
(objnum\(p,)603 1622 A
(endp,)335 2292 A
(val\))268 2694 A
4422 V
(char)268 708 A
(*buf)268 1043 A
11 Y1
1311(3)S
11 C
(put)201 1366 A
11 Y1
1567(3)S
11 C
(pd\(p,)335 1622 A
(endp,)335 2024 A
(&val\))335 2426 A
4562 V
(char)268 708 A
(*buf)268 1043 A
11 Y1
1311(3)S
11 C
(put)201 1366 A
11 Y1
1567(3)S
11 C
(port\(p,)469 1622 A
(endp,)335 2158 A
(&val\))335 2560 A
4702 V
(char)268 708 A
(*buf)268 1043 A
11 Y1
1311(3)S
11 C
(put)201 1366 A
11 Y1
1567(3)S
11 C
(priv\(p,)469 1622 A
(endp,)335 2158 A
(&val\))335 2560 A
4842 V
(char)268 708 A
(*buf)268 1043 A
11 Y1
1311(3)S
11 C
(put)201 1366 A
11 Y1
1567(3)S
11 C
(right)335 1622 A
11 Y1
1957(3)S
11 C
(bits\(p,)469 2012 A
(endp,)335 2548 A
(val\))268 2950 A
4982 V
(char)268 708 A
(*buf)268 1043 A
11 Y1
1311(3)S
11 C
(put)201 1366 A
11 Y1
1567(3)S
11 C
(string\(p,)603 1622 A
(endp,)335 2292 A
(val\))268 2694 A
5322 V
12 B
708(Description)S
5498 V
12 R
708(These)S
1058(functions)S
1569(get)S
1778(data)S
2041(from,)S
2368(or)S
2530(put)S
2745(data)S
3008(into,)S
3287(a)S
3402(character)S
3909(buffer)S
4267(in)S
4422(a)S
4538(format)S
4924(that)S
5168(is)S
5638 V
708(independent)S
1333(of)S
1469(any)S
1678(machine)S
2123(architecture;)S
2766(in)S
2895(particular)S
3396(of)S
3532(byte-order)S
4072(dependencies.)S
4818(They)S
5100(are)S
5778 V
708(primarily)S
1193(useful)S
1522(in)S
1650(loading)S
2046(and)S
2254(unloading)S
2770(RPC)S
3031(buffers)S
3409(\(and)S
3658(reply)S
3941(buffers\).)S
4420(All)S
4610(of)S
4745(them)S
5021(have)S
5918 V
708(the)S
886(same)S
(calling)330 1165 A
1525(sequence)S
1998(and)S
2202(return)S
2522(value,)S
2844(except)S
3190(for)S
3362(the)S
3540(type)S
3778(of)S
3909(the)S
4087(last)S
4286(argument.)S
6094 V
708(In)S
(each)222 859 A
1131(case,)S
12 I
1420(p)S
12 R
(should)321 1540 A
1911(point)S
2209(to)S
2353(the)S
(place)256 2551 A
2857(within)S
3217(the)S
3415(buffer)S
3762(where)S
4109(data)S
4361(is)S
4492(to)S
4636(be)S
4801(stored)S
5148(or)S
6234 V
708(retrieved,)S
1216(and)S
12 I
(endp)234 1436 A
12 R
(should)321 1726 A
2093(point)S
2387(to)S
2527(the)S
2720(end)S
2939(of)S
3085(the)S
3278(buffer.)S
3680(\(That)S
3988(is,)S
4144(the)S
4337(first)S
4579(byte)S
4832(after)S
5101(the)S
6374 V
708(buffer.\))S
6550 V
708(For)S
917(the)S
12 I
1106(buf)S
12 Y1
1260(3)S
12 I
1320(get)S
12 R
1519(functions,)S
2041(the)S
12 I
2231(val)S
12 R
2431(argument)S
(should)321 2930 A
3293(be)S
3449(the)S
3639(address)S
4044(where)S
4383(the)S
4573(data)S
4817(retrieved)S
6690 V
708(from)S
991(the)S
1186(buffer)S
1530(is)S
1658(to)S
1799(be)S
1960(stored.)S
2363(It)S
2485(must)S
2767(be)S
2927(a)S
3027(pointer)S
3416(to)S
3556(the)S
3750(type)S
4004(of)S
4151(value)S
4459(expected)S
4935(by)S
5101(the)S
6830 V
708(function.)S
1201(\(See)S
1447(the)S
1625(individual)S
2145(function)S
2578(descriptions,)S
3223(below.\))S
7006 V
708(For)S
909(the)S
12 I
1090(buf)S
12 Y1
1244(3)S
12 I
1304(put)S
12 R
1501(functions,)S
2014(there)S
2290(are)S
2472(two)S
(possibilities:)613 2687 A
3333(if)S
3441(the)S
3622(value)S
3917(to)S
4044(be)S
4191(put)S
4379(in)S
4507(the)S
4689(buffer)S
5020(is)S
5135(an)S
7146 V
708(integral)S
1123(type,)S
1405(or)S
1550(a)S
1648(character)S
2138(pointer,)S
2555(the)S
2747(value)S
3053(itself)S
(should)321 3340 A
3704(be)S
3861(passed)S
4226(as)S
4370(the)S
12 I
4561(val)S
12 R
4762(argument.)S
7286 V
708(For)S
921(larger,)S
1280(structured)S
1810(types,)S
2140(a)S
2239(pointer)S
2627(to)S
2766(the)S
2959(value)S
(should)321 3266 A
3632(be)S
(supplied.)439 3791 A
4305(\(See)S
4566(the)S
4759(individual)S
7700 V
2683(Amoeba)S
3123(5.3)S
(119)180 5069 A
7920 V
EP
%%Page: 120 126
BP
/slant 0 def
/height 0 def
500 V
12 R
708(buffer)S
1025(\(L\))S
2567(Library)S
2961(Routines)S
4776(buffer)S
5093(\(L\))S
860 V
708(function)S
1141(descriptions,)S
1786(below.\))S
1036 V
708(On)S
(success,)393 895 A
1327(the)S
1514(functions)S
2004(return)S
2334(a)S
2428(pointer)S
2811(to)S
2945(the)S
3133(next)S
3381(byte)S
3629(in)S
3763(the)S
3951(buffer)S
4288(following)S
4799(the)S
4987(value)S
1176 V
708(that)S
928(was)S
1155(retrieved)S
1625(or)S
1764(inserted.)S
2246(Thus,)S
2555(in)S
2687(normal)S
3068(usage,)S
3411(a)S
3503(simple)S
3864(sequence)S
4345(of)S
4484(calls)S
4745(to)S
12 I
4877(buf)S
12 Y1
5031(3)S
12 I
5091(get)S
1316 V
12 R
708(functions)S
1189(or)S
1321(to)S
12 I
1446(buf)S
12 Y1
1600(3)S
12 I
1660(put)S
12 R
1855(functions)S
2336(can)S
2535(be)S
2680(used)S
2932(to)S
3057(get)S
3236(or)S
3368(put)S
3554(a)S
3640(sequence)S
4115(of)S
4248(values,)S
4619(in)S
4745(order.)S
5093(All)S
1456 V
708(that)S
929(is)S
(necessary)471 1049 A
1559(is)S
1679(to)S
1812(provide)S
2220(the)S
2407(output)S
2754(of)S
2894(a)S
2987(previous)S
3442(call)S
3657(as)S
3797(the)S
3984(first)S
4220(argument)S
4716(of)S
4855(the)S
5041(next)S
1596 V
708(call)S
914(\(see)S
1140(the)S
1318(example,)S
1788(below.\))S
1772 V
708(The)S
933(end)S
1144(pointer)S
1524(is)S
1642(used)S
1900(to)S
2031(detect)S
2358(whether)S
2786(there)S
3066(is)S
3184(sufficient)S
(space)269 3680 A
3986(in)S
4117(the)S
4303(buffer)S
4638(to)S
4770(get)S
4956(or)S
5095(put)S
1912 V
708(the)S
887(specified)S
1356(value.)S
1709(If)S
1822(not,)S
2037(NULL)S
2392(is)S
2504(returned)S
2939(to)S
3064(indicate)S
3479(failure.)S
3888(To)S
4053(avoid)S
4352(the)S
(necessity)444 4530 A
5004(of)S
5135(an)S
2052 V
708(error)S
986(check)S
1309(after)S
(each)222 1574 A
1837(of)S
1979(a)S
2074(sequence)S
2558(of)S
2700(calls)S
2964(to)S
12 I
3099(buf)S
12 Y1
3253(3)S
12 I
3313(get)S
12 R
3512(or)S
12 I
3654(buf)S
12 Y1
3808(3)S
12 I
3868(put)S
12 R
4073(functions,)S
4594(this)S
4811(overflow)S
2192 V
708(error)S
987(propagates:)S
1587(if)S
1704(a)S
1800(NULL)S
2166(pointer)S
2551(is)S
2674(passed)S
3038(as)S
3181(the)S
12 I
3370(p)S
12 R
3481(argument)S
3979(to)S
4114(any)S
4329(of)S
4471(the)S
4660(functions,)S
5181(it)S
2332 V
708(returns)S
1075(NULL.)S
2508 V
708(Note)S
975(that)S
1189(these)S
1470(routines)S
1892(guarantee)S
2395(not)S
2581(to)S
2707(require)S
3083(more)S
3364(than)S
12 I
3604(sizeof\(datatype\))S
12 R
4420(bytes)S
4707(to)S
4833(store)S
5101(the)S
2648 V
708(data)S
943(in)S
1070(the)S
1251(buffer.)S
1641(If)S
1756(similar)S
2127(routines)S
2550(are)S
2732(needed)S
3107(to)S
3234(marshal)S
3651(a)S
12 I
3738(union)S
12 R
4055(then)S
4296(the)S
4476(union)S
(should)321 4782 A
5135(be)S
2788 V
708(encapsulated)S
1369(within)S
1715(a)S
12 I
1805(struct)S
12 R
2127(with)S
2379(an)S
2529(extra)S
2809(field)S
3069(which)S
3402(specifies)S
3864(the)S
4049(field)S
4309(of)S
4447(the)S
12 I
4632(union)S
12 R
4953(which)S
2928 V
708(is)S
819(really)S
1126(being)S
1424(sent.)S
3244 V
12 I
708(Functions)S
3596 V
708(buf)S
12 Y1
862(3)S
12 I
922(get)S
12 Y1
1070(3)S
12 I
1130(cap)S
3832 V
11 C
(char)268 1068 A
1403(*)S
3972 V
(buf)201 1068 A
11 Y1
1269(3)S
11 C
(get)201 1324 A
11 Y1
1525(3)S
11 C
(cap\(p,)402 1580 A
(endp,)335 2049 A
(valp\))335 2451 A
4112 V
(char)268 1068 A
(*p,)201 1403 A
(*endp;)402 1671 A
4252 V
(capability)670 1068 A
(*valp;)402 1805 A
4452 V
12 R
708(A)S
(capability)478 830 A
1342(is)S
1457(retrieved)S
1924(from)S
2195(the)S
2378(buffer)S
2710(pointed)S
3107(to)S
3236(by)S
12 I
3391(p)S
12 R
3496(and)S
3705(copied)S
4062(to)S
4191(the)S
(capability)478 4374 A
4887(pointed)S
4592 V
708(to)S
832(by)S
12 I
982(valp)S
12 R
1200(.)S
4908 V
12 I
708(buf)S
12 Y1
862(3)S
12 I
922(get)S
12 Y1
1070(3)S
12 I
1130(capset)S
5144 V
11 C
(#include)536 1068 A
("capset.h")670 1671 A
5424 V
(char)268 1068 A
1403(*)S
5564 V
(buf)201 1068 A
11 Y1
1269(3)S
11 C
(get)201 1324 A
11 Y1
1525(3)S
11 C
(capset\(p,)603 1580 A
(endp,)335 2250 A
(valp\))335 2652 A
5704 V
(char)268 1068 A
(*p,)201 1403 A
(*endp;)402 1671 A
5844 V
(capset)402 1068 A
(*valp;)402 1537 A
6044 V
12 R
708(A)S
(capability-set)654 833 A
1524(is)S
1642(retrieved)S
2112(from)S
2386(the)S
2572(buffer)S
2907(pointed)S
3307(to)S
3439(by)S
12 I
3597(p)S
12 R
3705(and)S
3917(copied)S
4277(to)S
4409(the)S
(capability-set)654 4595 A
6184 V
708(pointed)S
1113(to)S
1250(by)S
12 I
1412(valp)S
12 R
1630(.)S
1732(The)S
1962(suite)S
2233(for)S
2417(the)S
(capability-set)654 2607 A
3303(is)S
3426(allocated)S
3906(by)S
4068(this)S
4285(function.)S
4790(The)S
5020(suite)S
6324 V
708(must)S
973(not)S
1157(contain)S
1543(more)S
1822(than)S
12 C
(MAXCAPSET)657 2060 A
12 R
2747(entries.)S
7700 V
(120)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 121 127
BP
/slant 0 def
/height 0 def
500 V
12 R
708(buffer)S
1025(\(L\))S
2567(Library)S
2961(Routines)S
4776(buffer)S
5093(\(L\))S
860 V
12 I
708(buf)S
12 Y1
862(3)S
12 I
922(get)S
12 Y1
1070(3)S
12 I
1130(int16)S
1096 V
11 C
(char)268 1068 A
1403(*)S
1236 V
(buf)201 1068 A
11 Y1
1269(3)S
11 C
(get)201 1324 A
11 Y1
1525(3)S
11 C
(int16\(p,)536 1580 A
(endp,)335 2183 A
(valp\))335 2585 A
1376 V
(char)268 1068 A
(*p,)201 1403 A
(*endp;)402 1671 A
1516 V
(int16)335 1068 A
(*valp;)402 1470 A
1716 V
12 R
708(An)S
898(architecture-independent)S
2145(16-bit)S
2476(integer)S
2855(is)S
2978(retrieved)S
3452(from)S
3730(the)S
3920(buffer)S
4259(pointed)S
4663(to)S
4799(by)S
12 I
4962(p)S
12 R
5075(and)S
1856 V
708(copied)S
1089(to)S
1242(the)S
1449(16-bit)S
1797(integer)S
2193(pointed)S
2614(to)S
2767(by)S
12 I
2946(valp)S
12 R
3164(,)S
3253(in)S
3406(the)S
3613(form)S
3908(required)S
4370(by)S
4548(the)S
4754(local)S
5048(host)S
1996 V
708(architecture.)S
2312 V
12 I
708(buf)S
12 Y1
862(3)S
12 I
922(get)S
12 Y1
1070(3)S
12 I
1130(int32)S
2548 V
11 C
(char)268 1068 A
1403(*)S
2688 V
(buf)201 1068 A
11 Y1
1269(3)S
11 C
(get)201 1324 A
11 Y1
1525(3)S
11 C
(int32\(p,)536 1580 A
(endp,)335 2183 A
(valp\))335 2585 A
2828 V
(char)268 1068 A
(*p,)201 1403 A
(*endp;)402 1671 A
2968 V
(int32)335 1068 A
(*valp;)402 1470 A
3168 V
12 R
708(An)S
898(architecture-independent)S
2145(32-bit)S
2476(integer)S
2855(is)S
2978(retrieved)S
3452(from)S
3730(the)S
3920(buffer)S
4259(pointed)S
4663(to)S
4799(by)S
12 I
4962(p)S
12 R
5075(and)S
3308 V
708(copied)S
1089(to)S
1242(the)S
1449(32-bit)S
1797(integer)S
2193(pointed)S
2614(to)S
2767(by)S
12 I
2946(valp)S
12 R
3164(,)S
3253(in)S
3406(the)S
3613(form)S
3908(required)S
4370(by)S
4548(the)S
4754(local)S
5048(host)S
3448 V
708(architecture.)S
3764 V
12 I
708(buf)S
12 Y1
862(3)S
12 I
922(get)S
12 Y1
1070(3)S
12 I
1130(objnum)S
4000 V
11 C
(char)268 1068 A
1403(*)S
4140 V
(buf)201 1068 A
11 Y1
1269(3)S
11 C
(get)201 1324 A
11 Y1
1525(3)S
11 C
(objnum\(p,)603 1580 A
(endp,)335 2250 A
(valp\))335 2652 A
4280 V
(char)268 1068 A
(*p,)201 1403 A
(*endp;)402 1671 A
4420 V
(objnum)402 1068 A
(*valp;)402 1537 A
4620 V
12 R
708(An)S
893(object)S
1226(number)S
1632(\(as)S
(found)281 1811 A
2129(in)S
(capabilities\))594 2261 A
2893(is)S
3012(retrieved)S
3482(from)S
3756(the)S
3942(buffer)S
4277(pointed)S
4677(to)S
4809(by)S
12 I
4967(p)S
12 R
5075(and)S
4760 V
708(copied)S
1060(to)S
1184(the)S
1362(object)S
1688(number)S
2087(pointed)S
2479(to)S
2603(by)S
12 I
2753(valp)S
12 R
2971(.)S
5076 V
12 I
708(buf)S
12 Y1
862(3)S
12 I
922(get)S
12 Y1
1070(3)S
12 I
1130(pd)S
5312 V
11 C
(char)268 1068 A
1403(*)S
5452 V
(buf)201 1068 A
11 Y1
1269(3)S
11 C
(get)201 1324 A
11 Y1
1525(3)S
11 C
(pd\(p,)335 1580 A
(endp,)335 1982 A
(valp\))335 2384 A
5592 V
(char)268 1068 A
(*p,)201 1403 A
(*endp;)402 1671 A
5732 V
(process)469 1068 A
11 Y1
1537(3)S
11 C
1592(d)S
(*valp;)402 1726 A
5932 V
12 R
708(A)S
827(process)S
1221(descriptor)S
1737(stored)S
2064(in)S
2189(an)S
2334(architecture-independent)S
3571(format)S
3927(is)S
4040(retrieved)S
4504(from)S
4772(the)S
4952(buffer)S
6072 V
708(pointed)S
1130(to)S
1284(by)S
12 I
1464(p)S
12 R
1594(and)S
1828(stored)S
2184(in)S
2338(the)S
2546(process)S
2969(descriptor)S
3514(structure)S
3999(pointed)S
4421(to)S
4575(by)S
12 I
4755(valp)S
12 R
4973(.)S
5093(All)S
6212 V
(necessary)471 708 A
1224(allocation)S
1747(of)S
1893(sub-structures)S
2618(is)S
2744(performed)S
3294(by)S
3459(this)S
3679(function.)S
4187(See)S
12 I
4407(process)S
12 Y1
4776(3)S
12 I
4836(d)S
12 R
4906(\(L\))S
5107(for)S
6352 V
708(more)S
987(details.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(121)180 5069 A
7920 V
EP
%%Page: 122 128
BP
/slant 0 def
/height 0 def
500 V
12 R
708(buffer)S
1025(\(L\))S
2567(Library)S
2961(Routines)S
4776(buffer)S
5093(\(L\))S
860 V
12 I
708(buf)S
12 Y1
862(3)S
12 I
922(get)S
12 Y1
1070(3)S
12 I
1130(port)S
1096 V
11 C
(char)268 1068 A
1403(*)S
1236 V
(buf)201 1068 A
11 Y1
1269(3)S
11 C
(get)201 1324 A
11 Y1
1525(3)S
11 C
(port\(p,)469 1580 A
(endp,)335 2116 A
(valp\))335 2518 A
1376 V
(char)268 1068 A
(*p,)201 1403 A
(*endp;)402 1671 A
1516 V
(port)268 1068 A
(*valp;)402 1403 A
1716 V
12 R
708(A)S
826(port)S
1051(is)S
1162(retrieved)S
1624(from)S
1890(the)S
2068(buffer)S
2395(pointed)S
2787(to)S
2911(by)S
12 I
3061(p)S
12 R
3161(and)S
3365(copied)S
3717(to)S
3841(the)S
4019(port)S
4244(pointed)S
4636(to)S
4760(by)S
12 I
4910(valp)S
12 R
5128(.)S
2032 V
12 I
708(buf)S
12 Y1
862(3)S
12 I
922(get)S
12 Y1
1070(3)S
12 I
1130(priv)S
2268 V
11 C
(char)268 1068 A
1403(*)S
2408 V
(buf)201 1068 A
11 Y1
1269(3)S
11 C
(get)201 1324 A
11 Y1
1525(3)S
11 C
(priv\(p,)469 1580 A
(endp,)335 2116 A
(valp\))335 2518 A
2548 V
(char)268 1068 A
(*p,)201 1403 A
(*endp;)402 1671 A
2688 V
(private)469 1068 A
(*valp;)402 1604 A
2888 V
12 R
708(The)S
933(private)S
1307(part)S
1533(of)S
1671(a)S
(capability)478 1762 A
2278(\(object)S
2653(number,)S
3090(rights)S
3404(and)S
3616(check)S
3936(field\))S
4238(is)S
4357(retrieved)S
4827(from)S
5101(the)S
3028 V
708(buffer)S
1035(pointed)S
1427(to)S
1551(by)S
12 I
1701(p)S
12 R
1801(and)S
2005(copied)S
2357(to)S
2481(the)S
(place)256 2659 A
2945(pointed)S
3337(to)S
3461(by)S
12 I
3611(valp)S
12 R
3829(.)S
3344 V
12 I
708(buf)S
12 Y1
862(3)S
12 I
922(get)S
12 Y1
1070(3)S
12 I
1130(right)S
12 Y1
1365(3)S
12 I
1425(bits)S
3580 V
11 C
(char)268 1068 A
1403(*)S
3720 V
(buf)201 1068 A
11 Y1
1269(3)S
11 C
(get)201 1324 A
11 Y1
1525(3)S
11 C
(right)335 1580 A
11 Y1
1915(3)S
11 C
(bits\(p,)469 1970 A
(endp,)335 2506 A
(valp\))335 2908 A
3860 V
(char)268 1068 A
(*p,)201 1403 A
(*endp;)402 1671 A
4000 V
(rights)402 1068 A
11 Y1
1470(3)S
11 C
(bits)268 1525 A
(*valp;)402 1860 A
4200 V
12 R
708(The)S
930(rights)S
1240(bits)S
1449(of)S
1584(a)S
(capability)478 1672 A
2184(are)S
2367(retrieved)S
2834(from)S
3105(the)S
3288(buffer)S
3620(pointed)S
4017(to)S
4146(by)S
12 I
4301(p)S
12 R
4406(and)S
4615(copied)S
4972(to)S
5101(the)S
4340 V
(place)256 708 A
994(pointed)S
1386(to)S
1510(by)S
12 I
1660(valp)S
12 R
1878(.)S
4656 V
12 I
708(buf)S
12 Y1
862(3)S
12 I
922(get)S
12 Y1
1070(3)S
12 I
1130(string)S
4892 V
11 C
(char)268 1068 A
1403(*)S
5032 V
(buf)201 1068 A
11 Y1
1269(3)S
11 C
(get)201 1324 A
11 Y1
1525(3)S
11 C
(string\(p,)603 1580 A
(endp,)335 2250 A
(valp\))335 2652 A
5172 V
(char)268 1068 A
(*p,)201 1403 A
(*endp;)402 1671 A
5312 V
(char)268 1068 A
(**valp;)469 1403 A
5512 V
12 R
708(The)S
938(char)S
1189(pointer)S
1574(specified)S
2054(by)S
12 I
2216(valp)S
12 R
2476(is)S
2599(modified)S
3078(to)S
3214(point)S
3504(to)S
3640(the)S
3830(character)S
4318(string)S
4636(beginning)S
5161(at)S
5652 V
708(location)S
12 I
1133(p)S
12 R
1238(in)S
1367(the)S
1550(buffer,)S
1912(and)S
12 I
2121(p)S
12 R
2226(is)S
2341(advanced)S
2831(to)S
2959(just)S
(beyond)354 3168 A
3556(the)S
3738(NULL-byte)S
4345(that)S
4561(terminates)S
5101(the)S
5792 V
708(string.)S
1110(If)S
1258(no)S
1444(such)S
1731(NULL-byte)S
2370(is)S
(found,)311 2517 A
2894(however,)S
3407(NULL)S
3797(is)S
3944(returned)S
4414(and)S
12 I
4654(valp)S
12 R
4938(is)S
5086(left)S
5932 V
(undefined.)513 708 A
6108 V
708(WARNING:)S
1385(This)S
1656(behavior)S
2135(is)S
2272(often)S
2577(not)S
2787(what)S
3079(is)S
3216(wanted,)S
3652(especially)S
4193(when)S
4512(the)S
4717(transaction)S
6248 V
708(buffer)S
1046(is)S
1168(to)S
1303(be)S
1458(re-used.)S
1916(Most)S
2205(of)S
2347(the)S
2536(time,)S
2823(it)S
(will)190 2932 A
3163(be)S
(necessary)471 3318 A
3830(to)S
(copy)234 3965 A
4239(the)S
4427(characters)S
4960(of)S
5101(the)S
6388 V
708(string)S
1016(out)S
1202(of)S
1335(the)S
1515(buffer)S
1844(to)S
1970(a)S
2056(safer)S
(place.)286 2325 A
2673(This)S
2920(is)S
3033(not)S
(done)234 3219 A
3485(by)S
12 I
3637(buf)S
12 Y1
3791(3)S
12 I
3851(get)S
12 Y1
3999(3)S
12 I
4059(string)S
12 R
4384(nor)S
4578(is)S
4692(any)S
4899(storage)S
6528 V
708(allocated)S
1176(for)S
1348(the)S
1526(string,)S
(beyond)354 1862 A
2246(the)S
2424(transaction)S
2986(buffer)S
3313(itself.)S
7700 V
(122)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 123 129
BP
/slant 0 def
/height 0 def
500 V
12 R
708(buffer)S
1025(\(L\))S
2567(Library)S
2961(Routines)S
4776(buffer)S
5093(\(L\))S
860 V
12 I
708(buf)S
12 Y1
862(3)S
12 I
922(put)S
12 Y1
1076(3)S
12 I
1136(cap)S
1096 V
11 C
(char)268 1068 A
1403(*)S
1236 V
(buf)201 1068 A
11 Y1
1269(3)S
11 C
(put)201 1324 A
11 Y1
1525(3)S
11 C
(cap\(p,)402 1580 A
(endp,)335 2049 A
(valp\))335 2451 A
1376 V
(char)268 1068 A
(*p,)201 1403 A
(*endp;)402 1671 A
1516 V
(capability)670 1068 A
(*valp;)402 1805 A
1716 V
12 R
708(The)S
(capability)478 926 A
1434(pointed)S
1826(to)S
1950(by)S
12 I
2100(valp)S
12 R
2348(is)S
2459(copied)S
2811(into)S
3029(the)S
3207(buffer)S
3534(pointed)S
3926(to)S
4050(by)S
12 I
4200(p)S
12 R
4270(.)S
2032 V
12 I
708(buf)S
12 Y1
862(3)S
12 I
922(put)S
12 Y1
1076(3)S
12 I
1136(capset)S
2268 V
11 C
(#include)536 1068 A
("capset.h")670 1671 A
2548 V
(char)268 1068 A
1403(*)S
2688 V
(buf)201 1068 A
11 Y1
1269(3)S
11 C
(put)201 1324 A
11 Y1
1525(3)S
11 C
(capset\(p,)603 1580 A
(endp,)335 2250 A
(valp\))335 2652 A
2828 V
(char)268 1068 A
(*p,)201 1403 A
(*endp;)402 1671 A
2968 V
(capset)402 1068 A
(*valp;)402 1537 A
3168 V
12 R
708(The)S
(capability-set)654 943 A
1644(pointed)S
2053(to)S
2194(by)S
12 I
2361(valp)S
12 R
2626(\(including)S
3171(the)S
3367(suite)S
3644(sub-structure\))S
4366(is)S
4495(copied)S
4865(into)S
5101(the)S
3308 V
708(buffer)S
1035(pointed)S
1427(to)S
1551(by)S
12 I
1701(p)S
12 R
1771(.)S
1861(The)S
2079(suite)S
2338(must)S
2603(not)S
2787(contain)S
3173(more)S
3452(than)S
12 C
(MAXCAPSET)657 3690 A
12 R
4377(entries.)S
3624 V
12 I
708(buf)S
12 Y1
862(3)S
12 I
922(put)S
12 Y1
1076(3)S
12 I
1136(int16)S
3860 V
11 C
(char)268 1068 A
1403(*)S
4000 V
(buf)201 1068 A
11 Y1
1269(3)S
11 C
(put)201 1324 A
11 Y1
1525(3)S
11 C
(int16\(p,)536 1580 A
(endp,)335 2183 A
(val\))268 2585 A
4140 V
(char)268 1068 A
(*p,)201 1403 A
(*endp;)402 1671 A
4280 V
(int16)335 1068 A
(val;)268 1470 A
4480 V
12 I
708(Val)S
12 R
916(is)S
1027(stored)S
1353(in)S
1477(the)S
1655(buffer)S
1982(pointed)S
2374(to)S
2498(by)S
12 I
2648(p)S
12 R
2718(.)S
4796 V
12 I
708(buf)S
12 Y1
862(3)S
12 I
922(put)S
12 Y1
1076(3)S
12 I
1136(int32)S
5032 V
11 C
(char)268 1068 A
1403(*)S
5172 V
(buf)201 1068 A
11 Y1
1269(3)S
11 C
(put)201 1324 A
11 Y1
1525(3)S
11 C
(int32\(p,)536 1580 A
(endp,)335 2183 A
(val\))268 2585 A
5312 V
(char)268 1068 A
(*p,)201 1403 A
(*endp;)402 1671 A
5452 V
(int32)335 1068 A
(val;)268 1470 A
5652 V
12 I
708(Val)S
12 R
916(is)S
1027(stored)S
1353(in)S
1477(the)S
1655(buffer)S
1982(pointed)S
2374(to)S
2498(by)S
12 I
2648(p)S
12 R
2718(.)S
5968 V
12 I
708(buf)S
12 Y1
862(3)S
12 I
922(put)S
12 Y1
1076(3)S
12 I
1136(objnum)S
6204 V
11 C
(char)268 1068 A
1403(*)S
6344 V
(buf)201 1068 A
11 Y1
1269(3)S
11 C
(put)201 1324 A
11 Y1
1525(3)S
11 C
(objnum\(p,)603 1580 A
(endp,)335 2250 A
(val\))268 2652 A
6484 V
(char)268 1068 A
(*p,)201 1403 A
(*endp;)402 1671 A
6624 V
(objnum)402 1068 A
(val;)268 1537 A
6824 V
12 I
708(Val)S
12 R
886(,)S
970(which)S
(should)321 1320 A
1695(be)S
1863(an)S
2031(object)S
2381(number)S
2804(as)S
(found)281 2959 A
3294(in)S
3442(a)S
(capability,)508 3550 A
4113(is)S
4249(stored)S
4600(in)S
4749(the)S
4952(buffer)S
6964 V
708(pointed)S
1100(to)S
1224(by)S
12 I
1374(p)S
12 R
1444(.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(123)180 5069 A
7920 V
EP
%%Page: 124 130
BP
/slant 0 def
/height 0 def
500 V
12 R
708(buffer)S
1025(\(L\))S
2567(Library)S
2961(Routines)S
4776(buffer)S
5093(\(L\))S
860 V
12 I
708(buf)S
12 Y1
862(3)S
12 I
922(put)S
12 Y1
1076(3)S
12 I
1136(pd)S
1096 V
11 C
(char)268 1068 A
1403(*)S
1236 V
(buf)201 1068 A
11 Y1
1269(3)S
11 C
(put)201 1324 A
11 Y1
1525(3)S
11 C
(pd\(p,)335 1580 A
(endp,)335 1982 A
(valp\))335 2384 A
1376 V
(char)268 1068 A
(*p,)201 1403 A
(*endp;)402 1671 A
1516 V
(process)469 1068 A
11 Y1
1537(3)S
11 C
1592(d)S
(*valp;)402 1726 A
1716 V
12 R
708(The)S
945(process)S
1357(descriptor)S
1891(pointed)S
2302(to)S
2445(by)S
12 I
2614(valp)S
12 R
2882(is)S
3013(copied)S
3385(into)S
3623(the)S
3821(buffer)S
4168(pointed)S
4580(to)S
4724(by)S
12 I
4894(p)S
12 R
4964(.)S
5074(See)S
1856 V
12 I
708(process)S
12 Y1
1077(3)S
12 I
1137(d)S
12 R
1207(\(L\))S
1393(for)S
1565(more)S
1844(details.)S
2172 V
12 I
708(buf)S
12 Y1
862(3)S
12 I
922(put)S
12 Y1
1076(3)S
12 I
1136(port)S
2408 V
11 C
(char)268 1068 A
1403(*)S
2548 V
(buf)201 1068 A
11 Y1
1269(3)S
11 C
(put)201 1324 A
11 Y1
1525(3)S
11 C
(port\(p,)469 1580 A
(endp,)335 2116 A
(valp\))335 2518 A
2688 V
(char)268 1068 A
(*p,)201 1403 A
(*endp;)402 1671 A
2828 V
(port)268 1068 A
(*valp;)402 1403 A
3028 V
12 R
708(The)S
926(port)S
1151(pointed)S
1543(to)S
1667(by)S
12 I
1817(valp)S
12 R
2065(is)S
2176(copied)S
2528(into)S
2746(the)S
2924(buffer)S
3251(pointed)S
3643(to)S
3767(by)S
12 I
3917(p)S
12 R
3987(.)S
3344 V
12 I
708(buf)S
12 Y1
862(3)S
12 I
922(put)S
12 Y1
1076(3)S
12 I
1136(priv)S
3580 V
11 C
(char)268 1068 A
1403(*)S
3720 V
(buf)201 1068 A
11 Y1
1269(3)S
11 C
(put)201 1324 A
11 Y1
1525(3)S
11 C
(priv\(p,)469 1580 A
(endp,)335 2116 A
(valp\))335 2518 A
3860 V
(char)268 1068 A
(*p,)201 1403 A
(*endp;)402 1671 A
4000 V
(private)469 1068 A
(*valp;)402 1604 A
4200 V
12 R
708(The)S
928(private)S
1298(part)S
1520(of)S
1654(a)S
(capability)478 1741 A
2252(\(object)S
2622(number,)S
3054(rights)S
3363(and)S
3570(check)S
3885(field\),)S
4212(pointed)S
4607(to)S
4734(by)S
12 I
4887(valp)S
12 R
5105(,)S
5168(is)S
4340 V
708(copied)S
1060(into)S
1278(the)S
1456(buffer)S
1783(pointed)S
2175(to)S
2299(by)S
12 I
2449(p)S
12 R
2519(.)S
4656 V
12 I
708(buf)S
12 Y1
862(3)S
12 I
922(right)S
12 Y1
1157(3)S
12 I
1217(bits)S
4892 V
11 C
(char)268 1068 A
1403(*)S
5032 V
(buf)201 1068 A
11 Y1
1269(3)S
11 C
(put)201 1324 A
11 Y1
1525(3)S
11 C
(right)335 1580 A
11 Y1
1915(3)S
11 C
(bits\(p,)469 1970 A
(endp,)335 2506 A
(val\))268 2908 A
5172 V
(char)268 1068 A
(*p,)201 1403 A
(*endp;)402 1671 A
5312 V
(rights)402 1068 A
11 Y1
1470(3)S
11 C
(bits)268 1525 A
(val;)268 1860 A
5512 V
12 I
708(Val)S
12 R
886(,)S
946(which)S
(should)321 1272 A
1623(be)S
1767(the)S
1945(rights)S
2251(bit)S
2409(of)S
2540(a)S
(capability,)508 2624 A
3162(is)S
3273(copied)S
3625(into)S
3843(the)S
4021(buffer)S
4348(pointed)S
4740(to)S
4864(by)S
12 I
5014(p)S
12 R
5084(.)S
5828 V
12 I
708(buf)S
12 Y1
862(3)S
12 I
922(put)S
12 Y1
1076(3)S
12 I
1136(string)S
6064 V
11 C
(char)268 1068 A
1403(*)S
6204 V
(buf)201 1068 A
11 Y1
1269(3)S
11 C
(put)201 1324 A
11 Y1
1525(3)S
11 C
(string\(p,)603 1580 A
(endp,)335 2250 A
(valp\))335 2652 A
6344 V
(char)268 1068 A
(*p,)201 1403 A
(*endp;)402 1671 A
6484 V
(char)268 1068 A
(*valp;)402 1403 A
6684 V
12 R
708(The)S
931(string)S
1242(pointed)S
1639(to)S
1768(by)S
12 I
1923(valp)S
12 R
2176(is)S
2292(copied)S
2649(into)S
2872(the)S
3055(buffer)S
3388(pointed)S
3786(to)S
3916(by)S
12 I
4072(p)S
12 R
4142(,)S
4208(including)S
4700(the)S
4884(NULL-)S
6824 V
708(byte)S
946(terminator.)S
7700 V
(124)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 125 131
BP
/slant 0 def
/height 0 def
500 V
12 R
708(buffer)S
1025(\(L\))S
2567(Library)S
2961(Routines)S
4776(buffer)S
5093(\(L\))S
860 V
12 B
708(Example)S
1036 V
12 R
708(The)S
944(following)S
1463(code)S
1739(copies)S
2096(a)S
(capability,)508 2198 A
12 I
2754(c)S
12 R
2818(,)S
2896(a)S
2998(32-bit)S
3335(integer,)S
12 I
3750(i)S
12 R
3794(,)S
3872(a)S
3974(character)S
4468(string,)S
12 I
4822(s)S
12 R
4879(,)S
4958(into)S
5195(a)S
1176 V
708(transaction)S
1270(buffer,)S
1627(then)S
1865(retrieves)S
2314(them)S
2586(into)S
2804(the)S
2982(variables)S
12 I
3450(c2)S
12 R
3574(,)S
12 I
3634(i2)S
12 R
3738(,)S
3798(and)S
12 I
4002(s2)S
12 R
4119(.)S
1516 V
11 C
(capability)670 1068 A
1805(c,)S
(c2;)201 2006 A
1656 V
(int32)335 1068 A
1470(i,)S
(i2;)201 1671 A
1796 V
(char)268 1068 A
(*s,)201 1403 A
(*s2;)268 1671 A
1936 V
(char)268 1068 A
(buffer[1000];)871 1403 A
2076 V
(char)268 1068 A
(*p,)201 1403 A
(*ep;)268 1671 A
2356 V
(name)268 1068 A
11 Y1
1336(3)S
11 C
(lookup\(path,)804 1391 A
(&c\);)268 2262 A
2496 V
1068(i)S
1202(=)S
(17;)201 1336 A
2636 V
1068(s)S
1202(=)S
("foobar";)603 1336 A
2916 V
1068(p)S
1202(=)S
(buffer;)469 1336 A
3056 V
1068(ep)S
1269(=)S
(buffer)402 1403 A
1872(+)S
(sizeof)402 2006 A
(buffer;)469 2475 A
3196 V
1068(p)S
1202(=)S
(buf)201 1336 A
11 Y1
1537(3)S
11 C
(put)201 1592 A
11 Y1
1793(3)S
11 C
(cap\(p,)402 1848 A
(ep,)201 2317 A
(&c\);)268 2585 A
3336 V
1068(p)S
1202(=)S
(buf)201 1336 A
11 Y1
1537(3)S
11 C
(put)201 1592 A
11 Y1
1793(3)S
11 C
(int32\(p,)536 1848 A
(ep,)201 2451 A
(i\);)201 2719 A
3476 V
1068(p)S
1202(=)S
(buf)201 1336 A
11 Y1
1537(3)S
11 C
(put)201 1592 A
11 Y1
1793(3)S
11 C
(string\(p,)603 1848 A
(ep,)201 2518 A
(s\);)201 2786 A
3616 V
1068(if)S
(\(!p\))268 1269 A
1604({)S
3756 V
(error\("Buffer)871 1652 A
(overflow)536 2590 A
(during)402 3193 A
(put"\);)402 3662 A
3896 V
1068(})S
4176 V
1068(p)S
1202(=)S
(buffer;)469 1336 A
4316 V
1068(ep)S
1269(=)S
(buffer)402 1403 A
1872(+)S
(sizeof)402 2006 A
(buffer;)469 2475 A
4456 V
1068(p)S
1202(=)S
(buf)201 1336 A
11 Y1
1537(3)S
11 C
(get)201 1592 A
11 Y1
1793(3)S
11 C
(cap\(p,)402 1848 A
(ep,)201 2317 A
(&c2\);)335 2585 A
4596 V
1068(p)S
1202(=)S
(buf)201 1336 A
11 Y1
1537(3)S
11 C
(get)201 1592 A
11 Y1
1793(3)S
11 C
(int32\(p,)536 1848 A
(ep,)201 2451 A
(&i2\);)335 2719 A
4736 V
1068(p)S
1202(=)S
(buf)201 1336 A
11 Y1
1537(3)S
11 C
(get)201 1592 A
11 Y1
1793(3)S
11 C
(string\(p,)603 1848 A
(ep,)201 2518 A
(&s2\);)335 2786 A
4876 V
1068(if)S
(\(!p\))268 1269 A
1604({)S
5016 V
(error\("Buffer)871 1652 A
(underflow)603 2590 A
(during)402 3260 A
(get"\);)402 3729 A
5156 V
1068(})S
7700 V
12 R
2683(Amoeba)S
3123(5.3)S
(125)180 5069 A
7920 V
EP
%%Page: 126 132
BP
/slant 0 def
/height 0 def
500 V
12 R
708(buildstack)S
1225(\(L\))S
2567(Library)S
2961(Routines)S
4576(buildstack)S
5093(\(L\))S
860 V
2075(\(in)S
2240(libraries:)S
2703(libamoeba,)S
3267(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(buildstack)S
12 R-1
1235(-)S
12 R
1363(build)S
1641(a)S
1725(stack)S
2004(segment)S
2437(for)S
2609(a)S
2693(process)S
3086(to)S
3210(be)S
3354(executed)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("module/proc.h")1005 1311 A
2322 V
(unsigned)536 708 A
(long)268 1311 A
(buildstack\(buf,)1005 1646 A
(buflen,)469 2718 A
(start,)402 3254 A
(argv,)335 3723 A
(envp,)335 4125 A
(caps\))335 4527 A
2462 V
(char)268 708 A
(*buf;)335 1043 A
2602 V
(long)268 708 A
(buflen;)469 1043 A
2742 V
(unsigned)536 708 A
(long)268 1311 A
(start;)402 1646 A
2882 V
(char)268 708 A
(**argv;)469 1043 A
3022 V
(char)268 708 A
(**envp;)469 1043 A
3162 V
(struct)402 708 A
(caplist)469 1177 A
(*caps;)402 1713 A
3502 V
12 B
708(Description)S
3678 V
12 I
708(Buildstack)S
12 R
1262(is)S
1376(a)S
1463(low-level)S
(utility)290 1955 A
2278(function)S
2715(used)S
2970(by)S
12 I
(exec)216 3124 A
12 Y1
3340(3)S
12 I
(file)156 3400 A
12 R
3566(\(L\).)S
3816(It)S
(fills)190 3925 A
4149(the)S
4331(buffer)S
4662(with)S
4912(a)S
5000(stack)S
3818 V
708(segment)S
1182(for)S
1395(a)S
1519(process)S
1952(to)S
2116(be)S
2300(executed.)S
2860(\(`Stack')S
3322(segment)S
3795(is)S
3946(a)S
4070(slight)S
4409(misnomer)S
12 R-1
4963(-)S
12 R
5101(the)S
3958 V
708(information)S
(filled)257 1311 A
1599(in)S
1724(is)S
1837(better)S
2146(described)S
2642(as)S
2775(environment,)S
3448(but)S
3634(it)S
3734(happens)S
4161(to)S
4287(be)S
(placed)316 4433 A
(above)288 4781 A
5101(the)S
4098 V
708(stack)S
987(in)S
1111(memory,)S
1574(and)S
1778(the)S
1956(rest)S
2162(of)S
2293(the)S
2471(segment)S
2904(is)S
3015(used)S
3266(as)S
3397(the)S
3575(stack)S
3854(for)S
4026(the)S
4204(main)S
4476(thread.\))S
4274 V
12 I
708(Buildstack)S
12 R
(places)303 1262 A
1598(the)S
1779(arguments,)S
2346(the)S
2527(string)S
2836(and)S
(capability)478 3043 A
3555(environments)S
4247(and)S
4455(pointers)S
4879(to)S
5007(them)S
4414 V
708(in)S
836(the)S
1018(buffer,)S
1379(starting)S
1777(from)S
2047(the)S
2229(high)S
2476(end,)S
2713(all)S
2868(as)S
3002(expected)S
3465(by)S
3618(the)S
3799(C)S
3912(run-time)S
4363(start-off,)S
12 I
4819(head)S
12 R
5063(\(L\).)S
4554 V
708(The)S
944(argument)S
12 I
1449(start)S
12 R
1729(indicates)S
2208(the)S
2404(address)S
2815(where)S
12 I
3161(buf)S
12 R
(will)190 3374 A
3613(be)S
3776(mapped)S
4207(in)S
4350(the)S
4547(new)S
4798(process's)S
4694 V
708(virtual)S
1055(memory.)S
1548(See)S
12 I
1753(head)S
12 R
1997(\(L\))S
2183(for)S
2355(a)S
2439(description)S
3007(of)S
3138(the)S
3316(lay-out.)S
4870 V
708(The)S
926(return)S
1246(value)S
1538(is)S
1649(the)S
1827(stack)S
2106(pointer)S
2479(to)S
2603(be)S
2747(used)S
2998(when)S
3290(starting)S
3684(the)S
3862(process.)S
5186 V
12 I
(Diagnostics)578 708 A
5362 V
12 R
708(A)S
826(NULL-pointer)S
1564(is)S
1675(returned)S
2109(if)S
2214(the)S
2392(buffer)S
2719(was)S
2938(too)S
3122(short.)S
5642 V
12 B
708(See)S
913(Also)S
5818 V
12 R
708(exec)S
12 Y1
930(3)S
12 R
990(file\(L\),)S
1369(head\(L\).)S
7700 V
(126)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 127 133
BP
/slant 0 def
/height 0 def
500 V
12 R
708(bullet)S
1004(\(L\))S
2567(Library)S
2961(Routines)S
4797(bullet)S
5093(\(L\))S
860 V
1745(\(in)S
1910(libraries:)S
2373(libamoeba.a,)S
3021(libkernel.a,)S
3596(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(bullet)S
12 R-1
1014(-)S
12 R
1142(the)S
1320(Bullet)S
1646(Server)S
1993(client)S
(interface)426 2293 A
2749(stubs)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("cmdreg.h")670 1311 A
2182 V
(#include)536 708 A
("stderr.h")670 1311 A
2322 V
(#include)536 708 A
("server/bullet/bullet.h")1608 1311 A
2602 V
(errstat)469 708 A
1244(b)S
11 Y1
1311(3)S
11 C
(disk)268 1366 A
11 Y1
1634(3)S
11 C
(compact\(supercap\))1139 1689 A
2742 V
(errstat)469 708 A
1244(b)S
11 Y1
1311(3)S
11 C
(fsck\(supercap\))938 1366 A
2882 V
(errstat)469 708 A
1244(b)S
11 Y1
1311(3)S
11 C
(sync\(supercap\))938 1366 A
3162 V
(errstat)469 708 A
1244(b)S
11 Y1
1311(3)S
11 C
(create\(cap,)737 1366 A
(buf,)268 2170 A
(size,)335 2505 A
(commit,)469 2907 A
(newcap\))469 3443 A
3302 V
(errstat)469 708 A
1244(b)S
11 Y1
1311(3)S
11 C
(delete\(filecap,)1005 1366 A
(offset,)469 2438 A
(size,)335 2974 A
(commit,)469 3376 A
(newcap\))469 3912 A
3442 V
(errstat)469 708 A
1244(b)S
11 Y1
1311(3)S
11 C
(insert\(filecap,)1005 1366 A
(offset,)469 2438 A
(buf,)268 2974 A
(size,)335 3309 A
(commit,)469 3711 A
(newcap\))469 4247 A
3582 V
(errstat)469 708 A
1244(b)S
11 Y1
1311(3)S
11 C
(modify\(filecap,)1005 1366 A
(offset,)469 2438 A
(buf,)268 2974 A
(size,)335 3309 A
(commit,)469 3711 A
(newcap\))469 4247 A
3722 V
(errstat)469 708 A
1244(b)S
11 Y1
1311(3)S
11 C
(read\(filecap,)871 1366 A
(offset,)469 2304 A
(buf,)268 2840 A
3175(to)S
11 Y1
3309(3)S
11 C
(read,)335 3364 A
(were)268 3766 A
11 Y1
4034(3)S
11 C
(read\))335 4089 A
3862 V
(errstat)469 708 A
1244(b)S
11 Y1
1311(3)S
11 C
(size\(filecap,)871 1366 A
(size\))335 2304 A
4202 V
12 B
708(Description)S
4378 V
12 R
(Along)302 708 A
1075(with)S
1356(the)S
1569(standard)S
2044(server)S
2406(stubs)S
2719(\(see)S
12 I
2980(std)S
12 R
3131(\(L\)\))S
3393(the)S
3607(Bullet)S
3969(Server)S
4352(stubs)S
4666(provide)S
5101(the)S
4518 V
708(programming)S
(interface)426 1398 A
1855(to)S
1980(the)S
2159(Bullet)S
2486(Server.)S
2894(They)S
3173(are)S
3353(divided)S
3746(here)S
(according)477 3986 A
4494(to)S
4619(whether)S
5041(they)S
4658 V
708(are)S
887(administrative)S
1611(or)S
1742(user)S
1974(functions.)S
2514(Bullet)S
2840(files)S
3080(can)S
3278(be)S
3422(created)S
3803(incrementally)S
4500(but)S
4684(do)S
4835(not)S
5020(exist)S
4798 V
708(for)S
880(reading)S
(until)222 1273 A
1525(they)S
1763(have)S
2021(been)S
(committed.)548 2279 A
2887(The)S
3105(commit)S
3505(operation)S
3992(is)S
4103(atomic.)S
5114 V
12 I
708(Types)S
5290 V
12 R
708(The)S
945(file)S
12 I
1157(bullet.h)S
12 R
1582(defines)S
1981(the)S
2178(type)S
12 I
2435(b)S
12 Y1
2495(3)S
12 I
2555(fsize)S
12 R
2830(which)S
3175(is)S
3305(the)S
3502(size)S
3740(of)S
3891(a)S
3995(bullet)S
4321(file)S
4534(in)S
4678(bytes.)S
5043(It)S
5168(is)S
5430 V
708(implemented)S
1370(as)S
1501(a)S
1585(suitably)S
1998(sized)S
2277(integer.)S
5746 V
12 I
(Access)330 708 A
5922 V
12 R
(Access)344 708 A
1110(to)S
1262(files)S
1530(and)S
1762(administrative)S
2514(functions)S
3022(is)S
3162(determined)S
3766(on)S
3945(the)S
4152(basis)S
4453(of)S
4613(rights)S
4948(in)S
5101(the)S
6062 V
(capability)478 708 A
1216(given)S
1514(with)S
(each)222 1760 A
2012(command.)S
6238 V
708(There)S
1027(is)S
1144(a)S
1234(special)S
(capability)478 1607 A
(known)328 2121 A
2485(as)S
2622(the)S
12 I
2806(super)S
(capability)484 3110 A
12 R
3630(which)S
3962(is)S
4079(primarily)S
4567(for)S
4746(use)S
4944(by)S
5101(the)S
6378 V
708(file)S
941(system)S
1347(administrator.)S
2124(The)S
12 I
2382(super)S
(capability)484 2720 A
12 R
3274(is)S
3425(used)S
3716(for)S
3928(checking)S
4434(the)S
4651(file)S
4883(system,)S
6518 V
(enquiring)463 708 A
1204(the)S
1385(status)S
1694(of)S
1828(the)S
2009(file)S
2205(system)S
2574(and)S
2781(for)S
(initiating)438 2956 A
3427(garbage)S
3843(collection.)S
4415(It)S
(cannot)322 4524 A
4880(be)S
5028(used)S
6658 V
708(to)S
839(alter)S
1093(or)S
1231(destroy)S
1624(files)S
1871(except)S
2224(for)S
2403(those)S
(found)281 2695 A
3013(to)S
3143(be)S
3293(defective)S
3774(by)S
3930(the)S
4114(file)S
4313(system)S
4685(consistency)S
6798 V
708(checker)S
1115(and)S
1319(those)S
1604(which)S
1930(are)S
2109(garbage)S
2522(collected)S
2990(due)S
3194(to)S
3318(lack)S
3550(of)S
3681(use.)S
6974 V
708(The)S
926(following)S
1427(rights)S
1733(are)S
1912(defined)S
2305(in)S
2429(Bullet)S
2755(Server)S
(capabilities:)587 3102 A
7700 V
2683(Amoeba)S
3123(5.3)S
(127)180 5069 A
7920 V
EP
%%Page: 128 134
BP
/slant 0 def
/height 0 def
500 V
12 R
708(bullet)S
1004(\(L\))S
2567(Library)S
2961(Routines)S
4797(bullet)S
5093(\(L\))S
920 V
12 C
1068(BS)S
12 Y1
1214(3)S
12 C
(RGT)219 1274 A
12 Y1
1493(3)S
12 C
(CREATE)438 1553 A
12 R
2202(permission)S
2763(to)S
2887(create)S
3208(a)S
3292(file)S
1060 V
12 C
1068(BS)S
12 Y1
1214(3)S
12 C
(RGT)219 1274 A
12 Y1
1493(3)S
12 C
(READ)292 1553 A
12 R
2202(permission)S
2763(to)S
2887(read,)S
(copy)234 3156 A
3420(or)S
3551(get)S
3729(status)S
4035(of)S
4166(a)S
4250(file.)S
1200 V
12 C
1068(BS)S
12 Y1
1214(3)S
12 C
(RGT)219 1274 A
12 Y1
1493(3)S
12 C
(MODIFY)438 1553 A
12 R
2202(permission)S
2763(to)S
2887(alter)S
3134(an)S
(uncommitted)638 3278 A
3946(file.)S
1340 V
12 C
1068(BS)S
12 Y1
1214(3)S
12 C
(RGT)219 1274 A
12 Y1
1493(3)S
12 C
(DESTROY)511 1553 A
12 R
2202(permission)S
2763(to)S
2887(destroy)S
3273(a)S
3357(file.)S
1480 V
12 C
1068(BS)S
12 Y1
1214(3)S
12 C
(RGT)219 1274 A
12 Y1
1493(3)S
12 C
(ADMIN)365 1553 A
12 R
2202(permission)S
2763(to)S
2887(execute)S
3287(administrative)S
(activities)439 4011 A
1620 V
12 C
1068(BS)S
12 Y1
1214(3)S
12 C
(RGT)219 1274 A
12 Y1
1493(3)S
12 C
(ALL)219 1553 A
12 R
2202(permission)S
2763(to)S
2887(do)S
3037(anything)S
1856 V
708(The)S
926(last)S
1125(two)S
1337(are)S
1516(only)S
1760(of)S
1891(significance)S
2507(in)S
2631(the)S
2809(super)S
(capability.)508 3101 A
2032 V
708(Note)S
999(that)S
1236(the)S
1439(only)S
1708(operations)S
(permitted)465 2267 A
2787(on)S
(uncommitted)638 2962 A
3655(files)S
3921(are)S
12 I
4126(std)S
12 Y1
4267(3)S
12 I
4327(destroy,)S
4769(b)S
12 Y1
4829(3)S
12 I
4889(modify,)S
2172 V
708(b)S
12 Y1
768(3)S
12 I
828(insert)S
12 R
1164(and)S
12 I
1398(b)S
12 Y1
1458(3)S
12 I
1518(delete)S
12 R
1818(.)S
1937(All)S
2152(other)S
2460(operations)S
3023(on)S
(uncommitted)638 3202 A
3899(files)S
(will)190 4168 A
4417(return)S
4766(the)S
4973(status)S
2312 V
12 C
(STD)219 708 A
12 Y1
927(3)S
12 C
(CAPBAD)438 987 A
12 R
1425(.)S
1528(Furthermore,)S
2207(any)S
(uncommitted)638 2424 A
3105(file)S
3311(that)S
3536(remains)S
3963(unmodified)S
4563(for)S
4748(more)S
5041(than)S
2452 V
12 C
708(BS)S
12 Y1
854(3)S
12 C
(CACHE)365 914 A
12 Y1
1279(3)S
12 C
(TIMEOUT)511 1339 A
12 R
1883(minutes)S
(will)190 2299 A
2522(be)S
2669(destroyed.)S
3232(NB.)S
12 I
3493(std)S
12 Y1
3634(3)S
12 I
3694(touch)S
12 R
4005(on)S
4157(an)S
(uncommitted)638 4303 A
4973(file)S
5168(is)S
2592 V
708(not)S
908(legal)S
1190(and)S
1410(would)S
1758(not)S
1958(prevent)S
2367(it)S
2481(from)S
2763(timing)S
3125(out)S
3325(even)S
3599(if)S
3720(it)S
3834(was)S
4069(legal.)S
4411(The)S
4645(only)S
4906(way)S
5155(to)S
2732 V
708(avoid)S
1006(timing)S
1352(out)S
1536(an)S
(uncommitted)638 1680 A
2348(file)S
2541(is)S
2652(to)S
2776(make)S
3068(a)S
3152(null-modification)S
4030(to)S
4154(it.)S
3048 V
12 I
708(Errors)S
3224 V
12 R
708(All)S
900(functions)S
1386(return)S
1712(the)S
1896(error)S
2169(status)S
2481(of)S
2618(the)S
2802(operation.)S
3356(The)S
3581(user)S
(interface)426 3820 A
4283(to)S
4414(the)S
4599(Bullet)S
4932(Server)S
3364 V
708(returns)S
1083(only)S
1335(standard)S
1783(error)S
2058(codes)S
2371(\(as)S
2550(defined)S
2950(in)S
12 I
3081(stderr.h)S
12 R
3470(\).)S
3608(All)S
3801(the)S
3986(stubs)S
(involve)362 4271 A
4670(transactions)S
3504 V
708(and)S
912(so)S
1050(in)S
(addition)396 1175 A
1602(to)S
1727(the)S
1906(errors)S
2221(described)S
2716(below,)S
3073(all)S
3226(stubs)S
3505(may)S
3744(return)S
4065(any)S
4270(of)S
4402(the)S
4581(standard)S
5022(RPC)S
3644 V
708(error)S
1013(codes)S
1356(\(see)S
12 I
1620(rpc)S
12 R
1791(\(L\)\).)S
2115(A)S
2270(valid)S
(capability)478 2579 A
3124(is)S
3272(required)S
3743(for)S
3952(all)S
4141(operations)S
4712(and)S
4953(so)S
5127(all)S
3784 V
708(operations)S
(will)190 1285 A
1548(return)S
12 C
(STD)219 1911 A
12 Y1
2130(3)S
12 C
(CAPBAD)438 2190 A
12 R
2701(if)S
2849(an)S
3036(invalid)S
(capability)478 3445 A
3996(is)S
4150(used.)S
4504(For)S
4745(operations)S
3924 V
708(requiring)S
1186(rights,)S
1526(if)S
1635(insufficient)S
2222(rights)S
2532(are)S
2715(present)S
3099(in)S
3227(the)S
(capability)478 3409 A
3921(then)S
12 C
(STD)219 4162 A
12 Y1
4381(3)S
12 C
(DENIED)438 4441 A
12 R
(will)190 4912 A
5135(be)S
4064 V
708(returned.)S
1221(If)S
(illegal)304 1352 A
1705(parameters)S
2287(such)S
2557(as)S
2707(NULL-pointers)S
3511(or)S
3661(negative)S
4120(buffer)S
4466(sizes)S
4752(are)S
4951(given,)S
4204 V
708(exceptions)S
1271(may)S
1525(occur)S
1840(rather)S
2170(than)S
2424(an)S
2584(error)S
2867(status)S
3189(being)S
3503(returned.)S
4013(The)S
4246(behavior)S
4714(is)S
4840(not)S
5039(well)S
4344 V
708(defined)S
(under)275 1101 A
1406(these)S
(conditions.)533 1685 A
4660 V
12 I
708(Administrative)S
1452(Functions)S
4976 V
708(b)S
12 Y1
768(3)S
12 I
828(disk)S
12 Y1
1023(3)S
12 I
1083(compact)S
5212 V
11 C
(errstat)469 1068 A
5352 V
1068(b)S
11 Y1
1135(3)S
11 C
(disk)268 1190 A
11 Y1
1458(3)S
11 C
(compact\(supercap\))1139 1513 A
5492 V
(capability)670 1068 A
(*supercap;)670 1805 A
5692 V
12 I
708(B)S
12 Y1
782(3)S
12 I
842(disk)S
12 Y1
1037(3)S
12 I
1097(compact)S
12 R
1557(goes)S
(through)375 1818 A
2234(the)S
2423(entire)S
2741(virtual)S
3099(disk)S
3341(of)S
3483(the)S
3672(Bullet)S
4009(Server)S
4367(and)S
4582(moves)S
4938(all)S
5101(the)S
5832 V
708(files)S
949(down)S
1248(so)S
1386(that)S
1599(there)S
1873(is)S
1985(no)S
2136(disk)S
2368(fragmentation.)S
3139(This)S
3385(is)S
3497(a)S
3582(very)S
3828(slow)S
4087(process)S
4480(and)S
(should)321 4684 A
5035(only)S
5972 V
708(be)S
861(attempted)S
1378(when)S
1679(there)S
1961(is)S
2081(no)S
2240(load)S
2487(on)S
2646(the)S
2833(system.)S
3268(The)S
3495(Bullet)S
3830(Server)S
4186(does)S
(respond)382 4446 A
4867(to)S
5000(other)S
6112 V
708(requests)S
1147(while)S
1459(it)S
1569(is)S
1692(doing)S
2008(this)S
2224(but)S
2419(very)S
2675(slowly.)S
3099(The)S
(capability)478 3328 A
3847(given)S
4156(as)S
4298(the)S
4487(parameter)S
5014(must)S
6252 V
708(have)S
966(all)S
1118(rights)S
1424(for)S
1596(the)S
1774(command)S
2280(to)S
(succeed.)413 2404 A
6488 V
708(Required)S
1181(Rights:)S
6628 V
12 C
1062(BS)S
12 Y1
1208(3)S
12 C
(RGT)219 1268 A
12 Y1
1487(3)S
12 C
(ALL)219 1547 A
12 R
1796(in)S
1920(supercap)S
6924 V
708(Error)S
(Conditions:)563 995 A
7064 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(NOTNOW)438 1341 A
12 R
1779(:)S
1969(the)S
2147(server)S
2474(is)S
2585(already)S
2972(doing)S
3276(a)S
3360(compaction.)S
7700 V
(128)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 129 135
BP
/slant 0 def
/height 0 def
500 V
12 R
708(bullet)S
1004(\(L\))S
2567(Library)S
2961(Routines)S
4797(bullet)S
5093(\(L\))S
860 V
12 I
708(b)S
12 Y1
768(3)S
12 I
828(fsck)S
1096 V
11 C
(errstat)469 1068 A
1236 V
1068(b)S
11 Y1
1135(3)S
11 C
(fsck\(supercap\))938 1190 A
1376 V
(capability)670 1068 A
(*supercap;)670 1805 A
1576 V
12 I
708(B)S
12 Y1
782(3)S
12 I
842(fsck)S
12 R
1078(does)S
1336(a)S
1427(check)S
1746(of)S
1884(the)S
2069(Bullet)S
2402(Server)S
2756(file)S
2956(system.)S
3389(Error)S
3683(messages)S
4177(appear)S
4537(on)S
4694(the)S
4880(console)S
1716 V
708(of)S
862(the)S
1063(Bullet)S
1412(Server.)S
1842(The)S
2083(function)S
2538(returns)S
2927(a)S
3033(failure)S
3403(status)S
3731(of)S
3884(some)S
4191(sort)S
4425(if)S
4552(any)S
4778(faults)S
5100(are)S
1856 V
708(detected.)S
1202(Otherwise)S
1732(it)S
1830(returns)S
12 C
(STD)219 2197 A
12 Y1
2416(3)S
12 C
2476(OK)S
12 R
2622(.)S
2092 V
708(Required)S
1181(Rights:)S
2232 V
12 C
1062(BS)S
12 Y1
1208(3)S
12 C
(RGT)219 1268 A
12 Y1
1487(3)S
12 C
(ALL)219 1547 A
12 R
1796(in)S
1920(supercap)S
2608 V
12 I
708(b)S
12 Y1
768(3)S
12 I
828(sync)S
2844 V
11 C
(errstat)469 1068 A
2984 V
1068(b)S
11 Y1
1135(3)S
11 C
(sync\(supercap\))938 1190 A
3124 V
(capability)670 1068 A
(*supercap;)670 1805 A
3324 V
12 I
708(B)S
12 Y1
782(3)S
12 I
842(sync)S
12 R
1112(ensures)S
1520(that)S
1747(all)S
(committed)518 1914 A
2477(files)S
2732(are)S
(written)345 2927 A
3318(to)S
3458(disk.)S
3765(The)S
3999(function)S
4448(returns)S
4831(a)S
4931(failure)S
3464 V
708(status)S
1016(only)S
1262(if)S
1369(the)S
(capability)478 1549 A
2059(is)S
2172(not)S
2357(the)S
2536(super)S
(capability)478 2829 A
3338(for)S
3511(the)S
3690(server,)S
4048(if)S
4154(something)S
4688(goes)S
(wrong)309 4940 A
3604 V
708(with)S
954(the)S
1132(RPC)S
1389(or)S
1520(if)S
1625(there)S
1898(is)S
2009(a)S
2093(disk)S
2324(error.)S
2651(Otherwise)S
3181(it)S
3279(returns)S
12 C
(STD)219 3646 A
12 Y1
3865(3)S
12 C
3925(OK)S
12 R
4071(.)S
3840 V
708(Required)S
1181(Rights:)S
3980 V
(NONE)338 1062 A
4356 V
12 I
708(User)S
974(Functions)S
4672 V
708(b)S
12 Y1
768(3)S
12 I
828(size)S
4908 V
11 C
(errstat)469 1068 A
5048 V
1068(b)S
11 Y1
1135(3)S
11 C
(size\(filecap,)871 1190 A
(size\))335 2128 A
5188 V
(capability)670 1068 A
(*filecap;)603 1805 A
5328 V
1068(b)S
11 Y1
1135(3)S
11 C
(fsize)335 1190 A
(*size;)402 1592 A
5528 V
12 R
708(If)S
840(there)S
1133(are)S
1332(no)S
1502(errors,)S
12 I
1866(b)S
12 Y1
1926(3)S
12 I
1986(size)S
12 R
2229(returns)S
2617(in)S
12 I
2762(size)S
12 R
3005(the)S
3204(number)S
3624(of)S
3776(bytes)S
4082(in)S
4227(the)S
4426(file)S
4640(specified)S
5129(by)S
5668 V
12 I
(filecap)330 708 A
12 R
1048(.)S
1138(Otherwise)S
12 I
1668(size)S
12 R
1890(is)S
2001(unaltered.)S
5904 V
708(Required)S
1181(Rights:)S
6044 V
12 C
1062(BS)S
12 Y1
1208(3)S
12 C
(RGT)219 1268 A
12 Y1
1487(3)S
12 C
(READ)292 1547 A
12 R
1869(in)S
(filecap)331 1993 A
7700 V
2683(Amoeba)S
3123(5.3)S
(129)180 5069 A
7920 V
EP
%%Page: 130 136
BP
/slant 0 def
/height 0 def
500 V
12 R
708(bullet)S
1004(\(L\))S
2567(Library)S
2961(Routines)S
4797(bullet)S
5093(\(L\))S
860 V
12 I
708(b)S
12 Y1
768(3)S
12 I
828(read)S
1096 V
11 C
(errstat)469 1068 A
1236 V
1068(b)S
11 Y1
1135(3)S
11 C
(read\(filecap,)871 1190 A
(offset,)469 2128 A
(buf,)268 2664 A
2999(to)S
11 Y1
3133(3)S
11 C
(read,)335 3188 A
(were)268 3590 A
11 Y1
3858(3)S
11 C
(read\))335 3913 A
1376 V
(capability)670 1068 A
(*filecap;)603 1805 A
1516 V
1068(b)S
11 Y1
1135(3)S
11 C
(fsize)335 1190 A
(offset;)469 1592 A
1656 V
(char)268 1068 A
(*buf;)335 1403 A
1796 V
1068(b)S
11 Y1
1135(3)S
11 C
(fsize)335 1190 A
1592(to)S
11 Y1
1726(3)S
11 C
(read;)335 1781 A
1936 V
1068(b)S
11 Y1
1135(3)S
11 C
(fsize)335 1190 A
(*were)335 1592 A
11 Y1
1927(3)S
11 C
(read;)335 1982 A
2136 V
12 I
708(B)S
12 Y1
782(3)S
12 I
842(read)S
12 R
1120(returns)S
1504(in)S
12 I
1645(buf)S
12 R
1857(up)S
2025(to)S
12 I
2167(to)S
12 Y1
2261(3)S
12 I
2321(read)S
12 R
2600(bytes)S
2903(of)S
3052(the)S
3248(contents)S
3699(of)S
3848(the)S
4044(file)S
4255(specified)S
4741(by)S
12 I
(filecap)330 4909 A
2276 V
12 R
708(starting)S
1106(at)S
12 I
1228(offset)S
12 R
1534(bytes)S
1822(from)S
2091(the)S
2272(beginning)S
2787(of)S
2921(the)S
3102(file.)S
3358(It)S
(will)190 3466 A
3689(return)S
4012(less)S
4227(than)S
12 I
4468(to)S
12 Y1
4562(3)S
12 I
4622(read)S
12 R
4886(bytes)S
5174(if)S
2416 V
708(end)S
918(of)S
1055(file)S
1254(is)S
(encountered)591 1371 A
1998(before)S
12 I
2344(to)S
12 Y1
2438(3)S
12 I
2498(read)S
12 R
2766(bytes)S
3058(can)S
3263(be)S
3414(read.)S
3720(The)S
3945(parameter)S
12 I
4468(to)S
12 Y1
4562(3)S
12 I
4622(read)S
12 R
4890(may)S
5135(be)S
2556 V
708(zero.)S
1007(If)S
1119(there)S
1392(were)S
1659(no)S
1809(errors)S
2123(it)S
2221(returns)S
2588(in)S
12 I
2712(*were)S
12 Y1
3007(3)S
12 I
3067(read)S
12 R
3328(the)S
3506(number)S
3905(of)S
4036(bytes)S
4321(returned)S
4755(in)S
12 I
4879(buf)S
12 R
5043(.)S
2732 V
708(If)S
820(an)S
964(error)S
1231(is)S
1342(detected)S
1776(the)S
1954(value)S
2246(of)S
12 I
2377(*were)S
12 Y1
2672(3)S
12 I
2732(read)S
12 R
(will)190 2993 A
3213(not)S
3397(be)S
3541(altered)S
3902(from)S
4168(its)S
4313(original)S
4720(value.)S
2968 V
708(Required)S
1181(Rights:)S
3108 V
12 C
1062(BS)S
12 Y1
1208(3)S
12 C
(RGT)219 1268 A
12 Y1
1487(3)S
12 C
(READ)292 1547 A
12 R
1869(in)S
(filecap)331 1993 A
3404 V
708(Error)S
(Conditions:)563 995 A
3544 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(ARGBAD)438 1341 A
12 R
1779(:)S
1969(offset)S
2276(>)S
2374(size)S
2593(of)S
2724(file)S
3684 V
1969(offset)S
2276(<)S
2374(0)S
3824 V
1969(to)S
12 Y1
2063(3)S
12 R
2123(read)S
2362(<)S
2460(0)S
3964 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(NOMEM)365 1341 A
12 R
1706(:)S
1969(buffer)S
(cache)276 2296 A
2602(was)S
2821(full)S
4200 V
708(In)S
848(the)S
1035(remaining)S
1565(functions)S
2054(the)S
2241(type)S
2488(of)S
12 I
2628(commit)S
12 R
3036(is)S
3157(implemented)S
3829(as)S
3970(an)S
4124(int,)S
4322(but)S
4516(it)S
4624(contains)S
5067(two)S
4340 V
708(flags:)S
4540 V
12 C
1068(BS)S
12 Y1
1214(3)S
12 C
(COMMIT)438 1274 A
12 R
1712(:)S
1946(If)S
2058(set)S
2223(the)S
2401(file)S
(should)321 2594 A
2945(be)S
(committed.)548 3089 A
4680 V
12 C
1068(BS)S
12 Y1
1214(3)S
12 C
(SAFETY)438 1274 A
12 R
1712(:)S
1946(If)S
2058(set)S
2223(then)S
2461(wait)S
(till)136 2701 A
2867(the)S
3045(file)S
3238(is)S
(written)345 3349 A
3724(to)S
3848(disk.)S
4820 V
1946(Otherwise)S
2476(return)S
2796(immediately.)S
5056 V
708(If)S
824(the)S
12 C
1006(BS)S
12 Y1
1152(3)S
12 C
(COMMIT)438 1212 A
12 R
1684(flag)S
1907(is)S
2022(set)S
2191(in)S
12 I
2319(commit)S
12 R
2721(then)S
2963(the)S
3145(current)S
3523(contents)S
3960(of)S
4095(the)S
4277(file)S
4475(is)S
4591(the)S
4774(entire)S
5086(file)S
5196 V
708(and)S
922(the)S
1110(file)S
1313(is)S
1434(created.)S
1885(If)S
2007(the)S
12 C
2195(BS)S
12 Y1
2341(3)S
12 C
(SAFETY)438 2401 A
12 R
2879(flag)S
3108(is)S
3229(also)S
3464(set)S
3639(in)S
12 I
3773(commit)S
12 R
4181(then)S
4429(the)S
4617(function)S
(will)190 5059 A
5336 V
708(wait)S
(until)222 959 A
1222(the)S
1411(file)S
1615(is)S
(written)345 1737 A
2123(to)S
2258(disk)S
2500(before)S
2851(returning.)S
3397(Otherwise)S
3939(it)S
(will)190 4049 A
4281(return)S
4613(immediately.)S
5476 V
708(\(Note)S
1019(that)S
12 C
1235(BS)S
12 Y1
1381(3)S
12 C
(SAFETY)438 1441 A
12 R
1913(is)S
(ignored)369 2028 A
2431(if)S
12 C
2539(BS)S
12 Y1
2685(3)S
12 C
(COMMIT)438 2745 A
12 R
3216(is)S
3330(not)S
3517(set.\))S
3786(If)S
3901(the)S
12 C
4082(BS)S
12 Y1
4228(3)S
12 C
(COMMIT)438 4288 A
12 R
4759(flag)S
4981(is)S
5095(not)S
5616 V
708(set)S
875(further)S
1238(alterations)S
1776(to)S
1902(the)S
2082(file)S
2277(are)S
2458(expected)S
2920(using)S
3214(either)S
12 I
3524(b)S
12 Y1
3584(3)S
12 I
3644(modify,)S
4037(b)S
12 Y1
4097(3)S
12 I
4157(delete)S
12 R
4480(or)S
12 I
4614(b)S
12 Y1
4674(3)S
12 I
4734(insert)S
12 R
5053(\(see)S
5756 V
708(below\).)S
1170(To)S
1369(avoid)S
1702(system)S
2103(abuse,)S
2473(if)S
2613(the)S
12 C
2826(BS)S
12 Y1
2972(3)S
12 C
(COMMIT)438 3032 A
12 R
3535(flag)S
3789(is)S
3935(not)S
4154(set)S
4354(and)S
4593(if)S
4733(no)S
4918(further)S
5896 V
708(modification)S
1414(command)S
1977(is)S
(received)411 2145 A
2644(within)S
12 C
3042(BS)S
12 Y1
3188(3)S
12 C
(TIMEOUT)511 3248 A
12 R
3847(sweeps)S
4285(after)S
4597(the)S
4833(previous)S
6036 V
708(modification)S
1377(then)S
1635(the)S
(capability)478 1833 A
(will)190 2361 A
2601(be)S
2764(invalidated.)S
3411(\(See)S
12 I
3676(bullet)S
12 R
3962(\(A\))S
4181(for)S
4372(an)S
4535(explanation)S
5148(of)S
6176 V
708(sweeping.\))S
6352 V
708(Note)S
974(that)S
1186(when)S
1478(calculating)S
2040(file)S
2233(offsets)S
2587(the)S
2765(first)S
2992(byte)S
3230(in)S
3354(a)S
3438(file)S
3631(is)S
3742(numbered)S
4255(0.)S
7700 V
(130)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 131 137
BP
/slant 0 def
/height 0 def
500 V
12 R
708(bullet)S
1004(\(L\))S
2567(Library)S
2961(Routines)S
4797(bullet)S
5093(\(L\))S
860 V
12 I
708(b)S
12 Y1
768(3)S
12 I
828(create)S
1096 V
11 C
(errstat)469 1068 A
1236 V
1068(b)S
11 Y1
1135(3)S
11 C
(create\(cap,)737 1190 A
(buf,)268 1994 A
(size,)335 2329 A
(commit,)469 2731 A
(newcap\))469 3267 A
1376 V
(capability)670 1068 A
(*cap;)335 1805 A
1516 V
(char)268 1068 A
(*buf;)335 1403 A
1656 V
1068(b)S
11 Y1
1135(3)S
11 C
(fsize)335 1190 A
(size;)335 1592 A
1796 V
(int)201 1068 A
(commit;)469 1336 A
1936 V
(capability)670 1068 A
(*newcap;)536 1805 A
2136 V
12 I
708(B)S
12 Y1
782(3)S
12 I
842(create)S
12 R
1187(requests)S
1616(the)S
1796(Bullet)S
2124(Server)S
2473(whose)S
(capability)478 2814 A
3324(is)S
12 I
3437(cap)S
12 R
3654(to)S
3781(create)S
4105(a)S
4192(new)S
4427(file)S
4623(whose)S
(initial)284 4965 A
2276 V
708(contents)S
1141(is)S
1252(the)S
12 I
1430(size)S
12 R
1652(bytes)S
1937(in)S
12 I
2061(buf)S
12 R
2225(.)S
2315(NB:)S
2547(The)S
2765(final)S
3018(size)S
3237(of)S
3368(the)S
3546(file)S
3739(is)S
3850(not)S
4034(specified)S
4502(in)S
4626(advance.)S
2452 V
708(If)S
12 I
822(cap)S
12 R
1039(is)S
1153(a)S
1240(valid)S
(capability)478 1515 A
2026(for)S
2201(a)S
(committed)518 2288 A
2839(file)S
3035(on)S
3188(the)S
3369(server)S
3699(in)S
3826(use)S
4020(then)S
4261(when)S
4556(the)S
4737(new)S
4972(file)S
5168(is)S
2592 V
(committed)518 708 A
1268(the)S
1458(Bullet)S
1796(Server)S
(will)190 2155 A
2387(compare)S
2846(the)S
3036(new)S
3280(file)S
3485(with)S
3743(the)S
3933(extant)S
4271(file.)S
4536(If)S
4660(they)S
4910(are)S
5101(the)S
2732 V
708(same)S
987(it)S
(will)190 1085 A
1305(discard)S
1685(the)S
1863(new)S
2095(file)S
2288(and)S
2492(return)S
2812(the)S
(capability)478 2990 A
3498(for)S
3670(the)S
3848(extant)S
4175(file.)S
4429(Otherwise)S
4960(it)S
(will)190 5059 A
2872 V
708(create)S
1034(the)S
1217(new)S
1454(file)S
1652(and)S
1861(return)S
2186(a)S
2275(new)S
(capability)478 2512 A
3024(for)S
3200(it.)S
3362(Note)S
3632(that)S
3848(the)S
(capability)478 4030 A
4542(for)S
4718(an)S
4866(existing)S
3012 V
708(file)S
901(must)S
1166(have)S
1424(the)S
1602(read)S
1841(right)S
2100(for)S
2272(comparison)S
2866(to)S
2990(take)S
(place.)286 3222 A
3188 V
12 I
708(B)S
12 Y1
782(3)S
12 I
842(create)S
12 R
1185(returns)S
1552(the)S
(capability)478 1730 A
2238(for)S
2410(the)S
2588(new)S
2820(file)S
3013(in)S
12 I
3137(newcap)S
12 R
3515(.)S
3424 V
708(Required)S
1181(Rights:)S
3564 V
12 C
1062(BS)S
12 Y1
1208(3)S
12 C
(RGT)219 1268 A
12 Y1
1487(3)S
12 C
(CREATE)438 1547 A
12 R
2015(in)S
2139(cap)S
3704 V
12 C
1062(BS)S
12 Y1
1208(3)S
12 C
(RGT)219 1268 A
12 Y1
1487(3)S
12 C
(READ)292 1547 A
12 R
1869(in)S
1993(cap)S
2191(if)S
2296(it)S
2394(is)S
2505(for)S
2677(comparison)S
4000 V
708(Error)S
(Conditions:)563 995 A
4140 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(NOSPACE)511 1341 A
12 R
1852(:)S
1969(resource)S
2410(shortage:)S
(inode,)298 2884 A
3212(memory,)S
3675(disk)S
(space)269 3906 A
4516 V
12 I
708(b)S
12 Y1
768(3)S
12 I
828(modify)S
4752 V
11 C
(errstat)469 1068 A
4892 V
1068(b)S
11 Y1
1135(3)S
11 C
(modify\(filecap,)1005 1190 A
(offset,)469 2262 A
(buf,)268 2798 A
(size,)335 3133 A
(commit,)469 3535 A
(newcap\))469 4071 A
5032 V
(capability)670 1068 A
(*filecap;)603 1805 A
5172 V
1068(b)S
11 Y1
1135(3)S
11 C
(fsize)335 1190 A
(offset;)469 1592 A
5312 V
(char)268 1068 A
(*buf;)335 1403 A
5452 V
1068(b)S
11 Y1
1135(3)S
11 C
(fsize)335 1190 A
(size;)335 1592 A
5592 V
(int)201 1068 A
(commit;)469 1336 A
5732 V
(capability)670 1068 A
(*newcap;)536 1805 A
5932 V
12 R
708(If)S
822(the)S
1002(file)S
1197(specified)S
1667(by)S
12 I
(filecap)330 1819 A
12 R
2192(has)S
2386(been)S
(committed,)548 2647 A
12 I
3228(b)S
12 Y1
3288(3)S
12 I
3348(modify)S
12 R
3721(makes)S
4063(an)S
(uncommitted)638 4210 A
(copy)234 4881 A
5148(of)S
6072 V
708(it.)S
871(If)S
988(the)S
1171(file)S
1369(was)S
(uncommitted)638 1593 A
2266(it)S
2369(is)S
2485(used)S
2741(directly.)S
3207(The)S
3430(file)S
3627(is)S
(overwritten)560 3742 A
4336(with)S
4586(the)S
12 I
4768(size)S
12 R
4994(bytes)S
6212 V
708(pointed)S
1105(to)S
1234(by)S
12 I
1389(buf)S
12 R
1553(,)S
1618(beginning)S
2135(at)S
12 I
2258(offset)S
12 R
2566(bytes)S
2856(from)S
3127(the)S
3311(beginning)S
3829(of)S
3966(the)S
4150(file.)S
4409(If)S
12 I
4527(offset)S
12 R
4836(+)S
12 I
4940(size)S
12 R
5168(is)S
6352 V
708(greater)S
1087(than)S
1336(the)S
1525(file)S
1729(size)S
1959(then)S
2208(the)S
2397(file)S
(will)190 2601 A
2832(become)S
3249(larger.)S
3634(Note)S
3911(that)S
12 I
4134(offset)S
12 R
(cannot)322 4448 A
4811(be)S
4965(larger)S
6492 V
708(than)S
946(the)S
1124(current)S
1498(file)S
1691(size.)S
6668 V
708(To)S
885(commit)S
1298(a)S
1396(file)S
1603(that)S
1829(is)S
1954(already)S
2355(in)S
2493(the)S
2685(Bullet)S
3025(Server)S
(without)370 3386 A
3800(adding)S
4172(anything)S
4638(further)S
5013(to)S
5151(it,)S
6808 V
708(simply)S
1087(do)S
1257(a)S
12 I
1361(b)S
12 Y1
1421(3)S
12 I
1481(modify)S
12 R
1871(with)S
2137(size)S
2376(0.)S
2546(If)S
2678(the)S
2876(BS)S
12 Y1
3023(3)S
12 R
3083(COMMIT)S
3630(flag)S
3869(is)S
4000(not)S
4204(set)S
4389(it)S
(will)190 4507 A
4747(restart)S
5101(the)S
6948 V
708(timeout.)S
1168(The)S
(capability)478 1386 A
1894(for)S
2066(the)S
2244(new)S
2476(file)S
2669(is)S
2780(returned)S
3214(in)S
12 I
3338(newcap)S
12 R
3716(.)S
7124 V
708(Note)S
(Well:)270 978 A
1282(This)S
1531(operation)S
2022(is)S
12 I
2137(not)S
12 R
2335(atomic)S
2699(unless)S
3035(the)S
(amount)362 3218 A
3615(of)S
3751(data)S
3988(sent)S
4218(to)S
4347(the)S
4530(file)S
4728(server)S
5060(was)S
7264 V
708(less)S
921(than)S
1160(or)S
1292(equal)S
1585(to)S
12 C
1710(BS)S
12 Y1
1856(3)S
12 C
(REQBUFSZ)584 1916 A
12 R
2530(\(as)S
2702(defined)S
3095(in)S
12 I
3219(bullet.h)S
12 R
3595(\).)S
3726(If)S
3838(more)S
4117(data)S
4349(than)S
4587(this)S
4792(was)S
5011(to)S
5135(be)S
7700 V
2683(Amoeba)S
3123(5.3)S
(131)180 5069 A
7920 V
EP
%%Page: 132 138
BP
/slant 0 def
/height 0 def
500 V
12 R
708(bullet)S
1004(\(L\))S
2567(Library)S
2961(Routines)S
4797(bullet)S
5093(\(L\))S
860 V
708(sent)S
942(and)S
1155(a)S
1248(failure)S
1605(status)S
1920(is)S
2041(returned)S
2485(it)S
2593(is)S
2714(possible)S
3150(that)S
3372(some)S
3667(part)S
3896(of)S
4037(the)S
4225(operation)S
(succeeded.)527 4722 A
1000 V
708(The)S
926(resultant)S
1374(state)S
1627(of)S
1758(the)S
1936(file)S
2129(is)S
2240(not)S
2424(able)S
2656(to)S
2780(be)S
2924(determined.)S
1236 V
708(Required)S
1181(Rights:)S
1376 V
12 C
1062(BS)S
12 Y1
1208(3)S
12 C
(RGT)219 1268 A
12 Y1
1487(3)S
12 C
(MODIFY)438 1547 A
12 R
2015(and)S
12 C
2219(BS)S
12 Y1
2365(3)S
12 C
(RGT)219 2425 A
12 Y1
2644(3)S
12 C
(READ)292 2704 A
12 R
3026(in)S
(filecap)331 3150 A
1672 V
708(Error)S
(Conditions:)563 995 A
1812 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(ARGBAD)438 1341 A
12 R
1779(:)S
1969(offset)S
2276(<)S
2374(0)S
1952 V
1969(offset)S
2276(>)S
2374(file)S
2567(size)S
2092 V
1969(size)S
2188(<)S
2286(0)S
2232 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(NOSPACE)511 1341 A
12 R
1852(:)S
1969(resource)S
2410(shortage:)S
(inode,)298 2884 A
3212(memory,)S
3675(disk)S
(space)269 3906 A
2608 V
12 I
708(b)S
12 Y1
768(3)S
12 I
828(insert)S
2844 V
11 C
(errstat)469 1068 A
2984 V
1068(b)S
11 Y1
1135(3)S
11 C
(insert\(filecap,)1005 1190 A
(offset,)469 2262 A
(buf,)268 2798 A
(size,)335 3133 A
(commit,)469 3535 A
(newcap\))469 4071 A
3124 V
(capability)670 1068 A
(*filecap;)603 1805 A
3264 V
1068(b)S
11 Y1
1135(3)S
11 C
(fsize)335 1190 A
(offset;)469 1592 A
3404 V
(char)268 1068 A
(*buf;)335 1403 A
3544 V
1068(b)S
11 Y1
1135(3)S
11 C
(fsize)335 1190 A
(size;)335 1592 A
3684 V
(int)201 1068 A
(commit;)469 1336 A
3824 V
(capability)670 1068 A
(*newcap;)536 1805 A
4024 V
12 R
708(If)S
826(the)S
1010(file)S
1209(specified)S
1683(by)S
12 I
(filecap)330 1839 A
12 R
2215(has)S
2412(been)S
(committed,)548 2677 A
12 I
3262(b)S
12 Y1
3322(3)S
12 I
3382(insert)S
12 R
3705(makes)S
4051(an)S
(uncommitted)638 4202 A
(copy)234 4877 A
5148(of)S
4164 V
708(it.)S
887(If)S
1020(the)S
1218(file)S
1431(was)S
(uncommitted)638 1670 A
2358(it)S
2476(is)S
2607(used)S
2878(directly.)S
12 I
3359(B)S
12 Y1
3433(3)S
12 I
3493(insert)S
12 R
3829(inserts)S
4196(the)S
12 I
4394(size)S
12 R
4636(bytes)S
4941(in)S
12 I
5085(buf)S
4304 V
12 R
708(immediately)S
1346(before)S
1688(the)S
(position)389 1868 A
12 I
2290(offset)S
12 R
2596(bytes)S
2884(from)S
3153(the)S
3334(beginning)S
3849(of)S
3983(the)S
4164(file.)S
4420(The)S
4641(file)S
4837(size)S
(will)190 5059 A
4444 V
708(increase)S
1136(by)S
12 I
1286(size)S
12 R
1508(bytes.)S
4620 V
708(The)S
(capability)478 926 A
1434(for)S
1606(the)S
1784(file)S
1977(is)S
2088(returned)S
2522(in)S
12 I
2646(newcap)S
12 R
3024(.)S
4796 V
708(Note)S
(Well:)270 978 A
1282(This)S
1531(operation)S
2022(is)S
12 I
2137(not)S
12 R
2335(atomic)S
2699(unless)S
3035(the)S
(amount)362 3218 A
3615(of)S
3751(data)S
3988(sent)S
4218(to)S
4347(the)S
4530(file)S
4728(server)S
5060(was)S
4936 V
708(less)S
921(than)S
1160(or)S
1292(equal)S
1585(to)S
12 C
1710(BS)S
12 Y1
1856(3)S
12 C
(REQBUFSZ)584 1916 A
12 R
2530(\(as)S
2702(defined)S
3095(in)S
12 I
3219(bullet.h)S
12 R
3595(\).)S
3726(If)S
3838(more)S
4117(data)S
4349(than)S
4587(this)S
4792(was)S
5011(to)S
5135(be)S
5076 V
708(sent)S
942(and)S
1155(a)S
1248(failure)S
1605(status)S
1920(is)S
2041(returned)S
2485(it)S
2593(is)S
2714(possible)S
3150(that)S
3372(some)S
3667(part)S
3896(of)S
4037(the)S
4225(operation)S
(succeeded.)527 4722 A
5216 V
708(The)S
926(resultant)S
1374(state)S
1627(of)S
1758(the)S
1936(file)S
2129(is)S
2240(not)S
2424(able)S
2656(to)S
2780(be)S
2924(determined.)S
5452 V
708(Required)S
1181(Rights:)S
5592 V
12 C
1062(BS)S
12 Y1
1208(3)S
12 C
(RGT)219 1268 A
12 Y1
1487(3)S
12 C
(MODIFY)438 1547 A
12 R
2015(and)S
12 C
2219(BS)S
12 Y1
2365(3)S
12 C
(RGT)219 2425 A
12 Y1
2644(3)S
12 C
(READ)292 2704 A
12 R
3026(in)S
(filecap)331 3150 A
5888 V
708(Error)S
(Conditions:)563 995 A
6028 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(ARGBAD)438 1341 A
12 R
1779(:)S
1969(size)S
2188(<=)S
2354(0)S
6168 V
1969(offset)S
2276(<)S
2374(0)S
6308 V
1969(offset)S
2276(>)S
2374(file)S
2567(size)S
6448 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(NOSPACE)511 1341 A
12 R
1852(:)S
1969(resource)S
2410(shortage:)S
(inode,)298 2884 A
3212(memory,)S
3675(disk)S
(space)269 3906 A
7700 V
(132)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 133 139
BP
/slant 0 def
/height 0 def
500 V
12 R
708(bullet)S
1004(\(L\))S
2567(Library)S
2961(Routines)S
4797(bullet)S
5093(\(L\))S
860 V
12 I
708(b)S
12 Y1
768(3)S
12 I
828(delete)S
1096 V
11 C
(errstat)469 1068 A
1236 V
1068(b)S
11 Y1
1135(3)S
11 C
(delete\(filecap,)1005 1190 A
(offset,)469 2262 A
(size,)335 2798 A
(commit,)469 3200 A
(newcap\))469 3736 A
1376 V
(capability)670 1068 A
(*filecap;)603 1805 A
1516 V
1068(b)S
11 Y1
1135(3)S
11 C
(fsize)335 1190 A
(offset;)469 1592 A
1656 V
1068(b)S
11 Y1
1135(3)S
11 C
(fsize)335 1190 A
(size;)335 1592 A
1796 V
(int)201 1068 A
(commit;)469 1336 A
1936 V
(capability)670 1068 A
(*newcap;)536 1805 A
2136 V
12 R
708(If)S
825(the)S
1008(file)S
1206(specified)S
1679(by)S
12 I
(filecap)330 1834 A
12 R
2209(has)S
2405(been)S
(committed,)548 2669 A
12 I
3253(b)S
12 Y1
3313(3)S
12 I
3373(delete)S
12 R
3709(makes)S
4054(an)S
(uncommitted)638 4204 A
(copy)234 4878 A
5148(of)S
2276 V
708(it.)S
878(If)S
1002(the)S
1192(file)S
1396(was)S
(uncommitted)638 1626 A
2305(it)S
2414(is)S
2536(used)S
2798(directly.)S
12 I
3270(b)S
12 Y1
3330(3)S
12 I
3390(delete)S
12 R
3731(deletes)S
12 I
4109(size)S
12 R
4342(bytes)S
4638(beginning)S
5161(at)S
2416 V
12 I
708(offset)S
12 R
1015(bytes)S
1304(from)S
1574(the)S
1756(beginning)S
2272(of)S
2407(the)S
2589(file.)S
2846(If)S
12 I
2963(offset)S
12 R
3271(+)S
12 I
3374(size)S
12 R
3601(is)S
3717(greater)S
4090(than)S
4333(the)S
4516(file)S
4714(size)S
4938(then)S
5181(it)S
2556 V
708(deletes)S
1075(to)S
1199(the)S
1377(end)S
1581(of)S
1712(the)S
1890(file)S
2083(and)S
2287(stops.)S
2625(Thus)S
2896(the)S
3074(size)S
3293(of)S
3424(the)S
3602(file)S
3795(decreases)S
4290(by)S
4440(up)S
4590(to)S
12 I
4714(size)S
12 R
4936(bytes.)S
2732 V
708(The)S
(capability)478 926 A
1434(for)S
1606(the)S
1784(file)S
1977(is)S
2088(returned)S
2522(in)S
12 I
2646(newcap)S
12 R
3024(.)S
2968 V
708(Required)S
1181(Rights:)S
3108 V
12 C
1062(BS)S
12 Y1
1208(3)S
12 C
(RGT)219 1268 A
12 Y1
1487(3)S
12 C
(MODIFY)438 1547 A
12 R
2015(and)S
12 C
2219(BS)S
12 Y1
2365(3)S
12 C
(RGT)219 2425 A
12 Y1
2644(3)S
12 C
(READ)292 2704 A
12 R
3026(in)S
(filecap)331 3150 A
3404 V
708(Error)S
(Conditions:)563 995 A
3544 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(ARGBAD)438 1341 A
12 R
1779(:)S
1969(size)S
2188(<=)S
2354(0)S
3684 V
1969(offset)S
2276(<)S
2374(0)S
3824 V
1969(offset)S
2276(>)S
2374(file)S
2567(size)S
3964 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(NOSPACE)511 1341 A
12 R
1852(:)S
1969(resource)S
2410(shortage:)S
(inode,)298 2884 A
3212(memory,)S
3675(disk)S
(space)269 3906 A
4304 V
12 B
708(See)S
913(Also)S
4480 V
12 R
708(bfsck\(A\),)S
1291(bstatus\(A\),)S
1949(bsync\(A\),)S
2552(bullet\(A\),)S
3150(fromb\(U\),)S
3768(rpc\(L\),)S
4231(std\(L\),)S
4680(std)S
12 Y1
4821(3)S
12 R
4881(age\(A\),)S
4620 V
708(std)S
12 Y1
849(3)S
12 R
(copy\(U\),)434 909 A
1437(std)S
12 Y1
1578(3)S
12 R
1638(destroy\(U\),)S
2288(std)S
12 Y1
2429(3)S
12 R
2489(info\(U\),)S
2977(std)S
12 Y1
3118(3)S
12 R
3178(restrict\(U\),)S
3810(std)S
12 Y1
3951(3)S
12 R
4011(status\(U\),)S
4580(std)S
12 Y1
4721(3)S
12 R
4781(touch\(U\),)S
4760 V
708(tob\(U\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(133)180 5069 A
7920 V
EP
%%Page: 134 140
BP
/slant 0 def
/height 0 def
500 V
12 R
(capcache)444 708 A
1172(\(L\))S
2567(Library)S
2961(Routines)S
(capcache)444 4629 A
5093(\(L\))S
860 V
1745(\(in)S
1910(libraries:)S
2373(libamoeba.a,)S
3021(libkernel.a,)S
3596(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
(capcache)444 708 A
12 R-1
1182(-)S
12 R
(capability)478 1310 A
(cache)276 1818 A
2124(management)S
2772(routines)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
(<module/cap.h>)938 1311 A
2182 V
(int)201 708 A
976(cc)S
11 Y1
1110(3)S
11 C
(init\(n)402 1165 A
11 Y1
1567(3)S
11 C
(entries\))536 1622 A
2322 V
(int)201 708 A
976(cc)S
11 Y1
1110(3)S
11 C
(restrict\(cap,)871 1165 A
(mask,)335 2103 A
(new,)268 2505 A
(restrict\))603 2840 A
2602 V
(int)201 708 A
(cap)201 976 A
11 Y1
1177(3)S
11 C
(cmp\(cap1,)603 1232 A
(cap2\))335 1902 A
2942 V
12 B
708(Description)S
3118 V
12 R
708(The)S
(capability)478 926 A
(cache)276 1434 A
1740(routines)S
2160(are)S
2339(used)S
2590(to)S
2714(manage)S
3120(a)S
3204(least)S
(recently)391 3457 A
3878(used)S
4129(\(LRU\))S
(cache)276 4483 A
4789(of)S
(known)328 4921 A
3258 V
(capabilities.)583 708 A
1370(The)S
(cache)276 1607 A
1932(is)S
(dynamically)598 2062 A
2709(allocated)S
3196(by)S
3365(the)S
3562(routine)S
12 I
3954(cc)S
12 Y1
4062(3)S
12 I
4122(init)S
12 R
4343(which)S
4688(takes)S
4985(as)S
5134(its)S
3398 V
708(parameter)S
1235(the)S
1424(number)S
1834(of)S
1976(entries)S
2341(the)S
(cache)276 2530 A
(should)321 2847 A
3209(have.)S
3538(Entries)S
3924(are)S
(looked)328 4115 A
4485(up)S
4647(in)S
4783(the)S
(cache)276 4973 A
3538 V
708(using)S
1000(the)S
1178(routine)S
12 I
1551(cc)S
12 Y1
1659(3)S
12 I
1719(restrict)S
12 R
2080(.)S
2170(If)S
2282(an)S
2426(entry)S
2705(is)S
2816(not)S
(found)281 3000 A
3311(in)S
3435(the)S
(cache)276 3613 A
3919(it)S
4017(is)S
4128(added.)S
4506(The)S
4724(idea)S
4956(is)S
5067(that)S
3678 V
708(instead)S
1105(of)S
1260(repeatedly)S
1819(performing)S
12 C
(STD)219 2418 A
12 Y1
2637(3)S
12 C
(RESTRICT)584 2697 A
12 R
3335(commands)S
3912(\(see)S
12 I
4162(std)S
12 R
4313(\(L\)\),)S
4594(the)S
4796(restricted)S
3818 V
708(versions)S
1142(of)S
1273(a)S
(capability)478 1357 A
1865(are)S
2044(kept)S
2282(in)S
2406(the)S
(cache.)306 2584 A
2950(The)S
(cache)276 3168 A
3474(is)S
3585(protected)S
4066(from)S
4332(concurrent)S
(updates)369 4880 A
3958 V
708(using)S
999(mutexes)S
1432(\(see)S
12 I
1658(mutex)S
12 R
1958(\(L\)\).)S
4134 V
708(The)S
926(routine)S
12 I
1299(cap)S
12 Y1
1473(3)S
12 I
1533(cmp)S
12 R
1775(simply)S
2134(determines)S
2696(if)S
2801(two)S
(capabilities)553 3013 A
3596(are)S
3775(identical.)S
4450 V
12 I
708(cc)S
12 Y1
816(3)S
12 I
876(init)S
4686 V
11 C
(int)201 1068 A
4826 V
1068(cc)S
11 Y1
1202(3)S
11 C
(init\(n)402 1257 A
11 Y1
1659(3)S
11 C
(entries\))536 1714 A
4966 V
(int)201 1068 A
1336(n)S
11 Y1
1403(3)S
11 C
(entries;)536 1458 A
5166 V
12 R
708(This)S
979(routine)S
1378(allocates)S
1859(sufficient)S
2374(memory)S
2833(for)S
3031(a)S
(capability)478 3141 A
(cache)276 3675 A
4007(with)S
12 I
4279(n)S
12 Y1
4339(3)S
12 I
4399(entries)S
12 R
4796(slots)S
5075(and)S
5306 V
(initializes)473 708 A
1214(the)S
(cache)276 1395 A
1704(to)S
1831(empty.)S
2226(It)S
2334(is)S
2448(only)S
2694(possible)S
3122(to)S
3248(have)S
3508(one)S
(capability)478 3714 A
(cache)276 4224 A
4532(per)S
4719(process.)S
5174(It)S
5446 V
708(returns)S
1079(0)S
1173(if)S
1282(the)S
1464(memory)S
1901(allocation)S
2413(failed.)S
2784(It)S
2893(returns)S
3264(1)S
3358(if)S
3467(the)S
(cache)276 3649 A
3960(was)S
(successfully)592 4184 A
4811(allocated)S
5586 V
708(or)S
839(if)S
944(a)S
(cache)276 1028 A
1334(has)S
1525(already)S
1912(been)S
2170(allocated)S
2638(\(even)S
2937(if)S
3042(it)S
3140(is)S
3251(a)S
3335(different)S
3784(size)S
4003(from)S
4269(the)S
4447(one)S
4651(requested!\).)S
5902 V
12 I
708(cc)S
12 Y1
816(3)S
12 I
876(restrict)S
6138 V
11 C
(int)201 1068 A
6278 V
1068(cc)S
11 Y1
1202(3)S
11 C
(restrict\(cap,)871 1257 A
(mask,)335 2195 A
(new,)268 2597 A
(restrict\))603 2932 A
6418 V
(capability)670 1068 A
(*cap;)335 1805 A
6558 V
(rights)402 1068 A
11 Y1
1470(3)S
11 C
(bits)268 1525 A
(mask;)335 1860 A
6698 V
(capability)670 1068 A
(*new;)335 1805 A
6838 V
(int)201 1068 A
(\(*restrict\)\(\);)938 1336 A
7038 V
12 R
708(This)S
956(routine)S
1332(attempts)S
1776(to)S
(look)214 1903 A
2150(up)S
2303(the)S
(capability)478 2484 A
12 I
2995(cap)S
12 R
3212(in)S
3339(the)S
(capability)478 3520 A
(cache)276 4031 A
4340(and)S
4547(returns)S
4917(in)S
12 I
5045(new)S
7178 V
12 R
708(the)S
886(same)S
(capability)478 1165 A
1673(but)S
1857(with)S
2103(the)S
2281(rights)S
2587(restricted)S
3070(to)S
3194(those)S
3479(set)S
3644(in)S
12 I
3768(mask)S
12 R
4027(.)S
7700 V
(134)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 135 141
BP
/slant 0 def
/height 0 def
500 V
12 R
(capcache)444 708 A
1172(\(L\))S
2567(Library)S
2961(Routines)S
(capcache)444 4629 A
5093(\(L\))S
860 V
708(If)S
825(the)S
1008(required)S
1447(restricted)S
(capability)478 1935 A
2448(is)S
2564(not)S
2753(in)S
2882(the)S
(cache)276 3065 A
3376(then)S
3620(it)S
3724(is)S
3841(added.)S
4225(The)S
4449(function)S
12 I
4888(restrict)S
1000 V
12 R
708(is)S
821(used)S
1074(to)S
1200(restrict)S
1571(the)S
1751(rights)S
2059(to)S
2185(create)S
2508(the)S
2688(new)S
(capability.)508 2922 A
3492(\(This)S
3780(is)S
3893(typically)S
12 I
4349(std)S
12 Y1
4490(3)S
12 I
4550(restrict)S
12 R
4943(\320)S
5094(see)S
1140 V
12 I
708(std)S
12 R
859(\(L\).\))S
1146(If)S
1258(the)S
(cache)276 1436 A
1742(becomes)S
2195(full)S
2394(then)S
2632(entries)S
2986(are)S
3165(discarded)S
3659(from)S
3925(the)S
(cache)276 4103 A
4409(on)S
4559(an)S
4703(LRU)S
4975(basis.)S
1456 V
12 I
708(cap)S
12 Y1
882(3)S
12 I
942(cmp)S
1692 V
11 C
(int)201 1068 A
1832 V
(cap)201 1068 A
11 Y1
1269(3)S
11 C
(cmp\(cap1,)603 1324 A
(cap2\))335 1994 A
1972 V
(capability)670 1068 A
(*cap1,)402 1805 A
(*cap2;)402 2274 A
2172 V
12 R
708(This)S
960(routine)S
1341(compares)S
1843(the)S
(capabilities)553 2029 A
2620(pointed)S
3020(to)S
3152(by)S
12 I
(cap1)234 3310 A
12 R
3592(and)S
12 I
(cap2)234 3804 A
12 R
4048(.)S
4146(If)S
4266(they)S
4512(are)S
4699(identical)S
5155(in)S
2312 V
708(all)S
860(respects)S
1281(it)S
1379(returns)S
1746(1.)S
1896(Otherwise)S
2426(it)S
2524(returns)S
2891(0.)S
2592 V
12 B
708(See)S
913(Also)S
2768 V
12 R
708(capset\(L\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(135)180 5069 A
7920 V
EP
%%Page: 136 142
BP
/slant 0 def
/height 0 def
500 V
12 R
708(capset)S
1031(\(L\))S
2567(Library)S
2961(Routines)S
4770(capset)S
5093(\(L\))S
860 V
1745(\(in)S
1910(libraries:)S
2373(libamoeba.a,)S
3021(libkernel.a,)S
3596(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(capset)S
12 R-1
1041(-)S
12 R
1169(routines)S
1589(for)S
1761(manipulating)S
(capability-sets)701 2429 A
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("capset.h")670 1311 A
2322 V
(int)201 708 A
976(cs)S
11 Y1
1110(3)S
11 C
(copy\(new,)603 1165 A
(cs\))201 1835 A
2462 V
(void)268 708 A
1043(cs)S
11 Y1
1177(3)S
11 C
(free\(cs\))536 1232 A
2602 V
(errstat)469 708 A
1244(cs)S
11 Y1
1378(3)S
11 C
(goodcap\(cs,)737 1433 A
(cap\))268 2237 A
2742 V
(int)201 708 A
976(cs)S
11 Y1
1110(3)S
11 C
(member\(cs,)670 1165 A
(cap\))268 1902 A
2882 V
(errstat)469 708 A
1244(cs)S
11 Y1
1378(3)S
11 C
(purge\(cs\))603 1433 A
3022 V
(int)201 708 A
976(cs)S
11 Y1
1110(3)S
11 C
(singleton\(cs,)871 1165 A
(cap\))268 2103 A
3162 V
(errstat)469 708 A
1244(cs)S
11 Y1
1378(3)S
11 C
1433(to)S
11 Y1
1567(3)S
11 C
(cap\(cs,)469 1622 A
(cap\))268 2158 A
3502 V
12 B
708(Description)S
3678 V
12 R
(Capability-sets)727 708 A
1480(are)S
1674(used)S
1940(by)S
2105(the)S
2298(Soap)S
2584(Server)S
2946(to)S
3085(hold)S
3345(several)S
(capabilities)553 3735 A
4334(for)S
4522(a)S
4622(single)S
4957(name.)S
3818 V
708(This)S
953(permits)S
1347(the)S
(multiple)404 1525 A
(capabilities)553 1959 A
2542(for)S
2714(a)S
2798(replicated)S
3307(object)S
3633(to)S
3757(be)S
3901(stored)S
(under)275 4227 A
4532(a)S
4616(single)S
4935(name.)S
4134 V
12 I
708(Types)S
4310 V
12 R
708(The)S
926(type)S
12 I
1164(capset)S
12 R
1513(is)S
1624(defined)S
2017(in)S
12 I
2141(capset.h)S
12 R
2550(.)S
2640(The)S
(definition)471 2858 A
3359(of)S
3490(a)S
3574(capset)S
3907(is)S
4018(as)S
4149(follows.)S
4510 V
11 C
(typedef)469 1068 A
(struct)402 1604 A
2073({)S
4650 V
(short)335 1652 A
2054(cs)S
11 Y1
2188(3)S
11 C
(initial;)536 2243 A
4790 V
(short)335 1652 A
2054(cs)S
11 Y1
2188(3)S
11 C
(final;)402 2243 A
4930 V
(suite)335 1652 A
(*cs)201 2054 A
11 Y1
2255(3)S
11 C
(suite;)402 2310 A
5070 V
1068(})S
(capset;)469 1202 A
5270 V
12 R
708(and)S
912(a)S
12 I
996(cs)S
12 Y1
1097(3)S
12 I
1157(suite)S
12 R
1426(is)S
1537(a)S
1621(pointer)S
1994(to)S
2118(an)S
2262(array)S
2542(of)S
2673(the)S
2851(following)S
3352(structure.)S
5470 V
11 C
(typedef)469 1068 A
(struct)402 1604 A
2073({)S
5610 V
(capability)670 1652 A
2389(s)S
11 Y1
2456(3)S
11 C
(object;)469 2511 A
5750 V
(short)335 1652 A
2054(s)S
11 Y1
2121(3)S
11 C
(current;)536 2176 A
5890 V
1068(})S
(suite;)402 1202 A
6090 V
12 R
708(The)S
12 I
929(suite)S
12 R
1201(array)S
1484(may)S
1725(have)S
1986(been)S
2247(allocated)S
2718(with)S
12 I
2967(malloc)S
12 R
3307(\(L\))S
3496(so)S
3636(it)S
3737(is)S
3851(important)S
4355(to)S
4482(use)S
4677(the)S
4859(routines)S
6230 V
708(provided)S
1174(to)S
1305(manipulate)S
1880(them)S
2159(so)S
2303(as)S
2440(to)S
2570(avoid)S
2874(memory)S
3313(leaks.)S
3658(The)S
3882(structure)S
4343(member)S
12 I
4776(s)S
12 Y1
4823(3)S
12 I
4883(current)S
6370 V
12 R
708(in)S
855(the)S
12 I
1056(suite)S
12 R
1348(tells)S
1604(whether)S
2048(the)S
(capability)478 2250 A
2782(in)S
12 I
2930(s)S
12 Y1
2977(3)S
12 I
3037(object)S
12 R
3397(is)S
3532(valid.)S
3888(Invalid)S
(capabilities)553 4285 A
4892(are)S
5095(not)S
6510 V
708(thrown)S
1082(out)S
1267(of)S
1399(the)S
12 I
1578(suite)S
12 R
1817(,)S
1878(but)S
2063(simply)S
2423(marked)S
2817(invalid)S
3184(so)S
3322(that)S
3535(their)S
3789(slot)S
3995(may)S
4234(be)S
4379(reused)S
4726(later.)S
5034(This)S
6650 V
708(saves)S
1000(lots)S
1205(of)S
1336(fooling)S
(around)335 1715 A
2080(with)S
12 I
2326(malloc)S
12 R
2666(ed)S
2810(data.)S
6826 V
708(The)S
931(structure)S
1392(member)S
12 I
1825(cs)S
12 Y1
1926(3)S
12 I
1986(final)S
12 R
2254(in)S
2384(the)S
12 I
2568(capset)S
12 R
2923(holds)S
3220(the)S
3404(size)S
3629(of)S
3766(the)S
3950(array)S
4236(of)S
12 I
4373(suite)S
12 R
4648(structs.)S
5061(The)S
6966 V
708(structure)S
1185(member)S
12 I
1634(cs)S
12 Y1
1735(3)S
12 I
(initial)290 1795 A
12 R
2147(must)S
2434(be)S
2600(greater)S
2990(than)S
3250(or)S
3403(equal)S
3717(to)S
3862(0)S
3973(and)S
4198(less)S
4431(than)S
4690(or)S
4842(equal)S
5155(to)S
7106 V
12 I
708(cs)S
12 Y1
809(3)S
12 I
869(final)S
12 R
1101(.)S
1191(It)S
1296(is)S
1407(not)S
1591(otherwise)S
2093(used)S
2344(and)S
2548(is)S
2659(obsolete.)S
7700 V
(136)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 137 143
BP
/slant 0 def
/height 0 def
500 V
12 R
708(capset)S
1031(\(L\))S
2567(Library)S
2961(Routines)S
4770(capset)S
5093(\(L\))S
860 V
12 I
708(cs)S
12 Y1
809(3)S
12 I
869(copy)S
1096 V
11 C
(int)201 1068 A
1236 V
1068(cs)S
11 Y1
1202(3)S
11 C
(copy\(new,)603 1257 A
(cs\))201 1927 A
1376 V
(capset)402 1068 A
(*new,)335 1537 A
(*cs;)268 1939 A
1612 V
12 I
708(Cs)S
12 Y1
835(3)S
12 I
895(copy)S
12 R
1196(copies)S
1568(the)S
(capability-set)654 1779 A
12 I
2496(cs)S
12 R
2670(to)S
2827(the)S
(capability-set)654 3038 A
12 I
3755(new)S
12 R
3959(.)S
4082(Any)S
4354(suites)S
4694(needed)S
5100(are)S
1752 V
708(allocated)S
1199(with)S
12 I
1468(calloc)S
12 R
1827(\(see)S
12 I
2076(malloc)S
12 R
2416(\(L\)\))S
2666(and)S
2893(added)S
3234(to)S
3381(the)S
3582(structure.)S
4120(Note)S
4409(that)S
12 I
4644(*new)S
12 R
4961(is)S
5095(not)S
1892 V
708(allocated,)S
1212(but)S
1402(must)S
1673(already)S
2066(exist.)S
2391(It)S
2502(returns)S
2875(1)S
2971(if)S
3082(the)S
(copy)234 3266 A
3537(was)S
(successful)498 3763 A
4298(and)S
4509(zero)S
4755(if)S
4867(it)S
4972(failed)S
2032 V
708(\(due)S
953(to)S
1077(the)S
1255(failure)S
1603(of)S
12 I
1734(calloc)S
12 R
2040(\).)S
2348 V
12 I
708(cs)S
12 Y1
809(3)S
12 I
869(free)S
2584 V
11 C
(void)268 1068 A
2724 V
1068(cs)S
11 Y1
1202(3)S
11 C
(free\(cs\))536 1257 A
2864 V
(capset)402 1068 A
(*cs;)268 1537 A
3100 V
12 I
708(Cs)S
12 Y1
835(3)S
12 I
895(free)S
12 R
1128(frees)S
1399(any)S
1607(memory)S
2044(allocated)S
2516(for)S
2693(suites)S
3004(and)S
3213(marks)S
12 I
3544(cs)S
12 R
3690(as)S
3826(containing)S
4371(no)S
(capabilities.)583 4526 A
5174(It)S
3240 V
708(is)S
819(not)S
1003(an)S
1147(error)S
1414(to)S
1538(call)S
1744(this)S
1949(routine)S
2322(for)S
2494(a)S
2578(capset)S
2911(that)S
3123(has)S
3314(already)S
3701(been)S
3959(freed.)S
3556 V
12 I
708(cs)S
12 Y1
809(3)S
12 I
869(member)S
3792 V
11 C
(int)201 1068 A
3932 V
1068(cs)S
11 Y1
1202(3)S
11 C
(member\(cs,)670 1257 A
(cap\))268 1994 A
4072 V
(capset)402 1068 A
(*cs;)268 1537 A
4212 V
(capability)670 1068 A
(*cap;)335 1805 A
4448 V
12 I
708(Cs)S
12 Y1
835(3)S
12 I
895(member)S
12 R
1329(returns)S
1699(1)S
1792(if)S
1900(the)S
(capability)478 2081 A
12 I
2592(cap)S
12 R
2809(is)S
2923(a)S
3010(member)S
3440(of)S
3574(the)S
(capability-set)654 3755 A
12 I
4442(cs)S
12 R
4553(.)S
4647(Otherwise)S
5181(it)S
4588 V
708(returns)S
1075(0.)S
4904 V
12 I
708(cs)S
12 Y1
809(3)S
12 I
869(purge)S
5140 V
11 C
(errstat)469 1068 A
5280 V
1068(cs)S
11 Y1
1202(3)S
11 C
(purge\(cs\))603 1257 A
5420 V
(capset)402 1068 A
(*cs;)268 1537 A
5656 V
12 I
708(cs)S
12 Y1
809(3)S
12 I
869(purge)S
12 R
1192(attempts)S
1635(to)S
1761(destroy)S
2149(all)S
2303(the)S
2483(objects)S
2858(whose)S
(capabilities)553 3200 A
3786(are)S
3968(in)S
4095(the)S
(capability-set)654 4276 A
12 I
4963(cs)S
12 R
5074(.)S
5167(If)S
5796 V
708(the)S
913(destroy)S
1326(command)S
1859(for)S
2058(a)S
(capability)478 2169 A
(succeeds)430 2704 A
3191(it)S
3316(is)S
3454(marked)S
3874(as)S
4032(no)S
(longer)309 4208 A
4573(being)S
4897(a)S
5007(valid)S
5936 V
708(member)S
1148(of)S
1292(the)S
(capability-set.)684 1483 A
2240(If)S
2365(any)S
2583(of)S
2728(the)S
2920(destroy)S
3320(operations)S
3868(fail)S
4075(then)S
4327(it)S
4439(returns)S
4820(the)S
5012(error)S
6076 V
708(status)S
1021(of)S
1159(the)S
1344(first)S
1578(failure)S
1933(but)S
2124(continues)S
2624(to)S
2755(try)S
2927(to)S
3058(destroy)S
3451(the)S
3636(other)S
3922(objects.)S
4362(If)S
4481(the)S
4666(value)S
4964(of)S
5101(the)S
6216 V
708(function)S
1147(is)S
1264(not)S
12 C
(STD)219 1454 A
12 Y1
1673(3)S
12 C
1733(OK)S
12 R
1915(the)S
2100(only)S
2351(way)S
2590(to)S
2721(see)S
2913(what)S
3186(was)S
3412(not)S
3603(destroyed)S
4110(is)S
4228(to)S
(look)214 4359 A
4610(at)S
12 I
4735(cs)S
12 R
4883(and)S
5094(see)S
6356 V
708(which)S
(capabilities)553 1034 A
1617(are)S
(still)183 1796 A
2009(valid.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(137)180 5069 A
7920 V
EP
%%Page: 138 144
BP
/slant 0 def
/height 0 def
500 V
12 R
708(capset)S
1031(\(L\))S
2567(Library)S
2961(Routines)S
4770(capset)S
5093(\(L\))S
860 V
12 I
708(cs)S
12 Y1
809(3)S
12 I
869(singleton)S
1096 V
11 C
(int)201 1068 A
1236 V
1068(cs)S
11 Y1
1202(3)S
11 C
(singleton\(cs,)871 1257 A
(cap\))268 2195 A
1376 V
(capset)402 1068 A
(*cs;)268 1537 A
1516 V
(capability)670 1068 A
(*cap;)335 1805 A
1716 V
12 I
708(Cs)S
12 Y1
835(3)S
12 I
895(singleton)S
12 R
1387(allocates)S
1851(a)S
12 I
1944(suite)S
12 R
2222(structure)S
2686(and)S
2899(stores)S
3221(the)S
(capability)478 3408 A
12 I
3925(cap)S
12 R
4148(in)S
4281(it.)S
4449(It)S
4564(then)S
4812(takes)S
5101(the)S
1856 V
(capability-set)654 708 A
12 I
1411(cs)S
12 R
1522(,)S
1600(which)S
1944(it)S
2060(assumes)S
2511(to)S
2653(be)S
2815(empty,)S
3195(and)S
3417(makes)S
3774(it)S
3890(contain)S
4294(the)S
4490(single)S
12 I
4827(suite)S
12 R
5066(.)S
5174(It)S
1996 V
708(returns)S
1075(0)S
1165(if)S
1270(it)S
1368(failed)S
1675(and)S
1879(1)S
1969(if)S
2074(it)S
(succeeds.)460 2172 A
2312 V
12 I
708(cs)S
12 Y1
809(3)S
12 I
(goodcap)414 869 A
2548 V
11 C
(errstat)469 1068 A
2688 V
1068(cs)S
11 Y1
1202(3)S
11 C
(goodcap\(cs,)737 1257 A
(cap\))268 2061 A
2828 V
(capset)402 1068 A
(*cs;)268 1537 A
2968 V
(capability)670 1068 A
(*cap;)335 1805 A
3168 V
12 I
708(Cs)S
12 Y1
835(3)S
12 I
(goodcap)414 895 A
12 R
1367(attempts)S
1826(to)S
1968(get)S
2164(a)S
2266(usable)S
(capability)478 2623 A
3150(from)S
3435(a)S
3538(capset,)S
(copying)388 3920 A
4357(it)S
4474(to)S
12 I
4617(*cap)S
12 R
4861(.)S
4970(If)S
5101(the)S
3308 V
708(capset)S
1059(is)S
1188(empty,)S
1567(it)S
1682(returns)S
12 C
(STD)219 2066 A
12 Y1
2285(3)S
12 C
(SYSERR)438 2345 A
12 R
2783(.)S
2890(If)S
3019(there)S
3309(are)S
3505(no)S
3672(caps)S
3934(for)S
4123(which)S
12 I
4466(std)S
12 Y1
4607(3)S
12 I
4667(info)S
12 R
4912(returns)S
3448 V
12 C
(STD)219 708 A
12 Y1
927(3)S
12 C
987(OK)S
12 R
1133(,)S
1195(it)S
1295(copies)S
1636(the)S
1816(last)S
(capability)478 2017 A
2527(in)S
2653(the)S
2833(set)S
3000(and)S
3206(returns)S
3575(the)S
3755(error)S
4024(status)S
4332(from)S
12 I
4601(std)S
12 Y1
4742(3)S
12 I
4802(info)S
12 R
5033(with)S
3588 V
708(it.)S
882(The)S
12 I
(goodport)441 1116 A
12 R
1567(\(L\))S
(module)362 1769 A
2177(is)S
2304(used)S
2570(to)S
2709(avoid)S
3022(attempting)S
3585(a)S
3684(transaction)S
4261(with)S
4522(a)S
4621(port)S
4861(that)S
5088(has)S
3728 V
708(previously)S
1248(returned)S
12 C
(RPC)219 1682 A
12 Y1
1901(3)S
12 C
(NOTFOUND.)657 1961 A
4044 V
12 I
708(cs)S
12 Y1
809(3)S
12 I
869(to)S
12 Y1
963(3)S
12 I
1023(cap)S
4280 V
11 C
(errstat)469 1068 A
4420 V
1068(cs)S
11 Y1
1202(3)S
11 C
1257(to)S
11 Y1
1391(3)S
11 C
(cap\(cs,)469 1446 A
(cap\))268 1982 A
4560 V
(capset)402 1068 A
(*cs;)268 1537 A
4700 V
(capability)670 1068 A
(*cap;)335 1805 A
4936 V
12 I
708(Cs)S
12 Y1
835(3)S
12 I
895(to)S
12 Y1
989(3)S
12 I
1049(cap)S
12 R
1273(gets)S
1508(a)S
(capability)478 1602 A
2120(from)S
2396(the)S
2584(capset)S
2927(pointed)S
3329(to)S
3463(by)S
12 I
3623(cs)S
12 R
3774(and)S
3988(copies)S
4338(it)S
4447(to)S
4582(the)S
(capability)478 4771 A
5076 V
708(pointed)S
1113(to)S
1250(by)S
12 I
1413(cap)S
12 R
1597(.)S
1700(It)S
1818(is)S
1942(functionally)S
2570(the)S
2761(same)S
3053(as)S
12 I
3197(cs)S
12 Y1
3298(3)S
12 I
(goodcap)414 3358 A
12 R
3782(,)S
(above,)318 3855 A
4215(except)S
4573(that)S
4797(when)S
5101(the)S
5216 V
708(capset)S
1053(contains)S
1498(only)S
1754(one)S
(capability,)508 1971 A
2522(it)S
2633(copies)S
2985(that)S
(capability)478 3210 A
(without)370 3731 A
4144(checking)S
4623(whether)S
5057(it)S
5168(is)S
5356 V
(good.)270 708 A
1038(Also,)S
1327(it)S
1425(always)S
1792(returns)S
12 C
(STD)219 2159 A
12 Y1
2378(3)S
12 C
2438(OK)S
12 R
2584(,)S
2644(unless)S
2976(the)S
3154(capset)S
3487(is)S
3598(empty.)S
5636 V
12 B
708(See)S
913(Also)S
5812 V
12 R
708(buffer\(L\),)S
(capcache\(L\),)630 1221 A
(goodport\(L\).)621 1881 A
7700 V
(138)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 139 145
BP
/slant 0 def
/height 0 def
500 V
12 R
708(circbuf)S
1072(\(L\))S
2567(Library)S
2961(Routines)S
4729(circbuf)S
5093(\(L\))S
860 V
2350(\(in)S
2515(libraries:)S
2978(libamoeba.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(circbuf)S
12 R-1
1082(-)S
12 R
1210(circular)S
1612(buffer)S
1939(-)S
2010(serialized,)S
2536(buffered)S
2977(data)S
3209(transfer)S
3611(between)S
4045(concurrent)S
4593(threads)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("semaphore.h")871 1311 A
2182 V
(#include)536 708 A
("circbuf.h")737 1311 A
2462 V
(struct)402 708 A
(circbuf)469 1177 A
(*cb)201 1713 A
11 Y1
1914(3)S
11 C
(alloc\(size\))737 1969 A
2602 V
(void)268 708 A
1043(cb)S
11 Y1
1177(3)S
11 C
(close\(cb\))603 1232 A
2742 V
(void)268 708 A
1043(cb)S
11 Y1
1177(3)S
11 C
(free\(cb\))536 1232 A
3022 V
(int)201 708 A
976(cb)S
11 Y1
1110(3)S
11 C
(putc\(cb,)536 1165 A
1768(c\))S
3162 V
(int)201 708 A
976(cb)S
11 Y1
1110(3)S
11 C
(puts\(cb,)536 1165 A
1768(s,)S
1969(n\))S
3442 V
(int)201 708 A
976(cb)S
11 Y1
1110(3)S
11 C
(getc\(cb\))536 1165 A
3582 V
(int)201 708 A
976(cb)S
11 Y1
1110(3)S
11 C
(trygetc\(cb,)737 1165 A
(maxtimeout\))737 1969 A
3862 V
(int)201 708 A
976(cb)S
11 Y1
1110(3)S
11 C
(gets\(cb,)536 1165 A
1768(s,)S
(minlen,)469 1969 A
(maxlen\))469 2505 A
4142 V
(int)201 708 A
976(cb)S
11 Y1
1110(3)S
11 C
(putp\(cb,)536 1165 A
(ps,)201 1768 A
(blocking\))603 2036 A
4282 V
(void)268 708 A
1043(cb)S
11 Y1
1177(3)S
11 C
(putpdone\(cb,)804 1232 A
(len\))268 2103 A
4422 V
(int)201 708 A
976(cb)S
11 Y1
1110(3)S
11 C
(getp\(cb,)536 1165 A
(ps,)201 1768 A
(blocking\))603 2036 A
4562 V
(void)268 708 A
1043(cb)S
11 Y1
1177(3)S
11 C
(getpdone\(cb,)804 1232 A
(len\))268 2103 A
4842 V
(int)201 708 A
976(cb)S
11 Y1
1110(3)S
11 C
(full\(cb\))536 1165 A
4982 V
(int)201 708 A
976(cb)S
11 Y1
1110(3)S
11 C
(empty\(cb\))603 1165 A
5122 V
(void)268 708 A
1043(cb)S
11 Y1
1177(3)S
11 C
(setsema\(cb,)737 1232 A
(sema\))335 2036 A
5462 V
12 B
708(Description)S
5638 V
12 R
708(A)S
12 I
852(circular)S
1298(buffer)S
12 R
1653(provides)S
2125(serialized,)S
2677(buffered)S
3145(data)S
3404(transfer)S
3833(between)S
4294(concurrent)S
4869(threads.)S
5778 V
708(Threads)S
1145(within)S
1502(a)S
1603(process)S
2013(can)S
2228(read)S
2484(from)S
2767(a)S
2868(circular)S
3286(buffer,)S
3659(while)S
3975(other)S
4270(threads)S
4666(in)S
4806(the)S
5000(same)S
5918 V
708(process)S
1108(can)S
1313(write)S
1601(to)S
1732(it.)S
1898(The)S
2124(circular)S
2534(buffer)S
(module)362 2869 A
3269(provides)S
3723(a)S
3815(set)S
3988(of)S
4127(routines)S
4555(to)S
4687(manage)S
5101(the)S
6058 V
708(circular)S
1110(buffers.)S
6234 V
708(Data)S
974(transfer)S
(through)375 1382 A
1794(circular)S
2203(buffers)S
2584(is)S
2702(similar)S
3077(to)S
3208(transferring)S
3812(data)S
(through)375 4051 A
4463(a)S
4554(pipe.)S
4859(Threads)S
6374 V
708(write)S
992(data)S
1227(into)S
1448(the)S
1629(pipe,)S
1900(other)S
2182(threads)S
2565(read)S
2807(data)S
3042(from)S
3311(the)S
3492(pipe.)S
3793(A)S
3914(close)S
4196(on)S
4349(a)S
4435(circular)S
4839(buffer)S
5168(is)S
6514 V
708(similar)S
1089(to)S
1226(closing)S
1618(the)S
(input)248 1809 A
2100(side)S
2338(of)S
2482(a)S
2579(pipe:)S
2864(it)S
2975(is)S
3099(no)S
(longer)309 3262 A
3614(allowed)S
4041(to)S
4179(put)S
4377(new)S
4623(data)S
4869(into)S
5101(the)S
6654 V
708(circular)S
1110(buffer)S
1437(but)S
1621(the)S
1799(circular)S
2201(buffer)S
2528(can)S
(still)183 2726 A
2939(be)S
3083(emptied.)S
6830 V
708(Data)S
1007(transfer)S
(through)375 1448 A
1892(a)S
2015(circular)S
2456(buffer)S
2822(can)S
3059(be)S
(accomplished)665 3242 A
3976(by)S
4165(the)S
4383(routines)S
12 I
4843(cb)S
12 Y1
4957(3)S
12 I
5017(getc,)S
6970 V
708(cb)S
12 Y1
822(3)S
12 I
882(trygetc)S
12 R
1269(and)S
12 I
1483(cb)S
12 Y1
1597(3)S
12 I
1657(gets)S
12 R
1902(to)S
2036(read)S
2285(data,)S
2557(and)S
12 I
2771(cb)S
12 Y1
2885(3)S
12 I
2945(putc)S
12 R
3203(and)S
12 I
3417(cb)S
12 Y1
3531(3)S
12 I
3591(puts)S
12 R
3841(to)S
3974(write)S
4264(data.)S
4565(Each)S
4846(function)S
7110 V
708(copies)S
1049(data)S
1283(respectively)S
1901(from)S
2169(the)S
2349(circular)S
2753(buffer)S
3082(to)S
3208(a)S
3294(local)S
3562(buffer)S
3891(or)S
4024(from)S
4292(a)S
4378(local)S
4646(buffer)S
4975(to)S
5101(the)S
7250 V
708(circular)S
1110(buffer.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(139)180 5069 A
7920 V
EP
%%Page: 140 146
BP
/slant 0 def
/height 0 def
500 V
12 R
708(circbuf)S
1072(\(L\))S
2567(Library)S
2961(Routines)S
4729(circbuf)S
5093(\(L\))S
860 V
708(The)S
928(routines)S
12 I
1350(cb)S
12 Y1
1464(3)S
12 I
1524(putp,)S
1800(cb)S
12 Y1
1914(3)S
12 I
(putpdone,)478 1974 A
2484(cb)S
12 Y1
2598(3)S
12 I
2658(getp)S
12 R
2908(and)S
12 I
3114(cb)S
12 Y1
3228(3)S
12 I
(getpdone)442 3288 A
12 R
3772(are)S
3953(routines)S
4375(meant)S
4703(for)S
4878(directly)S
1000 V
(accessing)464 708 A
1210(the)S
1396(circular)S
1806(buffer)S
2141(data.)S
2441(The)S
2667(routines)S
12 I
3095(cb)S
12 Y1
3209(3)S
12 I
3269(putp)S
12 R
3531(and)S
12 I
3743(cb)S
12 Y1
3857(3)S
12 I
3917(getp)S
12 R
4172(return)S
4499(a)S
4590(pointer)S
4970(to)S
5101(the)S
1140 V
708(correct)S
(place)256 1082 A
1374(where)S
1707(data)S
1945(can)S
2149(be)S
2299(put)S
2489(in/fetched)S
3010(from)S
3283(the)S
3468(circular)S
3877(buffer.)S
4271(Once)S
4564(data)S
4803(is)S
4921(moved)S
1280 V
708(to/from)S
1126(the)S
1328(circular)S
1754(buffer,)S
2135(it)S
2257(must)S
2546(be)S
2714(marked)S
3131(as)S
(done)234 3286 A
3573(by)S
3746(the)S
3947(routines)S
12 I
4390(cb)S
12 Y1
4504(3)S
12 I
(putpdone)448 4564 A
12 R
5075(and)S
1420 V
12 I
708(cb)S
12 Y1
822(3)S
12 I
(getpdone)442 882 A
12 R
1334(.)S
1431(The)S
1656(main)S
1935(difference)S
2465(with)S
2718(stubs)S
3003(like)S
12 I
3222(cb)S
12 Y1
3336(3)S
12 I
3396(puts)S
12 R
3644(and)S
12 I
3855(cb)S
12 Y1
3969(3)S
12 I
4029(gets)S
12 R
4271(is)S
4389(the)S
4575(absence)S
4996(of)S
5135(an)S
1560 V
708(extra)S
(copy)234 996 A
1275(to)S
1414(a)S
1513(local)S
1793(buffer)S
2134(\(internally,)S
12 I
2714(cb)S
12 Y1
2828(3)S
12 I
2888(gets)S
12 R
3137(and)S
12 I
3355(cb)S
12 Y1
3469(3)S
12 I
3529(puts)S
12 R
3784(use)S
12 I
3989(cb)S
12 Y1
4103(3)S
12 I
4163(getp/cb)S
12 Y1
4519(3)S
12 I
(getpdone)442 4579 A
12 R
5075(and)S
1700 V
12 I
708(cb)S
12 Y1
822(3)S
12 I
882(putp/cb)S
12 Y1
1244(3)S
12 I
(putpdone)448 1304 A
12 R
1762(\).)S
1893(This)S
(entitles)351 2138 A
2519(the)S
2697(stubs)S
2975(to)S
3099(be)S
3243(called)S
3563(the)S
3741(optimized)S
4255(stubs.)S
1876 V
708(The)S
926(following)S
1427(example)S
1867(shows)S
2199(the)S
2377(use)S
2568(of)S
2699(normal)S
3072(stubs)S
3350(and)S
3554(the)S
3732(use)S
3923(of)S
4054(the)S
4232(optimized)S
4746(stubs:)S
2076 V
11 C
(char)268 1068 A
(buf[100];)603 1403 A
2236(/*)S
(Allocate)536 2437 A
3040(a)S
(transaction)737 3174 A
(buffer)402 3978 A
4447(*/)S
2216 V
(int)201 1068 A
(bs;)201 1336 A
2496 V
1068(/*)S
(Get)201 1269 A
(some)268 1537 A
(data)268 1872 A
2207(in)S
(buf)201 2408 A
2676(*/)S
2636 V
1068(bs)S
1269(=)S
(trans\(&some)737 1403 A
11 Y1
2140(3)S
11 C
(header,)469 2195 A
2731(0,)S
2932(0,)S
(&some)335 3133 A
11 Y1
3468(3)S
11 C
(header,)469 3523 A
(buf,)268 4059 A
(100\);)335 4394 A
2776 V
1068(if)S
(\(ERR)268 1269 A
11 Y1
1537(3)S
11 C
(STATUS\(bs\)\))737 1592 A
2396({)S
2916 V
(...)201 1269 A
(etc)201 1537 A
(...)201 1805 A
3056 V
1068(})S
3196 V
1068(/*)S
(Put)201 1269 A
1537(it)S
1738(in)S
(the)201 1939 A
(circular)536 2207 A
(buffer)402 2810 A
3279(*/)S
3336 V
1068(if)S
(\(cb)201 1269 A
11 Y1
1470(3)S
11 C
(puts\(some)603 1525 A
11 Y1
2128(3)S
11 C
(cb,)201 2183 A
(buf,)268 2451 A
(bs\))201 2786 A
3054(!=)S
3255(0\))S
3456({)S
3476 V
(...)201 1269 A
(etc)201 1537 A
(...)201 1805 A
3676 V
12 R
708(Using)S
1027(the)S
1205(optimized)S
1719(stubs:)S
3876 V
11 C
(char)268 1068 A
(*buf;)335 1403 A
4016 V
(int)201 1068 A
(bs,)201 1336 A
(bs2;)268 1604 A
4296 V
1068(/*)S
(Get)201 1269 A
1537(a)S
(circular)536 1671 A
(buffer)402 2274 A
(data)268 2743 A
(pointer)469 3078 A
3614(*/)S
4436 V
1068(bs)S
1269(=)S
1403(cb)S
11 Y1
1537(3)S
11 C
(putp\(some)603 1592 A
11 Y1
2195(3)S
11 C
(cb,)201 2250 A
(&buf,)335 2518 A
(1\);)201 2920 A
4576 V
1068(/*)S
(Get)201 1269 A
(some)268 1537 A
(data)268 1872 A
2207(in)S
(the)201 2408 A
(circular)536 2676 A
(buffer)402 3279 A
3748(*/)S
4716 V
(bs2)201 1068 A
1336(=)S
(trans\(&some)737 1470 A
11 Y1
2207(3)S
11 C
(header,)469 2262 A
2798(0,)S
2999(0,)S
(&some)335 3200 A
11 Y1
3535(3)S
11 C
(header,)469 3590 A
(buf,)268 4126 A
(bs\);)268 4461 A
4856 V
1068(if)S
(\(ERR)268 1269 A
11 Y1
1537(3)S
11 C
(STATUS\(bs2\)\))804 1592 A
2463({)S
4996 V
(...)201 1269 A
(etc)201 1537 A
(...)201 1805 A
5136 V
1068(})S
5276 V
1068(/*)S
(Mark)268 1269 A
(the)201 1604 A
(data)268 1872 A
(copied)402 2207 A
2676(*/)S
5416 V
1068(cb)S
11 Y1
1202(3)S
11 C
(putpdone\(some)871 1257 A
11 Y1
2128(3)S
11 C
(cb,)201 2183 A
(bs2\);)335 2451 A
5616 V
12 R
708(In)S
839(the)S
1017(latter)S
1298(case,)S
12 I
1567(rpc)S
12 R
1738(\(L\))S
1924(stores)S
2237(the)S
(received)411 2415 A
2856(data)S
3088(directly)S
3489(in)S
3613(the)S
3791(circular)S
4193(buffer.)S
5932 V
12 I
708(Functions)S
6284 V
708(cb)S
12 Y1
822(3)S
12 I
882(alloc)S
6520 V
11 C
(struct)402 1068 A
(circbuf)469 1537 A
2073(*)S
6660 V
1068(cb)S
11 Y1
1202(3)S
11 C
(alloc\(size\))737 1257 A
6800 V
(int)201 1068 A
(size;)335 1336 A
7000 V
12 I
708(Cb)S
12 Y1
848(3)S
12 I
908(alloc)S
12 R
1214(allocates)S
1693(a)S
1801(circular)S
2227(buffer)S
2578(of)S
12 I
2733(size)S
12 R
2979(bytes)S
3288(and)S
3516(returns)S
3908(a)S
4017(circular)S
4444(buffer)S
4796(reference)S
7140 V
708(pointer.)S
1141(If)S
1253(the)S
1431(memory)S
1864(could)S
2162(not)S
2346(be)S
2490(allocated)S
2958(it)S
3056(returns)S
3423(the)S
3601(NULL-pointer.)S
7700 V
(140)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 141 147
BP
/slant 0 def
/height 0 def
500 V
12 R
708(circbuf)S
1072(\(L\))S
2567(Library)S
2961(Routines)S
4729(circbuf)S
5093(\(L\))S
860 V
12 I
708(cb)S
12 Y1
822(3)S
12 I
882(close)S
1096 V
11 C
(void)268 1068 A
1236 V
1068(cb)S
11 Y1
1202(3)S
11 C
(close\(cb\))603 1257 A
1376 V
(struct)402 1068 A
(circbuf)469 1537 A
(*cb;)268 2073 A
1576 V
12 I
708(Cb)S
12 Y1
848(3)S
12 I
908(close)S
12 R
1199(closes)S
1527(a)S
1613(circular)S
2017(buffer.)S
12 I
2406(Cb)S
12 Y1
2546(3)S
12 I
2606(close)S
12 R
2897(does)S
3151(not)S
3338(flush)S
3613(the)S
3794(circular)S
4199(buffer.)S
4589(When)S
4910(closed,)S
1716 V
708(threads)S
1104(are)S
1299(no)S
(longer)309 1465 A
1820(allowed)S
2250(to)S
2390(write)S
2687(data)S
2935(to)S
3075(the)S
3269(circular)S
3687(buffer.)S
4089(The)S
4322(circular)S
4739(buffer)S
5081(can)S
1856 V
708(only)S
952(be)S
1096(emptied.)S
2172 V
12 I
708(cb)S
12 Y1
822(3)S
12 I
882(free)S
2408 V
11 C
(void)268 1068 A
2548 V
1068(cb)S
11 Y1
1202(3)S
11 C
(free\(cb\))536 1257 A
2688 V
(struct)402 1068 A
(circbuf)469 1537 A
(*cb;)268 2073 A
2888 V
12 I
708(Cb)S
12 Y1
848(3)S
12 I
908(free)S
12 R
1141(destroys)S
1578(the)S
1760(circular)S
2166(buffer.)S
2557(All)S
2747(data)S
2983(in)S
3111(the)S
3293(circular)S
3700(buffer)S
4032(is)S
4148(lost.)S
12 I
4418(Cb)S
12 Y1
4558(3)S
12 I
4618(free)S
12 R
4852(may)S
5095(not)S
3028 V
708(be)S
870(called)S
1208(while)S
1526(threads)S
1924(are)S
(still)183 2121 A
2352(using)S
2661(the)S
2857(circular)S
3277(buffer;)S
3656(it)S
(will)190 3772 A
4010(cause)S
4327(threads)S
4725(to)S
4867(hang)S
5148(or)S
3168 V
708(crash.)S
3484 V
12 I
708(cb)S
12 Y1
822(3)S
12 I
882(putc,)S
1150(cb)S
12 Y1
1264(3)S
12 I
1324(puts)S
3720 V
11 C
(int)201 1068 A
3860 V
1068(cb)S
11 Y1
1202(3)S
11 C
(putc\(cb,)536 1257 A
1860(c\))S
4000 V
(struct)402 1068 A
(circbuf)469 1537 A
(*cb;)268 2073 A
4140 V
(int)201 1068 A
1336(c;)S
4420 V
(int)201 1068 A
1336(cb)S
11 Y1
1470(3)S
11 C
(puts\(cb,)536 1525 A
2128(s,)S
2329(n\))S
4560 V
(struct)402 1068 A
(circbuf)469 1537 A
(*cb;)268 2073 A
4700 V
(char)268 1068 A
(*s;)201 1403 A
4840 V
(int)201 1068 A
1336(n;)S
5040 V
12 I
708(Cb)S
12 Y1
848(3)S
12 I
908(putc)S
12 R
1160(and)S
12 I
1369(cb)S
12 Y1
1483(3)S
12 I
1543(puts)S
12 R
1789(write)S
2075(data)S
2312(to)S
2441(the)S
2624(circular)S
3031(buffer.)S
12 I
3423(Cb)S
12 Y1
3563(3)S
12 I
3623(putc)S
12 R
3876(writes)S
4209(the)S
4392(character)S
12 I
4873(c)S
12 R
4972(to)S
5101(the)S
5180 V
708(circular)S
1113(buffer.)S
12 I
1503(Cb)S
12 Y1
1643(3)S
12 I
1703(puts)S
12 R
1947(writes)S
12 I
2278(n)S
12 R
2381(characters)S
2907(from)S
3176(the)S
3357(character)S
3836(array)S
12 I
4119(s)S
12 R
4209(to)S
4336(the)S
4517(circular)S
4922(buffer.)S
5320 V
12 I
708(Cb)S
12 Y1
848(3)S
12 I
908(puts)S
12 R
1165(is)S
1293(not)S
1494(an)S
1655(atomic)S
2032(operation)S
2536(\(except)S
2940(when)S
(writing)351 3249 A
3647(one)S
3868(character\).)S
4462(Two)S
4731(concurrent)S
5460 V
12 I
708(cb)S
12 Y1
822(3)S
12 I
882(puts)S
12 R
1151(calls)S
1432(to)S
1584(the)S
1790(same)S
2096(circular)S
2525(buffer)S
2879(might)S
3218(result)S
3545(in)S
3696(mixed)S
4055(data.)S
4374(Use)S
12 I
4620(cb)S
12 Y1
4734(3)S
12 I
4794(putp)S
12 R
5075(and)S
5600 V
12 I
708(cb)S
12 Y1
822(3)S
12 I
(putpdone)448 882 A
12 R
1375(for)S
1552(atomic)S
1917(writes)S
2250(to)S
2380(circular)S
2788(buffers.)S
3228(It)S
3339(is)S
3456(possible,)S
3918(however,)S
4401(to)S
4531(make)S
4829(sure)S
5067(that)S
5740 V
12 I
708(cb)S
12 Y1
822(3)S
12 I
882(puts)S
12 R
1140(is)S
1268(atomic:)S
1679(if)S
1801(all)S
(accesses)411 1970 A
2428(to)S
2569(the)S
2764(buffer)S
3108(are)S
(through)375 3304 A
12 I
3726(cb)S
12 Y1
3840(3)S
12 I
3900(puts)S
12 R
4157(and)S
12 I
4377(cb)S
12 Y1
4491(3)S
12 I
4551(gets)S
12 R
4756(,)S
4832(all)S
5000(these)S
5880 V
(accesses)411 708 A
1152(put)S
1339(or)S
1473(get)S
1654(objects)S
2030(of)S
2164(the)S
2345(same)S
2627(size)S
2849(and)S
3056(the)S
3237(size)S
3459(of)S
3593(the)S
3774(circular)S
4179(buffer)S
4509(is)S
4623(a)S
(multiple)404 4710 A
5148(of)S
6020 V
708(this)S
913(size.)S
6196 V
12 I
708(Cb)S
12 Y1
848(3)S
12 I
908(putc)S
12 R
1160(returns)S
12 Y
1531(-)S
12 R
1597(1)S
1691(when)S
1987(the)S
2169(circular)S
2575(buffer)S
2906(is)S
3021(closed,)S
3394(zero)S
(upon)240 3637 A
(successful)498 3912 A
4445(writes.)S
12 I
4838(Cb)S
12 Y1
4978(3)S
12 I
5038(puts)S
6336 V
12 R
708(returns)S
1077(0)S
1169(on)S
(success,)393 1320 A
12 Y
1744(-)S
12 R
1810(1)S
1901(when)S
2194(the)S
2373(circular)S
2776(buffer)S
3104(is)S
3216(closed.)S
3616(Note)S
3883(that)S
12 I
4096(cb)S
12 Y1
4210(3)S
12 I
4270(puts)S
12 R
(will)190 4512 A
4733(also)S
4959(return)S
6476 V
12 Y
708(-)S
12 R
774(1)S
864(if)S
969(the)S
1147(buffer)S
1474(is)S
1585(closed)S
1924(during)S
2269(the)S
12 I
2447(cb)S
12 Y1
2561(3)S
12 I
2621(puts)S
12 R
2862(call,)S
3098(so)S
3235(some)S
3520(bytes)S
3805(may)S
4043(have)S
4301(been)S
(written.)375 4559 A
7700 V
2683(Amoeba)S
3123(5.3)S
(141)180 5069 A
7920 V
EP
%%Page: 142 148
BP
/slant 0 def
/height 0 def
500 V
12 R
708(circbuf)S
1072(\(L\))S
2567(Library)S
2961(Routines)S
4729(circbuf)S
5093(\(L\))S
860 V
12 I
708(cb)S
12 Y1
822(3)S
12 I
882(getc,)S
1144(cb)S
12 Y1
1258(3)S
12 I
1318(trygetc)S
1096 V
11 C
(int)201 1068 A
1236 V
1068(cb)S
11 Y1
1202(3)S
11 C
(getc\(cb\))536 1257 A
1376 V
(struct)402 1068 A
(circbuf)469 1537 A
(*cb;)268 2073 A
1656 V
(int)201 1068 A
1796 V
1068(cb)S
11 Y1
1202(3)S
11 C
(trygetc\(cb,)737 1257 A
(maxtimeout\))737 2061 A
1936 V
(struct)402 1068 A
(circbuf)469 1537 A
(*cb;)268 2073 A
2076 V
(int)201 1068 A
(maxtimeout;)737 1336 A
2276 V
12 I
708(Cb)S
12 Y1
848(3)S
12 I
908(getc)S
12 R
1156(and)S
12 I
1366(cb)S
12 Y1
1480(3)S
12 I
1540(trygetc)S
12 R
1923(read)S
2168(a)S
2258(byte)S
2502(from)S
2774(the)S
2958(circular)S
3366(buffer.)S
3759(They)S
4043(both)S
4293(return)S
4619(the)S
4803(character)S
2416 V
708(read.)S
12 I
1018(Cb)S
12 Y1
1158(3)S
12 I
1218(trygetc)S
12 R
1606(completes)S
2138(when)S
2441(it)S
2550(has)S
2752(read)S
3002(a)S
3097(character)S
3583(or)S
3724(when)S
4026(no)S
4186(character)S
4672(has)S
4873(become)S
2556 V
708(available)S
1176(after)S
(waiting)364 1430 A
1824(for)S
12 I
1996(maxtimeout)S
12 R
(milliseconds.)642 2602 A
2732 V
12 I
708(Cb)S
12 Y1
848(3)S
12 I
908(getc)S
12 R
1154(and)S
12 I
1362(cb)S
12 Y1
1476(3)S
12 I
1536(trygetc)S
12 R
1917(return)S
12 Y
2241(-)S
12 R
2307(1)S
2401(if)S
2510(the)S
2692(circular)S
3098(buffer)S
3429(is)S
3544(closed)S
3887(and)S
4095(there)S
4372(are)S
4556(no)S
(input)248 4711 A
4994(bytes)S
2872 V
708(available.)S
12 I
1236(Cb)S
12 Y1
1376(3)S
12 I
1436(trygetc)S
12 R
1813(returns)S
2180(1)S
2270(when)S
2562(the)S
2740(timer)S
3027(has)S
3218(expired.)S
3048 V
708(Note:)S
1039(The)S
1289(routine)S
12 I
1694(cb)S
12 Y1
1808(3)S
12 I
1868(trygetc)S
12 R
2277(behaves)S
2728(on)S
2910(signals)S
3308(exactly)S
3720(as)S
12 I
3883(mu)S
12 Y1
4031(3)S
12 I
4091(trylock)S
12 R
4500(\(see)S
12 I
(signal)295 4758 A
12 R
5063(\(L\),)S
3188 V
12 I
708(mutex)S
12 R
1008(\(L\)\).)S
1300(If)S
1417(the)S
1600(thread)S
1938(doing)S
2246(circular)S
2652(buffer)S
2983(actions)S
3360(has)S
3555(defined)S
3952(a)S
4040(signal)S
4363(catcher,)S
4778(the)S
4960(signal)S
3328 V
(will)190 708 A
943(be)S
(caught.)352 1102 A
1529(Otherwise)S
2074(the)S
2267(signal)S
(will)190 2601 A
2836(be)S
(ignored.)399 2995 A
3469(On)S
3662(a)S
(caught)322 3761 A
4128(signal,)S
12 I
4492(cb)S
12 Y1
4606(3)S
12 I
4666(trygetc)S
12 R
(will)190 5059 A
3468 V
708(return)S
1051(a)S
12 Y
1157(-)S
12 R
1223(1)S
1335(value.)S
1709(When)S
12 I
2049(maxtimeout)S
12 R
2677(equals)S
12 Y
3038(-)S
12 R
3104(1,)S
12 I
3246(cb)S
12 Y1
3360(3)S
12 I
3420(trygetc)S
12 R
(will)190 3819 A
4061(be)S
4227(blocked)S
(until)222 4661 A
4935(a)S
5041(byte)S
3608 V
708(arrives.)S
1138(That)S
1399(is,)S
1549(there)S
1831(is)S
1951(no)S
2110(maximum)S
2639(timeout.)S
3109(In)S
3250(this)S
3465(case,)S
12 I
3744(cb)S
12 Y1
3858(3)S
12 I
3918(trygetc)S
12 R
4305(is)S
(still)183 4426 A
4649(interruptible)S
3748 V
708(by)S
858(a)S
942(signal.)S
4064 V
12 I
708(cb)S
12 Y1
822(3)S
12 I
882(gets)S
4300 V
11 C
(int)201 1068 A
4440 V
1068(cb)S
11 Y1
1202(3)S
11 C
(gets\(cb,)536 1257 A
1860(s,)S
(minlen,)469 2061 A
(maxlen\))469 2597 A
4580 V
(struct)402 1068 A
(circbuf)469 1537 A
(*cb;)268 2073 A
4720 V
(char)268 1068 A
(*s;)201 1403 A
4860 V
(int)201 1068 A
(minlen,)469 1336 A
(maxlen;)469 1872 A
5060 V
12 I
708(Cb)S
12 Y1
848(3)S
12 I
908(gets)S
12 R
1161(reads)S
1465(at)S
1601(least)S
12 I
1872(minlen)S
12 R
2260(and)S
2482(at)S
2618(most)S
12 I
2902(maxlen)S
12 R
3311(bytes)S
3615(from)S
3900(the)S
4097(circular)S
4518(buffer)S
4864(into)S
5101(the)S
5200 V
708(character)S
1201(array)S
12 I
1498(s.)S
1632(Cb)S
12 Y1
1772(3)S
12 I
1832(gets)S
12 R
(will)190 2084 A
2321(block)S
2636(when)S
2945(the)S
3140(number)S
3556(of)S
3704(bytes)S
4006(available)S
4491(is)S
4619(less)S
4847(than)S
5101(the)S
5340 V
708(minimum)S
1208(requested)S
1702(\(available)S
2211(<)S
2309(minlen\).)S
12 I
2776(Cb)S
12 Y1
2916(3)S
12 I
2976(gets)S
12 R
3211(returns)S
3578(the)S
3756(number)S
4155(of)S
4286(bytes)S
4571(read.)S
5516 V
12 I
708(Cb)S
12 Y1
848(3)S
12 I
908(gets)S
12 R
1143(returns)S
1510(zero)S
1749(when)S
2041(the)S
2219(circular)S
2621(buffer)S
2948(is)S
3059(closed.)S
5832 V
12 I
708(cb)S
12 Y1
822(3)S
12 I
882(putp,)S
1156(cb)S
12 Y1
1270(3)S
12 I
(putpdone)448 1330 A
6068 V
11 C
(int)201 1068 A
6208 V
1068(cb)S
11 Y1
1202(3)S
11 C
(putp\(cb,)536 1257 A
(ps,)201 1860 A
(blocking\))603 2128 A
6348 V
(struct)402 1068 A
(circbuf)469 1537 A
(*cb;)268 2073 A
6488 V
(char)268 1068 A
(**ps;)335 1403 A
6628 V
(int)201 1068 A
(blocking;)603 1336 A
7700 V
12 R
(142)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 143 149
BP
/slant 0 def
/height 0 def
500 V
12 R
708(circbuf)S
1072(\(L\))S
2567(Library)S
2961(Routines)S
4729(circbuf)S
5093(\(L\))S
920 V
11 C
(void)268 1068 A
1060 V
1068(cb)S
11 Y1
1202(3)S
11 C
(putpdone\(cb,)804 1257 A
(len\))268 2128 A
1200 V
(struct)402 1068 A
(circbuf)469 1537 A
(*cb;)268 2073 A
1340 V
(int)201 1068 A
(len;)268 1336 A
1540 V
12 I
708(Cb)S
12 Y1
848(3)S
12 I
908(putp)S
12 R
1187(returns)S
1579(in)S
12 I
1728(*ps)S
12 R
1960(a)S
2069(pointer)S
2467(to)S
2616(the)S
2819(available)S
3312(free)S
3557(bytes)S
3867(in)S
4016(the)S
4220(circular)S
4648(buffer.)S
5061(The)S
1680 V
708(number)S
1127(of)S
1278(available)S
1766(free)S
2006(bytes)S
2311(is)S
2442(passed)S
2814(back)S
3092(as)S
3243(the)S
3441(function)S
3894(value.)S
4266(Data)S
4546(can)S
4764(be)S
4927(copied)S
1820 V
708(directly)S
1109(into)S
1327(the)S
1505(circular)S
1907(buffer)S
2234(by)S
(copying)388 2384 A
2802(it)S
2900(to)S
12 I
3024(*ps)S
12 R
3201(.)S
1996 V
708(When)S
12 I
1039(blocking)S
12 R
1508(is)S
1632(zero,)S
12 I
1914(cb)S
12 Y1
2028(3)S
12 I
2088(putp)S
12 R
2355(does)S
2619(not)S
2816(block.)S
3187(It)S
3305(returns)S
3685(the)S
3876(number)S
4288(of)S
4432(free)S
4665(bytes)S
4963(in)S
5101(the)S
2136 V
708(circular)S
1114(buffer)S
1445(\(including)S
1976(zero\).)S
2320(When)S
12 I
2642(blocking)S
12 R
3102(is)S
3217(negative,)S
12 I
3691(cb)S
12 Y1
3805(3)S
12 I
3865(putp)S
12 R
4123(waits)S
4413(for)S
4588(available)S
5059(free)S
2276 V
708(bytes,)S
1026(but)S
1213(is)S
1328(interruptible)S
1962(by)S
2116(a)S
2204(signal)S
2527(\(see)S
12 I
2757(cb)S
12 Y1
2871(3)S
12 I
2931(trygetc)S
12 R
3278(\).)S
3413(When)S
3735(signaled)S
4172(and)S
4380(there)S
4657(are)S
4840(no)S
4994(bytes)S
2416 V
708(available,)S
12 I
1213(cb)S
12 Y1
1327(3)S
12 I
1387(putp)S
12 R
1648(returns)S
2022(zero.)S
2328(When)S
12 I
2652(blocking)S
12 R
3114(is)S
(positive,)413 3231 A
12 I
3680(cb)S
12 Y1
3794(3)S
12 I
3854(putp)S
12 R
4114(waits)S
4407(for)S
4585(available)S
5059(free)S
2556 V
708(bytes)S
993(and)S
1197(is)S
1308(not)S
1492(interruptible)S
2122(by)S
2272(a)S
2356(signal.)S
2732 V
708(It)S
824(is)S
946(possible)S
12 I
1384(cb)S
12 Y1
1498(3)S
12 I
1558(putp)S
12 R
1824(returns)S
2203(less)S
2427(bytes)S
2724(than)S
2974(the)S
(amount)362 3164 A
3568(actually)S
3994(free)S
4226(when)S
4530(the)S
4720(free)S
4952(buffer)S
2872 V
(space)269 708 A
1012(crosses)S
1397(the)S
1580(circular)S
1987(buffer)S
(boundary)455 2319 A
2809(\(ie.)S
3003(the)S
3186(size)S
3410(of)S
3546(the)S
3729(circular)S
4136(buffer)S
4467(equals)S
4810(10)S
4964(bytes,)S
3012 V
708(bytes)S
993(4)S
1083(and)S
1287(5)S
1377(are)S
1556(in)S
1680(use,)S
12 I
1901(cb)S
12 Y1
2015(3)S
12 I
2075(putp)S
12 R
(will)190 2329 A
2549(return)S
2869(5)S
2959(instead)S
3332(of)S
3463(8\).)S
3188 V
708(A)S
12 I
828(cb)S
12 Y1
942(3)S
12 I
1002(putp)S
12 R
1258(call)S
1466(that)S
1680(returned)S
2116(a)S
2202(value)S
2496(larger)S
2812(than)S
3052(zero)S
3293(must)S
3560(be)S
3706(followed)S
4169(by)S
4321(a)S
12 I
4408(cb)S
12 Y1
4522(3)S
12 I
(putpdone)448 4582 A
12 R
5073(call)S
3328 V
708(informing)S
1222(how)S
1460(many)S
1758(bytes)S
2043(are)S
2222(used)S
2473(up)S
2623(in)S
2747(the)S
2925(circular)S
3327(buffer)S
3654(\()S
12 I
3695(len)S
12 R
3873(bytes\).)S
3644 V
12 I
(Diagnostics)578 708 A
3820 V
708(cb)S
12 Y1
822(3)S
12 I
882(putp)S
12 R
1146(returns)S
12 Y
1523(-)S
12 R
1589(1)S
1690(on)S
1851(closed)S
2201(circular)S
2614(buffers,)S
3029(otherwise)S
3542(it)S
3651(returns)S
4029(the)S
(amount)362 4218 A
4621(of)S
4763(free)S
4994(bytes)S
3960 V
708(available.)S
12 I
1236(Cb)S
12 Y1
1376(3)S
12 I
(putpdone)448 1436 A
12 R
1924(returns)S
2291(no)S
2441(status.)S
4136 V
708(Note:)S
1010(A)S
1131(sequence)S
12 I
1607(cb)S
12 Y1
1721(3)S
12 I
1781(putp\(\))S
12 R-1
2120(-)S
12 R
2221(``store)S
2572(data'')S
12 R-1
2889(-)S
12 I
2990(cb)S
12 Y1
3104(3)S
12 I
3164(close\(\))S
12 R-1
3505(-)S
12 I
3606(cb)S
12 Y1
3720(3)S
12 I
(putpdone\(\))530 3780 A
12 R
4320(,)S
4383(is)S
4497(allowed)S
4914(but)S
5101(the)S
4276 V
708(stored)S
1034(data)S
1266(is)S
1377(flushed.)S
4592 V
12 I
708(cb)S
12 Y1
822(3)S
12 I
882(getp,)S
1150(cb)S
12 Y1
1264(3)S
12 I
(getpdone)442 1324 A
4828 V
11 C
(int)201 1068 A
4968 V
1068(cb)S
11 Y1
1202(3)S
11 C
(getp\(cb,)536 1257 A
(ps,)201 1860 A
(blocking\))603 2128 A
5108 V
(struct)402 1068 A
(circbuf)469 1537 A
(*cb;)268 2073 A
5248 V
(char)268 1068 A
(**ps;)335 1403 A
5388 V
(int)201 1068 A
(blocking;)603 1336 A
5668 V
(void)268 1068 A
5808 V
1068(cb)S
11 Y1
1202(3)S
11 C
(getpdone\(cb,)804 1257 A
(len\))268 2128 A
5948 V
(struct)402 1068 A
(circbuf)469 1537 A
(*cb;)268 2073 A
6088 V
(int)201 1068 A
(len;)268 1336 A
6288 V
12 I
708(Cb)S
12 Y1
848(3)S
12 I
908(getp)S
12 R
1190(and)S
12 I
1428(cb)S
12 Y1
1542(3)S
12 I
(getpdone)442 1602 A
12 R
2118(are)S
2331(the)S
2543(complement)S
3206(of)S
12 I
3372(cb)S
12 Y1
3486(3)S
12 I
3546(putp)S
12 R
3835(and)S
12 I
4074(cb)S
12 Y1
4188(3)S
12 I
(putpdone)448 4248 A
12 R
4706(.)S
12 I
4831(Cb)S
12 Y1
4971(3)S
12 I
5031(getp)S
6428 V
12 R
708(returns)S
1090(in)S
12 I
1228(*ps)S
12 R
1449(a)S
1547(pointer)S
1934(to)S
2072(the)S
2264(available)S
2746(data)S
2992(bytes.)S
3351(The)S
3583(number)S
3996(of)S
4141(available)S
4623(data)S
4869(bytes)S
5168(is)S
6568 V
708(passed)S
1071(back)S
1340(as)S
1482(function)S
1927(value.)S
2291(Data)S
2563(can)S
2773(be)S
2929(copied)S
3293(directly)S
3706(copied)S
4070(from)S
4348(the)S
4538(circular)S
4952(buffer)S
6708 V
708(via)S
12 I
886(*ps)S
12 R
1063(.)S
6884 V
708(When)S
12 I
1062(blocking)S
12 R
1554(is)S
1701(zero,)S
12 I
2006(cb)S
12 Y1
2120(3)S
12 I
2180(getp)S
12 R
2464(does)S
2751(not)S
2971(block.)S
3365(It)S
3506(returns)S
3909(the)S
4123(number)S
4558(of)S
4725(data)S
4994(bytes)S
7024 V
708(immediately)S
1381(available)S
1886(\(including)S
2450(zero\).)S
2827(When)S
12 I
3181(blocking)S
12 R
3673(is)S
3820(negative,)S
12 I
4326(cb)S
12 Y1
4440(3)S
12 I
4500(getp)S
12 R
4784(waits)S
5107(for)S
7164 V
708(available)S
1194(data)S
1444(bytes,)S
1778(but)S
1981(is)S
2111(interruptible)S
2760(by)S
2929(a)S
3032(signal)S
3370(\(see)S
12 I
3615(cb)S
12 Y1
3729(3)S
12 I
3789(trygetc)S
12 R
4136(\).)S
4286(When)S
4623(signaled)S
5075(and)S
7304 V
708(there)S
996(are)S
1190(no)S
1355(data)S
1602(bytes,)S
12 I
1932(cb)S
12 Y1
2046(3)S
12 I
2106(getp)S
12 R
2369(returns)S
2751(a)S
2850(zero)S
3104(value.)S
3471(When)S
12 I
3804(blocking)S
12 R
4275(is)S
(positive,)413 4400 A
12 I
4857(cb)S
12 Y1
4971(3)S
12 I
5031(getp)S
7700 V
12 R
2683(Amoeba)S
3123(5.3)S
(143)180 5069 A
7920 V
EP
%%Page: 144 150
BP
/slant 0 def
/height 0 def
500 V
12 R
708(circbuf)S
1072(\(L\))S
2567(Library)S
2961(Routines)S
4729(circbuf)S
5093(\(L\))S
860 V
708(waits)S
995(for)S
1167(available)S
1635(data)S
1867(bytes)S
2152(and)S
2356(is)S
2467(not)S
2651(interruptible.)S
1036 V
708(It)S
817(is)S
932(possible)S
1362(that)S
12 I
1578(cb)S
12 Y1
1692(3)S
12 I
1752(getp)S
12 R
2004(returns)S
2375(less)S
2591(data)S
2827(bytes)S
3116(than)S
3359(actually)S
3778(available,)S
4281(in)S
4410(this)S
4620(case)S
4864(the)S
5047(data)S
1176 V
(space)269 708 A
1007(crosses)S
1387(the)S
1565(circular)S
1967(buffer)S
(boundary)455 2294 A
2779(\(see)S
12 I
3005(cb)S
12 Y1
3119(3)S
12 I
3179(putp)S
12 R
3403(\).)S
1352 V
708(A)S
12 I
827(cb)S
12 Y1
941(3)S
12 I
1001(getp)S
12 R
1250(call)S
1457(that)S
1670(returned)S
2105(a)S
2190(value)S
2483(larger)S
2798(than)S
3037(zero)S
3277(must)S
3543(be)S
3688(followed)S
4150(by)S
4301(a)S
12 I
4386(cb)S
12 Y1
4500(3)S
12 I
(getpdone)442 4560 A
12 R
5043(call,)S
1492 V
708(informing)S
1222(the)S
1400(number)S
1799(of)S
1930(bytes)S
2215(used)S
2466(up)S
2616(\()S
12 I
2657(len)S
12 R
2835(bytes\).)S
1668 V
12 I
708(Cb)S
12 Y1
848(3)S
12 I
908(getp)S
12 R
1182(returns)S
1575(the)S
1779(number)S
2204(of)S
2361(available)S
2855(data)S
3113(bytes)S
3424(\(zero)S
3730(when)S
4048(no)S
4224(bytes)S
4535(are)S
4740(available\).)S
1808 V
12 I
708(Cb)S
12 Y1
848(3)S
12 I
(getpdone)442 908 A
12 R
1390(returns)S
1757(no)S
1907(status.)S
2124 V
12 I
708(cb)S
12 Y1
822(3)S
12 I
882(full,)S
1104(cb)S
12 Y1
1218(3)S
12 I
1278(empty)S
2360 V
11 C
(int)201 1068 A
2500 V
1068(cb)S
11 Y1
1202(3)S
11 C
(full\(cb\))536 1257 A
2640 V
(struct)402 1068 A
(circbuf)469 1537 A
(*cb;)268 2073 A
2920 V
(int)201 1068 A
3060 V
1068(cb)S
11 Y1
1202(3)S
11 C
(empty\(cb\))603 1257 A
3200 V
(struct)402 1068 A
(circbuf)469 1537 A
(*cb;)268 2073 A
3400 V
12 I
708(Cb)S
12 Y1
848(3)S
12 I
908(full)S
12 R
1112(returns)S
1481(the)S
1661(number)S
2062(of)S
2195(available)S
2666(data)S
2901(bytes)S
3189(in)S
3316(a)S
3403(circular)S
3808(buffer.)S
12 I
4198(Cb)S
12 Y1
4338(3)S
12 I
4398(empty)S
12 R
4731(returns)S
5101(the)S
3540 V
708(number)S
1107(of)S
1238(available)S
1706(free)S
1926(bytes)S
2211(in)S
2335(a)S
2419(circular)S
2821(buffer.)S
3716 V
12 I
708(Cb)S
12 Y1
848(3)S
12 I
908(full)S
12 R
1115(returns)S
1487(a)S
12 Y
1576(-)S
12 R
1642(1)S
1737(when)S
2035(there)S
2314(are)S
2499(no)S
2655(available)S
3129(data)S
3367(bytes)S
3658(and)S
3868(the)S
4052(circular)S
4460(buffer)S
4793(is)S
4910(closed.)S
3856 V
12 I
708(Cb)S
12 Y1
848(3)S
12 I
908(empty)S
12 R
1238(returns)S
12 Y
1605(-)S
12 R
1671(1)S
1761(when)S
2053(the)S
2231(circular)S
2633(buffer)S
2960(is)S
3071(closed.)S
4172 V
12 I
708(cb)S
12 Y1
822(3)S
12 I
882(setsema)S
4408 V
11 C
(void)268 1068 A
4548 V
1068(cb)S
11 Y1
1202(3)S
11 C
(setsema\(cb,)737 1257 A
(sema\))335 2061 A
4688 V
(struct)402 1068 A
(circbuf)469 1537 A
(*cb;)268 2073 A
4828 V
(semaphore)603 1068 A
(*sema;)402 1738 A
5028 V
12 I
708(Cb)S
12 Y1
848(3)S
12 I
908(setsema)S
12 R
1358(attaches)S
1805(an)S
1975(external)S
(semaphore)524 2422 A
3002(to)S
3152(a)S
3262(circular)S
3690(buffer.)S
4103(Each)S
4401(time)S
4673(a)S
4783(data)S
5041(byte)S
5168 V
708(arrives,)S
1111(the)S
(semaphore)524 1301 A
12 I
1867(sema)S
12 R
2168(is)S
12 I
(upped)294 2291 A
12 R
2637(by)S
12 I
2799(sema)S
12 Y1
3048(3)S
12 I
3108(up)S
12 R
3280(\(see)S
12 I
(semaphore)530 3518 A
12 R
4058(\(L\)\).)S
4357(When)S
4687(the)S
4877(circular)S
5308 V
708(buffer)S
1038(is)S
1152(closed,)S
1524(the)S
(semaphore)524 1705 A
2263(is)S
12 I
(upped)294 2378 A
12 R
2716(as)S
2851(well.)S
3155(The)S
(semaphore)524 3377 A
3935(is)S
(initialized)486 4050 A
4570(to)S
4698(the)S
4880(number)S
5448 V
708(of)S
839(available)S
1307(data)S
1539(bytes.)S
5728 V
12 B
708(Example)S
5904 V
12 R
708(The)S
956(following)S
1487(demonstrates)S
2186(the)S
(fundamentals)652 2394 A
3106(of)S
3267(using)S
3589(the)S
3798(circular)S
4231(buffer)S
4589(routines)S
5040(in)S
5195(a)S
6044 V
(multi-threaded)714 708 A
1452(environment.)S
7700 V
(144)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 145 151
BP
/slant 0 def
/height 0 def
500 V
12 R
708(circbuf)S
1072(\(L\))S
2567(Library)S
2961(Routines)S
4729(circbuf)S
5093(\(L\))S
920 V
11 C
(static)402 1068 A
(circbuf)469 1537 A
(*cb;)268 2073 A
1200 V
(main\(argc,)670 1068 A
(argv\))335 1805 A
1340 V
(char)268 1068 A
(**argv;)469 1403 A
1480 V
1068({)S
1620 V
(int)201 1269 A
(num)201 1537 A
11 Y1
1738(3)S
11 C
(bytes,)402 1793 A
2262(n;)S
1760 V
(char)268 1269 A
(s[10];)402 1604 A
2040 V
1269(/*)S
(Create)402 1470 A
(the)201 1939 A
(circular)536 2207 A
(buffer)402 2810 A
3279(*/)S
2180 V
1269(cb)S
1470(=)S
1604(cb)S
11 Y1
1738(3)S
11 C
(alloc\(20\);)670 1793 A
2320 V
1269(if)S
(\(cb)201 1470 A
1738(==)S
1939(0\))S
2140({)S
2460 V
(fprintf\(stderr,)1005 1470 A
2600 V
("%s:)268 2121 A
(Cannot)402 2456 A
(allocate)536 2925 A
(circular)536 3528 A
(buffer.\\n",)737 4131 A
2740 V
(argv[0]\);)603 2073 A
2880 V
(exit\(1\);)536 1470 A
3020 V
1269(})S
3300 V
1269(/*)S
(Spawn)335 1470 A
1872(NR)S
11 Y1
2006(3)S
11 C
(THREADS)469 2061 A
(threads)469 2597 A
(which)335 3133 A
(write)335 3535 A
3937(to)S
(the)201 4138 A
(circular)536 4406 A
3440 V
(buffer)402 1470 A
3580 V
1269(*/)S
3720 V
(for)201 1269 A
1537(\(n)S
1738(=)S
1872(0;)S
2073(n)S
2207(!=)S
2408(NR)S
11 Y1
2542(3)S
11 C
(THREADS;)536 2597 A
(n++\))268 3200 A
3860 V
1470(if)S
(\(thread)469 1671 A
11 Y1
2140(3)S
11 C
(newthread\(thread,)1139 2195 A
(STACK)335 3401 A
11 Y1
3736(3)S
11 C
(SIZE,)335 3791 A
4193(0,)S
4394(0\))S
4595(==)S
4796(0\))S
4997({)S
4000 V
(fprintf\(stderr,)1005 1719 A
("Cannot)469 2791 A
(spawn)335 3327 A
(threads.0\);)737 3729 A
4140 V
(exit\(1\);)536 1719 A
4280 V
1470(})S
4540 V
1269(/*)S
(while)335 1470 A
(the)201 1872 A
(circular)536 2140 A
(buffer)402 2743 A
3212(is)S
(not)201 3413 A
(closed)402 3681 A
4150(*/)S
4680 V
(while)335 1269 A
(\(cb)201 1671 A
11 Y1
1872(3)S
11 C
(empty\(cb\))603 1927 A
2597(!=)S
(-1\))201 2798 A
3066({)S
4820 V
1470(/*)S
(get)201 1671 A
1939(a)S
(string)402 2073 A
(from)268 2542 A
(the)201 2877 A
(circular)536 3145 A
(buffer,)469 3748 A
(min)201 4284 A
(size)268 4552 A
4887(5,)S
4960 V
(max)201 1719 A
(size)268 1987 A
2322(10)S
5100 V
1470(*/)S
5240 V
(num)201 1470 A
11 Y1
1671(3)S
11 C
(bytes)335 1726 A
2128(=)S
2262(cb)S
11 Y1
2396(3)S
11 C
(gets\(cb,)536 2451 A
3054(s,)S
3255(5,)S
(10\);)268 3456 A
5380 V
1470(do)S
11 Y1
1604(3)S
11 C
(something\(s,)804 1659 A
(num)201 2530 A
11 Y1
2731(3)S
11 C
(bytes\);)469 2786 A
5520 V
1269(})S
5660 V
1269(/*)S
(The)201 1470 A
(circular)536 1738 A
(buffer)402 2341 A
2810(is)S
(closed,)469 3011 A
(remove)402 3547 A
4016(it)S
4217(*/)S
5800 V
1269(cb)S
11 Y1
1403(3)S
11 C
(free\(cb\);)603 1458 A
5940 V
1068(})S
7700 V
12 R
2683(Amoeba)S
3123(5.3)S
(145)180 5069 A
7920 V
EP
%%Page: 146 152
BP
/slant 0 def
/height 0 def
500 V
12 R
708(circbuf)S
1072(\(L\))S
2567(Library)S
2961(Routines)S
4729(circbuf)S
5093(\(L\))S
920 V
11 C
(thread\(\))536 1068 A
1060 V
1068({)S
1200 V
(char)268 1269 A
(s[10];)402 1604 A
1340 V
(int)201 1269 A
(size;)335 1537 A
1620 V
1269(/*)S
(Get)201 1470 A
(some)268 1738 A
(data)268 2073 A
2408(*/)S
1760 V
(while)335 1269 A
(\(size)335 1671 A
2073(=)S
(buf)201 2207 A
11 Y1
2408(3)S
11 C
(get)201 2463 A
11 Y1
2664(3)S
11 C
(string\(s,)603 2719 A
(10\)\))268 3389 A
1900 V
1470(/*)S
(Write)335 1671 A
(the)201 2073 A
(data)268 2341 A
2676(to)S
(the)201 2877 A
(circular)536 3145 A
(buffer)402 3748 A
4217(*/)S
2040 V
1470(if)S
(\(cb)201 1671 A
11 Y1
1872(3)S
11 C
(puts\(cb,)536 1927 A
2530(s,)S
(size\))335 2731 A
3133(!=)S
3334(0\))S
2180 V
(break;)402 1671 A
2460 V
1269(/*)S
(Once)268 1470 A
(all)201 1805 A
2073(is)S
(written,)536 2274 A
(close)335 2877 A
(the)201 3279 A
(circular)536 3547 A
(buffer)402 4150 A
4619(*/)S
2600 V
1269(cb)S
11 Y1
1403(3)S
11 C
(close\(cb\);)670 1458 A
2880 V
1269(/*)S
(stop)268 1470 A
(thread)402 1805 A
2274(*/)S
3020 V
(thread)402 1269 A
11 Y1
1671(3)S
11 C
(exit\(\);)469 1726 A
3160 V
1068(})S
3500 V
12 B
708(See)S
913(Also)S
3676 V
12 R
708(rpc\(L\),)S
(semaphore\(L\),)710 1079 A
1819(thread\(L\).)S
7700 V
(146)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 147 153
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ctime)S
998(\(L\))S
2567(Library)S
2961(Routines)S
4803(ctime)S
5093(\(L\))S
860 V
2392(\(in)S
2557(libraries:)S
3020(libamoeba\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(ctime)S
12 R-1
1008(-)S
12 R
(convert)363 1136 A
1529(date)S
1761(and)S
1965(time)S
2211(to)S
2335(ASCII)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(extern)402 708 A
(char)268 1177 A
(*tzname[2];)737 1512 A
2182 V
(void)268 708 A
(tzset\(\))469 1043 A
2462 V
(#include)536 708 A
(<sys/types.h>)871 1311 A
2742 V
(char)268 708 A
(*ctime\(clock\))871 1043 A
2882 V
(time)268 708 A
11 Y1
976(3)S
11 C
1031(t)S
(*clock;)469 1165 A
3162 V
(double)402 708 A
(difftime\(time1,)1005 1177 A
(time0\))402 2249 A
3302 V
(time)268 708 A
11 Y1
976(3)S
11 C
1031(t)S
(time1;)402 1165 A
3442 V
(time)268 708 A
11 Y1
976(3)S
11 C
1031(t)S
(time0;)402 1165 A
3722 V
(#include)536 708 A
(<time.h>)536 1311 A
4002 V
(char)268 708 A
(*asctime\(tm\))804 1043 A
4142 V
(struct)402 708 A
1177(tm)S
(*tm;)268 1378 A
4422 V
(struct)402 708 A
1177(tm)S
(*localtime\(clock\))1139 1378 A
4562 V
(long)268 708 A
(*clock;)469 1043 A
4842 V
(struct)402 708 A
1177(tm)S
(*gmtime\(clock\))938 1378 A
4982 V
(long)268 708 A
(*clock;)469 1043 A
5262 V
(time)268 708 A
11 Y1
976(3)S
11 C
1031(t)S
(mktime\(tm\))670 1165 A
5402 V
(struct)402 708 A
1177(tm)S
(*tm;)268 1378 A
5742 V
12 B
708(Description)S
5918 V
12 I
708(Tzset)S
12 R
1002(uses)S
1245(the)S
1428(value)S
1725(of)S
1861(the)S
2045(environment)S
2692(variable)S
12 C
3119(TZ)S
12 R
3301(to)S
3431(set)S
3602(time)S
(conversion)530 3854 A
4420(information)S
5028(used)S
6058 V
708(by)S
12 I
(localtime)452 865 A
12 R
1327(.)S
1424(If)S
12 C
1543(TZ)S
12 R
1726(does)S
1984(not)S
2175(appear)S
2534(in)S
2664(the)S
2848(environment,)S
3525(the)S
3709(best)S
3940(available)S
4414(approximation)S
5155(to)S
6198 V
708(local)S
996(wall)S
1258(clock)S
1572(time,)S
1871(as)S
2025(specified)S
2516(by)S
2689(the)S
12 I
(tzfile)237 2890 A
12 R
3137(-format)S
3555(\(see)S
12 I
3804(zic)S
12 R
3949(\(A\)\))S
4213(file)S
12 B
4429(localtime)S
12 R
4954(in)S
5101(the)S
6338 V
708(system)S
1093(time)S
(conversion)530 1358 A
1937(information)S
2558(directory,)S
3075(is)S
3205(used)S
3475(by)S
12 I
(localtime)452 3644 A
12 R
4106(.)S
4215(If)S
12 C
4346(TZ)S
12 R
4541(appears)S
4959(in)S
5101(the)S
6478 V
708(environment)S
1372(but)S
1579(its)S
1747(value)S
2062(is)S
2196(a)S
2303(NULL-string,)S
3028(Coordinated)S
3679(Universal)S
4205(Time)S
4515(\(UTC\))S
4893(is)S
5028(used)S
6618 V
(\(without)411 708 A
1167(leap)S
(second)335 1417 A
1800(correction\).)S
2441(If)S
12 C
2570(TZ)S
12 R
2763(appears)S
3180(in)S
3321(the)S
3516(environment)S
4174(and)S
4395(its)S
4557(value)S
4866(is)S
4994(not)S
5195(a)S
6758 V
708(NULL-string:)S
6934 V
958(if)S
1071(the)S
1257(value)S
1557(begins)S
1910(with)S
2164(a)S
2257(colon,)S
2594(it)S
2701(is)S
2821(used)S
3081(as)S
3221(a)S
3314(path)S
3561(name)S
3862(of)S
4002(a)S
4095(file)S
4297(from)S
4572(which)S
4907(to)S
5040(read)S
7074 V
958(the)S
1136(time)S
(conversion)530 1382 A
1942(information;)S
7250 V
958(if)S
1070(the)S
1255(value)S
1554(does)S
1812(not)S
2003(begin)S
2309(with)S
2563(a)S
2655(colon,)S
2991(it)S
3097(is)S
3216(first)S
3451(used)S
3710(as)S
3849(the)S
4035(path)S
4281(name)S
4581(of)S
4720(a)S
4812(file)S
5013(from)S
7700 V
2683(Amoeba)S
3123(5.3)S
(147)180 5069 A
7920 V
EP
%%Page: 148 154
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ctime)S
998(\(L\))S
2567(Library)S
2961(Routines)S
4803(ctime)S
5093(\(L\))S
860 V
958(which)S
1294(to)S
1428(read)S
1677(the)S
1865(time)S
(conversion)530 2121 A
2691(information,)S
3333(and,)S
3577(if)S
3692(that)S
3914(file)S
(cannot)322 4116 A
4477(be)S
4630(read,)S
4908(is)S
5028(used)S
1000 V
958(directly)S
1359(as)S
1490(a)S
1574(specification)S
2224(of)S
2355(the)S
2533(time)S
(conversion)530 2779 A
3339(information.)S
1176 V
708(When)S
12 C
1027(TZ)S
12 R
1204(is)S
1316(used)S
1568(as)S
1700(a)S
1785(path)S
2024(name,)S
2347(if)S
2453(it)S
2552(begins)S
2898(with)S
3145(a)S
3230(slash,)S
3533(it)S
3633(is)S
3746(used)S
3999(as)S
4132(an)S
4278(absolute)S
4713(path)S
4953(name;)S
1316 V
708(otherwise,)S
1273(it)S
1404(is)S
1548(used)S
1832(as)S
1996(a)S
2113(path)S
2384(name)S
2709(relative)S
3137(to)S
3293(a)S
3409(system)S
3807(time)S
(conversion)530 4085 A
4677(information)S
1456 V
708(directory.)S
1236(The)S
1454(file)S
1647(must)S
1912(be)S
2056(in)S
2180(the)S
2358(format)S
2712(specified)S
3180(in)S
12 I
3304(zic)S
12 R
3449(\(A\).)S
1632 V
708(When)S
12 C
1031(TZ)S
12 R
1212(is)S
1328(used)S
1584(directly)S
1990(as)S
2126(a)S
2215(specification)S
2870(of)S
3006(the)S
3190(time)S
(conversion)530 3442 A
4008(information,)S
4646(it)S
4750(must)S
5021(have)S
1772 V
708(the)S
886(following)S
1387(syntax)S
(\(spaces)357 1732 A
2119(inserted)S
2533(for)S
2705(clarity\):)S
1948 V
12 I
958(std)S
1119(offset)S
12 R
1382([)S
12 I
1423(dst)S
12 R
1564([)S
12 I
1605(offset)S
12 R
1868(][)S
12 B
1950(,)S
12 I
1980(rule)S
12 R
2175(]])S
2124 V
708(Where:)S
2300 V
12 I
958(std)S
(and)180 1134 A
1350(dst)S
12 R
1869(Three)S
2188(or)S
2325(more)S
2610(bytes)S
2901(that)S
3119(are)S
3304(the)S
3488(designation)S
4081(for)S
4259(the)S
4443(standard)S
4889(\()S
12 I
4930(std)S
12 R
5071(\))S
5148(or)S
2440 V
1858(summer)S
2289(\()S
12 I
2330(dst)S
12 R
2471(\))S
2552(timezone.)S
3096(Only)S
12 I
3378(std)S
12 R
3569(is)S
3690(required;)S
4168(if)S
12 I
4283(dst)S
12 R
4474(is)S
4595(missing,)S
5041(then)S
2580 V
1858(summer)S
2299(time)S
2567(does)S
2840(not)S
3046(apply)S
3366(in)S
3512(this)S
3739(locale.)S
4141(Upper-)S
4537(and)S
4763(lowercase)S
2720 V
1858(letters)S
2195(are)S
(explicitly)458 2383 A
2880(allowed.)S
3363(Any)S
3610(characters)S
4141(except)S
4495(a)S
4587(leading)S
4981(colon)S
2860 V
1858(digits,)S
2187(comma)S
2573(minus)S
2898(plus)S
3129(and)S
3333(ASCII)S
3680(NUL)S
3960(are)S
4139(allowed.)S
3036 V
12 I
958(offset)S
12 R
1858(Indicates)S
2362(the)S
2576(value)S
2904(one)S
3144(must)S
3446(add)S
3687(to)S
3848(the)S
4063(local)S
4366(time)S
4649(to)S
4810(arrive)S
5161(at)S
3176 V
1858(Coordinated)S
2485(Universal)S
2987(Time.)S
3333(The)S
12 I
3551(offset)S
12 R
3854(has)S
4045(the)S
4223(form:)S
3352 V
12 I
2108(hh)S
12 R
2228([)S
12 B
2269(:)S
12 I
2310(mm)S
12 R
2486([)S
12 B
2527(:)S
12 I
2568(ss)S
12 R
2662(]])S
3528 V
1858(The)S
2094(minutes)S
2525(\()S
12 I
2566(mm)S
12 R
2742(\))S
2831(and)S
(seconds)382 3053 A
3483(\()S
12 I
3524(ss)S
12 R
3618(\))S
3707(are)S
3905(optional.)S
4410(The)S
(hour)221 4647 A
4917(\()S
12 I
4958(hh)S
12 R
5078(\))S
5168(is)S
3668 V
1858(required)S
2326(and)S
2564(may)S
2836(be)S
3014(a)S
3132(single)S
3485(digit.)S
3831(The)S
12 I
4083(offset)S
12 R
4420(following)S
12 I
4954(std)S
12 R
5168(is)S
3808 V
1858(required.)S
2357(If)S
2474(no)S
12 I
2629(offset)S
12 R
2937(follows)S
12 I
3336(dst)S
12 R
3487(,)S
3552(summer)S
3977(time)S
4228(is)S
4344(assumed)S
4795(to)S
4925(be)S
5075(one)S
3948 V
(hour)221 1858 A
2126(ahead)S
2455(of)S
2603(standard)S
3059(time.)S
3381(One)S
3629(or)S
3776(more)S
4071(digits)S
4386(may)S
4640(be)S
4800(used;)S
5101(the)S
4088 V
1858(value)S
2161(is)S
2283(always)S
2661(interpreted)S
3229(as)S
3372(a)S
3468(decimal)S
3894(number.)S
4365(The)S
(hour)221 4595 A
4858(must)S
5135(be)S
4228 V
1858(between)S
2300(zero)S
2547(and)S
2758(24,)S
2945(and)S
3156(the)S
3341(minutes)S
3761(\(and)S
(seconds\))423 4013 A
4473(\320)S
4630(if)S
4742(present)S
5129(\320)S
4368 V
1858(between)S
2300(zero)S
2548(and)S
2761(59.)S
2980(If)S
(preceded)437 3101 A
3577(by)S
3736(a)S
3829(the)S
4016(timezone)S
4499(shall)S
4767(be)S
4920(east)S
5148(of)S
4508 V
1858(the)S
2077(Prime)S
2438(Meridian;)S
2987(otherwise)S
3530(it)S
3669(shall)S
3969(be)S
4154(west)S
4448(\(which)S
4856(may)S
5135(be)S
4648 V
1858(indicated)S
2345(by)S
2508(an)S
2665(optional)S
(preceding)477 3104 A
3625(Indicates)S
4107(when)S
4413(to)S
4551(change)S
4937(to)S
5075(and)S
4788 V
1858(back)S
2116(from)S
2382(summer)S
2802(time.)S
3108(The)S
12 I
3326(rule)S
12 R
3561(has)S
3752(the)S
3930(form:)S
4964 V
12 I
2108(date)S
12 B
2316(/)S
12 I
2350(time)S
12 B
2560(,)S
12 I
2590(date)S
12 B
2798(/)S
12 I
2832(time)S
5140 V
12 R
1858(where)S
2213(the)S
2419(first)S
12 I
2675(date)S
12 R
2952(describes)S
3462(when)S
3783(the)S
3990(change)S
4391(from)S
4686(standard)S
5155(to)S
5280 V
1858(summer)S
2288(time)S
2543(occurs)S
2898(and)S
3111(the)S
(second)335 3298 A
12 I
3672(date)S
12 R
3929(describes)S
4419(when)S
4720(the)S
4907(change)S
5420 V
1858(back)S
2122(happens.)S
2613(Each)S
12 I
2891(time)S
12 R
3147(field)S
3406(describes)S
3893(when,)S
4221(in)S
4351(current)S
4731(local)S
5003(time,)S
5560 V
1858(the)S
2036(change)S
2408(to)S
2532(the)S
2710(other)S
2989(time)S
3235(is)S
3346(made.)S
5736 V
1858(The)S
2076(format)S
2430(of)S
12 I
2561(date)S
12 R
2809(is)S
2920(one)S
3124(of)S
3255(the)S
3433(following:)S
5912 V
12 B
1858(J)S
12 I
1918(n)S
12 R
2458(The)S
2722(Julian)S
3087(day)S
12 I
3337(n)S
12 R
3483(\(1)S
12 Y
3614(\243)S
12 I
3710(n)S
12 Y
3800(\243)S
12 R
(365\).)251 3896 A
4253(Leap)S
4571(days)S
4869(are)S
5095(not)S
6052 V
(counted;)416 2458 A
2920(that)S
3148(is,)S
3305(in)S
3445(all)S
3613(years)S
3915(\320)S
4080(including)S
4581(leap)S
4828(years)S
5129(\320)S
6192 V
2458(February)S
2954(28)S
3133(is)S
3274(day)S
3508(59)S
3688(and)S
3922(March)S
4298(1)S
4418(is)S
4559(day)S
4793(60.)S
5033(It)S
5168(is)S
6332 V
2458(impossible)S
3024(to)S
(explicitly)458 3160 A
3660(refer)S
3933(to)S
4069(the)S
(occasional)511 4259 A
4812(February)S
6472 V
2458(29.)S
6648 V
12 I
1858(n)S
12 R
2458(The)S
2690(zero-based)S
3259(Julian)S
3592(day)S
3810(\(0)S
12 Y
3941(\243)S
12 I
4037(n)S
12 Y
4127(\243)S
12 R
(365\).)251 4223 A
4548(Leap)S
4834(days)S
5100(are)S
6788 V
(counted,)412 2458 A
2900(and)S
3104(it)S
3202(is)S
3313(possible)S
3739(to)S
3863(refer)S
4124(to)S
4248(February)S
4715(29.)S
6964 V
12 B
1858(M)S
12 I
1972(m)S
12 B
2060(.)S
12 I
2090(n)S
12 B
2150(.)S
12 I
2180(d)S
12 R
2458(The)S
12 I
2693(d')S
12 R
2804(th)S
2946(day)S
3168(\(0)S
12 Y
3299(\243)S
12 I
3395(d)S
12 Y
3485(\243)S
12 R
3581(6\))S
3730(of)S
3879(week)S
12 I
4183(n)S
12 R
4301(of)S
4450(month)S
12 I
4806(m)S
12 R
4952(of)S
5101(the)S
7104 V
2458(year)S
2721(\(1)S
12 Y
2852(\243)S
12 I
2948(n)S
12 Y
3038(\243)S
12 R
3134(5,)S
3278(1)S
12 Y
3368(\243)S
12 I
3464(m)S
12 Y
3582(\243)S
12 R
3678(12,)S
3882(where)S
4233(week)S
4543(5)S
4657(means)S
5019(``the)S
7244 V
2458(last)S
12 I
2672(d)S
12 R
2787(day)S
3007(in)S
3147(month)S
12 I
3501(m)S
12 R
3599('')S
3727(which)S
4069(may)S
4323(occur)S
4638(in)S
4778(either)S
5101(the)S
7700 V
(148)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 149 155
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ctime)S
998(\(L\))S
2567(Library)S
2961(Routines)S
4803(ctime)S
5093(\(L\))S
860 V
2458(fourth)S
2805(or)S
2957(the)S
3156(fifth)S
3417(week\).)S
3825(Week)S
4158(1)S
4269(is)S
4401(the)S
4600(first)S
4848(week)S
5155(in)S
1000 V
2458(which)S
2784(the)S
12 I
2962(d')S
12 R
3073(th)S
3197(day)S
3401(occurs.)S
3807(Day)S
4039(zero)S
4278(is)S
(Sunday.)391 4389 A
1176 V
1858(The)S
12 I
2080(time)S
12 R
2334(has)S
2529(the)S
2711(same)S
2995(format)S
3354(as)S
12 I
3490(offset)S
12 R
3798(except)S
4149(that)S
4366(no)S
4521(leading)S
4912(sign)S
5148(or)S
1316 V
1858(is)S
1969(allowed.)S
2443(The)S
2661(default,)S
3058(if)S
12 I
3163(time)S
12 R
3413(is)S
3524(not)S
3708(given,)S
4036(is)S
12 B
4147(02:00:00)S
12 R
4589(.)S
1492 V
708(If)S
840(no)S
12 I
1010(rule)S
12 R
1265(is)S
1396(present)S
1796(in)S
12 C
1940(TZ)S
12 R
2086(,)S
2166(the)S
2364(rules)S
2650(specified)S
3138(by)S
3308(the)S
12 I
(tzfile)237 3506 A
12 R
3753(-format)S
4168(file)S
12 B
4381(posixrules)S
12 R
4956(in)S
5101(the)S
1632 V
708(system)S
1086(time)S
(conversion)530 1344 A
1916(information)S
2529(directory)S
3008(are)S
3198(used,)S
3490(with)S
3747(the)S
3936(standard)S
4387(and)S
4602(summer)S
5033(time)S
1772 V
708(offsets)S
1062(from)S
1328(UTC)S
(replaced)411 1600 A
2041(by)S
2191(those)S
2476(specified)S
2944(by)S
3094(the)S
12 I
3272(offset)S
12 R
3575(values)S
3914(in)S
12 C
4038(TZ)S
12 R
4184(.)S
1948 V
708(For)S
(compatibility)646 914 A
1598(with)S
1852(System)S
2246(V)S
2372(Release)S
2787(3.1,)S
3005(a)S
3097(semicolon)S
3632(may)S
3878(be)S
4030(used)S
4289(to)S
4421(separate)S
4857(the)S
12 I
5044(rule)S
2088 V
12 R
708(from)S
974(the)S
1152(rest)S
1358(of)S
1489(the)S
1667(specification.)S
2264 V
708(If)S
822(the)S
12 C
1002(TZ)S
12 R
1180(environment)S
1823(variable)S
2246(does)S
2499(not)S
2685(specify)S
3067(a)S
12 I
(tzfile)237 3153 A
12 R
3400(-format)S
3797(and)S
(cannot)322 4003 A
4357(be)S
4503(interpreted)S
5061(as)S
5195(a)S
2404 V
708(direct)S
1025(specification,)S
1715(UTC)S
1996(is)S
2116(used)S
2376(with)S
2631(the)S
2818(standard)S
3267(time)S
3522(abbreviation)S
4166(set)S
4340(to)S
4473(the)S
4660(value)S
4961(of)S
5101(the)S
2544 V
12 C
708(TZ)S
12 R
884(environment)S
1525(variable)S
1946(\(or)S
2118(to)S
2242(the)S
2420(leading)S
2806(characters)S
3329(of)S
3460(its)S
3605(value)S
3897(if)S
4002(it)S
4100(is)S
4211(lengthy\).)S
2720 V
12 I
708(Ctime)S
12 R
(converts)410 1062 A
1516(a)S
(long)214 1614 A
1872(integer,)S
2284(pointed)S
2691(to)S
2830(by)S
12 I
2995(clock)S
12 R
3261(,)S
3336(representing)S
3980(the)S
4173(time)S
4434(in)S
(seconds)382 4573 A
5000(since)S
2860 V
708(00:00:00)S
1166(UTC,)S
1468(January)S
1874(1,)S
(1970,)270 1994 A
2294(and)S
2498(returns)S
2865(a)S
2949(pointer)S
3322(to)S
3446(a)S
3530(26-character)S
4167(string)S
4473(of)S
4604(the)S
4782(form)S
3000 V
2229(Thu)S
2453(Nov)S
2691(24)S
2841(18:22:48)S
(1986\\n\\0)428 3299 A
3140 V
708(All)S
894(the)S
1072(fields)S
1372(have)S
1630(constant)S
2063(width.)S
3316 V
12 I
(Localtime)485 708 A
12 R
1272(and)S
12 I
1505(gmtime)S
12 R
1942(return)S
2291(pointers)S
2740(to)S
2893(``tm'')S
3244(structures,)S
3805(described)S
4328(below.)S
12 I
(Localtime)485 4744 A
3456 V
12 R
708(corrects)S
1124(for)S
1297(the)S
1476(timezone)S
1951(and)S
2156(any)S
2361(timezone)S
2836(adjustments)S
3445(\(such)S
3738(as)S
3870(Daylight)S
4325(Saving)S
4691(Time)S
4977(in)S
5101(the)S
3596 V
708(U.S.A.\).)S
1186(Before)S
1560(doing)S
1878(so,)S
12 I
(localtime)452 2059 A
12 R
2575(calls)S
12 I
2842(tzset)S
12 R
3122(\(if)S
12 I
3282(tzset)S
12 R
3562(has)S
3767(not)S
3965(been)S
4238(called)S
4573(in)S
4712(the)S
4905(current)S
3736 V
708(process\).)S
1229(After)S
(filling)297 1544 A
1898(in)S
2049(the)S
2254(``tm'')S
2603(structure,)S
12 I
(localtime)452 3115 A
12 R
3634(sets)S
3873(the)S
12 B
4078(tm)S
12 Y1
4220(3)S
12 B
4280(isdst)S
12 R
4516('th)S
4708(element)S
5148(of)S
3876 V
12 B
708(tzname)S
12 R
1132(to)S
1274(a)S
1376(pointer)S
1767(to)S
1909(an)S
2071(ASCII)S
2436(string)S
2760(that)S
2990(is)S
3119(the)S
3315(timezone)S
3807(abbreviation)S
4460(to)S
4602(be)S
4764(used)S
5033(with)S
4016 V
12 I
(localtime)452 708 A
12 R
1170('s)S
1288(return)S
1608(value.)S
4192 V
12 I
708(Gmtime)S
12 R
(converts)410 1144 A
1584(to)S
1708(Coordinated)S
2335(Universal)S
2837(Time.)S
4368 V
12 I
708(Asctime)S
12 R
(converts)410 1162 A
1621(a)S
1724(time)S
1990(value)S
2302(contained)S
2822(in)S
2966(a)S
3070(``tm'')S
3412(structure)S
3887(to)S
4031(a)S
4135(26-character)S
4792(string,)S
5148(as)S
4508 V
708(shown)S
1053(in)S
1177(the)S
(above)288 1355 A
1673(example,)S
2143(and)S
2347(returns)S
2714(a)S
2798(pointer)S
3171(to)S
3295(the)S
3473(string.)S
4684 V
12 I
708(Mktime)S
12 R
(converts)410 1133 A
1583(the)S
1771(broken-down)S
2455(time,)S
2741(expressed)S
3258(as)S
3399(local)S
3675(time,)S
3962(in)S
4097(the)S
4286(structure)S
4752(pointed)S
5155(to)S
4824 V
708(by)S
12 I
861(tm)S
12 R
1026(into)S
1247(a)S
1334(calendar)S
1778(time)S
2027(value)S
2322(with)S
2571(the)S
2752(same)S
3034(encoding)S
3509(as)S
3643(that)S
3858(of)S
3992(the)S
4172(values)S
4513(returned)S
4949(by)S
5101(the)S
4964 V
12 I
708(time)S
12 R
994(function.)S
1524(The)S
1779(original)S
2223(values)S
2599(of)S
2767(the)S
12 B
2982(tm)S
12 Y1
3124(3)S
12 B
3184(wday)S
12 R
3526(and)S
12 B
3767(tm)S
12 Y1
3909(3)S
12 B
3969(yday)S
12 R
(components)583 4283 A
4933(of)S
5101(the)S
5104 V
708(structure)S
1178(are)S
(ignored,)399 1372 A
1816(and)S
2035(the)S
2228(original)S
2650(values)S
3004(of)S
3150(the)S
3343(other)S
(components)583 3637 A
4265(are)S
4459(not)S
4658(restricted)S
5155(to)S
5244 V
708(their)S
988(normal)S
1389(ranges.)S
1823(\(A)S
(positive)383 2010 A
2451(or)S
2610(zero)S
2877(value)S
3197(for)S
12 B
3397(tm)S
12 Y1
3539(3)S
12 B
3599(isdst)S
12 R
3893(causes)S
12 I
4267(mktime)S
12 R
4687(to)S
4839(presume)S
5384 V
(initially)378 708 A
1117(that)S
1330(summer)S
1751(time)S
1998(\(for)S
2211(example,)S
2681(Daylight)S
3135(Saving)S
3500(Time)S
3786(in)S
3910(the)S
4088(U.S.A.\))S
4522(respectively,)S
5168(is)S
5524 V
708(or)S
850(is)S
972(not)S
1167(in)S
1302(effect)S
1621(for)S
1804(the)S
1993(specified)S
2472(time.)S
2789(A)S
2919(negative)S
3371(value)S
3675(for)S
12 B
3859(tm)S
12 Y1
4001(3)S
12 B
4061(isdst)S
12 R
4339(causes)S
4697(the)S
12 I
4887(mktime)S
5664 V
12 R
708(function)S
1154(to)S
1291(attempt)S
1698(to)S
1835(divine)S
2180(whether)S
2614(summer)S
3047(time)S
3306(is)S
3430(in)S
3567(effect)S
3888(for)S
4072(the)S
4262(specified)S
4742(time.\))S
5101(On)S
5804 V
(successful)498 708 A
1239(completion,)S
1846(the)S
2028(values)S
2371(of)S
2506(the)S
12 B
2688(tm)S
12 Y1
2830(3)S
12 B
2890(wday)S
12 R
3199(and)S
12 B
3407(tm)S
12 Y1
3549(3)S
12 B
3609(yday)S
12 R
(components)583 3890 A
4507(of)S
4642(the)S
4824(structure)S
5944 V
708(are)S
904(set)S
1086(appropriately,)S
1809(and)S
2030(the)S
2225(other)S
(components)583 2521 A
3151(are)S
3347(set)S
3529(to)S
3669(represent)S
4160(the)S
4354(specified)S
4838(calendar)S
6084 V
708(time,)S
992(but)S
1184(with)S
1438(their)S
1699(values)S
2046(forced)S
2394(to)S
2526(their)S
2787(normal)S
3168(ranges;)S
3556(the)S
3743(final)S
4005(value)S
4306(of)S
12 B
4446(tm)S
12 Y1
4588(3)S
12 B
4648(mday)S
12 R
4975(is)S
5095(not)S
6224 V
708(set)S
(until)222 879 A
12 B
1137(tm)S
12 Y1
1279(3)S
12 B
1339(mon)S
12 R
1603(and)S
12 B
1813(tm)S
12 Y1
1955(3)S
12 B
2015(year)S
12 R
2279(are)S
2464(determined.)S
12 I
3105(Mktime)S
12 R
3525(returns)S
3897(the)S
4080(specified)S
4553(calendar)S
4999(time;)S
6364 V
708(If)S
820(the)S
998(calendar)S
1439(time)S
(cannot)322 1685 A
2037(be)S
2181(represented,)S
2800(it)S
2898(returns)S
12 B
3265(-1)S
12 R
3366(.)S
6540 V
12 I
(Difftime)400 708 A
12 R
1182(returns)S
1573(the)S
1775(difference)S
2322(between)S
2780(two)S
3016(calendar)S
3481(times,)S
12 I
3828(time1)S
12 R
4162(-)S
12 I
4258(time0,)S
12 R
4623(expressed)S
5155(in)S
6680 V
(seconds.)412 708 A
6856 V
708(Declarations)S
1359(of)S
1498(all)S
1658(the)S
1844(functions)S
2332(and)S
2544(externals,)S
3050(and)S
3262(the)S
3448(``tm'')S
3778(structure,)S
4271(are)S
4458(in)S
4590(the)S
12 B
4776(<time.h>)S
6996 V
12 R
708(header)S
1061(file.)S
1314(The)S
1532(structure)S
1987(\(of)S
2159(type\))S
12 B
2438(struct)S
2772(tm)S
12 R
2944(includes)S
3377(the)S
3555(following)S
4056(fields:)S
7700 V
2683(Amoeba)S
3123(5.3)S
(149)180 5069 A
7920 V
EP
%%Page: 150 156
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ctime)S
998(\(L\))S
2567(Library)S
2961(Routines)S
4803(ctime)S
5093(\(L\))S
860 V
1318(int)S
1476(tm)S
12 Y1
1604(3)S
12 R
1664(sec;)S
2234(/)S
12 Y
2268(*)S
12 R
(seconds)382 2358 A
2770(\(0)S
2901(-)S
2972(60\))S
12 Y
3163(*)S
12 R
3223(/)S
1000 V
1318(int)S
1476(tm)S
12 Y1
1604(3)S
12 R
1664(min;)S
2234(/)S
12 Y
2268(*)S
12 R
2358(minutes)S
2771(\(0)S
2902(-)S
2973(59\))S
12 Y
3164(*)S
12 R
3224(/)S
1140 V
1318(int)S
1476(tm)S
12 Y1
1604(3)S
12 R
(hour;)255 1664 A
2234(/)S
12 Y
2268(*)S
12 R
(hours)268 2358 A
2656(\(0)S
2787(-)S
2858(23\))S
12 Y
3049(*)S
12 R
3109(/)S
1280 V
1318(int)S
1476(tm)S
12 Y1
1604(3)S
12 R
1664(mday;)S
2234(/)S
12 Y
2268(*)S
12 R
2358(day)S
2562(of)S
2693(month)S
3031(\(1)S
3162(-)S
3233(31\))S
12 Y
3424(*)S
12 R
3484(/)S
1420 V
1318(int)S
1476(tm)S
12 Y1
1604(3)S
12 R
1664(mon;)S
2234(/)S
12 Y
2268(*)S
12 R
2358(month)S
2696(of)S
2827(year)S
3066(\(0)S
3197(-)S
3268(11\))S
12 Y
3459(*)S
12 R
3519(/)S
1560 V
1318(int)S
1476(tm)S
12 Y1
1604(3)S
12 R
1664(year;)S
2234(/)S
12 Y
2268(*)S
12 R
2358(year)S
12 R-1
2597(-)S
12 R
(1900)240 2695 A
12 Y
2965(*)S
12 R
3025(/)S
1700 V
1318(int)S
1476(tm)S
12 Y1
1604(3)S
12 R
1664(wday;)S
2234(/)S
12 Y
2268(*)S
12 R
2358(day)S
2562(of)S
2693(week)S
(\(Sunday)402 2979 A
3411(=)S
3509(0\))S
12 Y
3640(*)S
12 R
3700(/)S
1840 V
1318(int)S
1476(tm)S
12 Y1
1604(3)S
12 R
1664(yday;)S
2234(/)S
12 Y
2268(*)S
12 R
2358(day)S
2562(of)S
2693(year)S
2932(\(0)S
3063(-)S
(365\))221 3134 A
12 Y
3385(*)S
12 R
3445(/)S
1980 V
1318(int)S
1476(tm)S
12 Y1
1604(3)S
12 R
1664(isdst;)S
2234(/)S
12 Y
2268(*)S
12 R
2358(is)S
2469(summer)S
2889(time)S
3135(in)S
3259(effect?)S
12 Y
3621(*)S
12 R
3681(/)S
2156 V
12 I
708(Tm)S
12 Y1
863(3)S
12 I
923(isdst)S
12 R
1195(is)S
(non-zero)430 1306 A
1766(if)S
1871(summer)S
2291(time)S
2537(is)S
2648(in)S
2772(effect.)S
2332 V
12 I
708(Tm)S
12 Y1
863(3)S
12 I
923(gmtoff)S
12 R
1278(is)S
1394(the)S
1578(offset)S
1891(\(in)S
(seconds\))423 2062 A
2521(of)S
2658(the)S
2842(time)S
3094(represented)S
3689(from)S
3961(UTC,)S
4269(with)S
(positive)383 4521 A
4940(values)S
2472 V
708(indicating)S
1222(east)S
1441(of)S
1572(the)S
1750(Prime)S
2070(Meridian.)S
2788 V
12 I
708(FILES)S
2964 V
12 R
(/profile/module/time/zoneinfo)1461 708 A
2820(timezone)S
3294(information)S
3896(directory)S
3104 V
(/profile/module/time/zoneinfo/localtime)1947 708 A
2820(local)S
3086(timezone)S
3560(file)S
3244 V
(/profile/module/time/zoneinfo/posixrules)1992 708 A
2820(used)S
3071(with)S
3317(POSIX-style)S
3968(TZ's)S
3384 V
(/profile/module/time/zoneinfo/GMT)1764 708 A
2820(for)S
2992(UTC)S
3264(leap)S
(seconds)382 3496 A
3664 V
708(If)S
12 I
(/profile/module/time/zoneinfo/GMT)1724 875 A
12 R
2694(is)S
2861(absent,)S
3286(UTC)S
3614(leap)S
(seconds)382 3902 A
4370(are)S
4605(loaded)S
5013(from)S
3804 V
12 I
(/profile/module/time/zoneinfo/posixrules)1965 708 A
12 R
2683(.)S
4120 V
12 I
708(Warnings)S
4296 V
12 R
708(The)S
958(return)S
1311(values)S
1683(point)S
1994(to)S
2151(static)S
2471(data)S
2736(whose)S
3108(content)S
3527(is)S
(overwritten)560 3671 A
4294(by)S
(each)222 4477 A
4762(call.)S
5061(The)S
4436 V
12 B
708(tm)S
12 Y1
850(3)S
12 B
910(zone)S
12 R
1184(field)S
1446(of)S
1586(a)S
1679(returned)S
12 B
2122(struct)S
2465(tm)S
12 R
2646(points)S
2980(to)S
3113(a)S
3206(static)S
3502(array)S
3791(of)S
3931(characters,)S
4492(which)S
(will)190 4826 A
5054(also)S
4576 V
708(be)S
(overwritten)560 852 A
1442(at)S
1560(the)S
1738(next)S
1976(call)S
2182(\(and)S
2427(by)S
2577(calls)S
2830(to)S
12 I
2954(tzset)S
12 R
3180(\).)S
4752 V
708(Avoid)S
1077(using)S
(out-of-range)606 1405 A
2078(values)S
2454(with)S
12 I
2737(mktime)S
12 R
3166(when)S
(setting)323 3495 A
3885(up)S
4072(lunch)S
4408(with)S
4692(promptness)S
4892 V
708(sticklers)S
1143(in)S
1267(Riyadh.)S
5172 V
12 B
708(Example)S
5348 V
12 R
708(The)S
926(following)S
1427(program)S
1867(prints)S
2173(the)S
2351(current)S
2725(local)S
2991(time:)S
5548 V
11 C
(#include)536 1068 A
(<stdio.h>)603 1671 A
5688 V
(#include)536 1068 A
(<time.h>)536 1671 A
5828 V
(main\(\))402 1068 A
5968 V
1068({)S
6108 V
(time)268 1336 A
11 Y1
1604(3)S
11 C
1659(t)S
1793(t;)S
6248 V
(time\(&t\);)603 1336 A
6388 V
(printf\("%s",)804 1336 A
(ctime\(&t\)\);)737 2207 A
6528 V
(exit\(0\);)536 1336 A
6668 V
1068(})S
7700 V
12 R
(150)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 151 157
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ctime)S
998(\(L\))S
2567(Library)S
2961(Routines)S
4803(ctime)S
5093(\(L\))S
860 V
12 B
708(See)S
913(Also)S
1036 V
12 R
708(posix\(L\),)S
1185(ansi)S
12 Y1
1380(3)S
12 R
1440(C\(L\),)S
1736(date\(U\),)S
2168(tod\(L\),)S
2538(zic\(A\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(151)180 5069 A
7920 V
EP
%%Page: 152 158
BP
/slant 0 def
/height 0 def
500 V
12 R
708(dgwalk)S
1084(\(L\))S
2567(Library)S
2961(Routines)S
4717(dgwalk)S
5093(\(L\))S
860 V
1745(\(in)S
1910(libraries:)S
2373(libamoeba.a,)S
3021(libkernel.a,)S
3596(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(dgwalk)S
12 R-1
1094(-)S
12 R
1222(routines)S
1642(for)S
1814(examining)S
2354(a)S
2438(directory)S
2906(graph)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("module/dgwalk.h")1139 1311 A
2322 V
(errstat)469 708 A
(dgwalk\(params\))938 1244 A
2462 V
(errstat)469 708 A
(dgwexpand\(path,)1005 1244 A
(proc\))335 2316 A
2802 V
12 B
708(Description)S
2978 V
12 I
708(Dgwalk)S
12 R
1129(can)S
1332(be)S
1481(used)S
1737(to)S
1866(find)S
2096(all)S
2253(directory)S
2726(and)S
2935(directory)S
3408(entries)S
3767(that)S
3984(are)S
(reachable)465 4168 A
4668(from)S
4939(one)S
5148(or)S
3118 V
708(more)S
990(starting)S
1387(points.)S
1775(For)S
(each)222 1976 A
2231(directory)S
(found,)311 2702 A
12 I
3046(dgwalk)S
12 R
3437(calls)S
3693(a)S
(user-supplied)652 3780 A
4465(function)S
4900(with)S
5148(as)S
3258 V
708(parameters)S
1288(one)S
1509(or)S
1657(more)S
(capabilities)553 1953 A
2553(for)S
2742(the)S
2937(directory)S
3423(and)S
3645(an)S
3807(indication)S
4339(of)S
4488(the)S
4684(path)S
4940(names)S
3398 V
(under)275 708 A
1024(which)S
1361(these)S
(capabilities)553 1651 A
2245(can)S
2454(be)S
(found.)311 2609 A
12 I
(Dgwexpand)576 2991 A
12 R
3618(can)S
3827(then)S
4075(be)S
4229(used)S
4490(to)S
4624(unravel)S
(each)222 5027 A
3538 V
708(directory)S
1178(and)S
1384(call)S
1592(a)S
(second,)365 1678 A
(user-supplied)652 2075 A
2760(routine)S
3136(for)S
(each)222 3311 A
3566(entry)S
(found.)311 3848 A
12 I
(Dgwexpand)576 4222 A
12 R
4841(does)S
5095(not)S
3678 V
(recognize)471 708 A
1234(the)S
1436(concept)S
1866(of)S
2021(links)S
2310(between)S
2768(entries)S
3146(in)S
3294(directories.)S
3921(Each)S
4217(entry)S
4520(is)S
4655(treated)S
5040(as)S
5195(a)S
3818 V
708(separate)S
(entity.)306 1136 A
3994 V
12 I
708(Dgwalk)S
12 R
1133(can)S
1341(function)S
1784(in)S
1918(two)S
2140(modes:)S
12 I
2529(ad)S
12 Y1
2649(3)S
12 I
2709(hoc)S
12 R
2933(and)S
12 I
3147(all)S
12 R
3285(.)S
3385(The)S
3613(basic)S
3902(difference)S
4435(between)S
4879(the)S
5067(two)S
4134 V
708(modes)S
1063(stems)S
1379(from)S
1655(the)S
1843(fact)S
2066(that)S
2287(the)S
2474(Amoeba)S
2923(name)S
3224(server)S
3560(implements)S
4164(a)S
4257(directed)S
4687(graph.)S
5061(The)S
4274 V
708(consequence)S
1358(is)S
1472(that)S
1687(a)S
1774(certain)S
2138(directory)S
2609(might)S
2924(have)S
(multiple)404 3185 A
3622(paths)S
3910(into)S
4132(it)S
4234(with)S
4484(differing)S
4943(rights.)S
4414 V
708(In)S
12 I
847(all)S
12 R
1023(mode)S
12 I
1329(dgwalk)S
12 R
1724(first)S
1958(tries)S
2205(to)S
2336(obtain)S
2675(all)S
2834(available)S
3309(information)S
3918(on)S
4075(all)S
(reachable)465 4234 A
4736(directories)S
4554 V
708(and)S
939(then)S
1204(calls)S
1484(a)S
(user-supplied)652 1595 A
2304(function)S
2764(for)S
2963(every)S
3289(directory)S
(found.)311 3784 A
4183(In)S
12 I
4342(ad-hoc)S
12 R
4745(mode,)S
5101(the)S
4694 V
708(default,)S
12 I
1134(dgwalk)S
12 R
1551(calls)S
1833(the)S
(user-supplied)652 2040 A
2751(function)S
3213(as)S
(soon)227 3373 A
3659(as)S
(each)222 3819 A
4100(directory)S
4597(is)S
(found)281 4736 A
5075(and)S
4834 V
708(expects)S
1143(a)S
1269(return)S
1631(value)S
1965(from)S
2273(that)S
2527(function)S
3002(indicating)S
3558(whether)S
4021(that)S
4276(directory)S
4787(has)S
5021(been)S
4974 V
708(satisfactorily)S
1367(dealt)S
1634(with)S
1881(or)S
2013(not.)S
2258(If)S
2371(the)S
2550(directory)S
3019(has)S
3211(been)S
3470(satisfactorily)S
4129(dealt)S
4395(with,)S
12 I
4671(dgwalk)S
12 R
(will)190 5059 A
5114 V
708(not)S
897(call)S
1108(the)S
(user-supplied)652 1291 A
1978(function)S
2416(again)S
2713(for)S
2890(that)S
3107(directory,)S
3610(even)S
3874(if)S
3985(a)S
4075(path)S
4319(with)S
4571(more)S
4856(rights)S
5168(is)S
5254 V
(found.)311 708 A
1104(If)S
1241(the)S
1444(directory)S
1937(has)S
2153(not)S
2362(been)S
2645(satisfactorily)S
3328(dealt)S
3618(with,)S
12 I
3918(dgwalk)S
12 R
(will)190 4330 A
4574(call)S
4804(the)S
5006(user-)S
5394 V
(supplied)409 708 A
1159(function)S
1604(again)S
1908(whenever)S
2421(the)S
2612(directory)S
(capability)478 3093 A
3614(is)S
3738(met)S
3963(again.)S
4328(For)S
4539(directories)S
5095(not)S
5534 V
708(met)S
942(again)S
12 I
1256(dgwalk)S
12 R
(will)190 1666 A
1908(call)S
2136(a)S
2242(third)S
(user-supplied)652 2522 A
3225(function,)S
3709(thereby)S
4123(indicating)S
4658(that)S
12 I
4891(dgwalk)S
5674 V
12 R
708(expects)S
1103(that)S
1317(this)S
1524(is)S
1637(the)S
1817(last)S
2018(time)S
2266(a)S
(user-supplied)652 2352 A
3036(function)S
3471(is)S
3585(called)S
3908(for)S
4083(that)S
4298(entry.)S
12 I
4640(Dgwalk)S
12 R
(will)190 5059 A
5814 V
708(keep)S
(calling)330 966 A
1326(the)S
(user-supplied)652 1504 A
2186(functions)S
2666(for)S
(each)222 2838 A
3090(directory)S
3558(not)S
3742(yet)S
3920(satisfactorily)S
4578(dealt)S
4844(with.)S
5990 V
708(It)S
825(is)S
948(possible)S
1386(to)S
1522(construct)S
2008(graphs)S
2372(in)S
2508(which)S
2846(certain)S
3220(parts)S
3499(of)S
3643(the)S
3834(graph)S
4152(might)S
4477(not)S
4674(be)S
(found)281 4831 A
5155(in)S
6130 V
708(ad-hoc)S
1067(mode.)S
6446 V
12 I
708(dgwalk)S
6682 V
11 C
(errstat)469 1068 A
6822 V
(dgwalk\(params\))938 1068 A
6962 V
(dgw)201 1068 A
11 Y1
1269(3)S
11 C
(params)402 1324 A
(params;)469 1793 A
7162 V
12 R
708(The)S
963(parameters)S
1563(to)S
12 I
1724(dgwalk)S
12 R
2149(are)S
2365(passed)S
2754(in)S
2915(a)S
3036(structure.)S
3558(This)S
3840(structure)S
4333(has)S
4562(the)S
4778(following)S
7302 V
(definition:)505 708 A
7700 V
(152)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 153 159
BP
/slant 0 def
/height 0 def
500 V
12 R
708(dgwalk)S
1084(\(L\))S
2567(Library)S
2961(Routines)S
4717(dgwalk)S
5093(\(L\))S
920 V
11 C
(typedef)469 1068 A
(struct)402 1604 A
2073({)S
1060 V
(short)335 1508 A
(mode;)335 1948 A
1200 V
(dgw)201 1508 A
11 Y1
1709(3)S
11 C
(paths)335 1764 A
(*entry;)469 2166 A
1340 V
(capset)402 1508 A
(**servers;)670 1948 A
1480 V
(int)201 1508 A
(\(*dodir\)\(\);)737 1948 A
1620 V
(int)201 1508 A
(\(*testdir\)\(\);)871 1948 A
1760 V
(int)201 1508 A
(\(*doagain\)\(\);)871 1948 A
1900 V
1068(})S
(dgw)201 1202 A
11 Y1
1403(3)S
11 C
(params;)469 1458 A
2100 V
12 R
708(The)S
926(fields)S
1226(of)S
1357(the)S
1535(parameter)S
2051(structure)S
2506(have)S
2764(the)S
2942(following)S
3443(meaning:)S
2276 V
708(mode)S
1608(Zero)S
1867(for)S
12 I
2039(ad-hoc)S
12 R
2414(mode)S
2712(and)S
12 C
(DGW)219 2916 A
12 Y1
3135(3)S
12 C
(ALL)219 3195 A
12 R
3444(for)S
12 I
3616(all)S
12 R
3784(mode.)S
2452 V
708(entry)S
1608(The)S
1853(set)S
2045(of)S
2203(entry)S
2509(points.)S
2921(This)S
3193(is)S
3331(a)S
3442(pointer)S
3842(to)S
3993(a)S
4104(list)S
4310(of)S
4468(structures,)S
(each)222 5027 A
2592 V
1608(describing)S
2157(a)S
2256(separate)S
2699(entry)S
2993(point.)S
3346(The)S
3579(use)S
3785(of)S
3931(the)S
12 I
4124(dgw)S
12 Y1
4324(3)S
12 I
4384(paths)S
12 R
4699(structure)S
5168(is)S
2732 V
1608(described)S
2102(below.)S
2908 V
708(servers)S
1608(The)S
1845(set)S
2029(of)S
2179(directory)S
2666(servers)S
3059(to)S
3202(which)S
3547(the)S
3745(search)S
4105(for)S
4297(directories)S
4860(is)S
4991(to)S
5135(be)S
3048 V
1608(restricted.)S
2154(If)S
2269(it)S
2370(is)S
12 C
(NULL)292 2484 A
12 R
2809(no)S
2962(restriction)S
3488(applies.)S
3924(Otherwise)S
12 I
4456(dgwalk)S
12 R
4846(assumes)S
3188 V
1608(that)S
1824(this)S
2033(field)S
2290(points)S
2619(to)S
2747(a)S
2836(NULL-terminated)S
3755(array)S
4040(of)S
4176(pointers)S
4601(to)S
(capability-)519 4730 A
3328 V
1608(sets.)S
1890(If)S
2011(this)S
2225(list)S
2413(is)S
2533(empty)S
12 I
2874(dgwalk)S
12 R
(will)190 3271 A
3500(only)S
3753(call)S
3968(the)S
(user-supplied)652 4155 A
4846(function)S
3468 V
1608(for)S
1780(the)S
1958(entry)S
2237(points.)S
3644 V
708(testdir)S
1608(This)S
1864(routine)S
2248(is)S
2370(called)S
2701(in)S
12 I
2836(all)S
12 R
3015(mode)S
3324(whenever)S
3836(a)S
3932(new)S
4176(directory)S
4656(is)S
4779(examined)S
3784 V
1608(during)S
1996(the)S
2216(determination)S
2961(of)S
3134(the)S
3354(graph.)S
3761(The)S
4021(return)S
4383(value)S
4717(determines)S
3924 V
1608(whether)S
2036(this)S
2248(directory)S
(should)321 2723 A
3081(be)S
3232(part)S
3459(of)S
3598(the)S
3784(graph)S
12 C
(\(DGW)292 4097 A
12 Y1
4389(3)S
12 C
(OK\))219 4449 A
12 R
4668(,)S
(should)321 4736 A
5095(not)S
4064 V
1608(be)S
1806(examined)S
2360(further)S
12 C
(\(DGW)292 2775 A
12 Y1
3067(3)S
12 C
(STOP\))365 3127 A
12 R
3576(or)S
(should)321 3761 A
4166(be)S
4364(further)S
4779(examined)S
4204 V
1608(whenever)S
2150(seen)S
2436(again)S
12 C
(\(DGW)292 2769 A
12 Y1
3061(3)S
12 C
(AGAIN\))438 3121 A
12 R
3559(.)S
3690(When)S
12 C
(DGW)219 4049 A
12 Y1
4268(3)S
12 C
(QUIT)292 4328 A
12 R
4692(is)S
4845(returned)S
4344 V
12 I
1608(dgwalk)S
12 R
(will)190 2043 A
2310(not)S
2541(call)S
2794(any)S
3045(further)S
(user-supplied)652 3453 A
4182(functions)S
4709(and)S
4959(return)S
4484 V
12 C
(STD)219 1608 A
12 Y1
1827(3)S
12 C
(INTR)292 1887 A
12 R
2179(.)S
2282(The)S
2514(only)S
2772(parameter)S
3302(to)S
3440(these)S
3733(function)S
4180(calls)S
4447(is)S
4572(a)S
4670(pointer)S
5057(to)S
5195(a)S
4624 V
1608(sequence)S
2102(of)S
2254(one)S
2479(or)S
2631(more)S
2931(paths)S
3237(as)S
3389(described)S
3904(below.)S
4311(This)S
4577(entry)S
4877(may)S
5135(be)S
4764 V
12 C
(NULL)292 1608 A
12 R
1900(.)S
4940 V
(dodir)255 708 A
1608(This)S
1854(routine)S
2228(is)S
2340(called)S
2661(whenever)S
3163(a)S
3248(new)S
3481(directory)S
3950(is)S
4062(met)S
4275(in)S
12 I
4400(ad-hoc)S
12 R
4776(mode)S
5075(and)S
5080 V
1608(for)S
(each)222 1790 A
2052(directory)S
(found)281 2530 A
2851(in)S
12 I
2985(all)S
12 R
3163(mode)S
3471(after)S
3735(determination)S
4447(of)S
4587(the)S
4774(graph.)S
5148(In)S
5220 V
12 I
1608(ad-hoc)S
12 R
1989(mode)S
2293(the)S
2477(return)S
2803(values)S
3148(have)S
3412(the)S
3596(same)S
3882(meaning)S
4335(as)S
4473(described)S
(under)275 4974 A
5360 V
12 I
1608(testdir)S
12 R
1928(.)S
2021(The)S
2242(only)S
(recognized)531 2489 A
3053(return)S
3376(value)S
3671(in)S
12 I
3798(all)S
12 R
3969(mode)S
4270(is)S
12 C
(DGW)219 4384 A
12 Y1
4603(3)S
12 C
(QUIT.)365 4663 A
12 R
5061(The)S
5500 V
1608(only)S
1859(parameter)S
2382(to)S
2513(these)S
2799(function)S
3239(calls)S
3500(is)S
3619(a)S
3711(pointer)S
4092(to)S
4224(a)S
4316(sequence)S
4797(of)S
4936(one)S
5148(or)S
5640 V
1608(more)S
1887(paths)S
2172(as)S
2303(described)S
2797(below.)S
5816 V
708(doagain)S
1608(This)S
1865(function)S
2310(is)S
2433(only)S
2689(called)S
3021(in)S
12 I
3157(ad-hoc)S
12 R
3545(mode)S
3856(when)S
12 I
4161(dgwalk)S
12 R
4562(has)S
4766(exhausted)S
5956 V
1608(its)S
1767(own)S
2018(list)S
2210(of)S
2354(directories)S
2910(to)S
3047(examine.)S
3560(It)S
3678(is)S
3802(then)S
4053(called)S
4386(for)S
4571(all)S
4736(directories)S
6096 V
1608(for)S
1782(which)S
12 C
(DGW)219 2110 A
12 Y1
2329(3)S
12 C
2389(OK)S
12 R
2567(or)S
12 C
(DGW)219 2701 A
12 Y1
2920(3)S
12 C
(STOP)292 2980 A
12 R
3305(has)S
3499(not)S
3686(yet)S
3867(been)S
4128(returned)S
4565(by)S
4718(calls)S
4974(to)S
5101(the)S
6236 V
1608(function)S
2047(specified)S
2521(in)S
2650(the)S
12 I
(dodir)261 2833 A
12 R
3139(entry.)S
3483(In)S
3619(all)S
3776(other)S
4060(aspects)S
4445(it)S
4548(is)S
4664(functionally)S
6376 V
1608(equal)S
1900(to)S
12 I
(dodir)261 2024 A
12 R
2295(.)S
6552 V
708(The)S
964(functions)S
1482(passed)S
1872(to)S
12 I
2034(dgwalk)S
12 R
2460(all)S
2650(have)S
2946(one)S
3188(parameter:)S
3776(a)S
3898(list)S
4115(of)S
4284(paths.)S
4667(Its)S
4857(type)S
5134(is:)S
6692 V
12 C
(\(dgw)292 708 A
12 Y1
1000(3)S
12 C
(paths)365 1060 A
1498(*\))S
12 R
1644(.)S
1734(The)S
1952(type)S
12 I
2190(dgw)S
12 Y1
2390(3)S
12 I
2450(paths)S
12 R
2751(has)S
2942(the)S
3120(following)S
(definition:)505 3621 A
7700 V
2683(Amoeba)S
3123(5.3)S
(153)180 5069 A
7920 V
EP
%%Page: 154 160
BP
/slant 0 def
/height 0 def
500 V
12 R
708(dgwalk)S
1084(\(L\))S
2567(Library)S
2961(Routines)S
4717(dgwalk)S
5093(\(L\))S
920 V
11 C
(typedef)469 1068 A
(struct)402 1604 A
2073({)S
1060 V
(char)268 1652 A
(*entry;)469 2236 A
1200 V
(dgw)201 1652 A
11 Y1
1853(3)S
11 C
(paths)335 1908 A
(*dotdot;)536 2310 A
1340 V
(capabilitycap;)938 1652 A
1480 V
(dgw)201 1652 A
11 Y1
1853(3)S
11 C
(paths*next;)737 1908 A
1620 V
1652(/*)S
(Internal)536 1853 A
2456(*/)S
1760 V
(....)268 1652 A
1900 V
1068(})S
(dgw)201 1202 A
11 Y1
1403(3)S
11 C
(paths)335 1458 A
1860(;)S
2100 V
12 R
708(The)S
942(first)S
1185(three)S
1474(fields)S
1790(of)S
1937(the)S
2131(structure)S
2602(specify)S
2998(a)S
(capability)478 3098 A
3622(for)S
3810(the)S
4005(directory)S
4490(and)S
4711(the)S
4906(way)S
5155(in)S
2240 V
708(which)S
1044(it)S
1152(was)S
(found.)311 1381 A
1762(The)S
(capability)478 1989 A
12 I
2506(cap)S
12 R
2729(for)S
2910(this)S
3124(directory)S
3601(was)S
(found)281 3829 A
4149(in)S
4282(the)S
4469(parent)S
4811(directory)S
2380 V
708(specified)S
1197(by)S
12 I
1368(dotdot)S
12 R
(under)275 1737 A
12 I
2064(entry)S
12 R
2323(.)S
2435(The)S
2675(entry)S
12 I
2976(next)S
12 R
3240(specifies)S
3717(one)S
3943(further)S
4326(way)S
4580(in)S
4726(which)S
5074(this)S
2520 V
708(directory)S
1186(was)S
(found.)311 1415 A
12 I
1795(Dgwalk)S
12 R
2220(guarantees)S
2777(that)S
2998(no)S
(capability)478 3157 A
3674(is)S
3794(present)S
4183(in)S
4316(this)S
4530(list)S
4718(with)S
4973(rights)S
2660 V
708(that)S
920(are)S
1099(a)S
1183(subset)S
1515(of)S
1646(the)S
1824(rights)S
2130(of)S
2261(another)S
(capability)478 2654 A
3162(in)S
3286(the)S
3464(list.)S
2976 V
12 I
(dgwexpand)548 708 A
3212 V
11 C
(errstat)469 1068 A
3352 V
(dgwexpand\(path,)1005 1068 A
(proc\))335 2140 A
3492 V
(dgw)201 1068 A
11 Y1
1269(3)S
11 C
(paths)335 1324 A
(path;)335 1726 A
3632 V
(void)268 1068 A
(\(*proc\)\(\);)670 1403 A
3868 V
12 R
708(This)S
976(function)S
1433(can)S
1655(be)S
1823(called)S
2167(to)S
2315(examine)S
2779(the)S
2981(contents)S
3438(of)S
3593(a)S
3701(directory.)S
4253(The)S
4495(directory)S
4987(to)S
5135(be)S
4008 V
708(examined)S
1209(is)S
1321(specified)S
1790(by)S
1941(the)S
12 I
2120(path)S
12 R
2375(parameter)S
2892(that)S
3105(could)S
3404(be)S
3549(passed)S
3902(to)S
12 I
(dgwexpand)548 4027 A
12 R
4616(by)S
4766(one)S
4970(of)S
5101(the)S
4148 V
708(parameter)S
1235(functions)S
1727(of)S
12 I
1870(dgwalk)S
12 R
2228(.)S
12 I
(Dgwexpand)576 2330 A
12 R
2958(simply)S
3329(uses)S
3579(the)S
3769(first)S
4008(path)S
4258(in)S
4394(the)S
4584(list)S
4775(to)S
4911(get)S
5101(the)S
4288 V
708(contents)S
1144(of)S
1278(the)S
1459(directory)S
1930(and)S
2137(calls)S
12 I
2393(proc)S
12 R
2657(for)S
(each)222 2832 A
3087(entry)S
(found.)311 3368 A
3741(The)S
3961(function)S
4396(specified)S
4866(by)S
12 I
5018(proc)S
4428 V
12 R
708(is)S
819(called)S
1139(with)S
1385(four)S
1617(parameters:)S
4628 V
11 C
(visit)335 1068 A
11 Y1
1403(3)S
11 C
(entry\(path,)737 1458 A
(cset,)335 2262 A
(parent)402 2664 A
11 Y1
3066(3)S
11 C
(cset,)335 3121 A
(entry\))402 3523 A
4768 V
(char)268 1652 A
(*path;)402 2236 A
4908 V
(capset)402 1652 A
(*cset;)402 2236 A
5048 V
(capset)402 1652 A
(*parent)469 2236 A
11 Y1
2705(3)S
11 C
(cset;)335 2760 A
5188 V
(char)268 1652 A
(*entry;)469 2236 A
5388 V
12 I
708(Cset)S
12 R
972(is)S
1092(the)S
(capability-set)654 1279 A
(found)281 1972 A
(under)275 2292 A
12 I
2606(entry)S
12 R
2904(in)S
3037(the)S
3224(directory)S
3701(specified)S
4178(by)S
12 I
4337(parent)S
12 Y1
4652(3)S
12 I
4712(cset)S
12 R
4911(.)S
12 I
5011(Path)S
5528 V
12 R
708(gives)S
993(the)S
1171(string)S
1477(with)S
1723(the)S
1901(full)S
2100(path)S
2338(name)S
2630(that)S
2842(can)S
3040(be)S
3184(used)S
3435(to)S
(access)310 3559 A
3899(the)S
4077(entry.)S
5844 V
12 I
(Diagnostics)578 708 A
6020 V
12 R
708(Both)S
12 I
984(dgwalk)S
12 R
1384(and)S
12 I
(dgwexpand)548 1600 A
12 R
2200(can)S
2410(return)S
2742(any)S
2958(of)S
3101(the)S
3291(Amoeba)S
3743(error)S
4023(messages.)S
4583(If)S
4708(they)S
4959(return)S
6160 V
12 C
(STD)219 708 A
12 Y1
927(3)S
12 C
(NOMEM)365 987 A
12 R
1383(there)S
1657(is)S
1769(a)S
1854(fair)S
2055(chance)S
2421(that)S
2633(they)S
2871(ran)S
3056(out)S
3240(of)S
3371(memory,)S
3834(but)S
4018(it)S
4116(might)S
4428(also)S
4653(indicate)S
5067(that)S
6300 V
708(one)S
912(of)S
1043(the)S
1221(servers)S
(involved)422 1595 A
2047(ran)S
2232(out)S
2416(of)S
2547(memory.)S
6616 V
12 B
708(See)S
913(Also)S
6792 V
12 I
708(om)S
12 R
866(\(A\).)S
7700 V
(154)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 155 161
BP
/slant 0 def
/height 0 def
500 V
12 R
708(direct)S
1005(\(L\))S
2567(Library)S
2961(Routines)S
4796(direct)S
5093(\(L\))S
860 V
2033(\(in)S
2198(libraries:)S
2661(libamoeba.a,)S
3309(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(direct)S
12 R-1
1015(-)S
12 R
(capability-based)794 1143 A
1967(functions)S
2447(for)S
2619(searching)S
3113(in)S
3237(and)S
3441(modifying)S
3974(directories)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("module/direct.h")1139 1311 A
2182 V
(errstat)469 708 A
(dir)201 1244 A
11 Y1
1445(3)S
11 C
(append\(origin,)938 1500 A
(name,)335 2505 A
(object\))469 2907 A
2322 V
(char)268 708 A
(*dir)268 1043 A
11 Y1
1311(3)S
11 C
(breakpath\(origin,)1139 1366 A
(name,)335 2572 A
(dir\))268 2974 A
2462 V
(errstat)469 708 A
(dir)201 1244 A
11 Y1
1445(3)S
11 C
(create\(origin,)938 1500 A
(name\))335 2505 A
2602 V
(errstat)469 708 A
(dir)201 1244 A
11 Y1
1445(3)S
11 C
(delete\(origin,)938 1500 A
(name\))335 2505 A
2742 V
(errstat)469 708 A
(dir)201 1244 A
11 Y1
1445(3)S
11 C
(lookup\(origin,)938 1500 A
(name,)335 2505 A
(object\))469 2907 A
2882 V
(capability)670 708 A
(*dir)268 1445 A
11 Y1
1713(3)S
11 C
(origin\(name\))804 1768 A
3022 V
(errstat)469 708 A
(dir)201 1244 A
11 Y1
1445(3)S
11 C
(replace\(origin,)1005 1500 A
(name,)335 2572 A
(object\))469 2974 A
3162 V
(int)201 708 A
(dir)201 976 A
11 Y1
1177(3)S
11 C
(root\(origin\))804 1232 A
3442 V
(struct)402 708 A
(dir)201 1177 A
11 Y1
1378(3)S
11 C
(open)268 1433 A
(*dir)268 1768 A
11 Y1
2036(3)S
11 C
(open\(dir\))603 2091 A
3582 V
(char)268 708 A
(*dir)268 1043 A
11 Y1
1311(3)S
11 C
(next\(dp\))536 1366 A
3722 V
(errstat)469 708 A
(dir)201 1244 A
11 Y1
1445(3)S
11 C
(close\(dp\))603 1500 A
3862 V
(errstat)469 708 A
(dir)201 1244 A
11 Y1
1445(3)S
11 C
(rewind\(dp\))670 1500 A
4202 V
12 B
708(Description)S
4378 V
12 R
708(This)S
(module)362 958 A
1355(provides)S
1806(a)S
1895(portable)S
(interface)426 2327 A
2788(to)S
2917(directory)S
3390(servers.)S
3829(It)S
3939(has)S
4135(the)S
4318(advantage)S
4844(of)S
4981(being)S
4518 V
708(independent)S
1342(of)S
1487(the)S
1679(particular)S
2189(directory)S
2670(server)S
3010(in)S
3147(use,)S
3381(but)S
3578(it)S
3689(does)S
3953(not)S
4150(make)S
4455(available)S
4936(all)S
5101(the)S
4658 V
(functionality)619 708 A
1378(of)S
1530(every)S
1850(directory)S
2339(server,)S
2717(e.g.,)S
2972(the)S
3171(Soap)S
3463(Server.)S
3891(It)S
4018(is)S
4151(similar)S
4541(to)S
4687(the)S
(module)362 4887 A
4798 V
708(containing)S
1262(the)S
1453(same)S
1745(set)S
1923(of)S
2067(functions)S
2560(but)S
2757(with)S
3016(the)S
3207(prefix)S
3540(``name)S
12 Y1
3884(3)S
12 R
3944('')S
4069(instead)S
4455(of)S
4599(``dir)S
12 Y1
4816(3)S
12 R
4876(''.)S
5061(The)S
4938 V
708(main)S
982(difference)S
1507(is)S
1621(that)S
1836(these)S
2118(functions)S
2601(take)S
2836(an)S
2983(extra)S
3259(argument,)S
12 I
3779(origin)S
12 R
4084(,)S
4147(which)S
4476(is)S
4590(the)S
(capability)478 4771 A
5078 V
708(for)S
880(a)S
964(directory)S
1432(relative)S
1827(to)S
1951(which)S
2277(the)S
2455(given)S
12 I
2753(name)S
12 R
3055(is)S
3166(to)S
3290(be)S
3434(interpreted)S
3990(\(see)S
4216(below\).)S
5254 V
708(In)S
(each)222 849 A
1111(function,)S
1584(the)S
12 I
1772(name)S
12 R
(should)321 2084 A
2445(be)S
2599(a)S
2693(``path)S
3023(name'')S
3407(that)S
3629(specifies)S
4095(a)S
4190(directory)S
4669(or)S
4811(directory)S
5394 V
708(entry.)S
1050(To)S
1217(these)S
1499(functions,)S
2012(a)S
2099(directory)S
2570(is)S
2684(simply)S
3046(a)S
3133(finite)S
3423(mapping)S
3877(from)S
4145(character-string)S
4940(names)S
5534 V
708(to)S
(capabilities.)583 852 A
1515(Each)S
1807(\(name,)S
(capability\))519 2190 A
2759(pair)S
2998(in)S
3142(the)S
3340(mapping)S
3812(is)S
3943(a)S
4048(``directory)S
4619(entry''.)S
5061(The)S
5674 V
(capability)478 708 A
1228(can)S
1438(be)S
1594(for)S
1778(any)S
1994(object,)S
2362(including)S
2860(another)S
3264(directory;)S
3777(this)S
3993(allows)S
4351(arbitrary)S
4811(directory)S
5814 V
708(graphs)S
1080(\(the)S
1319(graphs)S
1691(are)S
1890(not)S
2094(required)S
2548(to)S
2693(be)S
2858(trees\).)S
3240(A)S
(capability)478 3379 A
3908(can)S
4127(be)S
4292(entered)S
4700(in)S
(multiple)404 4845 A
5954 V
708(directories)S
1285(or)S
1450(several)S
1857(times)S
(\(under)316 2183 A
2562(different)S
3044(names\))S
3457(in)S
3614(the)S
3825(same)S
4137(directory,)S
(resulting)424 4668 A
5155(in)S
6094 V
(multiple)404 708 A
1147(links)S
1417(to)S
1546(the)S
1729(same)S
2013(object.)S
2405(Note)S
2677(that)S
2895(some)S
3186(directory)S
3660(servers)S
4040(may)S
4284(have)S
4548(more)S
4833(complex)S
6234 V
708(notions)S
1105(of)S
1248(a)S
1344(directory,)S
1854(but)S
2050(all)S
2214(that)S
2437(is)S
(necessary)471 2559 A
3071(in)S
3206(order)S
3503(to)S
(access)310 3638 A
3989(them)S
4272(from)S
4549(this)S
(module)362 4765 A
5168(is)S
6374 V
708(that)S
920(they)S
1158(satisfy)S
1505(the)S
(above)288 1683 A
2001(rules.)S
6550 V
708(A)S
850(path)S
1112(name)S
1428(is)S
1563(a)S
1671(string)S
2001(of)S
2156(printable)S
2641(characters.)S
3248(It)S
3377(consists)S
3814(of)S
3969(a)S
4077(sequence)S
4574(of)S
4729(0)S
4844(or)S
5000(more)S
6690 V
(``components'',)777 708 A
1550(separated)S
2073(by)S
2258(``/'')S
2521(characters.)S
3139(Each)S
(component)536 3446 A
4047(is)S
4193(a)S
4312(string)S
4653(of)S
4818(printable)S
6830 V
708(characters)S
1241(not)S
1435(containing)S
1985(``/''.)S
2283(As)S
2458(a)S
2552(special)S
2929(case,)S
3208(the)S
3396(path)S
3644(name)S
3946(may)S
4195(begin)S
4504(with)S
4761(a)S
4886(``/'',)S
5155(in)S
6970 V
708(which)S
1047(case)S
1299(the)S
1489(first)S
(component)536 1728 A
2306(starts)S
2605(with)S
2863(the)S
3053(next)S
3303(character)S
3791(of)S
3934(the)S
4124(path)S
4374(name.)S
4738(Examples:)S
7110 V
(``a/silly/path'',)733 708 A
(``/profile/group/cosmo-33''.)1377 1471 A
7286 V
708(If)S
850(the)S
1058(path)S
1326(name)S
1648(begins)S
2023(with)S
2299(a)S
2413(``/'',)S
2701(it)S
2829(is)S
2970(an)S
3144(``absolute'')S
3771(path)S
4039(name,)S
4391(otherwise)S
4924(it)S
5053(is)S
5195(a)S
7700 V
2683(Amoeba)S
3123(5.3)S
(155)180 5069 A
7920 V
EP
%%Page: 156 162
BP
/slant 0 def
/height 0 def
500 V
12 R
708(direct)S
1005(\(L\))S
2567(Library)S
2961(Routines)S
4796(direct)S
5093(\(L\))S
860 V
(``relative'')529 708 A
1278(path)S
1527(name.)S
1890(The)S
2119(interpretation)S
2814(of)S
2956(relative)S
3362(path)S
3611(names)S
3961(is)S
4083(relative)S
4489(to)S
4623(the)S
4811(directory)S
1000 V
708(specified)S
1176(by)S
1326(the)S
12 I
1504(origin)S
12 R
(capability.)508 1839 A
1176 V
708(In)S
839(detail,)S
1169(the)S
1347(interpretation)S
2031(of)S
2162(a)S
2246(path)S
2484(name)S
2776(relative)S
3171(to)S
3295(a)S
3379(directory)S
12 I
3847(d)S
12 R
3947(is)S
4058(as)S
4189(follows:)S
1352 V
708(\(1\))S
1008(If)S
1120(the)S
1298(path)S
1536(has)S
1727(no)S
(components)583 1877 A
2490(\(is)S
2642(a)S
2726(zero-length)S
3308(string\),)S
3685(it)S
3783(specifies)S
4238(the)S
4416(directory)S
12 I
4884(d)S
12 R
4954(;)S
1528 V
708(\(2\))S
1008(Otherwise,)S
1589(the)S
1788(first)S
(component)536 2036 A
2624(in)S
2770(the)S
2970(path)S
3230(name)S
3544(specifies)S
4021(the)S
4221(name)S
4535(of)S
4688(an)S
4854(entry)S
5155(in)S
1668 V
1008(directory)S
12 I
1476(d)S
12 R
1576(\(either)S
1924(an)S
2068(existing)S
2481(name,)S
2803(or)S
2934(one)S
3138(that)S
3350(is)S
3461(to)S
3585(be)S
3729(added)S
4047(to)S
4171(the)S
4349(mapping\);)S
1844 V
708(\(3\))S
1008(If)S
1137(there)S
1427(are)S
1623(any)S
1844(subsequent)S
(components)583 2427 A
3057(in)S
3198(the)S
3393(path)S
3649(name,)S
3989(the)S
4185(first)S
(component)536 4430 A
5014(must)S
1984 V
1008(map)S
1269(to)S
1416(the)S
(capability)478 1617 A
2148(of)S
2302(a)S
2409(directory,)S
2929(in)S
3075(which)S
3423(case)S
3684(the)S
3884(rest)S
4112(of)S
4265(the)S
(components)583 4465 A
5100(are)S
2124 V
1008(recursively)S
1577(interpreted)S
2133(as)S
2264(a)S
2348(path)S
2586(name)S
2878(relative)S
3273(to)S
3397(that)S
3609(directory.)S
2300 V
708(The)S
943(interpretation)S
1644(of)S
1793(absolute)S
2244(path)S
2500(names)S
2857(is)S
2986(the)S
3182(same,)S
3509(except)S
3873(that)S
4103(the)S
4299(portion)S
4696(of)S
4845(the)S
5041(path)S
2440 V
708(name)S
1013(after)S
1280(the)S
1471(``/'')S
1712(is)S
1836(interpreted)S
2405(relative)S
2813(to)S
2950(the)S
3141(user's)S
(``root'')359 3474 A
3876(directory,)S
4387(rather)S
4714(than)S
4965(to)S
5101(the)S
2580 V
708(current)S
1111(working)S
1573(directory)S
2070(of)S
2230(the)S
2437(process.)S
2919(\(Each)S
3261(user)S
3523(is)S
3664(given)S
3992(a)S
(capability)478 4106 A
4644(for)S
4846(a)S
4960(single)S
2720 V
708(directory)S
1186(from)S
1462(which)S
1798(all)S
1960(other)S
2249(directories)S
2802(and)S
3016(objects)S
3399(are)S
(reached.)407 3588 A
4065(This)S
4320(is)S
4441(called)S
4771(the)S
4959(user's)S
2860 V
708(root)S
933(directory.\))S
3036 V
708(The)S
(components)583 930 A
1547(``.'')S
1775(and)S
1983(``.)S
2115(.'')S
2262(have)S
2525(special)S
2897(meaning.)S
3408(Paths)S
3705(containing)S
4250(occurrences)S
4864(of)S
5000(these)S
3176 V
(components)583 708 A
1322(are)S
1502(syntactically)S
2146(evaluated)S
2641(to)S
2766(a)S
2851(normal)S
3225(form)S
3491(not)S
3675(containing)S
4215(any)S
4419(such)S
4670(occurrences)S
3316 V
708(before)S
1073(any)S
1303(directory)S
1797(operations)S
2357(take)S
(place.)286 2615 A
2987(See)S
12 I
3218(path)S
12 Y1
3432(3)S
12 I
3492(norm)S
12 R
3757(\(L\))S
3969(for)S
4167(the)S
4371(meaning)S
4843(of)S
5000(these)S
3456 V
708(special)S
(components.)613 1075 A
3772 V
12 I
708(Errors)S
3948 V
12 R
708(Most)S
986(functions)S
1466(return)S
1786(the)S
1964(error)S
2231(status)S
2537(of)S
2669(the)S
2848(operation.)S
3396(Most)S
3675(of)S
3807(them)S
4080(perform)S
4502(transactions,)S
5142(so)S
4088 V
708(in)S
(addition)396 851 A
1296(to)S
1439(the)S
1636(errors)S
1969(described)S
2482(below,)S
2857(they)S
3114(may)S
3371(return)S
3710(any)S
3933(of)S
4083(the)S
4279(standard)S
4737(RPC)S
5012(error)S
4228 V
708(codes.)S
4404 V
12 C
(STD)219 708 A
12 Y1
927(3)S
12 C
987(OK)S
12 R
1133(:)S
1668(the)S
1846(operation)S
(succeeded.)527 2333 A
4580 V
12 C
(STD)219 708 A
12 Y1
927(3)S
12 C
(CAPBAD)438 987 A
12 R
1425(:)S
1668(an)S
1812(invalid)S
(capability)478 2178 A
2686(was)S
2905(used.)S
4756 V
12 C
(STD)219 708 A
12 Y1
927(3)S
12 C
(DENIED)438 987 A
12 R
1425(:)S
1668(one)S
1901(of)S
2061(the)S
(capabilities)553 2268 A
(encountered)591 2880 A
3531(while)S
3861(parsing)S
4277(the)S
4485(path)S
4753(name)S
5075(had)S
4896 V
1668(insufficient)S
(access)310 2299 A
2687(rights)S
3040(\(for)S
3300(example,)S
3817(the)S
4042(directory)S
4557(in)S
4728(which)S
5101(the)S
5036 V
(capability)478 1668 A
2176(is)S
2287(to)S
2411(be)S
2555(installed)S
2996(is)S
3107(unwritable\).)S
5212 V
12 C
(STD)219 708 A
12 Y1
927(3)S
12 C
(NOTFOUND)584 987 A
12 R
1571(:)S
1668(one)S
1875(of)S
2009(the)S
(components)583 2190 A
(encountered)591 2806 A
3430(while)S
3733(parsing)S
4122(the)S
4303(path)S
4544(name)S
4840(does)S
5095(not)S
5352 V
1668(exist)S
1952(in)S
2101(the)S
2304(directory)S
2797(specified)S
3290(by)S
3465(the)S
(preceding)477 3668 A
(components)583 4200 A
4837(\(the)S
5080(last)S
5492 V
(component)536 1668 A
2272(need)S
2568(not)S
2791(exist)S
3089(for)S
3300(some)S
3624(of)S
3794(the)S
4011(functions,)S
4560(but)S
4783(the)S
5000(other)S
5632 V
(components)583 1668 A
2281(must)S
2546(refer)S
2807(to)S
2931(existing)S
3344(directory)S
3812(entries\).)S
5948 V
12 I
708(Functions)S
6264 V
708(dir)S
12 Y1
849(3)S
12 I
(append)354 909 A
6500 V
11 C
(errstat)469 1068 A
6640 V
(dir)201 1068 A
11 Y1
1269(3)S
11 C
(append\(origin,)938 1324 A
(name,)335 2329 A
(object\))469 2731 A
6780 V
(capability)670 1068 A
(*origin;)536 1805 A
6920 V
(char)268 1068 A
(*name;)402 1403 A
7060 V
(capability)670 1068 A
(*object;)536 1805 A
7260 V
12 I
708(Dir)S
12 Y1
877(3)S
12 I
(append)354 937 A
12 R
1337(adds)S
1594(the)S
12 I
1778(object)S
12 R
(capability)478 2120 A
2634(to)S
2764(a)S
2854(directory)S
3328(server)S
(under)275 3661 A
12 I
3972(name)S
12 R
4280(\(interpreted)S
4884(relative)S
7700 V
(156)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 157 163
BP
/slant 0 def
/height 0 def
500 V
12 R
708(direct)S
1005(\(L\))S
2567(Library)S
2961(Routines)S
4796(direct)S
5093(\(L\))S
860 V
708(to)S
12 I
870(origin)S
12 R
1175(\).)S
1344(It)S
1487(can)S
1723(subsequently)S
2421(be)S
2603(retrieved)S
3103(by)S
3291(giving)S
3667(the)S
3883(same)S
12 I
4200(origin)S
12 R
4573(and)S
12 I
4815(name)S
12 R
5155(to)S
1000 V
12 I
708(dir)S
12 Y1
849(3)S
12 I
909(lookup)S
12 R
1247(.)S
1345(The)S
1571(path)S
1817(up)S
1975(to,)S
2137(but)S
2329(not)S
2521(including,)S
3045(the)S
3231(last)S
(component)536 3438 A
4012(of)S
12 I
4151(name)S
12 R
4461(must)S
4734(refer)S
5003(to)S
5135(an)S
1140 V
708(existing)S
1151(directory.)S
1709(This)S
1984(directory)S
2481(is)S
2621(modified)S
3117(by)S
3296(adding)S
3683(an)S
3856(entry)S
4164(consisting)S
4713(of)S
4873(the)S
5080(last)S
1280 V
(component)536 708 A
1275(of)S
12 I
1407(name)S
12 R
1710(and)S
1915(the)S
12 I
2094(object)S
12 R
(capability.)508 2431 A
3000(There)S
3314(must)S
3580(be)S
3725(no)S
3876(existing)S
4291(entry)S
4572(with)S
4820(the)S
5000(same)S
1420 V
708(name.)S
1656 V
708(Required)S
1181(Rights:)S
1796 V
12 C
1062(SP)S
12 Y1
1208(3)S
12 C
(MODRGT)438 1268 A
12 R
1736(in)S
1860(the)S
2038(directory)S
2506(that)S
2718(is)S
2829(to)S
2953(be)S
3097(modified)S
2092 V
708(Error)S
(Conditions:)563 995 A
2232 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(EXISTS)438 1341 A
12 R
1779(:)S
12 I
1969(name)S
12 R
2261(already)S
2648(exists)S
2608 V
12 I
708(dir)S
12 Y1
849(3)S
12 I
909(breakpath)S
2844 V
11 C
(char)268 1068 A
1403(*)S
2984 V
(dir)201 1068 A
11 Y1
1269(3)S
11 C
(breakpath\(origin,)1139 1324 A
(name,)335 2530 A
(dir\))268 2932 A
3124 V
(capability)670 1068 A
(*origin;)536 1805 A
3264 V
(char)268 1068 A
(*name;)402 1403 A
3404 V
(capability)670 1068 A
(*dir;)335 1805 A
3640 V
12 I
708(Dir)S
12 Y1
877(3)S
12 I
937(breakpath)S
12 R
1480(stores)S
1807(in)S
12 I
1945(dir)S
12 R
2140(the)S
(capability)478 2332 A
2854(for)S
3040(the)S
3233(directory)S
3716(allegedly)S
4205(containing)S
4760(the)S
4953(object)S
3780 V
708(specified)S
1192(by)S
12 I
1358(name)S
12 R
1676(\(interpreted)S
2289(relative)S
2700(to)S
12 I
2840(origin)S
12 R
3145(\).)S
3291(It)S
3411(returns)S
3793(the)S
3986(simple)S
4354(name)S
4661(of)S
4807(the)S
5000(entry)S
3920 V
(under)275 708 A
1021(which)S
1355(the)S
1541(object)S
1875(is)S
1994(stored,)S
2358(or)S
2497(would)S
2838(be)S
2991(stored)S
3326(if)S
3440(it)S
3547(existed.)S
3989(It)S
4103(is)S
4223(intended)S
4678(for)S
4859(locating)S
4060 V
708(the)S
895(directory)S
1372(that)S
1593(must)S
1867(be)S
2019(modified)S
2494(to)S
2626(install)S
2961(an)S
3113(object)S
3447(in)S
3579(a)S
3671(directory)S
4147(server)S
(under)275 4482 A
4795(the)S
4981(given)S
4200 V
12 I
708(name)S
12 R
980(.)S
1070(In)S
1201(detail,)S
12 I
1531(dir)S
12 Y1
1672(3)S
12 I
1732(breakpath)S
12 R
2261(does)S
2512(the)S
2690(following:)S
4376 V
708(If)S
854(the)S
12 I
1066(name)S
12 R
1402(is)S
1547(a)S
1665(path)S
1937(name)S
2264(containing)S
2839(only)S
3118(one)S
(component,)566 3357 A
12 I
3988(dir)S
12 Y1
4129(3)S
12 I
4189(breakpath)S
12 R
4753(stores)S
5101(the)S
4516 V
(capability)478 708 A
1218(for)S
1392(either)S
1701(the)S
12 I
1881(origin)S
12 R
2218(\(if)S
2366(the)S
2546(path)S
2785(name)S
3078(is)S
3190(relative\))S
3627(or)S
3759(the)S
3938(user's)S
4259(root)S
4485(directory)S
4954(\(if)S
5101(the)S
4656 V
708(path)S
946(name)S
1238(is)S
1349(absolute\))S
1823(in)S
12 I
1947(dir)S
12 R
2098(,)S
2158(and)S
2362(returns)S
2729(the)S
12 I
2907(name)S
12 R
(\(without)411 3209 A
3650(any)S
3854(leading)S
(``/''\).)269 4240 A
4832 V
708(Otherwise,)S
1284(the)S
12 I
1478(name)S
12 R
1796(is)S
1923(parsed)S
2286(into)S
2521(two)S
2750(path)S
3005(names,)S
3391(the)S
3586(first)S
3830(consisting)S
4367(of)S
4515(all)S
4684(but)S
4885(the)S
5080(last)S
4972 V
(component)536 708 A
1307(and)S
1544(the)S
(second)335 1755 A
2153(a)S
2269(relative)S
2696(path)S
2966(name)S
3290(consisting)S
3842(of)S
4005(just)S
4242(the)S
4452(last)S
(component.)566 4683 A
5112 V
12 I
708(Dir)S
12 Y1
877(3)S
12 I
937(breakpath)S
12 R
1472(stores)S
1792(the)S
(capability)478 1977 A
2492(for)S
2671(the)S
2856(directory)S
3331(specified)S
3806(by)S
3963(the)S
4148(first)S
4382(in)S
12 I
4513(dir)S
12 R
4701(and)S
4912(returns)S
5252 V
708(the)S
(second.)365 886 A
1311(The)S
1529(first)S
1756(path)S
1994(name)S
2286(must)S
2551(refer)S
2812(to)S
2936(an)S
3080(existing)S
3493(directory.)S
5568 V
12 I
708(dir)S
12 Y1
849(3)S
12 I
909(close)S
5804 V
11 C
(errstat)469 1068 A
5944 V
(dir)201 1068 A
11 Y1
1269(3)S
11 C
(close\(dp\))603 1324 A
6084 V
(struct)402 1068 A
(dir)201 1537 A
11 Y1
1738(3)S
11 C
(open)268 1793 A
(*dp;)268 2128 A
6284 V
12 I
708(Dir)S
12 Y1
877(3)S
12 I
937(close)S
12 R
1247(is)S
1379(called)S
1720(after)S
1995(reading)S
2409(a)S
2514(directory)S
3003(with)S
12 I
3270(dir)S
12 Y1
3411(3)S
12 I
3471(open)S
12 R
3766(and)S
12 I
3991(dir)S
12 Y1
4132(3)S
12 I
4192(next)S
12 R
4404(.)S
4515(It)S
4641(frees)S
4929(up)S
5101(the)S
6424 V
708(storage)S
1089(associated)S
1618(with)S
1865(the)S
2044(open)S
2308(directory)S
2776(specified)S
3244(by)S
12 I
3394(dp)S
12 R
3524(,)S
3584(which)S
3910(must)S
4175(be)S
4319(a)S
4403(value)S
4695(returned)S
5129(by)S
6564 V
708(a)S
802(previous)S
1258(call)S
1474(to)S
12 I
1608(dir)S
12 Y1
1749(3)S
12 I
1809(open)S
12 R
2053(.)S
2153(The)S
2381(directory)S
2859(is)S
2980(now)S
3229(``closed'')S
3743(and)S
3958(any)S
4173(subsequent)S
4750(attempt)S
5155(to)S
6704 V
708(use)S
12 I
899(dp)S
12 R
(will)190 1059 A
(produce)389 1279 A
(undefined)483 1698 A
2211(behavior.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(157)180 5069 A
7920 V
EP
%%Page: 158 164
BP
/slant 0 def
/height 0 def
500 V
12 R
708(direct)S
1005(\(L\))S
2567(Library)S
2961(Routines)S
4796(direct)S
5093(\(L\))S
860 V
12 I
708(dir)S
12 Y1
849(3)S
12 I
909(create)S
1096 V
11 C
(errstat)469 1068 A
1236 V
(dir)201 1068 A
11 Y1
1269(3)S
11 C
(create\(origin,)938 1324 A
(name\))335 2329 A
1376 V
(capability)670 1068 A
(*origin;)536 1805 A
1516 V
(char)268 1068 A
(*name;)402 1403 A
1716 V
12 I
708(Dir)S
12 Y1
877(3)S
12 I
937(create)S
12 R
1303(creates)S
1694(a)S
1801(directory)S
2292(and)S
2519(stores)S
2855(its)S
(capability)478 3023 A
3554(in)S
3701(a)S
3808(directory)S
4299(server)S
(under)275 4649 A
12 I
4977(name)S
1856 V
12 R
708(\(interpreted)S
1311(relative)S
1712(to)S
12 I
1842(origin)S
12 R
2147(\).)S
2284(If)S
12 I
2402(name)S
12 R
2710(is)S
2827(a)S
2917(relative)S
3318(path)S
3562(name,)S
3889(the)S
4072(new)S
4309(directory)S
4782(is)S
4898(created)S
1996 V
708(using)S
1003(the)S
1185(server)S
1516(containing)S
2060(the)S
12 I
2243(origin)S
12 R
2583(directory,)S
3086(otherwise)S
3593(the)S
3776(new)S
4013(directory)S
4486(is)S
4602(created)S
4988(using)S
2136 V
708(the)S
896(server)S
1233(containing)S
1783(the)S
1971(user's)S
2301(root)S
2536(directory.)S
3074(\(Note)S
3391(that)S
3612(either)S
3928(of)S
4068(these)S
4356(might)S
4677(be)S
4830(different)S
2276 V
708(from)S
1001(the)S
1207(server)S
1562(that)S
1802(contains)S
2263(the)S
2469(directory)S
2965(which)S
3319(is)S
3458(to)S
3610(be)S
3782(modified)S
4277(by)S
4455(adding)S
4841(the)S
5047(new)S
2416 V
708(directory.\))S
2592 V
708(The)S
949(path)S
1210(up)S
1383(to,)S
1560(but)S
1767(not)S
1974(including)S
2483(the)S
2684(last)S
(component)536 2906 A
3495(of)S
12 I
3650(name)S
12 R
3976(must)S
4265(refer)S
4550(to)S
4698(an)S
4866(existing)S
2732 V
708(directory.)S
1237(This)S
1483(directory)S
1952(is)S
2064(modified)S
2531(by)S
2681(adding)S
3039(an)S
3183(entry)S
3462(consisting)S
3982(of)S
4113(a)S
4197(new)S
4429(directory,)S
4927(named)S
2872 V
708(by)S
858(the)S
1036(last)S
(component)536 1235 A
1801(of)S
12 I
1932(name)S
12 R
2204(.)S
2294(There)S
2607(must)S
2872(be)S
3016(no)S
3166(existing)S
3579(entry)S
3858(with)S
4104(the)S
4282(same)S
4561(name.)S
3108 V
708(Required)S
1181(Rights:)S
3248 V
12 C
1062(SP)S
12 Y1
1208(3)S
12 C
(MODRGT)438 1268 A
12 R
1736(in)S
1860(the)S
2038(directory)S
2506(that)S
2718(is)S
2829(to)S
2953(be)S
3097(modified)S
3544 V
708(Error)S
(Conditions:)563 995 A
3684 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(EXISTS)438 1341 A
12 R
1779(:)S
12 I
1969(name)S
12 R
2261(already)S
2648(exists)S
2954(in)S
3078(the)S
3256(directory)S
3724(server)S
4060 V
12 I
708(dir)S
12 Y1
849(3)S
12 I
909(delete)S
4296 V
11 C
(errstat)469 1068 A
4436 V
(dir)201 1068 A
11 Y1
1269(3)S
11 C
(delete\(origin,)938 1324 A
(name\))335 2329 A
4576 V
(capability)670 1068 A
(*origin;)536 1805 A
4716 V
(char)268 1068 A
(*name;)402 1403 A
4916 V
12 I
708(Dir)S
12 Y1
877(3)S
12 I
937(delete)S
12 R
1302(deletes)S
1704(the)S
1917(entry)S
2231(specified)S
2734(by)S
12 I
2919(name)S
12 R
3257(\(interpreted)S
3890(relative)S
4321(to)S
12 I
4481(origin)S
12 R
4786(\))S
4893(from)S
5195(a)S
5056 V
708(directory)S
1178(server.)S
1567(The)S
1787(object)S
2115(specified)S
2585(by)S
2737(the)S
(capability)478 2917 A
3427(associated)S
3957(with)S
12 I
4204(name)S
12 R
4507(in)S
4632(the)S
4811(directory)S
5196 V
708(entry)S
987(is)S
1098(not)S
1282(affected.)S
1764(If)S
1876(desired,)S
2286(it)S
(should)321 2384 A
2735(be)S
2879(separately)S
3401(destroyed)S
3901(\(see)S
12 I
4127(std)S
12 Y1
4268(3)S
12 I
4328(destroy)S
12 R
4694(\(L\)\).)S
5432 V
708(Required)S
1181(Rights:)S
5572 V
12 C
1062(SP)S
12 Y1
1208(3)S
12 C
(MODRGT)438 1268 A
12 R
1736(in)S
1860(the)S
2038(directory)S
2506(that)S
2718(is)S
2829(to)S
2953(be)S
3097(modified)S
5948 V
12 I
708(dir)S
12 Y1
849(3)S
12 I
909(lookup)S
6184 V
11 C
(errstat)469 1068 A
6324 V
(dir)201 1068 A
11 Y1
1269(3)S
11 C
(lookup\(origin,)938 1324 A
(name,)335 2329 A
(object\))469 2731 A
6464 V
(capability)670 1068 A
(*origin;)536 1805 A
6604 V
(char)268 1068 A
(*name;)402 1403 A
6744 V
(capability)670 1068 A
(*object;)536 1805 A
6944 V
12 I
708(Dir)S
12 Y1
877(3)S
12 I
937(lookup)S
12 R
1313(finds)S
1593(the)S
(capability)478 1779 A
2295(named)S
2655(by)S
12 I
2813(name)S
12 R
3123(\(interpreted)S
3728(relative)S
4131(to)S
12 I
4263(origin)S
12 R
4568(\))S
4647(and)S
4859(stores)S
5181(it)S
7084 V
708(in)S
12 I
832(object)S
12 R
1138(.)S
7700 V
(158)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 159 165
BP
/slant 0 def
/height 0 def
500 V
12 R
708(direct)S
1005(\(L\))S
2567(Library)S
2961(Routines)S
4796(direct)S
5093(\(L\))S
860 V
12 I
708(dir)S
12 Y1
849(3)S
12 I
909(next)S
1096 V
11 C
(char)268 1068 A
1403(*)S
1236 V
(dir)201 1068 A
11 Y1
1269(3)S
11 C
(next\(dp\))536 1324 A
1376 V
(struct)402 1068 A
(dir)201 1537 A
11 Y1
1738(3)S
11 C
(open)268 1793 A
(*dp;)268 2128 A
1576 V
12 I
708(Dir)S
12 Y1
877(3)S
12 I
937(next)S
12 R
1193(returns)S
1574(the)S
1766(next)S
2019(name)S
2326(from)S
2607(the)S
2800(open)S
3079(directory)S
3562(specified)S
4045(by)S
12 I
4210(dp)S
12 R
4340(,)S
4415(which)S
4756(must)S
5036(be)S
5195(a)S
1716 V
708(value)S
1011(returned)S
1456(by)S
1616(a)S
1710(call)S
1926(to)S
12 I
2060(dir)S
12 Y1
2201(3)S
12 I
2261(open)S
12 R
2505(.)S
2605(At)S
2767(the)S
2955(end)S
3169(of)S
3310(the)S
3498(directory,)S
4006(0)S
4106(is)S
4227(returned.)S
4731(The)S
4959(return)S
1856 V
708(value)S
1028(points)S
1381(to)S
1533(static)S
1848(data)S
2108(and)S
2340(is)S
(overwritten)560 2479 A
3097(by)S
(each)222 3275 A
3555(call.)S
3849(The)S
4096(user)S
4357(is)S
(responsible)551 4497 A
5107(for)S
1996 V
708(ensuring)S
1154(that)S
(multiple)404 1366 A
1800(threads)S
2180(do)S
2330(not)S
2514(simultaneously)S
3276(read)S
3515(from)S
3781(the)S
3959(same)S
4238(open)S
4502(directory.)S
2312 V
12 I
708(dir)S
12 Y1
849(3)S
12 I
909(open)S
2548 V
11 C
(struct)402 1068 A
(dir)201 1537 A
11 Y1
1738(3)S
11 C
(open)268 1793 A
2128(*)S
2688 V
(dir)201 1068 A
11 Y1
1269(3)S
11 C
(open\(dir\))603 1324 A
2828 V
(capability)670 1068 A
(*dir;)335 1805 A
3028 V
12 I
708(Dir)S
12 Y1
877(3)S
12 I
937(open)S
12 R
1220(is)S
1340(called)S
1669(to)S
1802(``open'')S
2239(the)S
2426(directory)S
2903(specified)S
3380(by)S
12 I
3539(dir)S
12 R
3690(,)S
3759(in)S
3892(preparation)S
4483(for)S
4664(listing)S
5006(it.)S
5174(It)S
3168 V
708(returns)S
1089(a)S
1187(pointer)S
1574(to)S
1712(a)S
1810(temporary)S
2352(data)S
2598(structure)S
3067(that)S
3293(keeps)S
3612(track)S
3899(of)S
4044(a)S
4142(current)S
(position)389 4530 A
4963(in)S
5101(the)S
3308 V
708(open)S
979(directory.)S
1514(The)S
1739(names)S
2085(entered)S
2479(in)S
2610(the)S
2795(directory)S
3270(can)S
3475(subsequently)S
4142(be)S
4293(retrieved)S
4762(by)S
(calling)330 4919 A
3448 V
12 I
708(dir)S
12 Y1
849(3)S
12 I
909(next)S
12 R
1160(with)S
1415(the)S
1602(value)S
1903(returned)S
2346(by)S
12 I
2505(dir)S
12 Y1
2646(3)S
12 I
2706(open.)S
12 R
3019(After)S
3316(listing)S
3658(the)S
3845(directory)S
4322(it)S
(should)321 4429 A
4788(be)S
4940(closed)S
3588 V
708(with)S
12 I
954(dir)S
12 Y1
1095(3)S
12 I
1155(close)S
12 R
1414(.)S
(Multiple)417 1504 A
1951(directories)S
2494(can)S
2692(be)S
2836(open)S
3100(at)S
3218(the)S
3396(same)S
3675(time.)S
3904 V
12 I
708(dir)S
12 Y1
849(3)S
12 I
909(origin)S
4140 V
11 C
(capability)670 1068 A
1805(*)S
4280 V
(dir)201 1068 A
11 Y1
1269(3)S
11 C
(origin\(name\))804 1324 A
4420 V
(char)268 1068 A
(*name)335 1403 A
4620 V
12 R
708(If)S
12 I
850(name)S
12 R
1182(is)S
1323(an)S
1497(absolute)S
1960(path)S
2228(name,)S
12 I
2580(dir)S
12 Y1
2721(3)S
12 I
2781(origin)S
12 R
3146(returns)S
3543(the)S
(capability)478 3752 A
4291(for)S
4494(the)S
4703(user's)S
5054(root)S
4760 V
708(directory.)S
1263(Otherwise)S
1819(it)S
1943(returns)S
2336(the)S
(capability)478 2540 A
3074(for)S
3272(the)S
3476(current)S
3876(working)S
4335(directory)S
4829(which)S
5181(it)S
4900 V
708(obtains)S
1095(from)S
1369(the)S
(capability)478 1555 A
2071(environment.)S
2780(This)S
3034(function)S
3476(is)S
3596(used)S
3856(to)S
3989(obtain)S
4330(an)S
(initial)284 4483 A
4806(value)S
5107(for)S
5040 V
708(the)S
12 I
886(origin)S
12 R
1221(parameter)S
1737(for)S
1909(the)S
2087(other)S
2366(functions)S
2846(in)S
2970(this)S
(module.)392 3175 A
5356 V
12 I
708(dir)S
12 Y1
849(3)S
12 I
909(replace)S
5592 V
11 C
(errstat)469 1068 A
5732 V
(dir)201 1068 A
11 Y1
1269(3)S
11 C
(replace\(origin,)1005 1324 A
(name,)335 2396 A
(object\))469 2798 A
5872 V
(capability)670 1068 A
(*origin;)536 1805 A
6012 V
(char)268 1068 A
(*name;)402 1403 A
6152 V
(capability)670 1068 A
(*object;)536 1805 A
6352 V
12 I
708(Dir)S
12 Y1
877(3)S
12 I
937(replace)S
12 R
(replaces)398 1342 A
1772(the)S
1952(current)S
(capability)478 2328 A
2838(stored)S
(under)275 3166 A
12 I
3473(name)S
12 R
3778(\(interpreted)S
4378(relative)S
4776(to)S
12 I
4903(origin)S
12 R
5208(\))S
6492 V
708(with)S
975(the)S
1174(specified)S
12 I
1663(object)S
12 R
(capability.)508 2020 A
2609(The)S
12 I
2848(name)S
12 R
3171(must)S
3457(refer)S
3739(to)S
3884(an)S
4049(existing)S
4482(directory)S
4970(entry.)S
6632 V
708(This)S
956(directory)S
1427(entry)S
1709(is)S
1823(changed)S
2258(to)S
2385(refer)S
2649(to)S
2776(the)S
2957(specified)S
12 I
3428(object)S
12 R
(capability)478 3767 A
4278(as)S
4412(an)S
4559(atomic)S
4923(action.)S
6772 V
708(The)S
926(entry)S
1205(is)S
1316(not)S
1500(first)S
1727(deleted)S
2107(then)S
2345(appended.)S
7008 V
708(Required)S
1181(Rights:)S
7148 V
12 C
1062(SP)S
12 Y1
1208(3)S
12 C
(MODRGT)438 1268 A
12 R
1736(in)S
1860(the)S
2038(directory)S
2506(that)S
2718(is)S
2829(to)S
2953(be)S
3097(modified)S
7700 V
2683(Amoeba)S
3123(5.3)S
(159)180 5069 A
7920 V
EP
%%Page: 160 166
BP
/slant 0 def
/height 0 def
500 V
12 R
708(direct)S
1005(\(L\))S
2567(Library)S
2961(Routines)S
4796(direct)S
5093(\(L\))S
860 V
12 I
708(dir)S
12 Y1
849(3)S
12 I
909(rewind)S
1096 V
11 C
(errstat)469 1068 A
1236 V
(dir)201 1068 A
11 Y1
1269(3)S
11 C
(rewind\(dp\))670 1324 A
1376 V
(struct)402 1068 A
(dir)201 1537 A
11 Y1
1738(3)S
11 C
(open)268 1793 A
(*dp;)268 2128 A
1576 V
12 R
708(This)S
953(routine)S
1326(resets)S
1633(the)S
1811(open)S
2075(directory)S
2543(pointed)S
2935(to)S
3059(by)S
12 I
3209(dp)S
12 R
3369(to)S
3493(the)S
3671(first)S
3898(entry)S
4177(in)S
4301(the)S
4479(directory.)S
1892 V
12 I
708(dir)S
12 Y1
849(3)S
12 I
909(root)S
2128 V
11 C
(errstat)469 1068 A
2268 V
(dir)201 1068 A
11 Y1
1269(3)S
11 C
(root\(origin\))804 1324 A
2408 V
(capability)670 1068 A
(*origin;)536 1805 A
2608 V
12 I
708(Dir)S
12 Y1
877(3)S
12 I
937(root)S
12 R
1183(stores)S
1501(the)S
(capability)478 1684 A
2197(for)S
2374(the)S
2558(user's)S
2884(root)S
3115(directory)S
3589(in)S
12 I
3719(origin)S
12 R
4024(.)S
4120(It)S
4231(returns)S
4604(0)S
4700(on)S
(success,)393 4856 A
2748 V
708(-1)S
839(on)S
989(failure.)S
3044 V
708(Error)S
(Conditions:)563 995 A
3184 V
12 Y
1062(-)S
12 C
1128(1)S
12 R
1201(:)S
(cannot)322 1969 A
2321(find)S
2546(the)S
12 C
(ROOT)292 2724 A
12 R
(capability)478 3046 A
3554(in)S
3678(the)S
3856(environment)S
3524 V
12 B
708(Examples)S
3724 V
11 C
(capability)670 708 A
(rootcap,)536 1445 A
(modify)402 2048 A
11 Y1
2450(3)S
11 C
(dir,)268 2505 A
(object;)469 2840 A
3864 V
(char)268 708 A
(*old)268 1043 A
11 Y1
1311(3)S
11 C
(name)268 1366 A
1701(=)S
("/home/abc";)804 1835 A
4004 V
708(/*)S
(Change)402 909 A
(the)201 1378 A
(name)268 1646 A
(/home/abc)603 1981 A
2651(to)S
(/home/xyz:)670 2852 A
3589(*/)S
4144 V
708(if)S
(\(dir)268 909 A
11 Y1
1177(3)S
11 C
(root\(&rootcap\))938 1232 A
2237(==)S
2438(0\))S
2639({)S
4284 V
(char)268 928 A
(*entry)402 1263 A
11 Y1
1665(3)S
11 C
(name)268 1720 A
2055(=)S
4424 V
(dir)201 1148 A
11 Y1
1349(3)S
11 C
(breakpath\(&rootcap,)1273 1404 A
(old)201 2744 A
11 Y1
2945(3)S
11 C
(name,)335 3000 A
(&modify)469 3402 A
11 Y1
3871(3)S
11 C
(dir\);)335 3926 A
4564 V
928(if)S
(\(entry)402 1129 A
11 Y1
1531(3)S
11 C
(name)268 1586 A
1921(&&)S
4704 V
(dir)201 1148 A
11 Y1
1349(3)S
11 C
(lookup\(&modify)938 1404 A
11 Y1
2342(3)S
11 C
(dir,)268 2397 A
(entry)335 2732 A
11 Y1
3067(3)S
11 C
(name,)335 3122 A
(&object\))536 3524 A
4127(==)S
(STD)201 4328 A
11 Y1
4529(3)S
11 C
4584(OK)S
4785(&&)S
4844 V
(dir)201 1148 A
11 Y1
1349(3)S
11 C
(delete\(&modify)938 1404 A
11 Y1
2342(3)S
11 C
(dir,)268 2397 A
(entry)335 2732 A
11 Y1
3067(3)S
11 C
(name\))335 3122 A
3524(==)S
(STD)201 3725 A
11 Y1
3926(3)S
11 C
(OK\))201 3981 A
4249({)S
4984 V
1148(if)S
(\(dir)268 1349 A
11 Y1
1617(3)S
11 C
(append\(&modify)938 1672 A
11 Y1
2610(3)S
11 C
(dir,)268 2665 A
("xyz",)402 3000 A
(&object\))536 3469 A
4072(==)S
(STD)201 4273 A
11 Y1
4474(3)S
11 C
(OK\))201 4529 A
4797({)S
5124 V
(fprintf\(stderr,)1005 1368 A
("Successful)737 2440 A
(name)268 3244 A
(change\\n"\);)737 3579 A
5264 V
(return;)469 1368 A
5404 V
1148(})S
5544 V
928(})S
5684 V
708(})S
5824 V
(fprintf\(stderr,)1005 708 A
("Error)402 1780 A
2249(--)S
2450(no)S
(name)268 2651 A
(change\\n"\);)737 2986 A
6060 V
12 R
708(Several)S
1134(more)S
1445(examples)S
1964(can)S
2195(be)S
(found)281 2372 A
2716(in)S
2873(the)S
3084(source)S
3463(code)S
3754(for)S
3959(the)S
4170(name-based)S
4811(directory)S
6200 V
708(functions)S
1188(\(see)S
12 I
1414(name)S
12 R
1686(\(L\)\),)S
1943(since)S
2222(they)S
2460(are)S
2639(implemented)S
3301(as)S
(little)224 3432 A
3686(more)S
3965(than)S
4203(calls)S
4456(to)S
4580(this)S
(module.)392 4785 A
6480 V
12 B
708(See)S
913(Also)S
6656 V
12 R
708(name\(L\).)S
7700 V
(160)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 161 167
BP
/slant 0 def
/height 0 def
500 V
12 R
708(environment)S
1339(\(L\))S
2567(Library)S
2961(Routines)S
4462(environment)S
5093(\(L\))S
860 V
2033(\(in)S
2198(libraries:)S
2661(libamoeba.a,)S
3309(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(environment)S
12 R-1
1349(-)S
12 R
(lookup,)364 1477 A
1871(delete)S
2191(and)S
2395(modify)S
2774(string)S
3080(environment)S
3721(variables)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(void)268 708 A
(env)201 1043 A
11 Y1
1244(3)S
11 C
(delete\(env,)737 1299 A
(name\))335 2103 A
2042 V
(char)268 708 A
(*env)268 1043 A
11 Y1
1311(3)S
11 C
(lookup\(env,)737 1366 A
(name\))335 2170 A
2182 V
(char)268 708 A
(**env)335 1043 A
11 Y1
1378(3)S
11 C
(put\(env,)536 1433 A
(env)201 2036 A
11 Y1
2237(3)S
11 C
(alloc,)402 2292 A
(newmap,)469 2761 A
(override\))603 3297 A
2522 V
12 B
708(Description)S
2698 V
12 R
708(This)S
(module)362 969 A
1377(is)S
1504(used)S
1771(for)S
1959(manipulating)S
2643(string)S
2965(environments.)S
3729(A)S
3864(string)S
4187(environment)S
4845(is)S
4973(just)S
5195(a)S
2838 V
708(mapping)S
1164(from)S
1434(character)S
1914(string)S
2224(names)S
2567(to)S
2695(character)S
3175(string)S
3485(values.)S
3887(Each)S
4162(process)S
4558(has)S
4752(a)S
4839(standard)S
2978 V
708(string)S
1014(environment,)S
1685(pointed)S
2077(to)S
2201(by)S
2351(the)S
2529(global)S
12 I
2861(environ)S
12 R
3270(variable.)S
3154 V
708(These)S
1037(routines)S
1467(take)S
1709(the)S
1897(environment)S
2548(pointer)S
2931(as)S
3072(a)S
3166(parameter)S
3692(so)S
3839(that)S
4061(they)S
4309(can)S
4517(operate)S
4914(on)S
5075(any)S
3294 V
708(environment,)S
1390(not)S
1585(just)S
1801(the)S
1989(standard)S
2439(environment.)S
3150(The)S
3378(environment)S
4029(pointer)S
(should)321 4412 A
4773(point)S
5061(to)S
5195(a)S
3434 V
708(NULL-terminated)S
1657(array)S
1972(of)S
2138(pointers)S
2594(to)S
2754(NULL-terminated)S
3704(character)S
4216(strings.)S
4665(Each)S
4973(string)S
3574 V
(should)321 708 A
1060(have)S
1319(the)S
1498(form)S
1765(``name=value'')S
2552(\(where)S
2921(``name'')S
3378(does)S
3630(not)S
3814(contain)S
(``=''\),)303 4200 A
4533(specifying)S
5067(that)S
3714 V
708(``name'')S
1180(maps)S
1481(to)S
1621(``value''.)S
2153(No)S
2347(two)S
2575(strings)S
2944(in)S
3084(the)S
3278(same)S
3573(environment)S
(should)321 4230 A
4597(use)S
4805(the)S
5000(same)S
3854 V
708(name.)S
1083(\(These)S
1466(routines)S
(will)190 1909 A
2152(not)S
2359(add)S
2586(a)S
(duplicate)444 2693 A
3190(name)S
3505(but)S
3712(it)S
3833(is)S
3967(possible)S
4416(to)S
4562(build)S
4862(such)S
5135(an)S
3994 V
708(environment)S
1349(by)S
1499(hand.\))S
4310 V
12 I
708(env)S
12 Y1
876(3)S
12 I
936(delete)S
4546 V
11 C
(void)268 1068 A
4686 V
(env)201 1068 A
11 Y1
1269(3)S
11 C
(delete\(env,)737 1324 A
(name\))335 2128 A
4826 V
(char)268 1068 A
(**env;)402 1403 A
4966 V
(char)268 1068 A
(*name;)402 1403 A
5166 V
12 R
708(This)S
966(function)S
1412(deletes)S
1792(the)S
1983(all)S
2148(environment)S
2802(variables)S
3284(with)S
3544(name)S
12 I
3850(name)S
12 R
4166(from)S
4446(the)S
4638(environment)S
5306 V
708(pointed)S
1138(to)S
1300(by)S
12 I
1488(env)S
12 R
1666(.)S
1794(If)S
12 I
1944(name)S
12 R
2284(is)S
2433(not)S
2655(in)S
2817(the)S
3032(environment)S
3710(then)S
3985(the)S
4200(environment)S
(will)190 4878 A
5135(be)S
5446 V
708(unchanged.)S
5762 V
12 I
708(env)S
12 Y1
876(3)S
12 I
936(lookup)S
5998 V
11 C
(char)268 1068 A
1403(*)S
6138 V
(env)201 1068 A
11 Y1
1269(3)S
11 C
(lookup\(env,)737 1324 A
(name\))335 2128 A
6278 V
(char)268 1068 A
(**env;)402 1403 A
6418 V
(char)268 1068 A
(*name;)402 1403 A
6618 V
12 R
708(This)S
958(routine)S
(looks)261 1336 A
1632(up)S
1787(the)S
1970(environment)S
2616(variable)S
3042(with)S
3294(name)S
12 I
3592(name)S
12 R
3900(in)S
4030(the)S
4214(environment)S
12 I
4861(env)S
12 R
5075(and)S
6758 V
708(returns)S
1085(a)S
1179(pointer)S
1562(to)S
1695(the)S
12 I
1882(value)S
12 R
2193(associated)S
2730(with)S
2985(that)S
3206(name.)S
3567(\(I.e.,)S
3832(the)S
4019(part)S
4247(after)S
4510(the)S
4697(``='')S
4968(in)S
5101(the)S
6898 V
708(environment)S
1349(string.\))S
1756(It)S
1861(returns)S
2228(the)S
2406(NULL-pointer)S
3144(if)S
12 I
3249(name)S
12 R
3551(was)S
3770(not)S
(found)281 3954 A
4265(in)S
4389(the)S
4567(environment.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(161)180 5069 A
7920 V
EP
%%Page: 162 168
BP
/slant 0 def
/height 0 def
500 V
12 R
708(environment)S
1339(\(L\))S
2567(Library)S
2961(Routines)S
4462(environment)S
5093(\(L\))S
860 V
12 I
708(env)S
12 Y1
876(3)S
12 I
936(put)S
1096 V
11 C
(char)268 1068 A
1403(**)S
1236 V
(env)201 1068 A
11 Y1
1269(3)S
11 C
(put\(env,)536 1324 A
(env)201 1927 A
11 Y1
2128(3)S
11 C
(alloc,)402 2183 A
(newmap,)469 2652 A
(override\))603 3188 A
1376 V
(char)268 1068 A
1403(**)S
(env;)268 2006 A
1516 V
(unsigned)536 1068 A
(int)201 1671 A
(*env)268 1939 A
11 Y1
2207(3)S
11 C
(alloc;)402 2262 A
1656 V
(char)268 1068 A
1403(*)S
(newmap;)469 2006 A
1796 V
(int)201 1068 A
(override;)603 2006 A
1996 V
12 R
708(This)S
987(routine)S
1394(adds)S
1679(the)S
1891(``name=value'')S
2711(environment)S
3386(entry)S
3699(pointed)S
4125(to)S
4283(by)S
12 I
4467(newmap)S
12 R
4943(to)S
5101(the)S
2136 V
708(environment)S
12 I
1360(env)S
12 R
1579(if)S
1695(it)S
1803(does)S
2064(not)S
2258(already)S
2655(exist.)S
2984(If)S
3106(the)S
3294(specified)S
3772(``name'')S
4238(already)S
4635(exists)S
4951(it)S
(will)190 5059 A
2276 V
708(only)S
973(be)S
(replaced)411 1138 A
1600(if)S
12 I
1726(override)S
12 R
2197(is)S
(non-zero.)460 2329 A
2870(On)S
3069(entry,)S
12 I
3399(env)S
12 Y1
3567(3)S
12 I
3627(alloc)S
12 R
(should)321 3930 A
4302(point)S
4601(to)S
4746(an)S
4912(integer)S
2416 V
708(containing)S
1297(the)S
1524(number)S
1971(of)S
2150(elements)S
2659(allocated)S
(\(though)375 3175 A
3628(not)S
(necessarily)539 3860 A
4477(in)S
4649(use\))S
4929(in)S
5101(the)S
2556 V
708(environment.)S
1410(If)S
1523(the)S
12 I
1703(env)S
12 R
1913(array)S
2195(is)S
2308(not)S
2494(malloced)S
2970(the)S
3150(value)S
(should)321 3444 A
3797(be)S
3943(zero.)S
4244(On)S
4424(return)S
4746(it)S
4846(contains)S
2696 V
708(the)S
886(new)S
1118(number)S
1517(of)S
1648(elements)S
2109(allocated.)S
2872 V
708(Since)S
1023(the)S
1217(environment)S
1874(may)S
2128(need)S
2402(to)S
2542(grow,)S
2867(it)S
2981(may)S
3235(use)S
12 I
3442(malloc)S
12 R
3828(or)S
12 I
3975(realloc)S
12 R
4374(to)S
4515(obtain)S
4864(a)S
4965(larger)S
3012 V
(piece)256 708 A
994(of)S
1125(memory.)S
3188 V
708(On)S
(success)363 893 A
1293(\(which)S
1668(includes)S
2109(refusing)S
2544(to)S
(replace)351 2676 A
3065(an)S
3217(existing)S
3638(name\),)S
12 I
4009(env)S
12 Y1
4177(3)S
12 I
4237(put)S
12 R
4439(returns)S
4814(a)S
4906(pointer)S
3328 V
708(to)S
848(the)S
1042(new)S
1290(environment.)S
2007(On)S
2201(failure,)S
2595(such)S
2862(as)S
3009(a)S
3109(defective)S
3600(environment)S
4257(or)S
12 I
4403(malloc)S
12 R
4788(failure,)S
5181(it)S
3468 V
708(returns)S
1075(NULL.)S
3748 V
12 B
708(See)S
913(Also)S
3924 V
12 R
708(exec)S
12 Y1
930(3)S
12 R
990(file\(L\),)S
1369(getcap\(L\).)S
7700 V
(162)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 163 169
BP
/slant 0 def
/height 0 def
500 V
12 R
708(error)S
965(\(L\))S
2567(Library)S
2961(Routines)S
4836(error)S
5093(\(L\))S
860 V
2033(\(in)S
2198(libraries:)S
2661(libamoeba.a,)S
3309(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(error)S
12 R-1
975(-)S
12 R
1103(return)S
1423(names)S
1762(of)S
1893(standard)S
2333(exceptions)S
2880(and)S
3084(standard)S
3524(errors)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("exception.h")871 1311 A
2182 V
(char)268 708 A
1043(*)S
2322 V
(exc)201 708 A
11 Y1
909(3)S
11 C
(name\(sig\))603 964 A
2462 V
(signum)402 708 A
(sig;)268 1177 A
2742 V
(#include)536 708 A
("stderr.h")670 1311 A
3022 V
(char)268 708 A
1043(*)S
3162 V
(err)201 708 A
11 Y1
909(3)S
11 C
(why\(err\))536 964 A
3302 V
(errstat)469 708 A
(err;)268 1244 A
3642 V
12 B
708(Description)S
3818 V
12 I
708(Exc)S
12 Y1
890(3)S
12 I
950(name)S
12 R
1252(returns)S
1619(a)S
1703(pointer)S
2076(to)S
2200(a)S
2284(static)S
2571(string)S
2877(describing)S
3411(the)S
3589(exception)S
4089(specified)S
4557(by)S
12 I
4707(sig)S
12 R
4858(.)S
3994 V
12 I
708(Err)S
12 Y1
876(3)S
12 I
936(why)S
12 R
1170(returns)S
1537(a)S
1621(pointer)S
1994(to)S
2118(a)S
2202(static)S
2489(string)S
2795(describing)S
3329(the)S
3507(error)S
3774(specified)S
4242(by)S
12 I
4392(err)S
12 R
4550(.)S
4170 V
708(They)S
1020(only)S
(know)268 1299 A
(about)268 1632 A
1965(the)S
2178(more)S
2492(common)S
2979(errors)S
3328(and)S
3567(exceptions,)S
4179(and)S
4418(return)S
4773(a)S
4892(generic)S
4310 V
708(description,)S
1306(such)S
1557(as)S
4510 V
11 C
(amoeba)402 1068 A
(error)335 1537 A
11 C-1
1939(-)S
11 C
(842780)402 2006 A
4710 V
12 R
708(in)S
832(other)S
1111(cases.)S
1457(More)S
1749(specific)S
2157(errors)S
2471(are)S
2650(covered)S
3063(by)S
3213(other)S
3492(functions,)S
4002(such)S
4253(as)S
12 I
4384(tape)S
12 Y1
4592(3)S
12 I
4652(why)S
12 R
4856(.)S
5026 V
12 I
708(Warnings)S
5202 V
12 R
708(Both)S
12 I
(exc)162 981 A
12 Y1
1143(3)S
12 I
1203(name)S
12 R
1514(and)S
12 I
1727(err)S
12 Y1
1875(3)S
12 I
1935(why)S
12 R
2178(use)S
2378(an)S
2531(internal)S
2942(buffer)S
3279(to)S
3413(store)S
3689(their)S
3952(generic)S
4349(descriptions.)S
5034(This)S
5342 V
708(buffer)S
(will)190 1035 A
1255(be)S
(overwritten)560 1399 A
1989(by)S
2139(a)S
2223(subsequent)S
2789(call,)S
3025(possibly)S
3457(by)S
3607(another)S
4000(thread.)S
5622 V
12 B
708(Example)S
5798 V
12 R
708(The)S
929(function)S
12 I
1365(find)S
12 Y1
1553(3)S
12 I
1613(cap)S
12 R
1830(tries)S
2073(to)S
2200(find)S
2428(a)S
(capability.)508 2515 A
3086(It)S
3194(prints)S
3503(a)S
3591(descriptive)S
4157(message)S
4601(and)S
4809(exits)S
5072(if)S
5181(it)S
5938 V
(cannot.)352 708 A
7700 V
2683(Amoeba)S
3123(5.3)S
(163)180 5069 A
7920 V
EP
%%Page: 164 170
BP
/slant 0 def
/height 0 def
500 V
12 R
708(error)S
965(\(L\))S
2567(Library)S
2961(Routines)S
4836(error)S
5093(\(L\))S
920 V
11 C
(void)268 708 A
1060 V
(find)268 708 A
11 Y1
976(3)S
11 C
(cap\(name,)603 1031 A
(capp\))335 1701 A
1200 V
(char)268 708 A
(name[];)469 1043 A
1340 V
(capability)670 708 A
(*capp;)402 1445 A
1480 V
708({)S
1620 V
(errstat)469 976 A
(err;)268 1512 A
1900 V
(err)201 976 A
1244(=)S
(name)268 1378 A
11 Y1
1646(3)S
11 C
(lookup\(name,)804 1701 A
(capp\);)402 2572 A
2040 V
976(if)S
(\(err)268 1177 A
1512(!=)S
(STD)201 1713 A
11 Y1
1914(3)S
11 C
(OK\))201 1969 A
2237({)S
2180 V
(fprintf\(stderr,)1005 1292 A
("Cannot)469 2364 A
(lookup)402 2900 A
(%s:)201 3369 A
(%s\\n",)402 3637 A
2320 V
(name,)335 1560 A
(err)201 1962 A
11 Y1
2163(3)S
11 C
(why\(err\)\);)670 2218 A
2460 V
(exit\(1\);)536 1292 A
2600 V
976(})S
2740 V
708(})S
3080 V
12 B
708(See)S
913(Also)S
3256 V
12 R
708(exception\(H\),)S
1408(rpc\(L\),)S
1779(signals\(L\),)S
2331(tape\(L\).)S
7700 V
(164)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 165 171
BP
/slant 0 def
/height 0 def
500 V
12 R
708(exception.h)S
1288(\(H\))S
2632(C)S
2742(Include)S
3135(File)S
4499(exception.h)S
5079(\(H\))S
860 V
12 B
708(Name)S
1036 V
12 R
708(exception.h)S
12 R-1
1298(-)S
12 R
1426(predefined)S
1974(exception)S
2474(names)S
1316 V
12 B
708(Synopsis)S
1552 V
11 C
(#include)536 708 A
("exception.h")871 1311 A
1832 V
(#define)469 708 A
(EXC)201 1244 A
11 Y1
1445(3)S
11 C
(ILL)201 1500 A
(\(-2\))268 1842 A
2409(/*)S
(Illegal)469 2610 A
(instruction)737 3146 A
3950(*/)S
1972 V
(#define)469 708 A
(EXC)201 1244 A
11 Y1
1445(3)S
11 C
(ODD)201 1500 A
(\(-3\))268 1842 A
2409(/*)S
(Mis-aligned)737 2610 A
(reference)603 3414 A
4084(*/)S
2112 V
(#define)469 708 A
(EXC)201 1244 A
11 Y1
1445(3)S
11 C
(MEM)201 1500 A
(\(-4\))268 1842 A
2409(/*)S
(Non-existent)804 2610 A
(memory)402 3481 A
3950(*/)S
2252 V
(#define)469 708 A
(EXC)201 1244 A
11 Y1
1445(3)S
11 C
(BPT)201 1500 A
(\(-5\))268 1842 A
2409(/*)S
(Breakpoint)670 2610 A
(instruction)737 3347 A
4151(*/)S
2392 V
(#define)469 708 A
(EXC)201 1244 A
11 Y1
1445(3)S
11 C
(INS)201 1500 A
(\(-6\))268 1842 A
2409(/*)S
(Undefined)603 2610 A
(instruction)737 3280 A
4084(*/)S
2532 V
(#define)469 708 A
(EXC)201 1244 A
11 Y1
1445(3)S
11 C
(DIV)201 1500 A
(\(-7\))268 1842 A
2409(/*)S
(Division)536 2610 A
3213(by)S
(zero)268 3414 A
3749(*/)S
2672 V
(#define)469 708 A
(EXC)201 1244 A
11 Y1
1445(3)S
11 C
(FPE)201 1500 A
(\(-8\))268 1842 A
2409(/*)S
(Floating)536 2610 A
(exception)603 3213 A
3883(*/)S
2812 V
(#define)469 708 A
(EXC)201 1244 A
11 Y1
1445(3)S
11 C
(ACC)201 1500 A
(\(-9\))268 1842 A
2409(/*)S
(Memory)402 2610 A
(access)402 3079 A
(control)469 3548 A
(violation)603 4084 A
4754(*/)S
2952 V
(#define)469 708 A
(EXC)201 1244 A
11 Y1
1445(3)S
11 C
(SYS)201 1500 A
(\(-10\))335 1842 A
2409(/*)S
(Bad)201 2610 A
(system)402 2878 A
(call)268 3347 A
3682(*/)S
3092 V
(#define)469 708 A
(EXC)201 1244 A
11 Y1
1445(3)S
11 C
(ARG)201 1500 A
(\(-11\))335 1842 A
2409(/*)S
(Illegal)469 2610 A
(operand)469 3146 A
(\(to)201 3682 A
(instruction\))804 3950 A
4821(*/)S
3232 V
(#define)469 708 A
(EXC)201 1244 A
11 Y1
1445(3)S
11 C
(EMU)201 1500 A
(\(-12\))335 1842 A
2409(/*)S
(System)402 2610 A
(call)268 3079 A
(emulation)603 3414 A
4084(*/)S
3372 V
(#define)469 708 A
(EXC)201 1244 A
11 Y1
1445(3)S
11 C
(ABT)201 1500 A
(\(-13\))335 1842 A
2409(/*)S
(abort\(\))469 2610 A
(called)402 3146 A
3615(*/)S
3652 V
(#define)469 708 A
(EXC)201 1244 A
11 Y1
1445(3)S
11 C
(NONE)268 1500 A
1842(0)S
2409(/*)S
(List)268 2610 A
(terminator)670 2945 A
3682(*/)S
3992 V
12 B
708(Description)S
4168 V
12 R
708(This)S
978(manual)S
1389(page)S
1672(offers)S
2011(a)S
2120(quick)S
2443(reference)S
2951(to)S
3100(the)S
3304(exceptions)S
3877(that)S
4115(a)S
4225(thread)S
4584(can)S
4808(generate.)S
4308 V
708(Exception)S
1228(handling)S
1680(is)S
1791(treated)S
2152(in)S
12 I
(signals)342 2276 A
12 R
2628(\(L\).)S
4484 V
708(The)S
926(names)S
1265(for)S
1437(exceptions)S
1984(are)S
2163(defined)S
2556(in)S
2680(the)S
2858(include)S
3244(file)S
12 I
(exception.h)554 3437 A
12 R
4001(.)S
4091(They)S
4369(are:)S
4660 V
708(EXC)S
12 Y1
950(3)S
12 R
1010(ILL)S
1428(Illegal)S
1769(instruction.)S
4836 V
708(EXC)S
12 Y1
950(3)S
12 R
(ODD)264 1010 A
1428(Mis-aligned)S
2043(memory)S
2476(reference.)S
5012 V
708(EXC)S
12 Y1
950(3)S
12 R
1010(MEM)S
(Access)344 1428 A
1802(to)S
(non-existent)598 1927 A
2556(memory.)S
3050(Note:)S
3351(on)S
3502(some)S
3788(machines)S
4276(this)S
4482(exception)S
4983(is)S
5095(not)S
5152 V
1428(generated;)S
1963(rather)S
12 I
2277(EXC)S
12 Y1
2505(3)S
12 I
2565(ACC)S
12 R
2839(is)S
2950(generated)S
3451(instead.)S
5328 V
708(EXC)S
12 Y1
950(3)S
12 R
1010(BPT)S
(Breakpoint)537 1428 A
1995(instruction)S
2543(or)S
(trace-mode)546 2674 A
3250(exception.)S
5504 V
708(EXC)S
12 Y1
950(3)S
12 R
1010(INS)S
1428(Undefined)S
1969(instruction.)S
5680 V
708(EXC)S
12 Y1
950(3)S
12 R
1010(DIV)S
1428(Divide)S
1788(by)S
1938(zero)S
2177(\(or)S
2349(other)S
2628(arithmetic)S
3151(trap\).)S
5856 V
708(EXC)S
12 Y1
950(3)S
12 R
1010(FPE)S
1428(Floating)S
1861(point)S
2139(exception.)S
6032 V
708(EXC)S
12 Y1
950(3)S
12 R
1010(ACC)S
1428(Memory)S
(access)310 1874 A
2214(violation)S
2674(\(e.g.)S
(writing)351 2919 A
3300(read-only)S
3794(memory\).)S
6208 V
708(EXC)S
12 Y1
950(3)S
12 R
1010(SYS)S
1428(Bad)S
1652(system)S
2018(call)S
2224(or)S
(illegal)304 2355 A
2689(system)S
3055(call)S
3261(arguments.)S
6384 V
708(EXC)S
12 Y1
950(3)S
12 R
1010(ARG)S
1428(Illegal)S
1769(instruction)S
2317(operand.)S
2796(On)S
2974(some)S
3259(machines)S
3746(this)S
3951(shows)S
4283(up)S
4433(as)S
12 I
4564(EXC)S
12 Y1
4792(3)S
12 I
4852(INS)S
12 R
5043(.)S
6560 V
708(EXC)S
12 Y1
950(3)S
12 R
1010(EMU)S
1428(System)S
1814(call)S
2020(emulation)S
2534(trap.)S
6736 V
708(EXC)S
12 Y1
950(3)S
12 R
1010(ABT)S
1428(The)S
1646(library)S
2000(function)S
12 I
(abort)261 2433 A
12 R
2734(was)S
2953(called)S
3273(\(see)S
12 I
3499(ansi)S
12 Y1
3700(3)S
12 I
3760(C)S
12 R
3850(\(L\),)S
12 I
4066(posix)S
12 R
4331(\(L\)\).)S
6912 V
708(Exception)S
1230(number)S
1631(zero)S
12 I
1872(\(EXC)S
12 Y1
2141(3)S
12 I
2201(NONE\))S
12 R
2606(is)S
2719(reserved.)S
3222(It)S
3329(is)S
3442(used)S
3696(as)S
3830(a)S
3917(list)S
4099(terminator)S
4638(in)S
4765(the)S
4946(vector)S
7052 V
708(passed)S
1060(by)S
12 I
1210(sys)S
12 Y1
1358(3)S
12 I
(setvec)297 1418 A
12 R
1755(\(see)S
12 I
(signals)342 1981 A
12 R
2333(\(L\)\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(165)180 5069 A
7920 V
EP
%%Page: 166 172
BP
/slant 0 def
/height 0 def
500 V
12 R
708(exception.h)S
1288(\(H\))S
2632(C)S
2742(Include)S
3135(File)S
4499(exception.h)S
5079(\(H\))S
860 V
12 B
708(See)S
913(Also)S
1036 V
12 R
708(ansi)S
12 Y1
903(3)S
12 R
963(C\(L\),)S
1259(signals\(L\),)S
1811(process\(L\).)S
7700 V
(166)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 167 173
BP
/slant 0 def
/height 0 def
500 V
12 R
708(exec)S
12 Y1
930(3)S
12 R
990(file)S
1173(\(L\))S
2567(Library)S
2961(Routines)S
4628(exec)S
12 Y1
4850(3)S
12 R
4910(file)S
5093(\(L\))S
860 V
2033(\(in)S
2198(libraries:)S
2661(libamoeba.a,)S
3309(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(exec)S
12 Y1
930(3)S
12 R
990(file)S
12 R-1
1183(-)S
12 R
1311(start)S
1551(execution)S
2051(of)S
2182(a)S
2266(process)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("module/proc.h")1005 1311 A
2182 V
(#include)536 708 A
("am)201 1311 A
11 Y1
1512(3)S
11 C
(exerrors.h")737 1567 A
2462 V
(errstat)469 708 A
(exec)268 1244 A
11 Y1
1512(3)S
11 C
(file)268 1567 A
1902(\()S
2602 V
(capability)670 976 A
(*prog,)402 1981 A
2742 V
(capability)670 976 A
(*host,)402 1981 A
2882 V
(capability)670 976 A
(*owner,)469 1981 A
3022 V
(int)201 976 A
(stacksize,)670 2048 A
3162 V
(char)268 976 A
(**argv,)469 1914 A
3302 V
(char)268 976 A
(**envp,)469 1914 A
3442 V
(struct)402 976 A
(caplist)469 1445 A
(*caps,)402 1981 A
3582 V
(capability)670 976 A
(*process)536 1981 A
11 Y1
2517(3)S
11 C
(ret)201 2572 A
3722 V
708(\);)S
4002 V
(errstat)469 708 A
(exec)268 1244 A
11 Y1
1512(3)S
11 C
1567(pd)S
1768(\()S
4142 V
(process)469 976 A
11 Y1
1445(3)S
11 C
1500(d)S
(*pd,)268 1969 A
4282 V
(int)201 976 A
(pdlen,)402 2048 A
4422 V
(capability)670 976 A
(*host,)402 1981 A
4562 V
(capability)670 976 A
(*owner,)469 1981 A
4702 V
(int)201 976 A
(stacksize,)670 2048 A
4842 V
(char)268 976 A
(**argv,)469 1914 A
4982 V
(char)268 976 A
(**envp,)469 1914 A
5122 V
(struct)402 976 A
(caplist)469 1445 A
(*caps,)402 1981 A
5262 V
(capability)670 976 A
(*process)536 1981 A
11 Y1
2517(3)S
11 C
(ret)201 2572 A
5402 V
708(\);)S
5742 V
12 B
708(Description)S
5918 V
12 R
708(The)S
926(description)S
1494(of)S
1625(the)S
1803(process)S
(interface)426 2196 A
2652(is)S
(split)209 2763 A
3002(into)S
3220(several)S
3594(parts.)S
3920(The)S
4138(process)S
4531(descriptor)S
5047(data)S
6058 V
708(structure)S
1174(and)S
1389(its)S
1545(basic)S
(access)310 1835 A
(methods)409 2186 A
2636(are)S
2826(described)S
3330(in)S
12 I
3464(process)S
12 Y1
3833(3)S
12 I
3893(d)S
12 R
3963(\(L\).)S
4219(The)S
4447(low-level)S
4946(kernel)S
6198 V
708(process)S
1141(server)S
(interface)426 1509 A
2006(is)S
2158(described)S
2693(in)S
12 I
2858(process)S
12 R
3237(\(L\).)S
3524(The)S
3783(high-level)S
4345(process)S
4779(execution)S
6338 V
(interface)426 708 A
1164(is)S
1275(described)S
1769(here.)S
2068(See)S
2273(also)S
12 I
2498(pd)S
12 Y1
2618(3)S
12 I
2678(read)S
12 R
2909(\(L\).)S
6514 V
12 I
(Exec)236 708 A
12 Y1
944(3)S
12 I
(file)156 1004 A
12 R
1210(starts)S
1507(the)S
1695(execution)S
2206(of)S
2348(a)S
2443(new)S
2686(process.)S
3150(It)S
3266(takes)S
3556(many)S
3865(arguments,)S
4440(allowing)S
4905(precise)S
6654 V
708(control)S
1084(over)S
1332(the)S
1513(execution,)S
2046(but)S
(chooses)382 2233 A
2648(sensible)S
3071(defaults)S
3488(for)S
(input)248 3663 A
3944(parameters)S
4510(that)S
4725(are)S
4907(zero)S
5148(or)S
6794 V
708(NULL-pointers.)S
1563(Its)S
1725(first)S
1963(argument)S
2461(can)S
2670(be)S
2825(the)S
(capability)478 3014 A
3533(of)S
3675(either)S
3993(an)S
4148(executable)S
4707(file)S
4911(or)S
5053(of)S
5195(a)S
6934 V
12 I
708(directory)S
12 R
1162(.)S
1267(The)S
1500(latter)S
1796(is)S
1922(used)S
2188(to)S
2327(implement)S
2890(heterogeneous)S
3633(process)S
4041(startup)S
4416(\(i.e.,)S
4680(executing)S
5195(a)S
7074 V
708(program)S
(without)370 1154 A
1560(prescribing)S
2141(the)S
2325(architecture)S
2935(on)S
3091(which)S
3424(it)S
3529(is)S
3647(to)S
3778(be)S
3929(run\).)S
4228(The)S
4453(directory)S
(should)321 4928 A
7214 V
708(contain)S
1095(a)S
1180(set)S
1346(of)S
1478(one)S
1683(or)S
1815(more)S
2095(binaries,)S
(each)222 2540 A
2793(for)S
2965(a)S
3049(different)S
3498(architecture.)S
4162(Of)S
4321(course,)S
4697(in)S
4821(order)S
5107(for)S
7700 V
2683(Amoeba)S
3123(5.3)S
(167)180 5069 A
7920 V
EP
%%Page: 168 174
BP
/slant 0 def
/height 0 def
500 V
12 R
708(exec)S
12 Y1
930(3)S
12 R
990(file)S
1173(\(L\))S
2567(Library)S
2961(Routines)S
4628(exec)S
12 Y1
4850(3)S
12 R
4910(file)S
5093(\(L\))S
860 V
708(this)S
913(to)S
1038(work)S
1318(properly,)S
1789(the)S
1968(programs)S
2456(must)S
2722(be)S
2867(semantically)S
3511(the)S
3690(same)S
3970(\(for)S
4184(example,)S
4655(files)S
4896(used)S
5148(or)S
1000 V
708(created)S
1105(by)S
1271(the)S
1465(program)S
(should)321 1921 A
2288(be)S
2448(in)S
2587(byteorder)S
3096(independent)S
3731(format\).)S
4201(The)S
12 I
4434(run)S
12 R
4611(\(A\))S
4826(server)S
5168(is)S
1140 V
708(used)S
974(to)S
1113(determine)S
1643(\320)S
1808(given)S
2121(the)S
2314(architectures)S
2980(of)S
3126(the)S
3319(process)S
3727(descriptors)S
4304(available)S
4787(\320)S
4953(which)S
1280 V
708(host)S
939(is)S
1050(the)S
1228(most)S
1493(suitable)S
1900(to)S
2024(be)S
2168(used.)S
1456 V
12 I
(Exec)236 708 A
12 Y1
944(3)S
12 I
1004(pd)S
12 R
1171(has,)S
1399(with)S
1652(the)S
1837(exception)S
2344(of)S
2483(heterogeneity,)S
3210(the)S
3396(same)S
(functionality)619 3683 A
4340(as)S
12 I
(exec)216 4479 A
12 Y1
4695(3)S
12 I
(file)156 4755 A
12 R
4921(,)S
4989(but)S
5181(it)S
1596 V
708(uses)S
946(a)S
1030(process)S
1423(descriptor)S
1938(passed)S
2290(as)S
2421(an)S
2565(argument)S
3052(instead)S
3425(of)S
3556(a)S
(capability)478 3640 A
4148(for)S
4320(the)S
4498(executable.)S
1772 V
708(The)S
926(arguments)S
1460(have)S
1718(the)S
1896(following)S
2397(meaning:)S
1948 V
12 I
708(prog)S
(\(exec)257 1320 A
12 Y1
1577(3)S
12 I
(file)156 1637 A
1849(only\))S
12 R
(Capability)504 2164 A
2724(of)S
2881(the)S
3085(binary)S
3450(file)S
3669(or)S
3826(directory)S
4320(containing)S
4886(process)S
2088 V
1320(descriptors)S
1905(to)S
2052(be)S
2219(executed)S
2701(\(see)S
12 I
2949(pd)S
12 Y1
3069(3)S
12 I
3129(read)S
12 R
3360(\(L\))S
3568(for)S
3762(a)S
3868(description)S
4458(of)S
4611(the)S
4811(directory)S
2228 V
1320(format)S
1682(required\).)S
2225(If)S
2345(this)S
2558(is)S
2678(a)S
2771(NULL-pointer,)S
3548(the)S
(capability)478 3735 A
4252(named)S
4613(by)S
4772(argv[0])S
5168(is)S
2368 V
(looked)328 1320 A
1678(up.)S
2544 V
12 I
708(pd,)S
901(pdlen)S
(\(exec)257 1333 A
12 Y1
1590(3)S
12 I
1650(pd)S
1813(only\))S
12 R
2115(The)S
2346(process)S
2752(descriptor)S
3280(\(in)S
3458(native)S
3798(byte)S
4050(order\))S
4391(and)S
4609(its)S
4768(length)S
5114(\(in)S
2684 V
1320(bytes\).)S
1712(The)S
1936(process)S
2335(descriptor)S
(will)190 2856 A
3082(be)S
(converted)477 3232 A
3744(to)S
3873(standard)S
4318(network)S
4750(byte)S
4993(order)S
2824 V
1320(by)S
12 I
1470(pro)S
12 Y1
1637(3)S
12 I
(exec)216 1697 A
12 R
1953(\(see)S
12 I
2179(process)S
12 R
2558(\(L\)\).)S
3000 V
12 I
708(host)S
12 R
(Capability)504 1320 A
1857(for)S
2032(the)S
2213(process)S
2609(server)S
2939(where)S
3269(the)S
3450(process)S
(should)321 3846 A
4200(execute.)S
4664(The)S
4886(process)S
3140 V
1320(server)S
(capability)478 1652 A
2165(can)S
2368(be)S
(found)281 2516 A
2831(by)S
(looking)368 2985 A
3387(up)S
12 C
(PROCESS)511 3541 A
12 Y1
4052(3)S
12 C
(SVR)219 4112 A
12 Y1
4331(3)S
12 C
(NAME)292 4391 A
12 R
4717(\(defined)S
5155(in)S
3280 V
12 I
1320(proc.h)S
12 R
1641(,)S
1707(typically)S
(``proc''\))420 2167 A
2623(in)S
2753(the)S
2937(processor)S
3437(directory.)S
3971(If)S
4090(this)S
4302(is)S
4420(a)S
4511(NULL-pointer,)S
3420 V
1320(the)S
1541(selection)S
2045(of)S
2219(a)S
2345(suitable)S
(pool)214 2794 A
3080(processor)S
3616(\(and)S
3903(the)S
(corresponding)691 4123 A
4886(process)S
3560 V
1320(descriptor\))S
1876(is)S
1987(left)S
2180(to)S
12 I
(exec)216 2304 A
12 Y1
2520(3)S
12 I
(multi)250 2580 A
12 Y1
2830(3)S
12 I
(findhost)389 2890 A
12 R
3289(\(L\).)S
3736 V
12 I
708(owner)S
12 R
(Capability)504 1320 A
1883(of)S
2043(the)S
2250(process)S
2672(owner;)S
3068(a)S
(``checkpoint'')694 3181 A
3934(transaction)S
4525(is)S
4665(sent)S
4920(to)S
5074(this)S
3876 V
(capability)478 1320 A
1855(if)S
1987(the)S
2192(process)S
2611(exits,)S
(receives)398 2926 A
3380(a)S
3490(signal)S
3835(or)S
3992(causes)S
4364(an)S
4534(exception;)S
5094(see)S
4016 V
12 I
1320(process)S
12 R
1699(\(L\).)S
1945(If)S
2057(this)S
2262(is)S
2374(a)S
2459(NULL-pointer,)S
3228(the)S
3407(owner)S
(found)281 3741 A
4053(in)S
4178(the)S
4357(program's)S
4886(process)S
4156 V
1320(descriptor,)S
1883(if)S
2006(any,)S
2258(is)S
2387(retained)S
2826(\(this)S
3090(is)S
3219(usually)S
3616(a)S
(NULL-capability,)873 3718 A
4638(meaning)S
5101(the)S
4296 V
1320(process)S
1713(has)S
1904(no)S
2054(owner\).)S
4472 V
12 I
708(stacksize)S
12 R
1320(Stack)S
1627(size,)S
1884(in)S
2016(bytes.)S
2369(If)S
2489(this)S
2702(is)S
2821(zero,)S
3098(the)S
3284(size)S
3511(of)S
3650(the)S
3836(stack)S
4124(segment)S
4566(in)S
4699(the)S
4886(process)S
4612 V
1320(descriptor)S
1835(is)S
1946(used;)S
2231(if)S
2336(that)S
2548(is)S
2659(also)S
2884(zero,)S
3153(a)S
3237(default)S
3604(is)S
3715(used)S
3966(\(currently)S
4475(16K\).)S
4788 V
12 I
708(argv)S
12 R
1320(Null-terminated)S
2145(array)S
2444(of)S
2594(program)S
3053(argument)S
3559(strings,)S
3961(starting)S
4375(with)S
4641(the)S
4839(program)S
4928 V
1320(name)S
1641(\(using)S
2002(the)S
2209(same)S
(convention)536 2517 A
3112(as)S
3271(for)S
(calling)330 3471 A
3859(main\).)S
4260(If)S
4400(this)S
4633(is)S
4772(a)S
4884(NULL-)S
5068 V
1320(pointer,)S
1728(a)S
1817(single)S
2141(``)S
12 R-1
2223(-)S
12 R
2291('')S
2408(is)S
2524(used)S
2780(as)S
2916(0-th)S
3146(parameter.)S
3727(For)S
12 I
(exec)216 3931 A
12 Y1
4147(3)S
12 I
(file)156 4207 A
12 R
4373(,)S
4439(if)S
4550(the)S
4734(default)S
5107(for)S
5208 V
12 I
1320(prog)S
12 R
1616(is)S
1756(to)S
1909(be)S
2082(taken)S
2403(from)S
12 I
2698(argv)S
12 R
2988(then)S
12 I
3255(argv)S
12 R
3544(and)S
12 I
3776(argv)S
12 R
4007([0])S
4207(must)S
4500(not)S
4712(be)S
4884(NULL-)S
5348 V
1320(pointers.)S
5524 V
12 I
708(envp)S
12 R
1320(Null-terminated)S
2127(array)S
2408(of)S
2540(shell)S
2800(environment)S
3443(variables.)S
3973(Each)S
4247(string)S
4555(must)S
4822(be)S
4968(of)S
5101(the)S
5664 V
1320(form)S
12 I
1621(NAME=value.)S
12 R
2399(If)S
2546(this)S
2786(is)S
2932(a)S
3050(NULL-pointer,)S
3852(the)S
(calling)330 4064 A
4458(program's)S
5020(shell)S
5804 V
1320(environment)S
1961(is)S
2072(used,)S
2353(taken)S
2645(from)S
2911(the)S
3089(global)S
3421(variable)S
12 I
3842(environ.)S
5980 V
708(caps)S
12 R
(Capability)504 1320 A
1875(environment.)S
2597(This)S
2863(is)S
2995(an)S
3160(array)S
3461(of)S
12 I
3613(struct)S
3940(caplist)S
12 R
4324(entries,)S
4729(the)S
4928(last)S
5148(of)S
6120 V
1320(which)S
(should)321 1667 A
2039(have)S
12 C
2318(cl)S
12 Y1
2464(3)S
12 C
(name)292 2524 A
2889(==)S
(NULL)292 3108 A
12 R
3400(;)S
3485(see)S
12 I
3691(getcap)S
12 R
4023(\(L\).)S
4290(If)S
4423(this)S
4649(is)S
4780(a)S
4884(NULL-)S
6260 V
1320(pointer,)S
1744(the)S
(calling)330 1943 A
2324(program's)S
(capability)478 2873 A
3402(environment)S
4064(is)S
4196(used,)S
4499(taken)S
4813(from)S
5101(the)S
6400 V
1320(global)S
1656(variable)S
12 I
2081(capv.)S
12 R
2383(If)S
2498(this)S
2706(variable)S
3130(is)S
3244(also)S
3472(NULL)S
3829(\(typically)S
4327(the)S
4508(case)S
4750(on)S
11 R
4901(UNIX)S
12 R
5178(\),)S
6540 V
1320(an)S
1464(error)S
1731(is)S
1842(returned.)S
6716 V
12 I
708(process)S
12 Y1
1077(3)S
12 I
1137(ret)S
12 R
(Should)341 1320 A
1692(point)S
1971(to)S
2096(a)S
2181(variable)S
2603(where)S
2931(the)S
(capability)478 3110 A
3620(for)S
3794(the)S
3974(new)S
4208(process)S
4603(is)S
4716(stored,)S
5074(if)S
5181(it)S
6856 V
1320(was)S
1539(actually)S
1953(started.)S
2367(If)S
2479(this)S
2684(is)S
2795(a)S
2879(NULL-pointer,)S
3647(the)S
3825(process)S
(capability)478 4218 A
4726(is)S
4837(lost.)S
7032 V
708(If)S
826(the)S
1010(run)S
1207(server)S
1540(is)S
1657(used)S
1914(to)S
2044(select)S
2357(a)S
2448(host,)S
2716(and)S
2927(the)S
3112(process)S
(cannot)322 3512 A
3871(be)S
4022(executed)S
(because)383 4489 A
4909(of)S
5047(lack)S
7172 V
708(of)S
839(memory)S
1272(on)S
1422(the)S
1600(selected)S
2021(host,)S
2282(a)S
2366(new)S
2598(host)S
2829(is)S
2940(tried)S
3193(a)S
(couple)322 3277 A
3629(of)S
3760(times.)S
7700 V
(168)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 169 175
BP
/slant 0 def
/height 0 def
500 V
12 R
708(exec)S
12 Y1
930(3)S
12 R
990(file)S
1173(\(L\))S
2567(Library)S
2961(Routines)S
4628(exec)S
12 Y1
4850(3)S
12 R
4910(file)S
5093(\(L\))S
920 V
708(Error)S
(Conditions:)563 995 A
1060 V
12 C
(AMEX)292 1062 A
12 Y1
1354(3)S
12 C
(NOPROG)438 1414 A
12 R
2262(no)S
2412(program)S
2852(given)S
1200 V
12 C
(AMEX)292 1062 A
12 Y1
1354(3)S
12 C
(PDLOOKUP)584 1414 A
12 R
(cannot)322 2262 A
2614(find)S
2839(program)S
1340 V
12 C
(AMEX)292 1062 A
12 Y1
1354(3)S
12 C
(PDREAD)438 1414 A
12 R
(cannot)322 2262 A
2614(read)S
2853(process)S
3246(descriptor)S
1480 V
12 C
(AMEX)292 1062 A
12 Y1
1354(3)S
12 C
(PDSHORT)511 1414 A
12 R
2262(not)S
2446(all)S
2598(bytes)S
2883(read)S
3122(from)S
3388(process)S
3781(descriptor)S
1620 V
12 C
(AMEX)292 1062 A
12 Y1
1354(3)S
12 C
(PDSIZE)438 1414 A
12 R
2262(inconsistent)S
2870(process)S
3263(size)S
1760 V
12 C
(AMEX)292 1062 A
12 Y1
1354(3)S
12 C
(NOCAPS)438 1414 A
12 R
2262(no)S
(capability)478 2412 A
2920(environment)S
1900 V
12 C
(AMEX)292 1062 A
12 Y1
1354(3)S
12 C
(NOHOST)438 1414 A
12 R
(cannot)322 2262 A
2614(find)S
2839(suitable)S
3246(host)S
3477(processor)S
2040 V
12 C
(AMEX)292 1062 A
12 Y1
1354(3)S
12 C
(GETDEF)438 1414 A
12 R
2262(the)S
2440(call)S
2646(to)S
2770(pro)S
12 Y1
2931(3)S
12 R
(getdef\(\))385 2991 A
3406(failed)S
3713(\(see)S
12 I
3939(process)S
12 R
4308(\(L\)\))S
2180 V
12 C
(AMEX)292 1062 A
12 Y1
1354(3)S
12 C
(MALLOC)438 1414 A
12 R
(cannot)322 2262 A
2614(make)S
2906(local)S
3172(stack)S
3451(segment)S
2320 V
12 C
(AMEX)292 1062 A
12 Y1
1354(3)S
12 C
(STACKOV)511 1414 A
12 R
2262(env+args)S
2736(too)S
2920(big)S
3104(for)S
3276(stack)S
2460 V
12 C
(AMEX)292 1062 A
12 Y1
1354(3)S
12 C
(SEGCREATE)657 1414 A
12 R
(cannot)322 2262 A
2614(create)S
2935(stack)S
3214(segment)S
2660 V
708(These)S
1062(constants)S
1577(are)S
1791(defined)S
2219(in)S
12 I
2378(am)S
12 Y1
2526(3)S
12 I
(exerrors.h)500 2586 A
12 R
3096(.)S
3221(Standard)S
3717(and)S
3957(RPC)S
4250(errors)S
4600(may)S
4874(also)S
5135(be)S
2800 V
(produced,)479 708 A
1251(with)S
(conventional)624 1531 A
2219(meaning;)S
2733(these)S
3046(are)S
3258(usually)S
3670(passed)S
4055(on)S
4238(from)S
12 I
4537(pro)S
12 Y1
4704(3)S
12 I
(exec)216 4764 A
12 R
5053(\(see)S
2940 V
12 I
708(process)S
12 R
1087(\(L\)\).)S
3220 V
12 B
708(Example)S
3396 V
12 R
708(To)S
872(execute)S
1272(the)S
1450(file)S
12 I
1643(a.out)S
12 R
1927(in)S
2051(a)S
2135(default)S
2502(environment,)S
3173(the)S
3351(following)S
3852(call)S
4058(suffices:)S
3596 V
11 C
(static)402 1068 A
(char)268 1537 A
(*arglist[])670 1872 A
2609(=)S
({"a.out",)603 2743 A
(\(char)335 3413 A
(*\)0};)335 3815 A
3736 V
(capability)670 1068 A
(process;)536 1939 A
3876 V
(errstat)469 1068 A
(err;)268 1939 A
4156 V
(err)201 1068 A
1336(=)S
(exec)268 1470 A
11 Y1
1738(3)S
11 C
(file\(\(capability)1072 1793 A
(*\)0,)268 2932 A
3535(/*)S
(prog)268 3736 A
4071(*/)S
4296 V
(\(capability)737 2140 A
(*\)0,)268 2944 A
3547(/*)S
(host)268 3748 A
4083(*/)S
4436 V
(\(capability)737 2140 A
(*\)0,)268 2944 A
3547(/*)S
(owner)335 3748 A
4150(*/)S
4576 V
2140(0,)S
3547(/*)S
(stacksize)603 3748 A
4418(*/)S
4716 V
(arglist,)536 2140 A
3547(/*)S
(argv)268 3748 A
4083(*/)S
4856 V
(\(char)335 2140 A
(**\)0,)335 2542 A
3547(/*)S
(envp)268 3748 A
4083(*/)S
4996 V
(\(struct)469 2140 A
(caplist)469 2676 A
(*\)0,)268 3212 A
3547(/*)S
(caps)268 3748 A
4083(*/)S
5136 V
(&process)536 2140 A
3547(/*)S
(process)469 3748 A
11 Y1
4217(3)S
11 C
(ret)201 4272 A
4540(*/)S
5276 V
2073(\);)S
5616 V
12 B
708(See)S
913(Also)S
5792 V
12 R
708(ainstall\(U\),)S
1342(ax\(U\),)S
1740(buildstack\(L\),)S
2507(exec)S
12 Y1
2729(3)S
12 R
(findhost\(L\),)582 2789 A
3455(getcap\(L\),)S
4041(pd)S
12 Y1
4161(3)S
12 R
4221(read\(L\),)S
4700(process\(L\),)S
5932 V
708(process)S
12 Y1
1071(3)S
12 R
1131(d\(L\),)S
1407(rpc\(L\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(169)180 5069 A
7920 V
EP
%%Page: 170 176
BP
/slant 0 def
/height 0 def
500 V
12 R
708(exec)S
12 Y1
930(3)S
12 R
(findhost)396 990 A
1406(\(L\))S
2567(Library)S
2961(Routines)S
4395(exec)S
12 Y1
4617(3)S
12 R
(findhost)396 4677 A
5093(\(L\))S
860 V
2075(\(in)S
2240(libraries:)S
2703(libamoeba,)S
3267(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(exec)S
12 Y1
930(3)S
12 R
(findhost)396 990 A
12 R-1
1416(-)S
12 R
1544(find)S
1769(a)S
1853(suitable)S
(pool)214 2260 A
2504(processor)S
2998(\(host\))S
3311(to)S
3435(execute)S
3835(a)S
3919(process)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("module/proc.h")1005 1311 A
2182 V
(#include)536 708 A
("exec)335 1311 A
11 Y1
1646(3)S
11 C
(fndhost.h")670 1701 A
2462 V
(errstat)469 708 A
(exec)268 1244 A
11 Y1
1512(3)S
11 C
(findhost)536 1567 A
2170(\()S
2602 V
(process)469 976 A
11 Y1
1445(3)S
11 C
1500(d)S
(*pd,)268 1969 A
2742 V
(capability)670 976 A
(*procsvr)536 1981 A
11 Y1
2517(3)S
11 C
(ret)201 2572 A
2882 V
708(\);)S
3162 V
(errstat)469 708 A
(exec)268 1244 A
11 Y1
1512(3)S
11 C
(multi)335 1567 A
11 Y1
1902(3)S
11 C
(findhost)536 1957 A
2560(\()S
3302 V
(capability)670 976 A
(*runsvr)469 1981 A
11 Y1
2450(3)S
11 C
(pool,)335 2505 A
3442 V
(capability)670 976 A
(*pooldir,)603 1981 A
3582 V
(process)469 976 A
11 Y1
1445(3)S
11 C
1500(d)S
(*pd)201 1969 A
11 Y1
2170(3)S
11 C
(array[],)536 2225 A
3722 V
(int)201 976 A
(npd,)268 2048 A
3862 V
(int)201 976 A
(*pd)201 1981 A
11 Y1
2182(3)S
11 C
(chosen,)469 2237 A
4002 V
(capability)670 976 A
(*procsvr)536 1981 A
11 Y1
2517(3)S
11 C
(ret,)268 2572 A
4142 V
(char)268 976 A
(hostname[PD)737 2048 A
11 Y1
2785(3)S
11 C
(HOSTNAME])603 2840 A
4282 V
708(\);)S
4622 V
12 B
708(Description)S
4798 V
12 I
(Exec)236 708 A
12 Y1
944(3)S
12 I
(findhost)389 1004 A
12 R
1443(finds)S
1725(a)S
(pool)214 1820 A
2075(processor)S
2580(suitable)S
2998(for)S
3181(executing)S
3692(the)S
3881(specified)S
4360(process)S
4764(descriptor)S
4938 V
708(\(see)S
12 I
965(process)S
12 R
1344(\(L\))S
1561(and)S
12 I
1796(process)S
12 Y1
2165(3)S
12 I
2225(d)S
12 R
2295(\(L\)\).)S
2613(It)S
2749(is)S
2891(passed)S
3274(a)S
3389(process)S
3812(descriptor)S
4357(so)S
4524(it)S
4652(can)S
4880(use)S
5101(the)S
5078 V
708(architecture)S
1312(and)S
1516(required)S
1950(memory)S
(space)269 2383 A
2682(to)S
2806(decide)S
3152(which)S
3478(processors)S
4019(are)S
4198(suitable.)S
5254 V
12 I
(Exec)236 708 A
12 Y1
944(3)S
12 I
(multi)250 1004 A
12 Y1
1254(3)S
12 I
(findhost)389 1314 A
12 R
1804(is)S
1976(available)S
2505(for)S
(supporting)516 2739 A
12 I
3347(heterogeneous)S
12 R
4153(process)S
4608(startup)S
5030(\(i.e.,)S
5394 V
708(executing)S
1219(a)S
1314(program)S
(without)370 1765 A
2176(prescribing)S
2762(the)S
2951(architecture)S
3566(on)S
3727(which)S
4063(it)S
4171(is)S
4292(to)S
4426(be)S
4580(run\).)S
4882(Also,)S
5181(it)S
5534 V
708(gives)S
995(the)S
1175(caller)S
1478(more)S
1759(control)S
2134(over)S
2381(its)S
2528(operation)S
3017(by)S
3169(making)S
3564(it)S
3665(possible)S
4094(to)S
4221(specify)S
4604(a)S
(non-default)558 4691 A
5674 V
708(run)S
899(server)S
1226(or)S
(pool)214 1357 A
1601(directory.)S
5850 V
12 I
(Exec)236 708 A
12 Y1
944(3)S
12 I
(multi)250 1004 A
12 Y1
1254(3)S
12 I
(findhost)389 1314 A
12 R
1754(\(and)S
12 I
(exec)216 2010 A
12 Y1
2226(3)S
12 I
(findhost)389 2286 A
12 R
2685(,)S
2756(which)S
3093(is)S
3216(implied)S
3628(whenever)S
12 I
(exec)216 4141 A
12 Y1
4357(3)S
12 I
(multi)250 4417 A
12 Y1
4667(3)S
12 I
(findhost)389 4727 A
12 R
5168(is)S
5990 V
708(mentioned)S
1261(here\))S
1554(uses)S
1805(two)S
2030(strategies)S
2532(to)S
2669(find)S
2907(a)S
3004(suitable)S
3424(host.)S
3728(If)S
3853(possible,)S
4321(the)S
4511(run)S
4714(server)S
5053(\(see)S
6130 V
12 I
708(run)S
12 R
885(\(A\)\))S
1128(is)S
1241(asked)S
1548(for)S
1722(a)S
1808(suitable)S
2217(host.)S
2510(The)S
2730(run)S
2923(server)S
3252(performs)S
3722(load)S
3962(balancing)S
4464(for)S
4638(all)S
4793(users)S
5075(and)S
6270 V
708(all)S
(pool)214 864 A
1112(processors,)S
1687(so)S
1828(it)S
1930(can)S
2132(assign)S
2468(the)S
2649(most)S
2917(suitable)S
3327(host)S
3561(for)S
3736(the)S
3917(process)S
4313(\(given)S
4655(what)S
(little)224 4924 A
5181(it)S
6410 V
(knows)315 708 A
(about)268 1054 A
1354(the)S
1534(process\))S
1970(and)S
2176(distribute)S
2666(processes)S
3162(evenly)S
3516(over)S
3763(the)S
3943(available)S
4413(hosts.)S
4753(This)S
5000(takes)S
6550 V
708(at)S
831(most)S
1101(two)S
1318(transactions:)S
1966(one)S
2175(to)S
(look)214 2304 A
2553(up)S
2708(the)S
(capability)478 2891 A
3404(of)S
3540(the)S
3723(run)S
3919(server)S
4251(\(which)S
4622(is)S
(cached)336 4737 A
5107(for)S
6690 V
708(future)S
1028(use\),)S
1290(and)S
1494(one)S
1698(to)S
1822(ask)S
2013(the)S
2191(run)S
2382(server)S
2709(for)S
2881(a)S
2965(host.)S
6866 V
708(If)S
830(the)S
1018(run)S
1220(server's)S
(capability)478 1646 A
(cannot)322 2165 A
2528(be)S
(found,)311 2683 A
3035(or)S
3177(if)S
3293(it)S
3402(does)S
3664(not)S
(respond)382 3859 A
4282(in)S
4417(a)S
4512(timely)S
4863(fashion,)S
7006 V
12 I
(exec)216 708 A
12 Y1
924(3)S
12 I
(multi)250 984 A
12 Y1
1234(3)S
12 I
(findhost)389 1294 A
12 R
1733(scans)S
2035(the)S
(pool)214 2223 A
2476(directory)S
2953(to)S
3086(find)S
3320(a)S
(running)375 3413 A
3827(host)S
4067(that)S
4288(has)S
4488(the)S
4675(architecture)S
7146 V
708(of)S
839(one)S
1043(of)S
1174(the)S
1352(process)S
1745(descriptors)S
2307(provided.)S
2826(When)S
3144(called)S
(multiple)404 3464 A
3898(times)S
4191(in)S
4315(the)S
4493(same)S
4772(process,)S
5195(a)S
7286 V
708(host)S
(will)190 944 A
1169(be)S
1318(chosen)S
1688(in)S
1817(a)S
(round-robin)577 1906 A
2518(fashion.)S
2969(The)S
3192(first)S
3424(host)S
3660(is)S
3776(chosen)S
4146(at)S
(random)369 4268 A
4671(to)S
4799(avoid)S
5101(the)S
7700 V
(170)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 171 177
BP
/slant 0 def
/height 0 def
500 V
12 R
708(exec)S
12 Y1
930(3)S
12 R
(findhost)396 990 A
1406(\(L\))S
2567(Library)S
2961(Routines)S
4395(exec)S
12 Y1
4617(3)S
12 R
(findhost)396 4677 A
5093(\(L\))S
860 V
708(problem)S
1175(that)S
1421(every)S
1754(process)S
2182(\(for)S
2430(example,)S
2935(a)S
3054(forked)S
(copy)234 3435 A
3734(of)S
3900(the)S
4113(shell)S
4407(doing)S
4746(the)S
4959(actual)S
1000 V
708(command)S
1214(execution!\))S
1826(starts)S
2113(executing)S
2613(commands)S
3166(on)S
3316(exactly)S
3696(the)S
3874(same)S
4153(machine.)S
1176 V
708(The)S
926(arguments)S
1460(of)S
12 I
(exec)216 1591 A
12 Y1
1807(3)S
12 I
(multi)250 1867 A
12 Y1
2117(3)S
12 I
(findhost)389 2177 A
12 R
2606(are:)S
1352 V
12 I
708(runsvr)S
12 Y1
1023(3)S
12 I
(pool)214 1083 A
12 R
1548(Alternative)S
2148(run)S
2362(server)S
(pool)214 2712 A
2979(\(see)S
12 I
3228(run)S
12 R
3405(\(A\)\).)S
3729(When)S
4070(this)S
4298(is)S
4433(a)S
4541(NULL-pointer)S
1492 V
1548(\(which)S
1928(is)S
2052(the)S
2243(normal)S
2629(case\))S
2922(the)S
12 C
(RUN)219 3112 A
12 Y1
3331(3)S
12 C
(SERVER)438 3391 A
12 R
3871(environment)S
4524(variable,)S
4987(when)S
1632 V
1548(available,)S
2047(is)S
2159(used)S
2411(to)S
(look)214 2536 A
2781(it)S
2880(up.)S
3091(Otherwise)S
12 C
(DEF)219 3622 A
12 Y1
3841(3)S
12 C
(RUNSVR)438 3901 A
12 Y1
4339(3)S
12 C
(POOL)292 4399 A
12 R
4691(,)S
4753(as)S
4886(defined)S
1772 V
1548(in)S
12 I
1672(ampolicy.h)S
12 R
2246(\(typically)S
12 I
(/profile/pool/.run)836 2741 A
12 R
3587(\),)S
3688(is)S
3799(used.)S
1948 V
12 I
(pooldir)355 708 A
12 R
1548(When)S
1866(the)S
2045(run)S
2237(server)S
(cannot)322 2565 A
2918(be)S
(found,)311 3063 A
3405(or)S
3537(does)S
3789(not)S
(respond)382 3974 A
4387(quickly)S
(enough,)384 4780 A
5195(a)S
2088 V
1548(host)S
1814(is)S
1960(selected)S
2416(from)S
2717(a)S
12 I
(pool)214 2836 A
3115(directory)S
12 R
3569(.)S
3694(This)S
3974(is)S
4119(a)S
4237(directory)S
4739(containing)S
2228 V
(subdirectories)680 1548 A
2277(for)S
(each)222 2468 A
(supported)476 2739 A
3264(architecture;)S
(each)222 3921 A
(subdirectory)605 4192 A
4846(contains)S
2368 V
(capabilities)553 1548 A
2179(for)S
2399(the)S
2625(processors)S
3214(that)S
3474(form)S
3788(the)S
4014(processor)S
(pool)214 4556 A
4848(for)S
5067(that)S
2508 V
1548(architecture.)S
2227(The)S
2460(parameter)S
12 I
(pooldir)355 2991 A
12 R
3401(can)S
3614(be)S
3773(used)S
4040(to)S
4180(specify)S
4576(an)S
4736(alternative)S
2648 V
(pool)214 1548 A
1812(directory.)S
2360(If)S
2491(this)S
2715(is)S
2845(a)S
2948(NULL-pointer)S
3705(\(which)S
4091(it)S
4208(normally)S
(should)321 4694 A
5064(be\),)S
2788 V
12 C
(POOL)292 1548 A
12 Y1
1840(3)S
12 C
(DIR)219 1900 A
12 R
2149(is)S
2260(used,)S
2541(defined)S
2934(in)S
12 I
3058(ampolicy.h)S
12 R
3632(\(typically)S
12 I
(/profile/pool)605 4127 A
12 R
4742(\).)S
2964 V
12 I
708(pd)S
12 Y1
828(3)S
12 I
888(array,)S
(npd)180 1226 A
12 R
1558(An)S
1746(array)S
2037(of)S
2179(pointers)S
2610(to)S
2745(process)S
3149(descriptors)S
3722(having)S
12 I
(npd)180 4091 A
12 R
4322(\(>=)S
4540(1\))S
4682(entries.)S
5107(\(In)S
3104 V
1548(order)S
1842(to)S
1974(get)S
2160(sensible)S
2588(results,)S
2973(the)S
3159(process)S
3560(descriptors)S
(should)321 4130 A
4489(be)S
4641(architectural)S
3244 V
1548(variants)S
1968(of)S
2105(the)S
2289(same)S
2574(program.)S
3080(A)S
3204(common)S
3662(way)S
3900(to)S
4030(obtain)S
4368(this,)S
4609(is)S
4726(to)S
4856(read)S
5101(the)S
3384 V
1548(binaries)S
1962(from)S
2228(a)S
2312(directory)S
2780(using)S
12 I
3071(pd)S
12 Y1
3191(3)S
12 I
3251(read)S
12 Y1
3472(3)S
12 I
(multiple)398 3532 A
12 R
3970(\(see)S
12 I
4196(pd)S
12 Y1
4316(3)S
12 I
4376(read)S
12 R
4607(\(L\)\).\))S
3560 V
12 I
708(pd)S
12 Y1
828(3)S
12 I
888(chosen)S
12 R
1548(Returns)S
1964(the)S
2152(index)S
2460(into)S
12 I
2688(pd)S
12 Y1
2808(3)S
12 I
2868(array)S
12 R
3187(of)S
3329(the)S
3518(process)S
3922(descriptor)S
4448(to)S
4583(be)S
4738(run)S
4940(on)S
5101(the)S
3700 V
1548(selected)S
1969(host.)S
3876 V
12 I
708(procsvr)S
12 Y1
1077(3)S
12 I
1137(ret)S
12 R
1548(Returns)S
1954(the)S
(capability)478 2132 A
2640(for)S
2812(the)S
2990(process)S
3383(server)S
3710(on)S
3860(the)S
4038(selected)S
4459(host.)S
4052 V
12 I
708(hostname)S
12 Y1
1171(3)S
12 I
1231(ret)S
12 R
1548(The)S
1792(name)S
2110(of)S
2267(the)S
2471(selected)S
2918(host)S
3175(\(truncated,)S
3753(if)S
3884(needed\))S
4324(is)S
4462(returned)S
4923(in)S
5074(this)S
4192 V
1548(buffer.)S
4368 V
12 I
(Exec)236 708 A
12 Y1
944(3)S
12 I
(findhost)389 1004 A
12 R
1466(just)S
1704(calls)S
12 I
(exec)216 1990 A
12 Y1
2206(3)S
12 I
(multi)250 2266 A
12 Y1
2516(3)S
12 I
(findhost)389 2576 A
12 R
3038(with)S
3317(its)S
3495(single)S
12 I
3847(pd)S
12 R
4040(argument,)S
4591(and)S
4829(uses)S
5101(the)S
4508 V
708(default)S
1075(run)S
1266(server)S
1593(and)S
(pool)214 1797 A
2041(directory)S
2509(\(see)S
2735(the)S
2913(example)S
3353(section)S
3726(below\).)S
4804 V
708(Error)S
(Conditions:)563 995 A
4944 V
1062(FPE)S
12 Y1
1270(3)S
12 R
(BADARCH)592 1330 A
(Cannot)348 2262 A
2640(determine)S
3155(architecture)S
5084 V
1062(FPE)S
12 Y1
1270(3)S
12 R
1330(NOPOOLDIR)S
(Cannot)348 2262 A
2640(find)S
(pool)214 2865 A
3109(directory)S
5224 V
1062(FPE)S
12 Y1
1270(3)S
12 R
1330(BADPOOLDIR)S
(Cannot)348 2262 A
2640(open)S
(pool)214 2904 A
3148(directory)S
5364 V
1062(FPE)S
12 Y1
1270(3)S
12 R
(NONE)338 1330 A
2262(No)S
2440(suitable)S
2847(processor)S
3341(in)S
(pool)214 3465 A
3709(directory)S
5564 V
708(These)S
1027(constants)S
1507(are)S
1686(defined)S
2079(in)S
12 I
(exec)216 2203 A
12 Y1
2419(3)S
12 I
(fndhost.h)445 2479 A
12 R
2934(.)S
5880 V
12 I
708(Warning)S
6056 V
12 R
708(Even)S
997(when)S
12 I
(exec)216 1300 A
12 Y1
1516(3)S
12 I
(multi)250 1576 A
12 Y1
1826(3)S
12 I
(findhost)389 1886 A
12 R
2326(thinks)S
2662(that)S
2885(a)S
2980(host)S
3222(is)S
3344(suitable,)S
3792(attempts)S
4244(to)S
4379(execute)S
4791(the)S
4981(given)S
6196 V
708(process)S
1109(on)S
1267(that)S
1487(host)S
1726(may)S
1972(fail)S
2173(for)S
2353(a)S
2445(variety)S
2819(of)S
2957(reasons)S
3357(\(e.g.,)S
3639(memory)S
4079(fragmentation)S
4796(being)S
5101(the)S
6336 V
708(most)S
995(frequent)S
1451(cause,)S
1802(or)S
1955(processes)S
2471(on)S
2643(the)S
2843(host)S
3096(might)S
3430(have)S
3711(allocated)S
4202(extra)S
4498(memory)S
4954(in)S
5101(the)S
6476 V
708(meantime\).)S
6756 V
12 B
708(Example)S
6932 V
12 R
708(The)S
1034(following)S
1643(function)S
2185(implements)S
2889(the)S
(functionality)619 3176 A
3934(of)S
12 I
(exec)216 4174 A
12 Y1
4390(3)S
12 I
(findhost)389 4450 A
12 R
4988(using)S
7072 V
12 I
(exec)216 708 A
12 Y1
924(3)S
12 I
(multi)250 984 A
12 Y1
1234(3)S
12 I
(findhost)389 1294 A
12 R
1693(.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(171)180 5069 A
7920 V
EP
%%Page: 172 178
BP
/slant 0 def
/height 0 def
500 V
12 R
708(exec)S
12 Y1
930(3)S
12 R
(findhost)396 990 A
1406(\(L\))S
2567(Library)S
2961(Routines)S
4395(exec)S
12 Y1
4617(3)S
12 R
(findhost)396 4677 A
5093(\(L\))S
920 V
11 C
(errstat)469 708 A
1060 V
(findhost\(pd,)804 708 A
(procsvr)469 1579 A
11 Y1
2048(3)S
11 C
(ret\))268 2103 A
1200 V
(process)469 708 A
11 Y1
1177(3)S
11 C
1232(d)S
(*pd;)268 1433 A
1340 V
(capability)670 708 A
(*procsvr)536 1445 A
11 Y1
1981(3)S
11 C
(ret;)268 2036 A
1480 V
708({)S
1620 V
(char)268 976 A
(hostbuf[PD)670 1311 A
11 Y1
1981(3)S
11 C
(HOSTNAME];)670 2036 A
1760 V
(int)201 976 A
1359(pd)S
11 Y1
1493(3)S
11 C
(chosen;)469 1548 A
2040 V
(return)402 976 A
(exec)268 1445 A
11 Y1
1713(3)S
11 C
(multi)335 1768 A
11 Y1
2103(3)S
11 C
(findhost)536 2158 A
2761(\()S
2180 V
(\(capability)737 1493 A
(*\)NULL,)469 2297 A
2833(/*)S
(default)469 3034 A
(run)201 3570 A
(server)402 3838 A
4642(*/)S
2320 V
(\(capability)737 1493 A
(*\)NULL,)469 2297 A
2833(/*)S
(default)469 3034 A
(pool)268 3570 A
(directory)603 3905 A
4642(*/)S
2460 V
(&pd,)268 1493 A
2833(/*)S
(proc.)335 3034 A
(desc.)335 3436 A
(ptr)201 3838 A
(array)335 4106 A
4642(*/)S
2600 V
1493(1,)S
2833(/*)S
3034(of)S
(length)402 3235 A
3704(1)S
4642(*/)S
2740 V
(&pd)201 1493 A
11 Y1
1694(3)S
11 C
(chosen,)469 1749 A
2821(/*)S
3022(pd)S
(chosen)402 3223 A
(will)268 3692 A
4027(be)S
4228(0)S
4630(*/)S
2880 V
(procsvr)469 1493 A
11 Y1
1962(3)S
11 C
(ret,)268 2017 A
2821(/*)S
(process)469 3022 A
(server)402 3558 A
(selected)536 4027 A
4630(*/)S
3020 V
(hostbuf)469 1493 A
2833(/*)S
(hostname)536 3034 A
(\(not)268 3637 A
(used\))335 3972 A
4642(*/)S
3160 V
1177(\);)S
3300 V
708(})S
3640 V
12 B
708(See)S
913(Also)S
3816 V
12 R
708(exec)S
12 Y1
930(3)S
12 R
990(file\(L\),)S
1369(process\(L\),)S
1948(process)S
12 Y1
2311(3)S
12 R
2371(d\(L\),)S
2647(run\(A\).)S
7700 V
(172)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 173 179
BP
/slant 0 def
/height 0 def
500 V
12 R
708(exitprocess)S
1273(\(L\))S
2567(Library)S
2961(Routines)S
4528(exitprocess)S
5093(\(L\))S
860 V
2350(\(in)S
2515(libraries:)S
2978(libamoeba.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(exitprocess)S
12 R-1
1283(-)S
12 R
1411(terminate)S
1900(a)S
1984(process)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("module/proc.h")1005 1311 A
2182 V
(void)268 708 A
(exitprocess\(status\))1273 1043 A
2322 V
(int)201 708 A
(status;)469 976 A
2662 V
12 B
708(Description)S
2838 V
12 I
708(Exitprocess)S
12 R
1318(terminates)S
1859(the)S
2042(current)S
2421(process.)S
2880(The)S
3104(value)S
12 I
3402(status)S
12 R
3730(is)S
3847(the)S
4031(so-called)S
12 I
4505(exit)S
4717(status)S
12 R
5009(,)S
5075(and)S
2978 V
708(is)S
819(passed)S
1171(to)S
1295(the)S
1473(parent.)S
1866(If)S
1978(the)S
2156(process)S
2549(has)S
2740(more)S
3019(threads)S
3399(the)S
3577(other)S
3856(threads)S
4236(are)S
4415(aborted,)S
4838(just)S
5043(as)S
5174(if)S
3118 V
708(a)S
12 I
793(pro)S
12 Y1
960(3)S
12 I
1020(stun)S
12 R
1262(had)S
1467(been)S
(done)234 1727 A
1993(\(see)S
12 I
2221(process)S
12 R
2600(\(L\)\).)S
2889(As)S
(soon)227 3056 A
3315(as)S
3448(all)S
3602(threads)S
3984(have)S
4244(terminated)S
4795(a)S
4881(dummy)S
3258 V
708(process)S
1105(descriptor)S
1623(\(see)S
12 I
1852(process)S
12 Y1
2221(3)S
12 I
2281(d)S
12 R
2351(\(L\)\))S
2581(is)S
2695(created,)S
3109(consisting)S
3632(only)S
3879(of)S
4013(the)S
4194(fixed)S
4476(length)S
4811(part)S
5033(with)S
3398 V
708(no)S
875(thread)S
1225(map)S
1480(and)S
1701(no)S
1868(segment)S
2318(map.)S
2633(This)S
2896(process)S
3307(descriptor)S
3840(is)S
3969(sent)S
4212(to)S
4354(the)S
4550(owner,)S
4931(with)S
5195(a)S
3538 V
708(reason)S
1054(of)S
12 C
(TERM)292 1185 A
12 Y1
1477(3)S
12 C
(NORMAL)438 1537 A
12 R
1975(,)S
2035(and)S
2239(the)S
2417(exit)S
2629(status)S
2935(as)S
3066(detail.)S
3714 V
708(When)S
1028(the)S
1208(last)S
1409(thread)S
1744(of)S
1877(a)S
1963(process)S
2359(calls)S
12 I
(exitthread)491 2615 A
12 R
3139(\(see)S
12 I
3368(sys)S
12 Y1
3516(3)S
12 I
3576(newthread)S
12 R
4095(\(L\)\))S
4325(or)S
12 I
4459(thread)S
12 Y1
4774(3)S
12 I
4834(exit)S
12 R
5053(\(see)S
3854 V
12 I
708(thread)S
12 R
1033(\(L\)\),)S
1290(this)S
1495(call)S
1701(behaves)S
2120(as)S
2251(if)S
12 C
(exitprocess\(0\))1022 2356 A
12 R
3408(had)S
3612(been)S
3870(called.)S
4170 V
12 I
708(Warnings)S
4346 V
12 R
708(Most)S
989(user)S
1224(programs)S
(should)321 1714 A
2068(call)S
12 I
2277(exit)S
12 R
2496(\(see)S
12 I
2725(ansi)S
12 Y1
2926(3)S
12 I
2986(C)S
12 R
3076(\(L\)\))S
3306(or)S
12 Y1
3440(3)S
12 I
3500(exit)S
12 R
3720(\(see)S
12 I
3950(posix)S
12 R
4215(\(L\)\),)S
4476(not)S
12 I
4664(exitprocess)S
12 R
5219(.)S
4486 V
708(Those)S
1040(functions)S
1526(do)S
1682(some)S
(additional)484 1973 A
(cleanup)376 2493 A
2905(like)S
3123(properly)S
3569(closing)S
3954(files)S
4200(before)S
4546(they)S
4790(terminate)S
4626 V
708(the)S
886(process.)S
4906 V
12 B
708(See)S
913(Also)S
5082 V
12 R
708(process\(L\),)S
1287(process)S
12 Y1
1650(3)S
12 R
1710(d\(L\),)S
1986(posix\(L\),)S
2463(ansi)S
12 Y1
2658(3)S
12 R
2718(C\(L\),)S
3014(sys)S
12 Y1
3168(3)S
12 R
3228(newthread\(L\),)S
3949(thread\(L\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(173)180 5069 A
7920 V
EP
%%Page: 174 180
BP
/slant 0 def
/height 0 def
500 V
12 R
(findhole)403 708 A
1131(\(L\))S
2567(Library)S
2961(Routines)S
(findhole)403 4670 A
5093(\(L\))S
860 V
2392(\(in)S
2557(libraries:)S
3020(libamoeba\))S
1210 V
12 B
708(Name)S
1386 V
12 R
(findhole)403 708 A
12 R-1
1141(-)S
12 R
1269(search)S
1609(for)S
(unused)341 1781 A
(space)269 2152 A
2451(in)S
2575(virtual)S
2922(memory)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("module/proc.h")1005 1311 A
2182 V
(char)268 708 A
1043(*)S
2322 V
(findhole\(size\))938 708 A
2462 V
(long)268 708 A
(size;)335 1043 A
2802 V
12 B
708(Description)S
2978 V
12 I
(Findhole)436 708 A
12 R
1184(retrieves)S
1633(the)S
1811(virtual)S
2158(memory)S
(layout)302 2591 A
2923(\(using)S
12 I
3255(getinfo)S
12 R
3601(\(L\)\))S
3828(and)S
(looks)261 4032 A
4323(for)S
4495(a)S
(place)256 4580 A
4867(where)S
5195(a)S
3118 V
708(segment)S
1146(of)S
12 I
1282(size)S
12 R
1509(bytes)S
1799(can)S
2002(be)S
2150(mapped)S
2566(in,)S
(without)370 2724 A
3128(overlapping)S
3739(other)S
4022(segments,)S
4536(and)S
4744(with)S
4994(some)S
3258 V
708(unmapped)S
(space)269 1262 A
1584(\(typically)S
2102(32K\))S
2404(on)S
(each)222 2577 A
2852(side.)S
3160(It)S
3288(returns)S
3678(the)S
3879(address)S
4295(where)S
4645(the)S
4846(segment)S
3398 V
(should)321 708 A
1059(be)S
1203(mapped.)S
3714 V
12 I
(Diagnostics)578 708 A
3890 V
(Findhole)436 708 A
12 R
1184(returns)S
1551(zero)S
1790(if)S
1895(the)S
12 I
2073(getinfo)S
12 R
2449(call)S
2655(failed)S
2962(or)S
3093(if)S
3198(no)S
(fitting)297 3348 A
3675(hole)S
3913(was)S
(found.)311 4132 A
4206 V
12 I
708(Warnings)S
4382 V
12 R
708(There)S
1042(is)S
1174(no)S
1346(locking)S
1760(mechanism,)S
2393(so)S
2552(it)S
2672(is)S
2805(conceivable)S
3435(that)S
3669(another)S
4084(task)S
(fills)190 4331 A
4573(the)S
4773(hole)S
5033(with)S
4522 V
708(something)S
1241(before)S
1581(this)S
1786(task)S
2011(has)S
2202(had)S
2406(a)S
2490(chance.)S
4698 V
708(This)S
(interface)426 953 A
(should)321 1409 A
1760(be)S
(replaced)411 1904 A
2345(by)S
2495(one)S
2699(that)S
2911(finds)S
3183(a)S
3267(hole)S
12 I
(and)180 3505 A
12 R
3725(maps)S
4010(a)S
4094(segment)S
4527(in.)S
4978 V
12 B
708(See)S
913(Also)S
5154 V
12 R
708(getinfo\(L\),)S
1267(malloc\(L\),)S
1813(seg)S
12 Y1
1974(3)S
12 R
2034(map\(L\).)S
7700 V
(174)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 175 181
BP
/slant 0 def
/height 0 def
500 V
12 R
708(fs)S
816(\(L\))S
2567(Library)S
2961(Routines)S
4985(fs)S
5093(\(L\))S
860 V
2033(\(in)S
2198(libraries:)S
2661(libamoeba.a,)S
3309(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(fs)S
12 R-1
826(-)S
12 R
954(stream)S
(interface)426 1308 A
(\(OBSOLETE\))701 1764 A
1666 V
12 B
708(Synopsis)S
1866 V
11 C
(#include)536 708 A
("file.h")536 1311 A
2146 V
(long)268 708 A
(fsread\(cap,)737 1043 A
(position,)603 1847 A
(buf,)268 2517 A
(size\))335 2852 A
2286 V
(capability)670 708 A
(*cap;)335 1445 A
2426 V
(long)268 708 A
(position;)603 1043 A
2566 V
(char)268 708 A
(buf[];)402 1043 A
2706 V
(long)268 708 A
(size;)335 1043 A
2986 V
(long)268 708 A
(fswrite\(cap,)804 1043 A
(position,)603 1914 A
(buf,)268 2584 A
(size\))335 2919 A
3126 V
(capability)670 708 A
(*cap;)335 1445 A
3266 V
(long)268 708 A
(position;)603 1043 A
3406 V
(char)268 708 A
(buf[];)402 1043 A
3546 V
(long)268 708 A
(size;)335 1043 A
3886 V
12 B
708(Description)S
4062 V
12 R
708(This)S
(interface)426 956 A
1415(is)S
1529(implemented)S
2194(by)S
2348(the)S
11 R
2528(UNIX)S
12 R
2805(-emulation)S
3364(pipe-server)S
3944(and)S
4152(by)S
4306(native)S
4636(Amoeba)S
5080(tty-)S
4202 V
708(servers.)S
4378 V
12 I
708(Fsread)S
12 R
1100(reads)S
12 I
1396(size)S
12 R
1628(bytes)S
1923(from)S
2200(the)S
2389(stream)S
2754(pointed)S
3157(to)S
3292(by)S
12 I
3453(cap)S
12 R
3637(,)S
3708(starting)S
4113(from)S
(position)389 4390 A
12 I
(position)389 4820 A
12 R
5219(,)S
4518 V
708(and)S
912(puts)S
1143(them)S
1415(in)S
12 I
1539(buf)S
12 R
1703(.)S
4694 V
12 I
708(Fswrite)S
12 R
1140(writes)S
12 I
1490(size)S
12 R
1734(bytes)S
2041(from)S
12 I
2329(buf)S
12 R
2545(to)S
2691(the)S
2891(stream)S
3267(pointed)S
3681(to)S
3827(by)S
12 I
3999(cap)S
12 R
4183(,)S
4266(starting)S
4683(from)S
4972(offset)S
4834 V
12 I
(position)389 708 A
12 R
1107(.)S
5150 V
12 I
(Diagnostics)578 708 A
5326 V
12 R
708(If)S
821(an)S
966(error)S
1234(occurred,)S
1719(both)S
1964(functions)S
(will)190 2445 A
2666(return)S
2987(the)S
3166(\(negative\))S
3689(code.)S
4008(Otherwise)S
4539(they)S
4779(return)S
5101(the)S
5466 V
708(number)S
1125(of)S
1274(bytes)S
1577(actually)S
2009(copied.)S
2439(Which)S
2809(errors)S
3141(can)S
3357(be)S
3519(returned)S
(obviously)475 3970 A
4492(depends)S
4934(on)S
5101(the)S
5606 V
708(server)S
1035(that)S
1247(manages)S
12 I
1700(cap)S
12 R
1884(.)S
5922 V
12 I
708(Warnings)S
6098 V
12 R
708(The)S
931(offset)S
1243(parameters)S
1811(are)S
1995(currently)S
(ignored)369 2468 A
2872(by)S
3027(every)S
3331(server)S
3663(that)S
3880(implements)S
4480(the)S
(fs-interface.)585 4664 A
6238 V
708(They)S
986(descend)S
1405(from)S
1671(an)S
1815(age)S
2013(in)S
2137(which)S
2463(the)S
2641(file)S
(interface)426 2834 A
3290(was)S
3509(identical)S
3957(with)S
4203(the)S
4381(stream)S
(interface.)456 4735 A
6518 V
12 B
708(Example)S
6694 V
12 R
708(This)S
963(function)S
1406(fsreads)S
1790(an)S
1944(object)S
2280(and)S
2494(copies)S
2843(it)S
2951(onto)S
3205(another.)S
3668(It)S
3784(returns)S
4162(0)S
4263(on)S
4424(failure,)S
4813(and)S
5028(1)S
5129(on)S
6834 V
(success.)393 708 A
1161(Note)S
1427(that)S
1639(this)S
(will)190 1844 A
2064(not)S
2248(work)S
2527(for)S
2699(files,)S
2969(only)S
3213(for)S
3385(tty's)S
3631(and)S
3835(pipes.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(175)180 5069 A
7920 V
EP
%%Page: 176 182
BP
/slant 0 def
/height 0 def
500 V
12 R
708(fs)S
816(\(L\))S
2567(Library)S
2961(Routines)S
4985(fs)S
5093(\(L\))S
920 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
1060 V
(#include)536 708 A
("stdio.h")603 1311 A
1200 V
(#include)536 708 A
("assert.h")670 1311 A
1340 V
(#include)536 708 A
("stderr.h")670 1311 A
1480 V
(#include)536 708 A
("file.h")536 1311 A
1760 V
(copy\(in,)536 708 A
(out\))268 1311 A
1900 V
(capability)670 976 A
(*in,)268 1713 A
(*out;)335 2048 A
2040 V
708({)S
2180 V
(char)268 976 A
(buf[200];)603 1311 A
2320 V
(long)268 976 A
(position)536 1311 A
1914(=)S
2048(0;)S
2460 V
(int)201 976 A
(done)268 1244 A
1579(=)S
1713(0;)S
2740 V
976(do)S
1177({)S
2880 V
(long)268 1292 A
1627(r,)S
(w;/*)268 1828 A
(#bytes)402 2163 A
(read,)335 2632 A
(written)469 3034 A
3570(*/)S
3020 V
1244(r)S
1378(=)S
(fsread\(in,)670 1512 A
(position,)603 2249 A
(buf,)268 2919 A
(\(long\)sizeof\(buf\)\);)1273 3254 A
3160 V
1244(if)S
1445(\(r)S
1646(<)S
1780(0\))S
1981({)S
3300 V
(fprintf\(stderr,)1005 1512 A
("fsread)469 2584 A
(failed:)469 3120 A
(%s\\n",)402 3656 A
(err)201 4125 A
11 Y1
4326(3)S
11 C
(why\(r\)\);)536 4381 A
3440 V
(return)402 1512 A
1981(0;)S
3580 V
1244(})S
3720 V
1244(if)S
1445(\(r)S
1646(==)S
1847(0\))S
(done)268 2048 A
2383(=)S
2517(1;)S
3860 V
(else)268 1244 A
1579({)S
4000 V
1512(w)S
1646(=)S
(fswrite\(out,)804 1780 A
(position,)603 2651 A
(buf,)268 3321 A
(r\);)201 3656 A
4140 V
1512(if)S
1713(\(w)S
1914(<)S
2048(0\))S
2249({)S
4280 V
(fprintf\(stderr,)1005 1780 A
("fswrite)536 2852 A
(failed:)469 3455 A
(%s\\n",)402 3991 A
(err)201 4460 A
11 Y1
4661(3)S
11 C
(why\(w\)\);)536 4716 A
4420 V
(return)402 1780 A
2249(0;)S
4560 V
1512(})S
4700 V
(assert\(r)536 1560 A
2163(==)S
(w\);)201 2364 A
4840 V
(position)536 1512 A
2115(+=)S
2316(r;)S
4980 V
1244(})S
5120 V
976(})S
(while)335 1110 A
(\(!done\);)536 1512 A
5260 V
(return)402 976 A
1445(1;)S
5400 V
708(})S
7700 V
12 R
(176)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 177 183
BP
/slant 0 def
/height 0 def
500 V
12 R
708(getcap)S
1044(\(L\))S
2567(Library)S
2961(Routines)S
4757(getcap)S
5093(\(L\))S
860 V
2033(\(in)S
2198(libraries:)S
2661(libamoeba.a,)S
3309(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(getcap)S
12 R-1
1054(-)S
12 R
1182(get)S
1360(environment)S
(capability)478 2001 A
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2182 V
(capability)670 708 A
1445(*)S
2322 V
(getcap\(name\))804 708 A
2462 V
(char)268 708 A
(name[];)469 1043 A
2802 V
12 B
708(Description)S
2978 V
12 I
708(Getcap)S
12 R
1098(returns)S
1465(a)S
1549(pointer)S
1922(to)S
2046(the)S
2224(environment)S
(capability)478 2865 A
12 I
3373(name)S
12 R
3645(.)S
3294 V
12 I
(Diagnostics)578 708 A
3470 V
708(Getcap)S
12 R
1098(returns)S
1465(NULL)S
1819(when)S
2111(no)S
(capability)478 2261 A
12 I
2769(name)S
12 R
3071(exists.)S
3786 V
12 I
708(Environment)S
(Capabilities)591 1363 A
3962 V
12 R
708(Here)S
975(is)S
1086(a)S
1170(list)S
1349(of)S
1480(commonly)S
2026(used)S
2277(environment)S
(capabilities:)587 2918 A
4162 V
12 C
(ROOT)292 1068 A
12 R
2202(The)S
2420(root)S
2645(directory)S
4302 V
12 C
(WORK)292 1068 A
12 R
2202(The)S
2420(working)S
2853(directory)S
4442 V
12 C
(STDIN)365 1068 A
12 R
2202(Standard)S
(input)248 2662 A
4582 V
12 C
(STDOUT)438 1068 A
12 R
2202(Standard)S
2662(output)S
4722 V
12 C
(STDERR)438 1068 A
12 R
(Diagnostics)572 2202 A
2804(output)S
4862 V
12 Y1
1068(3)S
12 C
(SESSION)511 1128 A
12 R
2202(The)S
2420(session)S
2799(server)S
5002 V
12 C
(TTY)219 1068 A
12 R
2202(The)S
2420(current)S
2794(terminal)S
5378 V
12 I
708(Warnings)S
5554 V
12 R
708(There)S
1021(is)S
1132(no)S
(capability)478 1282 A
1790(environment)S
(under)275 2431 A
11 R
2734(UNIX)S
12 R
3041(so)S
12 I
3178(getcap)S
12 R
3540(always)S
3907(returns)S
4274(NULL.)S
5834 V
12 B
708(Example)S
6010 V
12 R
708(To)S
872(find)S
1097(the)S
(capability)478 1275 A
1783(for)S
1955('/':)S
6210 V
11 C
(capability)670 1068 A
(*slashcap;)670 1805 A
6350 V
(slashcap)536 1068 A
1671(=)S
(getcap\("ROOT"\);)1005 1805 A
6690 V
12 B
708(See)S
913(Also)S
6866 V
12 R
708(envcap\(U\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(177)180 5069 A
7920 V
EP
%%Page: 178 184
BP
/slant 0 def
/height 0 def
500 V
12 R
708(getinfo)S
1071(\(L\))S
2567(Library)S
2961(Routines)S
4730(getinfo)S
5093(\(L\))S
860 V
2350(\(in)S
2515(libraries:)S
2978(libamoeba.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(getinfo)S
12 R-1
1081(-)S
12 R
1209(get)S
1387(information)S
(about)268 1989 A
2287(the)S
2465(current)S
2839(process)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("module/proc.h")1005 1311 A
2322 V
(int)201 708 A
(getinfo\(retcap,)1005 976 A
(procbuf,)536 2048 A
(len\))268 2651 A
2462 V
(capability)670 708 A
(*retcap;)536 1445 A
2602 V
(process)469 708 A
11 Y1
1177(3)S
11 C
1232(d)S
(*procbuf)536 1366 A
2742 V
(int)201 708 A
(len;)268 976 A
3082 V
12 B
708(Description)S
3258 V
12 I
708(Getinfo)S
12 R
1123(returns)S
1501(information)S
(about)268 2114 A
2424(the)S
(calling)330 2614 A
2986(process.)S
3451(If)S
12 I
3575(retcap)S
12 R
3936(is)S
4059(not)S
4255(a)S
4351(NULL-pointer)S
5101(the)S
3398 V
(capability)478 708 A
1225(for)S
1406(the)S
1593(current)S
1976(process)S
2378(\(with)S
2674(all)S
2835(right)S
3103(bits)S
3317(set\))S
(will)190 3532 A
3761(be)S
3914(stored)S
4249(there.)S
4591(If)S
12 I
4712(len)S
12 R
4909(is)S
(non-)221 5028 A
3538 V
708(zero)S
12 I
951(procbuf)S
12 R
(should)321 1370 A
1725(point)S
2007(to)S
2135(an)S
2283(area)S
2521(of)S
12 I
2657(len)S
12 R
2850(bytes.)S
(Upon)268 3200 A
3503(return,)S
12 I
3858(procbuf)S
12 R
(will)190 4278 A
4503(be)S
(filled)257 4652 A
4944(with)S
5195(a)S
3678 V
708(stripped-down)S
1442(process)S
1840(descriptor)S
2359(for)S
2535(the)S
2717(current)S
3095(process.)S
3552(The)S
3774(process)S
4171(descriptor)S
4690(contains)S
5127(all)S
3818 V
708(the)S
911(static)S
1223(information)S
1850(and)S
2079(the)S
2282(segment)S
2741(map,)S
3035(but)S
3245(it)S
3369(does)S
3646(not)S
3856(contain)S
4268(a)S
4378(thread)S
4737(map.)S
5061(The)S
3958 V
708(process)S
1106(descriptor)S
1626(is)S
1742(returned)S
2181(in)S
2310(native)S
2640(byte)S
2882(order.)S
3232(See)S
12 I
3441(process)S
12 Y1
3810(3)S
12 I
3870(d)S
12 R
3940(\(L\))S
4130(for)S
4306(a)S
4394(description)S
4966(of)S
5101(the)S
4098 V
708(process)S
1101(descriptor.)S
12 I
1676(Getinfo)S
12 R
2080(returns)S
2447(the)S
2625(size)S
2844(of)S
2975(the)S
3153(process)S
3546(descriptor.)S
4274 V
708(Note)S
979(that)S
1196(the)S
12 I
1379(segment)S
(identifiers)492 1811 A
12 R
2348(used)S
2604(by)S
12 I
2759(seg)S
12 Y1
2920(3)S
12 I
2980(map)S
12 R
3234(and)S
3444(friends)S
3817(\(see)S
12 I
4049(seg)S
12 Y1
4210(3)S
12 I
4270(map)S
12 R
4488(\(L\)\))S
4721(are)S
4906(indices)S
4414 V
708(into)S
926(the)S
1104(array)S
1384(of)S
1515(segment)S
1948(descriptors)S
2510(returned)S
2944(as)S
3075(part)S
3294(of)S
3425(the)S
3603(process)S
3996(descriptor.)S
4730 V
12 I
708(Warnings)S
4906 V
12 R
708(If)S
12 I
821(procbuf)S
12 R
1237(is)S
1349(not)S
1534(big)S
(enough)354 1719 A
2104(to)S
2229(contain)S
2616(the)S
2795(complete)S
3270(segment)S
3704(mapping)S
4157(table)S
4425(no)S
4577(segments)S
(will)190 5059 A
5046 V
708(be)S
854(returned)S
1290(at)S
1410(all.)S
1624(So,)S
1813(if)S
12 I
1920(getinfo)S
12 R
2298(is)S
2411(used)S
2664(to)S
2790(obtain)S
3124(a)S
3209(segment)S
3643(map)S
3882(the)S
4061(value)S
4354(of)S
12 I
4486(pd)S
12 Y1
4606(3)S
12 I
4666(nseg)S
12 R
(should)321 4928 A
5186 V
708(be)S
852(checked)S
1278(to)S
1402(see)S
1587(whether)S
2008(the)S
2186(call)S
2392(was)S
(successful.)528 2611 A
5466 V
12 B
708(Example)S
5642 V
12 R
708(The)S
945(following)S
1465(program)S
1924(uses)S
12 I
2181(getinfo)S
12 R
2576(to)S
2720(get)S
2918(a)S
3022(segment)S
3475(map,)S
3763(searches)S
4224(for)S
4416(the)S
4614(segment)S
5067(that)S
5782 V
708(contains)S
1143(the)S
1323(stack)S
1604(of)S
1737(the)S
1917(current)S
2293(thread)S
2628(and)S
2834(unmaps)S
3241(that)S
3455(segment.)S
3950(It)S
4057(is)S
4170(left)S
4365(to)S
4491(the)S
4671(imagination)S
5922 V
708(what)S
(will)190 974 A
1194(happen)S
1572(after)S
1826(the)S
12 I
2004(seg)S
12 Y1
2165(3)S
12 I
2225(unmap)S
12 R
2593(call)S
2799(returns.)S
7700 V
(178)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 179 185
BP
/slant 0 def
/height 0 def
500 V
12 R
708(getinfo)S
1071(\(L\))S
2567(Library)S
2961(Routines)S
4730(getinfo)S
5093(\(L\))S
920 V
11 C
(#include)536 1068 A
("amoeba.h")670 1671 A
1060 V
(#include)536 1068 A
("module/proc.h")1005 1671 A
1340 V
(#define)469 1068 A
(MAXPD)335 1604 A
(1000)268 2006 A
1620 V
(main\(\))402 1068 A
1537({)S
1760 V
(char)268 1336 A
(pdbuf[MAXPD];)871 1671 A
1900 V
(process)469 1336 A
11 Y1
1805(3)S
11 C
1860(d)S
(*pd)201 1994 A
2262(=)S
(\(process)536 2396 A
11 Y1
2932(3)S
11 C
2987(d)S
(*\)pdbuf;)536 3121 A
2040 V
(segment)469 1336 A
11 Y1
1805(3)S
11 C
1860(d)S
(*sd;)268 1994 A
2180 V
(segid)335 1336 A
1738(i,)S
(seg)201 1939 A
11 Y1
2140(3)S
11 C
2195(to)S
11 Y1
2329(3)S
11 C
(unmap;)402 2384 A
2320 V
(char)268 1336 A
1671(c;)S
2600 V
(getinfo\(\(capability)1273 1336 A
(*\)0,)268 2676 A
(pd,)201 3011 A
(MAXPD\);)469 3279 A
2740 V
1336(if)S
(\(pd->pd)469 1537 A
11 Y1
2006(3)S
11 C
(nseg)268 2061 A
2396(==)S
2597(0\))S
(error\("buffer)871 2798 A
(too)201 3736 A
(small\\n"\);)670 4004 A
2880 V
(for)201 1336 A
(\(i=0;)335 1604 A
(i<pd->pd)536 2006 A
11 Y1
2542(3)S
11 C
(nseg;)335 2597 A
(i++\))268 2999 A
3334({)S
3020 V
1652(sd)S
1853(=)S
(&PD)201 1987 A
11 Y1
2188(3)S
11 C
(SD\(pd\)[i];)670 2243 A
3160 V
1652(if)S
(\(\(char)402 1853 A
(*\)sd->sd)536 2322 A
11 Y1
2858(3)S
11 C
(addr)268 2913 A
3248(<=)S
3449(&c)S
3650(&&)S
3300 V
(\(char)335 1920 A
(*\)sd->sd)536 2322 A
11 Y1
2858(3)S
11 C
(addr)268 2913 A
3248(+)S
(sd->sd)402 3382 A
11 Y1
3784(3)S
11 C
(len-1)335 3839 A
4241(>=)S
(&c\))201 4442 A
3440 V
(seg)201 2236 A
11 Y1
2437(3)S
11 C
2492(to)S
11 Y1
2626(3)S
11 C
(unmap)335 2681 A
3083(=)S
3217(i;)S
3580 V
1336(})S
3720 V
(printf\("Unmapping)1139 1336 A
(segment)469 2542 A
(%d\\n",)402 3078 A
(seg)201 3547 A
11 Y1
3748(3)S
11 C
3803(to)S
11 Y1
3937(3)S
11 C
(unmap\);)469 3992 A
3860 V
(seg)201 1336 A
11 Y1
1537(3)S
11 C
(unmap\(seg)603 1592 A
11 Y1
2195(3)S
11 C
2250(to)S
11 Y1
2384(3)S
11 C
(unmap,)402 2439 A
(\(capability)737 2908 A
(*\)0\);)335 3712 A
4000 V
(printf\("We)670 1336 A
(will)268 2073 A
(not)201 2408 A
(get)201 2676 A
(here\\n"\);)603 2944 A
4140 V
1068(})S
4480 V
12 B
708(See)S
913(Also)S
4656 V
12 R
708(process)S
12 Y1
1071(3)S
12 R
1131(d\(L\),)S
1407(seg)S
12 Y1
1568(3)S
12 R
1628(map\(L\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(179)180 5069 A
7920 V
EP
%%Page: 180 186
BP
/slant 0 def
/height 0 def
500 V
12 R
(goodport)435 708 A
1163(\(L\))S
2567(Library)S
2961(Routines)S
(goodport)435 4638 A
5093(\(L\))S
860 V
1745(\(in)S
1910(libraries:)S
2373(libamoeba.a,)S
3021(libkernel.a,)S
3596(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
(goodport)435 708 A
12 R-1
1173(-)S
12 R
1301(routines)S
1721(for)S
1893(avoiding)S
2345(repeated)S
2786(transactions)S
3395(to)S
3519(bad)S
3723(ports)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("module/goodport.h")1273 1311 A
2322 V
708(gp)S
11 Y1
842(3)S
11 C
(badport\(port,)871 897 A
(command\))536 1835 A
2462 V
708(gp)S
11 Y1
842(3)S
11 C
(notebad\(cap,)804 897 A
(status\))469 1768 A
2602 V
708(gp)S
11 Y1
842(3)S
11 C
(trans\(cap,)670 897 A
(func)268 1634 A
11 Y1
1902(3)S
11 C
(call\))335 1957 A
2742 V
708(gp)S
11 Y1
842(3)S
11 C
(std)201 897 A
11 Y1
1098(3)S
11 C
(copy\(server,)804 1153 A
(source,)469 2024 A
(target\))469 2560 A
2882 V
708(gp)S
11 Y1
842(3)S
11 C
(std)201 897 A
11 Y1
1098(3)S
11 C
(destroy\(cap\))804 1153 A
3022 V
708(gp)S
11 Y1
842(3)S
11 C
(std)201 897 A
11 Y1
1098(3)S
11 C
(info\(cap,)603 1153 A
(buf,)268 1823 A
2158(n,)S
(len\))268 2359 A
3162 V
708(gp)S
11 Y1
842(3)S
11 C
(std)201 897 A
11 Y1
1098(3)S
11 C
(restrict\(cap,)871 1153 A
(mask,)335 2091 A
(new\))268 2493 A
3302 V
708(gp)S
11 Y1
842(3)S
11 C
(std)201 897 A
11 Y1
1098(3)S
11 C
(status\(cap,)737 1153 A
(buf,)268 1957 A
2292(n,)S
(len\))268 2493 A
3442 V
708(gp)S
11 Y1
842(3)S
11 C
(std)201 897 A
11 Y1
1098(3)S
11 C
(touch\(cap\))670 1153 A
3782 V
12 B
708(Description)S
3958 V
12 R
708(One)S
958(of)S
1107(the)S
1303(problems)S
1801(with)S
2066(the)S
2263(client-server)S
2920(model)S
3271(is)S
3401(that)S
3632(it)S
3749(is)S
3879(possible)S
4324(that)S
4555(a)S
4658(server)S
5004(for)S
5195(a)S
4098 V
708(particular)S
1212(type)S
1458(of)S
1597(object)S
1931(is)S
2050(unavailable.)S
2706(Every)S
3032(attempt)S
3433(to)S
3564(communicate)S
4253(with)S
4506(that)S
4725(server)S
(will)190 5059 A
4238 V
708(result)S
1013(in)S
1142(a)S
1231(time-out)S
1677(while)S
1982(an)S
2131(attempt)S
2530(is)S
2646(made)S
2944(to)S
3074(locate)S
3400(the)S
3584(server.)S
3977(A)S
(succession)517 4101 A
4654(of)S
4791(time-outs)S
4378 V
708(can)S
915(result)S
1224(in)S
1357(very)S
(long)214 1611 A
1864(delays)S
2212(and)S
2425(seriously)S
2901(impact)S
3270(perceived)S
3780(and)S
3993(actual)S
4322(performance.)S
5034(This)S
4518 V
(module)362 708 A
1109(attempts)S
1559(to)S
1692(keep)S
1959(a)S
2052(history)S
2427(of)S
2568(servers)S
2952(which)S
3288(have)S
(recently)391 3556 A
3987(been)S
4255(unavailable.)S
4913(It)S
5028(does)S
4658 V
708(this)S
917(by)S
1071(remembering)S
1751(ports)S
2026(for)S
2201(which)S
2530(a)S
2617(locate)S
2940(time-out)S
3384(has)S
3578(occurred.)S
4095(By)S
4268(first)S
4498(checking)S
4967(to)S
5094(see)S
4798 V
708(if)S
813(a)S
897(port)S
1122(is)S
1233(in)S
1357(the)S
1535(list)S
1714(of)S
1845(unavailable)S
2433(ports)S
2705(it)S
2803(is)S
2914(possible)S
3340(to)S
3464(avoid)S
3762(the)S
(long)214 3940 A
4184(delays.)S
4583(If)S
4696(an)S
4841(object)S
5168(is)S
4938 V
708(replicated)S
1243(then)S
1507(it)S
1631(is)S
1768(possible)S
2220(to)S
2370(immediately)S
3032(see)S
3243(if)S
3374(a)S
3484(particular)S
4006(port)S
4257(is)S
(known)328 4394 A
4777(to)S
4926(be)S
5095(not)S
5078 V
(responding)536 708 A
1285(and)S
1500(first)S
1738(attempt)S
2143(to)S
2278(obtain)S
2621(the)S
2811(object)S
3149(from)S
3427(one)S
3643(of)S
3786(the)S
3976(alternative)S
4531(servers)S
4917(for)S
5101(the)S
5218 V
708(object.)S
5394 V
708(A)S
842(port)S
1083(is)S
1210(defined)S
1620(to)S
1761(be)S
12 I
(bad)180 1922 A
12 R
2159(if)S
2281(a)S
2382(previous)S
2845(transaction)S
3424(with)S
3687(that)S
3916(port)S
4158(has)S
4366(returned)S
4817(the)S
5012(error)S
5534 V
12 C
(RPC)219 708 A
12 Y1
927(3)S
12 C
(NOTFOUND)584 987 A
12 R
1571(.)S
1661(That)S
1913(is,)S
2054(an)S
2198(attempt)S
2592(to)S
2716(locate)S
3036(the)S
3214(server)S
3541(with)S
3787(that)S
3999(port)S
4224(has)S
4415(failed.)S
5710 V
708(A)S
840(fixed)S
1133(size)S
(cache)276 1366 A
1687(of)S
1833(bad)S
2052(ports)S
2339(is)S
2465(maintained.)S
3108(If)S
3235(more)S
3529(bad)S
3748(ports)S
4035(are)S
(found)281 4229 A
4555(than)S
4808(fit)S
4962(in)S
5101(the)S
5850 V
(cache)276 708 A
1031(then)S
1286(the)S
1481(least)S
(recently)391 1751 A
2188(added)S
2522(entry)S
2817(in)S
2957(the)S
(cache)276 3151 A
3473(is)S
3600(deleted)S
3996(to)S
4136(make)S
(space)269 4444 A
4759(for)S
4947(a)S
5047(new)S
5990 V
708(entry.)S
6306 V
12 I
708(Types)S
6482 V
12 R
708(The)S
926(set)S
1091(of)S
1222(legal)S
1488(values)S
1827(for)S
1999(the)S
12 I
(command)470 2177 A
12 R
2687(argument)S
3174(of)S
12 I
3305(gp)S
12 Y1
3425(3)S
12 I
(badport)381 3485 A
12 R
3906(are)S
4085(defined)S
4478(in)S
12 I
(goodport.h)531 4602 A
12 R
5143(.)S
7700 V
(180)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 181 187
BP
/slant 0 def
/height 0 def
500 V
12 R
(goodport)435 708 A
1163(\(L\))S
2567(Library)S
2961(Routines)S
(goodport)435 4638 A
5093(\(L\))S
860 V
12 I
708(gp)S
12 Y1
828(3)S
12 I
(badport)381 888 A
1096 V
11 C
(int)201 1068 A
1236 V
1068(gp)S
11 Y1
1202(3)S
11 C
(badport\(port,)871 1257 A
(command\))536 2195 A
1376 V
(port)268 1068 A
(*p;)201 1403 A
1516 V
(int)201 1068 A
(command;)536 1336 A
1716 V
12 I
708(Gp)S
12 Y1
856(3)S
12 I
(badport)381 916 A
12 R
1356(is)S
1486(used)S
1756(to)S
1899(modify)S
2297(the)S
2494(list)S
2692(of)S
12 I
(bad)180 2842 A
3071(ports)S
12 R
3329(.)S
3438(There)S
3770(are)S
3968(four)S
4219(values)S
4577(for)S
12 I
(command)470 4769 A
1856 V
12 R
708(which)S
1034(are)S
1213(defined)S
1606(in)S
12 I
(goodport.h)531 1730 A
12 R
2271(.)S
2032 V
12 C
708(GP)S
12 Y1
854(3)S
12 C
(INIT)292 914 A
12 R
(Initialize)433 1428 A
1905(the)S
2097(list)S
2290(of)S
2435(bad)S
2653(ports)S
2939(to)S
3077(empty.)S
3483(The)S
3716(function)S
4164(returns)S
4546(1)S
4651(in)S
4790(this)S
5010(case.)S
2172 V
1428(The)S
1646(port)S
1871(argument)S
12 I
2358(p)S
12 R
2458(is)S
2569(not)S
2753(used)S
3004(and)S
3208(may)S
3446(be)S
3590(the)S
3768(NULL-pointer.)S
2348 V
12 C
708(GP)S
12 Y1
854(3)S
12 C
(APPEND)438 914 A
12 R
1428(Add)S
1675(the)S
1862(port)S
2096(pointed)S
2497(to)S
2630(by)S
12 I
2790(p)S
12 R
2900(to)S
3034(the)S
(cache)276 3222 A
3538(of)S
3679(bad)S
3893(ports.)S
4235(Returns)S
4651(1)S
4751(if)S
4866(the)S
5054(port)S
2488 V
1428(was)S
1647(already)S
2034(in)S
2158(the)S
(cache)276 2336 A
2642(and)S
2846(0)S
2936(if)S
3041(it)S
3139(added)S
3457(it.)S
2664 V
12 C
708(GP)S
12 Y1
854(3)S
12 C
(DELETE)438 914 A
12 R
1428(Remove)S
1876(the)S
2070(port)S
2311(pointed)S
2719(to)S
2859(by)S
12 I
3025(p)S
12 R
3141(from)S
3423(the)S
3617(list)S
3812(of)S
3959(bad)S
4180(ports.)S
4529(Returns)S
4952(1)S
5059(if)S
5181(it)S
2804 V
1428(deleted)S
1808(it)S
1906(and)S
2110(0)S
2200(if)S
2305(the)S
12 I
2483(port)S
12 R
2724(was)S
2943(not)S
3127(in)S
3251(the)S
(cache.)306 3429 A
2980 V
12 C
708(GP)S
12 Y1
854(3)S
12 C
(LOOKUP)438 914 A
12 R
1428(This)S
1703(routine)S
2106(returns)S
2503(1)S
2623(if)S
2758(the)S
2966(port)S
3221(pointed)S
3644(to)S
3799(by)S
12 I
3980(p)S
12 R
4111(is)S
4253(in)S
4408(the)S
(cache)276 4617 A
4954(and)S
5189(0)S
3120 V
1428(otherwise.)S
3436 V
12 I
708(gp)S
12 Y1
828(3)S
12 I
(notebad)388 888 A
3672 V
11 C
(errstat)469 1068 A
3812 V
1068(gp)S
11 Y1
1202(3)S
11 C
(notebad\(cap,)804 1257 A
(status\))469 2128 A
3952 V
(capability)670 1068 A
(*cap;)335 1805 A
4092 V
(errstat)469 1068 A
(status;)469 1604 A
4292 V
12 I
708(Gp)S
12 Y1
856(3)S
12 I
(notebad)388 916 A
12 R
1349(is)S
1465(a)S
(utility)290 1554 A
1880(routine)S
2259(to)S
2389(add)S
2599(a)S
2689(port)S
2920(to)S
3050(the)S
12 I
(bad)180 3234 A
3450(port)S
12 R
(cache.)306 3697 A
4069(If)S
4187(a)S
4277(transaction)S
4845(returned)S
4432 V
708(an)S
862(error)S
1139(status)S
1455(then)S
1703(the)S
(capability)478 1891 A
12 I
2409(cap)S
12 R
2633(used)S
2894(for)S
3076(the)S
3264(transaction)S
3836(and)S
4050(the)S
4238(error)S
4514(returned)S
12 I
4957(status)S
4572 V
12 R
708(can)S
907(be)S
1052(given)S
1351(to)S
1476(this)S
1682(routine.)S
2116(If)S
12 I
2229(status)S
12 R
2552(is)S
12 C
(RPC)219 2664 A
12 Y1
2883(3)S
12 C
(NOTFOUND)584 2943 A
12 R
3558(this)S
3764(routine)S
(will)190 4138 A
4359(add)S
4564(the)S
4743(port)S
4969(of)S
5101(the)S
4712 V
708(server)S
1035(to)S
1159(the)S
12 I
(bad)180 1337 A
1547(port)S
12 R
(cache.)306 1788 A
2154(The)S
2372(function)S
2805(returns)S
12 I
3172(status)S
12 R
3464(.)S
5028 V
12 I
708(gp)S
12 Y1
828(3)S
12 I
888(trans)S
5264 V
11 C
(errstat)469 1068 A
5404 V
1068(gp)S
11 Y1
1202(3)S
11 C
(trans\(cap,)670 1257 A
(func)268 1994 A
11 Y1
2262(3)S
11 C
(call\))335 2317 A
5544 V
(capability)670 1068 A
(*cap;)335 1805 A
5684 V
(errstat)469 1068 A
(\(*func)402 1604 A
11 Y1
2006(3)S
11 C
(call\)\(\);)536 2061 A
5884 V
12 I
708(Gp)S
12 Y1
856(3)S
12 I
916(trans)S
12 R
1208(is)S
1323(a)S
1411(macro)S
1748(defined)S
2146(in)S
12 I
(goodport.h)531 2275 A
12 R
2851(that)S
3068(calls)S
3326(the)S
3509(function)S
12 I
3947(func)S
12 Y1
4155(3)S
12 I
4215(call)S
12 R
4442(if)S
4552(the)S
4735(port)S
4965(of)S
5101(the)S
6024 V
(capability)478 708 A
12 I
1235(cap)S
12 R
1468(is)S
1598(not)S
1801(in)S
1944(the)S
12 I
(bad)180 2141 A
2370(port)S
12 R
(cache.)306 2630 A
3015(If)S
3146(it)S
3263(is)S
3393(in)S
3536(the)S
(cache)276 3733 A
4058(then)S
4315(it)S
4431(returns)S
4816(the)S
5012(error)S
6164 V
12 C
(RPC)219 708 A
12 Y1
927(3)S
12 C
(BADPORT)511 987 A
12 R
1498(.)S
6340 V
708(If)S
823(the)S
1004(result)S
1307(of)S
1441(the)S
12 I
1622(func)S
12 Y1
1830(3)S
12 I
1890(call)S
12 R
2115(is)S
12 C
(RPC)219 2229 A
12 Y1
2448(3)S
12 C
(NOTFOUND)584 2508 A
12 R
3125(then)S
3366(it)S
3468(registers)S
3914(the)S
4096(port)S
4325(of)S
4460(the)S
4642(server)S
4973(in)S
5101(the)S
6480 V
12 I
(bad)180 708 A
918(port)S
12 R
(cache.)306 1159 A
1525(It)S
1630(returns)S
1997(the)S
2175(error)S
2442(status)S
2748(of)S
12 I
2879(func)S
12 Y1
3087(3)S
12 I
3147(call)S
12 R
3339(.)S
6656 V
708(This)S
981(macro)S
1342(has)S
1561(been)S
1847(used)S
2126(to)S
2278(define)S
2639(several)S
3042(other)S
3350(macros)S
3759(for)S
3960(all)S
4141(the)S
12 I
4348(std)S
12 R
4558(functions)S
5067(that)S
6796 V
708(automatically)S
1430(log)S
1646(any)S
1882(bad)S
2118(ports)S
2422(in)S
2578(the)S
12 I
(bad)180 2788 A
3030(port)S
12 R
(cache.)306 3303 A
3701(These)S
4051(routines)S
4502(have)S
4791(the)S
5000(same)S
6936 V
708(parameters)S
1271(as)S
1402(the)S
1580(routines)S
2000(described)S
2494(in)S
12 I
2618(std)S
12 R
2769(\(L\))S
2955(but)S
3139(the)S
3317(function)S
3750(names)S
4089(are)S
4268(prefixed)S
4702(with)S
12 I
4948(gp)S
12 Y1
5068(3)S
12 R
5138(.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(181)180 5069 A
7920 V
EP
%%Page: 182 188
BP
/slant 0 def
/height 0 def
500 V
12 R
(goodport)435 708 A
1163(\(L\))S
2567(Library)S
2961(Routines)S
(goodport)435 4638 A
5093(\(L\))S
860 V
12 B
708(See)S
913(Also)S
1036 V
12 R
708(std\(L\).)S
7700 V
(182)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 183 189
BP
/slant 0 def
/height 0 def
500 V
12 R
708(grp)S
889(\(L\))S
2567(Library)S
2961(Routines)S
4912(grp)S
5093(\(L\))S
860 V
2350(\(in)S
2515(libraries:)S
2978(libamoeba.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(grp)S
12 R-1
899(-)S
12 R
1027(the)S
(group)281 1205 A
1516(communication)S
(primitives)492 2298 A
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("group.h")603 1311 A
2322 V
708(g)S
11 Y1
775(3)S
11 C
830(id)S
11 Y1
964(3)S
11 C
1019(t)S
(grp)201 1287 A
11 Y1
1488(3)S
11 C
(create\(p,)603 1543 A
(resilience,)737 2213 A
(maxgroup,)603 3017 A
(lognbuf,)536 3687 A
(logmaxmess\))737 4290 A
2462 V
(errstat)469 708 A
(grp)201 1311 A
11 Y1
1512(3)S
11 C
(forward\(gid,)804 1567 A
2438(p,)S
(memid\))402 2639 A
2602 V
(errstat)469 708 A
(grp)201 1311 A
11 Y1
1512(3)S
11 C
(info\(gid,)603 1567 A
2237(p,)S
(state,)402 2438 A
(memlist,)536 2907 A
(size\))335 3510 A
2742 V
708(g)S
11 Y1
775(3)S
11 C
830(id)S
11 Y1
964(3)S
11 C
1019(t)S
(grp)201 1287 A
11 Y1
1488(3)S
11 C
(join\(hdr\))603 1543 A
2882 V
(errstat)469 708 A
(grp)201 1311 A
11 Y1
1512(3)S
11 C
(leave\(gid,)670 1567 A
(hdr\))268 2304 A
3022 V
(int32)335 708 A
(grp)201 1311 A
11 Y1
1512(3)S
11 C
(receive\(gid,)804 1567 A
(hdr,)268 2438 A
(buf,)268 2773 A
(size,)335 3108 A
(more\))335 3510 A
3162 V
708(g)S
11 Y1
775(3)S
11 C
(indx)268 830 A
11 Y1
1098(3)S
11 C
1153(t)S
(grp)201 1287 A
11 Y1
1488(3)S
11 C
(reset\(gid,)670 1543 A
(hdr,)268 2280 A
(nmem\))335 2615 A
3302 V
(errstat)469 708 A
(grp)201 1311 A
11 Y1
1512(3)S
11 C
(send\(gid,)603 1567 A
(hdr,)268 2237 A
(data,)335 2572 A
(size\))335 2974 A
3442 V
(errstat)469 708 A
(grp)201 1311 A
11 Y1
1512(3)S
11 C
(set\(gid,)536 1567 A
2170(p,)S
(sync,)335 2371 A
(reply,)402 2773 A
(alive,)402 3242 A
(large\))402 3711 A
3782 V
12 B
708(Description)S
3958 V
12 R
708(RPC)S
990(provides)S
1461(point-to-point)S
2188(communication)S
2996(between)S
3456(a)S
3566(single)S
3911(client)S
4237(and)S
4467(a)S
4577(single)S
4922(server.)S
4098 V
708(What)S
1005(is)S
1120(often)S
1403(needed)S
1779(is)S
1894(1-to-n)S
2224(communication)S
3010(\(for)S
3227(example)S
3671(in)S
3799(a)S
3887(replicated)S
4400(server\).)S
4832(This)S
5081(can)S
4238 V
708(be)S
861(simulated)S
1371(with)S
1626(n)S
12 R-1
1686(-)S
12 R
1754(1)S
1853(RPCs)S
2166(but)S
2359(this)S
2573(is)S
2693(not)S
2886(very)S
3140(efficient.)S
3645(In)S
3785(most)S
4059(systems)S
4481(this)S
(will)190 4696 A
4926(cost)S
5161(at)S
4378 V
708(least)S
1043(2)S
1123(\(n)S
12 R-1
1224(-)S
12 R
1292(1\))S
1505(network)S
2014(packets)S
2489(\(one)S
2816(packet)S
3244(for)S
3498(the)S
3757(message)S
4278(and)S
4563(one)S
4848(for)S
5101(the)S
4518 V
(acknowledgement\).)951 708 A
1720(If)S
1833(the)S
2012(message)S
2453(is)S
2565(larger)S
2880(than)S
3120(a)S
3206(single)S
3527(packet)S
3875(the)S
4055(cost)S
(will)190 4282 A
4504(be)S
4650(even)S
4910(higher.)S
4658 V
708(Therefore)S
1243(a)S
1353(more)S
1658(efficient)S
2120(system)S
2512(of)S
2668(message)S
3133(passing)S
3550(for)S
(groups)328 3747 A
4130(of)S
4286(processes)S
4805(has)S
5021(been)S
4798 V
708(provided.)S
1255(It)S
1388(provides)S
1862(optional)S
2316(fault)S
2597(tolerance)S
3100(and)S
3333(a)S
3446(total)S
3721(ordering)S
4190(of)S
4350(messages.)S
4926(Where)S
4938 V
708(possible)S
1159(it)S
1282(takes)S
1586(advantage)S
2131(of)S
2287(hardware)S
(multicast)445 2794 A
(support)362 3294 A
3711(\(e.g.,)S
4011(on)S
4186(Ethernet\).)S
4752(Where)S
5129(no)S
5078 V
(support)362 708 A
1100(is)S
1211(available)S
1679(it)S
1777(falls)S
2017(back)S
2275(to)S
2399(using)S
2690(point-to-point)S
3392(messages)S
3879(to)S
4003(send)S
4254(the)S
4432(information.)S
5254 V
708(A)S
12 I
(group)287 838 A
12 R
1177(consists)S
1602(of)S
1745(one)S
1961(or)S
2104(more)S
2395(processes,)S
2931(called)S
12 I
3263(members)S
12 R
3711(,)S
3783(typically)S
(running)375 4249 A
4667(on)S
4830(different)S
5394 V
708(processors)S
1285(and)S
(cooperating)571 1525 A
2161(to)S
2320(provide)S
2754(some)S
3074(service)S
3483(or)S
3649(to)S
3808(implement)S
4391(some)S
4711(application)S
5534 V
708(program.)S
1221(Processes)S
1735(may)S
1987(be)S
2145(a)S
2243(member)S
2684(of)S
2829(more)S
3122(than)S
3374(one)S
(group.)311 3592 A
(Groups)356 3977 A
4377(are)S
4570(closed,)S
4953(which)S
5674 V
708(means)S
1049(that)S
1263(only)S
(group)281 1509 A
1822(members)S
2298(can)S
2498(send)S
2751(a)S
2837(broadcast)S
3333(message)S
3775(to)S
3900(the)S
(group.)311 4079 A
4451(Processes)S
4953(which)S
5814 V
708(are)S
889(not)S
1075(a)S
1161(member)S
1590(and)S
1796(which)S
2125(wish)S
2387(to)S
2514(communicate)S
3199(with)S
3448(a)S
(group)281 3535 A
3849(can)S
4050(use)S
4244(RPC)S
4504(\(or)S
4679(can)S
4880(join)S
5101(the)S
5954 V
(group\).)352 708 A
6130 V
708(A)S
(group)281 833 A
1151(is)S
1269(identified)S
1772(by)S
1930(a)S
2022(port.)S
2315(All)S
(group)281 2509 A
2828(calls)S
3089(must)S
(supply)321 3362 A
3721(this)S
3934(port.)S
4227(A)S
(group)281 4353 A
4672(is)S
(explicitly)458 4791 A
6270 V
708(created)S
1100(by)S
(calling)330 1261 A
12 I
1632(grp)S
12 Y1
1799(3)S
12 I
1859(create)S
12 R
2172(.)S
2273(The)S
2502(process)S
2906(that)S
3129(called)S
3460(this)S
(primitive)445 3676 A
4162(is)S
4284(the)S
4473(first)S
4711(member)S
5148(of)S
6410 V
708(the)S
(group.)311 887 A
1259(It)S
1365(becomes)S
1820(the)S
12 I
2000(sequencer)S
12 R
2532(for)S
2706(the)S
(group,)311 2886 A
3229(ensuring)S
3677(a)S
3763(total)S
4011(ordering)S
4453(of)S
4586(messages)S
5075(and)S
6550 V
708(maintaining)S
1319(message)S
1762(history)S
2131(for)S
2306(use)S
2500(in)S
2627(recovery)S
3084(in)S
3211(the)S
3392(event)S
3686(of)S
3819(failures.)S
4276(Other)S
4585(processes)S
5081(can)S
6690 V
708(become)S
1124(a)S
1218(member)S
1655(by)S
(calling)330 1815 A
12 I
2186(grp)S
12 Y1
2353(3)S
12 I
2413(join)S
12 R
2611(,)S
2682(and)S
(supplying)475 2897 A
3413(as)S
3555(parameter)S
4082(the)S
4271(port)S
4507(with)S
4764(which)S
5101(the)S
6830 V
(group)281 708 A
1030(has)S
1231(been)S
1499(created.)S
1950(There)S
2273(are)S
2462(a)S
2556(number)S
2965(of)S
3106(ways)S
3395(in)S
3529(which)S
3865(the)S
4053(creator)S
4431(of)S
4572(the)S
(group)281 4760 A
5081(can)S
6970 V
708(pass)S
958(the)S
1148(port)S
1385(to)S
1521(other)S
1812(processes)S
2318(so)S
2467(that)S
2691(they)S
2941(can)S
3151(join)S
3381(the)S
(group.)311 3571 A
3954(One)S
4198(way)S
4442(is)S
4566(to)S
(publish)355 4703 A
5101(the)S
7110 V
708(port)S
940(in)S
1071(the)S
1256(directory)S
1731(server)S
2065(so)S
2209(that)S
2427(other)S
2712(processes)S
3212(can)S
(look)214 3416 A
3666(it)S
3770(up.)S
3986(Another)S
4419(way)S
4657(is)S
4774(to)S
4904(use)S
5101(the)S
7250 V
708(program)S
12 I
1155(gax)S
12 R
1339(\(U\))S
1546(which)S
1879(passes)S
2226(the)S
2412(port)S
2645(to)S
2777(a)S
2869(process)S
(through)375 3270 A
3683(its)S
(capability)478 3836 A
4352(environment.)S
5061(The)S
7700 V
2683(Amoeba)S
3123(5.3)S
(183)180 5069 A
7920 V
EP
%%Page: 184 190
BP
/slant 0 def
/height 0 def
500 V
12 R
708(grp)S
889(\(L\))S
2567(Library)S
2961(Routines)S
4912(grp)S
5093(\(L\))S
860 V
(knowledge)530 708 A
1268(of)S
1399(the)S
1577(port)S
1802(is)S
1913(sufficient)S
2402(to)S
2526(be)S
2670(allowed)S
3084(to)S
3208(join)S
3426(the)S
(group.)311 3604 A
1036 V
708(Both)S
12 I
972(grp)S
12 Y1
1139(3)S
12 I
1199(create)S
12 R
1542(and)S
12 I
1746(grp)S
12 Y1
1913(3)S
12 I
1973(join)S
12 R
2201(return)S
2521(a)S
2606(small)S
2900(identifier,)S
3407(called)S
3728(the)S
(group)281 3907 A
4219(id)S
4344(\()S
12 I
4385(gid)S
12 R
4539(\).)S
4671(The)S
4890(gid)S
5075(and)S
1176 V
708(port)S
950(have)S
1225(to)S
1366(be)S
(supplied)409 1527 A
1983(with)S
2246(all)S
2415(subsequent)S
(group)281 2998 A
3326(calls)S
3596(\(the)S
3832(port)S
4074(is)S
4202(passed)S
4571(as)S
4719(part)S
4954(of)S
5101(the)S
1316 V
708(header)S
1066(or)S
1202(is)S
(supplied)409 1318 A
(explicitly\).)529 1762 A
2356(The)S
12 I
2580(gid)S
12 R
2780(allows)S
3133(the)S
3317(system)S
3689(to)S
3819(do)S
3975(a)S
4065(fast)S
(lookup)334 4277 A
4647(of)S
4784(the)S
(group)281 4968 A
1456 V
708(state.)S
1028(The)S
1253(port)S
1485(must)S
1757(also)S
1989(be)S
(supplied,)439 2139 A
2614(so)S
2757(that)S
2975(the)S
3159(kernel)S
3498(can)S
3702(check)S
4020(if)S
4131(the)S
4315(member)S
4748(is)S
4865(allowed)S
1596 V
708(to)S
832(perform)S
(group)281 1253 A
1564(calls.)S
1772 V
708(Once)S
1025(a)S
1140(process)S
1564(is)S
1706(a)S
1821(member)S
2279(of)S
2441(the)S
(group,)311 2650 A
3022(it)S
3151(can)S
3380(call)S
12 I
3617(grp)S
12 Y1
3784(3)S
12 I
3844(send)S
12 R
4075(,)S
12 I
4167(grp)S
12 Y1
4334(3)S
12 I
(receive)351 4394 A
12 R
4755(,)S
12 I
4847(grp)S
12 Y1
5014(3)S
12 I
5074(set)S
12 R
5219(,)S
1912 V
12 I
708(grp)S
12 Y1
875(3)S
12 I
935(info)S
12 R
1133(,)S
12 I
1199(grp)S
12 Y1
1366(3)S
12 I
1426(forward)S
12 R
1824(,)S
1890(and)S
12 I
2100(grp)S
12 Y1
2267(3)S
12 I
2327(leave.)S
2659(Grp)S
12 Y1
2854(3)S
12 I
2914(send)S
12 R
3180(allows)S
3532(a)S
3621(member)S
4053(to)S
4182(send)S
4438(a)S
4527(message)S
4972(to)S
5101(the)S
2052 V
(group.)311 708 A
12 I
1105(Grp)S
12 Y1
1300(3)S
12 I
(receive)351 1360 A
12 R
1777(allows)S
2150(a)S
2260(member)S
2713(to)S
(receive)351 2863 A
3270(a)S
3380(message)S
3846(sent)S
4097(to)S
4247(the)S
(group.)311 4451 A
12 I
4849(Grp)S
12 Y1
5044(3)S
12 I
5104(set)S
2192 V
12 R
708(allows)S
1070(a)S
1169(member)S
1611(to)S
1749(set)S
1928(timer)S
2229(values.)S
12 I
2642(Grp)S
12 Y1
2837(3)S
12 I
2897(info)S
12 R
3139(allows)S
3500(a)S
3598(member)S
4039(to)S
4177(learn)S
(about)268 4464 A
4776(the)S
(group)281 4968 A
2332 V
708(state.)S
12 I
1026(Grp)S
12 Y1
1221(3)S
12 I
1281(forward)S
12 R
1714(allows)S
2066(a)S
2156(member)S
2589(to)S
2719(forward)S
3140(a)S
3230(message)S
3676(that)S
3894(is)S
(received)411 4011 A
4458(with)S
4710(a)S
12 I
4800(getreq)S
12 R
5155(to)S
2472 V
708(another)S
1113(member)S
1551(of)S
1693(the)S
(group.)311 1882 A
2264(This)S
2520(call)S
2737(is)S
2859(the)S
3048(link)S
3277(between)S
3722(the)S
(group)281 3911 A
4233(communication)S
5026(calls)S
2612 V
708(and)S
922(the)S
12 I
1110(rpc)S
12 R
1281(\(L\))S
1478(calls.)S
12 I
1802(Grp)S
12 Y1
1997(3)S
12 I
2057(leave)S
12 R
2364(allows)S
2722(a)S
2817(member)S
3255(to)S
3390(leave)S
3687(the)S
(group.)311 3876 A
4258(Once)S
4555(a)S
4650(member)S
5088(has)S
2752 V
(successfully)592 708 A
1335(called)S
12 I
1660(grp)S
12 Y1
1827(3)S
12 I
1887(leave)S
12 R
2153(,)S
2218(the)S
2401(process)S
2799(is)S
2915(not)S
3104(a)S
3193(member)S
3625(of)S
3761(the)S
(group)281 3944 A
4260(anymore.)S
4778(When)S
5101(the)S
2892 V
708(last)S
907(member)S
1334(leaves)S
1667(the)S
(group,)311 1845 A
2186(the)S
(group)281 2364 A
(ceases)310 2675 A
3015(to)S
3139(exist.)S
3068 V
708(All)S
(primitives,)522 899 A
1456(except)S
12 I
1807(grp)S
12 Y1
1974(3)S
12 I
2034(set)S
12 R
2214(and)S
12 I
2423(grp)S
12 Y1
2590(3)S
12 I
2650(info)S
12 R
2883(block)S
3186(the)S
(calling)330 3369 A
3735(thread)S
(until)222 4074 A
4332(the)S
4516(call)S
4728(completes.)S
3208 V
708(A)S
836(typical)S
1206(way)S
1448(of)S
1589(programming)S
2287(with)S
2543(the)S
(group)281 2731 A
3052(communication)S
(primitives)492 3844 A
4376(is)S
4497(to)S
4631(dedicate)S
5075(one)S
3348 V
708(thread)S
1041(to)S
1165(doing)S
1469(the)S
12 I
1647(grp)S
12 Y1
1814(3)S
12 I
(receive)351 1874 A
12 R
2265(calls)S
2518(and)S
2722(another)S
3115(thread)S
3448(to)S
3572(doing)S
3876(the)S
4054(real)S
4267(work.)S
3664 V
12 I
708(Error)S
1013(codes)S
3840 V
12 R
708(The)S
931(possible)S
1362(error)S
1634(codes)S
1944(returned)S
2383(by)S
2538(the)S
(group)281 2721 A
(primitives,)522 3037 A
3594(and)S
3803(their)S
4061(interpretation)S
4750(are)S
4934(shown)S
3980 V
708(in)S
832(the)S
1010(next)S
1248(table:)S
4070 V
12 Y1
1521(2)S
(222222222222222222222222222222222222222222222222)2880 1555 A
4210 V
12 R
1581(Error)S
1868(code)S
2551(Description)S
4220 V
12 Y1
1521(2)S
(222222222222222222222222222222222222222222222222)2880 1555 A
4240 V
1521(2)S
(222222222222222222222222222222222222222222222222)2880 1555 A
4370 V
12 C
(STD)219 1581 A
12 Y1
1800(3)S
12 C
1860(OK)S
12 R
2551(operation)S
(succeeded)497 3038 A
4390 V
12 Y1
1521(2)S
(222222222222222222222222222222222222222222222222)2880 1555 A
4530 V
12 C
(STD)219 1581 A
12 Y1
1800(3)S
12 C
(ARGBAD)438 1860 A
12 R
(illegal)304 2551 A
2885(argument)S
4550 V
12 Y1
1521(2)S
(222222222222222222222222222222222222222222222222)2880 1555 A
4690 V
12 C
(STD)219 1581 A
12 Y1
1800(3)S
12 C
(EXISTS)438 1860 A
12 R
2551(process)S
2944(already)S
3331(member)S
3758(of)S
3889(this)S
(group)281 4094 A
4710 V
12 Y1
1521(2)S
(222222222222222222222222222222222222222222222222)2880 1555 A
4850 V
12 C
(STD)219 1581 A
12 Y1
1800(3)S
12 C
(NOMEM)365 1860 A
12 R
(cannot)322 2551 A
2903(allocate)S
(group)281 3311 A
3622(buffers)S
4870 V
12 Y1
1521(2)S
(222222222222222222222222222222222222222222222222)2880 1555 A
5010 V
12 C
1581(BC)S
12 Y1
1727(3)S
12 C
(ABORT)365 1787 A
12 R
2551(a)S
2635(member)S
3062(has)S
3253(died;)S
3525(need)S
3783(grp)S
12 Y1
3944(3)S
12 R
4004(reset)S
5030 V
12 Y1
1521(2)S
(222222222222222222222222222222222222222222222222)2880 1555 A
5170 V
12 C
1581(BC)S
12 Y1
1727(3)S
12 C
(BADPORT)511 1787 A
12 R
2551(invalid)S
(group)281 2917 A
3228(port)S
3453(specified)S
5190 V
12 Y1
1521(2)S
(222222222222222222222222222222222222222222222222)2880 1555 A
5330 V
12 C
1581(BC)S
12 Y1
1727(3)S
12 C
(FAIL)292 1787 A
12 R
2551(generic)S
(group)281 2938 A
3249(failure)S
3597(code)S
5350 V
12 Y1
1521(2)S
(222222222222222222222222222222222222222222222222)2880 1555 A
5490 V
12 C
1581(BC)S
12 Y1
1727(3)S
12 C
(ILLRESET)584 1787 A
12 R
(illegal)304 2551 A
2885(grp)S
12 Y1
3046(3)S
12 R
3106(reset)S
5510 V
12 Y1
1521(2)S
(222222222222222222222222222222222222222222222222)2880 1555 A
5650 V
12 C
1581(BC)S
12 Y1
1727(3)S
12 C
(NOEXIST)511 1787 A
12 R
(group)281 2551 A
2862(does)S
3113(not)S
3297(exist)S
3556(\(anymore\))S
5670 V
12 Y1
1521(2)S
(222222222222222222222222222222222222222222222222)2880 1555 A
5810 V
12 C
1581(BC)S
12 Y1
1727(3)S
12 C
(TOOBIG)438 1787 A
12 R
2551(message)S
2991(too)S
3175(large)S
5830 V
12 Y1
1521(2)S
(222222222222222222222222222222222222222222222222)2880 1555 A
5970 V
12 C
1581(BC)S
12 Y1
1727(3)S
12 C
(TOOMANY)511 1787 A
12 R
2551(no)S
(space)269 2701 A
3000(for)S
3172(new)S
(group)281 3404 A
3715(member)S
5990 V
12 Y1
1521(2)S
(222222222222222222222222222222222222222222222222)2880 1555 A
1521(1)S
5870 V
1521(1)S
5750 V
1521(1)S
5630 V
1521(1)S
5510 V
1521(1)S
5390 V
1521(1)S
5270 V
1521(1)S
5150 V
1521(1)S
5030 V
1521(1)S
4910 V
1521(1)S
4790 V
1521(1)S
4670 V
1521(1)S
4550 V
1521(1)S
4430 V
1521(1)S
4310 V
1521(1)S
4190 V
1521(1)S
5990 V
2461(1)S
5870 V
2461(1)S
5750 V
2461(1)S
5630 V
2461(1)S
5510 V
2461(1)S
5390 V
2461(1)S
5270 V
2461(1)S
5150 V
2461(1)S
5030 V
2461(1)S
4910 V
2461(1)S
4790 V
2461(1)S
4670 V
2461(1)S
4550 V
2461(1)S
4430 V
2461(1)S
4310 V
2461(1)S
4190 V
2461(1)S
5990 V
4435(1)S
5870 V
4435(1)S
5750 V
4435(1)S
5630 V
4435(1)S
5510 V
4435(1)S
5390 V
4435(1)S
5270 V
4435(1)S
5150 V
4435(1)S
5030 V
4435(1)S
4910 V
4435(1)S
4790 V
4435(1)S
4670 V
4435(1)S
4550 V
4435(1)S
4430 V
4435(1)S
4310 V
4435(1)S
4190 V
4435(1)S
6236 V
12 R
708(Note)S
998(that)S
1234(the)S
(primitives)492 1436 A
12 I
1982(grp)S
12 Y1
2149(3)S
12 I
2209(create)S
12 R
2522(,)S
12 I
2606(grp)S
12 Y1
2773(3)S
12 I
2833(join)S
3085(grp)S
12 Y1
3252(3)S
12 I
(receive)351 3312 A
12 R
3727(and)S
12 I
3955(grp)S
12 Y1
4122(3)S
12 I
4182(reset)S
12 R
4482(return)S
4826(a)S
4934(signed)S
6376 V
708(integer)S
1080(rather)S
1399(than)S
1642(the)S
1824(standard)S
2268(error)S
2539(type)S
12 I
(errstat)323 2781 A
12 R
3114(.)S
3208(In)S
3343(these)S
3626(cases)S
3916(the)S
4098(call)S
4308(must)S
4577(be)S
4725(considered)S
6516 V
(successful)498 708 A
1254(when)S
1564(a)S
(non-negative)631 1666 A
2345(integer)S
2730(is)S
2859(returned.)S
3371(Otherwise)S
3919(the)S
4115(return)S
4454(value)S
(should)321 4765 A
5135(be)S
6656 V
708(interpreted)S
1264(as)S
1395(an)S
1539(error)S
1806(code.)S
7700 V
(184)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 185 191
BP
/slant 0 def
/height 0 def
500 V
12 R
708(grp)S
889(\(L\))S
2567(Library)S
2961(Routines)S
4912(grp)S
5093(\(L\))S
860 V
12 I
708(Functions)S
1212 V
708(grp)S
12 Y1
875(3)S
12 I
935(create)S
1448 V
11 C
1068(g)S
11 Y1
1135(3)S
11 C
1190(id)S
11 Y1
1324(3)S
11 C
1379(t)S
1588 V
(grp)201 1068 A
11 Y1
1269(3)S
11 C
(create\(p,)603 1324 A
(resilience,)737 1994 A
(maxgroup,)603 2798 A
(lognbuf,)536 3468 A
(logmaxmess\))737 4071 A
1728 V
(port)268 1068 A
1537(*)S
1671(p;)S
1868 V
1068(g)S
11 Y1
1135(3)S
11 C
(indx)268 1190 A
11 Y1
1458(3)S
11 C
1513(t)S
(resilience;)737 1647 A
2008 V
1068(g)S
11 Y1
1135(3)S
11 C
(indx)268 1190 A
11 Y1
1458(3)S
11 C
1513(t)S
(maxgroup;)603 1647 A
2148 V
(uint32)402 1068 A
(lognbuf;)536 1671 A
2288 V
(uint32)402 1068 A
(logmaxmess;)737 1671 A
2488 V
12 R
708(The)S
(primitive)445 927 A
12 I
1403(grp)S
12 Y1
1570(3)S
12 I
1630(create)S
12 R
1974(creates)S
2343(a)S
2428(new)S
(group.)311 2661 A
3033(The)S
3252(parameter)S
12 I
(resilience)472 3770 A
12 R
4284(specifies)S
4741(how)S
4981(many)S
2628 V
708(member)S
1155(failures)S
1570(must)S
1855(be)S
2019(tolerated)S
(without)370 2494 A
2914(loss)S
3152(of)S
3303(any)S
3527(message.)S
4047(Thus,)S
4368(if)S
4493(after)S
12 I
(resilience)472 4767 A
2768 V
12 R
708(crashes,)S
1131(the)S
(group)281 1315 A
1632(is)S
(rebuilt)317 1749 A
2102(with)S
12 I
2354(grp)S
12 Y1
2521(3)S
12 I
2581(reset)S
12 R
2863(it)S
2967(is)S
(still)183 3085 A
3305(guaranteed)S
3873(that)S
4092(the)S
4277(remaining)S
4805(members)S
2908 V
(will)190 708 A
(still)183 932 A
(receive)351 1149 A
1534(all)S
1690(the)S
1872(messages)S
2363(sent)S
2591(to)S
2718(the)S
(group)281 2899 A
3213(and)S
3420(that)S
3635(they)S
(still)183 3876 A
(will)190 4092 A
(receive)351 4315 A
4699(them)S
4974(in)S
5101(the)S
3048 V
708(same)S
1013(order.)S
1385(Consider)S
1877(a)S
(group)281 1987 A
2324(with)S
12 I
(resilience)472 2596 A
12 R
3134(equal)S
3452(to)S
3602(zero.)S
3927(In)S
4084(this)S
4315(case,)S
4610(if)S
4741(a)S
4852(member)S
3188 V
(successfully)592 708 A
1351(sends)S
1670(a)S
1775(message)S
2236(to)S
2381(the)S
(group)281 2580 A
2912(and)S
3137(then)S
3396(crashes,)S
3834(it)S
3953(is)S
4084(not)S
4288(guaranteed)S
4869(that)S
5101(the)S
3328 V
708(remaining)S
1263(members)S
(will)190 1772 A
(receive)351 2027 A
2443(this)S
2683(messages)S
3205(after)S
3494(they)S
3767(have)S
(rebuilt)317 4060 A
4442(the)S
(group.)311 4655 A
5061(The)S
3468 V
708(parameter)S
12 I
(maxgroup)489 1248 A
12 R
1801(limits)S
2132(the)S
2334(total)S
2604(number)S
3027(of)S
(group)281 3182 A
3517(members)S
(permitted.)495 4014 A
4592(The)S
4833(value)S
5148(of)S
3608 V
12 I
(resilience)472 708 A
12 R
1232(may)S
1482(be)S
1638(greater)S
2018(than)S
2268(the)S
2458(maximum)S
2990(number)S
3401(of)S
(group)281 3544 A
3868(members)S
12 I
(maxgroup)489 4355 A
12 R
4897(but)S
5094(see)S
3748 V
708(the)S
929(description)S
1540(of)S
12 I
1714(grp)S
12 Y1
1881(3)S
12 I
1941(send)S
12 R
2245(below)S
2614(for)S
2829(a)S
2956(discussion)S
3532(of)S
3706(this.)S
4013(Parameters)S
12 I
(lognbuf)368 4625 A
12 R
5075(and)S
3888 V
12 I
708(logmaxmess)S
12 R
1351(specify)S
1742(the)S
(amount)362 1931 A
2334(and)S
2549(size)S
2779(of)S
2921(message)S
3372(buffers)S
3757(that)S
3980(are)S
4170(to)S
4305(be)S
4460(allocated)S
4939(by)S
5101(the)S
4028 V
708(kernel)S
1057(of)S
(each)222 1204 A
1472(member.)S
1975(They)S
2269(are)S
2464(both)S
2724(2-logs)S
3072(of)S
3219(the)S
3413(actual)S
(amount.)392 3749 A
4217(\(Note)S
4539(that)S
4766(the)S
4959(actual)S
4168 V
708(buffers)S
1083(allocated)S
1552(are)S
1732(slightly)S
2126(larger)S
2441(than)S
2680(the)S
2860(size)S
3081(specified)S
3551(to)S
3677(allow)S
(space)269 3979 A
4280(for)S
4454(the)S
(addition)396 4634 A
5062(of)S
5195(a)S
4308 V
708(header)S
1069(to)S
1201(the)S
1387(message.)S
1895(The)S
2121(caller)S
2430(can)S
2636(thus)S
2875(send)S
3134(messages)S
3629(up)S
3787(to)S
3919(and)S
4131(including)S
4625(the)S
4811(specified)S
4448 V
708(buffer)S
1035(sizes.\))S
4624 V
708(Regarding)S
1241(the)S
1419(parameter)S
1935(values,)S
2304(the)S
2482(following)S
2983(restrictions)S
3553(apply:)S
4800 V
708(-)S
12 I
(resilience)472 958 A
12 R
1470(must)S
1735(be)S
1879(less)S
2091(than)S
2329(32.)S
4976 V
708(-)S
12 I
(lognbuf)368 958 A
12 R
1397(depends)S
1853(on)S
2034(size)S
2284(of)S
2446(the)S
(group)281 2655 A
2997(\()S
12 I
(nbuf)214 3038 A
12 R
(should)321 3313 A
3695(be)S
3870(bigger)S
4240(than)S
4509(the)S
4718(number)S
5148(of)S
5116 V
958(members\))S
1473(but)S
1657(must)S
1922(be)S
2066(at)S
2184(least)S
2437(4.)S
5292 V
708(-)S
12 I
958(logmaxmess)S
12 R
1590(must)S
1855(be)S
1999(at)S
2117(least)S
2370(10)S
2520(\(i.e.,)S
2769(maxmess)S
(should)321 3249 A
3600(be)S
3744(at)S
3862(least)S
4115(1K\).)S
5468 V
708(-)S
12 I
(maxgroup)489 958 A
12 R
1503(must)S
1784(be)S
1944(at)S
2078(least)S
2347(1.)S
2513(Since)S
2828(the)S
(group)281 3022 A
3349(protocol)S
3798(sometimes)S
4362(sends)S
4677(global)S
5026(state)S
5608 V
958(information)S
1581(to)S
1726(all)S
1899(members)S
2394(\(e.g.,)S
2690(during)S
3056(the)S
3255(join)S
3494(and)S
3719(recovery)S
4194(stage\),)S
4565(the)S
4763(parameter)S
5748 V
12 I
958(logmaxmess)S
12 R
1606(may)S
1860(have)S
2134(to)S
2274(be)S
2434(increased)S
2938(when)S
3246(the)S
3440(number)S
3856(of)S
4004(members)S
4495(becomes)S
4965(larger)S
5888 V
958(than)S
(about)268 1196 A
1494(30.)S
6064 V
708(If)S
821(a)S
907(process)S
1302(already)S
1691(is)S
1804(a)S
1890(member)S
2319(of)S
2452(a)S
(group,)311 2538 A
2881(it)S
2981(is)S
3094(not)S
3280(allowed)S
3696(to)S
3822(create)S
4145(another)S
(group)281 4540 A
4853(with)S
5101(the)S
6204 V
708(same)S
992(port.)S
1282(If)S
(multiple)404 1399 A
1838(processes)S
2337(create)S
2663(a)S
(group)281 2752 A
3067(with)S
3317(the)S
3499(same)S
3782(port,)S
4041(no)S
4195(error)S
4466(is)S
4581(returned.)S
5079(If)S
5195(a)S
6344 V
708(process)S
1117(does)S
1384(a)S
1484(join)S
1718(on)S
1884(that)S
2112(port,)S
2383(it)S
(will)190 2497 A
2733(become)S
3155(member)S
3598(of)S
3746(one)S
(group)281 3967 A
4295(at)S
(random.)399 4430 A
4906(This)S
5168(is)S
6484 V
708(similar)S
1084(to)S
(multiple)404 1216 A
1658(servers)S
2040(performing)S
2623(a)S
12 I
2714(getreq)S
12 R
3070(on)S
3227(the)S
3412(same)S
3698(port.)S
3960(A)S
4085(request)S
4472(sent)S
4704(to)S
4835(that)S
5054(port)S
6624 V
(will)190 708 A
950(be)S
(received)411 1116 A
1579(by)S
1751(one)S
1977(of)S
2130(the)S
2330(servers)S
2726(at)S
(random.)399 2866 A
3347(Messages)S
3869(sent)S
4117(to)S
4264(that)S
(group)281 4499 A
4833(are)S
5035(only)S
6764 V
(received)411 708 A
1160(by)S
1321(members)S
1806(of)S
1948(that)S
(group.)311 2171 A
2553(They)S
(will)190 2842 A
3073(not)S
3268(go)S
3429(to)S
3564(other)S
(groups)328 3853 A
4221(listening)S
4678(to)S
4812(the)S
5000(same)S
6904 V
708(port.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(185)180 5069 A
7920 V
EP
%%Page: 186 192
BP
/slant 0 def
/height 0 def
500 V
12 R
708(grp)S
889(\(L\))S
2567(Library)S
2961(Routines)S
4912(grp)S
5093(\(L\))S
860 V
12 I
708(grp)S
12 Y1
875(3)S
12 I
935(forward)S
1096 V
11 C
(errstat)469 1068 A
1236 V
(grp)201 1068 A
11 Y1
1269(3)S
11 C
(forward\(gid,)804 1324 A
2195(p,)S
(memid\))402 2396 A
1376 V
1068(g)S
11 Y1
1135(3)S
11 C
1190(id)S
11 Y1
1324(3)S
11 C
1379(t)S
(gid;)268 1647 A
1516 V
(port)268 1068 A
1537(*)S
1671(p;)S
1656 V
1068(g)S
11 Y1
1135(3)S
11 C
(indx)268 1190 A
11 Y1
1458(3)S
11 C
1513(t)S
(memid;)402 1647 A
1856 V
12 I
708(Grp)S
12 Y1
903(3)S
12 I
963(forward)S
12 R
1394(integrates)S
1899(RPC)S
2159(with)S
(group)281 2408 A
2722(communication.)S
3567(When)S
3889(a)S
3977(client)S
4281(does)S
4536(an)S
4684(RPC)S
4945(with)S
5195(a)S
1996 V
708(service,)S
1123(which)S
1460(consists)S
1884(of)S
(multiple)404 2026 A
2471(servers)S
2855(listening)S
3312(to)S
3446(the)S
3634(same)S
3923(port,)S
4188(the)S
4376(client)S
4686(has)S
4887(no)S
5047(idea)S
2136 V
708(which)S
1046(server)S
(will)190 1385 A
(receive)351 1617 A
2011(the)S
2202(request;)S
2629(one)S
2846(of)S
2990(the)S
3181(servers)S
(will)190 3568 A
3801(get)S
3992(the)S
4183(request.)S
4636(If)S
4761(the)S
4952(server)S
2276 V
708(that)S
925(got)S
1113(the)S
1295(request)S
1679(is)S
1794(not)S
1982(able)S
2218(to)S
2346(serve)S
2636(the)S
2818(request)S
3202(\(e.g.,)S
3481(it)S
3583(does)S
3838(not)S
4026(store)S
4296(the)S
4478(requested)S
4976(data\),)S
2416 V
708(the)S
894(server)S
1229(can)S
1435(forward)S
1858(the)S
2044(request)S
2432(to)S
2564(another)S
2965(server)S
3300(in)S
3432(the)S
(group,)311 3618 A
3967(instead)S
4348(of)S
4488(doing)S
4801(a)S
12 I
4894(putrep)S
12 R
5219(.)S
2556 V
708(The)S
946(header)S
1319(and)S
1543(the)S
1740(user)S
1991(data)S
2242(are)S
2440(forwarded)S
2988(to)S
3131(the)S
3328(other)S
3626(server.)S
4032(When)S
4369(the)S
4566(other)S
4864(server's)S
2696 V
12 I
708(getreq)S
12 R
(succeeds,)460 1068 A
1569(it)S
(will)190 1678 A
(receive)351 1909 A
2301(the)S
2491(header)S
2856(and)S
3072(user)S
3316(data)S
3560(that)S
3784(the)S
3974(client)S
4286(has)S
4489(sent)S
4726(to)S
4862(the)S
5052(first)S
2836 V
708(server)S
1038(and)S
1245(which)S
1574(is)S
1688(forwarded)S
2220(by)S
2373(the)S
2554(first)S
2784(server.)S
3174(This)S
3422(is)S
3536(transparent)S
4108(to)S
4235(the)S
4416(client)S
4719(process.)S
5174(It)S
2976 V
708(does)S
959(not)S
1143(notice)S
1469(that)S
1681(the)S
1859(request)S
2239(is)S
2350(forwarded)S
2879(to)S
3003(another)S
3396(server.)S
3152 V
12 I
708(Grp)S
12 Y1
903(3)S
12 I
963(forward)S
12 R
1414(can)S
1635(only)S
1902(be)S
2070(called)S
2414(by)S
2588(a)S
2696(member)S
3147(of)S
3302(the)S
(group)281 3504 A
3839(with)S
4109(id)S
12 I
4257(gid)S
12 R
4475(\(as)S
4671(returned)S
5129(by)S
3292 V
12 I
708(grp)S
12 Y1
875(3)S
12 I
935(create)S
12 R
1288(or)S
12 I
1429(grp)S
12 Y1
1596(3)S
12 I
1656(join\),)S
12 R
1965(and)S
2179(port)S
12 I
2414(p)S
12 R
2484(.)S
2584(The)S
2811(RPC)S
3077(is)S
3197(forwarded)S
3735(to)S
3868(the)S
(group)281 4055 A
4375(member)S
4811(specified)S
3432 V
708(by)S
12 I
872(memid)S
12 R
1206(.)S
1310(That)S
1576(member)S
2017(must)S
2296(have)S
2568(a)S
2666(pending)S
12 I
3098(getreq)S
12 R
(waiting)364 3461 A
3869(to)S
(receive)351 4007 A
4402(a)S
4500(message)S
4955(or)S
5101(the)S
3572 V
708(forward)S
(will)190 1145 A
1387(fail.)S
1662(The)S
1902(member)S
2351(ids)S
2544(for)S
2738(the)S
2938(various)S
3346(members)S
3842(are)S
4043(obtained)S
4511(using)S
12 I
4824(grp)S
12 Y1
4991(3)S
12 I
5051(info)S
3712 V
12 R
708(\(described)S
1243(below\).)S
3888 V
708(It)S
813(is)S
924(an)S
1068(error)S
1335(to)S
1459(do)S
1609(a)S
12 I
1693(putrep)S
12 R
2048(for)S
2220(a)S
2304(request)S
2684(that)S
2896(has)S
3087(been)S
3345(forwarded.)S
4204 V
12 I
708(grp)S
12 Y1
875(3)S
12 I
935(info)S
4440 V
11 C
(typedef)469 1068 A
(struct)402 1604 A
2073({)S
4580 V
1336(g)S
11 Y1
1403(3)S
11 C
(seqcnt)402 1458 A
11 Y1
1860(3)S
11 C
1915(t)S
2116(st)S
11 Y1
2250(3)S
11 C
(expect;)469 2305 A
3042(/*)S
(next)268 3243 A
(seq)201 3578 A
3846(#)S
3980(to)S
4181(be)S
(delivered)603 4382 A
5052(*/)S
4720 V
1336(g)S
11 Y1
1403(3)S
11 C
(seqcnt)402 1458 A
11 Y1
1860(3)S
11 C
1915(t)S
2116(st)S
11 Y1
2250(3)S
11 C
(nextseqno;)670 2305 A
3042(/*)S
(next)268 3243 A
(seq)201 3578 A
3846(#)S
3980(to)S
4181(be)S
(received)536 4382 A
4985(*/)S
4860 V
1336(g)S
11 Y1
1403(3)S
11 C
(seqcnt)402 1458 A
11 Y1
1860(3)S
11 C
1915(t)S
2116(st)S
11 Y1
2250(3)S
11 C
(unstable;)603 2305 A
3042(/*)S
(next)268 3243 A
(seq)201 3578 A
3846(#)S
3980(to)S
4181(be)S
(acked)335 4382 A
4784(*/)S
5000 V
1336(g)S
11 Y1
1403(3)S
11 C
(index)335 1458 A
11 Y1
1793(3)S
11 C
1848(t)S
2116(st)S
11 Y1
2250(3)S
11 C
(total;)402 2305 A
3042(/*)S
(total)335 3243 A
(number)402 3645 A
4114(of)S
(members)469 4315 A
4851(*/)S
5140 V
1336(g)S
11 Y1
1403(3)S
11 C
(index)335 1458 A
11 Y1
1793(3)S
11 C
1848(t)S
2116(st)S
11 Y1
2250(3)S
11 C
(myid;)335 2305 A
3042(/*)S
3243(my)S
(member)402 3444 A
(identifier)670 3913 A
4650(*/)S
5280 V
1336(g)S
11 Y1
1403(3)S
11 C
(index)335 1458 A
11 Y1
1793(3)S
11 C
1848(t)S
2116(st)S
11 Y1
2250(3)S
11 C
(seqid;)402 2305 A
3042(/*)S
(sequencer)603 3243 A
(identifier)670 3913 A
4650(*/)S
5420 V
1068(})S
(grpstate)536 1202 A
11 Y1
1738(3)S
11 C
1793(t,)S
(*grpstate)603 1994 A
11 Y1
2597(3)S
11 C
2652(p;)S
5680 V
(errstat)469 1068 A
5820 V
(grp)201 1068 A
11 Y1
1269(3)S
11 C
(info\(gid,)603 1324 A
1994(p,)S
(state,)402 2195 A
(memlist,)536 2664 A
(size\))335 3267 A
5960 V
1068(g)S
11 Y1
1135(3)S
11 C
1190(id)S
11 Y1
1324(3)S
11 C
1379(t)S
(gid;)268 1781 A
6100 V
(port)268 1068 A
1671(*)S
1805(p;)S
6240 V
(grpstate)536 1068 A
11 Y1
1604(3)S
11 C
1659(p)S
(state;)402 1793 A
6380 V
1068(g)S
11 Y1
1135(3)S
11 C
(indx)268 1190 A
11 Y1
1458(3)S
11 C
1513(t)S
(memlist[];)670 1781 A
6520 V
1068(g)S
11 Y1
1135(3)S
11 C
(indx)268 1190 A
11 Y1
1458(3)S
11 C
1513(t)S
(size;)335 1781 A
6720 V
12 R
708(The)S
12 I
939(grp)S
12 Y1
1106(3)S
12 I
1166(info)S
12 R
(primitive)445 1407 A
1896(allows)S
2257(a)S
(group)281 2355 A
2680(member)S
3121(to)S
3259(acquire)S
3660(information)S
4276(stored)S
4616(in)S
4754(the)S
4946(kernel)S
6860 V
(about)268 708 A
1034(a)S
(group.)311 1146 A
1545(If)S
1685(it)S
(succeeds)430 1811 A
2299(it)S
(will)190 2424 A
2671(return)S
3018(in)S
3169(the)S
3374(output)S
3739(structure)S
12 I
4221(state)S
12 R
4517(the)S
4722(number)S
5148(of)S
7000 V
708(members)S
1195(in)S
1332(the)S
(group,)311 1523 A
1877(the)S
2068(member)S
2508(identifier)S
2997(of)S
3141(the)S
3332(caller)S
3646(and)S
3864(the)S
4056(sequence)S
4543(number)S
4956(of)S
5101(the)S
7140 V
708(next)S
949(message)S
1392(expected.)S
1915(The)S
2136(identifiers)S
2662(of)S
2796(the)S
2977(members)S
3454(in)S
3581(the)S
(group)281 3762 A
4076(are)S
4257(returned)S
4693(in)S
4819(the)S
4999(array)S
7280 V
12 I
708(memlist)S
12 R
1155(having)S
12 I
1541(size)S
12 R
1791(entries.)S
2233(The)S
12 I
2479(memlist)S
12 R
2926(can)S
3152(be)S
3324(used,)S
3633(for)S
3834(example,)S
4333(to)S
4486(find)S
4740(out)S
4953(which)S
7700 V
(186)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 187 193
BP
/slant 0 def
/height 0 def
500 V
12 R
708(grp)S
889(\(L\))S
2567(Library)S
2961(Routines)S
4912(grp)S
5093(\(L\))S
860 V
708(member)S
1147(has)S
1350(crashed)S
1762(by)S
1924(comparing)S
2483(the)S
12 I
2673(memlist)S
12 R
3104(returned)S
3549(before)S
12 I
3900(grp)S
12 Y1
4067(3)S
12 I
4127(reset)S
12 R
4414(with)S
4671(the)S
12 I
4860(memlist)S
1000 V
12 R
708(returned)S
1152(after)S
12 I
1416(grp)S
12 Y1
1583(3)S
12 I
1643(reset)S
12 R
1889(.)S
1989(A)S
2118(member)S
(will)190 2556 A
2787(have)S
3056(the)S
3245(same)S
3535(member)S
3973(identifier)S
4460(during)S
4816(its)S
4972(entire)S
1140 V
708(life-time.)S
1456 V
12 I
708(grp)S
12 Y1
875(3)S
12 I
935(join)S
1692 V
11 C
1068(g)S
11 Y1
1135(3)S
11 C
1190(id)S
11 Y1
1324(3)S
11 C
1379(t)S
1832 V
(grp)201 1068 A
11 Y1
1269(3)S
11 C
(join\(hdr\))603 1324 A
1972 V
(header)402 1068 A
11 Y1
1470(3)S
11 C
1525(p)S
(hdr;)268 1659 A
2172 V
12 R
708(Once)S
1015(a)S
(group)281 1120 A
1452(has)S
1664(been)S
1943(created,)S
2375(other)S
2675(processes)S
3190(can)S
3410(become)S
3838(members)S
4334(of)S
4487(it)S
4607(by)S
4779(executing)S
2312 V
12 I
708(grp)S
12 Y1
875(3)S
12 I
935(join)S
12 R
1133(.)S
1233(Only)S
1515(a)S
1609(member)S
2046(can)S
(receive)351 2254 A
2645(messages)S
3142(that)S
3364(are)S
3553(sent)S
3788(to)S
3921(its)S
(group.)311 4075 A
4455(The)S
(group)281 4682 A
5002(to)S
5135(be)S
2452 V
708(joined)S
1040(is)S
1151(specified)S
1619(by)S
1770(the)S
1949(port)S
2175(contained)S
2676(in)S
2801(the)S
2980(header)S
12 I
3334(hdr)S
12 R
3511(.)S
3602(Like)S
12 I
3855(grp)S
12 Y1
4022(3)S
12 I
4082(create)S
12 R
4395(,)S
12 I
4456(grp)S
12 Y1
4623(3)S
12 I
4683(join)S
12 R
4912(returns)S
2592 V
708(a)S
(group)281 809 A
1137(descriptor)S
1669(for)S
1858(use)S
2065(in)S
2205(subsequent)S
(group)281 2787 A
3114(calls.)S
3443(In)S
(addition)396 3590 A
4032(to)S
4172(adding)S
4546(a)S
4646(process)S
5055(to)S
5195(a)S
2732 V
(group,)311 708 A
12 I
1064(grp)S
12 Y1
1231(3)S
12 I
1291(join)S
12 R
1534(also)S
1774(delivers)S
2203(the)S
2396(header)S
12 I
2764(hdr)S
12 R
2987(to)S
3127(all)S
3295(other)S
3590(members)S
4080(\(excluding)S
4643(itself\).)S
5034(This)S
2872 V
708(way,)S
980(other)S
1269(members)S
1753(can)S
1961(find)S
2196(out)S
2390(that)S
2612(a)S
2706(new)S
2948(member)S
3385(has)S
3586(joined)S
3928(the)S
(group.)311 4116 A
4497(The)S
4725(port)S
4960(of)S
5101(the)S
3012 V
(group)281 708 A
(should)321 1027 A
1386(be)S
1538(stored)S
1873(in)S
12 I
2006(h)S
12 Y1
2066(3)S
12 I
2126(port)S
12 R
2337(,)S
2406(when)S
(calling)330 2707 A
12 I
3076(grp)S
12 Y1
3243(3)S
12 I
3303(join.)S
12 R
3570(A)S
3697(process)S
4099(is)S
4219(not)S
4412(allowed)S
4835(to)S
4968(join)S
5195(a)S
3152 V
(group)281 708 A
1019(where)S
1346(it)S
1444(is)S
1555(already)S
1942(a)S
2026(member.)S
3468 V
12 I
708(grp)S
12 Y1
875(3)S
12 I
935(leave)S
3704 V
11 C
(errstat)469 1068 A
3844 V
(grp)201 1068 A
11 Y1
1269(3)S
11 C
(leave\(gid,)670 1324 A
(hdr\))268 2061 A
3984 V
1068(g)S
11 Y1
1135(3)S
11 C
1190(id)S
11 Y1
1324(3)S
11 C
1379(t)S
(gid;)268 1647 A
4124 V
(header)402 1068 A
11 Y1
1470(3)S
11 C
1525(p)S
(hdr;)268 1659 A
4324 V
12 R
708(Once)S
999(a)S
1088(process)S
1486(is)S
1602(a)S
1691(member)S
2123(of)S
2259(a)S
(group,)311 2348 A
2694(it)S
2797(can)S
3000(leave)S
3291(the)S
(group)281 3474 A
3790(by)S
(calling)330 3946 A
12 I
4312(grp)S
12 Y1
4479(3)S
12 I
4539(leave)S
12 R
4805(.)S
4901(After)S
5195(a)S
4464 V
708(member)S
1144(has)S
1344(left)S
1546(the)S
(group,)311 1733 A
2083(it)S
(will)190 2190 A
2419(not)S
(receive)351 2612 A
3002(subsequent)S
3577(broadcasts.)S
4187(In)S
(addition)396 4327 A
4761(to)S
4893(leaving)S
4604 V
708(the)S
(group,)311 887 A
12 I
1229(grp)S
12 Y1
1396(3)S
12 I
1456(leave)S
12 R
1753(delivers)S
12 I
2168(hdr)S
12 R
2376(to)S
2501(all)S
2655(members)S
3131(\(including)S
3660(the)S
3840(leaving)S
4228(member)S
4657(itself\).)S
5034(This)S
4744 V
708(way,)S
1001(all)S
1184(members)S
1689(can)S
1917(find)S
2172(out)S
2386(that)S
2628(a)S
2742(member)S
3199(has)S
3420(left.)S
3703(The)S
3951(member)S
(receives)398 4408 A
4866(its)S
5041(own)S
4884 V
708(message,)S
1195(so)S
1349(that)S
1578(it)S
1693(can)S
1908(check)S
2237(if)S
2359(it)S
2474(has)S
2682(processed)S
3206(all)S
3375(the)S
3570(messages)S
(until)222 4074 A
4343(its)S
4505(leave)S
4809(message.)S
5024 V
708(After)S
1020(a)S
1128(member)S
1579(has)S
1794(left)S
2011(the)S
(group,)311 2212 A
2576(it)S
2697(can)S
2918(join)S
3159(the)S
(group)281 3360 A
3694(again.)S
4069(Like)S
4344(in)S
4491(all)S
4666(other)S
(group)281 4968 A
5164 V
(primitives)492 708 A
1233(that)S
1448(have)S
1709(a)S
1796(header)S
2152(parameter,)S
2701(the)S
2882(port)S
3110(in)S
3237(the)S
3418(header)S
(should)321 3774 A
4128(be)S
4275(equal)S
4570(to)S
4698(the)S
(group's)369 4880 A
5304 V
708(port.)S
993(When)S
1311(the)S
1489(last)S
1688(member)S
2115(of)S
2246(a)S
(group)281 2330 A
2641(calls)S
12 I
2894(grp)S
12 Y1
3061(3)S
12 I
3121(leave)S
12 R
3387(,)S
3447(the)S
(group)281 3625 A
(ceases)310 3936 A
4276(to)S
4400(exist.)S
5620 V
12 I
708(grp)S
12 Y1
875(3)S
12 I
(receive)351 935 A
5856 V
11 C
(int32)335 1068 A
5996 V
(grp)201 1068 A
11 Y1
1269(3)S
11 C
(receive\(gid,)804 1324 A
(hdr,)268 2195 A
(buf,)268 2530 A
(size,)335 2865 A
(more\))335 3267 A
6136 V
1068(g)S
11 Y1
1135(3)S
11 C
1190(id)S
11 Y1
1324(3)S
11 C
1379(t)S
(gid;)268 1647 A
6276 V
(header)402 1068 A
11 Y1
1470(3)S
11 C
1525(p)S
(hdr;)268 1659 A
6416 V
(bufptr)402 1068 A
(buf;)268 1671 A
6556 V
(uint32)402 1068 A
(size;)335 1671 A
6696 V
(int)201 1068 A
1537(*)S
(more;)335 1671 A
6896 V
12 R
708(To)S
(receive)351 878 A
1265(a)S
1355(broadcast,)S
1886(a)S
1977(member)S
2411(must)S
2683(call)S
12 I
2896(grp)S
12 Y1
3063(3)S
12 I
(receive)351 3123 A
12 R
3484(.)S
3581(If)S
3700(a)S
3791(broadcast)S
4292(arrives)S
4660(and)S
4871(no)S
5028(such)S
7036 V
(primitive)445 708 A
1227(is)S
1382(outstanding,)S
2049(the)S
2271(message)S
2755(is)S
2910(buffered.)S
3455(When)S
3817(the)S
4039(member)S
4510(finally)S
4901(does)S
5195(a)S
7176 V
12 I
708(grp)S
12 Y1
875(3)S
12 I
(receive)351 935 A
12 R
1296(,)S
1364(it)S
(will)190 1470 A
1698(get)S
1885(the)S
2072(next)S
2319(one)S
2532(in)S
2665(sequence.)S
3207(The)S
3434(parameters)S
12 I
4006(hdr)S
12 R
4183(,)S
12 I
4252(buf)S
12 R
4455(and)S
12 I
4668(size)S
12 R
4899(specify)S
7316 V
708(the)S
896(header)S
1259(and)S
1473(the)S
1661(buffer)S
1998(in)S
2132(which)S
2468(the)S
2656(message)S
(should)321 3106 A
3467(be)S
3621(delivered.)S
4172(If)S
12 I
4293(size)S
12 R
4524(is)S
4644(smaller)S
5041(than)S
7700 V
2683(Amoeba)S
3123(5.3)S
(187)180 5069 A
7920 V
EP
%%Page: 188 194
BP
/slant 0 def
/height 0 def
500 V
12 R
708(grp)S
889(\(L\))S
2567(Library)S
2961(Routines)S
4912(grp)S
5093(\(L\))S
860 V
708(the)S
900(data)S
1146(that)S
1372(arrived,)S
1791(the)S
1984(arriving)S
2413(data)S
2660(is)S
2786(truncated.)S
3342(The)S
3575(output)S
3928(parameter)S
12 I
4459(more)S
12 R
4763(is)S
4889(used)S
5155(to)S
1000 V
708(indicate)S
1123(to)S
1248(the)S
1427(caller)S
1729(that)S
1942(one)S
2147(or)S
2278(more)S
2557(broadcasts)S
3098(have)S
3356(been)S
3614(buffered)S
4055(and)S
4259(can)S
4457(be)S
4601(fetched)S
4988(using)S
1140 V
12 I
708(grp)S
12 Y1
875(3)S
12 I
(receive)351 935 A
12 R
1296(.)S
1391(The)S
1614(port)S
1845(of)S
1982(the)S
(group)281 2166 A
(should)321 2483 A
2840(be)S
2990(stored)S
3322(in)S
12 I
3452(h)S
12 Y1
3512(3)S
12 I
3572(port)S
12 R
3783(,)S
3849(when)S
(calling)330 4147 A
12 I
4513(grp)S
12 Y1
4680(3)S
12 I
(receive.)381 4740 A
12 R
5167(If)S
1280 V
12 I
708(grp)S
12 Y1
875(3)S
12 I
(receive)351 935 A
12 R
(succeeds,)460 1347 A
1858(it)S
1977(returns)S
2365(the)S
2564(size)S
2804(of)S
2956(the)S
3155(buffer)S
(received.)441 3503 A
4024(If)S
4156(a)S
4260(member)S
4707(never)S
5026(calls)S
1420 V
12 I
708(grp)S
12 Y1
875(3)S
12 I
(receive)351 935 A
12 R
1296(,)S
1371(the)S
(group)281 1564 A
1890(may)S
2143(block,)S
(because)383 2486 A
2914(it)S
3027(may)S
3280(run)S
3486(out)S
3685(of)S
3831(memory)S
4279(to)S
4419(buffer)S
4762(messages.)S
1560 V
708(Messages)S
1208(are)S
1387(never)S
1686(intentionally)S
2328(thrown)S
2701(away)S
(until)222 2987 A
3239(all)S
3391(the)S
3569(members)S
4043(have)S
4301(processed)S
4808(them.)S
1876 V
12 I
708(grp)S
12 Y1
875(3)S
12 I
935(reset)S
2112 V
11 C
1068(g)S
11 Y1
1135(3)S
11 C
(indx)268 1190 A
11 Y1
1458(3)S
11 C
1513(t)S
2252 V
(grp)201 1068 A
11 Y1
1269(3)S
11 C
(reset\(gid,)670 1324 A
(hdr,)268 2061 A
(nmem\))335 2396 A
2392 V
1068(g)S
11 Y1
1135(3)S
11 C
1190(id)S
11 Y1
1324(3)S
11 C
1379(t)S
(gid;)268 1647 A
2532 V
(header)402 1068 A
11 Y1
1470(3)S
11 C
1525(p)S
(hdr;)268 1659 A
2672 V
1068(g)S
11 Y1
1135(3)S
11 C
(indx)268 1190 A
11 Y1
1458(3)S
11 C
1513(t)S
(nmem;)335 1647 A
2872 V
12 R
708(The)S
(primitive)445 927 A
12 I
1403(grp)S
12 Y1
1570(3)S
12 I
1630(reset)S
12 R
1907(allows)S
2255(recovery)S
2710(from)S
2977(member)S
3405(crashes.)S
3853(If)S
3966(one)S
4171(of)S
4304(the)S
4484(members)S
4960(\(or)S
5134(its)S
3012 V
708(kernel\))S
1090(does)S
1349(not)S
(respond)382 1541 A
1961(to)S
2093(messages,)S
2618(the)S
2804(protocol)S
3245(enters)S
3573(a)S
3665(recovery)S
4127(mode.)S
4493(All)S
4686(outstanding)S
3152 V
708(calls)S
977(return)S
1313(an)S
1473(error)S
1756(value)S
2064(\(BC)S
12 Y1
2265(3)S
12 R
2325(ABORT\))S
2822(indicating)S
3353(that)S
3582(a)S
3683(member)S
4127(has)S
4335(crashed.)S
4812(The)S
5047(user)S
3292 V
708(application)S
1285(can)S
1492(now)S
1738(call)S
12 I
1952(grp)S
12 Y1
2119(3)S
12 I
2179(reset)S
12 R
2463(to)S
2595(transform)S
3105(the)S
(group)281 3291 A
3610(into)S
3836(a)S
3928(new)S
(group)281 4168 A
4487(that)S
4707(contains)S
5148(as)S
3432 V
708(many)S
1030(live)S
1266(members)S
1764(from)S
2054(the)S
(group)281 2256 A
2592(as)S
2748(possible.)S
3259(This)S
3529(does)S
3805(not)S
4014(change)S
4411(the)S
12 I
4614(gid)S
12 R
4778(.)S
(Calling)356 4893 A
3572 V
12 I
708(grp)S
12 Y1
875(3)S
12 I
935(reset)S
12 R
1218(is)S
(illegal)304 1336 A
1676(when)S
1974(the)S
(group)281 2158 A
2475(is)S
2592(not)S
2782(in)S
2912(recovery)S
3372(mode.)S
3736(The)S
3960(error)S
12 C
4233(BC)S
12 Y1
4379(3)S
12 C
(ILLRESET)584 4439 A
12 R
(will)190 5059 A
3712 V
708(be)S
852(returned)S
1286(in)S
1410(this)S
1615(case.)S
3888 V
708(The)S
930(parameter)S
12 I
1450(nmem)S
12 R
1784(specifies)S
2243(the)S
2426(number)S
2830(of)S
2966(members)S
3445(that)S
3662(the)S
3845(new)S
(group)281 4082 A
4398(must)S
4668(contain)S
5059(as)S
5195(a)S
4028 V
708(minimum.)S
1274(If)S
1392(fewer)S
1706(than)S
12 I
1950(nmem)S
12 R
2286(members)S
2766(of)S
2903(the)S
(group)281 3087 A
3404(are)S
(still)183 3589 A
3808(available)S
4282(then)S
12 C
4526(BC)S
12 Y1
4672(3)S
12 C
(FAIL)292 4732 A
12 R
(will)190 5059 A
4168 V
708(be)S
870(returned.)S
1382(In)S
1532(this)S
1756(case)S
2014(it)S
2131(is)S
2261(possible)S
2706(to)S
2849(attempt)S
3262(another)S
12 I
3674(grp)S
12 Y1
3841(3)S
12 I
3901(reset)S
12 R
4196(with)S
4461(perhaps)S
4886(another)S
4308 V
708(value)S
1014(for)S
12 I
1200(nmem)S
12 R
1544(or)S
1689(perhaps)S
2109(at)S
2241(a)S
2339(later)S
2600(time)S
2860(when)S
3166(the)S
3358(network)S
3798(is)S
3922(restored.)S
4416(The)S
(group)281 4647 A
4971(is)S
5095(not)S
4448 V
708(deleted)S
1088(when)S
1380(a)S
1464(reset)S
1724(attempt)S
2118(fails.)S
4624 V
708(When)S
12 I
1026(grp)S
12 Y1
1193(3)S
12 I
1253(reset)S
12 R
(succeeds,)460 1529 A
2019(it)S
2117(returns)S
2484(the)S
2662(number)S
3061(of)S
3192(members)S
3666(in)S
3790(the)S
3968(recovered)S
(group.)311 4476 A
4800 V
708(In)S
(addition)396 874 A
1335(to)S
1494(recovering)S
2077(from)S
2378(crashes,)S
12 I
2830(grp)S
12 Y1
2997(3)S
12 I
3057(reset)S
12 R
3368(delivers)S
12 I
3818(hdr)S
12 R
4061(to)S
4221(all)S
4409(newly)S
4771(recovered)S
4940 V
708(members.)S
1243(It)S
1349(may)S
1588(happen)S
1967(that)S
(multiple)404 2180 A
2615(members)S
(initiate)338 3090 A
3459(a)S
3544(recovery)S
3999(at)S
4118(the)S
4296(same)S
4575(moment.)S
5061(The)S
5080 V
708(new)S
(group)281 958 A
1287(consisting)S
1825(of)S
1974(the)S
2170(members)S
2662(that)S
2892(can)S
3108(communicate)S
3808(with)S
(each)222 4073 A
4344(other,)S
4672(however,)S
5168(is)S
5220 V
(built)222 708 A
960(only)S
1204(once.)S
5396 V
708(The)S
930(way)S
1166(recovery)S
1624(is)S
(done)234 1739 A
2007(is)S
2122(based)S
2431(on)S
2585(the)S
2767(design)S
3116(principle)S
3581(that)S
3797(policy)S
4133(and)S
4342(mechanism)S
(should)321 4928 A
5536 V
708(be)S
884(separated.)S
1464(In)S
1627(many)S
1956(systems)S
2400(that)S
2643(deal)S
2906(with)S
3183(fault)S
3467(tolerance,)S
4003(recovery)S
4488(from)S
4785(processor)S
5676 V
708(crashes)S
1097(is)S
1210(completely)S
1781(invisible)S
2231(to)S
2358(the)S
2539(user)S
2774(application.)S
3405(Here)S
3675(it)S
3776(is)S
(done)234 3890 A
4157(differently.)S
4763(A)S
4884(parallel)S
5816 V
708(application)S
1281(that)S
(multiplies)485 1498 A
2018(two)S
2235(matrices,)S
2712(for)S
2889(example,)S
3364(may)S
3607(want)S
3878(to)S
4006(continue)S
4456(even)S
4718(if)S
4827(only)S
5075(one)S
5956 V
708(processor)S
1211(is)S
1332(left.)S
1595(A)S
1723(banking)S
2151(system)S
2527(may)S
2775(require,)S
3189(however,)S
3676(that)S
3898(at)S
4026(least)S
4289(half)S
4518(of)S
4659(the)S
(group)281 4847 A
5168(is)S
6096 V
708(alive.)S
1060(The)S
1304(user)S
1562(is)S
1699(able)S
1957(to)S
2107(decide)S
2479(on)S
2655(the)S
2859(policy.)S
3277(The)S
(group)281 3521 A
(primitives)492 3858 A
4406(only)S
4676(provide)S
5101(the)S
6236 V
708(mechanism.)S
7700 V
(188)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 189 195
BP
/slant 0 def
/height 0 def
500 V
12 R
708(grp)S
889(\(L\))S
2567(Library)S
2961(Routines)S
4912(grp)S
5093(\(L\))S
860 V
12 I
708(grp)S
12 Y1
875(3)S
12 I
935(send)S
1096 V
11 C
(errstat)469 1068 A
1236 V
(grp)201 1068 A
11 Y1
1269(3)S
11 C
(send\(gid,)603 1324 A
(hdr,)268 1994 A
(data,)335 2329 A
(size\))335 2731 A
1376 V
1068(g)S
11 Y1
1135(3)S
11 C
1190(id)S
11 Y1
1324(3)S
11 C
1379(t)S
(gid;)268 1647 A
1516 V
(header)402 1068 A
11 Y1
1470(3)S
11 C
1525(p)S
(hdr;)268 1659 A
1656 V
(bufptr)402 1068 A
(data;)335 1671 A
1796 V
(uint32)402 1068 A
(size;)335 1671 A
1996 V
12 R
708(When)S
1033(a)S
1124(member)S
1558(wants)S
1878(to)S
2009(broadcast)S
2510(a)S
2601(message,)S
3078(it)S
3183(calls)S
12 I
3443(grp)S
12 Y1
3610(3)S
12 I
3670(send)S
12 R
3901(.)S
3998(It)S
4110(guarantees)S
4666(that)S
4886(the)S
12 I
5072(hdr)S
2136 V
12 R
708(and)S
913(buffer)S
12 I
1241(buf)S
12 R
1436(of)S
1568(size)S
12 I
1788(size)S
12 R
(will)190 2011 A
2232(be)S
2377(delivered)S
2859(to)S
2984(all)S
3137(members)S
3612(\(including)S
4140(itself\),)S
4486(even)S
4744(in)S
4868(the)S
(face)203 5046 A
2276 V
708(of)S
848(unreliable)S
1372(communication)S
2163(and)S
2376(finite)S
2672(buffers.)S
3115(Furthermore,)S
3790(when)S
4091(the)S
(resilience)466 4279 A
4785(degree)S
5148(of)S
2416 V
708(the)S
(group)281 899 A
1223(is)S
12 I
1347(k)S
12 R
1401(,)S
1474(the)S
1665(protocol)S
2111(guarantees)S
2672(that)S
2897(in)S
3034(the)S
3225(event)S
3530(of)S
3674(a)S
3771(simultaneous)S
4452(crash)S
4751(of)S
4895(up)S
5058(to)S
12 I
5195(k)S
2556 V
12 R
708(members,)S
1223(it)S
1332(delivers)S
1757(the)S
1946(message)S
2397(to)S
2532(all)S
2695(remaining)S
3227(members)S
3712(or)S
3854(to)S
(none.)264 3989 A
4324(If)S
4447(a)S
(group)281 4542 A
4864(has)S
5067(less)S
2696 V
708(than)S
12 I
961(k)S
12 R
1060(members,)S
1579(the)S
1772(message)S
2227(is)S
2353(delivered)S
2849(to)S
2988(all)S
3155(members.)S
3704(In)S
3850(general,)S
4282(the)S
4475(total)S
4735(number)S
5148(of)S
2836 V
708(failures)S
1103(from)S
1369(which)S
1695(the)S
1873(protocol)S
2306(can)S
2504(recover)S
2898(is)S
3009(equal)S
3301(to:)S
2976 V
12 I
1275(MIN)S
12 R
1517(\()S
12 I
1588(k)S
12 R
1642(,)S
12 I
1722(total)S
1984(number)S
2393(of)S
2527(members)S
12 Y
3005(-)S
12 R
3101(1\).)S
3116 V
(Choosing)461 708 A
1204(a)S
1293(large)S
1571(value)S
1868(for)S
12 I
2046(k)S
12 R
2136(provides)S
2588(a)S
2678(high)S
2928(degree)S
3287(of)S
3424(fault-tolerance,)S
4199(but)S
4389(extracts)S
4803(a)S
4893(penalty)S
3256 V
708(in)S
832(performance.)S
1535(The)S
1753(trade-off)S
2209(chosen)S
2574(is)S
2685(up)S
2835(to)S
2959(the)S
3137(user.)S
3432 V
708(In)S
(addition)396 858 A
1303(to)S
(reliability,)503 1447 A
2000(the)S
2198(protocol)S
2651(guarantees)S
3219(that)S
3451(messages)S
3958(are)S
4157(delivered)S
4658(in)S
4802(the)S
5000(same)S
3572 V
708(order)S
1012(to)S
1154(all)S
1324(members.)S
1876(Thus,)S
2195(if)S
2318(two)S
2548(members)S
3039(\(on)S
3247(two)S
3476(different)S
3942(machines\),)S
4517(simultaneously)S
3712 V
708(broadcast)S
1202(two)S
1414(messages,)S
12 I
1931(A)S
12 R
2035(and)S
12 I
2239(B)S
12 R
2313(,)S
2373(the)S
2551(protocol)S
2984(guarantees)S
3532(that)S
3744(either)S
3888 V
958(\(1\))S
1130(all)S
1282(members)S
(receive)351 1756 A
12 I
2137(A)S
12 R
2241(first)S
2468(and)S
2672(then)S
12 I
2910(B)S
12 R
2984(,)S
3044(or)S
4028 V
958(\(2\))S
1130(all)S
1282(members)S
(receive)351 1756 A
12 I
2137(B)S
12 R
2241(first)S
2468(and)S
2672(then)S
12 I
2910(A)S
12 R
2984(.)S
4204 V
(Random)408 708 A
1152(mixtures,)S
1642(where)S
1975(some)S
2266(members)S
2746(get)S
12 I
2930(A)S
12 R
3040(first)S
3273(and)S
3483(others)S
3815(get)S
12 I
3999(B)S
12 R
4109(first)S
4342(are)S
4527(guaranteed)S
5095(not)S
4344 V
708(to)S
832(occur.)S
4660 V
12 I
708(grp)S
12 Y1
875(3)S
12 I
935(set)S
4896 V
11 C
(errstat)469 1068 A
5036 V
(grp)201 1068 A
11 Y1
1269(3)S
11 C
(set\(gid,)536 1324 A
1927(p,)S
(sync,)335 2128 A
(reply,)402 2530 A
(alive,)402 2999 A
(large\))402 3468 A
5176 V
1068(g)S
11 Y1
1135(3)S
11 C
1190(id)S
11 Y1
1324(3)S
11 C
1379(t)S
(gid;)268 1647 A
5316 V
(port)268 1068 A
1537(*)S
1671(p;)S
5456 V
(interval)536 1068 A
(sync;)335 1671 A
5596 V
(interval)536 1068 A
(reply;)402 1671 A
5736 V
(interval)536 1068 A
(alive;)402 1671 A
5876 V
(uint32)402 1068 A
(large;)402 1671 A
6076 V
12 R
708(The)S
12 I
943(grp)S
12 Y1
1110(3)S
12 I
1170(set)S
12 R
(primitive)445 1362 A
1854(can)S
2069(be)S
2230(used)S
2498(to)S
2639(set)S
2821(a)S
2922(few)S
3152(parameters)S
3733(used)S
4002(in)S
4144(the)S
4340(implementation)S
5148(of)S
6216 V
(groups.)358 708 A
1126(It)S
1231(is)S
1342(mainly)S
1708(present)S
2088(for)S
2260(testing)S
2613(and)S
2817(performance)S
3460(analysis.)S
6392 V
708(The)S
938(three)S
1223(interval)S
1636(parameters)S
2211(influence)S
2704(the)S
2894(rate)S
3119(at)S
3249(which)S
3587(members)S
4073(are)S
4264(synchronized.)S
12 I
5011(Sync)S
6532 V
12 R
708(determines)S
1295(how)S
1558(often)S
1862(the)S
2065(sequencer)S
2604(checks)S
2988(if)S
3118(the)S
3321(other)S
3624(members)S
4122(are)S
4325(up)S
4499(to)S
4647(date.)S
12 I
4963(Reply)S
6672 V
12 R
708(determines)S
1297(how)S
(soon)227 1562 A
1846(a)S
1958(message)S
2426(is)S
(retransmitted.)671 2565 A
12 I
3324(Alive)S
12 R
3642(determines)S
4232(how)S
4498(often)S
4805(members)S
6812 V
708(check)S
(each)222 1021 A
1274(other)S
1554(to)S
1678(see)S
1863(if)S
1968(they)S
2206(are)S
2385(alive.)S
2711(The)S
2929(parameter)S
12 I
3445(large)S
12 R
3740(specifies)S
(above)288 4195 A
4513(which)S
4839(message)S
6952 V
708(size)S
951(a)S
1059(sending)S
1488(member)S
1940(itself)S
(should)321 2239 A
2615(broadcast)S
3134(the)S
3337(message.)S
3862(Normally,)S
4412(a)S
4521(message)S
4986(to)S
5135(be)S
7092 V
708(broadcast)S
1210(is)S
1329(sent)S
1562(to)S
1694(the)S
1880(member)S
(responsible)551 2314 A
2902(for)S
3081(ordering)S
3528(the)S
3713(messages.)S
(Letting)350 4267 A
4654(the)S
4839(message)S
7232 V
708(be)S
852(broadcast)S
1346(by)S
1496(the)S
1674(sending)S
2079(member)S
2506(has)S
2697(the)S
2875(advantage)S
3395(that)S
3607(the)S
3785(message)S
4225(only)S
4469(appears)S
4870(once)S
5129(on)S
7700 V
2683(Amoeba)S
3123(5.3)S
(189)180 5069 A
7920 V
EP
%%Page: 190 196
BP
/slant 0 def
/height 0 def
500 V
12 R
708(grp)S
889(\(L\))S
2567(Library)S
2961(Routines)S
4912(grp)S
5093(\(L\))S
860 V
708(the)S
891(network)S
(\(though)375 1323 A
1733(at)S
1856(the)S
2038(expense)S
2461(of)S
2596(more)S
2879(interrupts)S
3378(at)S
3500(the)S
3682(members,)S
(because)383 4190 A
4607(there)S
4884(are)S
5067(two)S
1000 V
708(broadcasts)S
1249(instead)S
1622(of)S
1753(one\).)S
1280 V
12 B
708(Example)S
1456 V
12 R
708(An)S
940(example)S
1434(of)S
1619(a)S
1757(working)S
2244(program)S
2738(can)S
2990(be)S
(found)281 3188 A
3553(in)S
3731(the)S
3963(source)S
4363(code)S
4675(in)S
4853(the)S
5086(file)S
1596 V
12 I
(src/test/performance/group/grp)1525 708 A
12 Y1
2233(3)S
12 I
2293(perf.c)S
12 R
2582(.)S
2687(A)S
2820(brief)S
3095(explanation)S
3704(of)S
3849(it)S
3961(is)S
4086(given)S
4398(below)S
4738(as)S
4883(a)S
4981(quick)S
1736 V
(introduction.)621 708 A
1912 V
708(The)S
931(normal)S
1309(way)S
1546(to)S
1675(start)S
1920(a)S
(group)281 2009 A
2325(program)S
2770(is)S
2886(with)S
12 I
3137(gax)S
12 R
3321(\(U\).)S
3587(It)S
3698(passes)S
4043(numerous)S
4555(command)S
5067(line)S
2052 V
708(arguments)S
1253(to)S
1388(a)S
(group)281 1483 A
1805(program,)S
2286(including)S
2782(the)S
2970(number)S
3379(of)S
(group)281 3520 A
3841(members)S
4325(\()S
12 I
4366(ncpu)S
12 R
4600(\),)S
4711(the)S
4899(desired)S
2192 V
(resilience)466 708 A
1218(\()S
12 I
(resilience)472 1259 A
12 R
1731(\))S
1816(and)S
2035(which)S
2376(member)S
2818(of)S
2964(the)S
(group)281 3157 A
3483(the)S
3676(current)S
4065(process)S
4473(is)S
4599(\()S
12 I
4640(cpu)S
12 R
4814(\).)S
4960(These)S
2332 V
708(arguments)S
1276(need)S
1568(to)S
1726(be)S
1904(processed.)S
2505(It)S
2643(also)S
2901(provides)S
3380(several)S
(capabilities)553 3787 A
4403(in)S
4560(the)S
(capability)478 4771 A
2472 V
708(environment.)S
1409(The)S
12 C
(GROUPCAP)584 1627 A
12 R
2241(tells)S
2474(which)S
2800(port)S
3025(the)S
(group)281 3203 A
(will)190 3514 A
3734(listen)S
4027(to.)S
2672 V
11 C
(capability)670 1068 A
(*groupcap;)670 1805 A
2812 V
(port)268 1068 A
(group;)402 1403 A
3092 V
(if\(\(groupcap)804 1068 A
1939(=)S
(getcap\(GROUPCAP\)\))1139 2073 A
3279(==)S
(NULL\))335 3480 A
3232 V
(panic\("no)603 1336 A
(GROUPCAP)536 2006 A
2609(in)S
(cap)201 2810 A
(env)201 3078 A
(\(use)268 3346 A
(gax\)"\);)469 3681 A
3372 V
(group)335 1068 A
1470(=)S
(groupcap->cap)871 1604 A
11 Y1
2475(3)S
11 C
(port;)335 2530 A
3608 V
12 R
708(The)S
975(routine)S
12 I
1397(test\(\))S
12 R
1738(in)S
12 I
1912(grp)S
12 Y1
2079(3)S
12 I
2139(perf.c)S
12 R
2508(creates)S
2926(the)S
(group)281 3154 A
3515(and)S
3769(carries)S
4174(out)S
4408(the)S
4636(performance)S
3748 V
708(measurements.)S
1493(The)S
1713(member)S
2142(numbered)S
2657(0)S
2749(actually)S
3165(creates)S
3535(the)S
(group.)311 3715 A
4087(The)S
4306(other)S
4586(members)S
5061(join)S
3888 V
708(the)S
(group)281 891 A
1207(after)S
1466(it)S
1569(has)S
1765(been)S
2028(created.)S
2474(Once)S
2765(all)S
2922(the)S
3105(members)S
3584(are)S
3769(present)S
4155(it)S
4259(can)S
(proceed)383 4463 A
4882(with)S
5134(its)S
4028 V
708(work.)S
4228 V
11 C
1068(/*)S
(Start)335 1269 A
(group.)402 1671 A
2140(*/)S
4368 V
1068(if)S
(\(cpu)268 1269 A
1604(==)S
1805(0\))S
2006({)S
4508 V
1336(gd)S
1537(=)S
(grp)201 1671 A
11 Y1
1872(3)S
11 C
(create\(&group,)938 1927 A
2932(\(g)S
11 Y1
3066(3)S
11 C
(indx)268 3121 A
11 Y1
3389(3)S
11 C
3444(t\))S
(resilience,)737 3645 A
(ncpu,)335 4449 A
4648 V
(\(uint32\))536 2504 A
(LOGBUF,)469 3107 A
(logdata\);)603 3643 A
4788 V
1336(if)S
(\(gd)201 1537 A
1805(<)S
1939(0\))S
4928 V
(panic\("create)871 1652 A
(failed)402 2590 A
(\(%d\)0,)402 3059 A
(\(int\))335 3528 A
(gd\);)268 3930 A
5068 V
1068(})S
(else)268 1202 A
1537({)S
5208 V
1336(if)S
(\(\(gd=grp)536 1537 A
11 Y1
2073(3)S
11 C
(join\(&hdr\)\))737 2128 A
2932(<)S
3066(0\))S
5348 V
(panic\("%d:)670 1652 A
(join)268 2389 A
(failed)402 2724 A
(%d0,)268 3193 A
(cpu,)268 3528 A
(gd\);)268 3863 A
5488 V
1068(})S
5724 V
12 R
708(The)S
938(next)S
1188(step)S
1425(is)S
1548(to)S
1684(set)S
1861(some)S
2158(parameters)S
2733(and)S
2949(wait)S
(until)222 3201 A
3465(all)S
3629(the)S
3819(expected)S
(group)281 4291 A
4614(members)S
5100(are)S
5864 V
708(ready)S
1014(to)S
1145(do)S
1302(work.)S
1648(The)S
1873(variable)S
12 I
2301(state.st)S
12 Y1
2641(3)S
12 I
2701(total)S
12 R
2970(below)S
3302(reflects)S
3697(the)S
3881(total)S
4133(number)S
4538(of)S
4675(members)S
5155(in)S
6004 V
708(the)S
(group.)311 891 A
1267(The)S
12 I
(handle\(\))410 1491 A
12 R
1947(function)S
(looks)261 2386 A
2683(at)S
(each)222 2807 A
3065(message)S
(received,)441 3511 A
3988(in)S
4118(particular)S
4620(at)S
(group)281 4744 A
5061(join)S
6144 V
708(requests,)S
1165(and)S
1369(keeps)S
1674(the)S
12 I
1852(state)S
12 R
2121(up)S
2271(to)S
2395(date.)S
6320 V
708(Following)S
1247(this)S
1464(a)S
1560(thread)S
1905(is)S
2029(created)S
2423(to)S
(accept)310 2560 A
2913(all)S
3078(incoming)S
3577(messages.)S
4137(It)S
4255(executes)S
4715(the)S
4906(routine)S
6460 V
12 I
708(daemon\(\))S
12 R
1222(which)S
1558(consists)S
1981(of)S
2122(the)S
2310(same)S
2599(basic)S
(loop)214 2888 A
(above:)322 3142 A
12 I
3504(grp)S
12 Y1
3671(3)S
12 I
(receive\(\))433 3731 A
12 R
4214(followed)S
4685(by)S
4845(a)S
4939(call)S
5155(to)S
6600 V
12 I
(handle\(\))410 708 A
12 R
1128(.)S
1218(It)S
1323(also)S
1548(has)S
(additional)484 1739 A
2253(code)S
2511(to)S
2635(deal)S
2867(with)S
3113(recovery)S
3567(after)S
3821(the)S
3999(loss)S
4217(of)S
(group)281 4348 A
4659(members.)S
6776 V
708(Thereafter,)S
1302(one)S
1533(or)S
1691(more)S
1997(members)S
2499(send)S
2778(a)S
2890(set)S
3083(number)S
3510(of)S
3669(messages)S
4184(using)S
4503(the)S
12 I
4709(grp)S
12 Y1
4876(3)S
12 I
4936(send\(\))S
6916 V
12 R
(primitive.)475 708 A
1245(It)S
1352(times)S
1647(how)S
(long)214 1887 A
2133(it)S
2233(takes)S
2514(using)S
12 I
2807(sys)S
12 Y1
2955(3)S
12 I
(milli\(\))306 3015 A
12 R
3331(.)S
3423(To)S
3589(ensure)S
3937(that)S
4150(the)S
12 I
4329(daemon\(\))S
12 R
4834(thread)S
5168(is)S
7056 V
708(scheduled)S
1230(the)S
1418(routine)S
12 I
1801(threadswitch\(\))S
12 R
2557(is)S
2678(called)S
3008(regularly.)S
3546(If)S
3668(the)S
3856(messages)S
4353(are)S
4542(not)S
4736(read)S
4985(fairly)S
7196 V
708(quickly)S
1124(after)S
1402(arrival,)S
1804(the)S
(group)281 2006 A
2341(can)S
(choke)288 2563 A
2905(up)S
(waiting)364 3079 A
3497(for)S
3693(the)S
3895(``slow'')S
4342(member.)S
4852(Another)S
7336 V
708(solution)S
1131(to)S
1259(this)S
1468(is)S
1583(to)S
1711(enable)S
2061(preemptive)S
2640(scheduling)S
3197(and)S
3405(give)S
3647(the)S
3830(reader)S
4169(thread)S
4507(equal)S
4804(or)S
4940(higher)S
7700 V
(190)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 191 197
BP
/slant 0 def
/height 0 def
500 V
12 R
708(grp)S
889(\(L\))S
2567(Library)S
2961(Routines)S
4912(grp)S
5093(\(L\))S
860 V
708(priority)S
1102(than)S
1340(the)S
1518(sender)S
1864(thread.)S
1060 V
11 C
(grpstate)536 1068 A
11 Y1
1604(3)S
11 C
1659(t)S
(state;)402 1793 A
1340 V
(res)201 1068 A
1336(=)S
(grp)201 1470 A
11 Y1
1671(3)S
11 C
(set\(gd,)469 1726 A
(&group,)469 2262 A
(\(interval\))670 2798 A
(SYNCTIMEOUT,)804 3535 A
1480 V
(\(interval\))670 2236 A
(REPLYTIMEOUT,)871 2973 A
1620 V
(\(interval\))670 2236 A
(debug)335 2973 A
11 Y1
3308(3)S
11 C
(level,)402 3363 A
(\(uint32\))536 3832 A
(large\);)469 4435 A
1760 V
1068(if)S
(\(ERR)268 1269 A
11 Y1
1537(3)S
11 C
(STATUS\(res\)\))804 1592 A
2463({)S
1900 V
(panic\("%d:)670 1336 A
(test:)335 2073 A
(grp)201 2475 A
11 Y1
2676(3)S
11 C
(set)201 2731 A
(failed)402 2999 A
(%d0,)268 3468 A
2040 V
(cpu,)268 2236 A
(ERR)201 2571 A
11 Y1
2772(3)S
11 C
(CONVERT\(res\)\);)938 2827 A
2180 V
1068(})S
2320 V
1068(/*)S
(Find)268 1269 A
(out)201 1604 A
(who)201 1872 A
2140(is)S
2341(in)S
(the)201 2542 A
(group.)402 2810 A
3279(*/)S
2460 V
(res)201 1068 A
1336(=)S
(grp)201 1470 A
11 Y1
1671(3)S
11 C
(info\(gd,)536 1726 A
(&group,)469 2329 A
(&state,)469 2865 A
(memlist,)536 3401 A
2600 V
2236(\(g)S
11 Y1
2370(3)S
11 C
(indx)268 2425 A
11 Y1
2693(3)S
11 C
2748(t\))S
(MAXGROUP\);)670 2949 A
2740 V
1068(if)S
(\(ERR)268 1269 A
11 Y1
1537(3)S
11 C
(STATUS\(res\)\))804 1592 A
2463({)S
2880 V
(panic\("%d:)670 1336 A
(test:)335 2073 A
(grp)201 2475 A
11 Y1
2676(3)S
11 C
(info)268 2731 A
(failed)402 3066 A
(%d0,)268 3535 A
3020 V
(cpu,)268 2236 A
(ERR)201 2571 A
11 Y1
2772(3)S
11 C
(CONVERT\(res\)\);)938 2827 A
3160 V
1068(})S
3300 V
1068(my)S
11 Y1
1202(3)S
11 C
1257(id)S
1458(=)S
(state.st)536 1592 A
11 Y1
2128(3)S
11 C
(myid;)335 2183 A
3580 V
1068(/*)S
(Wait)268 1269 A
(until)335 1604 A
(the)201 2006 A
(group)335 2274 A
2676(is)S
(complete.)603 2877 A
3547(*/)S
3720 V
(while)335 1068 A
(\(state.st)603 1470 A
11 Y1
2073(3)S
11 C
(total)335 2128 A
2530(<)S
(ncpu\))335 2664 A
3066({)S
3860 V
1336(r)S
1470(=)S
(grp)201 1604 A
11 Y1
1805(3)S
11 C
(receive\(gd,)737 1860 A
(&hdr,)335 2664 A
(\(bufptr\))536 3066 A
3669(0,)S
(\(uint32\))536 3870 A
4473(0,)S
(&more\);)469 4674 A
4000 V
1336(if)S
(\(ERR)268 1537 A
11 Y1
1805(3)S
11 C
(STATUS\(r\)\))670 1860 A
4140 V
(panic\("%d:)670 1652 A
(test:)335 2389 A
(grp)201 2791 A
11 Y1
2992(3)S
11 C
(receive)469 3047 A
(failed:)469 3583 A
(%d0,)268 4119 A
4280 V
(cpu,)268 2236 A
(ERR)201 2571 A
11 Y1
2772(3)S
11 C
(CONVERT\(r\)\);)804 2827 A
4420 V
(handle\(&hdr,)804 1336 A
(\(char)335 2207 A
2609(*\))S
2810(0,)S
(0\);)201 3011 A
4560 V
1068(})S
4796 V
12 R
708(Once)S
1020(all)S
1198(the)S
1402(message)S
1868(timing)S
2241(has)S
2459(been)S
2744(completed)S
3305(it)S
3430(is)S
(necessary)471 3568 A
4096(to)S
4247(terminate)S
4763(the)S
(group)281 4968 A
4936 V
708(cleanly.)S
1148(This)S
1393(is)S
(done)234 1504 A
1768(using)S
12 I
2059(grp)S
12 Y1
2226(3)S
12 I
2286(leave\(\))S
12 R
2634(.)S
5136 V
11 C
(hdr.h)335 1068 A
11 Y1
1403(3)S
11 C
(command)469 1458 A
1994(=)S
(LEAVE;)402 2128 A
5276 V
(hdr.h)335 1068 A
11 Y1
1403(3)S
11 C
(size)268 1458 A
1793(=)S
(cpu;)268 1927 A
5416 V
(hdr.h)335 1068 A
11 Y1
1403(3)S
11 C
(extra)335 1458 A
1860(=)S
1994(my)S
11 Y1
2128(3)S
11 C
(id;)201 2183 A
5556 V
1068(s)S
1202(=)S
(grp)201 1336 A
11 Y1
1537(3)S
11 C
(leave\(gd,)603 1592 A
(&hdr\);)402 2262 A
5756 V
12 R
708(Once)S
12 I
1023(test\(\))S
12 R
1343(terminates)S
1908(the)S
12 I
2116(daemon\(\))S
12 R
2650(thread)S
(will)190 3013 A
(receive)351 3263 A
3674(the)S
(group)281 3882 A
4223(leave)S
4539(command)S
5075(and)S
5896 V
708(terminate)S
1197(as)S
1328(well.)S
1628(Since)S
1927(it)S
2025(is)S
2136(the)S
2314(last)S
2513(active)S
2833(thread)S
3166(the)S
3344(process)S
(will)190 3737 A
3957(then)S
4195(terminate.)S
6176 V
12 B
708(See)S
913(Also)S
6352 V
12 R
708(gax\(U\),)S
1112(rpc\(L\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(191)180 5069 A
7920 V
EP
%%Page: 192 198
BP
/slant 0 def
/height 0 def
500 V
12 R
708(head)S
956(\(L\))S
2567(Library)S
2961(Routines)S
4845(head)S
5093(\(L\))S
860 V
2174(\(in)S
2339(libraries:)S
(head.o/libamoeba.a\))981 2802 A
1210 V
12 B
708(Name)S
1386 V
12 R
708(head)S
12 R-1
966(-)S
12 R
1094(C)S
1204(run-time)S
1652(start-off)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("caplist.h")737 1311 A
2322 V
(extern)402 708 A
(char)268 1177 A
(*environ[];)737 1512 A
2462 V
(extern)402 708 A
(struct)402 1177 A
(caplist)469 1646 A
(capv[];)469 2182 A
2742 V
(main\(argc,)670 708 A
(argv,)335 1445 A
(envp,)335 1847 A
(capv\))335 2249 A
2882 V
(int)201 708 A
(argc;)335 976 A
3022 V
(char)268 708 A
(*argv[];)536 1043 A
3162 V
(char)268 708 A
(*envp[];)536 1043 A
3302 V
(struct)402 708 A
(caplist)469 1177 A
(capv[];)469 1713 A
3582 V
11 Y1
708(3)S
11 C
(stackfix\(sp\))804 763 A
3922 V
12 B
708(Description)S
4098 V
12 R
708(This)S
961(document)S
1476(describes)S
1966(the)S
2153(way)S
2394(the)S
2581(C)S
2700(main)S
2981(program)S
3430(is)S
3550(called.)S
3939(The)S
12 I
4166(main)S
12 R
4457(routine)S
4839(is)S
4959(called)S
4238 V
708(with)S
954(four)S
1186(arguments:)S
4414 V
12 I
708(argc)S
12 R
958(is)S
1069(the)S
1247(number)S
1646(of)S
1777(arguments;)S
4590 V
12 I
708(argv)S
12 R
958(is)S
1069(an)S
1213(array)S
1493(of)S
1624(strings)S
1977(containing)S
2517(the)S
2695(arguments,)S
3259(with)S
12 I
3505(argv[0])S
12 R
3920(the)S
4098(name)S
4390(of)S
4521(the)S
4699(program;)S
4766 V
12 I
708(envp)S
12 R
958(is)S
1081(a)S
1177(NULL-terminated)S
2103(array)S
2395(of)S
2538(strings)S
2903(containing)S
3456(the)S
3647(string)S
3966(environment)S
4620(\(all)S
(exported)423 4826 A
4906 V
958(shell)S
1217(variables,)S
1715(usually\);)S
5082 V
12 I
708(capv)S
12 R
958(is)S
1092(unique)S
1473(to)S
1620(Amoeba)S
2084(and)S
2312(contains)S
2769(the)S
(capability)478 2971 A
3503(environment.)S
4228(See)S
12 I
4457(getcap)S
12 R
4789(\(L\))S
4999(for)S
5195(a)S
5222 V
958(description)S
1526(of)S
1657(standard)S
(capability)478 2097 A
2605(environment)S
3246(entries.)S
5398 V
708(Since)S
1017(the)S
1205(string)S
1521(and)S
(capability)478 1735 A
2253(environment)S
2904(are)S
3093(often)S
3382(needed)S
3764(by)S
3924(other)S
4213(library)S
(modules)409 4577 A
5026(their)S
5538 V
708(addresses)S
1209(are)S
1395(also)S
1627(stored)S
1960(in)S
2091(the)S
2276(global)S
2615(variables)S
12 I
3090(environ)S
12 R
3506(and)S
12 I
3717(capv)S
12 R
3955(,)S
4022(respectively.)S
4705(In)S
4843(the)S
5027(light)S
5678 V
708(of)S
(compatibility)646 839 A
1515(with)S
1761(STD)S
2020(C,)S
2160(this)S
2365(is)S
2476(the)S
2654(recommended)S
3369(way)S
3601(of)S
(accessing)464 3732 A
4226(them.)S
5994 V
12 I
708(Stack)S
1000(format)S
6170 V
12 R
708(The)S
930(format)S
1288(of)S
1423(the)S
1605(stack)S
1888(segment)S
2325(`on)S
2520(the)S
2702(wire',)S
3024(i.e.,)S
3236(as)S
3371(it)S
3473(is)S
3588(created)S
3973(by)S
12 I
4128(buildstack)S
12 R
4635(\(L\),)S
4856(is)S
4972(in)S
5101(the)S
6310 V
708(byte)S
973(order)S
1286(of)S
1444(the)S
1649(host)S
1907(that)S
(built)222 2145 A
2423(it.)S
2607(From)S
2925(high)S
3195(to)S
3345(low)S
3583(addresses,)S
4133(the)S
4337(stack)S
4642(contains)S
5101(the)S
6450 V
(capabilities,)583 708 A
1325(the)S
1507(names)S
1850(of)S
1985(the)S
(capabilities,)583 2167 A
2784(the)S
2966(NULL-terminated)S
12 I
3884(capv)S
12 R
4156(array)S
4440(\(with)S
4731(pointers)S
5155(to)S
6590 V
708(the)S
890(previous)S
1339(items\),)S
1706(the)S
1887(environment)S
2531(strings,)S
2917(the)S
3098(NULL-terminated)S
12 I
4015(envp)S
12 R
4286(array)S
4569(\(with)S
4859(pointers)S
6730 V
708(to)S
864(the)S
1075(environment)S
1749(strings\),)S
2206(the)S
2417(argument)S
2937(strings,)S
3353(the)S
12 I
3564(argv)S
12 R
3858(array)S
4171(\(with)S
4491(pointers)S
4944(to)S
5101(the)S
6870 V
708(argument)S
1209(strings\),)S
1647(a)S
1745(pointer)S
2132(to)S
2270(the)S
12 I
2462(capv)S
12 R
2743(array,)S
3066(a)S
3163(pointer)S
3549(to)S
3686(the)S
12 I
3877(envp)S
12 R
4158(array,)S
4481(a)S
4578(pointer)S
4964(to)S
5101(the)S
7010 V
12 I
708(argv)S
12 R
977(array)S
1265(and)S
1477(the)S
1663(argument)S
(count.)298 2158 A
2524(Note)S
2799(that)S
3020(all)S
3181(addresses)S
3684(are)S
3872(real)S
4094(pointers,)S
4553(so)S
4699(the)S
4886(address)S
7150 V
708(where)S
1035(the)S
1213(stack)S
1492(segment)S
(will)190 1925 A
2145(be)S
2289(mapped)S
2701(has)S
2892(to)S
3016(be)S
(known)328 3160 A
3518(beforehand.)S
7326 V
708(Since)S
1009(the)S
1189(stack)S
1470(is)S
1583(created)S
1966(in)S
2092(the)S
2272(byte-order)S
2809(of)S
2942(the)S
3122(originating)S
3685(machine)S
4127(it)S
4227(may)S
4467(have)S
4727(to)S
4853(be)S
5000(fixed)S
7700 V
(192)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 193 199
BP
/slant 0 def
/height 0 def
500 V
12 R
708(head)S
956(\(L\))S
2567(Library)S
2961(Routines)S
4845(head)S
5093(\(L\))S
860 V
708(before)S
1049(it)S
1147(can)S
1345(be)S
1489(handed)S
1867(to)S
12 I
1991(main)S
12 R
2243(.)S
2333(The)S
2551(routine)S
12 Y1
2924(3)S
12 I
2984(stackfix)S
12 R
3395(does)S
3646(this.)S
3911(It)S
4016(gets)S
4241(a)S
4325(pointer)S
4698(to)S
4822(the)S
5000(stack)S
1000 V
708(described)S
(above)288 1231 A
1578(as)S
1739(an)S
1913(argument,)S
2460(checks)S
12 I
2849(argc)S
12 R
3140(to)S
3294(determine)S
3839(the)S
4047(byte)S
4315(order)S
4631(of)S
4792(the)S
5000(stack)S
1140 V
708(segment)S
1144(\(argc)S
1427(is)S
1541(always)S
(supposed)448 1911 A
2392(to)S
2518(be)S
2664(less)S
2878(than)S
3118(2\30316\),)S
3442(and)S
3648(swaps)S
3976(all)S
4130(pointers)S
4552(and)S
4758(integers)S
5174(if)S
1280 V
708(needed.)S
1140(Note)S
1406(that)S
1618(checkstack)S
2179(can)S
2377(only)S
2621(handle)S
2973(big-endian)S
3520(and)S
(little-endian)587 3724 A
4341(architectures.)S
1596 V
12 I
708(Implementation)S
1772 V
12 R
708(The)S
933(run-time)S
1388(start-off)S
1819(routine)S
2200(is)S
2319(very)S
2572(simple.)S
2993(First,)S
3284(it)S
3390(executes)S
3845(some)S
4138(architecture-dependent)S
1912 V
708(code)S
976(to)S
1110(setup)S
1405(registers)S
1857(and)S
2071(terminate)S
2570(the)S
2758(frame)S
3082(pointer)S
3465(chain.)S
3827(Next,)S
4132(it)S
4239(calls)S
12 Y1
4501(3)S
12 I
4561(stackfix)S
12 R
4981(to)S
5114(fix)S
2052 V
708(the)S
898(stack.)S
1249(Then)S
1539(it)S
1649(calls)S
12 I
1914(main)S
12 R
2208(with)S
2466(the)S
2656(aforementioned)S
3458(arguments.)S
4064(Finally)S
4449(it)S
4559(calls)S
12 I
4824(exit)S
12 R
5053(\(see)S
2192 V
12 I
708(ansi)S
12 Y1
909(3)S
12 I
969(C)S
12 R
1059(\(L\)\))S
1286(with)S
1532(the)S
1710(return)S
2030(value)S
2322(from)S
2588(main)S
2860(as)S
2991(argument.)S
2472 V
12 B
708(See)S
913(Also)S
2648 V
12 R
708(buildstack\(L\),)S
1421(exitprocess\(L\),)S
2182(getcap\(L\),)S
2714(ansi)S
12 Y1
2909(3)S
12 R
2969(C\(L\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(193)180 5069 A
7920 V
EP
%%Page: 194 200
BP
/slant 0 def
/height 0 def
500 V
12 R
708(host)S
12 Y1
909(3)S
12 R
(lookup)334 969 A
1323(\(L\))S
2567(Library)S
2961(Routines)S
4478(host)S
12 Y1
4679(3)S
12 R
(lookup)334 4739 A
5093(\(L\))S
860 V
1745(\(in)S
1910(libraries:)S
2373(libamoeba.a,)S
3021(libkernel.a,)S
3596(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(host)S
12 Y1
909(3)S
12 R
(lookup)334 969 A
12 R-1
1333(-)S
12 R
(look)214 1461 A
1705(up)S
1855(the)S
(capability)478 2033 A
2541(for)S
2713(a)S
2797(host)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("module/host.h")1005 1311 A
2182 V
(errstat)469 708 A
(host)268 1244 A
11 Y1
1512(3)S
11 C
(lookup\(hostname,)1072 1567 A
(cap\))268 2706 A
2322 V
(errstat)469 708 A
1244(ip)S
11 Y1
1378(3)S
11 C
(host)268 1433 A
11 Y1
1701(3)S
11 C
(lookup\(hostname,)1072 1756 A
(extension,)670 2895 A
(cap\))268 3632 A
2462 V
(errstat)469 708 A
(super)335 1244 A
11 Y1
1579(3)S
11 C
(host)268 1634 A
11 Y1
1902(3)S
11 C
(lookup\(hostname,)1072 1957 A
(cap\))268 3096 A
2802 V
12 B
708(Description)S
2978 V
12 R
708(These)S
1037(routines)S
1467(search)S
1817(for)S
2000(the)S
(capability)478 2189 A
2708(of)S
2850(the)S
3039(host)S
3281(specified)S
3760(by)S
3921(the)S
4110(string)S
12 I
4427(hostname)S
12 R
4900(.)S
5001(They)S
3118 V
(look)214 708 A
964(in)S
1100(various)S
(places)303 1498 A
1843(as)S
1986(described)S
2492(below.)S
2890(If)S
3014(the)S
(lookup)334 3204 A
3580(is)S
(successful)498 3703 A
4243(they)S
4493(return)S
12 C
(STD)219 4824 A
12 Y1
5043(3)S
12 C
5103(OK)S
3258 V
12 R
708(and)S
918(the)S
(capability)478 1102 A
1616(for)S
1794(the)S
1978(host)S
2215(is)S
2332(in)S
12 I
2462(*cap)S
12 R
2706(.)S
2802(Otherwise)S
3338(they)S
3582(return)S
3908(the)S
4092(error)S
4365(status)S
4677(and)S
12 I
4887(*cap)S
12 R
5168(is)S
3398 V
708(not)S
892(set.)S
3714 V
12 I
708(super)S
12 Y1
976(3)S
12 I
1036(host)S
12 Y1
1237(3)S
12 I
1297(lookup)S
3950 V
11 C
(errstat)469 1068 A
4090 V
(super)335 1068 A
11 Y1
1403(3)S
11 C
(host)268 1458 A
11 Y1
1726(3)S
11 C
(lookup\(hostname,)1072 1781 A
(cap\))268 2920 A
4230 V
(char)268 1068 A
(*hostname;)670 1403 A
4370 V
(capability)670 1068 A
(*cap;)335 1805 A
4570 V
12 R
708(If)S
12 I
847(hostname)S
12 R
1377(begins)S
1749(with)S
2022(a)S
2134(/)S
2226(or)S
2385(.)S
2435(/)S
2527(then)S
2793(it)S
2919(is)S
3058(assumed)S
3532(to)S
3684(be)S
3856(an)S
4028(absolute)S
4489(path)S
4755(name)S
5075(and)S
4710 V
12 I
708(super)S
12 Y1
976(3)S
12 I
1036(host)S
12 Y1
1237(3)S
12 I
1297(lookup)S
12 R
(looks)261 1672 A
1970(it)S
2075(up)S
2232(directly.)S
2700(Otherwise)S
3237(it)S
3342(assumes)S
3782(that)S
4001(it)S
4105(is)S
4222(a)S
4312(relative)S
4713(path)S
4957(name.)S
4850 V
708(It)S
847(begins)S
1226(by)S
(looking)368 1411 A
1844(for)S
2051(it)S
2184(in)S
2343(the)S
2556(directory)S
12 C
(HOST)292 3059 A
12 Y1
3351(3)S
12 C
(SUPER)365 3411 A
12 Y1
3776(3)S
12 C
(DIR)219 3836 A
12 R
4120(as)S
4286(defined)S
4714(in)S
4873(the)S
5086(file)S
4990 V
12 I
708(ampolicy.h)S
12 R
1282(\(typically)S
12 I
1777(/super/hosts)S
12 R
2371(\).)S
5166 V
708(It)S
813(returns)S
1180(the)S
1358(error)S
1625(status)S
1931(of)S
2062(the)S
2240(attempt)S
2634(to)S
(look)214 2758 A
3002(up)S
3152(the)S
3330(name.)S
5342 V
708(Under)S
11 R
1061(UNIX)S
12 R
1390(it)S
1510(performs)S
2000(one)S
2226(extra)S
2521(search)S
2883(before)S
3245(it)S
(looks)261 3365 A
3678(in)S
12 C
(HOST)292 3824 A
12 Y1
4116(3)S
12 C
(SUPER)365 4176 A
12 Y1
4541(3)S
12 C
(DIR)219 4601 A
12 R
4820(.)S
4932(It)S
(will)190 5059 A
5482 V
708(attempt)S
1125(to)S
(look)214 1272 A
1539(up)S
1712(the)S
(capability)478 1912 A
2442(in)S
2588(a)S
11 R
2692(UNIX)S
12 R
3021(file)S
3236(with)S
3504(the)S
3704(name)S
4018(specified,)S
4538(relative)S
4955(to)S
5101(the)S
5622 V
708(directory)S
12 C
(UNIX)292 1181 A
12 Y1
1473(3)S
12 C
(HOST)292 1533 A
12 Y1
1825(3)S
12 C
(DIR)219 1885 A
12 R
2139(as)S
2275(defined)S
2673(in)S
2802(the)S
2986(file)S
12 I
(amupolicy.h)594 3185 A
12 R
3825(\(typically)S
12 C
(UNIX)292 4326 A
12 Y1
4618(3)S
12 C
(HOST)292 4678 A
12 Y1
4970(3)S
12 C
(DIR)219 5030 A
5762 V
12 R
708(is)S
823(`.'\).)S
1070(This)S
1319(is)S
1434(useful)S
1764(when)S
2060(porting)S
2443(Amoeba)S
2887(since)S
3170(it)S
3272(allows)S
(bootstrapping)664 3623 A
4321(an)S
4469(Amoeba)S
4913(system)S
5902 V
708(from)S
11 R
972(UNIX)S
12 R
1279(before)S
1619(an)S
1763(Amoeba)S
2203(directory)S
2671(server)S
2998(is)S
3109(available.)S
6218 V
12 I
708(host)S
12 Y1
909(3)S
12 I
969(lookup)S
6454 V
11 C
(errstat)469 1068 A
6594 V
(host)268 1068 A
11 Y1
1336(3)S
11 C
(lookup\(hostname,)1072 1391 A
(cap\))268 2530 A
6734 V
(char)268 1068 A
(*hostname;)670 1403 A
6874 V
(capability)670 1068 A
(*cap;)335 1805 A
7110 V
12 I
708(Host)S
12 Y1
937(3)S
12 I
997(lookup)S
12 R
1381(begins)S
1742(by)S
(calling)330 1908 A
12 I
2284(super)S
12 Y1
2552(3)S
12 I
2612(host)S
12 Y1
2813(3)S
12 I
2873(lookup)S
12 R
3211(.)S
3317(If)S
3445(that)S
(succeeds)430 3673 A
4149(it)S
4263(returns)S
4646(the)S
4840(value)S
5148(of)S
7250 V
12 I
708(super)S
12 Y1
976(3)S
12 I
1036(host)S
12 Y1
1237(3)S
12 I
1297(lookup)S
12 R
1635(.)S
1746(Otherwise)S
2297(it)S
(looks)261 2416 A
2728(in)S
2873(the)S
3071(directory)S
12 C
(HOST)292 3559 A
12 Y1
3851(3)S
12 C
(DIR)219 3911 A
12 R
4180(as)S
4331(defined)S
4744(in)S
4888(the)S
5086(file)S
7700 V
(194)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 195 201
BP
/slant 0 def
/height 0 def
500 V
12 R
708(host)S
12 Y1
909(3)S
12 R
(lookup)334 969 A
1323(\(L\))S
2567(Library)S
2961(Routines)S
4478(host)S
12 Y1
4679(3)S
12 R
(lookup)334 4739 A
5093(\(L\))S
860 V
12 I
708(ampolicy.h)S
12 R
1304(\(typically)S
12 I
(/profile/hosts)639 1821 A
12 R
2470(\).)S
2623(For)S
2843(most)S
3130(users)S
3431(this)S
3658(last)S
(lookup)334 3879 A
4265(is)S
4398(the)S
4598(one)S
4824(that)S
(will)190 5059 A
1000 V
(succeed.)413 708 A
1181(If)S
1293(this)S
1498(fails)S
1738(then)S
1976(it)S
2074(attempts)S
2515(to)S
(look)214 2639 A
2883(up)S
3033(the)S
3211(host)S
3442(in)S
3566(the)S
3744(current)S
4118(directory.)S
1176 V
708(The)S
970(error)S
1281(status)S
1631(is)S
1786(either)S
2138(that)S
2395(of)S
2571(the)S
2794(last)S
12 I
3038(name)S
12 Y1
3300(3)S
12 I
3360(lookup\(\))S
12 R
3780(attempted)S
4333(\(see)S
12 I
4604(name)S
12 R
4876(\(L\)\))S
5148(or)S
1316 V
12 C
(STD)219 708 A
12 Y1
927(3)S
12 C
(NOMEM)365 987 A
12 R
1382(if)S
1487(the)S
12 I
1665(hostname)S
12 R
2168(string)S
2474(is)S
2585(too)S
(long)214 2769 A
3013(for)S
3185(internal)S
3586(buffering.)S
1632 V
12 I
708(ip)S
12 Y1
802(3)S
12 I
862(host)S
12 Y1
1063(3)S
12 I
1123(lookup)S
1868 V
11 C
(errstat)469 1068 A
2008 V
1068(ip)S
11 Y1
1202(3)S
11 C
(host)268 1257 A
11 Y1
1525(3)S
11 C
(lookup\(hostname,)1072 1580 A
(extension,)670 2719 A
(cap\))268 3456 A
2148 V
(char)268 1068 A
(*hostname;)670 1403 A
2288 V
(char)268 1068 A
(*extension;)737 1403 A
2428 V
(capability)670 1068 A
(*cap;)335 1805 A
2664 V
12 R
708(This)S
956(function)S
1392(is)S
1506(used)S
1760(to)S
(look)214 1887 A
2134(up)S
2287(one)S
2494(of)S
2628(the)S
(capabilities)553 2809 A
3395(of)S
3529(an)S
3676(IP)S
3817(server)S
4147(\(see)S
12 I
4376(ipsvr)S
12 R
4628(\(A\)\).)S
4932(It)S
5041(uses)S
2804 V
12 I
708(host)S
12 Y1
909(3)S
12 I
969(lookup)S
12 R
1338(to)S
1463(find)S
1689(the)S
(capability)478 1868 A
2377(for)S
2549(the)S
2727(specified)S
3195(host,)S
3456(which)S
(should)321 3782 A
4133(be)S
4277(a)S
4361(host)S
(running)375 4592 A
4997(an)S
5141(IP)S
2944 V
708(server.)S
1095(It)S
1200(then)S
1438(uses)S
1676(the)S
1854(extension)S
2347(to)S
2471(select)S
2778(the)S
2956(desired)S
3337(element)S
3752(of)S
3884(the)S
4063(server.)S
4451(The)S
12 I
4670(extension)S
12 R
5168(is)S
3084 V
708(a)S
792(string)S
1098(which)S
1424(is)S
1535(either)S
12 I
1842(ip)S
12 R
1946(,)S
12 I
2006(eth)S
12 R
2164(,)S
12 I
2224(tcp)S
12 R
2412(or)S
12 I
(udp)180 2543 A
12 R
2733(.)S
2823(Any)S
3061(other)S
3340(values)S
(will)190 3679 A
3899(fail.)S
3260 V
708(The)S
947(function)S
1401(returns)S
12 C
(STD)219 1789 A
12 Y1
2008(3)S
12 C
2068(OK)S
12 R
2265(on)S
(success.)393 2436 A
2910(Otherwise)S
3462(it)S
3582(returns)S
3971(one)S
4197(of)S
4350(the)S
4550(standard)S
5012(error)S
3400 V
708(codes)S
1013(indicating)S
1527(the)S
1705(cause)S
2004(of)S
2135(failure.)S
3680 V
12 B
708(Examples)S
3856 V
12 R
708(The)S
926(following)S
1427(code)S
(looks)261 1685 A
1976(up)S
2126(the)S
(capability)478 2304 A
2812(of)S
2943(the)S
3121(machine)S
3561(called)S
12 C
(ihnp4)365 3881 A
12 R
4246(.)S
4056 V
11 C
(char)268 708 A
1043(*)S
(hostname)536 1177 A
1780(=)S
("ihnp4")469 1914 A
4196 V
(capability)670 708 A
(hcap;)335 1445 A
4336 V
(errstat)469 708 A
(err;)268 1244 A
4546 V
708(if)S
(\(\(err)335 909 A
1311(=)S
(host)268 1445 A
11 Y1
1713(3)S
11 C
(lookup\(hostname,)1072 1768 A
(&hcap\)\))469 2907 A
3443(==)S
(STD)201 3644 A
11 Y1
3845(3)S
11 C
(OK\))201 3900 A
4686 V
976(/*)S
(use)201 1177 A
(the)201 1445 A
(capability)670 1713 A
(for)201 2450 A
(something)603 2718 A
(*/;)201 3388 A
4826 V
(else)268 708 A
4966 V
(printf\("lookup)938 976 A
1981(of)S
2182(%s)S
(failed:)469 2383 A
(%s\\n",)402 2919 A
(hostname,)603 3388 A
(err)201 4058 A
11 Y1
4259(3)S
11 C
(why\(err\)\);)670 4314 A
5202 V
12 R
708(To)S
(look)214 872 A
1116(up)S
1266(the)S
12 I
1444(tcp)S
12 R
(capability)478 1632 A
2140(of)S
2271(the)S
2449(IP)S
2587(server)S
(running)375 2914 A
3319(on)S
3469(the)S
3647(host)S
12 I
(armada1E)509 3878 A
12 R
4427(use:)S
5402 V
11 C
(char)268 708 A
1043(*)S
(hostname)536 1177 A
1780(=)S
("armada1E";)737 1914 A
5542 V
(capability)670 708 A
(tcpcap;)469 1445 A
5682 V
(errstat)469 708 A
(err;)268 1244 A
5892 V
708(if)S
(\(\(err)335 909 A
1311(=)S
1445(ip)S
11 Y1
1579(3)S
11 C
(host)268 1634 A
11 Y1
1902(3)S
11 C
(lookup\(hostname,)1072 1957 A
("tcp",)402 3096 A
(&tcpcap\)\))603 3565 A
4235(==)S
(STD)201 4436 A
11 Y1
4637(3)S
11 C
(OK\))201 4692 A
6032 V
976(/*)S
(use)201 1177 A
(the)201 1445 A
(capability)670 1713 A
(for)201 2450 A
(something)603 2718 A
(*/;)201 3388 A
6172 V
(else)268 708 A
6312 V
(printf\("ip)670 976 A
(lookup)402 1713 A
2182(of)S
(%s.%s)335 2383 A
(failed:)469 2785 A
(%s\\n",)402 3321 A
6452 V
(hostname,)603 1876 A
("tcp",)402 2546 A
(err)201 3015 A
11 Y1
3216(3)S
11 C
(why\(err\)\);)670 3271 A
7700 V
12 R
2683(Amoeba)S
3123(5.3)S
(195)180 5069 A
7920 V
EP
%%Page: 196 202
BP
/slant 0 def
/height 0 def
500 V
12 R
708(host)S
12 Y1
909(3)S
12 R
(lookup)334 969 A
1323(\(L\))S
2567(Library)S
2961(Routines)S
4478(host)S
12 Y1
4679(3)S
12 R
(lookup)334 4739 A
5093(\(L\))S
860 V
12 B
708(See)S
913(Also)S
1036 V
12 R
708(name\(L\).)S
7700 V
(196)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 197 203
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ip)S
822(\(L\))S
2567(Library)S
2961(Routines)S
4979(ip)S
5093(\(L\))S
860 V
2350(\(in)S
2515(libraries:)S
2978(libamoeba.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(ip)S
12 R-1
832(-)S
12 R
960(Internet)S
1368(Protocol)S
1808(server's)S
2223(general-purpose)S
3033(client)S
(interface)426 3333 A
3789(stubs)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("stddef.h")670 1311 A
2042 V
(#include)536 708 A
("amoeba.h")670 1311 A
2322 V
(#include)536 708 A
("server/ip/hton.h")1206 1311 A
2602 V
(u16)201 708 A
11 Y1
909(3)S
11 C
964(t)S
(htons\(host)670 1098 A
11 Y1
1768(3)S
11 C
(word\))335 1823 A
2742 V
(u32)201 708 A
11 Y1
909(3)S
11 C
964(t)S
(htonl\(host)670 1098 A
11 Y1
1768(3)S
11 C
(dword\))402 1823 A
2882 V
(u16)201 708 A
11 Y1
909(3)S
11 C
964(t)S
(ntohs\(network)871 1098 A
11 Y1
1969(3)S
11 C
(word\))335 2024 A
3022 V
(u32)201 708 A
11 Y1
909(3)S
11 C
964(t)S
(ntohl\(network)871 1098 A
11 Y1
1969(3)S
11 C
(dword\))402 2024 A
3162 V
(u16)201 708 A
11 Y1
909(3)S
11 C
964(t)S
(HTONS\(host)670 1098 A
11 Y1
1768(3)S
11 C
(word\))335 1823 A
3302 V
(u32)201 708 A
11 Y1
909(3)S
11 C
964(t)S
(HTONL\(host)670 1098 A
11 Y1
1768(3)S
11 C
(dword\))402 1823 A
3442 V
(u16)201 708 A
11 Y1
909(3)S
11 C
964(t)S
(NTOHS\(network)871 1098 A
11 Y1
1969(3)S
11 C
(word\))335 2024 A
3582 V
(u32)201 708 A
11 Y1
909(3)S
11 C
964(t)S
(NTOHL\(network)871 1098 A
11 Y1
1969(3)S
11 C
(dword\))402 2024 A
3862 V
(#include)536 708 A
("server/ip/gen/oneCsum.h")1675 1311 A
4142 V
(u16)201 708 A
11 Y1
909(3)S
11 C
964(t)S
(oneC)268 1098 A
11 Y1
1366(3)S
11 C
(sum\(prev,)603 1421 A
(data,)335 2091 A
(size\))335 2493 A
4422 V
(#include)536 708 A
("server/ip/tcpip.h")1273 1311 A
4702 V
(char)268 708 A
(*tcpip)402 1043 A
11 Y1
1445(3)S
11 C
(why\(err\))536 1500 A
4842 V
(errstat)469 708 A
(tcpip)335 1244 A
11 Y1
1579(3)S
11 C
(keepalive\(chan)938 1634 A
11 Y1
2572(3)S
11 C
(cap,)268 2627 A
(respite\))536 2962 A
4982 V
(errstat)469 708 A
(tcpip)335 1244 A
11 Y1
1579(3)S
11 C
(keepalive)603 1634 A
11 Y1
2237(3)S
11 C
(cap\(cap\))536 2292 A
5122 V
(errstat)469 708 A
(tcpip)335 1244 A
11 Y1
1579(3)S
11 C
(mkcap\(tcpip)737 1634 A
11 Y1
2371(3)S
11 C
(cap,)268 2426 A
(obj,)268 2761 A
(cap\))268 3096 A
5262 V
(errstat)469 708 A
(tcpip)335 1244 A
11 Y1
1579(3)S
11 C
(open\(tcpip)670 1634 A
11 Y1
2304(3)S
11 C
(cap,)268 2359 A
(chan)268 2694 A
11 Y1
2962(3)S
11 C
(cap\))268 3017 A
5402 V
(errstat)469 708 A
(tcpip)335 1244 A
11 Y1
1579(3)S
11 C
(read\(chan)603 1634 A
11 Y1
2237(3)S
11 C
(cap,)268 2292 A
(buffer,)469 2627 A
(bytes\))402 3163 A
5542 V
(errstat)469 708 A
(tcpip)335 1244 A
11 Y1
1579(3)S
11 C
(unkeepalive)737 1634 A
11 Y1
2371(3)S
11 C
(cap\(cap\))536 2426 A
5682 V
(errstat)469 708 A
(tcpip)335 1244 A
11 Y1
1579(3)S
11 C
(write\(chan)670 1634 A
11 Y1
2304(3)S
11 C
(cap,)268 2359 A
(buffer,)469 2694 A
(bytes\))402 3230 A
6022 V
12 B
708(Description)S
6198 V
12 R
708(The)S
966(Internet)S
1414(Protocol)S
1894(\(IP\))S
2154(server)S
2521(implements)S
3156(four)S
3429(network)S
3897(protocols,)S
4448(as)S
4620(described)S
5155(in)S
6338 V
12 I
708(ipsvr)S
12 R
960(\(A\).)S
1234(The)S
1466(four)S
(supported)476 1712 A
2232(protocols)S
2726(are)S
2919(ETH,)S
3229(IP,)S
3411(TCP)S
3675(and)S
3892(UDP.)S
4238(The)S
4469(general-purpose)S
6478 V
708(routines)S
1142(described)S
1650(here)S
1903(and)S
2121(the)S
2313(protocol)S
2760(specific)S
3182(routines)S
3616(described)S
4124(in)S
12 I
4262(ip)S
12 Y1
4356(3)S
12 I
4416(eth)S
12 R
4574(\(L\),)S
12 I
4805(ip)S
12 Y1
4899(3)S
12 I
4959(ip)S
12 R
5063(\(L\),)S
6618 V
12 I
708(ip)S
12 Y1
802(3)S
12 I
862(tcp)S
12 R
1020(\(L\))S
1233(and)S
12 I
1464(ip)S
12 Y1
1558(3)S
12 I
(udp)180 1618 A
12 R
1808(\(L\))S
2021(give)S
(access)310 2286 A
2652(to)S
2802(the)S
3006(protocols)S
3512(of)S
3669(the)S
3873(IP)S
4037(server.)S
(Access)344 4450 A
4850(to)S
5000(these)S
6758 V
708(services)S
1176(is)S
1334(provided)S
1840(using)S
2178(two)S
2438(types)S
2771(of)S
(capabilities:)587 2950 A
3615(server)S
(capabilities)553 3990 A
4621(and)S
4873(channel)S
6898 V
(capabilities.)583 708 A
1371(The)S
1609(server)S
(capabilities)553 1956 A
2559(are)S
2758(called)S
12 I
3098(eth)S
12 R
3256(,)S
12 I
3336(ip)S
12 R
3440(,)S
12 I
3520(tcp)S
12 R
3678(,)S
12 I
(udp)180 3758 A
12 R
3948(,)S
4027(which)S
(correspond)537 4372 A
4958(to)S
5101(the)S
7038 V
708(ETH,)S
1029(IP,)S
1222(TCP)S
1498(and)S
1727(UDP)S
(interfaces,)503 2025 A
2583(respectively.)S
3284(The)S
3527(server)S
(capabilities)553 3879 A
4487(can)S
4710(be)S
4879(used)S
5155(to)S
7178 V
708(obtain)S
1059(a)S
1162(channel)S
1587(to)S
1730(the)S
(corresponding)691 1927 A
2667(server.)S
3073(This)S
3337(is)S
(done)234 3467 A
3749(with)S
12 I
4013(tcpip)S
12 Y1
4255(3)S
12 I
4315(open.)S
12 R
4637(The)S
4873(channel)S
7318 V
(capability)478 708 A
1229(can)S
1440(be)S
1597(used)S
1861(to)S
1998(transfer)S
2413(data)S
2658(using)S
2962(the)S
3154(protocol)S
3601(implemented)S
4277(by)S
4441(the)S
4633(server.)S
5034(This)S
7700 V
2683(Amoeba)S
3123(5.3)S
(197)180 5069 A
7920 V
EP
%%Page: 198 204
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ip)S
822(\(L\))S
2567(Library)S
2961(Routines)S
4979(ip)S
5093(\(L\))S
860 V
708(can)S
937(typically)S
1422(be)S
(done)234 1597 A
1892(with)S
2169(the)S
12 I
2378(tcpip)S
12 Y1
2620(3)S
12 R
2751(routines)S
3202(since)S
3512(they)S
3781(are)S
3991(generic)S
4409(to)S
4564(all)S
(interfaces.)503 4746 A
1000 V
708(However)S
1218(the)S
1431(semantics)S
1974(of)S
12 I
2141(tcpip)S
12 Y1
2383(3)S
12 I
2443(read)S
12 R
2740(and)S
12 I
2980(tcpip)S
12 Y1
3222(3)S
12 I
3282(write)S
12 R
3607(vary)S
3888(slightly,)S
4347(depending)S
4915(on)S
5101(the)S
1140 V
708(protocol)S
1145(in)S
1273(use.)S
1528(The)S
1749(routines)S
2172(specific)S
2583(for)S
(each)222 2758 A
3013(protocol)S
3449(server)S
3779(and)S
3986(the)S
4167(exact)S
4456(semantics)S
4967(of)S
5101(the)S
1280 V
12 I
708(tcpip)S
12 Y1
950(3)S
12 R
1050(functions)S
1530(are)S
1709(described)S
2203(in)S
2327(the)S
(corresponding)691 2505 A
12 I
3226(ip)S
12 Y1
3320(3)S
12 R
(xxx\(L\))336 3390 A
3756(manual)S
4142(page.)S
1456 V
708(The)S
927(descriptions)S
1543(of)S
1675(the)S
1854(various)S
2242(routines)S
2664(are)S
2845(divided)S
3239(into)S
3459(categories)S
(according)477 3983 A
4492(to)S
4618(whether)S
5041(they)S
1596 V
708(are)S
892(for)S
1069(byte-order)S
(conversion)530 1609 A
2174(or)S
2310(general-purpose)S
3125(\(i.e.,)S
3379(they)S
3622(are)S
3806(used)S
4062(with)S
4313(all)S
4469(four)S
(interfaces\).)544 4705 A
1736 V
708(Before)S
1068(they)S
1306(are)S
1485(described,)S
2009(a)S
2093(brief)S
(introduction)591 2353 A
2974(to)S
3098(the)S
3276(various)S
3662(types)S
3947(is)S
4058(given.)S
2052 V
12 I
708(Types)S
1020(\(general\))S
2264 V
12 R
708(server/ip/types.h)S
2404 V
958(defines)S
12 I
1355(u8)S
12 Y1
1475(3)S
12 I
1535(t)S
12 R
1579(,)S
12 I
(u16)180 1656 A
12 Y1
1836(3)S
12 I
1896(t)S
12 R
1940(,)S
12 I
(u32)180 2018 A
12 Y1
2198(3)S
12 I
2258(t)S
12 R
2350(and)S
12 I
2572(i32)S
12 Y1
2726(3)S
12 I
2786(t)S
12 R
2878(\(and)S
12 I
3141(U8)S
12 Y1
3289(3)S
12 I
3349(t)S
12 R
3393(,)S
12 I
3471(U16)S
12 Y1
3679(3)S
12 I
3739(t)S
12 R
3783(,)S
12 I
3861(U32)S
12 Y1
4069(3)S
12 I
4129(t)S
12 R
4221(and)S
12 I
4443(I32)S
12 Y1
4604(3)S
12 I
4664(t)S
12 R
4756(for)S
4946(use)S
5155(in)S
2544 V
958(prototypes\).)S
2860 V
12 I
708(Rights)S
3036 V
12 R
708(The)S
926(following)S
1427(rights)S
1733(are)S
1912(defined)S
2305(in)S
12 I
2429(server/ip/tcpip.h)S
12 R
3236(:)S
3212 V
12 C
708(IP)S
12 Y1
854(3)S
12 C
(RIGHTS)438 914 A
12 Y1
1352(3)S
12 C
(OPEN)292 1412 A
12 R
2125(The)S
2343(right)S
2602(to)S
2726(do)S
2876(a)S
12 I
2960(tcpip)S
12 Y1
3202(3)S
12 I
3262(open)S
12 R
3536(\(this)S
3782(indicates)S
4243(a)S
4327(server)S
(capability\).)549 4654 A
3388 V
12 C
708(IP)S
12 Y1
854(3)S
12 C
(RIGHTS)438 914 A
12 Y1
1352(3)S
12 C
(RWIO)292 1412 A
12 R
2125(The)S
2343(right)S
2602(to)S
2726(do)S
2876(I/O)S
3069(\(this)S
3315(indicates)S
3776(a)S
3860(channel)S
(capability\).)549 4266 A
3564 V
12 C
708(IP)S
12 Y1
854(3)S
12 C
(RIGHTS)438 914 A
12 Y1
1352(3)S
12 C
(DESTROY)511 1412 A
12 R
2125(The)S
2343(right)S
2602(to)S
2726(destroy)S
3112(a)S
(connection.)560 3196 A
3740 V
12 C
708(IP)S
12 Y1
854(3)S
12 C
(RIGHTS)438 914 A
12 Y1
1352(3)S
12 C
(LINGER)438 1412 A
12 R
2125(The)S
2346(right)S
2608(keeps)S
2916(the)S
3097(server)S
3427(from)S
3697(destroying)S
4241(the)S
(connection)530 4423 A
4987(when)S
3880 V
2125(it)S
2223(is)S
2334(not)S
2518(used)S
2769(for)S
2971(some)S
3256(time.)S
4056 V
12 C
708(IP)S
12 Y1
854(3)S
12 C
(RIGHTS)438 914 A
12 Y1
1352(3)S
12 C
(SUPER)365 1412 A
12 R
2125(The)S
2343(right)S
2602(to)S
2726(get)S
2904(existing)S
(capabilities)553 3317 A
3900(\(using)S
12 I
4232(tcpip)S
12 Y1
4474(3)S
12 I
4534(mkcap)S
12 R
4860(\).)S
4372 V
12 I
708(Byte)S
954(Order)S
1280(Conversion)S
4688 V
708(htons,)S
1029(htonl,)S
1337(ntohs,)S
1658(ntohl)S
4924 V
11 C
(u16)201 1068 A
11 Y1
1269(3)S
11 C
1324(t)S
5064 V
(htons\(host)670 1068 A
11 Y1
1738(3)S
11 C
(word\))335 1793 A
5204 V
(u16)201 1068 A
11 Y1
1269(3)S
11 C
1324(t)S
(host)268 1458 A
11 Y1
1726(3)S
11 C
(word;)335 1781 A
5484 V
(u32)201 1068 A
11 Y1
1269(3)S
11 C
1324(t)S
5624 V
(htonl\(host)670 1068 A
11 Y1
1738(3)S
11 C
(dword\))402 1793 A
5764 V
(u32)201 1068 A
11 Y1
1269(3)S
11 C
1324(t)S
(host)268 1458 A
11 Y1
1726(3)S
11 C
(dword;)402 1781 A
6044 V
(u16)201 1068 A
11 Y1
1269(3)S
11 C
1324(t)S
6184 V
(ntohs\(network)871 1068 A
11 Y1
1939(3)S
11 C
(word\))335 1994 A
6324 V
(u16)201 1068 A
11 Y1
1269(3)S
11 C
1324(t)S
(network)469 1458 A
11 Y1
1927(3)S
11 C
(word;)335 1982 A
6604 V
(u32)201 1068 A
11 Y1
1269(3)S
11 C
1324(t)S
6744 V
(ntohl\(network)871 1068 A
11 Y1
1939(3)S
11 C
(word\))335 1994 A
6884 V
(u32)201 1068 A
11 Y1
1269(3)S
11 C
1324(t)S
(network)469 1458 A
11 Y1
1927(3)S
11 C
(word;)335 1982 A
7084 V
12 R
708(These)S
1027(macros)S
(convert)363 1407 A
1800(16-bit)S
2120(and)S
2325(32-bit)S
(quantities)471 2645 A
3147(to)S
3272(and)S
3477(from)S
3744(the)S
3923(network)S
4351(byte)S
4590(order)S
4877(used)S
5129(by)S
7224 V
708(the)S
896(TCP/IP)S
1299(protocols.)S
1849(The)S
2077(function)S
2520(of)S
2661(the)S
2849(macros)S
3239(is)S
3360(encoded)S
3802(in)S
3936(their)S
4199(name.)S
12 I
4561(H)S
12 R
4699(means)S
5048(host)S
7700 V
(198)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 199 205
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ip)S
822(\(L\))S
2567(Library)S
2961(Routines)S
4979(ip)S
5093(\(L\))S
860 V
708(byte)S
966(order,)S
12 I
1302(n)S
12 R
1422(means)S
1781(network)S
2228(byte)S
2486(order,)S
12 I
2822(s)S
12 R
2929(means)S
3288(a)S
3392(16-bit)S
(quantity)396 3731 A
4177(and)S
12 I
4401(l)S
12 R
4495(means)S
4855(a)S
4960(32-bit)S
1000 V
(quantity.)426 708 A
1203(Thus)S
12 I
1483(htons)S
12 R
(converts)410 1793 A
2242(a)S
2335(16-bit)S
(quantity)396 2663 A
3097(from)S
3371(host)S
3610(byte)S
3856(order)S
4150(to)S
4282(network)S
4717(byte)S
4963(order.)S
1140 V
708(The)S
929(difference)S
1455(between)S
1892(the)S
2073(lower)S
2383(case)S
2625(and)S
(upper)275 2832 A
3140(case)S
3382(variants)S
3799(is)S
3913(that)S
4129(the)S
4311(lower)S
4622(case)S
4865(variants)S
1280 V
708(evaluate)S
1162(the)S
1360(argument)S
1867(at)S
2005(most)S
2290(once)S
2568(and)S
2792(the)S
(upper)275 2990 A
3314(case)S
3572(variants)S
4005(can)S
4222(be)S
4385(used)S
4655(for)S
4846(constant)S
1420 V
708(folding.)S
1147(That)S
1399(is,)S
1620 V
11 C
(htonl\(f\(x\)\))737 1068 A
1820 V
12 R
(will)190 708 A
928(call)S
1134(f\(x\))S
1347(at)S
1465(most)S
1730(once)S
1988(and)S
2020 V
11 C
(HTONS\(0x10\))737 1068 A
2220 V
12 R
(will)190 708 A
928(be)S
1072(equivalent)S
1606(to)S
(0x10)240 1730 A
2000(on)S
2150(a)S
2234(big-endian)S
2781(machine)S
3221(and)S
(0x1000)360 3425 A
3815(on)S
3965(a)S
(little-endian)587 4049 A
4666(machine.)S
2536 V
12 I
708(General)S
1135(Functions)S
2852 V
708(oneC)S
12 Y1
962(3)S
12 I
1022(sum)S
3088 V
11 C
(u16)201 1068 A
11 Y1
1269(3)S
11 C
1324(t)S
3228 V
(oneC)268 1068 A
11 Y1
1336(3)S
11 C
(sum\(prev,)603 1391 A
(data,)335 2061 A
(size\))335 2463 A
3368 V
(u16)201 1068 A
11 Y1
1269(3)S
11 C
1324(t)S
(prev;)335 1458 A
3508 V
(u16)201 1068 A
11 Y1
1269(3)S
11 C
1324(t)S
(*data;)402 1458 A
3648 V
(size)268 1068 A
11 Y1
1336(3)S
11 C
1391(t)S
(size;)335 1525 A
3848 V
12 I
708(OneC)S
12 Y1
990(3)S
12 I
1050(sum)S
12 R
1312(is)S
1450(used)S
1728(to)S
1879(calculate)S
2368(the)S
2573(one's)S
2892(complement)S
3547(checksum)S
4087(needed)S
4486(for)S
4686(IP)S
4852(network)S
3988 V
708(packets.)S
1161(The)S
1379(IP)S
1517(checksum)S
2030(is)S
2141(described)S
2635(in)S
(RFC-1071)508 2759 A
3297(\(Computing)S
3910(the)S
4088(Internet)S
4496(checksum\).)S
4164 V
12 I
708(One)S
12 Y1
910(3)S
12 I
970(Csum)S
12 R
1285(expects)S
1678(three)S
1951(parameters:)S
4340 V
708(prev)S
1308(The)S
1526(checksum)S
2039(of)S
2170(previous)S
2616(blocks)S
2961(of)S
3092(data)S
3324(that)S
3536(are)S
3715(to)S
3840(be)S
3985(included)S
4432(in)S
4557(the)S
4736(checksum.)S
4480 V
1308(The)S
1526(value)S
1818(of)S
1949(prev)S
2194(in)S
2318(first)S
2545(call)S
2751(to)S
12 I
2875(oneC)S
12 Y1
3129(3)S
12 I
3189(sum)S
12 R
(should)321 3424 A
3775(be)S
3919(0.)S
4656 V
708(data)S
1308(A)S
1450(pointer)S
1847(to)S
1995(the)S
2197(block)S
2519(of)S
2674(data.)S
2990(The)S
3233(data)S
3490(is)S
3626(interpreted)S
4207(as)S
4363(a)S
4472(series)S
4804(of)S
4960(16-bit)S
4796 V
1308(numbers)S
1754(in)S
1878(network)S
2305(byte)S
2543(order,)S
2859(but)S
3043(an)S
(odd)180 3187 A
3397(number)S
3796(of)S
3927(bytes)S
4212(is)S
4323(also)S
4548(allowed.)S
4972 V
708(size)S
1308(The)S
1526(size)S
1745(of)S
1876(the)S
2054(data)S
2286(in)S
2410(bytes.)S
5288 V
12 I
708(tcpip)S
12 Y1
950(3)S
12 I
1010(why)S
5524 V
11 C
(char)268 1068 A
1403(*)S
5664 V
(tcpip)335 1068 A
11 Y1
1403(3)S
11 C
(why\(err\))536 1458 A
5804 V
(errstat)469 1068 A
(err;)268 1604 A
6004 V
12 R
708(This)S
958(routine)S
1336(returns)S
1708(a)S
1797(pointer)S
2175(to)S
2304(a)S
2393(statically)S
2867(allocated)S
3340(string)S
3652(describing)S
4192(the)S
4376(error)S
4649(code)S
12 I
4913(err)S
12 R
5071(.)S
5167(If)S
6144 V
12 I
708(err)S
12 R
898(is)S
1011(not)S
1197(one)S
1403(of)S
1536(the)S
1716(errors)S
2032(as)S
2164(described)S
2659(in)S
2784(the)S
12 I
(Diagnostics)578 2963 A
12 R
3582(section)S
3956(below)S
4283(then)S
12 I
4522(tcpip)S
12 Y1
4764(3)S
12 I
4824(why)S
12 R
(will)190 5059 A
6284 V
708(return)S
1028(the)S
1206(same)S
1485(string)S
1791(as)S
12 I
1922(err)S
12 Y1
2070(3)S
12 I
2130(why)S
12 R
2364(\(see)S
12 I
2590(error)S
12 R
2855(\(L\)\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(199)180 5069 A
7920 V
EP
%%Page: 200 206
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ip)S
822(\(L\))S
2567(Library)S
2961(Routines)S
4979(ip)S
5093(\(L\))S
860 V
12 I
708(tcpip)S
12 Y1
950(3)S
12 I
(keepalive)458 1010 A
1096 V
11 C
(errstat)469 1068 A
1236 V
(tcpip)335 1068 A
11 Y1
1403(3)S
11 C
(keepalive\(chan)938 1458 A
11 Y1
2396(3)S
11 C
(cap,)268 2451 A
(respite\))536 2786 A
1376 V
(capability)670 1068 A
(*chan)335 1805 A
11 Y1
2140(3)S
11 C
(cap;)268 2195 A
1516 V
(int)201 1068 A
(*respite;)603 1336 A
1716 V
12 I
708(Tcpip)S
12 Y1
983(3)S
12 I
(keepalive)458 1043 A
12 R
1573(makes)S
1944(sure)S
2208(that)S
2452(a)S
2568(channel)S
(capability)478 3006 A
3546(is)S
3689(not)S
3906(prematurely)S
4555(destroyed.)S
5148(In)S
1856 V
708(general)S
1126(channel)S
(capabilities)553 1563 A
2177(are)S
2387(destroyed)S
2918(when)S
3241(not)S
3456(used)S
3738(for)S
3941(a)S
4056(while.)S
12 I
4446(Tcpip)S
12 Y1
4721(3)S
12 I
(keepalive)458 4781 A
1996 V
12 R
708(returns)S
1080(the)S
1263(destruction)S
1836(timeout)S
2241(in)S
12 I
2370(respite.)S
12 R
2775(It)S
2885(is)S
3001(sufficient)S
3495(to)S
3624(call)S
12 I
3835(tcpip)S
12 Y1
4077(3)S
12 I
(keepalive)458 4137 A
12 R
4641(again)S
4939(within)S
2136 V
12 I
708(respite)S
12 R
(milliseconds)612 1078 A
1720(to)S
1844(prevent)S
2237(the)S
2415(channel)S
2821(from)S
3087(being)S
3385(destroyed.)S
2312 V
708(See)S
913(also)S
12 I
1138(tcpip)S
12 Y1
1380(3)S
12 I
(keepalive)458 1440 A
12 Y1
1898(3)S
12 I
1958(cap)S
12 R
2142(.)S
2628 V
12 I
708(tcpip)S
12 Y1
950(3)S
12 I
(keepalive)458 1010 A
12 Y1
1468(3)S
12 I
1528(cap)S
2864 V
11 C
(errstat)469 1068 A
3004 V
(tcpip)335 1068 A
11 Y1
1403(3)S
11 C
(keepalive)603 1458 A
11 Y1
2061(3)S
11 C
(cap\(cap\))536 2116 A
3144 V
(capability)670 1068 A
(*cap;)335 1805 A
3344 V
12 I
708(Tcpip)S
12 Y1
983(3)S
12 I
(keepalive)458 1043 A
12 Y1
1501(3)S
12 I
1561(cap)S
12 R
1784(provides)S
2239(a)S
2332(more)S
(convenient)530 2620 A
(interface)426 3189 A
3654(to)S
12 I
3787(tcpip)S
12 Y1
4029(3)S
12 I
(keepalive)458 4089 A
12 R
4557(.)S
4657(Each)S
4939(time)S
5195(a)S
3484 V
708(new)S
1031(TCP/IP)S
(capability)478 1515 A
2114(is)S
2316(created,)S
2818(it)S
3007(can)S
3296(be)S
3531(handed)S
4000(to)S
12 I
4215(tcpip)S
12 Y1
4457(3)S
12 I
(keepalive)458 4517 A
12 Y1
4975(3)S
12 I
5035(cap)S
12 R
5219(.)S
3624 V
12 I
708(Tcpip)S
12 Y1
983(3)S
12 I
(keepalive)458 1043 A
12 Y1
1501(3)S
12 I
1561(cap)S
12 R
(will)190 1852 A
2149(keep)S
2484(the)S
(capability)478 2739 A
3325(alive)S
(until)222 3669 A
3999(it)S
4175(is)S
4364(either)S
4749(destroyed,)S
3764 V
12 I
708(tcpip)S
12 Y1
950(3)S
12 I
(unkeepalive)578 1010 A
12 Y1
1588(3)S
12 I
1648(cap)S
12 R
1888(is)S
2025(called)S
2371(for)S
2569(that)S
(capability,)508 2807 A
3370(or)S
3526(the)S
3729(program)S
4194(exits.)S
4538(The)S
4781(first)S
5033(time)S
3904 V
12 I
708(tcpip)S
12 Y1
950(3)S
12 I
(keepalive)458 1010 A
12 Y1
1468(3)S
12 I
1528(cap)S
12 R
1750(is)S
1869(called,)S
2227(it)S
2333(creates)S
2709(a)S
2801(separate)S
3237(thread)S
3579(to)S
3712(manage)S
4127(all)S
4288(the)S
(capabilities)553 4475 A
5067(that)S
4044 V
(should)321 708 A
1059(be)S
1203(kept)S
1441(alive.)S
4360 V
12 I
708(tcpip)S
12 Y1
950(3)S
12 I
(unkeepalive)578 1010 A
12 Y1
1588(3)S
12 I
1648(cap)S
4596 V
11 C
(errstat)469 1068 A
4736 V
(tcpip)335 1068 A
11 Y1
1403(3)S
11 C
(unkeepalive)737 1458 A
11 Y1
2195(3)S
11 C
(cap\(cap\))536 2250 A
4876 V
(capability)670 1068 A
(*cap;)335 1805 A
5076 V
12 I
708(Tcpip)S
12 Y1
983(3)S
12 I
(unkeepalive)578 1043 A
12 Y1
1621(3)S
12 I
1681(cap)S
12 R
1909(removes)S
2363(the)S
(capability)478 2555 A
12 I
3077(cap)S
12 R
3295(from)S
3575(the)S
3767(list)S
3960(of)S
(capabilities)553 4105 A
4702(that)S
(should)321 4928 A
5216 V
(receive)351 708 A
1101(a)S
12 I
1197(tcpip)S
12 Y1
1439(3)S
12 I
(keepalive)458 1499 A
12 R
1957(.)S
2059(Normally)S
2566(the)S
2756(IP)S
2906(server)S
(will)190 3245 A
3477(destroy)S
3875(that)S
(capability)478 4099 A
4619(after)S
4884(a)S
4979(while)S
5356 V
708(unless)S
1040(some)S
1325(other)S
1604(process)S
1997(keeps)S
2302(the)S
(capability)478 2480 A
2988(alive.)S
5672 V
12 I
708(tcpip)S
12 Y1
950(3)S
12 I
1010(mkcap)S
5908 V
11 C
(errstat)469 1068 A
6048 V
(tcpip)335 1068 A
11 Y1
1403(3)S
11 C
(mkcap\(tcpip)737 1458 A
11 Y1
2195(3)S
11 C
(cap,)268 2250 A
(obj,)268 2585 A
(cap\))268 2920 A
6188 V
(capability)670 1068 A
(*tcpip)402 1805 A
11 Y1
2207(3)S
11 C
(cap;)268 2262 A
6328 V
(objnum)402 1068 A
(obj;)268 1537 A
6468 V
(capability)670 1068 A
(*cap;)335 1805 A
6668 V
12 R
708(A)S
830(channel)S
(capability)478 1240 A
1752(can)S
1954(be)S
2102(lost,)S
2341(or)S
2476(can)S
2678(be)S
2826(kept)S
3068(inside)S
3391(a)S
3479(process.)S
12 I
3937(Tcpip)S
12 Y1
4212(3)S
12 I
4272(mkcap)S
12 R
4633(recreates)S
5101(the)S
6808 V
(capability)478 708 A
1235(which)S
1579(has)S
1788(object)S
2132(number)S
12 I
2549(obj)S
12 R
2713(.)S
2821(This)S
3084(provides)S
3548(a)S
3650(way)S
3900(to)S
4042(obtain)S
4392(an)S
4554(otherwise)S
5074(lost)S
6948 V
(capability.)508 708 A
1298(To)S
1484(work)S
1785(out)S
1991(the)S
2191(object)S
2540(number)S
2962(of)S
3116(a)S
3223(particular)S
3742(channel)S
4171(use)S
4385(the)S
12 I
4586(std)S
12 Y1
4727(3)S
12 I
4787(status)S
12 R
5079(\(U\))S
7088 V
708(command.)S
7700 V
(200)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 201 207
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ip)S
822(\(L\))S
2567(Library)S
2961(Routines)S
4979(ip)S
5093(\(L\))S
860 V
12 I
708(tcpip)S
12 Y1
950(3)S
12 I
1010(open)S
1096 V
11 C
(errstat)469 1068 A
1236 V
(tcpip)335 1068 A
11 Y1
1403(3)S
11 C
(open\(tcpip)670 1458 A
11 Y1
2128(3)S
11 C
(cap,)268 2183 A
(chan)268 2518 A
11 Y1
2786(3)S
11 C
(cap\))268 2841 A
1376 V
(capability)670 1068 A
(*tcpip)402 1805 A
11 Y1
2207(3)S
11 C
(cap;)268 2262 A
1516 V
(capability)670 1068 A
(*chan)335 1805 A
11 Y1
2140(3)S
11 C
(cap;)268 2195 A
1716 V
12 I
708(Tcpip)S
12 Y1
983(3)S
12 I
1043(open)S
12 R
1323(creates)S
1697(a)S
1787(new)S
2025(channel)S
2437(for)S
2616(a)S
2707(server)S
(capability.)508 3041 A
3616(A)S
3741(pointer)S
4121(to)S
4252(the)S
4437(server)S
(capability)478 4771 A
1856 V
708(must)S
983(be)S
1137(passed)S
1499(via)S
1686(the)S
1873(first)S
2109(argument)S
2605(and)S
2818(the)S
3005(new)S
3246(channel)S
(capability)478 3661 A
4178(is)S
4298(stored)S
4633(in)S
4766(the)S
4953(object)S
1996 V
708(pointed)S
1100(to)S
1224(by)S
1374(be)S
1518(the)S
(second)335 1696 A
2061(argument.)S
2312 V
12 I
708(tcpip)S
12 Y1
950(3)S
12 I
1010(read)S
2548 V
11 C
(errstat)469 1068 A
2688 V
(tcpip)335 1068 A
11 Y1
1403(3)S
11 C
(read\(chan)603 1458 A
11 Y1
2061(3)S
11 C
(cap,)268 2116 A
(buffer,)469 2451 A
(bytes\))402 2987 A
2828 V
(capability)670 1068 A
(*chan)335 1805 A
11 Y1
2140(3)S
11 C
(cap;)268 2195 A
2968 V
(char)268 1068 A
(*buffer;)536 1403 A
3108 V
(size)268 1068 A
11 Y1
1336(3)S
11 C
1391(t)S
(bytes;)402 1525 A
3308 V
12 I
708(Tcpip)S
12 Y1
983(3)S
12 I
1043(read)S
12 R
1308(transfers)S
1761(data)S
1997(from)S
2267(the)S
2449(TCP/IP)S
2846(server)S
3177(to)S
3306(the)S
3489(client.)S
3854(The)S
4077(call)S
4288(blocks)S
(until)222 4638 A
(enough)354 4895 A
3448 V
708(data)S
947(is)S
1065(available.)S
1600(The)S
1825(semantics)S
2340(of)S
12 I
2478(tcpip)S
12 Y1
2720(3)S
12 I
2780(read)S
12 R
3048(are)S
3234(different)S
3690(for)S
(each)222 3869 A
4128(of)S
4266(the)S
4450(servers.)S
4890(See)S
5101(the)S
3588 V
12 I
708(tcpip)S
12 Y1
950(3)S
12 I
1010(read)S
12 R
1271(section)S
1644(in)S
1768(the)S
12 I
1946(ip)S
12 Y1
2040(3)S
12 R
(xxx\(L\))336 2110 A
2476(manual)S
2862(pages)S
3167(for)S
3339(the)S
3517(exact)S
3803(semantics.)S
3904 V
12 I
708(tcpip)S
12 Y1
950(3)S
12 I
1010(write)S
4140 V
11 C
(errstat)469 1068 A
4280 V
(tcpip)335 1068 A
11 Y1
1403(3)S
11 C
(write\(chan)670 1458 A
11 Y1
2128(3)S
11 C
(cap,)268 2183 A
(buffer,)469 2518 A
(bytes\))402 3054 A
4420 V
(capability)670 1068 A
(*chan)335 1805 A
11 Y1
2140(3)S
11 C
(cap;)268 2195 A
4560 V
(char)268 1068 A
(*buffer;)536 1403 A
4700 V
(size)268 1068 A
11 Y1
1336(3)S
11 C
1391(t)S
(bytes;)402 1525 A
4900 V
12 I
708(Tcpip)S
12 Y1
983(3)S
12 I
1043(write)S
12 R
1334(transfers)S
1785(data)S
2019(from)S
2287(the)S
2467(client)S
2769(to)S
2895(the)S
3076(TCP/IP)S
3472(server.)S
3862(The)S
4083(call)S
4292(blocks)S
(until)222 4640 A
(enough)354 4895 A
5040 V
708(buffer)S
(space)269 1042 A
1348(is)S
1466(available.)S
2001(The)S
2226(semantics)S
2741(of)S
12 I
2879(tcpip)S
12 Y1
3121(3)S
12 I
3181(write)S
12 R
3477(are)S
3663(different)S
4118(for)S
(each)222 4296 A
4554(of)S
4691(the)S
4875(servers.)S
5180 V
708(See)S
913(the)S
12 I
1091(tcpip)S
12 Y1
1333(3)S
12 I
1393(write)S
12 R
1682(section)S
2055(in)S
2179(the)S
12 I
2357(ip)S
12 Y1
2451(3)S
12 R
(xxx\(L\))336 2521 A
2887(manual)S
3273(pages)S
3578(for)S
3750(the)S
3928(exact)S
4214(semantics.)S
5496 V
12 I
(Diagnostics)578 708 A
5672 V
12 R
708(The)S
1002(TCP/IP)S
1472(server)S
(introduces)504 1876 A
2487(several)S
2938(new)S
3247(error)S
3591(codes.)S
4033(These)S
4429(are)S
4685(defined)S
5155(in)S
5812 V
12 I
708(server/ip/tcpip.h)S
12 R
1515(.)S
5988 V
12 C
(TCPIP)365 708 A
12 Y1
1073(3)S
12 C
(PACKSIZE)584 1133 A
12 R
2125(This)S
2432(indicates)S
2955(an)S
3161(attempt)S
3617(to)S
3804(read)S
4106(\()S
12 I
4147(tcpip)S
12 Y1
4389(3)S
12 I
4449(read)S
12 R
4670(\))S
4804(or)S
4998(write)S
6128 V
2125(\()S
12 I
2166(tcpip)S
12 Y1
2408(3)S
12 I
2468(write)S
12 R
2717(\))S
2788(with)S
3034(a)S
3118(buffer)S
3445(that)S
3657(is)S
3768(too)S
3952(large)S
4225(or)S
4356(too)S
4540(small.)S
6304 V
12 C
(TCPIP)365 708 A
12 Y1
1073(3)S
12 C
(OUTOFBUFS)657 1133 A
12 R
2125(The)S
2381(TCP/IP)S
2812(server)S
3177(has)S
3406(insufficient)S
4027(memory)S
4499(to)S
4662(execute)S
5101(the)S
6444 V
2125(request.)S
6620 V
12 C
(TCPIP)365 708 A
12 Y1
1073(3)S
12 C
(BADIOCTL)584 1133 A
12 R
2125(This)S
2383(indicates)S
2857(an)S
3014(attempt)S
3421(to)S
3559(execute)S
3973(a)S
4071(command)S
4591(the)S
4783(particular)S
6760 V
2125(server)S
2460(does)S
2719(not)S
(understand.)560 2910 A
3537(For)S
3742(example,)S
4219(a)S
12 I
4310(tcp)S
12 Y1
4458(3)S
12 I
4518(ioc)S
12 Y1
4666(3)S
12 I
4726(getconf)S
12 R
5129(on)S
6900 V
2125(an)S
2269(ETH)S
2535(channel.)S
7076 V
12 C
(TCPIP)365 708 A
12 Y1
1073(3)S
12 C
(BADMODE)511 1133 A
12 R
2125(The)S
2387(request)S
2811(was)S
3074(refused)S
(because)383 3505 A
3962(the)S
4184(channel)S
4635(is)S
4791(not)S
5020(fully)S
7216 V
2125(configured,)S
2709(in)S
2833(the)S
(wrong)309 3011 A
3350(state)S
3603(or)S
3734(the)S
3912(parameters)S
4475(are)S
4654(invalid.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(201)180 5069 A
7920 V
EP
%%Page: 202 208
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ip)S
822(\(L\))S
2567(Library)S
2961(Routines)S
4979(ip)S
5093(\(L\))S
860 V
12 C
(TCPIP)365 708 A
12 Y1
1073(3)S
12 C
(BADDEST)511 1133 A
12 R
2125(This)S
2370(indicates)S
2831(an)S
(illegal)304 2975 A
3309(destination)S
3870(address)S
4263(for)S
4435(a)S
4519(packet.)S
1036 V
12 C
(TCPIP)365 708 A
12 Y1
1073(3)S
12 C
(DSTNORCH)584 1133 A
12 R
2125(The)S
2343(destination)S
2904(was)S
3123(not)S
(reachable.)495 3307 A
1212 V
12 C
(TCPIP)365 708 A
12 Y1
1073(3)S
12 C
(ISCONN)438 1133 A
12 R
2125(The)S
2343(channel)S
2749(is)S
2860(already)S
(connected)490 3247 A
3767(so)S
3904(a)S
(second)335 3988 A
4353(request)S
4733(is)S
4844(refused.)S
1388 V
12 C
(TCPIP)365 708 A
12 Y1
1073(3)S
12 C
(ADDRINUSE)657 1133 A
12 R
2125(This)S
2370(address)S
2763(is)S
2874(in)S
2998(use.)S
1564 V
12 C
(TCPIP)365 708 A
12 Y1
1073(3)S
12 C
(CONNREFUSED)803 1133 A
12 R
2125(The)S
(connection)530 2343 A
2903(was)S
3122(refused)S
3509(by)S
3659(the)S
3837(other)S
4116(side.)S
1740 V
12 C
(TCPIP)365 708 A
12 Y1
1073(3)S
12 C
(CONNRESET)657 1133 A
12 R
2125(The)S
(connection)530 2370 A
2958(was)S
3205(reset)S
(\(non-gracefully)754 3493 A
4305(terminated\))S
4923(by)S
5101(the)S
1880 V
2125(other)S
2404(side.)S
2056 V
12 C
(TCPIP)365 708 A
12 Y1
1073(3)S
12 C
(TIMEDOUT)584 1133 A
12 R
2125(The)S
(connection)530 2343 A
2903(was)S
3122(terminated)S
3671(due)S
3875(to)S
3999(an)S
4143(expired)S
4536(timer.)S
2232 V
12 C
(TCPIP)365 708 A
12 Y1
1073(3)S
12 C
(URG)219 1133 A
12 R
2125(Urgent)S
2511(data)S
2762(is)S
2892(present)S
3291(and)S
3514(the)S
3711(current)S
(receive)351 4105 A
4506(mode)S
4824(does)S
5095(not)S
2372 V
2125(allow)S
2425(urgent)S
2764(data)S
2996(to)S
3120(be)S
3264(transferred.)S
2548 V
12 C
(TCPIP)365 708 A
12 Y1
1073(3)S
12 C
(NOURG)365 1133 A
12 R
2125(No)S
2303(urgent)S
2642(data)S
2874(is)S
2985(present)S
3365(and)S
3569(a)S
3653(request)S
4033(came)S
4319(for)S
4491(urgent)S
4830(data.)S
2724 V
12 C
(TCPIP)365 708 A
12 Y1
1073(3)S
12 C
(NOTCONN)511 1133 A
12 R
2125(The)S
2347(request)S
2731(requires)S
3156(a)S
(connected)490 3244 A
3768(channel)S
4178(and)S
4386(the)S
4568(channel)S
4979(is)S
5095(not)S
2864 V
(connected.)520 2125 A
3040 V
12 C
(TCPIP)365 708 A
12 Y1
1073(3)S
12 C
(SHUTDOWN)584 1133 A
12 R
2125(The)S
(connection)530 2344 A
2905(was)S
3125(shutdown.)S
3686(That)S
3940(is,)S
4083(a)S
12 I
4169(tcp)S
12 Y1
4317(3)S
12 I
4377(ioc)S
12 Y1
4525(3)S
12 I
4585(shutdown)S
12 R
5088(has)S
3180 V
2125(been)S
2383(executed)S
2843(so)S
2980(no)S
3130(more)S
3409(data)S
3641(can)S
3839(be)S
(transmitted.)576 3983 A
3356 V
12 C
(TCPIP)365 708 A
12 Y1
1073(3)S
12 C
(NOCONN)438 1133 A
12 R
2125(The)S
(connection)530 2343 A
2903(does)S
3154(not)S
3338(exist.)S
3532 V
12 C
(TCPIP)365 708 A
12 Y1
1073(3)S
12 C
(ERROR)365 1133 A
12 R
2125(A)S
2243(generic)S
2630(error)S
2897(code)S
3155(for)S
3327(extremely)S
3842(weird)S
4149(cases.)S
3812 V
12 B
708(See)S
913(Also)S
3988 V
12 R
708(error\(L\),)S
1161(ip)S
12 Y1
1255(3)S
12 R
1315(eth\(L\),)S
1679(ip)S
12 Y1
1773(3)S
12 R
1833(ip\(L\),)S
2143(ip)S
12 Y1
2237(3)S
12 R
2297(tcp\(L\),)S
2661(ip)S
12 Y1
2755(3)S
12 R
(udp\(L\),)366 2815 A
3211(ipsvr\(A\).)S
7700 V
(202)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 203 209
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ip)S
12 Y1
802(3)S
12 R
862(eth)S
1030(\(L\))S
2567(Library)S
2961(Routines)S
4771(ip)S
12 Y1
4865(3)S
12 R
4925(eth)S
5093(\(L\))S
860 V
2350(\(in)S
2515(libraries:)S
2978(libamoeba.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(ip)S
12 Y1
802(3)S
12 R
862(eth)S
12 R-1
1040(-)S
12 R
1168(Internet)S
1576(Protocol)S
2016(server's)S
2431(Ethernet)S
2872(client)S
(interface)426 3172 A
3628(stubs)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("server/ip/eth)938 1311 A
11 Y1
2249(3)S
11 C
(io.h")335 2304 A
2182 V
(#include)536 708 A
("server/ip/types.h")1273 1311 A
2322 V
(#include)536 708 A
("server/ip/gen/ether.h")1541 1311 A
2462 V
(#include)536 708 A
("server/ip/gen/eth)1206 1311 A
11 Y1
2517(3)S
11 C
(io.h")335 2572 A
2742 V
(errstat)469 708 A
(eth)201 1244 A
11 Y1
1445(3)S
11 C
(ioc)201 1500 A
11 Y1
1701(3)S
11 C
(getstat\(chan)804 1756 A
11 Y1
2560(3)S
11 C
(cap,)268 2615 A
(ethstat\))536 2950 A
2882 V
(errstat)469 708 A
(eth)201 1244 A
11 Y1
1445(3)S
11 C
(ioc)201 1500 A
11 Y1
1701(3)S
11 C
(getopt\(chan)737 1756 A
11 Y1
2493(3)S
11 C
(cap,)268 2548 A
(ethopt\))469 2883 A
3022 V
(errstat)469 708 A
(eth)201 1244 A
11 Y1
1445(3)S
11 C
(ioc)201 1500 A
11 Y1
1701(3)S
11 C
(setopt\(chan)737 1756 A
11 Y1
2493(3)S
11 C
(cap,)268 2548 A
(ethopt\))469 2883 A
3362 V
12 B
708(Description)S
3538 V
12 R
708(The)S
966(Internet)S
1414(Protocol)S
1894(\(IP\))S
2154(server)S
2521(implements)S
3156(four)S
3429(network)S
3897(protocols,)S
4448(as)S
4620(described)S
5155(in)S
3678 V
12 I
708(ipsvr)S
12 R
960(\(A\).)S
1224(The)S
1445(routines)S
1868(described)S
2365(below)S
2694(give)S
(access)310 2935 A
3278(to)S
3405(the)S
3586(Ethernet)S
4030(protocol)S
4466(of)S
4600(the)S
4781(IP)S
4922(server.)S
3818 V
708(This)S
961(allows)S
1316(reading)S
1717(and)S
(writing)351 1929 A
2318(of)S
2457(raw)S
2678(Ethernet)S
3127(packets.)S
(Access)344 3588 A
3970(to)S
4103(this)S
4317(service)S
4700(is)S
4820(provided)S
3958 V
708(using)S
1026(two)S
1265(types)S
1577(of)S
(capabilities:)587 1735 A
2379(a)S
2490(server)S
(capability)478 2843 A
3377(and)S
3607(channel)S
(capabilities.)583 4039 A
4708(The)S
4952(server)S
4098 V
(capability)478 708 A
1228(is)S
1351(called)S
12 I
1683(eth)S
12 R
1841(.)S
1944(It)S
2062(is)S
2186(used)S
2450(to)S
2587(obtain)S
2932(a)S
3029(channel)S
3448(to)S
3585(the)S
(corresponding)691 3776 A
4510(server.)S
4910(This)S
5168(is)S
4238 V
(done)234 708 A
979(with)S
12 I
1232(tcpip)S
12 Y1
1474(3)S
12 I
1534(open)S
12 R
1815(\(see)S
12 I
2048(ip)S
12 R
2152(\(L\)\).)S
2446(The)S
2671(channel)S
(capability)478 3084 A
3599(can)S
3804(be)S
3955(used)S
4212(to)S
4342(transfer)S
4750(data)S
4988(using)S
4378 V
708(the)S
897(protocol)S
1341(implemented)S
2014(by)S
2175(the)S
2364(server.)S
2762(This)S
3018(is)S
3140(also)S
(done)234 3377 A
3653(with)S
3911(the)S
4101(generic)S
12 I
4500(tcpip)S
12 Y1
4742(3)S
12 I
4802(read)S
12 R
5075(and)S
4518 V
12 I
708(tcpip)S
12 Y1
950(3)S
12 I
1010(write)S
12 R
1315(routines.)S
1811(Since)S
2125(their)S
2393(semantics)S
2916(vary)S
3176(slightly)S
3584(depending)S
4131(on)S
4296(channel)S
4717(type,)S
5000(these)S
4658 V
708(routines)S
1137(are)S
1325(described)S
1828(briefly)S
2191(below.)S
2586(The)S
12 I
2813(eth)S
12 Y1
2961(3)S
12 I
3021(ioc)S
12 Y1
3169(3)S
12 R
3278(routines)S
3707(are)S
3895(used)S
4156(to)S
4290(manage)S
4706(the)S
4894(options)S
4798 V
708(and)S
912(status)S
1218(of)S
1349(the)S
1527(ETH)S
1793(channel.)S
4974 V
708(Before)S
1083(they)S
1336(are)S
1530(described,)S
2069(a)S
2168(brief)S
(introduction)591 2443 A
3079(to)S
3219(the)S
3413(various)S
3815(types)S
4116(is)S
4243(given.)S
4617(The)S
4851(general-)S
5114 V
708(purpose)S
1120(types)S
1405(and)S
1609(rights)S
1915(in)S
2039(the)S
(capabilities)553 2217 A
2800(are)S
2979(described)S
3473(in)S
12 I
3597(ip)S
12 R
3701(\(L\).)S
5430 V
12 I
708(Eth)S
906(Types)S
5642 V
12 R
708(server/ip/gen/ether.h)S
5782 V
958(defines)S
1373(struct)S
1708(ether)S
12 Y1
1951(3)S
12 R
2011(addr)S
2291(\()S
12 I
2332(ether)S
12 Y1
2581(3)S
12 I
(addr)227 2641 A
12 Y1
2868(3)S
12 I
2928(t)S
12 R
2962(\),)S
12 I
3098(ether)S
12 Y1
3347(3)S
12 I
3407(type)S
12 Y1
3609(3)S
12 I
3669(t)S
12 R
3779(and)S
12 I
4019(Ether)S
12 Y1
4288(3)S
12 I
4348(type)S
12 Y1
4550(3)S
12 I
4610(t)S
12 R
4720(for)S
4928(use)S
5155(in)S
5922 V
958(prototypes.)S
6098 V
708(server/ip/gen/eth)S
12 Y1
1523(3)S
12 R
1583(io.h)S
6238 V
958(defines)S
1338(struct)S
1638(nwio)S
12 Y1
1880(3)S
12 R
(ethopt)302 1940 A
2272(\()S
12 I
2313(nwio)S
12 Y1
2547(3)S
12 I
(ethopt)302 2607 A
12 Y1
2909(3)S
12 I
2969(t)S
12 R
3003(\))S
3074(and)S
3278(struct)S
3578(nwio)S
12 Y1
3820(3)S
12 R
3880(ethstat)S
4227(\()S
12 I
4268(nwio)S
12 Y1
4502(3)S
12 I
4562(ethstat)S
12 Y1
4885(3)S
12 I
4945(t)S
12 R
4979(\))S
6414 V
708(server/ip/gen/eth)S
12 Y1
1523(3)S
12 R
1583(hdr.h)S
6554 V
958(defines)S
1338(struct)S
1638(eth)S
12 Y1
1786(3)S
12 R
1846(hdr)S
2037(\()S
12 I
2078(eth)S
12 Y1
2226(3)S
12 I
2286(hdr)S
12 Y1
2453(3)S
12 I
2513(t)S
12 R
2547(\))S
7700 V
2683(Amoeba)S
3123(5.3)S
(203)180 5069 A
7920 V
EP
%%Page: 204 210
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ip)S
12 Y1
802(3)S
12 R
862(eth)S
1030(\(L\))S
2567(Library)S
2961(Routines)S
4771(ip)S
12 Y1
4865(3)S
12 R
4925(eth)S
5093(\(L\))S
860 V
12 I
708(General)S
1135(Functions)S
1176 V
708(tcpip)S
12 Y1
950(3)S
12 I
1010(read)S
1412 V
11 C
(errstat)469 1068 A
1552 V
(tcpip)335 1068 A
11 Y1
1403(3)S
11 C
(read\(chan)603 1458 A
11 Y1
2061(3)S
11 C
(cap,)268 2116 A
(buffer,)469 2451 A
(nbytes\))469 2987 A
1692 V
(capability)670 1068 A
(*chan)335 1805 A
11 Y1
2140(3)S
11 C
(cap;)268 2195 A
1832 V
(char)268 1068 A
(*buffer;)536 1403 A
1972 V
(size)268 1068 A
11 Y1
1336(3)S
11 C
1391(t)S
(nbytes;)469 1525 A
2172 V
12 I
708(Tcpip)S
12 Y1
983(3)S
12 I
1043(read)S
12 R
1317(transfers)S
1779(Ethernet)S
2233(packets)S
2640(from)S
2920(the)S
3112(Ethernet)S
3567(channel)S
3987(specified)S
4469(by)S
12 I
(chan)234 4633 A
12 Y1
4867(3)S
12 I
4927(cap)S
12 R
5155(to)S
2312 V
708(the)S
907(client.)S
1288(The)S
1527(data)S
1780(is)S
1912(returned)S
2367(in)S
12 I
2512(buffer)S
12 R
2862(which)S
3209(has)S
3421(size)S
12 I
3661(nbytes)S
12 R
3980(.)S
4091(The)S
4330(call)S
4557(blocks)S
(until)222 4923 A
5195(a)S
2452 V
708(packet)S
1071(is)S
1200(available.)S
1746(If)S
(successful)498 1876 A
2422(it)S
2538(returns)S
2923(the)S
3119(number)S
3536(of)S
3685(bytes)S
3988(read.)S
4305(If)S
(unsuccessful)618 4435 A
5101(the)S
2592 V
708(function)S
1147(returns)S
1520(an)S
1670(error)S
1943(status.)S
2315(It)S
2426(is)S
2543(possible)S
2975(to)S
3105(read)S
3350(just)S
3561(the)S
3745(data)S
3983(of)S
4120(the)S
4304(Ethernet)S
4750(packets)S
5148(or)S
2732 V
708(both)S
952(the)S
1130(header)S
1483(and)S
1687(the)S
1865(data.)S
2157(See)S
12 I
2362(eth)S
12 Y1
2510(3)S
12 I
2570(ioc)S
12 Y1
2718(3)S
12 I
2778(setopt)S
12 R
3107(below)S
3433(for)S
3605(details.)S
2908 V
708(Only)S
980(reads)S
1266(with)S
1512(a)S
1596(buffer)S
1923(size)S
2142(greater)S
2510(than)S
2748(or)S
2879(equal)S
3171(to)S
3295(the)S
3473(maximum)S
3993(packet)S
4339(size)S
4558(are)S
4737(allowed.)S
3204 V
708(Error)S
(Conditions:)563 995 A
3344 V
1062(See)S
12 I
1267(ip)S
12 R
1371(\(L\))S
1557(for)S
1729(a)S
1813(description)S
2381(of)S
2512(the)S
12 C
(TCPIP)365 2690 A
12 Y1
3055(3)S
12 R
3145(error)S
3412(codes.)S
3484 V
12 C
(TCPIP)365 1062 A
12 Y1
1427(3)S
12 C
(BADMODE)511 1487 A
3624 V
(TCPIP)365 1062 A
12 Y1
1427(3)S
12 C
(PACKSIZE)584 1487 A
3764 V
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(INTR)292 1341 A
4140 V
12 I
708(tcpip)S
12 Y1
950(3)S
12 I
1010(write)S
4376 V
11 C
(errstat)469 1068 A
4516 V
(tcpip)335 1068 A
11 Y1
1403(3)S
11 C
(write\(chan)670 1458 A
11 Y1
2128(3)S
11 C
(cap,)268 2183 A
(buffer,)469 2518 A
(nbytes\))469 3054 A
4656 V
(capability)670 1068 A
(*chan)335 1805 A
11 Y1
2140(3)S
11 C
(cap;)268 2195 A
4796 V
(char)268 1068 A
(*buffer;)536 1403 A
4936 V
(size)268 1068 A
11 Y1
1336(3)S
11 C
1391(t)S
(nbytes;)469 1525 A
5136 V
12 I
708(Tcpip)S
12 Y1
983(3)S
12 I
1043(write)S
12 R
1350(transfers)S
1817(the)S
12 I
2013(nbytes)S
12 R
2380(of)S
2530(data)S
2781(in)S
12 I
2924(buffer)S
12 R
3272(from)S
3557(the)S
3754(client)S
4073(to)S
4216(the)S
4413(Ethernet)S
4873(channel)S
5276 V
708(specified)S
1190(by)S
12 I
(chan)234 1353 A
12 Y1
1587(3)S
12 I
1647(cap)S
12 R
1831(.)S
1934(The)S
2165(call)S
2384(blocks)S
(until)222 2742 A
(enough)354 3007 A
3404(buffer)S
(space)269 3744 A
4056(is)S
4180(available.)S
4721(The)S
4952(buffer)S
5416 V
708(must)S
978(contain)S
1369(a)S
1459(complete)S
1939(packet)S
2291(and)S
2501(be)S
2651(at)S
2775(least)S
3034(of)S
3171(minimum)S
3677(size)S
3902(\(60)S
4099(bytes\).)S
4491(On)S
(success)363 4675 A
5074(this)S
5556 V
708(function)S
1141(returns)S
1508(the)S
1686(number)S
2085(of)S
2216(bytes)S
(written.)375 2501 A
2936(On)S
3114(error)S
3381(it)S
3479(returns)S
3846(a)S
3930(negative)S
4370(error)S
4637(status.)S
5852 V
708(Error)S
(Conditions:)563 995 A
5992 V
1062(See)S
12 I
1267(ip)S
12 R
1371(\(L\))S
1557(for)S
1729(a)S
1813(description)S
2381(of)S
2512(the)S
12 C
(TCPIP)365 2690 A
12 Y1
3055(3)S
12 R
3145(error)S
3412(codes.)S
6132 V
12 C
(TCPIP)365 1062 A
12 Y1
1427(3)S
12 C
(BADMODE)511 1487 A
6272 V
(TCPIP)365 1062 A
12 Y1
1427(3)S
12 C
(PACKSIZE)584 1487 A
6412 V
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(INTR)292 1341 A
7700 V
12 R
(204)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 205 211
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ip)S
12 Y1
802(3)S
12 R
862(eth)S
1030(\(L\))S
2567(Library)S
2961(Routines)S
4771(ip)S
12 Y1
4865(3)S
12 R
4925(eth)S
5093(\(L\))S
860 V
12 I
708(ETH)S
967(Functions)S
1212 V
708(eth)S
12 Y1
856(3)S
12 I
916(ioc)S
12 Y1
1064(3)S
12 I
1124(getopt)S
1448 V
11 C
(errstat)469 1068 A
1588 V
(eth)201 1068 A
11 Y1
1269(3)S
11 C
(ioc)201 1324 A
11 Y1
1525(3)S
11 C
(getopt\(chan)737 1580 A
11 Y1
2317(3)S
11 C
(cap,)268 2372 A
(ethopt\))469 2707 A
1728 V
(capability)670 1068 A
(*chan)335 1805 A
11 Y1
2140(3)S
11 C
(cap;)268 2195 A
1868 V
(struct)402 1068 A
(nwio)268 1537 A
11 Y1
1805(3)S
11 C
(ethopt)402 1860 A
(*ethopt;)536 2329 A
2068 V
12 R
708(This)S
958(call)S
1169(returns)S
1541(in)S
12 I
(ethopt)302 1670 A
12 R
2017(the)S
2200(current)S
2579(options)S
2969(of)S
3105(an)S
3254(Ethernet)S
3700(channel)S
4111(specified)S
4585(by)S
12 I
(chan)234 4741 A
12 Y1
4975(3)S
12 I
5035(cap)S
12 R
5219(.)S
2208 V
708(See)S
12 I
913(eth)S
12 Y1
1061(3)S
12 I
1121(ioc)S
12 Y1
1269(3)S
12 I
1329(setopt)S
12 R
1658(for)S
1830(a)S
1914(description)S
2482(of)S
2613(the)S
2791(options.)S
2524 V
12 I
708(eth)S
12 Y1
856(3)S
12 I
916(ioc)S
12 Y1
1064(3)S
12 I
1124(getstat)S
2760 V
11 C
(errstat)469 1068 A
2900 V
(eth)201 1068 A
11 Y1
1269(3)S
11 C
(ioc)201 1324 A
11 Y1
1525(3)S
11 C
(getstat\(chan)804 1580 A
11 Y1
2384(3)S
11 C
(cap,)268 2439 A
(ethstat\))536 2774 A
3040 V
(capability)670 1068 A
(*chan)335 1805 A
11 Y1
2140(3)S
11 C
(cap;)268 2195 A
3180 V
(struct)402 1068 A
(nwio)268 1537 A
11 Y1
1805(3)S
11 C
(ethstat)469 1860 A
(*ethstat;)603 2396 A
3380 V
12 I
708(Eth)S
12 Y1
876(3)S
12 I
936(ioc)S
12 Y1
1084(3)S
12 I
1144(getstat)S
12 R
1516(returns)S
1892(the)S
2079(Ethernet)S
2529(address)S
2931(and)S
3145(some)S
3440(statistics)S
(about)268 3899 A
4207(the)S
4395(channel)S
4811(specified)S
3520 V
708(by)S
871(the)S
(capability)478 1062 A
12 I
(chan)234 1583 A
12 Y1
1817(3)S
12 I
1877(cap)S
12 R
2061(.)S
2164(The)S
2395(result)S
2708(is)S
2832(returned)S
3279(in)S
3416(the)S
3607(structure)S
4075(to)S
4211(which)S
12 I
4549(ethstat)S
12 R
4924(points.)S
3660 V
708(The)S
12 I
943(struct)S
1266(nwio)S
12 Y1
1500(3)S
12 I
1560(ethstat)S
12 R
1930(defined)S
2340(in)S
12 I
2482(server/ip/gen/eth)S
12 Y1
3303(3)S
12 I
3363(io.h)S
12 R
3605(is)S
3734(used)S
4003(to)S
4145(pass)S
4401(the)S
4597(configuration)S
3800 V
708(description)S
1276(to)S
1400(the)S
1578(server.)S
4000 V
11 C
(typedef)469 1068 A
(struct)402 1604 A
(nwio)268 2073 A
11 Y1
2341(3)S
11 C
(ethstat)469 2396 A
4140 V
1068({)S
4280 V
(ether)335 1604 A
11 Y1
1939(3)S
11 C
(addr)268 1994 A
11 Y1
2262(3)S
11 C
2317(t)S
(nwes)268 2451 A
11 Y1
2719(3)S
11 C
(addr;)335 2774 A
4420 V
(eth)201 1604 A
11 Y1
1805(3)S
11 C
(stat)268 1860 A
11 Y1
2128(3)S
11 C
2183(t)S
(nwes)268 2317 A
11 Y1
2585(3)S
11 C
(stat;)335 2640 A
4560 V
1068(})S
(nwio)268 1202 A
11 Y1
1470(3)S
11 C
(ethstat)469 1525 A
11 Y1
1994(3)S
11 C
2049(t;)S
7700 V
12 R
2683(Amoeba)S
3123(5.3)S
(205)180 5069 A
7920 V
EP
%%Page: 206 212
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ip)S
12 Y1
802(3)S
12 R
862(eth)S
1030(\(L\))S
2567(Library)S
2961(Routines)S
4771(ip)S
12 Y1
4865(3)S
12 R
4925(eth)S
5093(\(L\))S
920 V
11 C
(typedef)469 708 A
(struct)402 1244 A
(eth)201 1713 A
11 Y1
1914(3)S
11 C
(stat)268 1969 A
1060 V
708({)S
1200 V
(unsigned)536 976 A
(long)268 1579 A
1340 V
(ets)201 1292 A
11 Y1
1493(3)S
11 C
(recvErr,)536 1548 A
2620(/*)S
2821(#)S
(receive)469 2955 A
(errors)402 3491 A
3960(*/)S
1480 V
(ets)201 1292 A
11 Y1
1493(3)S
11 C
(sendErr,)536 1548 A
2620(/*)S
2821(#)S
(send)268 2955 A
(error)335 3290 A
3692(*/)S
1620 V
(ets)201 1292 A
11 Y1
1493(3)S
11 C
(OVW,)268 1548 A
2620(/*)S
2821(#)S
(buffer)402 2955 A
(overwrite)603 3424 A
(warnings,)603 4094 A
1760 V
(\(packets)536 2785 A
(arrive)402 3388 A
(faster)402 3857 A
(than)268 4326 A
1900 V
(can)201 2852 A
3120(be)S
(processed\))670 3321 A
4058(*/)S
2040 V
(ets)201 1292 A
11 Y1
1493(3)S
11 C
(CRCerr,)469 1548 A
2620(/*)S
2821(#)S
(crc)201 2955 A
(errors)402 3223 A
3692(of)S
(read)268 3893 A
4228(*/)S
2180 V
(ets)201 1292 A
11 Y1
1493(3)S
11 C
(frameAll,)603 1548 A
2620(/*)S
2821(#)S
(frames)402 2955 A
(not)201 3424 A
(aligned)469 3692 A
4228(\(#)S
(bits)268 4429 A
2320 V
(not)201 2785 A
3053(a)S
(multiple)536 3187 A
3790(of)S
3991(8\))S
4192(*/)S
2460 V
(ets)201 1292 A
11 Y1
1493(3)S
11 C
(missedP,)536 1548 A
2620(/*)S
2821(#)S
(packets)469 2955 A
(missed)402 3491 A
(due)201 3960 A
4228(to)S
(too)201 4429 A
2600 V
(slow)268 2785 A
(packet)402 3120 A
(processing)670 3589 A
4326(*/)S
2740 V
(ets)201 1292 A
11 Y1
1493(3)S
11 C
(packetR,)536 1548 A
2620(/*)S
2821(#)S
(packets)469 2955 A
(received)536 3491 A
4094(*/)S
2880 V
(ets)201 1292 A
11 Y1
1493(3)S
11 C
(packetT,)536 1548 A
2620(/*)S
2821(#)S
(packets)469 2955 A
(transmitted)737 3491 A
4295(*/)S
3020 V
(ets)201 1292 A
11 Y1
1493(3)S
11 C
(transDef,)603 1548 A
2620(/*)S
2821(#)S
(transmission)804 2955 A
(deferred)536 3826 A
(\(there)402 4429 A
3160 V
(was)201 2785 A
3053(a)S
(transmission)804 3187 A
4058(of)S
4259(an)S
3300 V
(other)335 2785 A
(station)469 3187 A
3723(in)S
(progress)536 3924 A
4527(*/)S
3440 V
(ets)201 1292 A
11 Y1
1493(3)S
11 C
(collision,)670 1548 A
2620(/*)S
2821(#)S
(collisions)670 2955 A
3692(*/)S
3580 V
(ets)201 1292 A
11 Y1
1493(3)S
11 C
(transAb,)536 1548 A
2620(/*)S
2821(#)S
(transmissions)871 2955 A
(aborted)469 3893 A
(due)201 4429 A
3720 V
2785(to)S
(excessive)603 2986 A
(collisions)670 3656 A
4393(*/)S
3860 V
(ets)201 1292 A
11 Y1
1493(3)S
11 C
(carrSense,)670 1548 A
2620(/*)S
2821(#)S
(carrier)469 2955 A
(sense)335 3491 A
(lost)268 3893 A
4228(*/)S
4000 V
(ets)201 1292 A
11 Y1
1493(3)S
11 C
(fifoUnder,)670 1548 A
2620(/*)S
2821(#)S
(fifo)268 2955 A
(underruns)603 3290 A
(\(processor)670 3960 A
4140 V
2785(is)S
(too)201 2986 A
(busy\))335 3254 A
3656(*/)S
4280 V
(ets)201 1292 A
11 Y1
1493(3)S
11 C
(fifoOver,)603 1548 A
2620(/*)S
2821(#)S
(fifo)268 2955 A
(overruns)536 3290 A
(\(processor)670 3893 A
4630(is)S
4420 V
(too)201 2785 A
(busy\))335 3053 A
3455(*/)S
4560 V
(ets)201 1292 A
11 Y1
1493(3)S
11 C
(CDheartbeat,)804 1548 A
2620(/*)S
2821(#)S
(times)335 2955 A
(unable)402 3357 A
3826(to)S
(transmit)536 4027 A
4700 V
(collision)603 2785 A
(signal)402 3455 A
3924(*/)S
4840 V
(ets)201 1292 A
11 Y1
1493(3)S
11 C
(OWC;)268 1548 A
2620(/*)S
2821(#)S
(times)335 2955 A
(out)201 3357 A
3625(of)S
(window)402 3826 A
4980 V
(collision)603 2785 A
3455(*/)S
5120 V
708(})S
(eth)201 842 A
11 Y1
1043(3)S
11 C
(stat)268 1098 A
11 Y1
1366(3)S
11 C
1421(t;)S
5496 V
12 I
708(eth)S
12 Y1
856(3)S
12 I
916(ioc)S
12 Y1
1064(3)S
12 I
1124(setopt)S
5732 V
11 C
(errstat)469 1068 A
5872 V
(eth)201 1068 A
11 Y1
1269(3)S
11 C
(ioc)201 1324 A
11 Y1
1525(3)S
11 C
(setopt\(chan)737 1580 A
11 Y1
2317(3)S
11 C
(cap,)268 2372 A
(ethopt\))469 2707 A
6012 V
(capability)670 1068 A
(*chan)335 1805 A
11 Y1
2140(3)S
11 C
(cap;)268 2195 A
6152 V
(struct)402 1068 A
(nwio)268 1537 A
11 Y1
1805(3)S
11 C
(ethopt)402 1860 A
(*ethopt;)536 2329 A
6352 V
12 R
708(Before)S
1071(a)S
(capability)478 1158 A
1669(of)S
1803(an)S
1950(Ethernet)S
2394(channel)S
2803(can)S
3004(be)S
3151(used)S
3406(to)S
3534(send)S
3789(or)S
(receive)351 3924 A
4309(Ethernet)S
4754(packets,)S
5181(it)S
6492 V
708(has)S
947(to)S
1119(be)S
1311(configured)S
1913(using)S
12 I
2252(eth)S
12 Y1
2400(3)S
12 I
2460(ioc)S
12 Y1
2608(3)S
12 I
2668(setopt)S
12 R
2967(.)S
3105(The)S
3371(structure)S
12 I
3874(nwio)S
12 Y1
4108(3)S
12 I
(ethopt)302 4168 A
12 R
4557(is)S
4715(defined)S
5155(in)S
6632 V
12 I
708(server/ip/gen/eth)S
12 Y1
1529(3)S
12 I
1589(io.h)S
12 R
1783(:)S
7700 V
(206)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 207 213
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ip)S
12 Y1
802(3)S
12 R
862(eth)S
1030(\(L\))S
2567(Library)S
2961(Routines)S
4771(ip)S
12 Y1
4865(3)S
12 R
4925(eth)S
5093(\(L\))S
920 V
11 C
(typedef)469 1068 A
(struct)402 1604 A
(nwio)268 2073 A
11 Y1
2341(3)S
11 C
(ethopt)402 2396 A
1060 V
1068({)S
1200 V
(u32)201 1652 A
11 Y1
1853(3)S
11 C
1908(t)S
(nweo)268 2042 A
11 Y1
2310(3)S
11 C
(flags;)402 2365 A
1340 V
(ether)335 1652 A
11 Y1
1987(3)S
11 C
(addr)268 2042 A
11 Y1
2310(3)S
11 C
2365(t)S
(nweo)268 2499 A
11 Y1
2767(3)S
11 C
(multi,)402 2822 A
(nweo)268 3291 A
11 Y1
3559(3)S
11 C
(rem;)268 3614 A
1480 V
(ether)335 1652 A
11 Y1
1987(3)S
11 C
(type)268 2042 A
11 Y1
2310(3)S
11 C
2365(t)S
(nweo)268 2499 A
11 Y1
2767(3)S
11 C
(type;)335 2822 A
1620 V
1068(})S
(nwio)268 1202 A
11 Y1
1470(3)S
11 C
(ethopt)402 1525 A
11 Y1
1927(3)S
11 C
1982(t;)S
1880 V
(#define)469 1068 A
(NWEO)268 1604 A
11 Y1
1872(3)S
11 C
(NOFLAGS)469 1927 A
(0x0000L)469 2664 A
2020 V
(#define)469 1068 A
(NWEO)268 1604 A
11 Y1
1872(3)S
11 C
(ACC)201 1927 A
11 Y1
2128(3)S
11 C
(MASK)268 2183 A
(0x0003L)469 2652 A
2160 V
1068(#)S
(define)402 1604 A
(NWEO)268 2073 A
11 Y1
2341(3)S
11 C
(EXCL)268 2396 A
(0x00000001L)737 3200 A
2300 V
1068(#)S
(define)402 1604 A
(NWEO)268 2073 A
11 Y1
2341(3)S
11 C
(SHARED)402 2396 A
(0x00000002L)737 3200 A
2440 V
1068(#)S
(define)402 1604 A
(NWEO)268 2073 A
11 Y1
2341(3)S
11 C
(COPY)268 2396 A
(0x00000003L)737 3200 A
2580 V
(#define)469 1068 A
(NWEO)268 1604 A
11 Y1
1872(3)S
11 C
(LOC)201 1927 A
11 Y1
2128(3)S
11 C
(MASK)268 2183 A
(0x0010L)469 2652 A
2720 V
1068(#)S
(define)402 1604 A
(NWEO)268 2073 A
11 Y1
2341(3)S
11 C
2396(EN)S
11 Y1
2530(3)S
11 C
(LOC)201 2585 A
(0x00000010L)737 3188 A
2860 V
1068(#)S
(define)402 1604 A
(NWEO)268 2073 A
11 Y1
2341(3)S
11 C
2396(DI)S
11 Y1
2530(3)S
11 C
(LOC)201 2585 A
(0x00100000L)737 3188 A
3000 V
(#define)469 1068 A
(NWEO)268 1604 A
11 Y1
1872(3)S
11 C
(BROAD)335 1927 A
11 Y1
2262(3)S
11 C
(MASK)268 2317 A
(0x0020L)469 2652 A
3140 V
1068(#)S
(define)402 1604 A
(NWEO)268 2073 A
11 Y1
2341(3)S
11 C
2396(EN)S
11 Y1
2530(3)S
11 C
(BROAD)335 2585 A
(0x00000020L)737 3188 A
3280 V
1068(#)S
(define)402 1604 A
(NWEO)268 2073 A
11 Y1
2341(3)S
11 C
2396(DI)S
11 Y1
2530(3)S
11 C
(BROAD)335 2585 A
(0x00200000L)737 3188 A
3420 V
(#define)469 1068 A
(NWEO)268 1604 A
11 Y1
1872(3)S
11 C
(MULTI)335 1927 A
11 Y1
2262(3)S
11 C
(MASK)268 2317 A
(0x0040L)469 2652 A
3560 V
1068(#)S
(define)402 1604 A
(NWEO)268 2073 A
11 Y1
2341(3)S
11 C
2396(EN)S
11 Y1
2530(3)S
11 C
(MULTI)335 2585 A
(0x00000040L)737 3188 A
3700 V
1068(#)S
(define)402 1604 A
(NWEO)268 2073 A
11 Y1
2341(3)S
11 C
2396(DI)S
11 Y1
2530(3)S
11 C
(MULTI)335 2585 A
(0x00400000L)737 3188 A
3840 V
(#define)469 1068 A
(NWEO)268 1604 A
11 Y1
1872(3)S
11 C
(PROMISC)469 1927 A
11 Y1
2396(3)S
11 C
(MASK)268 2451 A
(0x0080L)469 2786 A
3980 V
1068(#)S
(define)402 1604 A
(NWEO)268 2073 A
11 Y1
2341(3)S
11 C
2396(EN)S
11 Y1
2530(3)S
11 C
(PROMISC)469 2585 A
(0x00000080L)737 3188 A
4120 V
1068(#)S
(define)402 1604 A
(NWEO)268 2073 A
11 Y1
2341(3)S
11 C
2396(DI)S
11 Y1
2530(3)S
11 C
(PROMISC)469 2585 A
(0x00800000L)737 3188 A
4260 V
(#define)469 1068 A
(NWEO)268 1604 A
11 Y1
1872(3)S
11 C
(REM)201 1927 A
11 Y1
2128(3)S
11 C
(MASK)268 2183 A
(0x0100L)469 2652 A
4400 V
1068(#)S
(define)402 1604 A
(NWEO)268 2073 A
11 Y1
2341(3)S
11 C
(REMSPEC)469 2396 A
(0x00000100L)737 3200 A
4540 V
1068(#)S
(define)402 1604 A
(NWEO)268 2073 A
11 Y1
2341(3)S
11 C
(REMANY)402 2396 A
(0x01000000L)737 3200 A
4680 V
(#define)469 1068 A
(NWEO)268 1604 A
11 Y1
1872(3)S
11 C
(TYPE)268 1927 A
11 Y1
2195(3)S
11 C
(MASK)268 2250 A
(0x0200L)469 2652 A
4820 V
1068(#)S
(define)402 1604 A
(NWEO)268 2073 A
11 Y1
2341(3)S
11 C
(TYPESPEC)536 2396 A
(0x00000200L)737 3200 A
4960 V
1068(#)S
(define)402 1604 A
(NWEO)268 2073 A
11 Y1
2341(3)S
11 C
(TYPEANY)469 2396 A
(0x02000000L)737 3200 A
5100 V
(#define)469 1068 A
(NWEO)268 1604 A
11 Y1
1872(3)S
11 C
1927(RW)S
11 Y1
2061(3)S
11 C
(MASK)268 2116 A
(0x1000L)469 2652 A
5240 V
1068(#)S
(define)402 1604 A
(NWEO)268 2073 A
11 Y1
2341(3)S
11 C
(RWDATONLY)603 2396 A
(0x00001000L)737 3200 A
5380 V
1068(#)S
(define)402 1604 A
(NWEO)268 2073 A
11 Y1
2341(3)S
11 C
(RWDATALL)536 2396 A
(0x10000000L)737 3200 A
5580 V
12 R
708(The)S
942(configuration)S
1640(is)S
1767(divided)S
2175(in)S
2316(a)S
2417(number)S
2833(of)S
2981(sections)S
3418(\(covered)S
3889(by)S
4056(the)S
4251(xx)S
12 Y1
4371(3)S
12 R
4431(MASK)S
4828(macros\).)S
5720 V
708(Options)S
1136(can)S
1349(be)S
1508(set)S
1688(in)S
1827(the)S
12 I
2020(nweo)S
12 Y1
2274(3)S
12 I
2334(flags)S
12 R
2623(field.)S
2950(The)S
3182(first)S
3423(section)S
3810(\()S
12 C
(NWEO)292 3851 A
12 Y1
4143(3)S
12 C
(ACC)219 4203 A
12 Y1
4422(3)S
12 C
(MASK)292 4482 A
12 R
4774(\))S
4859(controls)S
5860 V
708(the)S
(access)310 892 A
1238(to)S
1368(a)S
1458(certain)S
1825(Ethernet)S
2272(packet)S
2624(type.)S
2929(If)S
12 C
(NWEO)292 3048 A
12 Y1
3340(3)S
12 C
(EXCL)292 3400 A
12 R
3729(is)S
3847(selected)S
4275(then)S
4520(this)S
4732(is)S
4850(the)S
5035(only)S
6000 V
708(channel)S
1121(that)S
1340(can)S
1545(send)S
1802(or)S
(receive)351 1939 A
2326(Ethernet)S
2773(packets)S
3172(of)S
3309(the)S
3493(selected)S
3920(type.)S
4224(If)S
12 C
(NWEO)292 4342 A
12 Y1
4634(3)S
12 C
(SHARED)438 4694 A
12 R
5168(is)S
6140 V
708(selected)S
1137(then)S
(multiple)404 1383 A
1825(channels)S
2286(\(which)S
2661(all)S
2821(have)S
3087(to)S
3220(select)S
12 C
(NWEO)292 3536 A
12 Y1
3828(3)S
12 C
(SHARED)438 3888 A
12 R
4326(\))S
4406(can)S
4613(use)S
4813(the)S
5000(same)S
6280 V
708(Ethernet)S
1159(type.)S
1467(They)S
1755(all)S
1917(can)S
2125(send)S
2386(packets)S
2789(but)S
2983(incoming)S
3479(packets)S
(will)190 3882 A
4111(be)S
4264(delivered)S
4754(to)S
4887(at)S
5014(most)S
6420 V
708(one)S
932(of)S
1083(them.)S
1435(If)S
12 C
(NWEO)292 1567 A
12 Y1
1859(3)S
12 C
(COPY)292 1919 A
12 R
2261(is)S
2392(selected)S
2833(then)S
(multiple)404 3091 A
3545(channels)S
4018(have)S
(access)310 4296 A
4656(to)S
4801(the)S
5000(same)S
6560 V
708(Ethernet)S
1149(type)S
1387(and)S
1591(all)S
(receive)351 1743 A
2124(a)S
(copy)234 2208 A
2472(of)S
2603(an)S
2747(incoming)S
3233(packet.)S
6736 V
708(The)S
12 C
(NWEO)292 945 A
12 Y1
1237(3)S
12 C
(LOC)219 1297 A
12 Y1
1516(3)S
12 C
(MASK)292 1576 A
12 R
1917(flags)S
2202(control)S
2595(the)S
2793(delivery)S
3240(of)S
3391(local)S
3677(packets,)S
4120(i.e.,)S
4348(with)S
4614(a)S
4718(destination)S
6876 V
708(address)S
1107(equal)S
1405(to)S
1535(the)S
1719(Ethernet)S
2166(address)S
2565(of)S
2702(the)S
2886(machine)S
3332(where)S
3665(the)S
3849(TCP/IP)S
4248(server)S
4581(is)S
(running.)405 4697 A
5167(If)S
7016 V
12 C
(NWEO)292 708 A
12 Y1
1000(3)S
12 C
1060(EN)S
12 Y1
1206(3)S
12 C
(LOC)219 1266 A
12 R
1535(is)S
1666(selected)S
2107(then)S
2365(these)S
2664(packets)S
(will)190 3077 A
3317(be)S
3481(delivered)S
3982(and)S
4206(with)S
12 C
(NWEO)292 4472 A
12 Y1
4764(3)S
12 C
4824(DI)S
12 Y1
4970(3)S
12 C
(LOC)219 5030 A
7156 V
12 R
708(they)S
(will)190 946 A
1166(be)S
1310(discarded.)S
7332 V
12 C
(NWEO)292 708 A
12 Y1
1000(3)S
12 C
(BROAD)365 1060 A
12 Y1
1425(3)S
12 C
(MASK)292 1485 A
12 R
1777(,)S
12 C
(NWEO)292 1856 A
12 Y1
2148(3)S
12 C
(MULTI)365 2208 A
12 Y1
2573(3)S
12 C
(MASK)292 2633 A
12 R
2925(,)S
3004(and)S
12 C
(NWEO)292 3227 A
12 Y1
3519(3)S
12 C
(PROMISC)511 3579 A
12 Y1
4090(3)S
12 C
(MASK)292 4150 A
12 R
4491(do)S
4660(the)S
4857(same)S
5155(to)S
7700 V
2683(Amoeba)S
3123(5.3)S
(207)180 5069 A
7920 V
EP
%%Page: 208 214
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ip)S
12 Y1
802(3)S
12 R
862(eth)S
1030(\(L\))S
2567(Library)S
2961(Routines)S
4771(ip)S
12 Y1
4865(3)S
12 R
4925(eth)S
5093(\(L\))S
860 V
708(broadcast)S
1220(packets,)S
(multicast)445 1661 A
2154(packets)S
2565(and)S
(promiscuous)617 2787 A
3452(mode)S
3768(packets)S
4178(as)S
12 C
(NWEO)292 4326 A
12 Y1
4618(3)S
12 C
(LOC)219 4678 A
12 Y1
4897(3)S
12 C
(MASK)292 4957 A
1000 V
12 R
708(does)S
961(for)S
1135(local)S
1404(packets,)S
1830(except)S
2179(that)S
2394(the)S
2575(precise)S
(multicast)445 2952 A
3430(address)S
3826(is)S
3940(taken)S
4235(from)S
4504(the)S
12 I
4685(nweo)S
12 Y1
4939(3)S
12 I
(multi)250 4999 A
1140 V
12 R
708(field.)S
1316 V
708(The)S
12 C
(NWEO)292 969 A
12 Y1
1261(3)S
12 C
(REM)219 1321 A
12 Y1
1540(3)S
12 C
(MASK)292 1600 A
12 R
1965(flags)S
2274(control)S
2691(whether)S
3156(communication)S
3982(is)S
4137(restricted)S
4664(to)S
4832(a)S
4960(single)S
1456 V
708(destination)S
1277(or)S
1416(not.)S
12 C
(NWEO)292 1668 A
12 Y1
1960(3)S
12 C
(REMSPEC)511 2020 A
12 R
2569(restricts)S
2993(sending)S
3406(and)S
(receiving)451 3618 A
4106(of)S
4244(packets)S
4644(to)S
4775(the)S
4960(single)S
1596 V
708(remote)S
1093(computer)S
1598(specified)S
2084(in)S
2226(the)S
12 I
2422(nweo)S
12 Y1
2676(3)S
12 I
2736(rem)S
12 R
2973(field.)S
12 C
(NWEO)292 3304 A
12 Y1
3596(3)S
12 C
(REMANY)438 3656 A
12 R
4142(allows)S
4508(sending)S
4932(to)S
5075(and)S
1736 V
(receiving)451 708 A
1189(from)S
1455(any)S
1659(remote)S
2026(computer.)S
1912 V
12 C
(NWEO)292 708 A
12 Y1
1000(3)S
12 C
(TYPESPEC)584 1060 A
12 R
1688(restricts)S
2118(sending)S
2537(and)S
(receiving)451 2755 A
3251(of)S
3397(Ethernet)S
3853(packets)S
4261(to)S
4400(the)S
4593(protocol)S
5041(type)S
2052 V
708(specified)S
1191(in)S
12 I
1330(nweo)S
12 Y1
1584(3)S
12 I
1644(type)S
12 R
1846(.)S
1951(\(For)S
2204(example,)S
2688(the)S
2880(RARP)S
3239(protocol)S
3686(has)S
3891(type)S
4143(number)S
(0x8035.\))431 4556 A
5061(The)S
2192 V
708(type)S
946(has)S
1137(to)S
1261(be)S
1405(in)S
1529(network)S
1956(byte)S
2194(order)S
2480(\(see)S
12 I
2706(htons)S
12 R
3007(in)S
12 I
3131(ip)S
12 R
3235(\(L\)\).)S
12 C
(NWEO)292 3522 A
12 Y1
3814(3)S
12 C
(TYPEANY)511 3874 A
12 R
4415(allows)S
4762(any)S
4966(type.)S
2368 V
708(If)S
827(the)S
1012(Ethernet)S
1460(header)S
1820(is)S
1938(completely)S
2513(specified)S
2988(by)S
3145(the)S
12 I
3330(nweo)S
12 Y1
3584(3)S
12 I
3644(flags)S
12 R
3927(i.e.,)S
4143(all)S
4303(of)S
12 C
(NWEO)292 4442 A
12 Y1
4734(3)S
12 C
4794(EN)S
12 Y1
4940(3)S
12 C
(LOC)219 5000 A
12 R
5219(,)S
2508 V
12 C
(NWEO)292 708 A
12 Y1
1000(3)S
12 C
1060(DI)S
12 Y1
1206(3)S
12 C
(BROAD)365 1266 A
12 R
1631(,)S
12 C
(NWEO)292 1786 A
12 Y1
2078(3)S
12 C
2138(DI)S
12 Y1
2284(3)S
12 C
(MULTI)365 2344 A
12 R
2709(,)S
12 C
(NWEO)292 2864 A
12 Y1
3156(3)S
12 C
3216(DI)S
12 Y1
3362(3)S
12 C
(PROMISC)511 3422 A
12 R
3933(,)S
12 C
(NWEO)292 4088 A
12 Y1
4380(3)S
12 C
(REMSPEC)511 4440 A
12 R
5075(and)S
2648 V
12 C
(NWEO)292 708 A
12 Y1
1000(3)S
12 C
(TYPESPEC)584 1060 A
12 R
1682(are)S
1870(specified,)S
2377(then)S
12 C
(NWEO)292 2624 A
12 Y1
2916(3)S
12 C
(RWDATONLY)657 2976 A
12 R
3672(can)S
3879(be)S
4032(used)S
4292(to)S
4425(send)S
4685(and)S
(receive)351 4898 A
2788 V
708(just)S
930(the)S
1125(data)S
1374(part)S
1610(of)S
1758(an)S
1919(Ethernet)S
2377(packet.)S
2800(The)S
3035(header)S
3404(information)S
4022(is)S
(filled)257 4149 A
4452(in)S
4592(by)S
4758(the)S
4952(server)S
2928 V
708(from)S
1026(the)S
1256(pre-specified)S
1972(information.)S
2686(Otherwise)S
12 C
(NWEO)292 3269 A
12 Y1
3561(3)S
12 C
(RWDATALL)584 3621 A
12 R
4288(must)S
4606(be)S
4803(used.)S
5167(If)S
3068 V
12 C
(NWEO)292 708 A
12 Y1
1000(3)S
12 C
(RWDATALL)584 1060 A
12 R
1676(is)S
1789(specified)S
2259(then)S
2499(both)S
2745(Ethernet)S
3188(header)S
3543(and)S
3749(data)S
3983(must)S
4249(be)S
4394(provided)S
4854(for)S
(each)222 5027 A
3208 V
708(packet.)S
3524 V
12 I
(Diagnostics)578 708 A
3700 V
12 R
708(The)S
926(complete)S
1400(set)S
1565(of)S
1696(error)S
1963(codes)S
2268(is)S
2379(described)S
2873(in)S
12 I
2997(ip)S
12 R
3101(\(L\).)S
3980 V
12 B
708(See)S
913(Also)S
4156 V
12 R
708(error\(L\),)S
1161(ip\(L\),)S
1471(ip)S
12 Y1
1565(3)S
12 R
1625(ip\(L\),)S
1935(ip)S
12 Y1
2029(3)S
12 R
2089(tcp\(L\),)S
2453(ip)S
12 Y1
2547(3)S
12 R
(udp\(L\),)366 2607 A
3003(ipsvr\(A\).)S
7700 V
(208)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 209 215
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ip)S
12 Y1
802(3)S
12 R
862(ip)S
976(\(L\))S
2567(Library)S
2961(Routines)S
4825(ip)S
12 Y1
4919(3)S
12 R
4979(ip)S
5093(\(L\))S
860 V
2350(\(in)S
2515(libraries:)S
2978(libamoeba.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(ip)S
12 Y1
802(3)S
12 R
862(ip)S
12 R-1
986(-)S
12 R
1114(Internet)S
1522(Protocol)S
1962(server's)S
2377(IP)S
2515(client)S
(interface)426 2815 A
3271(stubs)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("server/ip/ip)871 1311 A
11 Y1
2182(3)S
11 C
(io.h")335 2237 A
2182 V
(#include)536 708 A
("server/ip/types.h")1273 1311 A
2322 V
(#include)536 708 A
("server/ip/gen/in.h")1340 1311 A
2462 V
(#include)536 708 A
("server/ip/gen/ip)1139 1311 A
11 Y1
2450(3)S
11 C
(io.h")335 2505 A
2602 V
(#include)536 708 A
("server/ip/gen/route.h")1541 1311 A
2882 V
(errstat)469 708 A
1244(ip)S
11 Y1
1378(3)S
11 C
(ioc)201 1433 A
11 Y1
1634(3)S
11 C
(getconf\(chan)804 1689 A
11 Y1
2493(3)S
11 C
(cap,)268 2548 A
(ipconf\))469 2883 A
3022 V
(errstat)469 708 A
1244(ip)S
11 Y1
1378(3)S
11 C
(ioc)201 1433 A
11 Y1
1634(3)S
11 C
(getopt\(chan)737 1689 A
11 Y1
2426(3)S
11 C
(cap,)268 2481 A
(ipopt\))402 2816 A
3162 V
(errstat)469 708 A
1244(ip)S
11 Y1
1378(3)S
11 C
(ioc)201 1433 A
11 Y1
1634(3)S
11 C
(getroute\(chan)871 1689 A
11 Y1
2560(3)S
11 C
(cap,)268 2615 A
(route\))402 2950 A
3302 V
(errstat)469 708 A
1244(ip)S
11 Y1
1378(3)S
11 C
(ioc)201 1433 A
11 Y1
1634(3)S
11 C
(setconf\(chan)804 1689 A
11 Y1
2493(3)S
11 C
(cap,)268 2548 A
(ipconf\))469 2883 A
3442 V
(errstat)469 708 A
1244(ip)S
11 Y1
1378(3)S
11 C
(ioc)201 1433 A
11 Y1
1634(3)S
11 C
(setopt\(chan)737 1689 A
11 Y1
2426(3)S
11 C
(cap,)268 2481 A
(ipopt\))402 2816 A
3582 V
(errstat)469 708 A
1244(ip)S
11 Y1
1378(3)S
11 C
(ioc)201 1433 A
11 Y1
1634(3)S
11 C
(setroute\(chan)871 1689 A
11 Y1
2560(3)S
11 C
(cap,)268 2615 A
(route\))402 2950 A
3922 V
12 B
708(Description)S
4098 V
12 R
708(The)S
969(Internet)S
1420(Protocol)S
1903(\(IP\))S
2166(server)S
2536(implements)S
3174(four)S
3449(network)S
3919(protocols)S
4442(as)S
4617(described)S
5155(in)S
4238 V
12 I
708(ipsvr)S
12 R
960(\(A\).)S
1246(The)S
1490(routines)S
1936(described)S
2455(below)S
2806(give)S
(access)310 3069 A
3434(to)S
3583(the)S
3786(IP)S
3949(protocol)S
4407(in)S
4556(the)S
4759(IP)S
4922(server.)S
4378 V
(Access)344 708 A
1100(to)S
1243(this)S
1467(service)S
1860(is)S
1990(provided)S
2468(using)S
2778(two)S
3009(types)S
3313(of)S
(capabilities:)587 3463 A
4099(a)S
4202(server)S
(capability)478 4548 A
5075(and)S
4518 V
708(channel)S
(capabilities.)583 1138 A
1805(The)S
2047(server)S
(capability)478 2398 A
2930(is)S
3065(called)S
12 I
3408(ip)S
12 R
3512(.)S
3625(The)S
3866(server)S
(capability)478 4216 A
4747(is)S
4881(used)S
5155(to)S
4658 V
708(obtain)S
1044(a)S
1132(channel)S
1542(to)S
1670(the)S
(corresponding)691 1852 A
2577(server.)S
2968(This)S
3217(is)S
(done)234 3333 A
3602(with)S
12 I
3853(tcpip)S
12 Y1
4095(3)S
12 I
4155(open)S
12 R
4434(\(see)S
12 I
4665(ip)S
12 R
4769(\(L\)\).)S
5061(The)S
4798 V
708(channel)S
(capability)478 1119 A
1631(can)S
1833(be)S
1981(used)S
2236(to)S
2364(transfer)S
2770(data)S
3006(using)S
3301(the)S
3483(protocol)S
3920(implemented)S
4586(by)S
4740(the)S
4922(server.)S
4938 V
708(This)S
975(can)S
1195(also)S
1442(be)S
(done)234 1608 A
1894(with)S
2163(the)S
2364(generic)S
12 I
2774(tcpip)S
12 Y1
3016(3)S
12 I
3076(read)S
12 R
3360(and)S
12 I
3587(tcpip)S
12 Y1
3829(3)S
12 I
3889(write)S
12 R
4201(routines.)S
4704(Since)S
5026(their)S
5078 V
708(semantics)S
1248(vary)S
1525(slightly)S
1949(depending)S
2512(on)S
2693(channel)S
3130(type,)S
3429(these)S
3739(routines)S
4190(are)S
4400(described)S
4925(briefly)S
5218 V
708(below.)S
1094(The)S
12 I
1312(ip)S
12 Y1
1406(3)S
12 I
1466(ioc)S
12 Y1
1614(3)S
12 R
1714(routines)S
2134(are)S
2313(used)S
2564(to)S
2688(manage)S
3094(the)S
3272(options)S
3657(and)S
3861(status)S
4167(of)S
4298(the)S
4476(IP)S
4614(channel.)S
5394 V
708(Before)S
1083(they)S
1336(are)S
1530(described,)S
2069(a)S
2168(brief)S
(introduction)591 2443 A
3079(to)S
3219(the)S
3413(various)S
3815(types)S
4116(is)S
4243(given.)S
4617(The)S
4851(general-)S
5534 V
708(purpose)S
1120(types)S
1405(and)S
1609(rights)S
1915(in)S
2039(the)S
(capabilities)553 2217 A
2800(are)S
2979(described)S
3473(in)S
12 I
3597(ip)S
12 R
3701(\(L\).)S
5850 V
12 I
708(IP)S
853(Types)S
6026 V
12 R
708(server/ip/gen/in.h)S
6166 V
958(defines)S
12 I
(ipaddr)321 1338 A
12 Y1
1659(3)S
12 I
1719(t)S
12 R
1763(,)S
12 I
1823(ipproto)S
12 Y1
2178(3)S
12 I
2238(t)S
12 R
2312(and)S
2516(struct)S
2816(ip)S
12 Y1
2910(3)S
12 R
2970(hdropt)S
3315(\()S
12 I
3356(ip)S
12 Y1
3450(3)S
12 I
3510(hdropt)S
12 Y1
3831(3)S
12 I
3891(t)S
12 R
3925(\).)S
6342 V
708(server/ip/gen/ip)S
12 Y1
1469(3)S
12 R
1529(io.h)S
6482 V
958(defines)S
1338(struct)S
1638(nwio)S
12 Y1
1880(3)S
12 R
1940(ipconf)S
2279(\()S
12 I
2320(nwio)S
12 Y1
2554(3)S
12 I
2614(ipconf)S
12 Y1
2916(3)S
12 I
2976(t)S
12 R
3010(\))S
3081(and)S
3285(struct)S
3585(nwio)S
12 Y1
3827(3)S
12 R
(ipopt)248 3887 A
4165(\()S
12 I
4206(nwio)S
12 Y1
4440(3)S
12 I
(ipopt)248 4500 A
12 Y1
4748(3)S
12 I
4808(t)S
12 R
4842(\))S
6658 V
708(server/ip/gen/ip)S
12 Y1
1469(3)S
12 R
1529(hdr.h)S
6798 V
958(defines)S
1338(struct)S
1638(ip)S
12 Y1
1732(3)S
12 R
1792(hdr)S
1983(\()S
12 I
2024(ip)S
12 Y1
2118(3)S
12 I
2178(hdr)S
12 Y1
2345(3)S
12 I
2405(t)S
12 R
2439(\))S
6974 V
708(server/ip/gen/route.h)S
7114 V
958(defines)S
1338(struct)S
1638(nwio)S
12 Y1
1880(3)S
12 R
1940(route)S
2219(\()S
12 I
2260(nwio)S
12 Y1
2494(3)S
12 I
2554(route)S
12 Y1
2809(3)S
12 I
2869(t)S
12 R
2903(\))S
7700 V
2683(Amoeba)S
3123(5.3)S
(209)180 5069 A
7920 V
EP
%%Page: 210 216
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ip)S
12 Y1
802(3)S
12 R
862(ip)S
976(\(L\))S
2567(Library)S
2961(Routines)S
4825(ip)S
12 Y1
4919(3)S
12 R
4979(ip)S
5093(\(L\))S
860 V
12 I
708(General)S
1135(Functions)S
1176 V
708(tcpip)S
12 Y1
950(3)S
12 I
1010(read)S
1412 V
11 C
(errstat)469 1068 A
1552 V
(tcpip)335 1068 A
11 Y1
1403(3)S
11 C
(read\(chan)603 1458 A
11 Y1
2061(3)S
11 C
(cap,)268 2116 A
(buffer,)469 2451 A
(nbytes\))469 2987 A
1692 V
(capability)670 1068 A
(*chan)335 1805 A
11 Y1
2140(3)S
11 C
(cap;)268 2195 A
1832 V
(char)268 1068 A
(*buffer;)536 1403 A
1972 V
(size)268 1068 A
11 Y1
1336(3)S
11 C
1391(t)S
(nbytes;)469 1525 A
2172 V
12 I
708(Tcpip)S
12 Y1
983(3)S
12 I
1043(read)S
12 R
1307(reads)S
1596(IP)S
1737(packets)S
2133(from)S
2402(the)S
2583(IP)S
2724(channel)S
3134(of)S
3269(a)S
3357(TCP/IP)S
3754(server,)S
4115(specified)S
4587(by)S
12 I
(chan)234 4741 A
12 Y1
4975(3)S
12 I
5035(cap)S
12 R
5219(,)S
2312 V
708(into)S
12 I
957(buffer)S
12 R
1256(,)S
1347(which)S
1704(has)S
1925(length)S
12 I
2287(nbytes)S
12 R
2606(.)S
2726(If)S
2868(the)S
3076(packet)S
3452(is)S
3593(larger)S
3937(than)S
12 I
4205(nbytes)S
12 R
4584(the)S
4792(packet)S
5168(is)S
2452 V
708(truncated)S
1207(to)S
1350(the)S
1547(buffer)S
1893(size)S
2131(and)S
2354(the)S
2551(error)S
12 C
(TCPIP)365 2837 A
12 Y1
3202(3)S
12 C
(PACKSIZE)584 3262 A
12 R
(will)190 3895 A
4134(be)S
4297(returned.)S
4810(It)S
4934(blocks)S
2592 V
(until)222 708 A
961(it)S
1059(has)S
1250(a)S
1334(complete)S
1808(IP)S
1946(packet.)S
2352(If)S
(successful)498 2464 A
2992(it)S
3090(returns)S
3457(the)S
3635(number)S
4034(of)S
4165(bytes)S
4450(read.)S
4749(Otherwise)S
2732 V
708(it)S
806(returns)S
1173(a)S
1257(negative)S
1697(error)S
1964(status.)S
2330(If)S
2442(the)S
2620(read)S
2859(is)S
2970(interrupted)S
3532(the)S
3710(server)S
4037(returns)S
12 C
(STD)219 4404 A
12 Y1
4623(3)S
12 C
(INTR)292 4683 A
12 R
4975(.)S
2908 V
708(It)S
821(is)S
940(possible)S
1374(to)S
1506(read)S
1753(the)S
1939(data)S
2179(only)S
2431(or)S
2570(the)S
2756(data)S
2996(plus)S
3235(IP)S
3382(header.)S
3804(See)S
12 I
4018(ip)S
12 Y1
4112(3)S
12 I
4172(ioc)S
12 Y1
4320(3)S
12 I
4380(setconf)S
12 R
4772(below)S
5107(for)S
3048 V
708(details.)S
3344 V
708(Error)S
(Conditions:)563 995 A
3484 V
1062(See)S
12 I
1267(ip)S
12 R
1371(\(L\))S
1557(for)S
1729(a)S
1813(description)S
2381(of)S
2512(the)S
2690(error)S
2957(codes.)S
3624 V
12 C
(TCPIP)365 1062 A
12 Y1
1427(3)S
12 C
(BADMODE)511 1487 A
3764 V
(TCPIP)365 1062 A
12 Y1
1427(3)S
12 C
(PACKSIZE)584 1487 A
3904 V
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(INTR)292 1341 A
4280 V
12 I
708(tcpip)S
12 Y1
950(3)S
12 I
1010(write)S
4516 V
11 C
(errstat)469 1068 A
4656 V
(tcpip)335 1068 A
11 Y1
1403(3)S
11 C
(write\(chan)670 1458 A
11 Y1
2128(3)S
11 C
(cap,)268 2183 A
(buffer,)469 2518 A
(nbytes\))469 3054 A
4796 V
(capability)670 1068 A
(*chan)335 1805 A
11 Y1
2140(3)S
11 C
(cap;)268 2195 A
4936 V
(char)268 1068 A
(*buffer;)536 1403 A
5076 V
(size)268 1068 A
11 Y1
1336(3)S
11 C
1391(t)S
(nbytes;)469 1525 A
5276 V
12 I
708(Tcpip)S
12 Y1
983(3)S
12 I
1043(write)S
12 R
1359(transfers)S
1836(the)S
2042(IP)S
2208(packet)S
2582(in)S
12 I
2734(buffer)S
12 R
3091(from)S
3385(the)S
3591(client)S
3919(to)S
4071(the)S
4277(TCP/IP)S
4698(server's)S
5141(IP)S
5416 V
708(channel)S
1133(specified)S
1620(by)S
12 I
(chan)234 1789 A
12 Y1
2023(3)S
12 I
2083(cap)S
12 R
2267(.)S
2376(The)S
2613(IP)S
2770(packet)S
3135(to)S
3278(be)S
3441(sent)S
3685(is)S
12 I
3815(nbytes)S
12 R
(long.)244 4183 A
4506(It)S
(accepts)357 4630 A
5035(only)S
5556 V
708(complete)S
1191(packets.)S
1653(It)S
1767(computes)S
2269(the)S
2456(checksum)S
2978(for)S
3159(the)S
3346(packet)S
3702(and)S
3916(inserts)S
4273(it)S
4381(at)S
4509(the)S
4697(appropriate)S
5696 V
(place.)286 708 A
1074(The)S
1312(call)S
1538(blocks)S
(until)222 1903 A
(enough)354 2175 A
2579(buffer)S
(space)269 2925 A
3243(for)S
3434(the)S
3631(whole)S
3976(packet)S
4341(is)S
4471(available)S
4958(in)S
5101(the)S
5836 V
708(TCP/IP)S
1117(server.)S
1520(On)S
(success)363 1714 A
2124(it)S
2239(returns)S
2623(the)S
2818(number)S
3234(of)S
3382(bytes)S
(written.)375 3684 A
4136(On)S
4331(failure)S
4696(it)S
4811(returns)S
5195(a)S
5976 V
708(negative)S
1148(error)S
1415(code.)S
6272 V
708(Error)S
(Conditions:)563 995 A
6412 V
1062(See)S
12 I
1267(ip)S
12 R
1371(\(L\))S
1557(for)S
1729(a)S
1813(description)S
2381(of)S
2512(the)S
2690(error)S
2957(codes.)S
6552 V
12 C
(TCPIP)365 1062 A
12 Y1
1427(3)S
12 C
(BADMODE)511 1487 A
6692 V
(TCPIP)365 1062 A
12 Y1
1427(3)S
12 C
(PACKSIZE)584 1487 A
6832 V
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(INTR)292 1341 A
7700 V
12 R
(210)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 211 217
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ip)S
12 Y1
802(3)S
12 R
862(ip)S
976(\(L\))S
2567(Library)S
2961(Routines)S
4825(ip)S
12 Y1
4919(3)S
12 R
4979(ip)S
5093(\(L\))S
860 V
12 I
708(IP)S
853(Functions)S
1212 V
708(ip)S
12 Y1
802(3)S
12 I
862(ioc)S
12 Y1
1010(3)S
12 I
1070(getconf)S
1448 V
11 C
(errstat)469 1068 A
1588 V
1068(ip)S
11 Y1
1202(3)S
11 C
(ioc)201 1257 A
11 Y1
1458(3)S
11 C
(getconf\(chan)804 1513 A
11 Y1
2317(3)S
11 C
(cap,)268 2372 A
(ipconf\))469 2707 A
1728 V
(capability)670 1068 A
(*chan)335 1805 A
11 Y1
2140(3)S
11 C
(cap;)268 2195 A
1868 V
(struct)402 1068 A
(nwio)268 1537 A
11 Y1
1805(3)S
11 C
(ipconf)402 1860 A
(*ipconf;)536 2329 A
2068 V
12 I
708(Ip)S
12 Y1
809(3)S
12 I
869(ioc)S
12 Y1
1017(3)S
12 I
1077(getconf)S
12 R
1484(reports)S
1862(the)S
2051(Internet)S
2470(address)S
2875(and)S
3091(the)S
3281(netmask.)S
3786(For)S
3996(the)S
12 I
4186(nwio)S
12 Y1
4420(3)S
12 I
4480(ipconf)S
12 R
4824(structure)S
2208 V
708(see)S
12 I
893(ip)S
12 Y1
987(3)S
12 I
1047(ioc)S
12 Y1
1195(3)S
12 I
1255(setconf)S
12 R
1628(below.)S
2524 V
12 I
708(ip)S
12 Y1
802(3)S
12 I
862(ioc)S
12 Y1
1010(3)S
12 I
1070(getopt)S
2760 V
11 C
(errstat)469 1068 A
2900 V
1068(ip)S
11 Y1
1202(3)S
11 C
(ioc)201 1257 A
11 Y1
1458(3)S
11 C
(getopt\(chan)737 1513 A
11 Y1
2250(3)S
11 C
(cap,)268 2305 A
(ipopt\))402 2640 A
3040 V
(capability)670 1068 A
(*chan)335 1805 A
11 Y1
2140(3)S
11 C
(cap;)268 2195 A
3180 V
(struct)402 1068 A
(nwio)268 1537 A
11 Y1
1805(3)S
11 C
(ipopt)335 1860 A
(*ipopt;)469 2262 A
3380 V
12 R
708(This)S
963(call)S
1179(returns)S
1556(in)S
12 I
(ipopt)248 1690 A
12 R
1988(the)S
2177(current)S
2562(options)S
2958(of)S
3100(the)S
3289(IP)S
3438(channel)S
3855(specified)S
4334(by)S
12 I
(chan)234 4495 A
12 Y1
4729(3)S
12 I
4789(cap)S
12 R
4973(.)S
5074(See)S
3520 V
12 I
708(ip)S
12 Y1
802(3)S
12 I
862(ioc)S
12 Y1
1010(3)S
12 I
1070(setopt)S
12 R
1399(for)S
1571(a)S
1655(description)S
2223(of)S
2354(the)S
2532(options.)S
3836 V
12 I
708(ip)S
12 Y1
802(3)S
12 I
862(ioc)S
12 Y1
1010(3)S
12 I
1070(getroute)S
4072 V
11 C
(errstat)469 1068 A
4212 V
1068(ip)S
11 Y1
1202(3)S
11 C
(ioc)201 1257 A
11 Y1
1458(3)S
11 C
(getroute\(chan)871 1513 A
11 Y1
2384(3)S
11 C
(cap,)268 2439 A
(route\))402 2774 A
4352 V
(capability)670 1068 A
(*chan)335 1805 A
11 Y1
2140(3)S
11 C
(cap;)268 2195 A
4492 V
(struct)402 1068 A
(nwio)268 1537 A
11 Y1
1805(3)S
11 C
(route)335 1860 A
(*route;)469 2262 A
4692 V
12 I
708(Ip)S
12 Y1
809(3)S
12 I
869(ioc)S
12 Y1
1017(3)S
12 I
1077(getroute)S
12 R
1536(can)S
1750(be)S
1910(used)S
2177(to)S
2317(query)S
2638(an)S
2798(IP)S
2952(server)S
(about)268 3295 A
3609(it)S
3723(is)S
3850(routing)S
4246(table.)S
4589(The)S
4824(structure)S
4832 V
12 I
708(nwio)S
12 Y1
942(3)S
12 I
1002(route)S
12 R
1287(is)S
1398(defined)S
1791(in)S
12 I
1915(server/ip/gen/route.h)S
12 R
2933(:)S
5032 V
11 C
(typedef)469 1068 A
(struct)402 1604 A
(nwio)268 2073 A
11 Y1
2341(3)S
11 C
(route)335 2396 A
5172 V
1068({)S
5312 V
(u32)201 1604 A
11 Y1
1805(3)S
11 C
1860(t)S
(nwr)201 1994 A
11 Y1
2195(3)S
11 C
(ent)201 2250 A
11 Y1
2451(3)S
11 C
(no;)201 2506 A
5452 V
(u32)201 1604 A
11 Y1
1805(3)S
11 C
1860(t)S
(nwr)201 1994 A
11 Y1
2195(3)S
11 C
(ent)201 2250 A
11 Y1
2451(3)S
11 C
(count;)402 2506 A
5592 V
(ipaddr)402 1604 A
11 Y1
2006(3)S
11 C
2061(t)S
(nwr)201 2195 A
11 Y1
2396(3)S
11 C
(dest;)335 2451 A
5732 V
(ipaddr)402 1604 A
11 Y1
2006(3)S
11 C
2061(t)S
(nwr)201 2195 A
11 Y1
2396(3)S
11 C
(netmask;)536 2451 A
5872 V
(ipaddr)402 1604 A
11 Y1
2006(3)S
11 C
2061(t)S
(nwr)201 2195 A
11 Y1
2396(3)S
11 C
(gateway;)536 2451 A
6012 V
(u32)201 1604 A
11 Y1
1805(3)S
11 C
1860(t)S
(nwr)201 1994 A
11 Y1
2195(3)S
11 C
(dist;)335 2250 A
6152 V
(u32)201 1604 A
11 Y1
1805(3)S
11 C
1860(t)S
(nwr)201 1994 A
11 Y1
2195(3)S
11 C
(flags;)402 2250 A
6292 V
(u32)201 1604 A
11 Y1
1805(3)S
11 C
1860(t)S
(nwr)201 1994 A
11 Y1
2195(3)S
11 C
(pref;)335 2250 A
6432 V
(ipaddr)402 1652 A
11 Y1
2054(3)S
11 C
2109(t)S
(nwr)201 2243 A
11 Y1
2444(3)S
11 C
(ifaddr;)469 2499 A
6572 V
1068(})S
(nwio)268 1202 A
11 Y1
1470(3)S
11 C
(route)335 1525 A
11 Y1
1860(3)S
11 C
1915(t;)S
7700 V
12 R
2683(Amoeba)S
3123(5.3)S
(211)180 5069 A
7920 V
EP
%%Page: 212 218
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ip)S
12 Y1
802(3)S
12 R
862(ip)S
976(\(L\))S
2567(Library)S
2961(Routines)S
4825(ip)S
12 Y1
4919(3)S
12 R
4979(ip)S
5093(\(L\))S
920 V
11 C
(#define)469 1068 A
(NWRF)268 1604 A
11 Y1
1872(3)S
11 C
(EMPTY)335 1927 A
2798(0)S
1060 V
(#define)469 1068 A
(NWRF)268 1604 A
11 Y1
1872(3)S
11 C
(INUSE)335 1927 A
2798(1)S
1200 V
(#define)469 1068 A
(NWRF)268 1604 A
11 Y1
1872(3)S
11 C
(STATIC)402 1927 A
2798(2)S
1340 V
(#define)469 1068 A
(NWRF)268 1652 A
11 Y1
1920(3)S
11 C
(UNREACHABLE)737 1975 A
2846(4)S
1540 V
12 R
708(The)S
926(requested)S
1420(entry)S
1699(is)S
1810(taken)S
2102(from)S
12 I
2368(nwr)S
12 Y1
2555(3)S
12 I
2615(ent)S
12 Y1
2763(3)S
12 I
2823(no)S
12 R
2943(.)S
3033(Entries)S
3407(are)S
(counted)382 3586 A
3998(from)S
4264(0,)S
4384(so)S
4521(the)S
4699(value)S
4991(0)S
5081(can)S
1680 V
708(be)S
858(used)S
1115(for)S
1293(an)S
(initial)284 1443 A
1763(query.)S
2134(The)S
2358(size)S
2583(of)S
2720(the)S
2904(routing)S
3288(table)S
3559(is)S
3675(returned)S
4114(in)S
12 I
4243(nwr)S
12 Y1
4430(3)S
12 I
4490(ent)S
12 Y1
4638(3)S
12 I
(count)268 4698 A
12 R
4966(.)S
5061(The)S
1820 V
12 I
708(nwr)S
12 Y1
895(3)S
12 I
955(flags)S
12 R
1244(field)S
1521(indicates)S
2006(if)S
2135(the)S
2337(entry)S
2640(is)S
2775(in)S
2923(use)S
3138(\()S
12 C
(NWRF)292 3179 A
12 Y1
3471(3)S
12 C
(INUSE)365 3531 A
12 R
3896(\))S
3991(and)S
4219(if)S
4349(the)S
4552(entry)S
4856(is)S
4992(static)S
1960 V
708(\()S
12 C
(NWRF)292 749 A
12 Y1
1041(3)S
12 C
(STATIC)438 1101 A
12 R
1584(using)S
12 I
1890(ip)S
12 Y1
1984(3)S
12 I
2044(ioc)S
12 Y1
2192(3)S
12 I
2252(setroute)S
12 R
2642(\))S
2728(or)S
2874(generated)S
3389(by)S
3553(the)S
3745(IP)S
3897(server)S
4238(itself.)S
4586(A)S
4718(destination)S
2100 V
708(can)S
949(be)S
1136(marked)S
(unreachable)585 1572 A
2230(using)S
12 C
(NWRF)292 2564 A
12 Y1
2856(3)S
12 C
(UNREACHABLE)803 2916 A
12 R
3719(.)S
3852(The)S
4113(route)S
4436(is)S
4591(described)S
5129(by)S
2240 V
12 I
708(nwr)S
12 Y1
895(3)S
12 I
955(dest)S
12 R
1160(,)S
12 I
1223(nwr)S
12 Y1
1410(3)S
12 I
1470(netmask)S
12 R
1877(,)S
12 I
1940(nwr)S
12 Y1
2127(3)S
12 I
2187(gateway)S
12 R
2599(,)S
12 I
2661(nwr)S
12 Y1
2848(3)S
12 I
2908(dist)S
12 R
3093(,)S
3155(and)S
12 I
3361(nwr)S
12 Y1
3548(3)S
12 I
3608(pref)S
12 R
3813(.)S
12 I
3905(Nwr)S
12 Y1
4112(3)S
12 I
4172(dest)S
12 R
4399(and)S
12 I
4605(nwr)S
12 Y1
4792(3)S
12 I
4852(netmask)S
2380 V
12 R
708(select)S
1018(the)S
1199(destination)S
1763(addresses.)S
2320(A)S
2441(value)S
2736(of)S
2870(0.0.0.0)S
(\(0x0\))262 3233 A
3528(in)S
3655(both)S
12 I
3902(Nwr)S
12 Y1
4109(3)S
12 I
4169(dest)S
12 R
4397(and)S
12 I
4605(nwr)S
12 Y1
4792(3)S
12 I
4852(netmask)S
2520 V
12 R
708(means)S
1061(every)S
1374(host.)S
1679(A)S
1811(value)S
2117(of)S
(255.255.255.255)810 2261 A
(\(0xffffffff\))530 3114 A
3687(in)S
12 I
3824(nwr)S
12 Y1
4011(3)S
12 I
4071(netmask)S
12 R
4511(means)S
4863(a)S
4960(single)S
2660 V
708(host.)S
1021(Other)S
1350(values)S
1711(of)S
12 I
1865(nwr)S
12 Y1
2052(3)S
12 I
2112(netmask)S
12 R
2562(are)S
2764(netmasks)S
3267(for)S
3462(the)S
3663(network)S
4113(specified)S
4604(by)S
12 I
4777(nwr)S
12 Y1
4964(3)S
12 I
5024(dest)S
12 R
5219(.)S
2800 V
12 I
708(Nwr)S
12 Y1
915(3)S
12 I
975(gateway)S
12 R
1408(is)S
1520(the)S
1699(gateway)S
2134(that)S
(should)321 2347 A
2699(be)S
2844(used.)S
12 I
3155(Nwr)S
12 Y1
3362(3)S
12 I
3422(dist)S
12 R
3627(is)S
3738(the)S
3916(minimal)S
4350(distance)S
4777(\(i.e.)S
4996(if)S
5101(the)S
2940 V
708(specified)S
1198(network)S
1647(is)S
(subnetted,)493 1780 A
2325(destinations)S
2955(can)S
3175(be)S
3342(at)S
3483(varying)S
3905(distances.\))S
4503(Packets)S
4926(with)S
5195(a)S
3080 V
708(``time)S
1040(to)S
1168(live'')S
1466(smaller)S
1858(than)S
12 I
2100(nwr)S
12 Y1
2287(3)S
12 I
2347(dist)S
12 R
(will)190 2556 A
2779(not)S
(reach)263 2966 A
3262(the)S
3443(destination.)S
4067(If)S
4182(two)S
4397(routes)S
4726(have)S
4987(equal)S
3220 V
708(netmask)S
1156(and)S
1375(distance)S
1817(fields)S
2132(but)S
2331(different)S
2795(gateways)S
3292(then)S
3546(the)S
3740(gateway)S
4190(with)S
4452(highest)S
4847(value)S
5155(in)S
3360 V
12 I
708(nwr)S
12 Y1
895(3)S
12 I
955(pref)S
12 R
1180(is)S
1291(used.)S
3676 V
12 I
708(ip)S
12 Y1
802(3)S
12 I
862(ioc)S
12 Y1
1010(3)S
12 I
1070(setconf)S
3912 V
11 C
(errstat)469 1068 A
4052 V
1068(ip)S
11 Y1
1202(3)S
11 C
(ioc)201 1257 A
11 Y1
1458(3)S
11 C
(setconf\(chan)804 1513 A
11 Y1
2317(3)S
11 C
(cap,)268 2372 A
(ipconf\))469 2707 A
4192 V
(capability)670 1068 A
(*chan)335 1805 A
11 Y1
2140(3)S
11 C
(cap;)268 2195 A
4332 V
(struct)402 1068 A
(nwio)268 1537 A
11 Y1
1805(3)S
11 C
(ipconf)402 1860 A
(*ipconf;)536 2329 A
4532 V
12 I
708(Ip)S
12 Y1
809(3)S
12 I
869(ioc)S
12 Y1
1017(3)S
12 I
1077(setconf)S
12 R
1486(can)S
1710(be)S
1880(used)S
2157(to)S
2307(inform)S
2693(the)S
2897(IP)S
3062(server)S
(about)268 3416 A
3741(its)S
3913(Internet)S
4348(address)S
4768(and/or)S
5134(its)S
4672 V
708(netmask.)S
1208(Normally)S
1710(an)S
1861(IP)S
2006(server)S
(will)190 2340 A
2567(discover)S
3014(its)S
3166(Internet)S
3581(address)S
3981(using)S
4279(the)S
4464(RARP)S
4816(protocol.)S
4812 V
12 I
708(Ip)S
12 Y1
809(3)S
12 I
869(ioc)S
12 Y1
1017(3)S
12 I
1077(setconf)S
12 R
1485(can)S
1708(be)S
1877(used)S
2153(in)S
2303(the)S
2507(case)S
2772(that)S
3010(the)S
3214(RARP)S
3585(failed,)S
3948(or)S
4105(the)S
4309(netmask)S
4768(has)S
4985(to)S
5135(be)S
4952 V
708(changed.)S
1210(Note)S
1486(that)S
1708(higher)S
2057(level)S
2333(protocols)S
2823(\(TCP)S
3125(and)S
3339(UDP\))S
3663(assume)S
4059(that)S
4281(the)S
4469(Internet)S
4886(address)S
5092 V
708(of)S
856(an)S
1018(IP)S
1174(device)S
1538(does)S
1807(not)S
2009(change,)S
2429(therefore)S
2916(TCP)S
3185(and)S
3407(UDP)S
3698(stop)S
3947(functioning)S
4552(if)S
4675(the)S
4871(Internet)S
5232 V
708(address)S
1101(is)S
1212(changed.)S
5408 V
708(The)S
926(structure)S
12 I
1381(nwio)S
12 Y1
1615(3)S
12 I
1675(ipconf)S
12 R
2007(is)S
2118(defined)S
2511(in)S
12 I
2635(server/ip/gen/ip)S
12 Y1
3402(3)S
12 I
3462(io.h)S
12 R
3656(:)S
5608 V
11 C
(typedef)469 1068 A
(struct)402 1604 A
(nwio)268 2073 A
11 Y1
2341(3)S
11 C
(ipconf)402 2396 A
5748 V
1068({)S
5888 V
(u32)201 1652 A
11 Y1
1853(3)S
11 C
1908(t)S
(nwic)268 2176 A
11 Y1
2444(3)S
11 C
(flags;)402 2499 A
6028 V
(ipaddr)402 1652 A
11 Y1
2054(3)S
11 C
2109(t)S
(nwic)268 2243 A
11 Y1
2511(3)S
11 C
(ipaddr;)469 2566 A
6168 V
(ipaddr)402 1652 A
11 Y1
2054(3)S
11 C
2109(t)S
(nwic)268 2243 A
11 Y1
2511(3)S
11 C
(netmask;)536 2566 A
6308 V
1068(})S
(nwio)268 1202 A
11 Y1
1470(3)S
11 C
(ipconf)402 1525 A
11 Y1
1927(3)S
11 C
1982(t;)S
6568 V
(#define)469 1068 A
(NWIC)268 1604 A
11 Y1
1872(3)S
11 C
(NOFLAGS)469 1927 A
(0x0)201 3200 A
6708 V
(#define)469 1068 A
(NWIC)268 1604 A
11 Y1
1872(3)S
11 C
(FLAGS)335 1927 A
(0x3)201 3200 A
6848 V
1068(#)S
(define)402 1604 A
(NWIC)268 2073 A
11 Y1
2341(3)S
11 C
(IPADDR)402 2396 A
11 Y1
2798(3)S
11 C
(SET)201 2853 A
(0x1)201 3724 A
6988 V
1068(#)S
(define)402 1604 A
(NWIC)268 2073 A
11 Y1
2341(3)S
11 C
(NETMASK)469 2396 A
11 Y1
2865(3)S
11 C
(SET)201 2920 A
(0x2)201 3724 A
7188 V
12 R
708(The)S
930(function)S
1367(of)S
12 I
1502(nwio)S
12 Y1
1736(3)S
12 I
1796(ipconf)S
12 R
2132(depends)S
2561(on)S
2715(the)S
2897(value)S
3193(of)S
12 I
3329(nwic)S
12 Y1
3557(3)S
12 I
3617(flags)S
12 R
3852(.)S
3947(If)S
12 C
(NWIC)292 4064 A
12 Y1
4356(3)S
12 C
(IPADDR)438 4416 A
12 Y1
4854(3)S
12 C
(SET)219 4914 A
12 R
5168(is)S
7328 V
708(set)S
876(then)S
1117(the)S
1298(Internet)S
1709(address)S
(will)190 2105 A
2328(be)S
2475(set)S
2643(to)S
12 I
2770(nwic)S
12 Y1
2998(3)S
12 I
(ipaddr)321 3058 A
12 R
3379(.)S
3472(If)S
12 C
(NWIC)292 3587 A
12 Y1
3879(3)S
12 C
(NETMASK)511 3939 A
12 Y1
4450(3)S
12 C
(SET)219 4510 A
12 R
4761(is)S
4874(set)S
5041(then)S
7700 V
(212)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 213 219
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ip)S
12 Y1
802(3)S
12 R
862(ip)S
976(\(L\))S
2567(Library)S
2961(Routines)S
4825(ip)S
12 Y1
4919(3)S
12 R
4979(ip)S
5093(\(L\))S
860 V
708(the)S
886(Internet)S
1294(address)S
(will)190 1687 A
1907(be)S
2051(set)S
2216(to)S
12 I
2340(nwic)S
12 Y1
2568(3)S
12 I
2628(netmask)S
12 R
3025(.)S
1176 V
12 I
708(ip)S
12 Y1
802(3)S
12 I
862(ioc)S
12 Y1
1010(3)S
12 I
1070(setopt)S
1412 V
11 C
(errstat)469 1068 A
1552 V
1068(ip)S
11 Y1
1202(3)S
11 C
(ioc)201 1257 A
11 Y1
1458(3)S
11 C
(setopt\(chan)737 1513 A
11 Y1
2250(3)S
11 C
(cap,)268 2305 A
(ipopt\))402 2640 A
1692 V
(capability)670 1068 A
(*chan)335 1805 A
11 Y1
2140(3)S
11 C
(cap;)268 2195 A
1832 V
(struct)402 1068 A
(nwio)268 1537 A
11 Y1
1805(3)S
11 C
(ipopt)335 1860 A
(*ipopt;)469 2262 A
2032 V
12 R
708(Before)S
1072(an)S
1221(IP)S
1364(channel)S
1775(can)S
1978(be)S
2127(used,)S
2413(it)S
2516(has)S
2712(to)S
2841(be)S
2990(configured)S
3549(using)S
12 I
3845(ip)S
12 Y1
3939(3)S
12 I
3999(ioc)S
12 Y1
4147(3)S
12 I
4207(setopt)S
12 R
4506(.)S
4601(The)S
4824(structure)S
2172 V
12 I
708(nwio)S
12 Y1
942(3)S
12 I
(ipopt)248 1002 A
12 R
1280(is)S
1391(defined)S
1784(in)S
12 I
1908(server/ip/gen/ip)S
12 Y1
2675(3)S
12 I
2735(io.h)S
12 R
2919(:)S
2372 V
11 C
(typedef)469 1068 A
(struct)402 1604 A
(nwio)268 2073 A
11 Y1
2341(3)S
11 C
(ipopt)335 2396 A
2512 V
1068({)S
2652 V
(u32)201 1604 A
11 Y1
1805(3)S
11 C
1860(t)S
(nwio)268 1994 A
11 Y1
2262(3)S
11 C
(flags;)402 2317 A
2792 V
(ipaddr)402 1604 A
11 Y1
2006(3)S
11 C
2061(t)S
(nwio)268 2195 A
11 Y1
2463(3)S
11 C
(rem;)268 2518 A
2932 V
1604(ip)S
11 Y1
1738(3)S
11 C
(hdropt)402 1793 A
11 Y1
2195(3)S
11 C
2250(t)S
(nwio)268 2384 A
11 Y1
2652(3)S
11 C
(hdropt;)469 2707 A
3072 V
1604(u8)S
11 Y1
1738(3)S
11 C
1793(t)S
(nwio)268 1927 A
11 Y1
2195(3)S
11 C
(tos;)268 2250 A
3212 V
1604(u8)S
11 Y1
1738(3)S
11 C
1793(t)S
(nwio)268 1927 A
11 Y1
2195(3)S
11 C
(ttl;)268 2250 A
3352 V
1604(u8)S
11 Y1
1738(3)S
11 C
1793(t)S
(nwio)268 1927 A
11 Y1
2195(3)S
11 C
(df;)201 2250 A
3492 V
(ipproto)469 1604 A
11 Y1
2073(3)S
11 C
2128(t)S
(nwio)268 2262 A
11 Y1
2530(3)S
11 C
(proto;)402 2585 A
3632 V
1068(})S
(nwio)268 1202 A
11 Y1
1470(3)S
11 C
(ipopt)335 1525 A
11 Y1
1860(3)S
11 C
1915(t;)S
3892 V
(#define)469 1068 A
(NWIO)268 1604 A
11 Y1
1872(3)S
11 C
(NOFLAGS)469 1927 A
(0x0000L)469 2664 A
4032 V
(#define)469 1068 A
(NWIO)268 1604 A
11 Y1
1872(3)S
11 C
(ACC)201 1927 A
11 Y1
2128(3)S
11 C
(MASK)268 2183 A
(0x0003L)469 2652 A
4172 V
1068(#)S
(define)402 1604 A
(NWIO)268 2073 A
11 Y1
2341(3)S
11 C
(EXCL)268 2396 A
(0x00000001L)737 3200 A
4312 V
1068(#)S
(define)402 1604 A
(NWIO)268 2073 A
11 Y1
2341(3)S
11 C
(SHARED)402 2396 A
(0x00000002L)737 3200 A
4452 V
1068(#)S
(define)402 1604 A
(NWIO)268 2073 A
11 Y1
2341(3)S
11 C
(COPY)268 2396 A
(0x00000003L)737 3200 A
4592 V
(#define)469 1068 A
(NWIO)268 1604 A
11 Y1
1872(3)S
11 C
(LOC)201 1927 A
11 Y1
2128(3)S
11 C
(MASK)268 2183 A
(0x0010L)469 2652 A
4732 V
1068(#)S
(define)402 1604 A
(NWIO)268 2073 A
11 Y1
2341(3)S
11 C
2396(EN)S
11 Y1
2530(3)S
11 C
(LOC)201 2585 A
(0x00000010L)737 3188 A
4872 V
1068(#)S
(define)402 1604 A
(NWIO)268 2073 A
11 Y1
2341(3)S
11 C
2396(DI)S
11 Y1
2530(3)S
11 C
(LOC)201 2585 A
(0x00100000L)737 3188 A
5012 V
(#define)469 1068 A
(NWIO)268 1604 A
11 Y1
1872(3)S
11 C
(BROAD)335 1927 A
11 Y1
2262(3)S
11 C
(MASK)268 2317 A
(0x0020L)469 2652 A
5152 V
1068(#)S
(define)402 1604 A
(NWIO)268 2073 A
11 Y1
2341(3)S
11 C
2396(EN)S
11 Y1
2530(3)S
11 C
(BROAD)335 2585 A
(0x00000020L)737 3188 A
5292 V
1068(#)S
(define)402 1604 A
(NWIO)268 2073 A
11 Y1
2341(3)S
11 C
2396(DI)S
11 Y1
2530(3)S
11 C
(BROAD)335 2585 A
(0x00200000L)737 3188 A
5432 V
(#define)469 1068 A
(NWIO)268 1604 A
11 Y1
1872(3)S
11 C
(REM)201 1927 A
11 Y1
2128(3)S
11 C
(MASK)268 2183 A
(0x0100L)469 2652 A
5572 V
1068(#)S
(define)402 1604 A
(NWIO)268 2073 A
11 Y1
2341(3)S
11 C
(REMSPEC)469 2396 A
(0x00000100L)737 3200 A
5712 V
1068(#)S
(define)402 1604 A
(NWIO)268 2073 A
11 Y1
2341(3)S
11 C
(REMANY)402 2396 A
(0x01000000L)737 3200 A
5852 V
(#define)469 1068 A
(NWIO)268 1604 A
11 Y1
1872(3)S
11 C
(PROTO)335 1927 A
11 Y1
2262(3)S
11 C
(MASK)268 2317 A
(0x0200L)469 2652 A
5992 V
1068(#)S
(define)402 1604 A
(NWIO)268 2073 A
11 Y1
2341(3)S
11 C
(PROTOSPEC)603 2396 A
(0x00000200L)737 3200 A
6132 V
1068(#)S
(define)402 1604 A
(NWIO)268 2073 A
11 Y1
2341(3)S
11 C
(PROTOANY)536 2396 A
(0x02000000L)737 3200 A
6272 V
(#define)469 1068 A
(NWIO)268 1604 A
11 Y1
1872(3)S
11 C
(HDR)201 1927 A
11 Y1
2128(3)S
11 C
2183(O)S
11 Y1
2250(3)S
11 C
(MASK)268 2305 A
(0x0400L)469 2640 A
6412 V
1068(#)S
(define)402 1604 A
(NWIO)268 2073 A
11 Y1
2341(3)S
11 C
(HDR)201 2396 A
11 Y1
2597(3)S
11 C
2652(O)S
11 Y1
2719(3)S
11 C
(SPEC)268 2774 A
(0x00000400L)737 3176 A
6552 V
1068(#)S
(define)402 1604 A
(NWIO)268 2073 A
11 Y1
2341(3)S
11 C
(HDR)201 2396 A
11 Y1
2597(3)S
11 C
2652(O)S
11 Y1
2719(3)S
11 C
(ANY)201 2774 A
(0x04000000L)737 3176 A
6692 V
(#define)469 1068 A
(NWIO)268 1604 A
11 Y1
1872(3)S
11 C
1927(RW)S
11 Y1
2061(3)S
11 C
(MASK)268 2116 A
(0x1000L)469 2652 A
6832 V
1068(#)S
(define)402 1604 A
(NWIO)268 2073 A
11 Y1
2341(3)S
11 C
(RWDATONLY)603 2396 A
(0x00001000L)737 3200 A
6972 V
1068(#)S
(define)402 1604 A
(NWIO)268 2073 A
11 Y1
2341(3)S
11 C
(RWDATALL)536 2396 A
(0x10000000L)737 3200 A
7172 V
12 R
708(The)S
961(options)S
1381(are)S
1595(divided)S
2022(into)S
2275(several)S
2685(categories:)S
12 C
(NWIO)292 3277 A
12 Y1
3569(3)S
12 C
(ACC)219 3629 A
12 Y1
3848(3)S
12 C
(MASK)292 3908 A
12 R
4200(,)S
12 C
(NWIO)292 4296 A
12 Y1
4588(3)S
12 C
(LOC)219 4648 A
12 Y1
4867(3)S
12 C
(MASK)292 4927 A
12 R
5219(,)S
7312 V
12 C
(NWIO)292 708 A
12 Y1
1000(3)S
12 C
(BROAD)365 1060 A
12 Y1
1425(3)S
12 C
(MASK)292 1485 A
12 R
1777(,)S
12 C
(NWIO)292 1847 A
12 Y1
2139(3)S
12 C
(REM)219 2199 A
12 Y1
2418(3)S
12 C
(MASK)292 2478 A
12 R
2770(,)S
12 C
(NWIO)292 2840 A
12 Y1
3132(3)S
12 C
(PROTO)365 3192 A
12 Y1
3557(3)S
12 C
(MASK)292 3617 A
12 R
3909(,)S
12 C
(NWIO)292 3979 A
12 Y1
4271(3)S
12 C
(HDR)219 4331 A
12 Y1
4550(3)S
12 C
4610(O)S
12 Y1
4683(3)S
12 C
(MASK)292 4743 A
12 R
5075(and)S
7700 V
2683(Amoeba)S
3123(5.3)S
(213)180 5069 A
7920 V
EP
%%Page: 214 220
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ip)S
12 Y1
802(3)S
12 R
862(ip)S
976(\(L\))S
2567(Library)S
2961(Routines)S
4825(ip)S
12 Y1
4919(3)S
12 R
4979(ip)S
5093(\(L\))S
860 V
12 C
(NWIO)292 708 A
12 Y1
1000(3)S
12 C
1060(RW)S
12 Y1
1206(3)S
12 C
(MASK)292 1266 A
12 R
1558(.)S
1648(A)S
1766(channel)S
2172(is)S
2283(configured)S
2837(when)S
3129(one)S
3333(option)S
3671(of)S
(each)222 3802 A
4054(category)S
4501(is)S
4612(set.)S
1036 V
708(The)S
934(options)S
1327(covered)S
1748(by)S
12 C
(NWIO)292 1906 A
12 Y1
2198(3)S
12 C
(ACC)219 2258 A
12 Y1
2477(3)S
12 C
(MASK)292 2537 A
12 R
2868(control)S
3250(the)S
3437(number)S
3845(of)S
3985(channels)S
4447(that)S
4668(can)S
4875(use)S
5075(one)S
1176 V
708(IP)S
855(next-level)S
1379(protocol.)S
1881(If)S
12 C
(NWIO)292 2002 A
12 Y1
2294(3)S
12 C
(EXCL)292 2354 A
12 R
2685(is)S
2805(specified)S
3282(then)S
3529(only)S
3782(that)S
4003(channel)S
4418(can)S
4625(use)S
4825(a)S
4918(certain)S
1316 V
708(IP)S
872(next-level)S
1413(protocol.)S
1932(If)S
12 C
(NWIO)292 2070 A
12 Y1
2362(3)S
12 C
(SHARED)438 2422 A
12 R
2916(is)S
3054(set)S
3246(then)S
(multiple)404 3511 A
3972(channels)S
4452(that)S
4691(all)S
4870(have)S
5155(to)S
1456 V
708(specify)S
12 C
(NWIO)292 1099 A
12 Y1
1391(3)S
12 C
(SHARED)438 1451 A
12 R
1930(can)S
2139(use)S
2341(the)S
2530(same)S
2820(IP)S
2968(next-level)S
3493(protocol,)S
3966(but)S
4160(incoming)S
4656(packets)S
(will)190 5059 A
1596 V
708(be)S
861(delivered)S
1351(to)S
1485(at)S
1613(most)S
1888(one)S
2102(channel.)S
12 C
(NWIO)292 2578 A
12 Y1
2870(3)S
12 C
(COPY)292 2930 A
12 R
3262(does)S
3523(not)S
3717(impose)S
4106(any)S
4320(restrictions.)S
4960(Every)S
1736 V
708(channel)S
1114(gets)S
1339(a)S
(copy)234 1423 A
1687(of)S
1818(an)S
1962(incoming)S
2448(packet.)S
1912 V
12 C
(NWIO)292 708 A
12 Y1
1000(3)S
12 C
(LOC)219 1060 A
12 Y1
1279(3)S
12 C
(MASK)292 1339 A
12 R
1741(and)S
12 C
(NWIO)292 2025 A
12 Y1
2317(3)S
12 C
(BROAD)365 2377 A
12 Y1
2742(3)S
12 C
(MASK)292 2802 A
12 R
3204(control)S
3657(the)S
3915(delivery)S
4422(of)S
4633(packets.)S
5167(If)S
2052 V
12 C
(NWIO)292 708 A
12 Y1
1000(3)S
12 C
1060(EN)S
12 Y1
1206(3)S
12 C
(LOC)219 1266 A
12 R
1554(is)S
1704(specified)S
2211(then)S
2488(packets)S
2920(that)S
3171(are)S
(explicitly)458 3389 A
3916(sent)S
4180(to)S
4343(the)S
4559(IP)S
4735(server)S
5100(are)S
2192 V
708(delivered.)S
1249(If)S
12 C
(NWIO)292 1362 A
12 Y1
1654(3)S
12 C
1714(EN)S
12 Y1
1860(3)S
12 C
(BROAD)365 1920 A
12 R
2316(is)S
2428(specified)S
2897(then)S
3136(broadcast)S
3631(packets)S
4025(are)S
4205(delivered.)S
4747(Either)S
5075(one)S
2332 V
708(or)S
839(both)S
1083(of)S
1214(them)S
1486(can)S
1684(be)S
1828(disabled)S
2261(with)S
12 C
(NWIO)292 2507 A
12 Y1
2799(3)S
12 C
2859(DI)S
12 Y1
3005(3)S
12 C
(LOC)219 3065 A
12 R
3314(and)S
12 C
(NWIO)292 3518 A
12 Y1
3810(3)S
12 C
3870(DI)S
12 Y1
4016(3)S
12 C
(BROAD)365 4076 A
12 R
4441(.)S
2508 V
12 C
(NWIO)292 708 A
12 Y1
1000(3)S
12 C
(REMSPEC)511 1060 A
12 R
1619(can)S
1835(be)S
1997(used)S
2266(to)S
2408(restrict)S
2795(communication)S
3595(to)S
3737(one)S
3959(remote)S
4344(host.)S
4654(This)S
4918(host)S
5168(is)S
2648 V
708(taken)S
1004(from)S
1273(the)S
12 I
1454(nwio)S
12 Y1
1688(3)S
12 I
1748(rem)S
12 R
1970(field.)S
2286(If)S
2401(any)S
2608(remote)S
2978(host)S
3212(is)S
3326(to)S
3453(be)S
3600(allowed)S
4017(then)S
12 C
(NWIO)292 4258 A
12 Y1
4550(3)S
12 C
(REMANY)438 4610 A
12 R
5081(can)S
2788 V
708(be)S
852(used.)S
2964 V
12 C
(NWIO)292 708 A
12 Y1
1000(3)S
12 C
(PROTOSPEC)657 1060 A
12 R
1780(restricts)S
2229(communication)S
3044(to)S
3201(one)S
3438(IP)S
3609(next-level)S
4157(protocol,)S
4653(specified)S
5155(in)S
3104 V
12 I
708(nwio)S
12 Y1
942(3)S
12 I
1002(proto)S
12 R
1263(.)S
12 C
(NWIO)292 1353 A
12 Y1
1645(3)S
12 C
(PROTOANY)584 1705 A
12 R
2319(allows)S
2666(any)S
2870(protocol)S
3303(to)S
3427(be)S
3571(sent)S
3796(or)S
(received.)441 3927 A
3280 V
12 C
(NWIO)292 708 A
12 Y1
1000(3)S
12 C
(HDR)219 1060 A
12 Y1
1279(3)S
12 C
1339(O)S
12 Y1
1412(3)S
12 C
(SPEC)292 1472 A
12 R
1802(specifies)S
2265(all)S
2425(IP)S
2571(header)S
2932(options)S
3325(in)S
3457(advance.)S
3951(The)S
4177(values)S
4524(are)S
4712(taken)S
5013(from)S
3420 V
12 I
708(nwio)S
12 Y1
942(3)S
12 I
1002(hdropt)S
12 R
1333(,)S
12 I
1412(nwio)S
12 Y1
1646(3)S
12 I
1706(tos)S
12 R
1857(,)S
12 I
1936(nwio)S
12 Y1
2170(3)S
12 I
(ttl)102 2230 A
12 R
2342(,)S
2421(and)S
12 I
2644(nwio)S
12 Y1
2878(3)S
12 I
2938(df)S
12 R
3042(.)S
12 I
3151(Nwio)S
12 Y1
3405(3)S
12 I
3465(hdropt)S
12 R
3835(specifies)S
4309(the)S
4506(IP)S
4663(options)S
5067(that)S
3560 V
(should)321 708 A
1059(be)S
1203(present)S
1583(in)S
1707(an)S
1851(outgoing)S
2309(packet.)S
12 I
2715(Ip)S
12 Y1
2816(3)S
12 I
2876(hdropt)S
12 Y1
3197(3)S
12 I
3257(t)S
12 R
3321(is)S
3432(defined)S
3825(in)S
12 I
3949(server/ip/gen/in.h)S
12 R
4806(:)S
3760 V
11 C
(typedef)469 1068 A
(struct)402 1604 A
2073(ip)S
11 Y1
2207(3)S
11 C
(hdropt)402 2262 A
3900 V
1068({)S
4040 V
1604(u8)S
11 Y1
1738(3)S
11 C
1793(t)S
(iho)201 1927 A
11 Y1
2128(3)S
11 C
(opt)201 2183 A
11 Y1
2384(3)S
11 C
(siz;)268 2439 A
4180 V
1604(u8)S
11 Y1
1738(3)S
11 C
1793(t)S
(iho)201 1927 A
11 Y1
2128(3)S
11 C
(data[IP)469 2183 A
11 Y1
2652(3)S
11 C
(MAX)201 2707 A
11 Y1
2908(3)S
11 C
(HDR)201 2963 A
11 Y1
3164(3)S
11 C
(SIZE-IP)469 3219 A
11 Y1
3688(3)S
11 C
(MIN)201 3743 A
11 Y1
3944(3)S
11 C
(HDR)201 3999 A
11 Y1
4200(3)S
11 C
(SIZE];)402 4255 A
4320 V
1068(})S
1202(ip)S
11 Y1
1336(3)S
11 C
(hdropt)402 1391 A
11 Y1
1793(3)S
11 C
1848(t;)S
4520 V
12 R
708(The)S
12 I
945(iho)S
12 Y1
1099(3)S
12 I
1159(opt)S
12 Y1
1313(3)S
12 I
1373(siz)S
12 R
1550(bytes)S
1855(in)S
12 I
1999(iho)S
12 Y1
2153(3)S
12 I
2213(data)S
12 R
2477(are)S
2676(appended)S
3188(to)S
3332(the)S
3530(IP)S
3688(header.)S
12 I
4121(Nwio)S
12 Y1
4375(3)S
12 I
4435(tos)S
12 R
4626(specifies)S
5101(the)S
4660 V
708(value)S
1008(of)S
1147(the)S
1333(``type)S
1661(of)S
1800(service'')S
2264(bits,)S
12 I
2507(nwio)S
12 Y1
2741(3)S
12 I
(ttl)102 2801 A
12 R
2941(gives)S
3234(the)S
3420(value)S
3720(of)S
3859(the)S
4045(``time)S
4381(to)S
4513(live'')S
4815(field)S
5075(and)S
4800 V
12 I
708(nwio)S
12 Y1
942(3)S
12 I
1002(df)S
12 R
1132(specifies)S
1593(whether)S
2020(fragmentation)S
2736(is)S
2853(disallowed)S
3415(or)S
3553(not.)S
12 C
(NWIO)292 3804 A
12 Y1
4096(3)S
12 C
(HDR)219 4156 A
12 Y1
4375(3)S
12 C
4435(O)S
12 Y1
4508(3)S
12 C
(ANY)219 4568 A
12 R
4824(specifies)S
4940 V
708(that)S
920(the)S
1098(header)S
1451(options)S
1836(must)S
2101(be)S
2245(specified)S
2713(with)S
(each)222 2959 A
3211(write)S
3492(request.)S
5116 V
12 C
(NWIO)292 708 A
12 Y1
1000(3)S
12 C
(RWDATONLY)657 1060 A
12 R
1757(specifies)S
2222(that)S
2444(the)S
2632(header)S
(should)321 2995 A
3356(be)S
(omitted)370 3510 A
3920(from)S
4196(a)S
4291(write)S
4583(request.)S
5034(This)S
5256 V
708(option)S
1097(can)S
1346(only)S
1641(be)S
1836(used)S
2138(when)S
2481(all)S
2684(header)S
3088(fields)S
3439(are)S
3669(specified)S
4188(in)S
4363(previous)S
4860(options:)S
5396 V
12 C
(NWIO)292 708 A
12 Y1
1000(3)S
12 C
1060(EN)S
12 Y1
1206(3)S
12 C
(LOC)219 1266 A
12 R
1485(,)S
12 C
(NWIO)292 1691 A
12 Y1
1983(3)S
12 C
2043(DI)S
12 Y1
2189(3)S
12 C
(BROAD)365 2249 A
12 R
2614(,)S
12 C
(NWIO)292 2820 A
12 Y1
3112(3)S
12 C
(REMSPEC)511 3172 A
12 R
3683(,)S
12 C
(NWIO)292 3889 A
12 Y1
4181(3)S
12 C
(PROTOSPEC)657 4241 A
12 R
5075(and)S
5536 V
12 C
(NWIO)292 708 A
12 Y1
1000(3)S
12 C
(HDR)219 1060 A
12 Y1
1279(3)S
12 C
1339(O)S
12 Y1
1412(3)S
12 C
(SPEC)292 1472 A
12 R
1764(.)S
1860(A)S
1984(read)S
2229(operation)S
(will)190 2722 A
2948(also)S
3178(only)S
3427(return)S
3752(the)S
3935(data)S
4172(part,)S
4426(so)S
4568(the)S
4751(IP)S
4894(options)S
5676 V
(will)190 708 A
928(be)S
1072(lost.)S
5992 V
12 I
708(ip)S
12 Y1
802(3)S
12 I
862(ioc)S
12 Y1
1010(3)S
12 I
1070(setroute)S
6228 V
11 C
(errstat)469 1068 A
6368 V
1068(ip)S
11 Y1
1202(3)S
11 C
(ioc)201 1257 A
11 Y1
1458(3)S
11 C
(setroute\(chan)871 1513 A
11 Y1
2384(3)S
11 C
(cap,)268 2439 A
(route\))402 2774 A
6508 V
(capability)670 1068 A
(*chan)335 1805 A
11 Y1
2140(3)S
11 C
(cap;)268 2195 A
6648 V
(struct)402 1068 A
(nwio)268 1537 A
11 Y1
1805(3)S
11 C
(route)335 1860 A
(*route;)469 2262 A
6848 V
12 I
708(Ip)S
12 Y1
809(3)S
12 I
869(ioc)S
12 Y1
1017(3)S
12 I
1077(setroute)S
12 R
1498(adds)S
1750(a)S
1835(route)S
2115(to)S
2240(the)S
2419(routing)S
2799(table.)S
3127(See)S
12 I
3334(ip)S
12 Y1
3428(3)S
12 I
3488(ioc)S
12 Y1
3636(3)S
12 I
3696(getroute)S
12 R
(above)288 4131 A
4451(for)S
4625(a)S
4711(description)S
6988 V
708(of)S
839(the)S
12 I
1017(nwio)S
12 Y1
1251(3)S
12 I
1311(route)S
12 R
1596(structure.)S
2111(The)S
2329(fields)S
12 I
2629(nwr)S
12 Y1
2816(3)S
12 I
2876(ent)S
12 Y1
3024(3)S
12 I
3084(no)S
12 R
3234(and)S
12 I
3438(nwr)S
12 Y1
3625(3)S
12 I
3685(ent)S
12 Y1
3833(3)S
12 I
(count)268 3893 A
12 R
4191(are)S
(ignored.)399 4370 A
7700 V
(214)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 215 221
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ip)S
12 Y1
802(3)S
12 R
862(ip)S
976(\(L\))S
2567(Library)S
2961(Routines)S
4825(ip)S
12 Y1
4919(3)S
12 R
4979(ip)S
5093(\(L\))S
860 V
12 I
(Diagnostics)578 708 A
1036 V
12 R
708(The)S
926(complete)S
1400(set)S
1565(of)S
1696(error)S
1963(codes)S
2268(is)S
2379(described)S
2873(in)S
12 I
2997(ip)S
12 R
3101(\(L\).)S
1316 V
12 B
708(See)S
913(Also)S
1492 V
12 R
708(error\(L\),)S
1161(ip\(L\),)S
1471(ip)S
12 Y1
1565(3)S
12 R
1625(eth\(L\),)S
1989(ip)S
12 Y1
2083(3)S
12 R
2143(tcp\(L\),)S
2507(ip)S
12 Y1
2601(3)S
12 R
(udp\(L\),)366 2661 A
3057(ipsvr\(A\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(215)180 5069 A
7920 V
EP
%%Page: 216 222
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ip)S
12 Y1
802(3)S
12 R
862(tcp)S
1030(\(L\))S
2567(Library)S
2961(Routines)S
4771(ip)S
12 Y1
4865(3)S
12 R
4925(tcp)S
5093(\(L\))S
860 V
2350(\(in)S
2515(libraries:)S
2978(libamoeba.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(ip)S
12 Y1
802(3)S
12 R
862(tcp)S
12 R-1
1040(-)S
12 R
1168(Internet)S
1576(Protocol)S
2016(server's)S
2431(TCP)S
2682(client)S
(interface)426 2982 A
3438(stubs)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("server/ip/tcp)938 1311 A
11 Y1
2249(3)S
11 C
(io.h")335 2304 A
2182 V
(#include)536 708 A
("server/ip/types.h")1273 1311 A
2322 V
(#include)536 708 A
("server/ip/gen/in.h")1340 1311 A
2462 V
(#include)536 708 A
("server/ip/gen/tcp.h")1407 1311 A
2602 V
(#include)536 708 A
("server/ip/gen/tcp)1206 1311 A
11 Y1
2517(3)S
11 C
(io.h")335 2572 A
2882 V
(errstat)469 708 A
(tcp)201 1244 A
11 Y1
1445(3)S
11 C
(ioc)201 1500 A
11 Y1
1701(3)S
11 C
(connect\(chan)804 1756 A
11 Y1
2560(3)S
11 C
(cap,)268 2615 A
(tcpcl\))402 2950 A
3022 V
(errstat)469 708 A
(tcp)201 1244 A
11 Y1
1445(3)S
11 C
(ioc)201 1500 A
11 Y1
1701(3)S
11 C
(getconf\(chan)804 1756 A
11 Y1
2560(3)S
11 C
(cap,)268 2615 A
(tcpconf\))536 2950 A
3162 V
(errstat)469 708 A
(tcp)201 1244 A
11 Y1
1445(3)S
11 C
(ioc)201 1500 A
11 Y1
1701(3)S
11 C
(getopt\(chan)737 1756 A
11 Y1
2493(3)S
11 C
(cap,)268 2548 A
(tcpopt\))469 2883 A
3302 V
(errstat)469 708 A
(tcp)201 1244 A
11 Y1
1445(3)S
11 C
(ioc)201 1500 A
11 Y1
1701(3)S
11 C
(listen\(chan)737 1756 A
11 Y1
2493(3)S
11 C
(cap,)268 2548 A
(tcpcl\))402 2883 A
3442 V
(errstat)469 708 A
(tcp)201 1244 A
11 Y1
1445(3)S
11 C
(ioc)201 1500 A
11 Y1
1701(3)S
11 C
(setconf\(chan)804 1756 A
11 Y1
2560(3)S
11 C
(cap,)268 2615 A
(tcpconf\))536 2950 A
3582 V
(errstat)469 708 A
(tcp)201 1244 A
11 Y1
1445(3)S
11 C
(ioc)201 1500 A
11 Y1
1701(3)S
11 C
(setopt\(chan)737 1756 A
11 Y1
2493(3)S
11 C
(cap,)268 2548 A
(tcpopt\))469 2883 A
3722 V
(errstat)469 708 A
(tcp)201 1244 A
11 Y1
1445(3)S
11 C
(ioc)201 1500 A
11 Y1
1701(3)S
11 C
(shutdown\(chan)871 1756 A
11 Y1
2627(3)S
11 C
(cap\))268 2682 A
4062 V
12 B
708(Description)S
4238 V
12 R
708(The)S
966(Internet)S
1414(Protocol)S
1894(\(IP\))S
2154(server)S
2521(implements)S
3156(four)S
3429(network)S
3897(protocols,)S
4448(as)S
4620(described)S
5155(in)S
4378 V
12 I
708(ipsvr)S
12 R
960(\(A\).)S
1224(The)S
1446(routines)S
1870(described)S
2367(below)S
2696(give)S
(access)310 2937 A
3280(to)S
3407(the)S
3588(``Transmission)S
4355(Control)S
4757(Protocol'')S
4518 V
708(\(TCP\))S
1047(of)S
1184(the)S
1368(IP)S
1512(server.)S
1905(TCP)S
2162(implements)S
2763(a)S
(connection-oriented,)998 2853 A
3888(byte-stream)S
4498(protocol)S
4938(on)S
5095(top)S
4658 V
708(of)S
839(IP)S
977(\(see)S
(RFC-793\).)519 1203 A
4834 V
(Access)344 708 A
1100(to)S
1243(this)S
1467(service)S
1860(is)S
1990(provided)S
2468(using)S
2778(two)S
3009(types)S
3313(of)S
(capabilities:)587 3463 A
4099(a)S
4202(server)S
(capability)478 4548 A
5075(and)S
4974 V
708(channel)S
(capabilities.)583 1134 A
1797(The)S
2035(server)S
(capability)478 2382 A
2909(is)S
3039(called)S
12 I
3378(tcp)S
12 R
3536(.)S
3645(The)S
3882(server)S
(capability)478 4228 A
4755(is)S
4885(used)S
5155(to)S
5114 V
708(obtain)S
1044(a)S
1132(channel)S
1542(to)S
1670(the)S
(corresponding)691 1852 A
2577(server.)S
2968(This)S
3217(is)S
(done)234 3333 A
3602(with)S
12 I
3853(tcpip)S
12 Y1
4095(3)S
12 I
4155(open)S
12 R
4434(\(see)S
12 I
4665(ip)S
12 R
4769(\(L\)\).)S
5061(The)S
5254 V
708(channel)S
(capability)478 1119 A
1631(can)S
1833(be)S
1981(used)S
2236(to)S
2364(transfer)S
2770(data)S
3006(using)S
3301(the)S
3483(protocol)S
3920(implemented)S
4586(by)S
4740(the)S
4922(server.)S
5394 V
708(This)S
960(is)S
1078(also)S
(done)234 1310 A
1581(with)S
1834(the)S
2019(generic)S
12 I
2413(tcpip)S
12 Y1
2655(3)S
12 I
2715(read)S
12 R
2983(and)S
12 I
3194(tcpip)S
12 Y1
3436(3)S
12 I
3496(write)S
12 R
3792(routines.)S
4279(Since)S
4585(the)S
4771(semantics)S
5534 V
708(of)S
845(the)S
12 I
1029(tcpip)S
12 Y1
1271(3)S
12 R
1377(functions)S
1863(vary)S
2114(slightly)S
2513(depending)S
3051(on)S
3207(channel)S
3619(type,)S
3892(these)S
4176(routines)S
4601(are)S
4785(described)S
5674 V
708(briefly)S
1071(below.)S
1466(The)S
12 I
1693(tcp)S
12 Y1
1841(3)S
12 I
1901(ioc)S
12 Y1
2049(3)S
12 R
2158(routines)S
2587(are)S
2775(used)S
3036(to)S
3170(manage)S
3586(the)S
3774(options)S
4169(and)S
4383(status)S
4699(of)S
4840(the)S
5028(TCP)S
5814 V
708(channel.)S
5990 V
708(Before)S
1081(these)S
1373(routines)S
1806(are)S
1998(described,)S
2535(a)S
2632(brief)S
(introduction)591 2905 A
3539(to)S
3676(the)S
3867(various)S
4266(types)S
4564(is)S
4689(given.)S
5061(The)S
6130 V
708(general-purpose)S
1518(types)S
1803(and)S
2007(rights)S
2313(in)S
2437(the)S
(capabilities)553 2615 A
3198(are)S
3377(described)S
3871(in)S
12 I
3995(ip)S
12 R
4099(\(L\).)S
6446 V
12 I
708(TCP)S
959(Types)S
6622 V
12 R
708(server/ip/gen/tcp.h)S
6762 V
958(defines)S
12 I
(tcpport)349 1338 A
12 Y1
1687(3)S
12 I
1747(t)S
12 R
1821(and)S
12 I
(Tcpport)382 2025 A
12 Y1
2407(3)S
12 I
2467(t)S
12 R
2541(for)S
2713(use)S
2904(in)S
3028(prototypes.)S
6938 V
708(server/ip/gen/tcp)S
12 Y1
1523(3)S
12 R
1583(io.h)S
7078 V
958(defines)S
1356(struct)S
1674(nwio)S
12 Y1
1916(3)S
12 R
1976(tcpconf)S
2387(\()S
12 I
2428(nwio)S
12 Y1
2662(3)S
12 I
2722(tcpconf)S
12 Y1
3078(3)S
12 I
3138(t)S
12 R
3172(\),)S
3291(struct)S
3609(nwio)S
12 Y1
3851(3)S
12 R
3911(tcpcl)S
4195(\()S
12 I
4236(nwio)S
12 Y1
4470(3)S
12 I
4530(tcpcl)S
12 Y1
4766(3)S
12 I
4826(t)S
12 R
4860(\),)S
4979(struct)S
7218 V
958(nwio)S
12 Y1
1200(3)S
12 R
1260(tcpatt)S
1560(\()S
12 I
1601(nwio)S
12 Y1
1835(3)S
12 I
1895(tcpatt)S
12 Y1
2171(3)S
12 I
2231(t)S
12 R
2265(\))S
2336(and)S
2540(struct)S
2840(nwio)S
12 Y1
3082(3)S
12 R
(tcpopt)302 3142 A
3474(\()S
12 I
3515(nwio)S
12 Y1
3749(3)S
12 I
(tcpopt)302 3809 A
12 Y1
4111(3)S
12 I
4171(t)S
12 R
4205(\).)S
7700 V
(216)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 217 223
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ip)S
12 Y1
802(3)S
12 R
862(tcp)S
1030(\(L\))S
2567(Library)S
2961(Routines)S
4771(ip)S
12 Y1
4865(3)S
12 R
4925(tcp)S
5093(\(L\))S
860 V
708(server/ip/gen/tcp)S
12 Y1
1523(3)S
12 R
1583(hdr.h)S
1000 V
958(defines)S
1338(struct)S
1638(tcp)S
12 Y1
1786(3)S
12 R
1846(hdr)S
2037(\()S
12 I
2078(tcp)S
12 Y1
2226(3)S
12 I
2286(hdr)S
12 Y1
2453(3)S
12 I
2513(t)S
12 R
2547(\))S
2618(and)S
2822(struct)S
3122(tcp)S
12 Y1
3270(3)S
12 R
3330(hdropt)S
3675(\()S
12 I
3716(tcp)S
12 Y1
3864(3)S
12 I
3924(hdropt)S
12 Y1
4245(3)S
12 I
4305(t)S
12 R
4339(\).)S
1316 V
12 I
708(General)S
1135(Functions)S
1632 V
708(tcpip)S
12 Y1
950(3)S
12 I
1010(read)S
1868 V
11 C
(errstat)469 1068 A
2008 V
(tcpip)335 1068 A
11 Y1
1403(3)S
11 C
(read\(chan)603 1458 A
11 Y1
2061(3)S
11 C
(cap,)268 2116 A
(buffer,)469 2451 A
(nbytes\))469 2987 A
2148 V
(capability)670 1068 A
(*chan)335 1805 A
11 Y1
2140(3)S
11 C
(cap;)268 2195 A
2288 V
(char)268 1068 A
(*buffer;)536 1403 A
2428 V
(size)268 1068 A
11 Y1
1336(3)S
11 C
1391(t)S
(nbytes;)469 1525 A
2628 V
12 I
708(Tcpip)S
12 Y1
983(3)S
12 I
1043(read)S
12 R
1319(reads)S
1620(data)S
1867(from)S
2148(the)S
2341(TCP)S
2607(channel)S
3028(specified)S
3511(by)S
12 I
(chan)234 3676 A
12 Y1
3910(3)S
12 I
3970(cap)S
12 R
4200(into)S
12 I
4434(buffer)S
12 R
4733(.)S
4839(The)S
5073(call)S
2768 V
708(blocks)S
(until)222 1058 A
1315(either)S
12 I
1627(nbytes)S
12 R
1981(of)S
2117(data)S
2354(are)S
2538(available,)S
3041(or)S
3177(an)S
3326(error)S
(condition)456 3598 A
4089(is)S
4205(detected.)S
4704(On)S
(success)363 4886 A
2908 V
708(it)S
818(returns)S
1197(the)S
1387(number)S
1798(of)S
1941(bytes)S
2238(read.)S
2549(If)S
2673(the)S
(connection)530 2863 A
3435(has)S
3639(been)S
3910(closed)S
4262(then)S
4513(it)S
4624(returns)S
5004(0.)S
5167(If)S
3048 V
708(urgent)S
1057(data)S
1299(is)S
1420(pending)S
1848(and)S
2062(the)S
2250(channel)S
2665(is)S
2785(not)S
2978(configured)S
3541(for)S
3722(urgent)S
4070(data)S
4311(then)S
4558(the)S
4745(error)S
5021(code)S
3188 V
12 C
(TCPIP)365 708 A
12 Y1
1073(3)S
12 C
(URG)219 1133 A
12 R
1403(is)S
1535(returned.)S
2050(The)S
2289(channel)S
(should)321 2716 A
3088(then)S
3347(be)S
3512(reconfigured)S
4182(for)S
4375(urgent)S
4735(data)S
4988(using)S
3328 V
12 I
708(tcp)S
12 Y1
856(3)S
12 I
916(ioc)S
12 Y1
1064(3)S
12 I
1124(setopt)S
12 R
1423(.)S
1595(Further)S
12 I
2064(tcpip)S
12 Y1
2306(3)S
12 I
2366(read)S
12 R
2597(s)S
(should)321 2756 A
3189(then)S
3509(be)S
(done)234 3735 A
(until)222 4081 A
4414(the)S
4673(error)S
5021(code)S
3468 V
12 C
(TCPIP)365 708 A
12 Y1
1073(3)S
12 C
(NOURG)365 1133 A
12 R
1541(is)S
1665(returned,)S
2142(indicating)S
2670(that)S
2896(there)S
3183(is)S
3308(no)S
3472(more)S
3765(urgent)S
4118(data.)S
4424(At)S
4590(this)S
4809(point)S
5101(the)S
3608 V
708(channel)S
1114(can)S
1312(be)S
1456(reconfigured)S
2105(for)S
2277(normal)S
2650(operation.)S
3904 V
708(Error)S
(Conditions:)563 995 A
4044 V
1062(See)S
12 I
1267(ip)S
12 R
1371(\(L\))S
1557(for)S
1729(a)S
1813(description)S
2381(of)S
2512(the)S
2690(error)S
2957(codes.)S
4184 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(INTR)292 1341 A
4324 V
(TCPIP)365 1062 A
12 Y1
1427(3)S
12 C
(NOCONN)438 1487 A
4464 V
(TCPIP)365 1062 A
12 Y1
1427(3)S
12 C
(URG)219 1487 A
4604 V
(TCPIP)365 1062 A
12 Y1
1427(3)S
12 C
(NOURG)365 1487 A
4980 V
12 I
708(tcpip)S
12 Y1
950(3)S
12 I
1010(write)S
5216 V
11 C
(errstat)469 1068 A
5356 V
(tcpip)335 1068 A
11 Y1
1403(3)S
11 C
(write\(chan)670 1458 A
11 Y1
2128(3)S
11 C
(cap,)268 2183 A
(buffer,)469 2518 A
(nbytes\))469 3054 A
5496 V
(capability)670 1068 A
(*chan)335 1805 A
11 Y1
2140(3)S
11 C
(cap;)268 2195 A
5636 V
(char)268 1068 A
(*buffer;)536 1403 A
5776 V
(size)268 1068 A
11 Y1
1336(3)S
11 C
1391(t)S
(nbytes;)469 1525 A
5976 V
12 I
708(Tcpip)S
12 Y1
983(3)S
12 I
1043(write)S
12 R
1343(writes)S
1682(the)S
12 I
1871(nbytes)S
12 R
2231(of)S
2373(data)S
2616(in)S
12 I
2751(buffer)S
12 R
3092(to)S
3228(the)S
3418(TCP)S
3681(channel)S
4099(specified)S
4579(by)S
12 I
(chan)234 4741 A
12 Y1
4975(3)S
12 I
5035(cap)S
12 R
5219(.)S
6116 V
708(The)S
938(call)S
1156(blocks)S
(until)222 1513 A
(enough)354 1776 A
2171(buffer)S
(space)269 2509 A
2819(is)S
2941(available)S
3420(to)S
3555(hold)S
3810(the)S
3999(entire)S
4317(write.)S
4669(Urgent)S
5047(data)S
6256 V
708(can)S
917(be)S
1072(sent)S
1308(by)S
(setting)323 1469 A
1833(the)S
12 C
(NWTO)292 2022 A
12 Y1
2314(3)S
12 C
(SND)219 2374 A
12 Y1
2593(3)S
12 C
(URG)219 2653 A
12 R
2913(option)S
3262(using)S
12 I
3564(tcp)S
12 Y1
3712(3)S
12 I
3772(ioc)S
12 Y1
3920(3)S
12 I
3980(setopt)S
12 R
4320(and)S
4535(then)S
4785(doing)S
5101(the)S
6396 V
708(write.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(217)180 5069 A
7920 V
EP
%%Page: 218 224
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ip)S
12 Y1
802(3)S
12 R
862(tcp)S
1030(\(L\))S
2567(Library)S
2961(Routines)S
4771(ip)S
12 Y1
4865(3)S
12 R
4925(tcp)S
5093(\(L\))S
920 V
708(Error)S
(Conditions:)563 995 A
1060 V
1062(See)S
12 I
1267(ip)S
12 R
1371(\(L\))S
1557(for)S
1729(a)S
1813(description)S
2381(of)S
2512(the)S
2690(error)S
2957(codes.)S
1200 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(INTR)292 1341 A
1340 V
(TCPIP)365 1062 A
12 Y1
1427(3)S
12 C
(NOTCONN)511 1487 A
1480 V
(TCPIP)365 1062 A
12 Y1
1427(3)S
12 C
(SHUTDOWN)584 1487 A
1856 V
12 I
708(TCP)S
959(Functions)S
2208 V
708(tcp)S
12 Y1
856(3)S
12 I
916(ioc)S
12 Y1
1064(3)S
12 I
(connect)376 1124 A
2444 V
11 C
(errstat)469 1068 A
2584 V
(tcp)201 1068 A
11 Y1
1269(3)S
11 C
(ioc)201 1324 A
11 Y1
1525(3)S
11 C
(connect\(chan)804 1580 A
11 Y1
2384(3)S
11 C
(cap,)268 2439 A
(clopt\))402 2774 A
2724 V
(capability)670 1068 A
(*chan)335 1805 A
11 Y1
2140(3)S
11 C
(cap;)268 2195 A
2864 V
(struct)402 1068 A
(nwio)268 1537 A
11 Y1
1805(3)S
11 C
(tcpcl)335 1860 A
(*clopt;)469 2262 A
3064 V
12 I
708(Tcp)S
12 Y1
889(3)S
12 I
949(ioc)S
12 Y1
1097(3)S
12 I
(connect)376 1157 A
12 R
1576(tries)S
1819(to)S
1946(setup)S
2234(a)S
(connection)530 2321 A
2885(with)S
3135(a)S
3223(remote)S
3594(TCP/IP)S
3991(server.)S
4382(The)S
4604(channel)S
5014(must)S
3204 V
708(be)S
864(fully)S
1135(configured)S
1701(\(see)S
12 I
1939(tcp)S
12 Y1
2087(3)S
12 I
2147(ioc)S
12 Y1
2295(3)S
12 I
2355(setconf)S
12 R
2708(\))S
2791(and)S
3007(values)S
3357(for)S
3540(the)S
3729(local)S
4006(port,)S
4272(the)S
4461(remote)S
4839(port)S
5075(and)S
3344 V
708(the)S
917(remote)S
1315(address)S
1740(must)S
2037(have)S
2327(been)S
2617(specified)S
3117(using)S
12 C
(NWTC)292 3440 A
12 Y1
3732(3)S
12 C
3792(LP)S
12 Y1
3938(3)S
12 C
(SET)219 3998 A
12 R
4279(or)S
12 C
(NWTC)292 4442 A
12 Y1
4734(3)S
12 C
4794(LP)S
12 Y1
4940(3)S
12 C
(SEL)219 5000 A
12 R
5219(,)S
3484 V
12 C
(NWTC)292 708 A
12 Y1
1000(3)S
12 C
(SET)219 1060 A
12 Y1
1279(3)S
12 C
1339(RA)S
12 R
1515(and)S
12 C
(NWTC)292 1719 A
12 Y1
2011(3)S
12 C
(SET)219 2071 A
12 Y1
2290(3)S
12 C
2350(RP)S
12 R
2496(.)S
3800 V
12 I
708(tcp)S
12 Y1
856(3)S
12 I
916(ioc)S
12 Y1
1064(3)S
12 I
1124(getconf)S
4036 V
11 C
(errstat)469 1068 A
4176 V
(tcp)201 1068 A
11 Y1
1269(3)S
11 C
(ioc)201 1324 A
11 Y1
1525(3)S
11 C
(getconf\(chan)804 1580 A
11 Y1
2384(3)S
11 C
(cap,)268 2439 A
(tcpconf\))536 2774 A
4316 V
(capability)670 1068 A
(*chan)335 1805 A
11 Y1
2140(3)S
11 C
(cap;)268 2195 A
4456 V
(struct)402 1068 A
(nwio)268 1537 A
11 Y1
1805(3)S
11 C
(tcpconf)469 1860 A
(*tcpconf;)603 2396 A
4656 V
12 R
708(This)S
964(call)S
1181(reports)S
1559(the)S
1748(current)S
2133(configuration)S
2826(of)S
2968(a)S
3063(TCP)S
3325(channel.)S
3803(See)S
12 I
4020(tcp)S
12 Y1
4168(3)S
12 I
4228(ioc)S
12 Y1
4376(3)S
12 I
4436(setconf)S
12 R
4789(for)S
12 I
4973(struct)S
4796 V
708(nwio)S
12 Y1
942(3)S
12 I
1002(tcpconf)S
12 R
1368(.)S
1475(The)S
12 I
1710(nwtc)S
12 Y1
1938(3)S
12 I
1998(flags)S
12 R
2290(field)S
2560(shows)S
2909(the)S
3103(status)S
3425(of)S
3572(the)S
12 I
(access)316 3766 A
12 R
4092(,)S
12 I
4168(locport)S
12 R
4527(,)S
12 I
(remaddr)416 4603 A
12 R
5075(and)S
4936 V
12 I
708(remport)S
12 R
1144(fields.)S
12 I
1510(Nwtc)S
12 Y1
1758(3)S
12 I
(locaddr)375 1818 A
12 R
2239(contains)S
2679(the)S
2864(Internet)S
3279(address)S
3679(of)S
3817(the)S
4002(TCP/IP)S
4402(server.)S
12 I
(Remaddr)443 4796 A
5076 V
12 R
708(contains)S
1178(the)S
1393(Internet)S
1838(address)S
2268(of)S
2436(the)S
2651(remote)S
3055(TCP/IP)S
3485(server,)S
3879(once)S
4174(it)S
4309(has)S
4537(been)S
4832(set)S
5033(with)S
5216 V
12 C
(NWTC)292 708 A
12 Y1
1000(3)S
12 C
(SET)219 1060 A
12 Y1
1279(3)S
12 C
1339(RA)S
12 R
1582(or)S
1780(after)S
2101(a)S
(successful)498 2252 A
(connect)376 2847 A
3321(or)S
3520(listen)S
3881(\(see)S
12 I
4175(tcp)S
12 Y1
4323(3)S
12 I
4383(ioc)S
12 Y1
4531(3)S
12 I
(connect)376 4591 A
12 R
5075(and)S
5356 V
12 I
708(tcp)S
12 Y1
856(3)S
12 I
916(ioc)S
12 Y1
1064(3)S
12 I
1124(listen)S
12 R
1397(\).)S
12 I
1546(Nwio)S
12 Y1
1800(3)S
12 I
1860(locport)S
12 R
2267(contains)S
2718(the)S
2914(local)S
3197(TCP/IP)S
3607(port,)S
3879(set)S
4061(with)S
12 C
(NWTC)292 4324 A
12 Y1
4616(3)S
12 C
4676(LP)S
12 Y1
4822(3)S
12 C
(SET)219 4882 A
12 R
5148(or)S
5496 V
708(the)S
913(selected)S
1362(port)S
1615(set)S
1808(with)S
12 C
(NWTC)292 2082 A
12 Y1
2374(3)S
12 C
2434(LP)S
12 Y1
2580(3)S
12 C
(SEL)219 2640 A
12 R
2859(.)S
12 I
2977(Nwtc)S
12 Y1
3225(3)S
12 I
3285(remport)S
12 R
3743(contains)S
4204(the)S
4410(TCP)S
4689(port)S
4942(of)S
5101(the)S
5636 V
708(remote)S
1081(TCP/IP)S
1480(server)S
1813(as)S
1950(set)S
2121(with)S
12 C
(NWIO)292 2373 A
12 Y1
2665(3)S
12 C
(SET)219 2725 A
12 Y1
2944(3)S
12 C
3004(RP)S
12 R
3186(or)S
3323(after)S
3583(a)S
(successful)498 3673 A
(connect)376 4207 A
4619(or)S
4755(listen)S
5053(\(see)S
5776 V
12 I
708(tcp)S
12 Y1
856(3)S
12 I
916(ioc)S
12 Y1
1064(3)S
12 I
(connect)376 1124 A
12 R
1540(or)S
12 I
1671(tcp)S
12 Y1
1819(3)S
12 I
1879(ioc)S
12 Y1
2027(3)S
12 I
2087(listen)S
12 R
2360(\).)S
5952 V
708(A)S
838(value)S
1142(of)S
1285(0)S
1387(\(zero\))S
1720(is)S
1843(reported)S
2289(for)S
12 I
2473(nwtc)S
12 Y1
2701(3)S
12 I
(remaddr,)446 2761 A
3259(nwtc)S
12 Y1
3487(3)S
12 I
3547(locport)S
12 R
3949(or)S
12 I
4093(nwtc)S
12 Y1
4321(3)S
12 I
4381(remport)S
12 R
4824(when)S
5129(no)S
6092 V
708(value)S
1000(is)S
1111(set,)S
1306(either)S
(explicitly)458 1613 A
2101(or)S
(implicitly.)502 2232 A
6408 V
12 I
708(tcp)S
12 Y1
856(3)S
12 I
916(ioc)S
12 Y1
1064(3)S
12 I
1124(getopt)S
6644 V
11 C
(errstat)469 1068 A
6784 V
(tcp)201 1068 A
11 Y1
1269(3)S
11 C
(ioc)201 1324 A
11 Y1
1525(3)S
11 C
(getopt\(chan)737 1580 A
11 Y1
2317(3)S
11 C
(cap,)268 2372 A
(tcpopt\))469 2707 A
6924 V
(capability)670 1068 A
1805(*)S
(chan)268 1939 A
11 Y1
2207(3)S
11 C
(cap;)268 2262 A
7064 V
(struct)402 1068 A
(nwio)268 1537 A
11 Y1
1805(3)S
11 C
(tcpopt)402 1860 A
(*tcpopt;)536 2329 A
7300 V
12 R
708(This)S
971(returns)S
1356(in)S
12 I
(tcpopt)302 1498 A
12 R
1858(the)S
2054(current)S
2446(options)S
2849(for)S
3039(a)S
3141(TCP)S
3410(channel)S
3834(specified)S
4320(by)S
12 I
(chan)234 4488 A
12 Y1
4722(3)S
12 I
4782(cap)S
12 R
4966(.)S
5074(See)S
7700 V
(218)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 219 225
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ip)S
12 Y1
802(3)S
12 R
862(tcp)S
1030(\(L\))S
2567(Library)S
2961(Routines)S
4771(ip)S
12 Y1
4865(3)S
12 R
4925(tcp)S
5093(\(L\))S
860 V
12 I
708(tcp)S
12 Y1
856(3)S
12 I
916(ioc)S
12 Y1
1064(3)S
12 I
1124(setopt)S
12 R
1453(for)S
1625(a)S
1709(description)S
2277(of)S
2408(the)S
2586(various)S
2972(options.)S
1176 V
12 I
708(tcp)S
12 Y1
856(3)S
12 I
916(ioc)S
12 Y1
1064(3)S
12 I
1124(listen)S
1412 V
11 C
(errstat)469 1068 A
1552 V
(tcp)201 1068 A
11 Y1
1269(3)S
11 C
(ioc)201 1324 A
11 Y1
1525(3)S
11 C
(listen\(chan)737 1580 A
11 Y1
2317(3)S
11 C
(cap,)268 2372 A
(clopt\))402 2707 A
1692 V
(capability)670 1068 A
(*chan)335 1805 A
11 Y1
2140(3)S
11 C
(cap;)268 2195 A
1832 V
(struct)402 1068 A
(nwio)268 1537 A
11 Y1
1805(3)S
11 C
(tcpcl)335 1860 A
(*clopt;)469 2262 A
2032 V
12 I
708(Tcp)S
12 Y1
889(3)S
12 I
949(ioc)S
12 Y1
1097(3)S
12 I
1157(listen)S
12 R
1485(waits)S
(until)222 1797 A
2074(a)S
2183(remote)S
2575(TCP/IP)S
2993(server)S
3345(tries)S
3610(to)S
(connect)376 3759 A
4190(to)S
4339(this)S
4569(channel.)S
5061(The)S
2172 V
708(channel)S
1118(has)S
1313(to)S
1441(be)S
1589(configured)S
2147(\(see)S
12 I
2376(tcp)S
12 Y1
2524(3)S
12 I
2584(ioc)S
12 Y1
2732(3)S
12 I
2792(setconf)S
12 R
3145(\).)S
3279(An)S
(additional)484 3460 A
3977(restriction)S
4503(is)S
4617(that)S
4832(the)S
5013(local)S
2312 V
708(port)S
940(must)S
1212(be)S
1363(set)S
1535(\(with)S
12 C
(NWTC)292 1829 A
12 Y1
2121(3)S
12 C
2181(LP)S
12 Y1
2327(3)S
12 C
(SET\))292 2387 A
12 R
2716(or)S
2854(selected)S
3283(\(with)S
12 C
(NWTC)292 3578 A
12 Y1
3870(3)S
12 C
3930(LP)S
12 Y1
4076(3)S
12 C
(SEL)219 4136 A
12 R
4355(\).)S
4494(When)S
4820(a)S
4912(remote)S
2452 V
708(address)S
1103(is)S
1216(set,)S
1413(only)S
(connections)577 1659 A
2267(for)S
2440(that)S
2653(host)S
2885(are)S
(accepted,)454 3065 A
3550(and)S
3755(when)S
4048(a)S
4133(remote)S
4501(port)S
4727(is)S
4839(set,)S
5035(only)S
2592 V
(connections)577 708 A
1330(from)S
1612(that)S
1840(port)S
2081(are)S
(accepted.)454 2276 A
2806(After)S
3110(a)S
(successful)498 3210 A
3754(listen,)S
12 I
4093(tcp)S
12 Y1
4241(3)S
12 I
4301(ioc)S
12 Y1
4449(3)S
12 I
4509(getconf)S
12 R
4921(can)S
5135(be)S
2732 V
708(used)S
959(to)S
1083(find)S
1308(out)S
1492(the)S
1670(address)S
2063(and)S
2267(port)S
2492(of)S
2623(the)S
2801(other)S
3080(side.)S
3048 V
12 I
708(tcp)S
12 Y1
856(3)S
12 I
916(ioc)S
12 Y1
1064(3)S
12 I
1124(setconf)S
3284 V
11 C
(errstat)469 1068 A
3424 V
(tcp)201 1068 A
11 Y1
1269(3)S
11 C
(ioc)201 1324 A
11 Y1
1525(3)S
11 C
(setconf\(chan)804 1580 A
11 Y1
2384(3)S
11 C
(cap,)268 2439 A
(conf\))335 2774 A
3564 V
(capability)670 1068 A
(*chan)335 1805 A
11 Y1
2140(3)S
11 C
(cap;)268 2195 A
3704 V
(struct)402 1068 A
(nwio)268 1537 A
11 Y1
1805(3)S
11 C
(tcpconf)469 1860 A
(*conf;)402 2396 A
3904 V
12 R
708(Before)S
1079(a)S
1174(TCP)S
1436(channel)S
1853(\(created)S
2286(by)S
(calling)330 2448 A
12 I
2820(tcpip)S
12 Y1
3062(3)S
12 I
3122(open)S
12 R
3408(with)S
3666(a)S
3762(TCP)S
4025(server)S
(capability\))519 4364 A
4925(can)S
5135(be)S
4044 V
708(used)S
1017(or)S
1206(options)S
1649(set,)S
1902(it)S
2058(must)S
2381(configured)S
2993(using)S
12 I
3342(tcp)S
12 Y1
3490(3)S
12 I
3550(ioc)S
12 Y1
3698(3)S
12 I
3758(setconf)S
12 R
4111(.)S
4259(The)S
4535(parameters)S
5155(to)S
4184 V
12 I
708(tcp)S
12 Y1
856(3)S
12 I
916(ioc)S
12 Y1
1064(3)S
12 I
1124(setconf)S
12 R
1558(are)S
1788(the)S
2017(channel)S
(capability)478 2475 A
3035(and)S
3291(a)S
12 I
3427(struct)S
3785(nwio)S
12 Y1
4019(3)S
12 I
4079(tcpconf)S
12 R
4527(as)S
4710(defined)S
5155(in)S
4324 V
12 I
708(server/ip/gen/tcp)S
12 Y1
1529(3)S
12 I
1589(io.h)S
12 R
1783(:)S
4524 V
11 C
(typedef)469 1068 A
(struct)402 1604 A
(nwio)268 2073 A
11 Y1
2341(3)S
11 C
(tcpconf)469 2396 A
4664 V
1068({)S
4804 V
(unsigned)536 1652 A
(long)268 2255 A
(nwtc)268 2590 A
11 Y1
2858(3)S
11 C
(flags;)402 2913 A
4944 V
(ipaddr)402 1652 A
11 Y1
2054(3)S
11 C
2109(t)S
(nwtc)268 2243 A
11 Y1
2511(3)S
11 C
(locaddr;)536 2566 A
5084 V
(ipaddr)402 1652 A
11 Y1
2054(3)S
11 C
2109(t)S
(nwtc)268 2243 A
11 Y1
2511(3)S
11 C
(remaddr;)536 2566 A
5224 V
(tcpport)469 1652 A
11 Y1
2121(3)S
11 C
2176(t)S
(nwtc)268 2310 A
11 Y1
2578(3)S
11 C
(locport;)536 2633 A
5364 V
(tcpport)469 1652 A
11 Y1
2121(3)S
11 C
2176(t)S
(nwtc)268 2310 A
11 Y1
2578(3)S
11 C
(remport;)536 2633 A
5504 V
1068(})S
(nwio)268 1202 A
11 Y1
1470(3)S
11 C
(tcpconf)469 1525 A
11 Y1
1994(3)S
11 C
2049(t;)S
7700 V
12 R
2683(Amoeba)S
3123(5.3)S
(219)180 5069 A
7920 V
EP
%%Page: 220 226
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ip)S
12 Y1
802(3)S
12 R
862(tcp)S
1030(\(L\))S
2567(Library)S
2961(Routines)S
4771(ip)S
12 Y1
4865(3)S
12 R
4925(tcp)S
5093(\(L\))S
920 V
11 C
(#define)469 1068 A
(NWTC)268 1604 A
11 Y1
1872(3)S
11 C
(NOFLAGS)469 1927 A
(0x0000L)469 2664 A
1060 V
(#define)469 1068 A
(NWTC)268 1604 A
11 Y1
1872(3)S
11 C
(ACC)201 1927 A
11 Y1
2128(3)S
11 C
(MASK)268 2183 A
(0x0003L)469 2652 A
1200 V
1068(#)S
(define)402 1604 A
(NWTC)268 2073 A
11 Y1
2341(3)S
11 C
(EXCL)268 2396 A
(0x00000001L)737 3200 A
1340 V
1068(#)S
(define)402 1604 A
(NWTC)268 2073 A
11 Y1
2341(3)S
11 C
(SHARED)402 2396 A
(0x00000002L)737 3200 A
1480 V
1068(#)S
(define)402 1604 A
(NWTC)268 2073 A
11 Y1
2341(3)S
11 C
(COPY)268 2396 A
(0x00000003L)737 3200 A
1620 V
(#define)469 1068 A
(NWTC)268 1604 A
11 Y1
1872(3)S
11 C
(LOCPORT)469 1927 A
11 Y1
2396(3)S
11 C
(MASK)268 2451 A
(0x0030L)469 3188 A
1760 V
1068(#)S
(define)402 1604 A
(NWTC)268 2073 A
11 Y1
2341(3)S
11 C
2396(LP)S
11 Y1
2530(3)S
11 C
(UNSET)335 2585 A
(0x00000010L)737 3188 A
1900 V
1068(#)S
(define)402 1604 A
(NWTC)268 2073 A
11 Y1
2341(3)S
11 C
2396(LP)S
11 Y1
2530(3)S
11 C
(SET)201 2585 A
(0x00000020L)737 3188 A
2040 V
1068(#)S
(define)402 1604 A
(NWTC)268 2073 A
11 Y1
2341(3)S
11 C
2396(LP)S
11 Y1
2530(3)S
11 C
(SEL)201 2585 A
(0x00000030L)737 3188 A
2180 V
(#define)469 1068 A
(NWTC)268 1604 A
11 Y1
1872(3)S
11 C
(REMADDR)469 1927 A
11 Y1
2396(3)S
11 C
(MASK)268 2451 A
(0x0100L)469 3188 A
2320 V
1068(#)S
(define)402 1604 A
(NWTC)268 2073 A
11 Y1
2341(3)S
11 C
(SET)201 2396 A
11 Y1
2597(3)S
11 C
2652(RA)S
(0x00000100L)737 3188 A
2460 V
1068(#)S
(define)402 1604 A
(NWTC)268 2073 A
11 Y1
2341(3)S
11 C
(UNSET)335 2396 A
11 Y1
2731(3)S
11 C
2786(RA)S
(0x01000000L)737 3188 A
2600 V
(#define)469 1068 A
(NWTC)268 1604 A
11 Y1
1872(3)S
11 C
(REMPORT)469 1927 A
11 Y1
2396(3)S
11 C
(MASK)268 2451 A
(0x0200L)469 3188 A
2740 V
1068(#)S
(define)402 1604 A
(NWTC)268 2073 A
11 Y1
2341(3)S
11 C
(SET)201 2396 A
11 Y1
2597(3)S
11 C
2652(RP)S
(0x00000200L)737 3188 A
2880 V
1068(#)S
(define)402 1604 A
(NWTC)268 2073 A
11 Y1
2341(3)S
11 C
(UNSET)335 2396 A
11 Y1
2731(3)S
11 C
2786(RP)S
(0x02000000L)737 3188 A
3080 V
12 R
708(A)S
835(TCP)S
1096(channel)S
1512(is)S
1633(considered)S
2197(configured)S
2761(when)S
3063(one)S
3277(flag)S
3506(in)S
(each)222 3640 A
3902(category)S
4359(has)S
4560(been)S
4828(selected.)S
3220 V
708(Thus)S
997(one)S
1219(of)S
12 C
(NWTC)292 1368 A
12 Y1
1660(3)S
12 C
(EXCL,)365 1720 A
(NWTC)292 2133 A
12 Y1
2425(3)S
12 C
(SHARED)438 2485 A
12 R
2971(or)S
12 C
(NWTC)292 3120 A
12 Y1
3412(3)S
12 C
(COPY,)365 3472 A
12 R
3884(one)S
4105(of)S
12 C
(NWTC)292 4253 A
12 Y1
4545(3)S
12 C
4605(LP)S
12 Y1
4751(3)S
12 C
(UNSET,)438 4811 A
3360 V
(NWTC)292 708 A
12 Y1
1000(3)S
12 C
1060(LP)S
12 Y1
1206(3)S
12 C
(SET)219 1266 A
12 R
1520(or)S
12 C
(NWTC)292 1656 A
12 Y1
1948(3)S
12 C
2008(LP)S
12 Y1
2154(3)S
12 C
(SEL,)292 2214 A
12 R
2541(one)S
2750(of)S
12 C
(NWTC)292 2886 A
12 Y1
3178(3)S
12 C
(SET)219 3238 A
12 Y1
3457(3)S
12 C
3517(RA)S
12 R
3698(or)S
12 C
(NWTC)292 3834 A
12 Y1
4126(3)S
12 C
(UNSET)365 4186 A
12 Y1
4551(3)S
12 C
(RA,)219 4611 A
12 R
4865(and)S
5075(one)S
3500 V
708(of)S
12 C
(NWTC)292 839 A
12 Y1
1131(3)S
12 C
(SET)219 1191 A
12 Y1
1410(3)S
12 C
1470(RP)S
12 R
1646(or)S
12 C
(NWTC)292 1777 A
12 Y1
2069(3)S
12 C
(UNSET)365 2129 A
12 Y1
2494(3)S
12 C
(RP.)219 2554 A
3676 V
12 R
708(The)S
12 C
(NWTC)292 950 A
12 Y1
1242(3)S
12 C
(ACC)219 1302 A
12 Y1
1521(3)S
12 R
1635(flags)S
1925(control)S
2322(the)S
(access)310 2524 A
2888(to)S
3036(a)S
3144(TCP)S
3419(port.)S
12 C
(NWTC)292 3729 A
12 Y1
4021(3)S
12 C
(EXCL)292 4081 A
12 R
4428(means)S
4792(exclusive)S
3816 V
(access.)340 708 A
1112(An)S
1294(attempt)S
1692(to)S
1820(configure)S
2318(a)S
2406(channel)S
(will)190 2816 A
3040(be)S
3188(denied)S
3544(if)S
3653(the)S
3835(same)S
4118(port)S
4347(is)S
4462(specified)S
4933(as)S
5067(that)S
3956 V
708(of)S
842(a)S
929(channel)S
1338(that)S
1553(requested)S
2050(exclusive)S
(access.)340 2540 A
12 C
(NWTC)292 2943 A
12 Y1
3235(3)S
12 C
(SHARED)438 3295 A
12 R
3767(indicates)S
4232(that)S
4448(several)S
4826(channels)S
4096 V
708(use)S
916(the)S
1111(same)S
1407(port)S
1649(but)S
(cooperate.)501 1850 A
2428(If)S
2557(the)S
2752(shared)S
3115(mode)S
3430(is)S
3558(specified)S
4043(for)S
4231(one)S
4451(channel)S
4873(then)S
5127(all)S
4236 V
708(other)S
1005(channels)S
1476(that)S
1706(use)S
1915(the)S
2111(same)S
2408(port)S
(should)321 2651 A
3020(also)S
3263(be)S
3425(configured)S
3997(with)S
4262(the)S
12 C
(NWTC)292 4459 A
12 Y1
4751(3)S
12 C
(SHARED)438 4811 A
4376 V
12 R
708(flag.)S
12 C
(NWTC)292 1005 A
12 Y1
1297(3)S
12 C
(COPY)292 1357 A
12 R
1697(is)S
1826(specified)S
2312(when)S
2622(the)S
2818(programmer)S
3465(does)S
3734(not)S
3935(care)S
(about)268 4185 A
4500(other)S
4796(channels.)S
4516 V
708(This)S
953(is)S
1064(the)S
1242(default.)S
4692 V
708(The)S
945(locport)S
1337(flags)S
1622(control)S
2014(which)S
2359(TCP)S
2629(port)S
2873(is)S
3003(used)S
3273(for)S
3464(communication.)S
12 C
(NWTC)292 4326 A
12 Y1
4618(3)S
12 C
4678(LP)S
12 Y1
4824(3)S
12 C
(UNSET)365 4884 A
4832 V
12 R
708(indicates)S
1188(the)S
1385(absence)S
1817(of)S
1967(a)S
2069(local)S
2353(port.)S
2656(This)S
2919(is)S
3048(the)S
3244(default.)S
12 C
(NWTC)292 3689 A
12 Y1
3981(3)S
12 C
4041(LP)S
12 Y1
4187(3)S
12 C
(SET)219 4247 A
12 R
4514(means)S
4871(that)S
5101(the)S
4972 V
12 I
708(nwtc)S
12 Y1
936(3)S
12 I
996(locport)S
12 R
1388(field)S
1644(contains)S
2081(the)S
2263(local)S
2533(port)S
2762(to)S
2890(be)S
3038(used)S
3293(by)S
3447(TCP.)S
3762(This)S
4011(value)S
4307(must)S
4576(be)S
4724(in)S
4852(network)S
5112 V
708(byte)S
948(order)S
1236(\(see)S
12 I
1464(Byte)S
1712(Order)S
2040(Conversion)S
12 R
2638(in)S
12 I
2764(ip)S
12 R
2868(\(L\)\).)S
12 C
(NWTC)292 3157 A
12 Y1
3449(3)S
12 C
3509(LP)S
12 Y1
3655(3)S
12 C
(SEL)219 3715 A
12 R
3966(requests)S
4395(the)S
4575(TCP)S
4827(server)S
5155(to)S
5252 V
708(pick)S
946(a)S
1030(port.)S
1315(This)S
1560(port)S
(will)190 1785 A
2005(be)S
2149(in)S
2273(the)S
2451(range)S
2750(from)S
(32768)300 3016 A
3346(to)S
(65535)300 3470 A
3800(and)S
(will)190 4004 A
4224(be)S
4368(unique.)S
5428 V
708(The)S
12 I
(remaddr)416 954 A
12 R
1438(flags)S
1732(specify)S
2140(which)S
2494(hosts)S
2800(are)S
(acceptable)512 3007 A
3577(for)S
(connections.)607 3777 A
12 C
(NWTC)292 4472 A
12 Y1
4764(3)S
12 C
(SET)219 4824 A
12 Y1
5043(3)S
12 C
5103(RA)S
5568 V
12 R
708(indicates)S
1208(that)S
1459(only)S
(connections)577 1742 A
2388(to)S
2551(the)S
2768(host)S
3038(specified)S
3545(in)S
12 I
3708(nwtc)S
12 Y1
3936(3)S
12 I
(remaddr)416 3996 A
12 R
4490(are)S
(acceptable.)542 4707 A
5708 V
12 I
708(Nwtc)S
12 Y1
956(3)S
12 I
(remaddr)416 1016 A
12 R
(should)321 1501 A
1881(be)S
2055(in)S
2209(network)S
2666(byte)S
2934(order)S
3250(\(see)S
12 I
3506(Byte)S
3782(Order)S
4138(Conversion)S
12 R
4764(in)S
12 I
4918(ip)S
12 R
5022(\(L\)\).)S
5848 V
12 C
(NWTC)292 708 A
12 Y1
1000(3)S
12 C
(UNSET)365 1060 A
12 Y1
1425(3)S
12 C
1485(RA)S
12 R
1661(allows)S
2008(any)S
2212(host)S
2443(on)S
2593(the)S
2771(other)S
3050(side)S
3275(of)S
3406(a)S
(connection.)560 3490 A
4110(This)S
4355(is)S
4466(the)S
4644(default.)S
6024 V
708(The)S
12 I
1004(remport)S
12 R
1512(flags)S
1856(specify)S
2314(which)S
2718(remote)S
3163(ports)S
3513(are)S
(acceptable)512 3770 A
4391(for)S
(connections.)607 4642 A
6164 V
12 C
(NWTC)292 708 A
12 Y1
1000(3)S
12 C
(SET)219 1060 A
12 Y1
1279(3)S
12 C
1339(RP)S
12 R
1561(indicates)S
2067(that)S
2324(only)S
2613(the)S
2836(port)S
3106(specified)S
3619(in)S
12 I
3788(nwtc)S
12 Y1
4016(3)S
12 I
4076(remport)S
12 R
4551(is)S
(acceptable.)542 4707 A
6304 V
12 C
(NWTC)292 708 A
12 Y1
1000(3)S
12 C
(UNSET)365 1060 A
12 Y1
1425(3)S
12 C
1485(RP)S
12 R
1661(allows)S
2008(any)S
2212(port)S
2437(on)S
2587(the)S
2765(other)S
3044(side)S
3269(of)S
3400(a)S
(connection.)560 3484 A
4104(This)S
4349(is)S
4460(the)S
4638(default.)S
7700 V
(220)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 221 227
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ip)S
12 Y1
802(3)S
12 R
862(tcp)S
1030(\(L\))S
2567(Library)S
2961(Routines)S
4771(ip)S
12 Y1
4865(3)S
12 R
4925(tcp)S
5093(\(L\))S
860 V
12 I
708(tcp)S
12 Y1
856(3)S
12 I
916(ioc)S
12 Y1
1064(3)S
12 I
1124(setopt)S
1096 V
11 C
(errstat)469 1068 A
1236 V
(tcp)201 1068 A
11 Y1
1269(3)S
11 C
(ioc)201 1324 A
11 Y1
1525(3)S
11 C
(setopt\(chan)737 1580 A
11 Y1
2317(3)S
11 C
(cap,)268 2372 A
(tcpopt\))469 2707 A
1376 V
(capability)670 1068 A
1805(*)S
(chan)268 1939 A
11 Y1
2207(3)S
11 C
(cap;)268 2262 A
1516 V
(struct)402 1068 A
(nwio)268 1537 A
11 Y1
1805(3)S
11 C
(tcpopt)402 1860 A
(*tcpopt;)536 2329 A
1752 V
12 R
708(The)S
945(behavior)S
1417(of)S
1567(a)S
1670(TCP)S
1940(channel)S
2365(can)S
2582(be)S
2746(changed)S
3198(using)S
12 I
3509(tcp)S
12 Y1
3657(3)S
12 I
3717(ioc)S
12 Y1
3865(3)S
12 I
3925(setopt)S
12 R
4224(.)S
4334(The)S
4572(parameters)S
5155(to)S
1892 V
12 I
708(tcp)S
12 Y1
856(3)S
12 I
916(ioc)S
12 Y1
1064(3)S
12 I
1124(setopt)S
12 R
1529(are)S
1784(a)S
1944(channel)S
(capability)478 2426 A
3010(and)S
3290(a)S
12 I
3449(struct)S
3830(nwio)S
12 Y1
4064(3)S
12 I
4124(tcopt)S
12 R
4481(as)S
4687(defined)S
5155(in)S
2032 V
12 I
708(server/ip/gen/tcp)S
12 Y1
1529(3)S
12 I
1589(io.h)S
12 R
1783(:)S
2232 V
11 C
(typedef)469 1068 A
(struct)402 1604 A
(nwio)268 2073 A
11 Y1
2341(3)S
11 C
(tcpopt)402 2396 A
2372 V
1068({)S
2512 V
(u32)201 1652 A
11 Y1
1853(3)S
11 C
1908(t)S
(nwto)268 2042 A
11 Y1
2310(3)S
11 C
(flags;)402 2365 A
2652 V
1068(})S
(nwio)268 1202 A
11 Y1
1470(3)S
11 C
(tcpopt)402 1525 A
11 Y1
1927(3)S
11 C
1982(t;)S
2852 V
12 R
708(The)S
12 I
926(nwto)S
12 Y1
1160(3)S
12 I
1220(flags)S
12 R
1485(field)S
1738(takes)S
2017(the)S
2195(following)S
2696(flags:)S
3052 V
11 C
(#define)469 1068 A
(NWTO)268 1604 A
11 Y1
1872(3)S
11 C
(NOFLAG)402 1927 A
(0x0000L)469 3200 A
3192 V
(#define)469 1068 A
(NWTO)268 1604 A
11 Y1
1872(3)S
11 C
(SND)201 1927 A
11 Y1
2128(3)S
11 C
(URG)201 2183 A
11 Y1
2384(3)S
11 C
(MASK)268 2439 A
(0x0001L)469 3176 A
3332 V
1068(#)S
(define)402 1604 A
(NWTO)268 2073 A
11 Y1
2341(3)S
11 C
(SND)201 2396 A
11 Y1
2597(3)S
11 C
(URG)201 2652 A
(0x00000001L)737 3188 A
3472 V
1068(#)S
(define)402 1604 A
(NWTO)268 2073 A
11 Y1
2341(3)S
11 C
(SND)201 2396 A
11 Y1
2597(3)S
11 C
(NOTURG)402 2652 A
(0x00010000L)737 3188 A
3612 V
(#define)469 1068 A
(NWTO)268 1604 A
11 Y1
1872(3)S
11 C
(RCV)201 1927 A
11 Y1
2128(3)S
11 C
(URG)201 2183 A
11 Y1
2384(3)S
11 C
(MASK)268 2439 A
(0x0002L)469 3176 A
3752 V
1068(#)S
(define)402 1604 A
(NWTO)268 2073 A
11 Y1
2341(3)S
11 C
(RCV)201 2396 A
11 Y1
2597(3)S
11 C
(URG)201 2652 A
(0x00000002L)737 3188 A
3892 V
1068(#)S
(define)402 1604 A
(NWTO)268 2073 A
11 Y1
2341(3)S
11 C
(RCV)201 2396 A
11 Y1
2597(3)S
11 C
(NOTURG)402 2652 A
(0x00020000L)737 3188 A
4032 V
(#define)469 1068 A
(NWTO)268 1604 A
11 Y1
1872(3)S
11 C
(BSD)201 1927 A
11 Y1
2128(3)S
11 C
(URG)201 2183 A
11 Y1
2384(3)S
11 C
(MASK)268 2439 A
(0x0004L)469 3176 A
4172 V
1068(#)S
(define)402 1604 A
(NWTO)268 2073 A
11 Y1
2341(3)S
11 C
(BSD)201 2396 A
11 Y1
2597(3)S
11 C
(URG)201 2652 A
(0x00000004L)737 3188 A
4312 V
1068(#)S
(define)402 1604 A
(NWTO)268 2073 A
11 Y1
2341(3)S
11 C
(NOTBSD)402 2396 A
11 Y1
2798(3)S
11 C
(URG)201 2853 A
(0x00040000L)737 3188 A
4452 V
(#define)469 1068 A
(NWTO)268 1604 A
11 Y1
1872(3)S
11 C
(DEL)201 1927 A
11 Y1
2128(3)S
11 C
(RST)201 2183 A
11 Y1
2384(3)S
11 C
(MASK)268 2439 A
(0x0008L)469 3176 A
4592 V
1068(#)S
(define)402 1604 A
(NWTO)268 2073 A
11 Y1
2341(3)S
11 C
(DEL)201 2396 A
11 Y1
2597(3)S
11 C
(RST)201 2652 A
(0x00000008L)737 3188 A
4732 V
1068(#)S
(define)402 1604 A
(NWTO)268 2073 A
11 Y1
2341(3)S
11 C
(NOTDEL)402 2396 A
11 Y1
2798(3)S
11 C
(RST)201 2853 A
(0x00080000L)737 3188 A
4932 V
12 C
(NWTO)292 708 A
12 Y1
1000(3)S
12 C
(SND)219 1060 A
12 Y1
1279(3)S
12 C
(URG)219 1339 A
12 R
1650(and)S
12 C
(NWTO)292 1916 A
12 Y1
2208(3)S
12 C
(SND)219 2268 A
12 Y1
2487(3)S
12 C
(NOTURG)438 2547 A
12 R
3077(control)S
3512(the)S
3752(sending)S
4219(of)S
4412(urgent)S
4813(data.)S
5167(If)S
5072 V
12 I
708(NWTO)S
12 Y1
1044(3)S
12 I
1104(SND)S
12 Y1
1332(3)S
12 I
1392(URG)S
12 R
1712(is)S
1853(set,)S
2078(data)S
(written)345 2340 A
2745(with)S
12 I
3021(tcpip)S
12 Y1
3263(3)S
12 I
3323(write)S
12 R
(will)190 3642 A
3891(be)S
4064(sent)S
4318(as)S
4478(urgent)S
4846(data.)S
5167(If)S
5212 V
12 C
(NWTO)292 708 A
12 Y1
1000(3)S
12 C
(SND)219 1060 A
12 Y1
1279(3)S
12 C
(NOTURG)438 1339 A
12 R
1821(is)S
1946(set,)S
2155(data)S
(will)190 2401 A
2635(be)S
2793(sent)S
3032(as)S
3177(normal)S
3565(data.)S
3872(Similarly,)S
12 C
(NWTO)292 4399 A
12 Y1
4691(3)S
12 C
(RCV)219 4751 A
12 Y1
4970(3)S
12 C
(URG)219 5030 A
5352 V
12 R
708(and)S
12 C
(NWTO)292 922 A
12 Y1
1214(3)S
12 C
(RCV)219 1274 A
12 Y1
1493(3)S
12 C
(NOTURG)438 1553 A
12 R
2030(control)S
2412(the)S
(reception)451 2599 A
3089(of)S
3229(urgent)S
3577(data.)S
3878(If)S
3999(the)S
(wrong)309 4186 A
4534(kind)S
4787(of)S
4927(data)S
5168(is)S
5492 V
708(present)S
12 I
1088(tcpip)S
12 Y1
1330(3)S
12 I
1390(read)S
12 R
1651(returns)S
2018(the)S
2196(error)S
12 C
(TCPIP)365 2463 A
12 Y1
2828(3)S
12 C
(URG)219 2888 A
12 R
3137(or)S
12 C
(TCPIP)365 3268 A
12 Y1
3633(3)S
12 C
(NOURG)365 3693 A
12 R
4058(,)S
4118(as)S
4249(appropriate.)S
5668 V
12 C
(NWTO)292 708 A
12 Y1
1000(3)S
12 C
(BSD)219 1060 A
12 Y1
1279(3)S
12 C
(URG)219 1339 A
12 R
1630(and)S
12 C
(NWTO)292 1876 A
12 Y1
2168(3)S
12 C
(NOTBSD)438 2228 A
12 Y1
2666(3)S
12 C
(URG)219 2726 A
12 R
3017(control)S
3432(whether)S
3895(data)S
4169(is)S
4323(sent)S
4591(and)S
(received)411 4838 A
5808 V
(according)477 708 A
1223(to)S
1355(the)S
1541(BSD)S
1814(semantics)S
2330(or)S
(according)477 2469 A
2984(to)S
3116(the)S
3302(semantics)S
3818(described)S
4320(in)S
4451(the)S
4636(RFC.)S
4960(These)S
5948 V
708(options)S
1116(can)S
1337(only)S
1604(be)S
1771(specified)S
2263(if)S
2392(a)S
(successful)498 2500 A
12 I
3052(tcp)S
12 Y1
3200(3)S
12 I
3260(ioc)S
12 Y1
3408(3)S
12 I
(connect)376 3468 A
12 R
3908(or)S
12 I
4063(tcp)S
12 Y1
4211(3)S
12 I
4271(ioc)S
12 Y1
4419(3)S
12 I
4479(listen)S
12 R
4806(has)S
5021(been)S
6088 V
(done.)264 708 A
6264 V
708(The)S
12 C
(NWTO)292 940 A
12 Y1
1232(3)S
12 C
(DEL)219 1292 A
12 Y1
1511(3)S
12 C
(RST)219 1571 A
12 R
1834(can)S
2046(be)S
2204(used)S
2469(to)S
2607(delay)S
2913(the)S
3105(sending)S
3524(of)S
3669(an)S
12 C
(RST)219 3827 A
12 R
4090(packet)S
4450(in)S
(response)423 4588 A
5056(to)S
5195(a)S
6404 V
12 C
(SYN)219 708 A
12 R
958(packet.)S
1365(Normally,)S
1891(when)S
2184(a)S
12 C
(SYN)219 2269 A
12 R
2519(arrives)S
2881(for)S
3054(a)S
3139(port)S
3365(and)S
3570(there)S
3844(is)S
3956(no)S
4106(listen)S
4399(for)S
4571(that)S
4783(particular)S
6544 V
708(port,)S
966(the)S
1147(TCP)S
1401(server)S
(will)190 1731 A
1954(send)S
2208(an)S
12 C
(RST)219 2355 A
12 R
2607(packet.)S
3016(This)S
3264(results)S
3614(in)S
3741(a)S
(``Connection)638 3828 A
4500(Refused'')S
5012(error)S
6684 V
708(at)S
836(the)S
1024(sending)S
1439(host.)S
1740(If)S
1862(a)S
1956(server)S
2293(repeatedly)S
(accepts)357 2838 A
(connections)577 3235 A
3852(for)S
4034(the)S
4222(same)S
4510(port,)S
4774(it)S
4881(can)S
5088(use)S
6824 V
708(this)S
916(bit)S
1077(tell)S
1266(the)S
1447(TCP)S
1701(server)S
2031(not)S
2218(to)S
2345(send)S
2599(an)S
12 C
(RST)219 2746 A
12 R
2998(immediately.)S
3697(When)S
4019(a)S
12 C
(SYN)219 4107 A
12 R
4360(packet)S
4710(arrives)S
5075(and)S
6964 V
708(the)S
891(TCP)S
1147(server)S
1479(is)S
(about)268 1595 A
1898(to)S
2027(send)S
2283(an)S
12 C
(RST)219 2432 A
12 R
2686(packet,)S
3066(it)S
(will)190 3168 A
(look)214 3392 A
3640(for)S
3816(existing)S
4233(channels)S
4690(to)S
4818(the)S
5000(same)S
7104 V
708(port)S
943(with)S
1199(the)S
1387(bit)S
1555(set.)S
1790(If)S
1912(such)S
2173(a)S
2267(channel)S
2684(exists,)S
3031(the)S
3220(TCP)S
3482(server)S
(will)190 3820 A
4051(delay)S
4354(the)S
4543(sending)S
4959(of)S
5101(the)S
7244 V
12 C
(RST)219 708 A
12 R
957(packet)S
1303(to)S
1427(give)S
1665(the)S
1843(server)S
2170(an)S
(opportunity)563 2314 A
2907(to)S
3031(open)S
3295(a)S
3379(new)S
3611(channel)S
4017(and)S
4221(start)S
4461(a)S
4545(listen.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(221)180 5069 A
7920 V
EP
%%Page: 222 228
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ip)S
12 Y1
802(3)S
12 R
862(tcp)S
1030(\(L\))S
2567(Library)S
2961(Routines)S
4771(ip)S
12 Y1
4865(3)S
12 R
4925(tcp)S
5093(\(L\))S
860 V
12 I
708(tcp)S
12 Y1
856(3)S
12 I
916(ioc)S
12 Y1
1064(3)S
12 I
1124(shutdown)S
1096 V
11 C
(errstat)469 1068 A
1236 V
(tcp)201 1068 A
11 Y1
1269(3)S
11 C
(ioc)201 1324 A
11 Y1
1525(3)S
11 C
(shutdown\(chan)871 1580 A
11 Y1
2451(3)S
11 C
(cap\))268 2506 A
1376 V
(capability)670 1068 A
(*chan)335 1805 A
11 Y1
2140(3)S
11 C
(cap;)268 2195 A
1576 V
12 I
708(Tcp)S
12 Y1
889(3)S
12 I
949(ioc)S
12 Y1
1097(3)S
12 I
1157(shutdown)S
12 R
1672(tells)S
1919(the)S
2111(TCP/IP)S
2518(server)S
2859(that)S
3085(no)S
3249(more)S
3542(data)S
(will)190 3788 A
4022(be)S
4180(sent)S
4420(over)S
4680(the)S
4873(channel)S
1716 V
708(specified)S
1194(by)S
12 I
(chan)234 1362 A
12 Y1
1596(3)S
12 I
1656(cap)S
12 R
1840(.)S
1948(This)S
2211(command)S
2735(can)S
2951(be)S
3113(issued)S
3462(when)S
3771(the)S
3966(channel)S
4389(is)S
(connected)490 4517 A
5054(to)S
5195(a)S
1856 V
708(remote)S
1075(TCP/IP)S
1468(server.)S
1855(The)S
2073(TCP/IP)S
2466(server)S
(will)190 2793 A
3013(tell)S
3199(the)S
3377(remote)S
3744(TCP/IP)S
4137(server)S
4464(and)S
4668(the)S
4847(client)S
5148(of)S
1996 V
708(the)S
886(remote)S
1253(TCP/IP)S
1646(server)S
(will)190 1973 A
(receive)351 2193 A
2574(an)S
(end-of-file)520 2718 A
3268(indication.)S
2312 V
12 I
(Diagnostics)578 708 A
2488 V
12 R
708(The)S
926(complete)S
1400(set)S
1565(of)S
1696(error)S
1963(codes)S
2268(is)S
2379(described)S
2873(in)S
12 I
2997(ip)S
12 R
3101(\(L\).)S
2768 V
12 B
708(See)S
913(Also)S
2944 V
12 R
708(error\(L\),)S
1161(ip\(L\),)S
1471(ip)S
12 Y1
1565(3)S
12 R
1625(eth\(L\),)S
1989(ip)S
12 Y1
2083(3)S
12 R
2143(ip\(L\),)S
2453(ip)S
12 Y1
2547(3)S
12 R
(udp\(L\),)366 2607 A
3003(ipsvr\(A\).)S
7700 V
(222)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 223 229
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ip)S
12 Y1
802(3)S
12 R
(udp)180 862 A
1062(\(L\))S
2567(Library)S
2961(Routines)S
4739(ip)S
12 Y1
4833(3)S
12 R
(udp)180 4893 A
5093(\(L\))S
860 V
2350(\(in)S
2515(libraries:)S
2978(libamoeba.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(ip)S
12 Y1
802(3)S
12 R
(udp)180 862 A
12 R-1
1072(-)S
12 R
1200(Internet)S
1608(Protocol)S
2048(server's)S
2463(UDP)S
2736(client)S
(interface)426 3036 A
3492(stubs)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("server/ip/udp)938 1311 A
11 Y1
2249(3)S
11 C
(io.h")335 2304 A
2182 V
(#include)536 708 A
("server/ip/types.h")1273 1311 A
2322 V
(#include)536 708 A
("server/ip/gen/in.h")1340 1311 A
2462 V
(#include)536 708 A
("server/ip/gen/udp.h")1407 1311 A
2602 V
(#include)536 708 A
("server/ip/gen/udp)1206 1311 A
11 Y1
2517(3)S
11 C
(io.h")335 2572 A
2882 V
(errstat)469 708 A
(udp)201 1244 A
11 Y1
1445(3)S
11 C
(close\(chan)670 1500 A
11 Y1
2170(3)S
11 C
(cap,)268 2225 A
(flags\))402 2560 A
3022 V
(errstat)469 708 A
(udp)201 1244 A
11 Y1
1445(3)S
11 C
(connect\(udp)737 1500 A
11 Y1
2237(3)S
11 C
(cap,)268 2292 A
(chan)268 2627 A
11 Y1
2895(3)S
11 C
(cap,)268 2950 A
(srcport,)536 3285 A
(dstport,)536 3888 A
(dstaddr,)536 4491 A
(flags\))402 5094 A
3162 V
(errstat)469 708 A
(udp)201 1244 A
11 Y1
1445(3)S
11 C
(destroy\(chan)804 1500 A
11 Y1
2304(3)S
11 C
(cap,)268 2359 A
(flags\))402 2694 A
3302 V
(errstat)469 708 A
(udp)201 1244 A
11 Y1
1445(3)S
11 C
(ioc)201 1500 A
11 Y1
1701(3)S
11 C
(getopt\(cap,)737 1756 A
(udpopt\))469 2560 A
3442 V
(errstat)469 708 A
(udp)201 1244 A
11 Y1
1445(3)S
11 C
(ioc)201 1500 A
11 Y1
1701(3)S
11 C
(setopt\(cap,)737 1756 A
(udpopt\))469 2560 A
3582 V
(errstat)469 708 A
(udp)201 1244 A
11 Y1
1445(3)S
11 C
(read)268 1500 A
11 Y1
1768(3)S
11 C
(msg\(chan)536 1823 A
11 Y1
2359(3)S
11 C
(cap,)268 2414 A
(msg,)268 2749 A
(msglen,)469 3084 A
(actlen,)469 3620 A
(flags\))402 4156 A
3722 V
(errstat)469 708 A
(udp)201 1244 A
11 Y1
1445(3)S
11 C
(reconnect\(chan)938 1500 A
11 Y1
2438(3)S
11 C
(cap,)268 2493 A
(srcport,)536 2828 A
(dstport,)536 3431 A
(dstaddr,)536 4034 A
(flags\))402 4637 A
3862 V
(errstat)469 708 A
(udp)201 1244 A
11 Y1
1445(3)S
11 C
(write)335 1500 A
11 Y1
1835(3)S
11 C
(msg\(chan)536 1890 A
11 Y1
2426(3)S
11 C
(cap,)268 2481 A
(msg,)268 2816 A
(msglen,)469 3151 A
(flags\))402 3687 A
4202 V
12 B
708(Description)S
4378 V
12 R
708(These)S
1040(routines)S
1473(give)S
(access)310 1724 A
2077(to)S
2214(the)S
2405(UDP)S
2691(protocol)S
3137(of)S
3281(the)S
3472(IP)S
3623(server)S
3963(\(see)S
12 I
4202(ipsvr)S
12 R
4454(\(A\)\).)S
(Access)344 4768 A
5155(to)S
4518 V
708(this)S
941(service)S
1343(is)S
1482(provided)S
1969(using)S
2288(two)S
2528(types)S
2840(of)S
(capabilities:)587 2998 A
3642(a)S
3753(server)S
(capability)478 4107 A
4642(and)S
4873(channel)S
4658 V
(capabilities.)583 708 A
1365(The)S
1598(server)S
(capability)478 1940 A
2463(is)S
2589(called)S
12 I
(udp)180 2924 A
12 R
3114(.)S
3219(The)S
3452(server)S
(capability)478 3794 A
4317(is)S
4443(used)S
4709(to)S
4848(obtain)S
5195(a)S
4798 V
708(channel)S
1120(to)S
1250(the)S
(corresponding)691 1434 A
2161(server.)S
2554(This)S
2805(is)S
(done)234 2922 A
3191(with)S
12 I
3442(tcpip)S
12 Y1
3684(3)S
12 I
3744(open)S
12 R
4023(\(see)S
12 I
4254(ip)S
12 R
4358(\(L\)\).)S
4650(The)S
4873(channel)S
4938 V
(capability)478 708 A
1221(can)S
1424(be)S
1573(used)S
1829(to)S
1958(transfer)S
2365(data)S
2602(using)S
2898(the)S
3081(protocol)S
3519(implemented)S
4186(by)S
4341(the)S
4524(server.)S
4917(This)S
5168(is)S
5078 V
708(also)S
(done)234 944 A
1219(with)S
1476(the)S
1665(generic)S
12 I
2063(tcpip)S
12 Y1
2305(3)S
12 I
2365(read)S
12 R
2637(and)S
12 I
2852(tcpip)S
12 Y1
3094(3)S
12 I
3154(write)S
12 R
3454(routines.)S
3944(Since)S
4253(their)S
4516(semantics)S
5034(vary)S
5218 V
708(slightly)S
1105(depending)S
1641(on)S
1795(channel)S
2205(type,)S
2478(these)S
2762(routines)S
3187(are)S
3371(described)S
3870(briefly)S
4229(below.)S
4620(There)S
4938(is)S
5054(also)S
5358 V
708(a)S
796(more)S
(convenient)530 1079 A
(interface)426 1643 A
2103(for)S
2279(reading)S
2675(and)S
(writing)351 2882 A
3266(described)S
3763(in)S
3890(the)S
12 I
4071(UDP)S
4354(Library)S
4756(Functions)S
5498 V
12 R
708(section)S
1081(below.)S
5674 V
708(The)S
12 I
(udp)180 926 A
12 Y1
1106(3)S
12 R
1206(routines)S
1626(are)S
1805(used)S
2056(to)S
2180(manage)S
2586(the)S
2764(options)S
3149(and)S
3353(status)S
3659(of)S
3790(the)S
3968(UDP)S
4241(channel.)S
5850 V
708(Before)S
1083(they)S
1336(are)S
1530(described,)S
2069(a)S
2168(brief)S
(introduction)591 2443 A
3079(to)S
3219(the)S
3413(various)S
3815(types)S
4116(is)S
4243(given.)S
4617(The)S
4851(general-)S
5990 V
708(purpose)S
1120(types)S
1405(and)S
1609(rights)S
1915(in)S
2039(the)S
(capabilities)553 2217 A
2800(are)S
2979(described)S
3473(in)S
12 I
3597(ip)S
12 R
3701(\(L\).)S
6306 V
12 I
708(UDP)S
988(Types)S
6482 V
12 R
(server/ip/gen/udp.h)937 708 A
6622 V
958(defines)S
12 I
(udpport)381 1338 A
12 Y1
1719(3)S
12 I
1779(t)S
12 R
1853(and)S
12 I
(Udpport)409 2057 A
12 Y1
2466(3)S
12 I
2526(t)S
12 R
2600(for)S
2772(use)S
2963(in)S
3087(prototypes.)S
6798 V
(server/ip/gen/udp)847 708 A
12 Y1
1555(3)S
12 R
1615(io.h)S
6938 V
958(defines)S
1338(struct)S
1638(nwio)S
12 Y1
1880(3)S
12 R
(udpopt)334 1940 A
2304(\()S
12 I
2345(nwio)S
12 Y1
2579(3)S
12 I
(udpopt)334 2639 A
12 Y1
2973(3)S
12 I
3033(t)S
12 R
3067(\).)S
7114 V
(server/ip/gen/udp)847 708 A
12 Y1
1555(3)S
12 R
1615(hdr.h)S
7254 V
958(defines)S
1338(struct)S
(udp)180 1638 A
12 Y1
1818(3)S
12 R
1878(hdr)S
2069(\()S
12 I
(udp)180 2110 A
12 Y1
2290(3)S
12 I
2350(hdr)S
12 Y1
2517(3)S
12 I
2577(t)S
12 R
2611(\))S
2682(and)S
2886(struct)S
(udp)180 3186 A
12 Y1
3366(3)S
12 R
3426(io)S
12 Y1
3520(3)S
12 R
3580(hdr)S
3771(\()S
12 I
(udp)180 3812 A
12 Y1
3992(3)S
12 I
4052(io)S
12 Y1
4146(3)S
12 I
4206(hdr)S
12 Y1
4373(3)S
12 I
4433(t)S
12 R
4467(\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(223)180 5069 A
7920 V
EP
%%Page: 224 230
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ip)S
12 Y1
802(3)S
12 R
(udp)180 862 A
1062(\(L\))S
2567(Library)S
2961(Routines)S
4739(ip)S
12 Y1
4833(3)S
12 R
(udp)180 4893 A
5093(\(L\))S
860 V
12 I
708(General)S
1135(Functions)S
1036 V
12 R
708(A)S
829(more)S
(convenient)530 1111 A
(interface)426 1675 A
2135(to)S
2263(read)S
2506(and)S
2714(write)S
2999(UDP)S
3276(packets)S
3673(is)S
3788(described)S
4286(in)S
4414(the)S
12 I
4596(UDP)S
4880(Library)S
1176 V
708(Functions)S
12 R
1231(section)S
1604(below.)S
1990(The)S
2208(following)S
(interface)426 2709 A
3165(is)S
3276(described)S
3770(for)S
3942(completeness.)S
1352 V
12 B
708(NB.)S
12 R
988(The)S
1229(TCP/IP)S
1645(server)S
1995(sends)S
2316(and)S
(receives)398 2543 A
2994(the)S
12 I
(udp)180 3195 A
12 Y1
3375(3)S
12 I
3435(io)S
12 Y1
3529(3)S
12 I
3589(hdr)S
12 R
3819(in)S
3966(network)S
4416(byte-order.)S
5034(This)S
1492 V
708(includes)S
1151(the)S
12 I
1339(uih)S
12 Y1
1493(3)S
12 I
1553(ip)S
12 Y1
1647(3)S
12 I
1707(opt)S
12 Y1
1861(3)S
12 I
1921(len)S
12 R
2119(and)S
12 I
2333(uih)S
12 Y1
2487(3)S
12 I
2547(data)S
12 Y1
2761(3)S
12 I
2821(len)S
12 R
3019(fields.)S
3389(The)S
3617(following)S
4128(two)S
12 I
4349(tcpip)S
12 Y1
4591(3)S
12 R
4700(routines)S
5129(do)S
1632 V
708(not)S
929(decode)S
1338(these)S
1654(or)S
1822(any)S
2063(other)S
2379(fields)S
2716(to)S
2877(the)S
3092(local)S
3395(byte-order.)S
4027(The)S
12 I
(udp)180 4282 A
12 Y1
4462(3)S
12 I
4522(read)S
12 Y1
4743(3)S
12 I
4803(msg)S
12 R
5075(and)S
1772 V
12 I
(udp)180 708 A
12 Y1
888(3)S
12 I
948(write)S
12 Y1
1197(3)S
12 I
1257(msg)S
12 R
1496(functions)S
1980(do)S
2134(decode)S
2510(the)S
2692(length)S
3028(fields)S
3332(of)S
3467(the)S
3649(header)S
4006(making)S
4402(them)S
4678(simpler)S
5075(and)S
1912 V
708(safer)S
975(to)S
1099(use.)S
2228 V
12 I
708(tcpip)S
12 Y1
950(3)S
12 I
1010(read)S
2464 V
11 C
(errstat)469 1068 A
2604 V
(tcpip)335 1068 A
11 Y1
1403(3)S
11 C
(read\(chan)603 1458 A
11 Y1
2061(3)S
11 C
(cap,)268 2116 A
(buffer,)469 2451 A
(nbytes\))469 2987 A
2744 V
(capability)670 1068 A
(*chan)335 1805 A
11 Y1
2140(3)S
11 C
(cap;)268 2195 A
2884 V
(char)268 1068 A
(*buffer;)536 1403 A
3024 V
(size)268 1068 A
11 Y1
1336(3)S
11 C
1391(t)S
(nbytes;)469 1525 A
3224 V
12 I
708(Tcpip)S
12 Y1
983(3)S
12 I
1043(read)S
12 R
1320(reads)S
1622(UDP)S
1911(packets)S
2320(from)S
2602(the)S
2796(UDP)S
3085(channel)S
3508(specified)S
3993(by)S
12 I
(chan)234 4160 A
12 Y1
4394(3)S
12 I
4454(cap)S
12 R
4685(into)S
12 I
4920(buffer)S
12 R
5219(,)S
3364 V
708(which)S
1039(is)S
1155(of)S
1291(size)S
12 I
1515(nbytes)S
12 R
1834(.)S
1929(The)S
2152(call)S
2363(blocks)S
(until)222 2713 A
2970(a)S
3058(complete)S
3536(packet)S
3886(is)S
4001(available.)S
4533(If)S
(successful)498 4649 A
5181(it)S
3504 V
708(returns)S
1075(the)S
1253(number)S
1652(of)S
1783(bytes)S
2068(read.)S
3680 V
708(It)S
815(is)S
928(possible)S
1356(to)S
1482(obtain)S
1816(just)S
2023(the)S
2203(data)S
2437(from)S
2705(the)S
2885(UDP)S
3160(packets)S
3555(or)S
3688(the)S
3868(data)S
4102(plus)S
4335(UDP)S
4611(headers.)S
5074(See)S
3820 V
12 I
(udp)180 708 A
12 Y1
888(3)S
12 I
948(ioc)S
12 Y1
1096(3)S
12 I
1156(setopt)S
12 R
1485(below)S
1811(for)S
1983(details.)S
4116 V
708(Error)S
(Conditions:)563 995 A
4256 V
1062(See)S
12 I
1267(ip)S
12 R
1371(\(L\))S
1557(for)S
1729(a)S
1813(description)S
2381(of)S
2512(the)S
2690(error)S
2957(codes.)S
4396 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(INTR)292 1341 A
4536 V
(TCPIP)365 1062 A
12 Y1
1427(3)S
12 C
(BADMODE)511 1487 A
4912 V
12 I
708(tcpip)S
12 Y1
950(3)S
12 I
1010(write)S
5148 V
11 C
(errstat)469 1068 A
5288 V
(tcpip)335 1068 A
11 Y1
1403(3)S
11 C
(write\(chan)670 1458 A
11 Y1
2128(3)S
11 C
(cap,)268 2183 A
(buffer,)469 2518 A
(nbytes\))469 3054 A
5428 V
(capability)670 1068 A
(*chan)335 1805 A
11 Y1
2140(3)S
11 C
(cap;)268 2195 A
5568 V
(char)268 1068 A
(*buffer;)536 1403 A
5708 V
(size)268 1068 A
11 Y1
1336(3)S
11 C
1391(t)S
(nbytes;)469 1525 A
5908 V
12 I
708(Tcpip)S
12 Y1
983(3)S
12 I
1043(write)S
12 R
1334(writes)S
1664(the)S
1844(UDP)S
2119(packet)S
2468(in)S
12 I
2595(buffer)S
12 R
2894(,)S
2957(of)S
3091(size)S
12 I
3313(nbytes)S
12 R
3665(to)S
3792(the)S
3973(UDP)S
4249(channel)S
4658(specified)S
5129(by)S
6048 V
12 I
(chan)234 708 A
12 Y1
942(3)S
12 I
1002(cap)S
12 R
1186(.)S
6344 V
708(Error)S
(Conditions:)563 995 A
6484 V
1062(See)S
12 I
1267(ip)S
12 R
1371(\(L\))S
1557(for)S
1729(a)S
1813(description)S
2381(of)S
2512(the)S
2690(error)S
2957(codes.)S
6624 V
12 C
(TCPIP)365 1062 A
12 Y1
1427(3)S
12 C
(BADMODE)511 1487 A
7700 V
12 R
(224)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 225 231
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ip)S
12 Y1
802(3)S
12 R
(udp)180 862 A
1062(\(L\))S
2567(Library)S
2961(Routines)S
4739(ip)S
12 Y1
4833(3)S
12 R
(udp)180 4893 A
5093(\(L\))S
860 V
12 I
708(UDP)S
988(Functions)S
1212 V
(udp)180 708 A
12 Y1
888(3)S
12 I
948(ioc)S
12 Y1
1096(3)S
12 I
1156(getopt)S
1448 V
11 C
(errstat)469 1068 A
1588 V
(udp)201 1068 A
11 Y1
1269(3)S
11 C
(ioc)201 1324 A
11 Y1
1525(3)S
11 C
(getopt\(cap,)737 1580 A
(conf\))335 2384 A
1728 V
(capability)670 1068 A
(*cap;)335 1805 A
1868 V
(struct)402 1068 A
(nwio)268 1537 A
11 Y1
1805(3)S
11 C
(udpopt)402 1860 A
(*conf;)402 2329 A
2068 V
12 I
708(Udp)S
12 Y1
916(3)S
12 I
976(ioc)S
12 Y1
1124(3)S
12 I
1184(getopt)S
12 R
1555(returns)S
1952(the)S
2160(current)S
2564(options)S
2979(that)S
3221(result)S
3551(from)S
3847(the)S
4055(default)S
4452(options)S
4867(and)S
5101(the)S
2208 V
708(options)S
1116(set)S
1304(with)S
12 I
(udp)180 1573 A
12 Y1
1753(3)S
12 I
1813(ioc)S
12 Y1
1961(3)S
12 I
2021(setopt)S
12 R
2373(When)S
12 C
(NWUO)292 2714 A
12 Y1
3006(3)S
12 C
3066(LP)S
12 Y1
3212(3)S
12 C
(SEL)219 3272 A
12 R
3543(or)S
12 C
(NWUO)292 3696 A
12 Y1
3988(3)S
12 C
4048(LP)S
12 Y1
4194(3)S
12 C
(SET)219 4254 A
12 R
4525(is)S
4658(selected)S
5101(the)S
2348 V
708(local)S
982(port)S
1215(is)S
1334(returned)S
1776(in)S
12 I
1908(nwuo)S
12 Y1
2168(3)S
12 I
2228(locport)S
12 R
2587(.)S
2685(When)S
12 C
(NWUO)292 3011 A
12 Y1
3303(3)S
12 C
3363(RP)S
12 Y1
3509(3)S
12 C
(SET)219 3569 A
12 R
3826(is)S
3945(selected)S
4374(the)S
4560(remote)S
4935(port)S
5168(is)S
2488 V
708(returned)S
1145(in)S
12 I
1272(nwuo)S
12 Y1
1532(3)S
12 I
1592(remport)S
12 R
1992(.)S
2085(The)S
2306(local)S
2575(address)S
2970(is)S
3083(always)S
3452(returned)S
3888(in)S
12 I
4014(nwuo)S
12 Y1
4274(3)S
12 I
(locaddr)375 4334 A
12 R
4719(,)S
4781(and)S
4987(when)S
2628 V
12 C
(NWUO)292 708 A
12 Y1
1000(3)S
12 C
1060(RA)S
12 Y1
1206(3)S
12 C
(SET)219 1266 A
12 R
1515(is)S
1626(selected)S
2047(the)S
2225(remote)S
2592(address)S
2985(is)S
3096(returned)S
3530(in)S
12 I
3654(nwuo)S
12 Y1
3914(3)S
12 I
(remaddr)416 3974 A
12 R
4400(.)S
2944 V
12 I
(udp)180 708 A
12 Y1
888(3)S
12 I
948(ioc)S
12 Y1
1096(3)S
12 I
1156(setopt)S
3180 V
11 C
(errstat)469 1068 A
3320 V
(udp)201 1068 A
11 Y1
1269(3)S
11 C
(ioc)201 1324 A
11 Y1
1525(3)S
11 C
(setopt\(cap,)737 1580 A
(conf\))335 2384 A
3460 V
(capability)670 1068 A
(*cap;)335 1805 A
3600 V
(struct)402 1068 A
(nwio)268 1537 A
11 Y1
1805(3)S
11 C
(udpopt)402 1860 A
(*conf;)402 2329 A
3800 V
12 R
708(A)S
844(UDP)S
1135(channel)S
1559(must)S
1842(be)S
2004(configured)S
2576(using)S
12 I
(udp)180 2885 A
12 Y1
3065(3)S
12 I
3125(ioc)S
12 Y1
3273(3)S
12 I
3333(setopt)S
12 R
3680(before)S
4038(any)S
4260(data)S
4510(can)S
4727(be)S
4890(read)S
5148(or)S
3940 V
(written.)375 708 A
12 I
1177(Udp)S
12 Y1
1385(3)S
12 I
1445(ioc)S
12 Y1
1593(3)S
12 I
1653(setopt)S
12 R
2016(takes)S
2328(two)S
2573(parameters,)S
3199(a)S
3316(pointer)S
3722(to)S
3879(the)S
(capability)478 4090 A
4631(of)S
4795(the)S
5006(UDP)S
4080 V
708(channel)S
1130(and)S
1350(pointer)S
1739(to)S
1879(a)S
12 I
1979(nwio)S
12 Y1
2213(3)S
12 I
(udpopt)334 2273 A
12 R
2663(structure)S
3134(that)S
3363(describes)S
3861(the)S
4056(requested)S
4567(configuration.)S
4220 V
708(The)S
12 I
926(nwio)S
12 Y1
1160(3)S
12 I
(udpopt)334 1220 A
12 R
1594(structure)S
2049(is)S
2160(defined)S
2553(in)S
12 I
(server/ip/gen/udp)853 2677 A
12 Y1
3530(3)S
12 I
3590(io.h)S
12 R
3814(as:)S
4420 V
11 C
(typedef)469 1068 A
(struct)402 1604 A
(nwio)268 2073 A
11 Y1
2341(3)S
11 C
(udpopt)402 2396 A
4560 V
1068({)S
4700 V
(unsigned)536 1652 A
(long)268 2255 A
(nwuo)268 2590 A
11 Y1
2858(3)S
11 C
(flags;)402 2913 A
4840 V
(udpport)469 1652 A
11 Y1
2121(3)S
11 C
2176(t)S
(nwuo)268 2310 A
11 Y1
2578(3)S
11 C
(locport;)536 2633 A
4980 V
(udpport)469 1652 A
11 Y1
2121(3)S
11 C
2176(t)S
(nwuo)268 2310 A
11 Y1
2578(3)S
11 C
(remport;)536 2633 A
5120 V
(ipaddr)402 1652 A
11 Y1
2054(3)S
11 C
2109(t)S
(nwuo)268 2243 A
11 Y1
2511(3)S
11 C
(locaddr;)536 2566 A
5260 V
(ipaddr)402 1652 A
11 Y1
2054(3)S
11 C
2109(t)S
(nwuo)268 2243 A
11 Y1
2511(3)S
11 C
(remaddr;)536 2566 A
5400 V
1068(})S
(nwio)268 1202 A
11 Y1
1470(3)S
11 C
(udpopt)402 1525 A
11 Y1
1927(3)S
11 C
1982(t;)S
5660 V
(#define)469 1068 A
(NWUO)268 1604 A
11 Y1
1872(3)S
11 C
(NOFLAGS)469 1927 A
(0x0000L)469 3200 A
5800 V
(#define)469 1068 A
(NWUO)268 1604 A
11 Y1
1872(3)S
11 C
(ACC)201 1927 A
11 Y1
2128(3)S
11 C
(MASK)268 2183 A
(0x0003L)469 3188 A
5940 V
(#define)469 1068 A
(NWUO)268 2140 A
11 Y1
2408(3)S
11 C
(EXCL)268 2463 A
(0x00000001L)737 3736 A
6080 V
(#define)469 1068 A
(NWUO)268 2140 A
11 Y1
2408(3)S
11 C
(SHARED)402 2463 A
(0x00000002L)737 3736 A
6220 V
(#define)469 1068 A
(NWUO)268 2140 A
11 Y1
2408(3)S
11 C
(COPY)268 2463 A
(0x00000003L)737 3736 A
6360 V
(#define)469 1068 A
(NWUO)268 1604 A
11 Y1
1872(3)S
11 C
(LOCPORT)469 1927 A
11 Y1
2396(3)S
11 C
(MASK)268 2451 A
(0x000CL)469 3188 A
6500 V
(#define)469 1068 A
(NWUO)268 2140 A
11 Y1
2408(3)S
11 C
2463(LP)S
11 Y1
2597(3)S
11 C
(SEL)201 2652 A
(0x00000004L)737 3724 A
6640 V
(#define)469 1068 A
(NWUO)268 2140 A
11 Y1
2408(3)S
11 C
2463(LP)S
11 Y1
2597(3)S
11 C
(SET)201 2652 A
(0x00000008L)737 3724 A
6780 V
(#define)469 1068 A
(NWUO)268 2140 A
11 Y1
2408(3)S
11 C
2463(LP)S
11 Y1
2597(3)S
11 C
(ANY)201 2652 A
(0x0000000CL)737 3724 A
6920 V
(#define)469 1068 A
(NWUO)268 1604 A
11 Y1
1872(3)S
11 C
(LOCADDR)469 1927 A
11 Y1
2396(3)S
11 C
(MASK)268 2451 A
(0x0010L)469 3188 A
7060 V
(#define)469 1068 A
(NWUO)268 2140 A
11 Y1
2408(3)S
11 C
2463(EN)S
11 Y1
2597(3)S
11 C
(LOC)201 2652 A
(0x00000010L)737 3724 A
7200 V
(#define)469 1068 A
(NWUO)268 2140 A
11 Y1
2408(3)S
11 C
2463(DI)S
11 Y1
2597(3)S
11 C
(LOC)201 2652 A
(0x00100000L)737 3724 A
7700 V
12 R
2683(Amoeba)S
3123(5.3)S
(225)180 5069 A
7920 V
EP
%%Page: 226 232
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ip)S
12 Y1
802(3)S
12 R
(udp)180 862 A
1062(\(L\))S
2567(Library)S
2961(Routines)S
4739(ip)S
12 Y1
4833(3)S
12 R
(udp)180 4893 A
5093(\(L\))S
920 V
11 C
(#define)469 1068 A
(NWUO)268 1604 A
11 Y1
1872(3)S
11 C
(BROAD)335 1927 A
11 Y1
2262(3)S
11 C
(MASK)268 2317 A
(0x0020L)469 3188 A
1060 V
(#define)469 1068 A
(NWUO)268 2140 A
11 Y1
2408(3)S
11 C
2463(EN)S
11 Y1
2597(3)S
11 C
(BROAD)335 2652 A
(0x00000020L)737 3724 A
1200 V
(#define)469 1068 A
(NWUO)268 2140 A
11 Y1
2408(3)S
11 C
2463(DI)S
11 Y1
2597(3)S
11 C
(BROAD)335 2652 A
(0x00200000L)737 3724 A
1340 V
(#define)469 1068 A
(NWUO)268 1604 A
11 Y1
1872(3)S
11 C
(REMPORT)469 1927 A
11 Y1
2396(3)S
11 C
(MASK)268 2451 A
(0x0100L)469 3188 A
1480 V
(#define)469 1068 A
(NWUO)268 2140 A
11 Y1
2408(3)S
11 C
2463(RP)S
11 Y1
2597(3)S
11 C
(SET)201 2652 A
(0x00000100L)737 3724 A
1620 V
(#define)469 1068 A
(NWUO)268 2140 A
11 Y1
2408(3)S
11 C
2463(RP)S
11 Y1
2597(3)S
11 C
(ANY)201 2652 A
(0x01000000L)737 3724 A
1760 V
(#define)469 1068 A
(NWUO)268 1604 A
11 Y1
1872(3)S
11 C
(REMADDR)469 1927 A
11 Y1
2396(3)S
11 C
(MASK)268 2451 A
(0x0200L)469 3188 A
1900 V
(#define)469 1068 A
(NWUO)268 2140 A
11 Y1
2408(3)S
11 C
2463(RA)S
11 Y1
2597(3)S
11 C
(SET)201 2652 A
(0x00000200L)737 3724 A
2040 V
(#define)469 1068 A
(NWUO)268 2140 A
11 Y1
2408(3)S
11 C
2463(RA)S
11 Y1
2597(3)S
11 C
(ANY)201 2652 A
(0x02000000L)737 3724 A
2180 V
(#define)469 1068 A
(NWUO)268 1604 A
11 Y1
1872(3)S
11 C
1927(RW)S
11 Y1
2061(3)S
11 C
(MASK)268 2116 A
(0x1000L)469 3188 A
2320 V
(#define)469 1068 A
(NWUO)268 2140 A
11 Y1
2408(3)S
11 C
(RWDATONLY)603 2463 A
(0x00001000L)737 3736 A
2460 V
(#define)469 1068 A
(NWUO)268 2140 A
11 Y1
2408(3)S
11 C
(RWDATALL)536 2463 A
(0x10000000L)737 3736 A
2600 V
(#define)469 1068 A
(NWUO)268 1604 A
11 Y1
1872(3)S
11 C
(IPOPT)335 1927 A
11 Y1
2262(3)S
11 C
(MASK)268 2317 A
(0x2000L)469 3188 A
2740 V
(#define)469 1068 A
(NWUO)268 2140 A
11 Y1
2408(3)S
11 C
2463(EN)S
11 Y1
2597(3)S
11 C
(IPOPT)335 2652 A
(0x00002000L)737 3724 A
2880 V
(#define)469 1068 A
(NWUO)268 2140 A
11 Y1
2408(3)S
11 C
2463(DI)S
11 Y1
2597(3)S
11 C
(IPOPT)335 2652 A
(0x20000000L)737 3724 A
3080 V
12 R
708(A)S
834(UDP)S
1115(channel)S
1529(is)S
1648(considered)S
2210(configured)S
2772(when)S
3072(one)S
3284(flag)S
3511(in)S
(each)222 3644 A
3905(category)S
4361(has)S
4561(been)S
4828(selected.)S
3220 V
708(Thus)S
1028(one)S
1281(of)S
12 C
(NWUO)292 1460 A
12 Y1
1752(3)S
12 C
(EXCL)292 1812 A
12 R
2104(,)S
12 C
(NWUO)292 2212 A
12 Y1
2504(3)S
12 C
(SHARED)438 2564 A
12 R
3080(or)S
12 C
(NWUO)292 3259 A
12 Y1
3551(3)S
12 C
(COPY)292 3611 A
12 R
3903(,)S
4011(one)S
4263(of)S
12 C
(NWUO)292 4442 A
12 Y1
4734(3)S
12 C
4794(LP)S
12 Y1
4940(3)S
12 C
(SEL)219 5000 A
12 R
5219(,)S
3360 V
12 C
(NWUO)292 708 A
12 Y1
1000(3)S
12 C
1060(LP)S
12 Y1
1206(3)S
12 C
(SET)219 1266 A
12 R
1554(or)S
12 C
(NWUO)292 1724 A
12 Y1
2016(3)S
12 C
2076(LP)S
12 Y1
2222(3)S
12 C
(ANY)219 2282 A
12 R
2501(,)S
2600(one)S
2843(of)S
12 C
(NWUO)292 3013 A
12 Y1
3305(3)S
12 C
3365(EN)S
12 Y1
3511(3)S
12 C
(LOC)219 3571 A
12 R
3859(or)S
12 C
(NWUO)292 4029 A
12 Y1
4321(3)S
12 C
4381(DI)S
12 Y1
4527(3)S
12 C
(LOC)219 4587 A
12 R
4806(,)S
4905(one)S
5148(of)S
3500 V
12 C
(NWUO)292 708 A
12 Y1
1000(3)S
12 C
1060(EN)S
12 Y1
1206(3)S
12 C
(BROAD)365 1266 A
12 R
1631(,)S
1708(or)S
12 C
(NWUO)292 1856 A
12 Y1
2148(3)S
12 C
2208(DI)S
12 Y1
2354(3)S
12 C
(BROAD)365 2414 A
12 R
2779(,)S
2855(one)S
3075(of)S
12 C
(NWUO)292 3222 A
12 Y1
3514(3)S
12 C
3574(RP)S
12 Y1
3720(3)S
12 C
(SET)219 3780 A
12 R
3999(,)S
4075(or)S
12 C
(NWUO)292 4222 A
12 Y1
4514(3)S
12 C
4574(RP)S
12 Y1
4720(3)S
12 C
(ANY)219 4780 A
12 R
4999(,)S
5075(one)S
3640 V
708(of)S
12 C
(NWUO)292 852 A
12 Y1
1144(3)S
12 C
1204(RA)S
12 Y1
1350(3)S
12 C
(SET)219 1410 A
12 R
1629(,)S
1702(or)S
12 C
(NWUO)292 1846 A
12 Y1
2138(3)S
12 C
2198(RA)S
12 Y1
2344(3)S
12 C
(ANY)219 2404 A
12 R
2623(,)S
2696(one)S
2913(of)S
12 C
(NWUO)292 3057 A
12 Y1
3349(3)S
12 C
(RWDATONLY)657 3409 A
12 R
4066(,)S
4139(or)S
12 C
(NWUO)292 4283 A
12 Y1
4575(3)S
12 C
(RWDATALL)584 4635 A
12 R
5219(,)S
3780 V
708(and)S
939(one)S
1170(of)S
12 C
(NWUO)292 1328 A
12 Y1
1620(3)S
12 C
1680(EN)S
12 Y1
1826(3)S
12 C
(IPOPT)365 1886 A
12 R
2251(,)S
2338(or)S
12 C
(NWUO)292 2496 A
12 Y1
2788(3)S
12 C
2848(DI)S
12 Y1
2994(3)S
12 C
(IPOPT)365 3054 A
12 R
3419(.)S
3536(The)S
12 C
(NWUO)292 3781 A
12 Y1
4073(3)S
12 C
(ACC)219 4133 A
12 R
4409(flags)S
4702(control)S
5101(the)S
3920 V
(access)310 708 A
1048(to)S
1172(a)S
1256(certain)S
1617(UDP)S
1890(port.)S
12 C
(NWUO)292 2175 A
12 Y1
2467(3)S
12 C
(EXCL)292 2527 A
12 R
2849(means)S
3188(exclusive)S
(access:)344 3676 A
4051(no)S
4202(other)S
4482(channel)S
4889(can)S
5088(use)S
4060 V
708(this)S
916(port.)S
12 C
(NWUO)292 1204 A
12 Y1
1496(3)S
12 C
(SHARED)438 1556 A
12 R
2027(means)S
2369(shared)S
(access:)344 2718 A
3094(only)S
3340(channels)S
3795(that)S
4009(specify)S
4391(shared)S
(access)310 4739 A
5081(can)S
4200 V
708(use)S
941(this)S
1188(port,)S
1485(and)S
1731(all)S
1925(packets)S
2360(that)S
2614(are)S
(received)411 2835 A
3318(are)S
3539(handed)S
3960(to)S
4127(at)S
4288(most)S
4596(one)S
4843(channel.)S
4340 V
12 C
(NWUO)292 708 A
12 Y1
1000(3)S
12 C
(COPY)292 1060 A
12 R
1402(imposes)S
1848(no)S
(access)310 2018 A
2378(restriction)S
2921(and)S
3144(all)S
3315(channels)S
3787(get)S
3984(a)S
(copy)234 4087 A
4370(of)S
4520(every)S
(received)411 4838 A
4480 V
708(packet)S
1054(for)S
1226(that)S
1438(port.)S
4656 V
708(The)S
12 C
(NWUO)292 972 A
12 Y1
1264(3)S
12 C
(LOCPORT)511 1324 A
12 R
1911(flags)S
2224(control)S
2644(the)S
2869(selection)S
3377(of)S
3555(the)S
3780(UDP)S
4100(port)S
4372(for)S
4591(this)S
4843(channel.)S
4796 V
12 C
(NWUO)292 708 A
12 Y1
1000(3)S
12 C
1060(LP)S
12 Y1
1206(3)S
12 C
(SEL)219 1266 A
12 R
1520(requests)S
1952(the)S
2135(server)S
2467(to)S
2596(pick)S
2839(a)S
2927(port.)S
3216(This)S
3465(port)S
(will)190 3694 A
3918(be)S
4066(in)S
4194(the)S
4376(range)S
4679(from)S
(32768)300 4949 A
4936 V
708(to)S
(65535)300 859 A
1216(and)S
1447(it)S
(will)190 1572 A
1819(be)S
1990(unique.)S
12 C
(NWUO)292 2436 A
12 Y1
2728(3)S
12 C
2788(LP)S
12 Y1
2934(3)S
12 C
(SET)219 2994 A
12 R
3271(sets)S
3511(the)S
3717(local)S
4011(port)S
4264(to)S
4416(the)S
4622(value)S
4942(of)S
5101(the)S
5076 V
12 I
708(nwuo)S
12 Y1
968(3)S
12 I
1028(locport)S
12 R
1431(field.)S
12 C
(NWUO)292 1758 A
12 Y1
2050(3)S
12 C
2110(LP)S
12 Y1
2256(3)S
12 C
(ANY)219 2316 A
12 R
2579(does)S
2844(not)S
3042(select)S
3363(a)S
3461(port.)S
(Reception)490 3760 A
4294(of)S
4439(data)S
4685(is)S
4810(therefore)S
5216 V
708(not)S
892(possible)S
1318(but)S
1502(it)S
1600(is)S
1711(possible)S
2137(to)S
2261(send)S
2512(data.)S
2804(\(See)S
12 I
3050(tcpip)S
12 Y1
3292(3)S
12 I
3352(read,)S
12 R
3643(and)S
12 I
3847(tcpip)S
12 Y1
4089(3)S
12 I
4149(write)S
12 R
(above\).)359 4438 A
5392 V
708(The)S
12 C
(NWUO)292 946 A
12 Y1
1238(3)S
12 C
(LOCADDR)511 1298 A
12 R
1859(flags)S
2145(control)S
2538(the)S
(reception)451 2736 A
3237(of)S
3388(packets.)S
12 C
(NWUO)292 3861 A
12 Y1
4153(3)S
12 C
4213(EN)S
12 Y1
4359(3)S
12 C
(LOC)219 4419 A
12 R
4688(enables)S
5101(the)S
5532 V
(reception)451 708 A
1205(of)S
1352(packets)S
1761(with)S
2023(the)S
2217(local)S
2499(IP)S
2653(address)S
3062(as)S
3208(destination.)S
12 C
(NWUO)292 3844 A
12 Y1
4136(3)S
12 C
4196(DI)S
12 Y1
4342(3)S
12 C
(LOC)219 4402 A
12 R
4666(disables)S
5101(the)S
5672 V
(reception)451 708 A
1189(of)S
1320(packets)S
1713(for)S
1885(the)S
2063(local)S
2329(IP)S
2467(address.)S
5848 V
708(The)S
12 C
(NWUO)292 956 A
12 Y1
1248(3)S
12 C
(BROAD)365 1308 A
12 R
1733(flags)S
2030(control)S
2434(the)S
(reception)451 2643 A
3155(of)S
3317(broadcast)S
3842(packets.)S
12 C
(NWUO)292 4326 A
12 Y1
4618(3)S
12 C
4678(EN)S
12 Y1
4824(3)S
12 C
(BROAD)365 4884 A
5988 V
12 R
708(enables)S
1114(the)S
(reception)451 1305 A
1798(of)S
1941(broadcast)S
2447(packets)S
2852(and)S
12 C
(NWUO)292 3068 A
12 Y1
3360(3)S
12 C
3420(DI)S
12 Y1
3566(3)S
12 C
(BROAD)365 3626 A
12 R
4033(disables)S
4465(the)S
(reception)451 4655 A
5148(of)S
6128 V
708(broadcast)S
1202(packets.)S
6304 V
708(The)S
12 C
(NWUO)292 931 A
12 Y1
1223(3)S
12 C
(REMPORT)511 1283 A
12 R
1829(flags)S
2100(let)S
2257(the)S
2440(client)S
2745(specify)S
3130(one)S
3339(specific)S
3752(remote)S
4124(UDP)S
4402(port)S
4632(or)S
4769(allow)S
5075(any)S
6444 V
708(remote)S
1079(port.)S
12 C
(NWUO)292 1368 A
12 Y1
1660(3)S
12 C
1720(RP)S
12 Y1
1866(3)S
12 C
(SET)219 1926 A
12 R
2179(sets)S
2395(the)S
2577(remote)S
2948(UDP)S
3225(port)S
3454(to)S
3582(the)S
3764(value)S
4060(of)S
12 I
4194(nwuo)S
12 Y1
4454(3)S
12 I
4514(remport)S
12 R
4914(.)S
5007(Only)S
6584 V
708(packets)S
1101(with)S
1347(a)S
1431(matching)S
1911(remote)S
2278(port)S
(will)190 2503 A
2723(be)S
2867(delivered)S
3348(and)S
3552(all)S
3704(packets)S
(will)190 4097 A
4317(be)S
4461(sent)S
4686(to)S
4811(that)S
5024(port.)S
6724 V
12 C
(NWUO)292 708 A
12 Y1
1000(3)S
12 C
1060(RP)S
12 Y1
1206(3)S
12 C
(ANY)219 1266 A
12 R
1518(allows)S
(reception)451 1868 A
2352(of)S
2486(packets)S
2882(from)S
3151(any)S
3358(port)S
3586(and)S
3793(when)S
(transmitting)586 4088 A
4706(packets)S
5101(the)S
6864 V
708(remote)S
1075(port)S
1300(must)S
1565(be)S
1709(specified.)S
7040 V
708(The)S
12 C
(NWUO)292 937 A
12 Y1
1229(3)S
12 C
(REMADDR)511 1289 A
12 R
1841(flags)S
2118(control)S
2502(the)S
2691(remote)S
3069(IP)S
3218(address.)S
12 C
(NWUO)292 3682 A
12 Y1
3974(3)S
12 C
4034(RA)S
12 Y1
4180(3)S
12 C
(SET)219 4240 A
12 R
4500(sets)S
4723(the)S
4912(remote)S
7180 V
708(IP)S
856(address)S
1259(to)S
1392(the)S
1579(value)S
1880(of)S
12 I
2020(nwuo)S
12 Y1
2280(3)S
12 I
(remaddr.)446 2340 A
12 R
2835(Only)S
3116(packets)S
3518(from)S
3793(that)S
4014(address)S
(will)190 4416 A
4645(be)S
4798(delivered)S
7320 V
708(and)S
913(all)S
1066(packets)S
(will)190 1460 A
1681(be)S
1826(sent)S
2052(to)S
2177(that)S
2390(address.)S
12 C
(NWUO)292 2844 A
12 Y1
3136(3)S
12 C
3196(RA)S
12 Y1
3342(3)S
12 C
(ANY)219 3402 A
12 R
3653(allows)S
(reception)451 4002 A
4485(of)S
4618(packets)S
5013(from)S
7700 V
(226)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 227 233
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ip)S
12 Y1
802(3)S
12 R
(udp)180 862 A
1062(\(L\))S
2567(Library)S
2961(Routines)S
4739(ip)S
12 Y1
4833(3)S
12 R
(udp)180 4893 A
5093(\(L\))S
860 V
708(any)S
912(host)S
1143(and)S
1347(when)S
(transmitting)586 1639 A
2255(packets)S
2648(the)S
2826(remote)S
3193(host)S
3424(has)S
3615(to)S
3739(be)S
3883(specified.)S
1036 V
708(The)S
12 C
(NWUO)292 977 A
12 Y1
1269(3)S
12 C
1329(RW)S
12 R
1556(flags)S
1873(control)S
2297(the)S
2526(format)S
2931(of)S
3113(the)S
3342(data)S
3625(to)S
3800(be)S
3995(sent)S
4271(or)S
(received.)441 4454 A
5007(With)S
1176 V
12 C
(NWUO)292 708 A
12 Y1
1000(3)S
12 C
(RWDATONLY)657 1060 A
12 R
1748(only)S
1993(the)S
2171(data)S
2403(part)S
2622(of)S
2753(a)S
2837(UDP)S
3110(packet)S
3456(is)S
3567(sent)S
3792(to)S
3916(the)S
4094(server)S
4421(and)S
4625(only)S
4869(the)S
5047(data)S
1316 V
708(part)S
944(is)S
(received)411 1072 A
1531(from)S
1815(the)S
2011(server.)S
2416(This)S
2679(option)S
3035(can)S
3251(only)S
3513(be)S
3675(set)S
3858(if)S
3981(the)S
4177(header)S
4548(information)S
5168(is)S
1456 V
708(completely)S
1281(specified)S
1754(by)S
1909(the)S
2092(other)S
2376(options.)S
2825(Otherwise)S
12 C
(NWUO)292 3359 A
12 Y1
3651(3)S
12 C
(RWDATALL)584 3711 A
12 R
4329(must)S
4598(be)S
4746(used.)S
5061(The)S
1596 V
12 C
(NWUO)292 708 A
12 Y1
1000(3)S
12 C
(RWDATALL)584 1060 A
12 R
1680(mode)S
1984(presents)S
2417(the)S
2601(data)S
2839(part)S
3064(of)S
3201(a)S
3291(UDP)S
3570(packet)S
3923(with)S
4176(a)S
4267(header)S
4627(that)S
4846(contains)S
1736 V
708(the)S
894(source)S
1248(and)S
1460(destination)S
2029(IP)S
2174(address,)S
2604(source)S
2957(and)S
3168(destination)S
3736(UDP)S
4016(ports,)S
4325(the)S
4510(IP)S
4655(options,)S
5077(etc.)S
1876 V
708(The)S
926(server)S
1253(expects)S
1646(such)S
1897(a)S
1981(header)S
2334(to)S
2458(be)S
2602(present)S
2982(in)S
3106(front)S
3372(of)S
3503(the)S
3681(data)S
3913(to)S
4037(be)S
(transmitted.)576 4181 A
2052 V
708(The)S
12 C
(NWUO)292 970 A
12 Y1
1262(3)S
12 C
(IPOPT)365 1322 A
12 R
1761(flags)S
2071(control)S
2488(the)S
2710(delivery)S
3181(and)S
3429(transmission)S
4115(of)S
4290(IP)S
4472(options.)S
4961(When)S
2192 V
12 C
(NWUO)292 708 A
12 Y1
1000(3)S
12 C
1060(EN)S
12 Y1
1206(3)S
12 C
(IPOPT)365 1266 A
12 R
1668(is)S
1785(set,)S
1986(IP)S
2130(options)S
(will)190 2521 A
2747(be)S
2897(delivered)S
3384(and)S
3594(sent.)S
3885(When)S
12 C
(NWUO)292 4209 A
12 Y1
4501(3)S
12 C
4561(DI)S
12 Y1
4707(3)S
12 C
(IPOPT)365 4767 A
12 R
5168(is)S
2332 V
708(set,)S
903(IP)S
1041(options)S
(will)190 1426 A
1646(be)S
1790(stripped)S
2210(from)S
(received)411 2476 A
2917(packets)S
3310(and)S
3514(no)S
3664(IP)S
3802(options)S
(will)190 4187 A
4407(be)S
4551(sent.)S
2648 V
12 I
708(UDP)S
988(Library)S
1387(Functions)S
2824 V
12 R
708(The)S
933(following)S
1441(routines)S
1869(provide)S
2276(a)S
2368(somewhat)S
2897(easier)S
3219(to)S
3351(use)S
(interface)426 3550 A
4014(to)S
4146(UDP)S
4427(than)S
4673(the)S
4859(routines)S
2964 V
708(described)S
(above)288 1202 A
1520(\()S
12 I
1561(tcpip)S
12 Y1
1803(3)S
12 I
1863(open)S
12 R
2097(,)S
12 I
(udp)180 2157 A
12 Y1
2337(3)S
12 I
2397(ioc)S
12 Y1
2545(3)S
12 I
2605(setopt)S
12 R
2894(,)S
12 I
2954(tcpip)S
12 Y1
3196(3)S
12 I
3256(read)S
12 R
3507(and)S
12 I
3711(tcpip)S
12 Y1
3953(3)S
12 I
4013(write)S
12 R
4262(\).)S
3280 V
12 I
(udp)180 708 A
12 Y1
888(3)S
12 I
(connect)376 948 A
3516 V
11 C
(errstat)469 1068 A
3656 V
(udp)201 1068 A
11 Y1
1269(3)S
11 C
(connect\(udp)737 1324 A
11 Y1
2061(3)S
11 C
(cap,)268 2116 A
(chan)268 2451 A
11 Y1
2719(3)S
11 C
(cap,)268 2774 A
(srcport,)536 3109 A
(dstport,)536 3712 A
(dstaddr,)536 4315 A
(flags\))402 4918 A
3796 V
(capability)670 1068 A
(*udp)268 1805 A
11 Y1
2073(3)S
11 C
(cap;)268 2128 A
3936 V
(capability)670 1068 A
(*chan)335 1805 A
11 Y1
2140(3)S
11 C
(cap;)268 2195 A
4076 V
(udpport)469 1068 A
11 Y1
1537(3)S
11 C
1592(t)S
(srcport;)536 1726 A
4216 V
(udpport)469 1068 A
11 Y1
1537(3)S
11 C
1592(t)S
(dstport;)536 1726 A
4356 V
(ipaddr)402 1068 A
11 Y1
1470(3)S
11 C
1525(t)S
(dstaddr;)536 1659 A
4496 V
(int)201 1068 A
(flags;)402 1336 A
4696 V
12 I
708(Udp)S
12 Y1
916(3)S
12 I
(connect)376 976 A
12 R
1395(combines)S
1901(the)S
(functionality)619 2092 A
2754(of)S
12 I
2899(tcpip)S
12 Y1
3141(3)S
12 I
3201(open)S
12 R
3479(and)S
12 I
(udp)180 3697 A
12 Y1
3877(3)S
12 I
3937(ioc)S
12 Y1
4085(3)S
12 I
4145(setopt)S
12 R
4434(.)S
4538(A)S
4670(pointer)S
5057(to)S
5195(a)S
4836 V
708(UDP)S
1009(server)S
(capability)478 1364 A
(should)321 1900 A
2279(be)S
2451(passed)S
2831(in)S
12 I
(udp)180 2983 A
12 Y1
3163(3)S
12 I
3223(cap)S
12 R
3397(,)S
3484(and)S
3715(the)S
3920(channel)S
(capability)478 4353 A
(will)190 4888 A
5135(be)S
4976 V
708(returned)S
1146(in)S
1274(the)S
(capability)478 1456 A
1968(pointed)S
2364(to)S
2492(by)S
12 I
(chan)234 2646 A
12 Y1
2880(3)S
12 I
2940(cap)S
12 R
3114(.)S
3208(If)S
12 I
3324(srcport)S
12 R
3707(is)S
3822(0)S
3916(then)S
4158(an)S
(unused)341 4306 A
4681(port)S
(will)190 4910 A
5135(be)S
5116 V
708(selected,)S
1200(otherwise)S
1743(the)S
1962(local)S
2269(port)S
(will)190 2534 A
2794(be)S
2978(set)S
3183(to)S
12 I
3347(srcport)S
12 R
3696(.)S
3826(If)S
12 I
3978(dstport)S
12 R
4390(is)S
(non-zero)430 4541 A
5041(then)S
5256 V
708(communication)S
(will)190 1495 A
1720(be)S
1869(restricted)S
2358(to)S
2488(remote)S
2861(ports)S
3139(equal)S
3437(to)S
12 I
3567(dstport)S
12 R
3909(,)S
3975(otherwise)S
4483(any)S
4693(data)S
4931(can)S
5135(be)S
5396 V
708(sent)S
935(to)S
1061(or)S
(received)411 1194 A
1637(from)S
1905(any)S
2111(remote)S
2480(port.)S
2767(The)S
2987(same)S
3268(applies)S
3643(to)S
12 I
(dstaddr)368 3769 A
12 R
4137(:)S
4202(if)S
12 I
(dstaddr)368 4308 A
12 R
4707(is)S
(non-zero)430 4819 A
5536 V
708(then)S
946(only)S
12 I
(dstaddr)368 1190 A
12 R
1588(can)S
1786(be)S
(reached.)407 1930 A
2397(Currently)S
2891(no)S
3041(flags)S
3307(are)S
3486(defined)S
3879(so)S
12 I
4016(flags)S
12 R
(should)321 4281 A
4632(be)S
4776(0.)S
5852 V
12 I
(udp)180 708 A
12 Y1
888(3)S
12 I
(reconnect)477 948 A
6088 V
11 C
(errstat)469 1068 A
6228 V
(udp)201 1068 A
11 Y1
1269(3)S
11 C
(reconnect\(chan)938 1324 A
11 Y1
2262(3)S
11 C
(cap,)268 2317 A
(srcport,)536 2652 A
(dstport,)536 3255 A
(dstaddr,)536 3858 A
(flags\))402 4461 A
6368 V
(capability)670 1068 A
(*chan)335 1805 A
11 Y1
2140(3)S
11 C
(cap;)268 2195 A
6508 V
(udpport)469 1068 A
11 Y1
1537(3)S
11 C
1592(t)S
(srcport;)536 1726 A
6648 V
(udpport)469 1068 A
11 Y1
1537(3)S
11 C
1592(t)S
(dstport;)536 1726 A
6788 V
(ipaddr)402 1068 A
11 Y1
1470(3)S
11 C
1525(t)S
(dstaddr;)536 1659 A
6928 V
(int)201 1068 A
(flags;)402 1336 A
7128 V
12 I
708(Udp)S
12 Y1
916(3)S
12 I
(reconnect)477 976 A
12 R
1508(is)S
1645(the)S
1849(same)S
2154(as)S
12 I
(udp)180 2311 A
12 Y1
2491(3)S
12 I
(connect)376 2551 A
12 R
2983(except)S
3355(that)S
3593(an)S
3763(existing)S
4202(channel)S
(capability)478 4634 A
5168(is)S
7268 V
708(\(re\)used.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(227)180 5069 A
7920 V
EP
%%Page: 228 234
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ip)S
12 Y1
802(3)S
12 R
(udp)180 862 A
1062(\(L\))S
2567(Library)S
2961(Routines)S
4739(ip)S
12 Y1
4833(3)S
12 R
(udp)180 4893 A
5093(\(L\))S
860 V
12 I
(udp)180 708 A
12 Y1
888(3)S
12 I
948(read)S
12 Y1
1169(3)S
12 I
1229(msg)S
1096 V
11 C
(errstat)469 1068 A
1236 V
(udp)201 1068 A
11 Y1
1269(3)S
11 C
(read)268 1324 A
11 Y1
1592(3)S
11 C
(msg\(chan)536 1647 A
11 Y1
2183(3)S
11 C
(cap,)268 2238 A
(msg,)268 2573 A
(msglen,)469 2908 A
(actlen,)469 3444 A
(flags\))402 3980 A
1376 V
(capability)670 1068 A
(*chan)335 1805 A
11 Y1
2140(3)S
11 C
(cap;)268 2195 A
1516 V
(char)268 1068 A
(*msg;)335 1403 A
1656 V
(int)201 1068 A
(msglen;)469 1336 A
1796 V
(int)201 1068 A
(*actlen;)536 1336 A
1936 V
(int)201 1068 A
(flags;)402 1336 A
2136 V
12 I
708(Udp)S
12 Y1
916(3)S
12 I
976(read)S
12 Y1
1197(3)S
12 I
1257(msg)S
12 R
1485(delivers)S
1902(a)S
1989(UDP)S
2265(packet.)S
2674(The)S
2895(data)S
3130(part)S
3352(of)S
3486(the)S
3667(UDP)S
3943(packet)S
4293(is)S
4408(prepended)S
4945(with)S
5195(a)S
2276 V
12 I
(udp)180 708 A
12 Y1
888(3)S
12 I
948(io)S
12 Y1
1042(3)S
12 I
1102(hdr)S
12 R
1269(.)S
1372(The)S
1603(actual)S
1936(length)S
2281(of)S
2425(the)S
2616(\(possibly)S
3102(truncated\))S
3637(packet)S
3996(is)S
4120(returned)S
4567(in)S
12 I
4703(actlen)S
12 R
4999(.)S
5101(No)S
2416 V
708(flags)S
974(are)S
1153(defined)S
1546(so)S
12 I
1683(flags)S
12 R
(should)321 1948 A
2299(be)S
2443(0.)S
2732 V
12 I
(udp)180 708 A
12 Y1
888(3)S
12 I
948(write)S
12 Y1
1197(3)S
12 I
1257(msg)S
2968 V
11 C
(errstat)469 1068 A
3108 V
(udp)201 1068 A
11 Y1
1269(3)S
11 C
(write)335 1324 A
11 Y1
1659(3)S
11 C
(msg\(chan)536 1714 A
11 Y1
2250(3)S
11 C
(cap,)268 2305 A
(msg,)268 2640 A
(msglen,)469 2975 A
(flags\))402 3511 A
3248 V
(capability)670 1068 A
(*chan)335 1805 A
11 Y1
2140(3)S
11 C
(cap;)268 2195 A
3388 V
(char)268 1068 A
(*msg;)335 1403 A
3528 V
(int)201 1068 A
(msglen;)469 1336 A
3668 V
(int)201 1068 A
(flags;)402 1336 A
3868 V
12 R
708(A)S
830(UDP)S
1107(packet)S
1457(can)S
1659(be)S
1807(sent)S
2036(with)S
12 I
(udp)180 2286 A
12 Y1
2466(3)S
12 I
2526(write)S
12 Y1
2775(3)S
12 I
2835(msg)S
12 R
3030(.)S
12 I
3124(Msg)S
12 R
(should)321 3366 A
3721(point)S
4004(to)S
4133(a)S
12 I
(udp)180 4222 A
12 Y1
4402(3)S
12 I
4462(io)S
12 Y1
4556(3)S
12 I
4616(hdr)S
12 R
4818(followed)S
4008 V
708(by)S
891(the)S
1102(data)S
1367(part)S
1619(of)S
1783(the)S
1994(UDP)S
2300(packet.)S
2738(The)S
12 I
2988(uih)S
12 Y1
3142(3)S
12 I
3202(dst)S
12 Y1
3343(3)S
12 I
(addr)227 3403 A
12 R
3692(and)S
12 I
3928(uih)S
12 Y1
4082(3)S
12 I
4142(dst)S
12 Y1
4283(3)S
12 I
4343(port)S
12 R
4606(fields)S
4938(of)S
5101(the)S
4148 V
12 I
(udp)180 708 A
12 Y1
888(3)S
12 I
948(io)S
12 Y1
1042(3)S
12 I
1102(hdr)S
12 R
(should)321 1347 A
1747(be)S
(filled)257 1940 A
2276(in)S
2449(if)S
2603(no)S
2802(values)S
3190(were)S
3506(specified)S
4023(in)S
4196(the)S
12 I
(udp)180 4423 A
12 Y1
4603(3)S
12 I
(connect)376 4663 A
12 R
5039(,)S
5148(or)S
4288 V
12 I
(udp)180 708 A
12 Y1
888(3)S
12 I
(reconnect)477 948 A
12 R
1455(call.)S
4604 V
12 I
(udp)180 708 A
12 Y1
888(3)S
12 I
948(close)S
4840 V
11 C
(errstat)469 1068 A
4980 V
(udp)201 1068 A
11 Y1
1269(3)S
11 C
(close\(chan)670 1324 A
11 Y1
1994(3)S
11 C
(cap,)268 2049 A
(flags\))402 2384 A
5120 V
(capability)670 1068 A
(*chan)335 1805 A
11 Y1
2140(3)S
11 C
(cap;)268 2195 A
5260 V
(int)201 1068 A
(flags;)402 1336 A
5460 V
12 I
708(Udp)S
12 Y1
916(3)S
12 I
976(close)S
12 R
1273(cleans)S
1624(up)S
1792(the)S
1988(administration)S
2736(kept)S
2992(by)S
3160(the)S
3356(UDP)S
3647(library)S
4020(but)S
4223(does)S
4493(not)S
4696(destroy)S
5101(the)S
5600 V
(capability.)508 708 A
1284(This)S
1537(function)S
(should)321 1978 A
2337(be)S
2489(used)S
2747(if)S
2859(the)S
(capability)478 3044 A
3559(was)S
3785(passed)S
4144(to)S
4275(another)S
4675(process)S
5075(and)S
5740 V
(should)321 708 A
1059(continue)S
1505(to)S
1629(exist.)S
1948(No)S
2126(flags)S
2392(are)S
2571(defined)S
2964(so)S
12 I
3101(flags)S
12 R
(should)321 3366 A
3717(be)S
3861(0.)S
6056 V
12 I
(udp)180 708 A
12 Y1
888(3)S
12 I
948(destroy)S
6292 V
11 C
(errstat)469 1068 A
6432 V
(udp)201 1068 A
11 Y1
1269(3)S
11 C
(destroy\(chan)804 1324 A
11 Y1
2128(3)S
11 C
(cap,)268 2183 A
(flags\))402 2518 A
6572 V
(capability)670 1068 A
(*chan)335 1805 A
11 Y1
2140(3)S
11 C
(cap;)268 2195 A
6712 V
(int)201 1068 A
(flags;)402 1336 A
6912 V
12 I
708(Udp)S
12 Y1
916(3)S
12 I
976(destroy)S
12 R
1366(not)S
1554(only)S
1802(cleans)S
2139(up)S
2293(the)S
2475(administration)S
3209(kept)S
3452(by)S
3607(the)S
3790(UDP)S
4068(library)S
4427(but)S
4616(also)S
4846(destroys)S
7052 V
708(the)S
886(channel)S
(capability.)508 1292 A
7700 V
(228)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 229 235
BP
/slant 0 def
/height 0 def
500 V
12 R
708(ip)S
12 Y1
802(3)S
12 R
(udp)180 862 A
1062(\(L\))S
2567(Library)S
2961(Routines)S
4739(ip)S
12 Y1
4833(3)S
12 R
(udp)180 4893 A
5093(\(L\))S
860 V
12 I
(Diagnostics)578 708 A
1036 V
12 R
708(The)S
926(complete)S
1400(set)S
1565(of)S
1696(error)S
1963(codes)S
2268(is)S
2379(described)S
2873(in)S
12 I
2997(ip)S
12 R
3101(\(L\).)S
1316 V
12 B
708(See)S
913(Also)S
1492 V
12 R
708(error\(L\),)S
1161(ip\(L\),)S
1471(ip)S
12 Y1
1565(3)S
12 R
1625(eth\(L\),)S
1989(ip)S
12 Y1
2083(3)S
12 R
2143(ip\(L\),)S
2453(ip)S
12 Y1
2547(3)S
12 R
2607(tcp\(L\),)S
2971(ipsvr\(A\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(229)180 5069 A
7920 V
EP
%%Page: 230 236
BP
/slant 0 def
/height 0 def
500 V
12 R
(libmod2)402 708 A
1130(\(L\))S
2567(Library)S
2961(Routines)S
(libmod2)402 4671 A
5093(\(L\))S
860 V
2644(\(in)S
2809(libraries:)S
3272(\))S
1210 V
12 B
708(Name)S
1386 V
12 R
(libmod2)402 708 A
12 R-1
1140(-)S
12 R
(introduction)591 1268 A
1889(to)S
2013(the)S
(Modula)375 2191 A
2596(2)S
2686(libraries)S
1666 V
12 B
708(Description)S
1842 V
12 R
708(This)S
953(document)S
1459(describes)S
1940(the)S
(modules)409 2118 A
(supplied)409 2557 A
2996(with)S
3242(the)S
3420(ACK)S
(Modula-2)476 3706 A
4212(compiler.)S
2298 V
12 I
708(ASCII.def)S
2474 V
12 R
708(Contains)S
1167(mnemonics)S
1754(for)S
1926(ASCII)S
2273(control)S
2646(characters)S
2930 V
12 I
708(Ajax.def)S
3106 V
12 R
708(Currently)S
1202(only)S
1446(contains)S
1879(the)S
2057(function)S
2490(``isatty''.)S
3306 V
11 C
(PROCEDURE)603 1068 A
(isatty\(fdes:)804 1738 A
(INTEGER\):)603 2609 A
(INTEGER;)536 3279 A
3822 V
12 I
708(Arguments.def)S
3998 V
12 R
708(This)S
(module)362 953 A
1345(provides)S
(access)310 1791 A
2131(to)S
2255(program)S
2695(arguments)S
3229(and)S
3433(environment.)S
4198 V
11 C
(VAR)201 1068 A
(Argc:)335 1652 A
(CARDINAL;)603 2054 A
4398 V
12 R
708(Number)S
1135(of)S
1266(program)S
1706(arguments,)S
2270(including)S
2756(the)S
2934(program)S
3374(name,)S
3696(so)S
3833(it)S
3931(is)S
4042(at)S
4160(least)S
4413(1.)S
4598 V
11 C
(PROCEDURE)603 1068 A
(Argv\()335 1738 A
(argnum)402 2140 A
2609(:)S
(CARDINAL;)603 2743 A
4738 V
(VAR)201 2236 A
(argument)536 2504 A
3107(:)S
(ARRAY)335 3241 A
3643(OF)S
(CHAR)268 3844 A
4878 V
2054(\))S
2188(:)S
(CARDINAL;)603 2322 A
5114 V
12 R
708(Stores)S
1079(the)S
(``argnum'th'')668 1295 A
2031(argument)S
2556(in)S
2718(``argument'',)S
3437(and)S
3679(returns)S
4085(its)S
4269(length,)S
4670(including)S
5195(a)S
5254 V
708(terminating)S
1317(NULL-byte.)S
1999(If)S
2130(it)S
2247(returns)S
2633(0,)S
2772(the)S
2969(argument)S
3475(was)S
3713(not)S
3916(present,)S
4345(and)S
4568(if)S
4692(it)S
4809(returns)S
5195(a)S
5394 V
708(number)S
1109(larger)S
1425(than)S
1665(the)S
1845(size)S
2066(of)S
2199(``argument'',)S
2882(``argument'')S
3535(was)S
3756(not)S
3942(large)S
(enough.)384 4218 A
4665(Argument)S
5189(0)S
5534 V
708(contains)S
1141(the)S
1319(program)S
1759(name.)S
5734 V
11 C
(PROCEDURE)603 1068 A
(GetEnv\()469 1738 A
(name)268 2274 A
2609(:)S
(ARRAY)335 2743 A
3145(OF)S
(CHAR;)335 3346 A
5874 V
(VAR)201 2370 A
(value)335 2638 A
3040(:)S
(ARRAY)335 3174 A
3576(OF)S
(CHAR)268 3777 A
6014 V
2236(\))S
2370(:)S
(CARDINAL;)603 2504 A
6214 V
12 R
708(Searches)S
1174(the)S
1357(environment)S
2003(list)S
2187(for)S
2364(a)S
2453(string)S
2764(of)S
2900(the)S
3083(form)S
3354(``name=value'')S
4145(and)S
4354(stores)S
4673(the)S
4857(value)S
5155(in)S
6354 V
708(``value'',)S
1208(if)S
1327(such)S
1592(a)S
1690(string)S
2010(is)S
2135(present.)S
2589(It)S
2708(returns)S
3089(the)S
3281(length)S
3627(of)S
3772(the)S
3964(``value'')S
4434(part,)S
4696(including)S
5195(a)S
6494 V
708(terminating)S
1298(NULL-byte.)S
1962(If)S
2075(it)S
2174(returns)S
2542(0,)S
2663(such)S
2915(a)S
3000(string)S
3307(is)S
3419(not)S
3604(present,)S
4015(and)S
4220(if)S
4326(it)S
4425(returns)S
4794(a)S
4880(number)S
6634 V
708(larger)S
1032(than)S
1280(the)S
1468(size)S
1697(of)S
1838(the)S
2026(``value'',)S
2522(``value'')S
2988(was)S
3217(not)S
3411(large)S
(enough.)384 3694 A
4148(The)S
4375(string)S
4690(in)S
4823(``name'')S
6774 V
708(must)S
973(be)S
1117(NULL-terminated.)S
7700 V
(230)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 231 237
BP
/slant 0 def
/height 0 def
500 V
12 R
(libmod2)402 708 A
1130(\(L\))S
2567(Library)S
2961(Routines)S
(libmod2)402 4671 A
5093(\(L\))S
860 V
12 I
708(ArraySort.def)S
1036 V
12 R
708(The)S
(interface)426 931 A
1392(is)S
1509(like)S
1727(the)S
1911(qsort\(\))S
(interface)426 2271 A
2733(in)S
2863(C,)S
3009(so)S
3152(that)S
3370(an)S
3520(array)S
3806(of)S
3943(values)S
4288(can)S
4492(be)S
4642(sorted.)S
5034(This)S
1176 V
708(does)S
986(not)S
1197(mean)S
1516(that)S
1755(it)S
1880(has)S
2098(to)S
2249(be)S
2420(an)S
2591(ARRAY,)S
3102(but)S
3313(it)S
3438(does)S
3716(mean)S
4035(that)S
4274(the)S
4479(values)S
4844(must)S
5135(be)S
1316 V
708(consecutive)S
1329(in)S
1473(memory,)S
1956(and)S
2180(the)S
2378(order)S
2684(is)S
2815(the)S
3013(``memory'')S
3630(order.)S
3996(The)S
4234(user)S
4486(has)S
4697(to)S
4841(define)S
5195(a)S
1456 V
708(comparison)S
1315(procedure)S
1842(of)S
1986(type)S
2237(CompareProc.)S
3005(This)S
3263(routine)S
3649(gets)S
3887(two)S
4111(pointers)S
4543(as)S
4686(parameters.)S
1596 V
708(These)S
1027(are)S
1206(pointers)S
1626(to)S
1750(the)S
1928(objects)S
2301(that)S
2513(must)S
2778(be)S
2922(compared.)S
3489(The)S
3707(sorting)S
4074(takes)S
(place)256 4354 A
4641(in)S
4766(ascending)S
1736 V
708(order,)S
1031(so)S
1175(that)S
1394(f.i.)S
1566(if)S
1678(the)S
1863(result)S
2170(of)S
2308(the)S
2493(comparison)S
3094(is)S
3212(``less'',)S
3625(the)S
3810(first)S
4044(argument)S
4538(comes)S
4883(in)S
5013(front)S
1876 V
708(of)S
839(the)S
(second.)365 1017 A
2076 V
11 C
(TYPE)268 1068 A
(CompareResult)871 1652 A
2590(=)S
(\(less,)402 2724 A
(equal,)402 3193 A
(greater\);)603 3662 A
2216 V
(CompareProc)737 1652 A
2456(=)S
(PROCEDURE\(ADDRESS,)1206 2590 A
(ADDRESS\))536 3863 A
2356 V
2772(:)S
(CompareResult;)938 2906 A
2636 V
(PROCEDURE)603 1068 A
(Sort\()335 1738 A
2776 V
(base:)335 1652 A
(ADDRESS;\(*)670 2054 A
(address)469 2791 A
3327(of)S
(array)335 3528 A
3930(*\))S
2916 V
(nel:)268 1652 A
(CARDINAL;\(*)737 1987 A
(number)402 2791 A
3260(of)S
(elements)536 3461 A
4064(in)S
(array)335 4265 A
4667(*\))S
3056 V
(size:)335 1652 A
(CARDINAL;\(*)737 2054 A
(size)268 2858 A
3193(of)S
(each)268 3394 A
(element)469 3729 A
4265(*\))S
3196 V
(compar:)469 1652 A
(CompareProc\);\(*)1005 2188 A
(the)201 3260 A
(comparison)670 3528 A
(procedure)603 4265 A
4935(*\))S
3712 V
12 I
708(CSP.def)S
1130(-)S
1201(Communicating)S
2003(Sequential)S
2543(Processes)S
3888 V
12 R
708(See)S
913(the)S
1091(article)S
4064 V
958(A)S
(Modula-2)476 1076 A
1582(Implementation)S
2379(of)S
2510(CSP,)S
4204 V
958(M.)S
1125(Collado,)S
1567(R.)S
1707(Morales,)S
2164(J.J.)S
2348(Moreno,)S
4344 V
958(SIGPlan)S
1399(Notices,)S
1830(Volume)S
2250(22,)S
2430(Number)S
2857(6,)S
2977(June)S
(1987.)270 3228 A
4520 V
708(for)S
880(an)S
1024(explanation)S
1618(of)S
1749(the)S
1927(use)S
2118(of)S
2249(this)S
(module.)392 2454 A
4720 V
11 C
(FROM)268 1068 A
(SYSTEM)402 1403 A
(IMPORT)402 1872 A
(BYTE;)335 2341 A
4860 V
(TYPE)268 1068 A
(Channel;)536 1403 A
5140 V
(PROCEDURE)603 1068 A
(COBEGIN;)536 1738 A
5340 V
12 R
708(Beginning)S
1240(of)S
1371(a)S
1455(COBEGIN)S
2024(..)S
2114(COEND)S
2562(structure.)S
5540 V
11 C
(PROCEDURE)603 1068 A
(COEND;)402 1738 A
5740 V
12 R
708(End)S
932(of)S
1063(a)S
1147(COBEGIN)S
1716(..)S
1806(COEND)S
2254(structure.)S
5940 V
11 C
(PROCEDURE)603 1068 A
(StartProcess\(P:)1005 1738 A
(PROC\);)402 2810 A
6140 V
12 R
708(Start)S
968(an)S
(anonymous)555 1112 A
1697(process)S
2090(that)S
2302(executes)S
2749(the)S
2927(procedure)S
3441(P.)S
6340 V
11 C
(PROCEDURE)603 1068 A
(StopProcess;)804 1738 A
6540 V
12 R
708(Terminate)S
1237(a)S
1321(Process)S
1721(\(itself\).)S
6740 V
11 C
(PROCEDURE)603 1068 A
(InitChannel\(VAR)1005 1738 A
(ch:)201 2810 A
(Channel\);)603 3078 A
6940 V
12 R
(Initialize)433 708 A
1171(the)S
1349(channel)S
1755(ch.)S
7140 V
11 C
(PROCEDURE)603 1068 A
(GetChannel\(ch:)938 1738 A
(Channel\);)603 2743 A
7700 V
12 R
2683(Amoeba)S
3123(5.3)S
(231)180 5069 A
7920 V
EP
%%Page: 232 238
BP
/slant 0 def
/height 0 def
500 V
12 R
(libmod2)402 708 A
1130(\(L\))S
2567(Library)S
2961(Routines)S
(libmod2)402 4671 A
5093(\(L\))S
860 V
708(Assign)S
1074(the)S
1252(channel)S
1658(ch)S
1802(to)S
1926(the)S
2104(process)S
2497(that)S
2709(gets)S
2934(it.)S
1060 V
11 C
(PROCEDURE)603 1068 A
(Send\(data:)670 1738 A
(ARRAY)335 2475 A
2877(OF)S
(BYTE;)335 3078 A
(VAR)201 3480 A
(ch:)201 3748 A
(Channel\);)603 4016 A
1260 V
12 R
708(Send)S
979(a)S
1063(message)S
1503(with)S
1749(the)S
1927(data)S
2159(to)S
2283(the)S
2461(channel)S
2867(ch.)S
1460 V
11 C
(PROCEDURE)603 1068 A
(Receive\(VAR)737 1738 A
(ch:)201 2542 A
(Channel;)536 2810 A
(VAR)201 3413 A
(dest:)335 3681 A
(ARRAY)335 4083 A
4485(OF)S
(BYTE\);)402 4686 A
1660 V
12 R
(Receive)390 708 A
1128(a)S
1212(message)S
1652(from)S
1918(the)S
2096(channel)S
2502(ch)S
2646(into)S
2864(the)S
3042(dest)S
3267(variable.)S
1860 V
11 C
(PROCEDURE)603 1068 A
(SELECT\(n:)603 1738 A
(CARDINAL\);)670 2408 A
2060 V
12 R
708(Beginning)S
1240(of)S
1371(a)S
(SELECT)443 1455 A
1928(structure)S
2383(with)S
2629(n)S
2719(guards.)S
2260 V
11 C
(PROCEDURE)603 1068 A
(NEXTGUARD\(\):)804 1738 A
(CARDINAL;)603 2609 A
2460 V
12 R
708(Returns)S
1114(an)S
1258(index)S
1556(to)S
1680(the)S
1858(next)S
2096(guard)S
2401(to)S
2525(be)S
2669(evaluated)S
3163(in)S
3287(a)S
(SELECT.)473 3371 A
2660 V
11 C
(PROCEDURE)603 1068 A
(GUARD\(cond:)737 1738 A
(BOOLEAN;)536 2542 A
(ch:)201 3145 A
(Channel;)536 3413 A
2800 V
(VAR)201 2188 A
(dest:)335 2456 A
(ARRAY)335 2858 A
3260(OF)S
(BYTE\):)402 3461 A
(BOOLEAN;)536 3930 A
3000 V
12 R
708(Evaluates)S
1209(a)S
1293(guard,)S
1628(including)S
(reception)451 2114 A
2595(management.)S
3200 V
11 C
(PROCEDURE)603 1068 A
(ENDSELECT\(\):)804 1738 A
(BOOLEAN;)536 2609 A
3400 V
12 R
708(End)S
932(of)S
1063(a)S
(SELECT)443 1147 A
1620(structure.)S
3856 V
12 I
708(Conversion.def)S
4032 V
12 R
708(This)S
(module)362 953 A
1345(provides)S
1791(numeric-to-string)S
(conversions.)607 2670 A
4232 V
11 C
(PROCEDURE)603 1068 A
(ConvertOctal\(num,)1139 1738 A
(len:)268 2944 A
(CARDINAL;)603 3279 A
4372 V
(VAR)201 2705 A
(str:)268 2973 A
(ARRAY)335 3308 A
3710(OF)S
(CHAR\);)402 3911 A
4572 V
12 R
(Convert)389 708 A
1127(number)S
1526(``num'')S
1934(to)S
2058(right-justified)S
2756(octal)S
3022(representation)S
3739(of)S
3871(``len'')S
(positions,)466 4214 A
4711(and)S
4916(put)S
5101(the)S
4712 V
708(result)S
1008(in)S
(``str''.)316 1132 A
1508(If)S
1620(the)S
1798(result)S
2098(does)S
2349(not)S
2533(fit)S
2672(in)S
(``str'',)316 2796 A
3142(it)S
3240(is)S
3351(truncated)S
3832(on)S
3982(the)S
4160(right.)S
4912 V
11 C
(PROCEDURE)603 1068 A
(ConvertHex\(num,)1005 1738 A
(len:)268 2810 A
(CARDINAL;)603 3145 A
5052 V
(VAR)201 2571 A
(str:)268 2839 A
(ARRAY)335 3174 A
3576(OF)S
(CHAR\);)402 3777 A
5252 V
12 R
(Convert)389 708 A
1127(a)S
1211(hexadecimal)S
1853(number)S
2252(to)S
2376(a)S
2460(string.)S
5452 V
11 C
(PROCEDURE)603 1068 A
(ConvertCardinal\(num,)1340 1738 A
(len:)268 3145 A
(CARDINAL;)603 3480 A
5592 V
(VAR)201 2370 A
(str:)268 2638 A
(ARRAY)335 2973 A
3375(OF)S
(CHAR\);)402 3576 A
5792 V
12 R
(Convert)389 708 A
1127(a)S
1211(cardinal)S
1632(number)S
2031(to)S
2155(a)S
2239(string.)S
5992 V
11 C
(PROCEDURE)603 1068 A
(ConvertInteger\(num:)1273 1738 A
(INTEGER;)536 3078 A
6132 V
(len:)268 2303 A
(CARDINAL;)603 2638 A
6272 V
(VAR)201 2743 A
(str:)268 3011 A
(ARRAY)335 3346 A
3748(OF)S
(CHAR\);)402 3949 A
6472 V
12 R
(Convert)389 708 A
1127(an)S
1271(integer)S
1638(number)S
2037(to)S
2161(a)S
2245(string.)S
7700 V
(232)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 233 239
BP
/slant 0 def
/height 0 def
500 V
12 R
(libmod2)402 708 A
1130(\(L\))S
2567(Library)S
2961(Routines)S
(libmod2)402 4671 A
5093(\(L\))S
860 V
12 I
708(EM.def)S
1036 V
12 R
708(This)S
(module)362 953 A
1345(provides)S
1791(an)S
(interface)426 1935 A
2391(to)S
2515(some)S
2800(EM)S
3011(instructions)S
3606(and)S
3810(data.)S
1236 V
11 C
(TYPE)268 1068 A
(TrapHandler)737 1403 A
2207(=)S
(PROCEDURE\(INTEGER\);)1273 2341 A
1516 V
(PROCEDURE)603 1068 A
(FIF\(arg1,)603 1738 A
(arg2:)335 2408 A
(LONGREAL;)603 2810 A
1656 V
(VAR)201 2054 A
(intres:)469 2322 A
(LONGREAL\))603 2858 A
3528(:)S
(LONGREAL;)603 3662 A
1856 V
12 R
(Multiplies)498 708 A
1263(arg1)S
1535(and)S
1766(arg2,)S
2068(and)S
2299(returns)S
2693(the)S
2898(integer)S
3292(part)S
3538(of)S
3696(the)S
3901(result)S
4228(in)S
4379(``intres'')S
4870(and)S
5101(the)S
1996 V
708(fraction)S
1116(part)S
1335(as)S
1466(the)S
1644(function)S
2077(result.)S
2196 V
11 C
(PROCEDURE)603 1068 A
(FEF\(arg:)536 1738 A
(LONGREAL;)603 2341 A
(VAR)201 3011 A
(exp:)268 3279 A
(INTEGER\))536 3614 A
4217(:)S
(LONGREAL;)603 4351 A
2396 V
12 R
(Splits)276 708 A
1019(``arg'')S
1373(in)S
1502(mantissa)S
1961(and)S
2170(a)S
2259(base-2)S
(exponent.)472 2610 A
3147(The)S
3370(mantissa)S
3829(is)S
3945(returned,)S
4414(and)S
4623(the)S
(exponent)442 4807 A
2536 V
708(is)S
819(left)S
1012(in)S
1136(``exp''.)S
2736 V
11 C
(PROCEDURE)603 1068 A
(TRP\(trapno:)737 1738 A
(INTEGER\);)603 2542 A
2936 V
12 R
708(Generate)S
1177(EM)S
1388(trap)S
1607(number)S
(``trapno''.)503 2006 A
3136 V
11 C
(PROCEDURE)603 1068 A
(SIG\(t:)402 1738 A
(TrapHandler\):)871 2207 A
(TrapHandler;)804 3145 A
3336 V
12 R
708(Install)S
1042(traphandler)S
1624(t;)S
1722(return)S
2042(previous)S
2488(handler.)S
3536 V
11 C
(PROCEDURE)603 1068 A
(FILN\(\):)469 1738 A
(ADDRESS;)536 2274 A
3736 V
12 R
708(Return)S
1072(current)S
1451(program)S
1896(file-name.)S
2457(This)S
2707(only)S
2956(works)S
3287(if)S
3398(file-name)S
3900(and)S
4110(line-number)S
4738(generation)S
3876 V
708(is)S
819(not)S
1003(disabled)S
1436(during)S
1781(compilation.)S
4076 V
11 C
(PROCEDURE)603 1068 A
(LINO\(\):)469 1738 A
(INTEGER;)536 2274 A
4276 V
12 R
708(return)S
1079(current)S
1504(program)S
1995(line-number.)S
2728(This)S
3024(only)S
3319(works)S
3696(if)S
3853(file-name)S
4401(and)S
4657(line-number)S
4416 V
708(generation)S
1249(is)S
1360(not)S
1544(disabled)S
1977(during)S
2322(compilation.)S
4872 V
12 I
(Epilogue.def)614 708 A
5048 V
12 R
708(The)S
930(procedure)S
1448(in)S
1576(this)S
(module)362 1785 A
2181(installs)S
(module)362 2559 A
2955(termination)S
3548(procedures)S
4113(to)S
4242(be)S
4391(called)S
4716(at)S
4839(program)S
5188 V
708(termination.)S
(MODULA-2)634 1371 A
2049(offers)S
2377(a)S
(facility)345 2475 A
2863(for)S
3048(the)S
(initialization)614 3239 A
3896(of)S
(modules,)439 4040 A
4522(but)S
4719(there)S
5005(is)S
5129(no)S
5328 V
708(mechanism)S
1293(to)S
1422(have)S
1685(some)S
1975(code)S
2238(executed)S
2703(when)S
3000(the)S
3183(program)S
3628(finishes.)S
4100(This)S
(module)362 4350 A
4747(is)S
4863(a)S
4952(feeble)S
5468 V
708(attempt)S
1102(at)S
1220(solving)S
1605(this)S
1810(problem.)S
5668 V
11 C
(PROCEDURE)603 1068 A
(CallAtEnd\(p:)804 1738 A
(PROC\):)402 2609 A
(BOOLEAN;)536 3078 A
5868 V
12 R
708(Add)S
974(procedure)S
1516(``p'')S
1798(to)S
1950(the)S
2156(list)S
2364(of)S
2524(procedures)S
3114(that)S
3355(must)S
3649(be)S
3822(executed)S
4311(when)S
4632(the)S
4839(program)S
6008 V
708(finishes.)S
1184(When)S
1510(the)S
1696(program)S
2144(finishes,)S
2589(these)S
2876(procedures)S
3445(are)S
3632(executed)S
4100(in)S
4232(the)S
4418(REVERSE)S
4993(order)S
6148 V
708(in)S
832(which)S
1158(they)S
1396(were)S
1663(added)S
1981(to)S
2105(the)S
2283(list.)S
2522(This)S
2767(procedure)S
3281(returns)S
3648(FALSE)S
4049(when)S
4342(there)S
4616(are)S
4796(too)S
4981(many)S
6288 V
708(procedures)S
1269(to)S
1393(be)S
1537(called)S
1857(\(the)S
2076(list)S
2255(has)S
2446(a)S
2530(fixed)S
2809(size\).)S
6744 V
12 I
708(InOut.def)S
6920 V
12 R
708(This)S
953(is)S
1064(Wirth's)S
(Input/Output)625 1465 A
(module.)392 2120 A
7700 V
2683(Amoeba)S
3123(5.3)S
(233)180 5069 A
7920 V
EP
%%Page: 234 240
BP
/slant 0 def
/height 0 def
500 V
12 R
(libmod2)402 708 A
1130(\(L\))S
2567(Library)S
2961(Routines)S
(libmod2)402 4671 A
5093(\(L\))S
920 V
11 C
(CONST)335 1068 A
(EOL)201 1652 A
1920(=)S
(12C;)268 2054 A
1200 V
(VAR)201 1068 A
(Done)268 1652 A
1987(:)S
(BOOLEAN;)536 2121 A
1340 V
(termCH)402 1652 A
2121(:)S
(CHAR;)335 2255 A
1620 V
(PROCEDURE)603 1068 A
(OpenInput\(defext:)1139 1738 A
(ARRAY)335 2944 A
3346(OF)S
(CHAR\);)402 3547 A
1820 V
12 R
708(Request)S
1144(a)S
1245(file)S
1456(name)S
1766(from)S
2050(the)S
2246(standard)S
(input)248 2704 A
3000(stream)S
3372(and)S
3594(open)S
3876(this)S
4099(file)S
4310(for)S
4500(reading.)S
4971(If)S
5101(the)S
1960 V
708(filename)S
1180(ends)S
1448(with)S
1711(a)S
1812('.',)S
2001(append)S
2396(the)S
2591(``defext'')S
3105(extension.)S
3675(Done)S
3983(:=)S
(``file)245 4131 A
4422(was)S
(successfully)592 4657 A
2100 V
708(opened''.)S
1228(If)S
1340(open,)S
1634(subsequent)S
(input)248 2200 A
2478(is)S
2589(read)S
2828(from)S
3094(this)S
3299(file.)S
2300 V
11 C
(PROCEDURE)603 1068 A
(OpenOutput\(defext)1139 1738 A
2944(:)S
(ARRAY)335 3078 A
3480(OF)S
(CHAR\);)402 3681 A
2500 V
12 R
708(Request)S
1145(a)S
1247(file)S
1458(name)S
1768(from)S
2052(the)S
2248(standard)S
(input)248 2707 A
3004(stream)S
3377(and)S
3600(open)S
3883(this)S
4107(file)S
4319(for)S
(writing.)381 4510 A
4970(If)S
5101(the)S
2640 V
708(filename)S
1180(ends)S
1448(with)S
1711(a)S
1812('.',)S
2001(append)S
2396(the)S
2591(``defext'')S
3105(extension.)S
3675(Done)S
3983(:=)S
(``file)245 4131 A
4422(was)S
(successfully)592 4657 A
2780 V
708(opened''.)S
1256(If)S
1396(open,)S
1718(subsequent)S
2312(output)S
2678(is)S
(written)345 2817 A
3220(to)S
3372(this)S
3605(file.)S
3886(Files)S
4180(left)S
4401(open)S
4693(at)S
4839(program)S
2920 V
708(termination)S
1297(are)S
1476(automatically)S
2166(closed.)S
3120 V
11 C
(PROCEDURE)603 1068 A
(OpenInputFile\(filename:)1541 1738 A
(ARRAY)335 3346 A
3748(OF)S
(CHAR\);)402 3949 A
3320 V
12 R
708(Like)S
(OpenInput,)547 960 A
1537(but)S
1721(filename)S
2176(given)S
2474(as)S
2605(parameter.)S
3181(This)S
3426(procedure)S
3940(is)S
4051(not)S
4235(in)S
4359(Wirth's)S
4760(InOut.)S
3520 V
11 C
(PROCEDURE)603 1068 A
(OpenOutputFile\(filename:)1608 1738 A
(ARRAY)335 3413 A
3815(OF)S
(CHAR\);)402 4016 A
3720 V
12 R
708(Like)S
960(OpenOutput,)S
1618(but)S
1802(filename)S
2257(given)S
2555(as)S
2686(parameter.)S
3262(This)S
3507(procedure)S
4021(is)S
4132(not)S
4316(in)S
4440(Wirth's)S
4841(InOut.)S
3920 V
11 C
(PROCEDURE)603 1068 A
(CloseInput;)737 1738 A
4120 V
12 R
708(Close)S
(input)248 1013 A
1291(file.)S
1544(Subsequent)S
(input)248 2130 A
2408(is)S
2519(read)S
2758(from)S
3024(the)S
3202(standard)S
(input)248 3642 A
3920(stream.)S
4320 V
11 C
(PROCEDURE)603 1068 A
(CloseOutput;)804 1738 A
4520 V
12 R
708(Close)S
1013(output)S
1351(file.)S
1604(Subsequent)S
2190(output)S
2528(is)S
(written)345 2639 A
3014(to)S
3138(the)S
3316(standard)S
3756(output)S
4094(stream.)S
4720 V
11 C
(PROCEDURE)603 1068 A
(Read\(VAR)536 1738 A
2341(ch)S
2542(:)S
(CHAR\);)402 2676 A
4920 V
12 R
708(Read)S
990(a)S
1078(character)S
1558(from)S
1829(the)S
2012(current)S
(input)248 2391 A
2674(stream)S
3033(and)S
3242(leave)S
3533(it)S
3636(in)S
3765(``ch''.)S
4138(Done)S
4435(:=)S
4572(NOT)S
4857(``end)S
5148(of)S
5060 V
708(file''.)S
5260 V
11 C
(PROCEDURE)603 1068 A
(ReadString\(VAR)938 1738 A
2743(s)S
2877(:)S
(ARRAY)335 3011 A
3413(OF)S
(CHAR\);)402 3614 A
5460 V
12 R
708(Read)S
991(a)S
1080(string)S
1391(from)S
1662(the)S
1845(current)S
(input)248 2224 A
2507(stream)S
2866(and)S
3075(leave)S
3366(it)S
3469(in)S
3599(``s''.)S
3906(A)S
4030(string)S
4342(is)S
4459(any)S
4669(sequence)S
5148(of)S
5600 V
708(characters)S
1244(not)S
1441(containing)S
1994(blanks)S
2352(or)S
2496(control)S
2882(characters;)S
3452(leading)S
3851(blanks)S
4209(are)S
(ignored.)399 4400 A
(Input)255 4871 A
5168(is)S
5740 V
708(terminated)S
1295(by)S
1483(any)S
1726(character)S
2241(<=)S
2446(')S
2556('.)S
2726(This)S
3010(character)S
3525(is)S
3675(assigned)S
4160(to)S
4323(termCH.)S
4843(DEL)S
5148(or)S
5880 V
708(BACKSPACE)S
1450(is)S
1561(used)S
1812(for)S
1984(backspacing)S
2611(when)S
(input)248 2903 A
3181(from)S
3447(terminal.)S
6080 V
11 C
(PROCEDURE)603 1068 A
(ReadInt\(VAR)737 1738 A
2542(x)S
2676(:)S
(INTEGER\);)603 2810 A
6280 V
12 R
708(Read)S
992(a)S
1082(string)S
1395(and)S
(convert)363 1606 A
2006(it)S
2111(to)S
2242(INTEGER.)S
2858(Syntax:)S
3264(integer)S
3638(=)S
(['+'|'-'])379 3743 A
4159(digit)S
4418({digit}.)S
4853(Leading)S
6420 V
708(blanks)S
1053(are)S
(ignored.)399 1232 A
1691(Done)S
1983(:=)S
2115(``integer)S
2564(was)S
2783(read''.)S
6620 V
11 C
(PROCEDURE)603 1068 A
(ReadCard\(VAR)804 1738 A
2609(x)S
2743(:)S
(CARDINAL\);)670 2877 A
6820 V
12 R
708(Read)S
1012(a)S
1122(string)S
1454(and)S
(convert)363 1684 A
2103(it)S
2227(to)S
2377(CARDINAL.)S
3120(Syntax:)S
3546(cardinal)S
3994(=)S
4119(digit)S
4398({digit}.)S
4853(Leading)S
6960 V
708(blanks)S
1053(are)S
(ignored.)399 1232 A
1691(Done)S
1983(:=)S
2115(``cardinal)S
2618(was)S
2837(read''.)S
7160 V
11 C
(PROCEDURE)603 1068 A
(Write\(ch)536 1738 A
2341(:)S
(CHAR\);)402 2475 A
7700 V
12 R
(234)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 235 241
BP
/slant 0 def
/height 0 def
500 V
12 R
(libmod2)402 708 A
1130(\(L\))S
2567(Library)S
2961(Routines)S
(libmod2)402 4671 A
5093(\(L\))S
860 V
708(Write)S
1015(character)S
1491(``ch'')S
1799(to)S
1923(the)S
2101(current)S
2475(output)S
2813(stream.)S
1060 V
11 C
(PROCEDURE)603 1068 A
(WriteLn;)536 1738 A
1260 V
12 R
708(Terminate)S
1237(line.)S
1460 V
11 C
(PROCEDURE)603 1068 A
(WriteString\(s)871 1738 A
2676(:)S
(ARRAY)335 2810 A
3212(OF)S
(CHAR\);)402 3413 A
1660 V
12 R
708(Write)S
1015(string)S
1321(``s'')S
1562(to)S
1686(the)S
1864(current)S
2238(output)S
2576(stream)S
1860 V
11 C
(PROCEDURE)603 1068 A
(WriteInt\(x)670 1738 A
2475(:)S
(INTEGER;)536 2609 A
3212(n)S
3346(:)S
(CARDINAL\);)670 3480 A
2060 V
12 R
708(Write)S
1023(integer)S
1398(x)S
1496(with)S
1750(\(at)S
1917(least\))S
2220(n)S
2319(characters)S
2851(on)S
3010(the)S
3197(current)S
3580(output)S
3927(stream.)S
4350(If)S
4471(n)S
4570(is)S
4690(greater)S
5067(that)S
2200 V
708(the)S
886(number)S
1285(of)S
1416(digits)S
1715(needed,)S
2117(blanks)S
2462(are)S
2641(added)S
(preceding)477 2959 A
3466(the)S
3644(number.)S
2400 V
11 C
(PROCEDURE)603 1068 A
(WriteCard\(x,)804 1738 A
2609(n)S
2743(:)S
(CARDINAL\);)670 2877 A
2600 V
12 R
708(Write)S
1020(cardinal)S
1446(x)S
1541(with)S
1792(\(at)S
1956(least\))S
2255(n)S
2350(characters)S
2878(on)S
3034(the)S
3218(current)S
3598(output)S
3942(stream.)S
4362(If)S
4480(n)S
4576(is)S
4693(greater)S
5067(that)S
2740 V
708(the)S
886(number)S
1285(of)S
1416(digits)S
1715(needed,)S
2117(blanks)S
2462(are)S
2641(added)S
(preceding)477 2959 A
3466(the)S
3644(number.)S
2940 V
11 C
(PROCEDURE)603 1068 A
(WriteOct\(x,)737 1738 A
2542(n)S
2676(:)S
(CARDINAL\);)670 2810 A
3140 V
12 R
708(Write)S
1019(cardinal)S
1444(x)S
1538(as)S
1674(an)S
1823(octal)S
2094(number)S
2498(with)S
2749(\(at)S
2913(least\))S
3212(n)S
3307(characters)S
3835(on)S
3990(the)S
4173(current)S
4552(output)S
4895(stream.)S
3280 V
708(If)S
820(n)S
910(is)S
1021(greater)S
1389(that)S
1601(the)S
1779(number)S
2178(of)S
2309(digits)S
2608(needed,)S
3010(blanks)S
3355(are)S
3534(added)S
(preceding)477 3852 A
4359(the)S
4537(number.)S
3480 V
11 C
(PROCEDURE)603 1068 A
(WriteHex\(x,)737 1738 A
2542(n)S
2676(:)S
(CARDINAL\);)670 2810 A
3680 V
12 R
708(Write)S
1022(cardinal)S
1450(x)S
1577(as)S
1715(a)S
1806(hexadecimal)S
2456(number)S
2863(with)S
3117(\(at)S
3284(least\))S
3586(n)S
3684(characters)S
4215(on)S
4373(the)S
4559(current)S
4941(output)S
3820 V
708(stream.)S
1144(If)S
1278(n)S
1390(is)S
1523(greater)S
1913(that)S
2147(the)S
2347(number)S
2768(of)S
2921(digits)S
3242(needed,)S
3666(blanks)S
4033(are)S
4234(added)S
(preceding)477 4573 A
5101(the)S
3960 V
708(number.)S
4416 V
12 I
708(MathLib0.def)S
4592 V
12 R
708(This)S
(module)362 963 A
1365(provides)S
1821(some)S
2116(mathematical)S
2810(functions.)S
3360(See)S
3575(MathLib.def)S
4224(for)S
4407(a)S
4502(more)S
4792(extensive)S
4732 V
708(one.)S
4932 V
11 C
(PROCEDURE)603 1068 A
(sqrt\(x)402 1738 A
2207(:)S
(REAL\))335 2341 A
2743(:)S
(REAL;)335 2877 A
5072 V
(PROCEDURE)603 1068 A
(exp\(x)335 1738 A
2140(:)S
(REAL\))335 2274 A
2676(:)S
(REAL;)335 2810 A
5212 V
(PROCEDURE)603 1068 A
(ln\(x)268 1738 A
2073(:)S
(REAL\))335 2207 A
2609(:)S
(REAL;)335 2743 A
5352 V
(PROCEDURE)603 1068 A
(sin\(x)335 1738 A
2140(:)S
(REAL\))335 2274 A
2676(:)S
(REAL;)335 2810 A
5492 V
(PROCEDURE)603 1068 A
(cos\(x)335 1738 A
2140(:)S
(REAL\))335 2274 A
2676(:)S
(REAL;)335 2810 A
5632 V
(PROCEDURE)603 1068 A
(arctan\(x)536 1738 A
2341(:)S
(REAL\))335 2475 A
2877(:)S
(REAL;)335 3011 A
5772 V
(PROCEDURE)603 1068 A
(real\(x)402 1738 A
2207(:)S
(INTEGER\))536 2341 A
2944(:)S
(REAL;)335 3078 A
5912 V
(PROCEDURE)603 1068 A
(entier\(x)536 1738 A
2341(:)S
(REAL\))335 2475 A
2877(:)S
(INTEGER;)536 3011 A
6428 V
12 I
708(Mathlib.def)S
1299(-)S
1370(Mathematical)S
2073(functions)S
6604 V
12 R
708(Constants:)S
7700 V
2683(Amoeba)S
3123(5.3)S
(235)180 5069 A
7920 V
EP
%%Page: 236 242
BP
/slant 0 def
/height 0 def
500 V
12 R
(libmod2)402 708 A
1130(\(L\))S
2567(Library)S
2961(Routines)S
(libmod2)402 4671 A
5093(\(L\))S
920 V
11 C
1068(pi)S
1652(=)S
(3.141592*;)670 1786 A
1060 V
(twicepi)469 1068 A
1652(=)S
(6.283185*;)670 1786 A
1200 V
(halfpi)402 1068 A
1652(=)S
(1.570796*;)670 1786 A
1340 V
(quartpi)469 1068 A
1652(=)S
(0.785398*;)670 1786 A
1480 V
1068(e)S
1652(=)S
(2.718281*;)670 1786 A
1620 V
(ln2)201 1068 A
1652(=)S
(0.693147*;)670 1786 A
1760 V
(ln10)268 1068 A
1652(=)S
(2.302585*;)670 1786 A
2040 V
(longpi)402 1068 A
2236(=)S
(3.141592*;)670 2370 A
2180 V
(longtwicepi)737 1068 A
2236(=)S
(6.283185*;)670 2370 A
2320 V
(longhalfpi)670 1068 A
2236(=)S
(1.570796*;)670 2370 A
2460 V
(longquartpi)737 1068 A
2236(=)S
(0.785398*;)670 2370 A
2600 V
(longe)335 1068 A
2236(=)S
(2.718281*;)670 2370 A
2740 V
(longln2)469 1068 A
2236(=)S
(0.693147*;)670 2370 A
2880 V
(longln10)536 1068 A
1652(=)S
(2.302585*;)670 1786 A
3080 V
12 R
708(Basic)S
1007(functions:)S
3280 V
11 C
(PROCEDURE)603 1068 A
(pow\(x:)402 1738 A
(REAL;)335 2207 A
2609(i:)S
(INTEGER\):)603 2810 A
(REAL;)335 3480 A
3420 V
(PROCEDURE)603 1068 A
(longpow\(x:)670 1738 A
(LONGREAL;)603 2475 A
3145(i:)S
(INTEGER\):)603 3346 A
(LONGREAL;)603 4016 A
3560 V
(PROCEDURE)603 1068 A
(sqrt\(x:)469 1738 A
(REAL\):)402 2274 A
(REAL;)335 2743 A
3700 V
(PROCEDURE)603 1068 A
(longsqrt\(x:)737 1738 A
(LONGREAL\):)670 2542 A
(LONGREAL;)603 3279 A
3840 V
(PROCEDURE)603 1068 A
(exp\(x:)402 1738 A
(REAL\):)402 2207 A
(REAL;)335 2676 A
3980 V
(PROCEDURE)603 1068 A
(longexp\(x:)670 1738 A
(LONGREAL\):)670 2475 A
(LONGREAL;)603 3212 A
4120 V
(PROCEDURE)603 1068 A
(ln\(x:)335 1738 A
(REAL\):)402 2140 A
(REAL;)335 2609 A
3011(\(*)S
(natural)469 3212 A
(log)201 3748 A
4016(*\))S
4260 V
(PROCEDURE)603 1068 A
(longln\(x:)603 1738 A
(LONGREAL\):)670 2408 A
(LONGREAL;)603 3145 A
3815(\(*)S
(natural)469 4016 A
(log)201 4552 A
4820(*\))S
4400 V
(PROCEDURE)603 1068 A
(log\(x:)402 1738 A
(REAL\):)402 2207 A
(REAL;)335 2676 A
3614(\(*)S
(log)201 3815 A
(with)268 4083 A
(base)268 4418 A
4753(10)S
4954(*\))S
4540 V
(PROCEDURE)603 1068 A
(longlog\(x:)670 1738 A
(LONGREAL\):)670 2475 A
(LONGREAL;\(*)737 3212 A
(log)201 4016 A
(with)268 4284 A
(base)268 4619 A
4954(10)S
5155(*\))S
4740 V
12 R
(Trigonometric)700 708 A
1438(functions)S
1918(\(arguments)S
2493(in)S
2617(radians\):)S
4940 V
11 C
(PROCEDURE)603 1068 A
(sin\(x:)402 1738 A
(REAL\):)402 2207 A
(REAL;)335 2676 A
5080 V
(PROCEDURE)603 1068 A
(longsin\(x:)670 1738 A
(LONGREAL\):)670 2475 A
(LONGREAL;)603 3212 A
5220 V
(PROCEDURE)603 1068 A
(cos\(x:)402 1738 A
(REAL\):)402 2207 A
(REAL;)335 2676 A
5360 V
(PROCEDURE)603 1068 A
(longcos\(x:)670 1738 A
(LONGREAL\):)670 2475 A
(LONGREAL;)603 3212 A
5500 V
(PROCEDURE)603 1068 A
(tan\(x:)402 1738 A
(REAL\):)402 2207 A
(REAL;)335 2676 A
5640 V
(PROCEDURE)603 1068 A
(longtan\(x:)670 1738 A
(LONGREAL\):)670 2475 A
(LONGREAL;)603 3212 A
5780 V
(PROCEDURE)603 1068 A
(arcsin\(x:)603 1738 A
(REAL\):)402 2408 A
(REAL;)335 2877 A
5920 V
(PROCEDURE)603 1068 A
(longarcsin\(x:)871 1738 A
(LONGREAL\):)670 2676 A
(LONGREAL;)603 3413 A
6060 V
(PROCEDURE)603 1068 A
(arccos\(x:)603 1738 A
(REAL\):)402 2408 A
(REAL;)335 2877 A
6200 V
(PROCEDURE)603 1068 A
(longarccos\(x:)871 1738 A
(LONGREAL\):)670 2676 A
(LONGREAL;)603 3413 A
6340 V
(PROCEDURE)603 1068 A
(arctan\(x:)603 1738 A
(REAL\):)402 2408 A
(REAL;)335 2877 A
6480 V
(PROCEDURE)603 1068 A
(longarctan\(x:)871 1738 A
(LONGREAL\):)670 2676 A
(LONGREAL;)603 3413 A
6680 V
12 R
708(Hyperbolic)S
1283(functions:)S
7700 V
(236)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 237 243
BP
/slant 0 def
/height 0 def
500 V
12 R
(libmod2)402 708 A
1130(\(L\))S
2567(Library)S
2961(Routines)S
(libmod2)402 4671 A
5093(\(L\))S
920 V
11 C
(PROCEDURE)603 1068 A
(sinh\(x:)469 1738 A
(REAL\):)402 2274 A
(REAL;)335 2743 A
1060 V
(PROCEDURE)603 1068 A
(longsinh\(x:)737 1738 A
(LONGREAL\):)670 2542 A
(LONGREAL;)603 3279 A
1200 V
(PROCEDURE)603 1068 A
(cosh\(x:)469 1738 A
(REAL\):)402 2274 A
(REAL;)335 2743 A
1340 V
(PROCEDURE)603 1068 A
(longcosh\(x:)737 1738 A
(LONGREAL\):)670 2542 A
(LONGREAL;)603 3279 A
1480 V
(PROCEDURE)603 1068 A
(tanh\(x:)469 1738 A
(REAL\):)402 2274 A
(REAL;)335 2743 A
1620 V
(PROCEDURE)603 1068 A
(longtanh\(x:)737 1738 A
(LONGREAL\):)670 2542 A
(LONGREAL;)603 3279 A
1760 V
(PROCEDURE)603 1068 A
(arcsinh\(x:)670 1738 A
(REAL\):)402 2475 A
(REAL;)335 2944 A
1900 V
(PROCEDURE)603 1068 A
(longarcsinh\(x:)938 1738 A
(LONGREAL\):)670 2743 A
(LONGREAL;)603 3480 A
2040 V
(PROCEDURE)603 1068 A
(arccosh\(x:)670 1738 A
(REAL\):)402 2475 A
(REAL;)335 2944 A
2180 V
(PROCEDURE)603 1068 A
(longarccosh\(x:)938 1738 A
(LONGREAL\):)670 2743 A
(LONGREAL;)603 3480 A
2320 V
(PROCEDURE)603 1068 A
(arctanh\(x:)670 1738 A
(REAL\):)402 2475 A
(REAL;)335 2944 A
2460 V
(PROCEDURE)603 1068 A
(longarctanh\(x:)938 1738 A
(LONGREAL\):)670 2743 A
(LONGREAL;)603 3480 A
2660 V
12 R
(Conversions:)637 708 A
2860 V
11 C
(PROCEDURE)603 1068 A
(RadianToDegree\(x:)1139 1738 A
(REAL\):)402 2944 A
(REAL;)335 3413 A
3000 V
(PROCEDURE)603 1068 A
(longRadianToDegree\(x:)1407 1738 A
(LONGREAL\):)670 3212 A
(LONGREAL;)603 3949 A
3140 V
(PROCEDURE)603 1068 A
(DegreeToRadian\(x:)1139 1738 A
(REAL\):)402 2944 A
(REAL;)335 3413 A
3280 V
(PROCEDURE)603 1068 A
(longDegreeToRadian\(x:)1407 1738 A
(LONGREAL\):)670 3212 A
(LONGREAL;)603 3949 A
3796 V
12 I
708(PascalIO.def)S
3972 V
12 R
708(This)S
(module)362 955 A
1349(provides)S
1797(for)S
1971(I/O)S
2166(that)S
2380(is)S
2493(essentially)S
3037(equivalent)S
3573(to)S
3699(the)S
3879(I/O)S
4075(provided)S
4537(by)S
4690(Pascal)S
5033(with)S
4112 V
708(``text'',)S
1121(or)S
(``file)245 1259 A
1541(of)S
(char''.)321 1678 A
2065(Output)S
2437(buffers)S
2817(are)S
3002(automatically)S
3698(flushed)S
4090(at)S
4214(program)S
4660(termination.)S
4252 V
708(The)S
926(CloseOutput)S
1567(routine)S
1940(is)S
2051(just)S
2256(there)S
2529(for)S
(compatibility)646 2701 A
3377(with)S
3623(earlier)S
3965(versions)S
4398(of)S
4529(this)S
(module.)392 4734 A
4452 V
11 C
(CONST)335 1068 A
(Eos)201 1652 A
1920(=)S
(0C;)201 2054 A
4652 V
12 R
708(End)S
932(of)S
1063(string)S
1369(character)S
4852 V
11 C
(TYPE)268 1068 A
(Text;)335 1652 A
4992 V
(VAR)201 1068 A
(Input,)402 1652 A
(Output:)469 2121 A
(Text;)335 2657 A
5192 V
12 R
708(Standard)S
(input)248 1205 A
1520(and)S
1761(standard)S
2239(output)S
2615(are)S
2832(available)S
3338(immediately.)S
4072(Standard)S
4570(output)S
4946(is)S
5095(not)S
5332 V
708(buffered)S
1149(when)S
(connected)490 1441 A
1961(to)S
2085(a)S
2169(terminal.)S
5532 V
11 C
(VAR)201 1068 A
(Notext:)469 1652 A
(Text;)335 2188 A
5732 V
12 R
(Initialize)433 708 A
(your)221 1171 A
1422(Text)S
1674(variables)S
2142(with)S
2388(this.)S
5932 V
11 C
(PROCEDURE)603 1068 A
(Reset\(VAR)603 1738 A
(InputText:)670 2408 A
(Text;)335 3145 A
6072 V
(Filename:)603 2236 A
(ARRAY)335 2906 A
3308(OF)S
(CHAR\);)402 3509 A
6272 V
12 R
708(When)S
(InputText)477 1054 A
1589(indicates)S
2078(an)S
2250(open)S
2542(textfile,)S
2975(it)S
3101(is)S
3240(first)S
3496(flushed)S
3911(and)S
4144(closed.)S
4572(Then)S
4879(the)S
5086(file)S
6412 V
708(indicated)S
1215(by)S
1398(``Filename'')S
2076(is)S
2220(opened)S
2631(for)S
2836(reading.)S
3322(If)S
3467(this)S
3705(fails,)S
4007(a)S
4123(run-time)S
4603(error)S
4902(results.)S
6552 V
708(Otherwise,)S
(InputText)477 1268 A
1775(is)S
1886(associated)S
2414(with)S
2660(the)S
2838(new)S
(input)248 3070 A
3348(file.)S
6752 V
11 C
(PROCEDURE)603 1068 A
(Rewrite\(VAR)737 1738 A
(OutputText:)737 2542 A
(Text;)335 3346 A
6892 V
(Filename:)603 2370 A
(ARRAY)335 3040 A
3442(OF)S
(CHAR\);)402 3643 A
7092 V
12 R
708(When)S
1048(OutputText)S
1658(indicates)S
2141(an)S
2307(open)S
2593(textfile,)S
3021(it)S
3142(is)S
3276(first)S
3526(flushed)S
3935(and)S
4162(closed.)S
4584(Then)S
4885(the)S
5086(file)S
7232 V
708(indicated)S
1216(by)S
1400(``Filename'')S
2079(is)S
2224(opened)S
2636(for)S
(writing.)381 2842 A
3317(If)S
3463(this)S
3701(fails,)S
4004(a)S
4121(run-time)S
4602(error)S
4902(results.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(237)180 5069 A
7920 V
EP
%%Page: 238 244
BP
/slant 0 def
/height 0 def
500 V
12 R
(libmod2)402 708 A
1130(\(L\))S
2567(Library)S
2961(Routines)S
(libmod2)402 4671 A
5093(\(L\))S
860 V
708(Otherwise,)S
1268(OutputText)S
1856(is)S
1967(associated)S
2495(with)S
2741(the)S
2919(new)S
3151(output)S
3489(file.)S
1060 V
11 C
(PROCEDURE)603 1068 A
(CloseOutput\(\);)938 1738 A
1260 V
12 R
708(To)S
872(be)S
1016(called)S
1336(at)S
1454(the)S
1632(end)S
1836(of)S
1967(the)S
2145(program,)S
2615(to)S
2739(flush)S
3011(all)S
3163(output)S
3501(buffers.)S
1436 V
708(All)S
894(following)S
(input)248 1395 A
1673(routines)S
2093(result)S
2393(in)S
2517(a)S
2601(run-time)S
3049(error)S
3316(when)S
3608(not)S
3792(called)S
4113(with)S
4360(either)S
(``Input'',)449 4668 A
5148(or)S
1576 V
708(a)S
822(``Text'')S
1268(value)S
1590(obtained)S
2066(by)S
2246(Reset.)S
2635(Also,)S
2954(the)S
3162(routines)S
3612(that)S
3853(actually)S
4296(advance)S
4751(the)S
(``read)291 4958 A
1716 V
(pointer'',)455 708 A
1193(result)S
1493(in)S
1617(a)S
1701(run-time)S
2149(error)S
2416(when)S
2708(end)S
2912(of)S
3043(file)S
3236(is)S
(reached)377 3347 A
3754(prematurely.)S
1916 V
11 C
(PROCEDURE)603 1068 A
(NextChar\(InputText:)1273 1738 A
(Text\):)402 3078 A
(CHAR;)335 3547 A
2116 V
12 R
708(Returns)S
1135(the)S
1334(next)S
1593(character)S
2090(from)S
2377(the)S
(InputText,)507 2576 A
3134(0C)S
3325(on)S
3496(end)S
3721(of)S
3873(file.)S
4147(Does)S
4447(not)S
4653(advance)S
5101(the)S
2256 V
(``read)291 708 A
(pointer'',)455 1061 A
1578(so)S
1747(behaves)S
2198(much)S
2528(like)S
(``input\303'')453 2772 A
3287(in)S
3443(Pascal.)S
3874(However,)S
4410(unlike)S
4773(Pascal,)S
5174(if)S
2396 V
(Eoln\(InputText\))787 708 A
1525(is)S
1636(TRUE,)S
2012(it)S
2110(returns)S
2477(the)S
2655(newline)S
3069(character,)S
3575(rather)S
3889(than)S
4127(a)S
(space.)299 4211 A
2596 V
11 C
(PROCEDURE)603 1068 A
(Get\(InputText:)938 1738 A
(Text\);)402 2743 A
2796 V
12 R
708(Advances)S
1215(the)S
(``read)291 1393 A
(pointer'')425 1714 A
2169(by)S
2319(one)S
2523(character.)S
2996 V
11 C
(PROCEDURE)603 1068 A
(Eoln\(InputText:)1005 1738 A
(Text\):)402 2810 A
(BOOLEAN;)536 3279 A
3196 V
12 R
708(Returns)S
1115(TRUE)S
1462(if)S
1568(the)S
1747(next)S
1986(character)S
2463(from)S
2730(the)S
(InputText)477 2909 A
3417(is)S
3529(a)S
3615(linefeed.)S
4098(Unlike)S
4460(Pascal)S
4802(however,)S
3336 V
708(it)S
806(does)S
1057(not)S
(produce)389 1241 A
1660(a)S
1744(run-time)S
2192(error)S
2459(when)S
2751(called)S
3071(when)S
(Eof\(InputText\))734 3363 A
4127(is)S
4238(TRUE.)S
3536 V
11 C
(PROCEDURE)603 1068 A
(Eof\(InputText:)938 1738 A
(Text\):)402 2743 A
(BOOLEAN;)536 3212 A
3736 V
12 R
708(Returns)S
1114(TRUE)S
1460(if)S
1565(the)S
1743(end)S
1947(of)S
2078(the)S
(InputText)477 2256 A
2763(is)S
(reached.)407 2874 A
3936 V
11 C
(PROCEDURE)603 1068 A
(ReadChar\(InputText:)1273 1738 A
(Text;)335 3078 A
(VAR)201 3480 A
(Char:)335 3748 A
(CHAR\);)402 4150 A
4136 V
12 R
708(Read)S
1010(a)S
1118(character)S
1618(from)S
1908(the)S
(InputText,)507 2110 A
2671(and)S
2899(leave)S
3209(the)S
3411(result)S
3735(in)S
(``Char''.)429 3883 A
4396(Unlike)S
4780(Pascal,)S
5174(if)S
4276 V
(Eoln\(InputText\))787 708 A
1525(is)S
1636(TRUE,)S
2012(the)S
2190(newline)S
2604(character)S
3080(is)S
3191(put)S
3375(in)S
(``Char''.)429 3499 A
4476 V
11 C
(PROCEDURE)603 1068 A
(ReadLn\(InputText:)1139 1738 A
(Text\);)402 2944 A
4676 V
12 R
708(Skip)S
959(the)S
1137(rest)S
1343(of)S
1474(the)S
1652(current)S
2026(line)S
2238(from)S
2504(the)S
(InputText,)507 2682 A
3219(including)S
3705(the)S
3883(linefeed.)S
4876 V
11 C
(PROCEDURE)603 1068 A
(ReadInteger\(InputText:)1474 1738 A
(Text;)335 3279 A
5016 V
(VAR)201 2638 A
(Integer:)536 2906 A
(INTEGER\);)603 3509 A
5216 V
12 R
708(Skip)S
981(leading)S
1389(blanks,)S
1786(read)S
2047(an)S
2214(optionally)S
2757(signed)S
3125(integer)S
3515(from)S
3804(the)S
(InputText,)507 4005 A
4565(and)S
4792(leave)S
5101(the)S
5356 V
708(result)S
1015(in)S
(``Integer''.)538 1146 A
1751(If)S
1870(no)S
2027(integer)S
2401(is)S
2519(read,)S
2794(or)S
2931(when)S
3229(overflow)S
3703(occurs,)S
4085(a)S
4175(run-time)S
4629(error)S
4902(results.)S
5496 V
(Input)255 708 A
993(stops)S
1271(at)S
1389(the)S
1567(character)S
2043(following)S
2544(the)S
2722(integer.)S
5696 V
11 C
(PROCEDURE)603 1068 A
(ReadCardinal\(InputText:)1541 1738 A
(Text;)335 3346 A
5836 V
(VAR)201 2705 A
(Cardinal:)603 2973 A
(CARDINAL\);)670 3643 A
6036 V
12 R
708(Skip)S
966(leading)S
1359(blanks,)S
1741(read)S
1987(a)S
2078(cardinal)S
2506(from)S
2779(the)S
(InputText,)507 2964 A
3508(and)S
3719(leave)S
4012(the)S
4198(result)S
4506(in)S
4638(``Cardinal''.)S
6176 V
708(If)S
831(no)S
992(cardinal)S
1424(is)S
1546(read,)S
1826(or)S
1968(when)S
2271(overflow)S
2750(occurs,)S
3137(a)S
3232(run-time)S
3691(error)S
3969(results.)S
(Input)255 4387 A
4683(stops)S
4972(at)S
5101(the)S
6316 V
708(character)S
1184(following)S
1685(the)S
1863(cardinal.)S
6516 V
11 C
(PROCEDURE)603 1068 A
(ReadReal\(InputText:)1273 1738 A
(Text;)335 3078 A
(VAR)201 3480 A
(Real:)335 3748 A
(REAL\);)402 4150 A
6716 V
12 R
708(Skip)S
966(leading)S
1359(blanks,)S
1741(read)S
1987(a)S
2078(real)S
2298(from)S
2571(the)S
(InputText,)507 2756 A
3300(and)S
3511(leave)S
3804(the)S
3990(result)S
4298(in)S
4430(``Real''.)S
4914(Syntax)S
6856 V
708(of)S
839(a)S
923(real)S
1136(is)S
1247(as)S
1378(follows)S
7056 V
11 C
(real)268 1068 A
(::=)201 1403 A
([\(+|-\)])469 1671 A
(digit)335 2207 A
({digit})469 2609 A
3145([.)S
(digit)335 3346 A
({digit}])536 3748 A
7196 V
1671([)S
1805(E)S
([\(+|-\)])469 1939 A
(digit)335 2475 A
({digit})469 2877 A
3413(])S
7700 V
12 R
(238)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 239 245
BP
/slant 0 def
/height 0 def
500 V
12 R
(libmod2)402 708 A
1130(\(L\))S
2567(Library)S
2961(Routines)S
(libmod2)402 4671 A
5093(\(L\))S
860 V
708(If)S
822(no)S
974(real)S
1189(is)S
1302(read,)S
1573(or)S
1706(when)S
(overflow/underflow)970 2000 A
3002(occurs,)S
3380(a)S
3466(run-time)S
3916(error)S
4185(results.)S
(Input)255 4594 A
4881(stops)S
5161(at)S
1000 V
708(the)S
886(character)S
1362(following)S
1863(the)S
2041(real.)S
1200 V
11 C
(PROCEDURE)603 1068 A
(ReadLongReal\(InputText:)1541 1738 A
(Text;)335 3346 A
1340 V
(VAR)201 2705 A
(Real:)335 2973 A
(LONGREAL\);)670 3375 A
1540 V
12 R
708(Like)S
960(ReadReal,)S
1490(but)S
1674(for)S
(LONGREAL)654 1846 A
1716 V
708(All)S
936(following)S
1479(output)S
1859(routines)S
2321(result)S
2663(in)S
2830(a)S
2957(run-time)S
3448(error)S
3758(when)S
4093(not)S
4320(called)S
4683(with)S
4972(either)S
1856 V
708(``Output'',)S
1268(or)S
1399(a)S
1483(``Text'')S
1899(value)S
2191(obtained)S
2637(by)S
2787(Rewrite.)S
2056 V
11 C
(PROCEDURE)603 1068 A
(WriteChar\(OutputText:)1407 1738 A
(Text;)335 3212 A
(Char:)335 3614 A
(CHAR\);)402 4016 A
2256 V
12 R
708(Writes)S
1062(the)S
1240(character)S
(``Char'')399 1716 A
2145(to)S
2269(the)S
2447(OutputText.)S
2456 V
11 C
(PROCEDURE)603 1068 A
(WriteLn\(OutputText:)1273 1738 A
(Text\);)402 3078 A
2656 V
12 R
708(Writes)S
1062(a)S
1146(linefeed)S
1567(to)S
1691(the)S
1869(OutputText.)S
2856 V
11 C
(PROCEDURE)603 1068 A
(Page\(OutputText:)1072 1738 A
(Text\);)402 2877 A
3056 V
12 R
708(Writes)S
1062(a)S
1146(form-feed)S
1662(to)S
1786(the)S
1964(OutputText)S
3256 V
11 C
(PROCEDURE)603 1068 A
(WriteInteger\(OutputText:)1608 1738 A
(Text;)335 3413 A
3396 V
(Integer:)536 2705 A
(INTEGER;)536 3308 A
3536 V
(Width:)402 2705 A
(CARDINAL\);)670 3174 A
3736 V
12 R
708(Write)S
1020(integer)S
(``Integer'')508 1392 A
1935(to)S
2064(the)S
2247(OutputText,)S
2871(using)S
3168(at)S
3292(least)S
3551(``Width'')S
(places,)333 4053 A
4422(blank-padding)S
5155(to)S
3876 V
708(the)S
886(left)S
1079(if)S
1184(needed.)S
4076 V
11 C
(PROCEDURE)603 1068 A
(WriteCardinal\(OutputText:)1675 1738 A
(Text;)335 3480 A
4216 V
(Cardinal,)603 2236 A
(Width:)402 2906 A
(CARDINAL\);)670 3375 A
4416 V
12 R
708(Write)S
1020(cardinal)S
1446(``Cardinal'')S
2063(to)S
2193(the)S
2377(OutputText,)S
3001(using)S
3298(at)S
3422(least)S
3681(``Width'')S
(places,)333 4183 A
4552(blank-padding)S
4556 V
708(to)S
832(the)S
1010(left)S
1203(if)S
1308(needed.)S
4756 V
11 C
(PROCEDURE)603 1068 A
(WriteBoolean\(OutputText:)1608 1738 A
(Text;)335 3413 A
4896 V
(Boolean:)536 2705 A
(BOOLEAN;)536 3308 A
5036 V
(Width:)402 2609 A
(CARDINAL\);)670 3078 A
5236 V
12 R
708(Write)S
(boolean)382 1023 A
1443(``Boolean'')S
2047(to)S
2179(the)S
2365(OutputText,)S
2991(using)S
3290(at)S
3416(least)S
3677(``Width'')S
(places,)333 4181 A
4552(blank-padding)S
5376 V
708(to)S
832(the)S
1010(left)S
1203(if)S
1308(needed.)S
1740(Equivalent)S
2294(to)S
5576 V
11 C
(WriteString\(OutputText,)1541 1068 A
2676(")S
(TRUE",)402 2810 A
(Width\))402 3279 A
5776 V
12 R
708(or)S
5976 V
11 C
(WriteString\(OutputText,)1541 1068 A
("FALSE",)536 2676 A
(Width\))402 3279 A
6236 V
(PROCEDURE)603 1068 A
(WriteString\(OutputText:)1541 1738 A
(Text;)335 3346 A
6376 V
(String:)469 2638 A
(ARRAY)335 3174 A
3576(OF)S
(CHAR;)335 3777 A
6516 V
(Width:)402 2638 A
(CARDINAL\);)670 3107 A
6716 V
12 R
708(Write)S
1029(string)S
1349(``String'')S
1853(to)S
1991(the)S
2184(OutputText,)S
2817(using)S
3123(at)S
3256(least)S
3524(``Width'')S
(places,)333 4035 A
4413(blank-padding)S
5155(to)S
6856 V
708(the)S
890(left)S
1087(if)S
1196(needed.)S
1632(The)S
1854(string)S
2164(is)S
2279(terminated)S
2832(either)S
3143(by)S
3297(the)S
3479(character)S
3959(Eos,)S
4204(or)S
4339(by)S
4493(the)S
(upperbound)575 4674 A
6996 V
708(of)S
839(the)S
1017(array)S
1297(``String''.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(239)180 5069 A
7920 V
EP
%%Page: 240 246
BP
/slant 0 def
/height 0 def
500 V
12 R
(libmod2)402 708 A
1130(\(L\))S
2567(Library)S
2961(Routines)S
(libmod2)402 4671 A
5093(\(L\))S
920 V
11 C
(PROCEDURE)603 1068 A
(WriteReal\(OutputText:)1407 1738 A
(Text;)335 3212 A
1060 V
(Real:)335 2504 A
(REAL;)335 2906 A
1200 V
(Width,)402 2504 A
(Nfrac:)402 2973 A
(CARDINAL\);)670 3442 A
1400 V
12 R
708(Write)S
1019(real)S
1236(``Real'')S
1656(to)S
1785(the)S
1968(OutputText.)S
2621(If)S
2738(``Nfrac'')S
3215(=)S
3318(0,)S
3443(use)S
3639(scientific)S
4120(notation,)S
4581(otherwise)S
5088(use)S
1540 V
708(fixed-point)S
1303(notation)S
1756(with)S
2029(``Nfrac'')S
2528(digits)S
2854(behind)S
3239(the)S
3444(dot.)S
3715(Always)S
4143(use)S
4360(at)S
4504(least)S
4783(``Width'')S
1680 V
(places,)333 708 A
1071(blank-padding)S
1798(to)S
1922(the)S
2100(left)S
2293(if)S
2398(needed.)S
1880 V
11 C
(PROCEDURE)603 1068 A
(WriteLongReal\(OutputText:)1675 1738 A
(Text;)335 3480 A
2020 V
(Real:)335 2236 A
(LONGREAL;)603 2638 A
2160 V
(Width,)402 2236 A
(Nfrac:)402 2705 A
(CARDINAL\);)670 3174 A
2360 V
12 R
708(Like)S
960(WriteReal,)S
1519(but)S
1703(for)S
(LONGREAL.)684 1875 A
2816 V
12 I
708(Processes.def)S
2992 V
12 R
708(This)S
954(is)S
1066(the)S
1245(standard)S
1686(process)S
(module,)392 2080 A
2503(as)S
2636(described)S
3132(by)S
3284(Wirth.)S
3659(As)S
3826(discussed)S
4321(in)S
4447(``Unfair)S
4879(Process)S
3132 V
708(Scheduling)S
1294(in)S
(Modula-2'',)588 1431 A
2062(by)S
2225(D.)S
2386(Hemmendinger,)S
3212(SIGplan)S
3659(Notices)S
4073(Volume)S
4506(23)S
4669(nr)S
4813(3,)S
4946(march)S
3272 V
(1988,)270 708 A
1032(the)S
1234(scheduler)S
1752(in)S
1900(this)S
(module)362 2129 A
2545(is)S
2681(unfair,)S
3056(in)S
3205(that)S
3442(in)S
3591(some)S
3901(circumstances)S
4643(ready-to-run)S
3412 V
708(processes)S
1202(never)S
1501(get)S
1679(a)S
1763(turn.)S
3612 V
11 C
(TYPE)268 1068 A
(SIGNAL;)469 1403 A
3892 V
(PROCEDURE)603 1068 A
(StartProcess\(P:)1005 1738 A
(PROC;)335 2810 A
3212(n:)S
(CARDINAL\);)670 3413 A
4092 V
12 R
708(Start)S
968(a)S
1052(concurrent)S
1600(process)S
1993(with)S
2239(program)S
2679(``P'')S
2940(and)S
(workspace)518 3144 A
3692(of)S
3823(size)S
4042(``n''.)S
4292 V
11 C
(PROCEDURE)603 1068 A
(SEND\(VAR)536 1738 A
2341(s:)S
(SIGNAL\);)536 2542 A
4492 V
12 R
708(One)S
940(process)S
(waiting)364 1333 A
1727(for)S
1899(``s'')S
2140(is)S
2251(resumed.)S
4692 V
11 C
(PROCEDURE)603 1068 A
(WAIT\(VAR)536 1738 A
2341(s:)S
(SIGNAL\);)536 2542 A
4892 V
12 R
708(Wait)S
974(for)S
1146(some)S
1431(other)S
1710(process)S
2103(to)S
2227(send)S
2478(``s''.)S
5092 V
11 C
(PROCEDURE)603 1068 A
(Awaited\(s:)670 1738 A
(SIGNAL\):)536 2475 A
(BOOLEAN;)536 3078 A
5292 V
12 R
708(Return)S
1067(TRUE)S
1413(if)S
1518(at)S
1636(least)S
1889(one)S
2093(process)S
2486(is)S
(waiting)364 2597 A
2991(for)S
3163(signal)S
3482(``s''.)S
5492 V
11 C
(PROCEDURE)603 1068 A
(Init\(VAR)536 1738 A
2341(s:)S
(SIGNAL\);)536 2542 A
5692 V
12 R
708(Compulsory)S
(initialization.)644 1334 A
6148 V
12 I
708(RealConver.def)S
6324 V
12 R
708(This)S
(module)362 953 A
1345(provides)S
1791(string-to-real)S
2456(and)S
2660(real-to-string)S
(conversions.)607 3325 A
6524 V
11 C
(PROCEDURE)603 1068 A
(StringToReal\(str:)1139 1738 A
(ARRAY)335 2944 A
3346(OF)S
(CHAR;)335 3547 A
6664 V
(VAR)201 2705 A
2973(r:)S
(REAL;)335 3174 A
6804 V
(VAR)201 2705 A
(ok:)201 2973 A
(BOOLEAN\);)603 3241 A
7004 V
12 R
(Convert)389 708 A
1127(string)S
(``str'')286 1433 A
1749(to)S
1873(a)S
1957(real)S
2170(number)S
(``r'')205 2569 A
(according)477 2804 A
3311(to)S
3435(the)S
3613(syntax:)S
7700 V
(240)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 241 247
BP
/slant 0 def
/height 0 def
500 V
12 R
(libmod2)402 708 A
1130(\(L\))S
2567(Library)S
2961(Routines)S
(libmod2)402 4671 A
5093(\(L\))S
920 V
11 C
(real)268 1068 A
(::=)201 1403 A
(['+'|'-'])603 1671 A
(digit)335 2341 A
({digit})469 2743 A
(['.')268 3279 A
(digit)335 3614 A
({digit}])536 4016 A
1060 V
(['E')268 1719 A
(['+'|'-'])603 2054 A
(digit)335 2724 A
({digit}])536 3126 A
1260 V
12 R
708(ok)S
863(:=)S
(``conversion)612 1000 A
(succeeded'')579 1647 A
2261(Leading)S
2692(blanks)S
3042(are)S
3226(skipped;)S
(Input)255 3670 A
3960(terminates)S
4502(with)S
4754(a)S
4844(blank)S
5148(or)S
1400 V
708(any)S
912(control)S
1285(character.)S
1600 V
11 C
(PROCEDURE)603 1068 A
(StringToLongReal\(str:)1407 1738 A
(ARRAY)335 3212 A
3614(OF)S
(CHAR;)335 3815 A
1740 V
(VAR)201 2437 A
2705(r:)S
(LONGREAL;)603 2906 A
1880 V
(VAR)201 2437 A
(ok:)201 2705 A
(BOOLEAN\);)603 2973 A
2160 V
(PROCEDURE)603 1068 A
(RealToString\(r:)1005 1738 A
(REAL;)335 2810 A
2300 V
(width,)402 2705 A
(digits:)469 3174 A
(INTEGER;)536 3710 A
2440 V
(VAR)201 2705 A
(str:)268 2973 A
(ARRAY)335 3308 A
3710(OF)S
(CHAR;)335 3911 A
2580 V
(VAR)201 2705 A
(ok:)201 2973 A
(BOOLEAN\);)603 3241 A
2780 V
12 R
(Convert)389 708 A
1166(real)S
1418(number)S
(``r'')205 1856 A
2130(to)S
2293(string)S
(``str'',)316 2638 A
3023(either)S
3369(in)S
3532(fixed-point)S
4140(or)S
(exponent)442 4311 A
4823(notation.)S
2920 V
708(``digits'')S
1188(is)S
1316(the)S
1511(number)S
1927(digits)S
2243(to)S
2384(the)S
2579(right)S
2855(of)S
3003(the)S
3198(decimal)S
3628(point,)S
3952(``width'')S
4438(is)S
4565(the)S
4759(maximum)S
3060 V
708(width)S
1014(of)S
1145(the)S
1323(notation.)S
1809(If)S
1921(digits)S
2220(<)S
2318(0,)S
(exponent)442 2438 A
2910(notation)S
3336(is)S
3447(used,)S
3728(otherwise)S
4230(fixed-point.)S
4858(If)S
4971(fewer)S
3200 V
708(than)S
956(``width'')S
1436(characters)S
1969(are)S
2158(needed,)S
2570(leading)S
2966(blanks)S
3321(are)S
3510(inserted.)S
3994(If)S
4115(the)S
4302(representation)S
5028(does)S
3340 V
708(not)S
892(fit)S
1031(in)S
1155(``width'',)S
1655(then)S
1893(ok)S
2043(is)S
2154(set)S
2319(to)S
2443(FALSE.)S
3540 V
11 C
(PROCEDURE)603 1068 A
(LongRealToString\(r:)1273 1738 A
(LONGREAL;)603 3078 A
3680 V
(width,)402 2437 A
(digits:)469 2906 A
(INTEGER;)536 3442 A
3820 V
(VAR)201 2437 A
(str:)268 2705 A
(ARRAY)335 3040 A
3442(OF)S
(CHAR;)335 3643 A
3960 V
(VAR)201 2437 A
(ok:)201 2705 A
(BOOLEAN\);)603 2973 A
4160 V
12 R
708(Like)S
960(RealToString,)S
1672(only)S
1916(here)S
(``r'')205 2155 A
2390(is)S
2501(a)S
(long)214 2585 A
2829(real.)S
4616 V
12 I
708(RealInOut.def)S
4792 V
12 R
708(This)S
953(is)S
1064(an)S
1208(InOut)S
(module)362 1521 A
1913(for)S
2085(REAL)S
2431(numbers.)S
4992 V
11 C
(VAR)201 1068 A
(Done:)335 1336 A
(BOOLEAN;)536 1738 A
5272 V
(PROCEDURE)603 1068 A
(ReadReal\(VAR)804 1738 A
2609(x:)S
(REAL\);)402 2810 A
5472 V
12 R
708(Read)S
986(a)S
1070(real)S
1283(number)S
1682(``x'')S
(according)477 1936 A
2443(to)S
2567(the)S
2745(syntax:)S
5672 V
11 C
(real)268 1068 A
(::=)201 1403 A
(['+'|'-'])603 1671 A
(digit)335 2341 A
({digit})469 2743 A
(['.')268 3279 A
(digit)335 3614 A
({digit}])536 4016 A
5812 V
([\('E'|'e'\))670 1719 A
(['+'|'-'])603 2456 A
(digit)335 3126 A
({digit}])536 3528 A
6012 V
12 R
708(Done)S
1022(:=)S
1176(``a)S
1364(number)S
1786(was)S
2028(read''.)S
(Input)255 2432 A
2740(terminates)S
3299(with)S
3568(a)S
3675(blank)S
3996(or)S
4150(any)S
4377(control)S
4773(character.)S
6152 V
708(When)S
1038(reading)S
1443(from)S
1721(a)S
1816(terminal,)S
2292(backspacing)S
2930(may)S
3179(be)S
(done)234 3334 A
3609(by)S
3770(either)S
4088(DEL)S
4365(or)S
4507(BACKSPACE,)S
6292 V
708(depending)S
1240(on)S
1390(the)S
1568(implementation)S
2358(of)S
2489(ReadString.)S
6492 V
11 C
(PROCEDURE)603 1068 A
(ReadLongReal\(VAR)1072 1738 A
2877(x:)S
(LONGREAL\);)670 3078 A
6692 V
12 R
708(Like)S
960(ReadReal,)S
1490(but)S
1674(for)S
(LONGREAL.)684 1846 A
6892 V
11 C
(PROCEDURE)603 1068 A
(WriteReal\(x:)804 1738 A
(REAL;)335 2609 A
3011(n:)S
(CARDINAL\);)670 3212 A
7092 V
12 R
708(Write)S
1015(x)S
1105(using)S
1396(n)S
1486(characters.)S
2069(If)S
2181(fewer)S
2489(than)S
2727(n)S
2817(characters)S
3340(are)S
3519(needed,)S
3921(leading)S
4307(blanks)S
4652(are)S
4831(inserted.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(241)180 5069 A
7920 V
EP
%%Page: 242 248
BP
/slant 0 def
/height 0 def
500 V
12 R
(libmod2)402 708 A
1130(\(L\))S
2567(Library)S
2961(Routines)S
(libmod2)402 4671 A
5093(\(L\))S
920 V
11 C
(PROCEDURE)603 1068 A
(WriteLongReal\(x:)1072 1738 A
(LONGREAL;)603 2877 A
3547(n:)S
(CARDINAL\);)670 3748 A
1120 V
12 R
708(Like)S
960(WriteReal,)S
1519(but)S
1703(for)S
(LONGREAL.)684 1875 A
1320 V
11 C
(PROCEDURE)603 1068 A
(WriteFixPt\(x:)871 1738 A
(REAL;)335 2676 A
3078(n,)S
3279(k:)S
(CARDINAL\);)670 3480 A
1520 V
12 R
708(Write)S
1029(x)S
1133(in)S
1271(fixed-point)S
1853(notation)S
2294(usign)S
2600(n)S
2705(characters)S
3243(with)S
3504(k)S
3609(digits)S
3923(after)S
4192(the)S
4385(decimal)S
4814(point.)S
5167(If)S
1660 V
708(fewer)S
1016(than)S
1254(n)S
1344(characters)S
1867(are)S
2046(needed,)S
2448(leading)S
2834(blanks)S
3179(are)S
3358(inserted.)S
1860 V
11 C
(PROCEDURE)603 1068 A
(WriteLongFixPt\(x:)1139 1738 A
(LONGREAL;)603 2944 A
3614(n,)S
3815(k:)S
(CARDINAL\);)670 4016 A
2060 V
12 R
708(Like)S
960(WriteFixPt,)S
1559(but)S
1743(for)S
(LONGREAL.)684 1915 A
2260 V
11 C
(PROCEDURE)603 1068 A
(WriteRealOct\(x:)1005 1738 A
(REAL\);)402 2810 A
2460 V
12 R
708(Write)S
1015(x)S
1105(in)S
1229(octal)S
1495(words.)S
2660 V
11 C
(PROCEDURE)603 1068 A
(WriteLongRealOct\(x:)1273 1738 A
(LONGREAL\);)670 3078 A
2860 V
12 R
708(Like)S
960(WriteRealOct,)S
1695(but)S
1879(for)S
(LONGREAL.)684 2051 A
3316 V
12 I
(Semaphores.def)768 708 A
3492 V
12 R
708(This)S
(module)362 1016 A
1471(provides)S
(semaphores.)601 1980 A
2704(On)S
2945(systems)S
3421(using)S
3775(quasi-concurrency,)S
4793(the)S
5035(only)S
3632 V
(opportunities)638 708 A
1376(for)S
1548(process)S
1941(switches)S
2389(are)S
2568(calls)S
2821(to)S
2945(Down)S
3271(and)S
3475(Up.)S
3832 V
11 C
(TYPE)268 1068 A
(Sema;)335 1403 A
4112 V
(PROCEDURE)603 1068 A
(Level\(s:)536 1738 A
(Sema\))335 2341 A
2743(:)S
(CARDINAL;)603 2877 A
4312 V
12 R
708(Returns)S
1114(current)S
1488(value)S
1780(of)S
(semaphore)524 1911 A
2465(s.)S
4512 V
11 C
(PROCEDURE)603 1068 A
(NewSema\(n:)670 1738 A
(CARDINAL\))603 2475 A
3145(:)S
(Sema;)335 3279 A
4712 V
12 R
708(Creates)S
1102(a)S
1186(new)S
(semaphore)524 1418 A
1972(with)S
(initial)284 2218 A
2532(level)S
2798(``n''.)S
4912 V
11 C
(PROCEDURE)603 1068 A
(Down\(VAR)536 1738 A
2341(s:)S
(Sema\);)402 2542 A
5112 V
12 R
708(If)S
829(the)S
1016(value)S
1317(of)S
1457(``s'')S
1707(is)S
1827(>)S
1934(0,)S
2063(then)S
2310(just)S
2524(decrement)S
3068(``s''.)S
3378(Else)S
3626(suspend)S
4053(the)S
4240(current)S
4624(process)S
(until)222 5027 A
5252 V
708(the)S
(semaphore)524 886 A
1440(becomes)S
(positive)383 1893 A
2306(again.)S
5452 V
11 C
(PROCEDURE)603 1068 A
(Up\(VAR)402 1738 A
2207(s:)S
(Sema\);)402 2408 A
5652 V
12 R
708(Increment)S
1230(the)S
(semaphore)524 1408 A
1962(``s''.)S
5852 V
11 C
(PROCEDURE)603 1068 A
(StartProcess\(P:)1005 1738 A
(PROC;)335 2810 A
3212(n:)S
(CARDINAL\);)670 3413 A
6052 V
12 R
708(Create)S
1060(a)S
1149(new)S
1386(process)S
1784(with)S
2035(procedure)S
2554(P)S
2657(and)S
(workspace)518 2867 A
3421(of)S
3558(size)S
3783(``n''.)S
4103(Also)S
4368(transfer)S
4776(control)S
5155(to)S
6192 V
708(it.)S
6708 V
12 I
708(Storage.def)S
6884 V
12 R
708(This)S
(module)362 976 A
1391(provides)S
(dynamic)416 1860 A
2329(storage)S
2732(allocation.)S
3323(As)S
3511(Wirth's)S
3935(3rd)S
(edition)336 4149 A
4538(mentions)S
5035(both)S
7024 V
708(Allocate)S
1150(and)S
1354(ALLOCATE,)S
2054(both)S
2298(are)S
2477(included)S
2923(to)S
3047(avoid)S
3345(problems.)S
7700 V
(242)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 243 249
BP
/slant 0 def
/height 0 def
500 V
12 R
(libmod2)402 708 A
1130(\(L\))S
2567(Library)S
2961(Routines)S
(libmod2)402 4671 A
5093(\(L\))S
920 V
11 C
(FROM)268 1068 A
(SYSTEM)402 1403 A
(IMPORT)402 1872 A
(ADDRESS;)536 2341 A
1200 V
(PROCEDURE)603 1068 A
(ALLOCATE\(VAR)804 1738 A
2609(a)S
2743(:)S
(ADDRESS;)536 2877 A
(size)268 3480 A
3815(:)S
(CARDINAL\);)670 3949 A
1400 V
12 R
708(Allocate)S
1152(an)S
1298(area)S
1533(of)S
1667(the)S
1848(given)S
2149(size)S
2371(and)S
2578(return)S
2901(the)S
3082(address)S
3478(in)S
3605(``a''.)S
3916(If)S
4031(no)S
(space)269 4184 A
4486(is)S
4600(available,)S
5101(the)S
1540 V
(calling)330 708 A
1068(program)S
1508(is)S
(killed.)306 1619 A
1740 V
11 C
(PROCEDURE)603 1068 A
(Allocate\(VAR)804 1738 A
2609(a)S
2743(:)S
(ADDRESS;)536 2877 A
(size)268 3480 A
3815(:)S
(CARDINAL\);)670 3949 A
1940 V
12 R
708(Identical)S
1163(to)S
1287(ALLOCATE.)S
2140 V
11 C
(PROCEDURE)603 1068 A
(DEALLOCATE\(VAR)938 1738 A
2743(a)S
2877(:)S
(ADDRESS;)536 3011 A
(size)268 3614 A
3949(:)S
(CARDINAL\);)670 4083 A
2340 V
12 R
708(Free)S
973(the)S
1170(area)S
1422(at)S
1559(address)S
1971(``a'')S
2238(with)S
2503(the)S
2700(given)S
3017(size.)S
3315(The)S
3552(area)S
3804(must)S
4088(have)S
4365(been)S
4642(allocated)S
5129(by)S
2480 V
708(``ALLOCATE'')S
1542(or)S
1673(``Allocate'',)S
2309(with)S
2555(the)S
2733(same)S
3012(size.)S
2680 V
11 C
(PROCEDURE)603 1068 A
(Deallocate\(VAR)938 1738 A
2743(a)S
2877(:)S
(ADDRESS;)536 3011 A
(size)268 3614 A
3949(:)S
(CARDINAL\);)670 4083 A
2880 V
12 R
708(Identical)S
1163(to)S
1287(DEALLOCATE.)S
3080 V
11 C
(PROCEDURE)603 1068 A
(Available\(size)938 1738 A
2743(:)S
(CARDINAL\))603 2877 A
3547(:)S
(BOOLEAN;)536 3681 A
3280 V
12 R
708(Return)S
1080(TRUE)S
1439(if)S
1557(a)S
(contiguous)529 1654 A
2226(area)S
2472(with)S
2731(the)S
2923(given)S
3235(size)S
3468(could)S
3780(be)S
3938(allocated.)S
4480(Notice)S
4848(that)S
5074(this)S
3420 V
708(only)S
954(indicates)S
1417(if)S
1524(an)S
1670(ALLOCATE)S
2342(of)S
2475(this)S
2682(size)S
2902(would)S
(succeed,)413 3235 A
3679(and)S
3884(that)S
4097(it)S
4196(gives)S
4482(no)S
4633(indication)S
5148(of)S
3560 V
708(the)S
886(total)S
1132(available)S
1600(memory.)S
4016 V
12 I
708(Streams.def)S
4192 V
12 R
708(This)S
(module)362 965 A
1369(provides)S
1827(sequential)S
2360(IO)S
(through)375 2531 A
2948(streams.)S
3421(A)S
3551(stream)S
3918(is)S
4042(either)S
4362(a)S
4459(text)S
4684(stream)S
5051(or)S
5195(a)S
4332 V
708(binary)S
1066(stream,)S
1469(and)S
1692(is)S
1822(either)S
2148(in)S
2291(reading,)S
(writing)351 2732 A
3131(or)S
3280(appending)S
3830(mode.)S
4206(By)S
4394(default,)S
4809(there)S
5100(are)S
4472 V
708(three)S
1004(open)S
1291(text)S
1526(streams,)S
(connected)490 1980 A
2523(to)S
2670(standard)S
(input,)278 3133 A
3464(standard)S
3928(output,)S
4320(and)S
4548(standard)S
5012(error)S
4612 V
708(respectively.)S
1389(These)S
1712(are)S
1895(text)S
2111(streams.)S
2576(When)S
(connected)490 2898 A
3422(to)S
3550(a)S
3638(terminal,)S
4107(the)S
4289(standard)S
4733(output)S
5075(and)S
4752 V
708(standard)S
1192(error)S
1503(streams)S
1948(are)S
2171(linebuffered.)S
2898(The)S
3160(user)S
3436(can)S
3678(create)S
4043(more)S
4366(streams)S
4811(with)S
5101(the)S
4892 V
708(OpenStream)S
1358(call,)S
1608(and)S
1825(delete)S
2158(streams)S
2572(with)S
2831(the)S
3022(CloseStream)S
3684(call.)S
3963(Streams)S
4397(are)S
4589(automatically)S
5032 V
708(closed)S
1047(at)S
1165(program)S
1605(termination.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(243)180 5069 A
7920 V
EP
%%Page: 244 250
BP
/slant 0 def
/height 0 def
500 V
12 R
(libmod2)402 708 A
1130(\(L\))S
2567(Library)S
2961(Routines)S
(libmod2)402 4671 A
5093(\(L\))S
920 V
11 C
(FROM)268 1068 A
(SYSTEM)402 1403 A
(IMPORT)402 1872 A
(BYTE;)335 2341 A
1200 V
(TYPE)268 1068 A
(StreamKind)670 1652 A
2389(=)S
(\(text,)402 2523 A
(binary,)469 2992 A
(none\);)402 3528 A
1340 V
(StreamMode)670 1652 A
2389(=)S
(\(reading,)603 2523 A
(writing,)536 3193 A
(appending\);)737 3796 A
1480 V
(StreamResult)804 1652 A
2523(=)S
(\(succeeded,)737 2657 A
(illegaloperation,)1139 3461 A
1620 V
(nomemory,)603 2236 A
(openfailed,)737 2906 A
1760 V
(nostream,)603 2236 A
(endoffile\);)737 2906 A
1900 V
(StreamBuffering)1005 1652 A
2724(=)S
(\(unbuffered,)804 2858 A
(linebuffered,)871 3729 A
2040 V
(blockbuffered\);)1005 2437 A
2180 V
(TYPE)268 1068 A
(Stream;)469 1652 A
2460 V
(VAR)201 1068 A
(InputStream,)804 1652 A
(OutputStream,)871 2523 A
(ErrorStream:)804 3461 A
(Stream;)469 4332 A
2740 V
(PROCEDURE)603 1068 A
(OpenStream\(VAR)938 1738 A
(stream:)469 2743 A
(Stream;)469 3279 A
2880 V
(filename:)603 2571 A
(ARRAY)335 3241 A
3643(OF)S
(CHAR;)335 3844 A
3020 V
(kind:)335 2571 A
(StreamKind;)737 2973 A
3160 V
(mode:)335 2571 A
(StreamMode;)737 2973 A
3300 V
(VAR)201 2571 A
(result:)469 2839 A
(StreamResult\);)938 3375 A
3500 V
12 R
708(This)S
956(procedure)S
1473(associates)S
1991(a)S
2078(stream)S
2435(with)S
2684(the)S
2865(file)S
3061(named)S
3416(filename.)S
3934(If)S
4049(kind)S
4296(=)S
(none,)264 4397 A
4695(result)S
4999(is)S
5114(set)S
3640 V
708(to)S
(``illegaloperation''.)955 832 A
1847(``mode'')S
2309(has)S
2500(one)S
2704(of)S
2835(the)S
3013(following)S
3514(values:)S
3816 V
708(reading:the)S
1283(file)S
1476(is)S
1587(opened)S
1965(for)S
2137(reading)S
3992 V
(writing:the)533 708 A
1271(file)S
1464(is)S
1575(truncated)S
2056(or)S
2187(created)S
2568(for)S
(writing)351 2740 A
4168 V
708(appending:the)S
1422(file)S
1615(is)S
1726(opened)S
2104(for)S
(writing)351 2276 A
2657(at)S
2775(end)S
2979(of)S
3110(file,)S
3333(or)S
3464(created)S
3845(for)S
(writing.)381 4017 A
4344 V
708(On)S
886(failure,)S
1264(result)S
1564(is)S
1675(set)S
1840(to)S
1964(``openfailed''.)S
2729(On)S
(success,)393 2907 A
3330(result)S
3630(is)S
3741(set)S
3906(to)S
(``succeeded''.)691 4030 A
4544 V
11 C
(PROCEDURE)603 1068 A
(SetStreamBuffering\(stream:)1742 1738 A
(Stream;)469 3547 A
4684 V
2571(b:)S
(StreamBuffering;)1072 2772 A
4824 V
(VAR)201 2571 A
(result:)469 2839 A
(StreamResult\);)938 3375 A
5024 V
12 R
708(This)S
955(procedure)S
1471(is)S
1584(only)S
1830(allowed)S
2246(for)S
2421(output)S
2762(streams.)S
3226(The)S
3447(three)S
3723(types)S
4011(of)S
4145(buffering)S
4629(available)S
5100(are)S
5164 V
(unbuffered,)561 708 A
1331(linebuffered,)S
2016(and)S
(blockbuffered.)709 2252 A
3053(When)S
3403(an)S
3579(output)S
3949(stream)S
4335(is)S
(unbuffered,)561 4478 A
5101(the)S
5304 V
708(output)S
1049(appears)S
1452(as)S
(soon)227 1586 A
1846(as)S
(written;)379 1980 A
2392(when)S
2687(it)S
2788(is)S
(blockbuffered,)709 2902 A
3644(output)S
3985(is)S
4099(saved)S
4407(up)S
4561(and)S
(written)345 4769 A
5148(as)S
5444 V
708(a)S
804(block.)S
1174(When)S
1504(it)S
1614(is)S
1737(linebuffered)S
2371(\(only)S
2667(possible)S
3104(for)S
3287(text)S
3510(output)S
3859(streams\),)S
4342(output)S
4691(is)S
4813(saved)S
5129(up)S
5584 V
(until)222 708 A
960(a)S
1044(newline)S
1458(is)S
(encountered)591 1569 A
2190(or)S
(input)248 2321 A
2599(is)S
2710(read)S
2949(from)S
3215(standard)S
(input.)278 3655 A
5784 V
11 C
(PROCEDURE)603 1068 A
(CloseStream\(VAR)1005 1738 A
(stream:)469 2810 A
(Stream;)469 3346 A
5924 V
(VAR)201 2638 A
(result:)469 2906 A
(StreamResult\);)938 3442 A
6124 V
12 R
708(Closes)S
1077(the)S
1272(stream.)S
(``result'')434 1703 A
2184(is)S
2312(set)S
2494(to)S
2635(``nostream'')S
3290(if)S
3412(``stream'')S
3947(was)S
4183(not)S
4385(associated)S
4931(with)S
5195(a)S
6264 V
708(stream.)S
6464 V
11 C
(PROCEDURE)603 1068 A
(FlushStream\(stream:)1273 1738 A
(Stream;)469 3078 A
6604 V
(VAR)201 2638 A
(result:)469 2906 A
(StreamResult\);)938 3442 A
6804 V
12 R
708(Flushes)S
1120(the)S
1311(stream.)S
(``result'')434 1739 A
2217(is)S
2342(set)S
2521(to)S
2659(``nostream'')S
3311(if)S
3430(``stream'')S
3962(was)S
4195(not)S
4393(associated)S
4935(with)S
5195(a)S
6944 V
708(stream.)S
1122(It)S
1227(is)S
1338(set)S
1503(to)S
(``illegaloperation'')925 1627 A
2582(if)S
2687(``stream'')S
3205(is)S
3316(not)S
3500(an)S
3644(output)S
3982(or)S
4113(appending)S
4645(stream.)S
7700 V
(244)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 245 251
BP
/slant 0 def
/height 0 def
500 V
12 R
(libmod2)402 708 A
1130(\(L\))S
2567(Library)S
2961(Routines)S
(libmod2)402 4671 A
5093(\(L\))S
920 V
11 C
(PROCEDURE)603 1068 A
(EndOfStream\(stream:)1273 1738 A
(Stream;)469 3078 A
1060 V
(VAR)201 2638 A
(result:)469 2906 A
(StreamResult\):)938 3442 A
(BOOLEAN;)536 4447 A
1260 V
12 R
708(Returns)S
1138(true)S
1381(if)S
1510(the)S
1712(stream)S
2090(is)S
2225(an)S
(input)248 2393 A
2696(stream,)S
3105(and)S
3334(the)S
3537(end)S
3766(of)S
3922(the)S
4125(file)S
4343(has)S
4559(been)S
(reached.)407 4842 A
1400 V
(``result'')434 708 A
1189(is)S
1317(set)S
1499(to)S
1640(``nostream'')S
2295(if)S
2417(``stream'')S
2952(was)S
3188(not)S
3389(associated)S
3934(with)S
4196(a)S
4296(stream.)S
4726(It)S
4847(is)S
4974(set)S
5155(to)S
1540 V
(``illegaloperation'')925 708 A
1663(if)S
1768(the)S
1946(stream)S
2300(is)S
2411(not)S
2595(an)S
(input)248 2739 A
3017(stream.)S
1740 V
11 C
(PROCEDURE)603 1068 A
(Read\(stream:)804 1738 A
(Stream;)469 2609 A
(VAR)201 3145 A
(ch:)201 3413 A
(CHAR;)335 3681 A
1880 V
(VAR)201 2121 A
(result:)469 2389 A
(StreamResult\);)938 2925 A
2080 V
12 R
708(This)S
960(procedure)S
1481(reads)S
1774(a)S
1865(character)S
2348(from)S
2621(the)S
2806(stream.)S
3228(Certain)S
3623(character)S
4107(translations)S
4704(may)S
4950(occur,)S
2220 V
708(such)S
978(as)S
1128(the)S
1325(mapping)S
1796(of)S
1946(the)S
2143(end-of-line)S
2730(sequence)S
3221(to)S
3363(the)S
3559(character)S
4053(12C.)S
(``result'')434 4361 A
4843(is)S
4972(set)S
5155(to)S
2360 V
708(``nostream'')S
1374(if)S
1507(``stream'')S
2053(was)S
2300(not)S
2512(associated)S
3068(with)S
3342(a)S
3454(stream.)S
3896(It)S
4029(is)S
4168(set)S
4361(to)S
(``endoffile'')602 4513 A
5174(if)S
2500 V
708(EndOfStream)S
1406(would)S
1739(have)S
1998(returned)S
2433(TRUE)S
2780(before)S
3120(the)S
3298(call)S
3504(to)S
3628(Read.)S
3966(In)S
4097(this)S
4302(case,)S
4571(``ch'')S
4879(is)S
4990(set)S
5155(to)S
2640 V
708(0C.)S
938(It)S
1043(is)S
1154(set)S
1319(to)S
(``illegaloperation'')925 1443 A
2398(if)S
2503(the)S
2681(stream)S
3035(is)S
3146(not)S
3330(a)S
3414(text)S
(input)248 3626 A
3904(stream.)S
2840 V
11 C
(PROCEDURE)603 1068 A
(ReadByte\(stream:)1072 1738 A
(Stream;)469 2877 A
(VAR)201 3413 A
(byte:)335 3681 A
(BYTE;)335 4083 A
2980 V
(VAR)201 2437 A
(result:)469 2705 A
(StreamResult\);)938 3241 A
3180 V
12 R
708(This)S
953(procedure)S
1467(reads)S
1753(a)S
1837(byte)S
2075(from)S
2341(the)S
2519(stream.)S
2933(No)S
3111(character)S
3587(translations)S
4177(occur.)S
(``result'')434 4537 A
5002(is)S
5114(set)S
3320 V
708(to)S
850(``nostream'')S
1506(if)S
1629(``stream'')S
2165(was)S
2402(not)S
2604(associated)S
3150(with)S
3414(a)S
3516(stream.)S
3948(It)S
4071(is)S
4200(set)S
4383(to)S
(``endoffile'')602 4525 A
5174(if)S
3460 V
708(EndOfStream)S
1411(would)S
1749(have)S
2013(returned)S
2453(TRUE)S
2805(before)S
3151(the)S
3335(call)S
3547(to)S
3678(ReadByte.)S
4251(In)S
4389(this)S
4601(case,)S
4877(``byte'')S
3600 V
708(is)S
819(set)S
984(to)S
1108(0C.)S
1338(It)S
1443(is)S
1554(set)S
1719(to)S
(``illegaloperation'')925 1843 A
2798(if)S
2903(the)S
3081(stream)S
3435(is)S
3546(not)S
3730(a)S
3814(binary)S
(input)248 4153 A
4431(stream.)S
3800 V
11 C
(PROCEDURE)603 1068 A
(ReadBytes\(stream:)1139 1738 A
(Stream;)469 2944 A
3940 V
(VAR)201 2504 A
(bytes:)402 2772 A
(ARRAY)335 3241 A
3643(OF)S
(BYTE;)335 3844 A
4080 V
(VAR)201 2504 A
(result:)469 2772 A
(StreamResult\);)938 3308 A
4280 V
12 R
708(This)S
955(procedure)S
1471(reads)S
1759(bytes)S
2046(from)S
2314(the)S
2494(stream.)S
2911(No)S
3092(character)S
3571(translations)S
4163(occur.)S
4525(The)S
4746(number)S
5148(of)S
4420 V
708(bytes)S
996(is)S
1110(determined)S
1688(by)S
1841(the)S
2022(size)S
2244(of)S
2378(the)S
2559(parameter.)S
(``result'')434 3138 A
3605(is)S
3719(set)S
3887(to)S
4014(``nostream'')S
4654(if)S
4761(``stream'')S
4560 V
708(was)S
927(not)S
1111(associated)S
1639(with)S
1885(a)S
1969(stream.)S
2383(It)S
2488(is)S
2599(set)S
2764(to)S
(``endoffile'')602 2888 A
3520(if)S
3625(there)S
3899(are)S
4079(not)S
(enough)354 4264 A
4649(bytes)S
4935(left)S
5129(on)S
4700 V
708(the)S
893(stream.)S
1314(In)S
1452(this)S
1664(case,)S
1940(the)S
2125(rest)S
2338(of)S
2476(the)S
2661(bytes)S
2953(are)S
3139(set)S
3311(to)S
3442(0C.)S
3679(It)S
3791(is)S
3909(set)S
4081(to)S
(``illegaloperation'')925 4212 A
5174(if)S
4840 V
708(the)S
886(stream)S
1240(is)S
1351(not)S
1535(a)S
1619(binary)S
(input)248 1958 A
2236(stream.)S
5040 V
11 C
(PROCEDURE)603 1068 A
(Write\(stream:)871 1738 A
(Stream;)469 2676 A
(ch:)201 3212 A
(CHAR;)335 3480 A
5180 V
(VAR)201 2236 A
(result:)469 2504 A
(StreamResult\);)938 3040 A
5380 V
12 R
708(This)S
968(procedure)S
1497(writes)S
1840(a)S
1940(character)S
2432(to)S
2572(the)S
2766(stream.)S
3196(Certain)S
3599(character)S
4091(translations)S
4696(may)S
4950(occur,)S
5520 V
708(such)S
990(as)S
1152(the)S
1361(mapping)S
1844(of)S
2006(a)S
2121(line-feed)S
2614(or)S
2776(carriage)S
3229(return)S
3580(\(12C)S
3882(or)S
4044(15C\))S
4346(to)S
4501(the)S
4710(end-of-line)S
5660 V
708(sequence)S
1185(of)S
1320(the)S
1502(system.)S
(``result'')434 1932 A
2400(is)S
2515(set)S
2684(to)S
2812(``nostream'')S
3454(if)S
3564(``stream'')S
4087(was)S
4311(not)S
4500(associated)S
5033(with)S
5800 V
708(a)S
792(stream.)S
1206(It)S
1311(is)S
1422(set)S
1587(to)S
(``illegaloperation'')925 1711 A
2666(if)S
2771(the)S
2949(stream)S
3303(is)S
3414(not)S
3598(a)S
3682(text)S
3894(output)S
4232(stream.)S
6000 V
11 C
(PROCEDURE)603 1068 A
(WriteByte\(stream:)1139 1738 A
(Stream;)469 2944 A
(byte:)335 3480 A
(BYTE;)335 3882 A
6140 V
(VAR)201 2504 A
(result:)469 2772 A
(StreamResult\);)938 3308 A
6340 V
12 R
708(This)S
960(procedure)S
1481(writes)S
1816(a)S
1907(byte)S
2152(to)S
2283(the)S
2468(stream.)S
2889(No)S
3075(character)S
3559(translations)S
4156(occur.)S
(``result'')434 4523 A
4995(is)S
5114(set)S
6480 V
708(to)S
836(``nostream'')S
1478(if)S
1587(``stream'')S
2109(was)S
2332(not)S
2520(associated)S
3052(with)S
3302(a)S
3390(stream.)S
3807(It)S
3915(is)S
4029(set)S
4197(to)S
(``illegaloperation'')925 4324 A
6620 V
708(if)S
813(the)S
991(stream)S
1345(is)S
1456(not)S
1640(a)S
1724(binary)S
2063(output)S
2401(stream.)S
6820 V
11 C
(PROCEDURE)603 1068 A
(WriteBytes\(stream:)1206 1738 A
(Stream;)469 3011 A
6960 V
(bytes:)402 2571 A
(ARRAY)335 3040 A
3442(OF)S
(BYTE;)335 3643 A
7100 V
(VAR)201 2571 A
(result:)469 2839 A
(StreamResult\);)938 3375 A
7300 V
12 R
708(This)S
963(procedure)S
1487(writes)S
1825(bytes)S
2120(to)S
2254(the)S
2442(stream.)S
2866(No)S
3054(character)S
3540(translations)S
4139(occur.)S
4509(The)S
4738(number)S
5148(of)S
7700 V
2683(Amoeba)S
3123(5.3)S
(245)180 5069 A
7920 V
EP
%%Page: 246 252
BP
/slant 0 def
/height 0 def
500 V
12 R
(libmod2)402 708 A
1130(\(L\))S
2567(Library)S
2961(Routines)S
(libmod2)402 4671 A
5093(\(L\))S
860 V
708(bytes)S
(written)345 1026 A
1434(is)S
1578(equal)S
1903(to)S
2060(the)S
2271(size)S
2523(of)S
2687(the)S
2898(parameter.)S
(``result'')434 3507 A
4004(is)S
4148(set)S
4346(to)S
4503(``nostream'')S
5174(if)S
1000 V
708(``stream'')S
1237(was)S
1467(not)S
1662(associated)S
2201(with)S
2458(a)S
2553(stream.)S
2978(It)S
3094(is)S
3216(set)S
3392(to)S
(``illegaloperation'')925 3528 A
4495(if)S
4612(the)S
4802(stream)S
5168(is)S
1140 V
708(not)S
892(a)S
976(binary)S
1315(output)S
1653(stream.)S
1340 V
11 C
(PROCEDURE)603 1068 A
(GetPosition\(stream:)1273 1738 A
(Stream;)469 3078 A
1480 V
(VAR)201 2638 A
(position:)603 2906 A
(LONGINT;)536 3576 A
1620 V
(VAR)201 2638 A
(result:)469 2906 A
(StreamResult\);)938 3442 A
1820 V
12 R
708(This)S
990(procedure)S
1542(gives)S
1865(the)S
2081(actual)S
2439(read/write)S
(position)389 3001 A
3458(in)S
(``position''.)583 3620 A
(``result'')434 4301 A
4803(is)S
4952(set)S
5155(to)S
1960 V
(illegaloperation)761 708 A
1499(if)S
1604(``stream'')S
2122(is)S
2233(not)S
2417(a)S
2501(stream.)S
2160 V
11 C
(PROCEDURE)603 1068 A
(SetPosition\(stream:)1273 1738 A
(Stream;)469 3078 A
2300 V
(position:)603 2638 A
(LONGINT;)536 3308 A
2440 V
(VAR)201 2638 A
(result:)469 2906 A
(StreamResult\);)938 3442 A
2640 V
12 R
708(This)S
997(procedure)S
1555(sets)S
1811(the)S
2033(actual)S
2397(read/write)S
(position)389 2965 A
3428(to)S
(``position''.)583 3596 A
(``result'')434 4283 A
4791(is)S
4946(set)S
5155(to)S
2780 V
708(``nostream'')S
1351(if)S
1461(``stream'')S
1984(was)S
2208(not)S
2397(associated)S
2930(with)S
3181(a)S
3270(stream.)S
3689(It)S
3799(is)S
3915(set)S
4085(to)S
(``illegaloperation'')925 4214 A
5174(if)S
2920 V
708(the)S
890(stream)S
1248(was)S
1471(opened)S
1853(for)S
2029(appending)S
2565(and)S
2773(the)S
(position)389 2955 A
3378(is)S
3493(in)S
3622(front)S
3893(of)S
4029(the)S
4212(current)S
(position,)419 4591 A
5045(or)S
5181(it)S
3060 V
708(failed)S
1015(for)S
1187(some)S
1472(other)S
1751(reason)S
2097(\(f.i.)S
2303(when)S
2595(the)S
2773(stream)S
3127(is)S
(connected)490 3238 A
3758(to)S
3882(a)S
3966(terminal\).)S
3260 V
11 C
(PROCEDURE)603 1068 A
(isatty\(stream:)938 1738 A
(Stream;)469 2743 A
3400 V
(VAR)201 2303 A
(result:)469 2571 A
(StreamResult\):)938 3107 A
(BOOLEAN;)536 4112 A
3600 V
12 R
708(This)S
970(procedure)S
1501(returns)S
1885(TRUE)S
2248(if)S
2370(the)S
2565(stream)S
2937(is)S
(connected)490 3066 A
3604(to)S
3746(a)S
3848(terminal.)S
(``result'')434 4361 A
4843(is)S
4972(set)S
5155(to)S
3740 V
708(``nostream'')S
1351(if)S
1461(``stream'')S
1984(is)S
2100(not)S
2289(a)S
2378(stream,)S
2767(and)S
2975(set)S
3144(to)S
(``illegaloperation')884 3272 A
4190(if)S
4299(the)S
4481(operation)S
4972(failed)S
3880 V
708(for)S
880(some)S
1165(other)S
1444(reason.)S
4336 V
12 I
708(Strings.def)S
4512 V
12 R
708(This)S
(module)362 956 A
1351(provides)S
1801(string)S
2111(manipulations.)S
2890(Note:)S
3194(truncation)S
3719(of)S
3854(strings)S
4211(may)S
4453(occur)S
4756(if)S
4865(the)S
5047(user)S
4652 V
708(does)S
959(not)S
1143(provide)S
1542(large)S
(enough)354 1815 A
2199(variables)S
2667(to)S
2791(contain)S
3177(the)S
3355(result)S
3655(of)S
3786(the)S
3964(operation.)S
4828 V
708(Strings)S
1089(are)S
1276(of)S
1415(type)S
1661(ARRAY)S
2123(OF)S
2316(CHAR,)S
2720(and)S
2932(their)S
3193(length)S
3533(is)S
3653(the)S
3840(size)S
4068(of)S
4208(the)S
4395(array,)S
4714(unless)S
5055(a)S
5148(0-)S
4968 V
708(byte)S
946(occurs)S
1292(in)S
1416(the)S
1594(string)S
1900(to)S
2024(indicate)S
2438(the)S
2616(end)S
2820(of)S
2951(it.)S
5168 V
11 C
(PROCEDURE)603 1068 A
(Assign\(source:)938 1738 A
(ARRAY)335 2743 A
3145(OF)S
(CHAR;)335 3346 A
5308 V
(VAR)201 2303 A
(dest:)335 2571 A
(ARRAY)335 2973 A
3375(OF)S
(CHAR\);)402 3576 A
5508 V
12 R
708(Assign)S
1074(string)S
1380(source)S
1726(to)S
1850(dest.)S
5708 V
11 C
(PROCEDURE)603 1068 A
(Insert\(substr:)938 1738 A
(ARRAY)335 2743 A
3145(OF)S
(CHAR;)335 3346 A
5848 V
(VAR)201 2303 A
(str:)268 2571 A
(ARRAY)335 2906 A
3308(OF)S
(CHAR;)335 3509 A
5988 V
(inx:)268 2303 A
(CARDINAL\);)670 2638 A
6188 V
12 R
708(Insert)S
1048(the)S
1259(string)S
1598(substr)S
1951(into)S
2203(str,)S
2419(starting)S
2847(at)S
2999(str[inx].)S
3481(If)S
3627(inx)S
3845(is)S
3990(equal)S
4316(to)S
4474(or)S
4639(greater)S
5041(than)S
6328 V
708(Length\(str\))S
1284(then)S
1522(substr)S
1841(is)S
1952(appended)S
2444(to)S
2568(the)S
2746(end)S
2950(of)S
3081(str.)S
6528 V
11 C
(PROCEDURE)603 1068 A
(Delete\(VAR)670 1738 A
(str:)268 2475 A
(ARRAY)335 2810 A
3212(OF)S
(CHAR;)335 3413 A
6668 V
(inx,)268 2303 A
(len:)268 2638 A
(CARDINAL\);)670 2973 A
6868 V
12 R
708(Delete)S
1089(len)S
1300(characters)S
1857(from)S
2157(str,)S
2373(starting)S
2801(at)S
2953(str[inx].)S
3435(If)S
3581(inx)S
3799(>=)S
3999(Length\(str\))S
4609(then)S
4881(nothing)S
7008 V
708(happens.)S
1215(If)S
1349(there)S
1644(are)S
1845(not)S
2050(len)S
2249(characters)S
2793(to)S
2938(delete,)S
3309(characters)S
3853(to)S
3998(the)S
4197(end)S
4422(of)S
4574(the)S
4773(string)S
5100(are)S
7148 V
708(deleted.)S
7700 V
(246)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 247 253
BP
/slant 0 def
/height 0 def
500 V
12 R
(libmod2)402 708 A
1130(\(L\))S
2567(Library)S
2961(Routines)S
(libmod2)402 4671 A
5093(\(L\))S
920 V
11 C
(PROCEDURE)603 1068 A
(Pos\(substr,)737 1738 A
(str:)268 2542 A
(ARRAY)335 2877 A
3279(OF)S
(CHAR\):)402 3480 A
(CARDINAL;)603 3949 A
1120 V
12 R
708(Return)S
1079(the)S
1269(index)S
1579(into)S
1810(str)S
1975(of)S
2119(the)S
2310(first)S
2550(occurrence)S
3125(of)S
3269(substr.)S
3661(Pos)S
3878(returns)S
4258(a)S
4355(value)S
4660(greater)S
5041(than)S
1260 V
708(HIGH\(str\))S
1247(of)S
1378(no)S
1528(occurrence)S
2090(is)S
(found.)311 2201 A
1460 V
11 C
(PROCEDURE)603 1068 A
(Copy\(str:)603 1738 A
(ARRAY)335 2408 A
2810(OF)S
(CHAR;)335 3011 A
1600 V
(inx,)268 2121 A
(len:)268 2456 A
(CARDINAL;)603 2791 A
1740 V
(VAR)201 2121 A
(result:)469 2389 A
(ARRAY)335 2925 A
3327(OF)S
(CHAR\);)402 3528 A
1940 V
12 R
(Copy)260 708 A
998(at)S
1116(most)S
1381(len)S
1559(characters)S
2082(from)S
2348(str)S
2500(into)S
2718(result,)S
3048(starting)S
3442(at)S
3560(str[inx].)S
2140 V
11 C
(PROCEDURE)603 1068 A
(Concat\(s1,)670 1738 A
(s2:)201 2475 A
(ARRAY)335 2743 A
3145(OF)S
(CHAR;)335 3346 A
2280 V
(VAR)201 2303 A
(result:)469 2571 A
(ARRAY)335 3107 A
3509(OF)S
(CHAR\);)402 3710 A
2480 V
12 R
708(Concatenate)S
1336(two)S
1548(strings.)S
2680 V
11 C
(PROCEDURE)603 1068 A
(Length\(str:)737 1738 A
(ARRAY)335 2542 A
2944(OF)S
(CHAR\):)402 3145 A
(CARDINAL;)603 3614 A
2880 V
12 R
708(Return)S
1067(number)S
1466(of)S
1597(characters)S
2120(in)S
2244(str.)S
3080 V
11 C
(PROCEDURE)603 1068 A
(CompareStr\(s1,)938 1738 A
(s2:)201 2743 A
(ARRAY)335 3011 A
3413(OF)S
(CHAR\):)402 3614 A
(INTEGER;)536 4083 A
3280 V
12 R
708(Compare)S
1181(two)S
1393(strings,)S
1776(return)S
2096(-1)S
2227(if)S
2332(s1)S
2469(<)S
2567(s2,)S
2734(0)S
2824(if)S
2929(s1)S
3066(=)S
3164(s2,)S
3331(and)S
3535(1)S
3625(if)S
3730(s1)S
3867(>)S
3965(s2.)S
3736 V
12 I
708(Termcap.def)S
3912 V
12 R
708(This)S
(module)362 961 A
1361(provides)S
1815(an)S
(interface)426 1967 A
2431(to)S
2563(termcap)S
2992(database.)S
3508(Use)S
3736(this)S
3950(like)S
4171(the)S
4358(C-version.)S
4934(In)S
5074(this)S
4052 V
(Modula-2)476 708 A
1225(version,)S
1651(some)S
1946(of)S
2087(the)S
2275(buffers)S
2659(that)S
2881(are)S
3070(explicit)S
3474(in)S
3608(the)S
3796(C-version,)S
4343(are)S
4532(hidden.)S
4960(These)S
4192 V
708(buffers)S
1090(are)S
(initialized)486 1277 A
1801(by)S
1959(a)S
2051(call)S
2265(to)S
2397(Tgetent.)S
2866(The)S
3093(``ARRAY)S
3638(OF)S
3832(CHAR'')S
4289(parameters)S
4861(must)S
5135(be)S
4332 V
708(NULL-terminated.)S
1693(You)S
1942(can)S
2151(call)S
2368(them)S
2651(with)S
2908(a)S
3003(constant)S
3447(string)S
3764(argument,)S
4292(as)S
4434(these)S
4723(are)S
4912(always)S
4472 V
708(NULL-terminated)S
1626(in)S
1754(our)S
(Modula-2)476 1949 A
2460(implementation.)S
3315(Unlike)S
3680(the)S
3863(C)S
3978(version,)S
4399(this)S
4609(version)S
5000(takes)S
4612 V
708(care)S
941(of)S
1072(UP,)S
1287(BC,)S
1507(PC,)S
1714(and)S
1918(ospeed)S
2283(automatically.)S
3033(If)S
3145(Tgetent)S
3545(is)S
3656(not)S
3840(called)S
4160(by)S
4310(the)S
4488(user,)S
4750(it)S
4848(is)S
4959(called)S
4752 V
708(by)S
866(the)S
(module)362 1052 A
1452(itself,)S
1764(using)S
2063(the)S
2249(TERM)S
2622(environment)S
3271(variable,)S
3730(or)S
3870(``dumb'')S
4347(if)S
4461(TERM)S
4835(does)S
5095(not)S
4892 V
708(exist.)S
5092 V
11 C
(TYPE)268 1068 A
(STRCAP;)469 1652 A
5232 V
(PUTPROC)469 1652 A
2188(=)S
(PROCEDURE\(CHAR\);)1072 2322 A
5512 V
(PROCEDURE)603 1068 A
(Tgetent\(name:)871 1738 A
(ARRAY)335 2676 A
3078(OF)S
(CHAR\))335 3279 A
3681(:)S
(INTEGER;)536 3815 A
5652 V
(PROCEDURE)603 1068 A
(Tgetnum\(id:)737 1738 A
(ARRAY)335 2542 A
2944(OF)S
(CHAR\):)402 3145 A
(INTEGER;)536 3614 A
5792 V
(PROCEDURE)603 1068 A
(Tgetflag\(id:)804 1738 A
(ARRAY)335 2609 A
3011(OF)S
(CHAR\):)402 3212 A
(BOOLEAN;)536 3681 A
5932 V
(PROCEDURE)603 1068 A
(Tputs\(cp:)603 1738 A
(STRCAP;)469 2408 A
(affcnt:)469 2944 A
(INTEGER;)536 3480 A
4083(p:)S
(PUTPROC\);)603 4284 A
6212 V
(PROCEDURE)603 1068 A
(Tgoto\(cm:)603 1738 A
(STRCAP;)469 2408 A
(col,)268 2944 A
(line:)335 3279 A
(INTEGER\):)603 3681 A
(STRCAP;)469 4351 A
6412 V
12 R
708(Result)S
1047(exists)S
(until)222 1353 A
1605(next)S
1843(call)S
2049(to)S
2173(Tgoto.)S
6612 V
11 C
(PROCEDURE)603 1068 A
(Tgetstr\(id:)737 1738 A
(ARRAY)335 2542 A
2944(OF)S
(CHAR;)335 3145 A
6752 V
(VAR)201 2370 A
(res:)268 2638 A
(STRCAP\))469 2973 A
3509(:)S
(BOOLEAN;)536 3643 A
6952 V
12 R
708(Returns)S
1138(FALSE)S
1562(if)S
1691(the)S
1893(terminal)S
(capability)478 2353 A
2886(does)S
3162(not)S
3371(exist;)S
3689(Result)S
4053(exists)S
(until)222 4384 A
4661(next)S
4924(call)S
5155(to)S
7092 V
708(Tgetent.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(247)180 5069 A
7920 V
EP
%%Page: 248 254
BP
/slant 0 def
/height 0 def
500 V
12 R
(libmod2)402 708 A
1130(\(L\))S
2567(Library)S
2961(Routines)S
(libmod2)402 4671 A
5093(\(L\))S
860 V
12 I
708(Terminal.def)S
1036 V
12 R
708(This)S
(module)362 953 A
1345(provides)S
1791(procedures)S
2352(to)S
2476(do)S
2626(terminal)S
3061(I/O.)S
1236 V
11 C
(PROCEDURE)603 1068 A
(Read\(VAR)536 1738 A
2341(ch)S
2542(:)S
(CHAR\);)402 2676 A
1436 V
12 R
708(Read)S
986(a)S
1070(character)S
1546(from)S
1812(the)S
1990(terminal)S
2425(and)S
2629(leave)S
2915(it)S
3013(in)S
3137(ch.)S
1636 V
11 C
(PROCEDURE)603 1068 A
(BusyRead\(VAR)804 1738 A
2609(ch)S
2810(:)S
(CHAR\);)402 2944 A
1836 V
12 R
708(Read)S
991(a)S
1080(character)S
1561(from)S
1832(the)S
2015(terminal)S
2455(and)S
2664(leave)S
2955(it)S
3058(in)S
3187(ch.)S
3396(This)S
3646(is)S
3762(a)S
(non-blocking)643 3851 A
4529(call.)S
4801(It)S
4912(returns)S
1976 V
708(0C)S
878(in)S
1002(ch)S
1146(if)S
1251(no)S
1401(character)S
1877(was)S
2096(typed.)S
2176 V
11 C
(PROCEDURE)603 1068 A
(ReadAgain;)670 1738 A
2376 V
12 R
708(Causes)S
1080(the)S
1258(last)S
1457(character)S
1933(read)S
2172(to)S
2296(be)S
2440(returned)S
2874(again)S
(upon)240 3166 A
3436(the)S
3614(next)S
3852(call)S
4058(of)S
4189(Read.)S
2576 V
11 C
(PROCEDURE)603 1068 A
(Write\(ch)536 1738 A
2341(:)S
(CHAR\);)402 2475 A
2776 V
12 R
708(Write)S
1015(character)S
1491(ch)S
1635(to)S
1759(the)S
1937(terminal.)S
2976 V
11 C
(PROCEDURE)603 1068 A
(WriteLn;)536 1738 A
3176 V
12 R
708(Terminate)S
1237(line.)S
3376 V
11 C
(PROCEDURE)603 1068 A
(WriteString\(s)871 1738 A
2676(:)S
(ARRAY)335 2810 A
3212(OF)S
(CHAR\);)402 3413 A
3576 V
12 R
708(Write)S
1015(string)S
1321(s)S
1398(to)S
1522(the)S
1700(terminal.)S
4032 V
12 I
708(Traps.def)S
4208 V
12 R
708(This)S
(module)362 953 A
1345(provides)S
1791(a)S
(facility)345 1875 A
2250(for)S
2422(handling)S
2874(traps.)S
4384 V
708(Constants:)S
4584 V
11 C
(ERRTOOLARGE)737 1068 A
2236(\(*)S
(stack)335 2437 A
(size)268 2839 A
3174(of)S
(process)469 3375 A
(too)201 3911 A
(large)335 4179 A
4581(*\))S
4724 V
(ERRTOOMANY)670 1068 A
2236(\(*)S
(too)201 2437 A
(many)268 2705 A
(nested)402 3040 A
(traps)335 3509 A
3911(+)S
(handlers)536 4045 A
4648(*\))S
4864 V
(ERRNORESULT)737 1068 A
2236(\(*)S
2437(no)S
(RETURN)402 2638 A
(from)268 3107 A
(function)536 3442 A
(procedure)603 4045 A
4715(*\))S
5004 V
(ERRCARDOVFL)737 1068 A
2236(\(*)S
(CARDINAL)536 2437 A
(overflow)536 3040 A
3643(*\))S
5144 V
(ERRFORLOOP)670 1068 A
2236(\(*)S
(value)335 2437 A
2839(of)S
(FOR-loop)536 3040 A
(control)469 3643 A
(variable)536 4179 A
5284 V
2303(*)S
(changed)469 2437 A
2973(in)S
(loop)268 3174 A
5424 V
2303(*\))S
5564 V
(ERRCARDUVFL)737 1068 A
2236(\(*)S
(CARDINAL)536 2437 A
(underflow)603 3040 A
3710(*\))S
5704 V
(ERRINTERNAL)737 1068 A
2236(\(*)S
(Internal)536 2437 A
(error;)402 3040 A
(should)402 3509 A
(not)201 3978 A
(happen)402 4246 A
4715(*\))S
5844 V
(ERRUNIXSIG)670 1068 A
2236(\(*)S
(received)536 2437 A
(Amoeba)402 3040 A
(signal)402 3509 A
3978(*\))S
6044 V
12 R
708(Procedures:)S
6244 V
11 C
(TYPE)268 1068 A
(TrapHandler)737 1652 A
2456(=)S
(EM.TrapHandler;)1005 2590 A
6524 V
(PROCEDURE)603 1068 A
(InstallTrapHandler\(t:)1407 1738 A
(TrapHandler\):)871 3212 A
(TrapHandler;)804 4150 A
6724 V
12 R
708(Install)S
1047(a)S
1136(new)S
1373(trap)S
1598(handler,)S
2027(and)S
2237(return)S
2563(the)S
2747(previous)S
3199(one.)S
3469(Parameter)S
3998(of)S
4135(trap)S
4360(handler)S
4759(is)S
4876(the)S
5060(trap)S
6864 V
708(number.)S
1179(When)S
1509(a)S
1605(trap)S
1836(occurs,)S
2224(the)S
2414(default)S
2792(trap)S
3022(handler)S
3426(is)S
3548(re-installed)S
4136(before)S
(calling)330 4487 A
4858(the)S
5047(new)S
7004 V
708(handler.)S
7700 V
(248)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 249 255
BP
/slant 0 def
/height 0 def
500 V
12 R
(libmod2)402 708 A
1130(\(L\))S
2567(Library)S
2961(Routines)S
(libmod2)402 4671 A
5093(\(L\))S
920 V
11 C
(PROCEDURE)603 1068 A
(Message\(str:)804 1738 A
(ARRAY)335 2609 A
3011(OF)S
(CHAR\);)402 3212 A
1120 V
12 R
708(Write)S
1015(message)S
(``str'')286 1455 A
1771(on)S
1921(standard)S
2361(error,)S
(preceded)437 2658 A
3125(by)S
3275(filename)S
3730(and)S
3934(linenumber)S
4515(if)S
4620(possible.)S
1320 V
11 C
(PROCEDURE)603 1068 A
(Trap\(n:)469 1738 A
(INTEGER\);)603 2274 A
1520 V
12 R
708(Cause)S
1033(trap)S
1252(number)S
1651(``n'')S
1905(to)S
2029(occur.)S
1976 V
12 I
708(XXTermcap.def)S
2152 V
12 R
708(Like)S
988(Termcap.def)S
1662(this)S
(module)362 1895 A
2315(provides)S
(interface)426 2789 A
3273(to)S
3425(termcap)S
3874(database,)S
4380(only)S
4653(this)S
(module)362 4887 A
2292 V
(interfaces)473 708 A
1211(directly)S
1612(to)S
1736(C)S
1846(routines.)S
2492 V
11 C
(TYPE)268 1068 A
(PUTPROC)469 1652 A
2188(=)S
(PROCEDURE\(CHAR\);)1072 2322 A
2632 V
(VAR)201 1068 A
(PC:)201 1652 A
(CHAR;)335 1920 A
2772 V
(UP,)201 1652 A
(BC:)201 1920 A
(ADDRESS;)536 2188 A
2912 V
(ospeed:)469 1652 A
(INTEGER[0..32767];)1206 2188 A
3192 V
(PROCEDURE)603 1068 A
(tgetent\(bp,)737 1738 A
(name:)335 2542 A
(ADDRESS\):)603 2944 A
(INTEGER;)536 3614 A
3392 V
12 R
708(``name'')S
1164(must)S
1429(be)S
1573(NULL-terminated.)S
3592 V
11 C
(PROCEDURE)603 1068 A
(tgetnum\(id:)737 1738 A
(ADDRESS\):)603 2542 A
(INTEGER;)536 3212 A
3792 V
12 R
708(``id'')S
996(must)S
1261(be)S
1405(NULL-terminated.)S
3992 V
11 C
(PROCEDURE)603 1068 A
(tgetflag\(id:)804 1738 A
(ADDRESS\):)603 2609 A
(INTEGER;)536 3279 A
4192 V
12 R
708(``id'')S
996(must)S
1261(be)S
1405(NULL-terminated.)S
4392 V
11 C
(PROCEDURE)603 1068 A
(tgetstr\(id:)737 1738 A
(ADDRESS;)536 2542 A
(area:)335 3145 A
(ADDRESS\):)603 3547 A
(ADDRESS;)536 4217 A
4592 V
12 R
708(``id'')S
996(must)S
1261(be)S
1405(NULL-terminated.)S
4792 V
11 C
(PROCEDURE)603 1068 A
(tgoto\(cm:)603 1738 A
(ADDRESS;)536 2408 A
(col,)268 3011 A
(line:)335 3346 A
(INTEGER\))536 3748 A
4351(:)S
(ADDRESS;)536 4485 A
4992 V
12 R
708(``cm'')S
1050(must)S
1315(be)S
1459(NULL-terminated.)S
5192 V
11 C
(PROCEDURE)603 1068 A
(tputs\(cp:)603 1738 A
(ADDRESS;)536 2408 A
(affcnt:)469 3011 A
(INTEGER;)536 3547 A
4150(p:)S
(PUTPROC\);)603 4351 A
5392 V
12 R
708(``cm'')S
1050(must)S
1315(be)S
1459(NULL-terminated.)S
5848 V
12 I
(random.def)553 708 A
6024 V
12 R
708(This)S
(module)362 953 A
1345(provides)S
(random)369 1791 A
2190(numbers.)S
6224 V
11 C
(PROCEDURE)603 1068 A
(Random\(\):)603 1738 A
(CARDINAL;)603 2408 A
6424 V
12 R
708(Return)S
1067(a)S
(random)369 1151 A
1550(CARDINAL.)S
6624 V
11 C
(PROCEDURE)603 1068 A
(Uniform)469 1738 A
(\(lwb,)335 2274 A
(upb:)268 2676 A
(CARDINAL\):)670 3011 A
(CARDINAL;)603 3748 A
6824 V
12 R
708(Return)S
1085(CARDINALs,)S
1837(uniformly)S
2369(distributed)S
2935(between)S
3387(``lwb'')S
3781(and)S
(``upb''.)374 4003 A
4456(``lwb'')S
4851(must)S
5135(be)S
6964 V
708(smaller)S
1096(than)S
(``upb'',)374 1334 A
1738(or)S
1869(``lwb'')S
2245(is)S
2356(returned.)S
7164 V
11 C
(PROCEDURE)603 1068 A
(StartSeed\(seed:)1005 1738 A
(CARDINAL\);)670 2810 A
7700 V
12 R
2683(Amoeba)S
3123(5.3)S
(249)180 5069 A
7920 V
EP
%%Page: 250 256
BP
/slant 0 def
/height 0 def
500 V
12 R
(libmod2)402 708 A
1130(\(L\))S
2567(Library)S
2961(Routines)S
(libmod2)402 4671 A
5093(\(L\))S
860 V
(Initialize)433 708 A
1179(the)S
1365(generator.)S
1921(It)S
2034(is)S
2153(not)S
2345(essential)S
2802(to)S
2935(call)S
3150(this)S
3364(procedure,)S
3917(unless)S
4258(it)S
4365(is)S
4485(not)S
4678(desired)S
5067(that)S
1000 V
708(the)S
886(system)S
1252(pick)S
1490(a)S
1574(starting)S
1968(value)S
2260(for)S
2432(itself.)S
7700 V
(250)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 251 257
BP
/slant 0 def
/height 0 def
500 V
12 R
708(libpc)S
970(\(L\))S
2567(Library)S
2961(Routines)S
4831(libpc)S
5093(\(L\))S
860 V
2481(\(in)S
2646(libraries:)S
3109(libpc.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(libpc)S
12 R-1
980(-)S
12 R
1108(library)S
1462(of)S
1593(external)S
2014(routines)S
2434(for)S
2606(Pascal)S
2946(programs)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(const)335 708 A
(bufsize)469 1368 A
1904(=)S
2038(?;)S
2042 V
(type)268 708 A
(br1)201 1368 A
1636(=)S
(1..bufsize;)737 1837 A
2182 V
(br2)201 1368 A
1636(=)S
(0..bufsize;)737 1837 A
2322 V
(br3)201 1368 A
1636(=)S
(-1..bufsize;)804 1770 A
2462 V
1368(ok)S
1569(=)S
(-1..0;)402 1703 A
2602 V
(buf)201 1368 A
1636(=)S
(packed)402 1770 A
(array[br1])670 2239 A
2976(of)S
(char;)335 3177 A
2742 V
(alfa)268 1368 A
1703(=)S
(packed)402 1837 A
(array[1..8])737 2306 A
3110(of)S
(char;)335 3311 A
2882 V
(string)402 1368 A
1837(=)S
(\303packed)469 1971 A
(array[1..?])737 2507 A
3311(of)S
(char;)335 3512 A
3022 V
(filetype)536 1368 A
1971(=)S
(file)268 2105 A
2440(of)S
2641(?;)S
3162 V
(long)268 1368 A
1703(=)S
1837(?;)S
3372 V
({all)268 708 A
(routines)536 1043 A
(must)268 1646 A
1981(be)S
(declared)536 2182 A
(extern})469 2785 A
3582 V
(function)536 708 A
(argc:integer;)871 1368 A
3722 V
(function)536 708 A
(argv\(i:integer\):string;)1541 1368 A
3862 V
(function)536 708 A
(environ\(i:integer\):string;)1742 1368 A
4002 V
(procedure)603 708 A
(argshift;)603 1368 A
4212 V
(procedure)603 708 A
(buff\(var)536 1368 A
(f:filetype\);)804 1971 A
4352 V
(procedure)603 708 A
(nobuff\(var)670 1368 A
(f:filetype\);)804 2105 A
4492 V
(procedure)603 708 A
(notext\(var)670 1368 A
(f:text\);)536 2105 A
4632 V
(procedure)603 708 A
(diag\(var)536 1368 A
(f:text\);)536 1971 A
4772 V
(procedure)603 708 A
(pcreat\(var)670 1368 A
(f:text;)469 2105 A
(s:string\);)670 2641 A
4912 V
(procedure)603 708 A
(popen\(var)603 1368 A
(f:text;)469 2038 A
(s:string\);)670 2574 A
5052 V
(procedure)603 708 A
(pclose\(var)670 1368 A
(f:filetype\);)804 2105 A
5262 V
(procedure)603 708 A
(trap\(err:integer\);)1206 1368 A
5402 V
(procedure)603 708 A
(encaps\(procedure)1072 1368 A
2507(p;)S
(procedure)603 2708 A
(q\(n:integer\)\);)938 3378 A
5612 V
(function)536 708 A
(perrno:integer;)1005 1368 A
5752 V
(function)536 708 A
(uread\(fd:integer;)1139 1368 A
(var)201 2574 A
(b:buf;)402 2842 A
(len:br1\):br3;)871 3311 A
5892 V
(function)536 708 A
(uwrite\(fd:integer;)1206 1368 A
(var)201 2641 A
(b:buf;)402 2909 A
(len:br1\):br3;)871 3378 A
6102 V
(function)536 708 A
(strbuf\(var)670 1368 A
(b:buf\):string;)938 2105 A
6242 V
(function)536 708 A
(strtobuf\(s:string;)1206 1368 A
(var)201 2641 A
(b:buf;)402 2909 A
(len:br1\):br2;)871 3378 A
6382 V
(function)536 708 A
(strlen\(s:string\):integer;)1675 1368 A
6522 V
(function)536 708 A
(strfetch\(s:string;)1206 1368 A
(i:integer\):char;)1072 2641 A
6662 V
(procedure)603 708 A
(strstore\(s:string;)1206 1368 A
(i:integer;)670 2641 A
(c:char\);)536 3378 A
6872 V
(function)536 708 A
(clock:integer;)938 1368 A
7700 V
12 R
2683(Amoeba)S
3123(5.3)S
(251)180 5069 A
7920 V
EP
%%Page: 252 258
BP
/slant 0 def
/height 0 def
500 V
12 R
708(libpc)S
970(\(L\))S
2567(Library)S
2961(Routines)S
4831(libpc)S
5093(\(L\))S
860 V
12 B
708(Description)S
1036 V
12 R
708(This)S
968(library)S
1337(contains)S
1785(some)S
2085(often)S
2379(used)S
2645(external)S
3082(routines)S
3518(for)S
3706(Pascal)S
4062(programs.)S
4625(The)S
4859(routines)S
1176 V
708(can)S
906(be)S
1050(divided)S
1442(into)S
1660(several)S
2034(categories:)S
1352 V
708(Argument)S
1229(control:)S
1528 V
958(argc)S
1558(Gives)S
1871(the)S
2049(number)S
2448(of)S
2579(arguments)S
3113(provided)S
3572(when)S
3864(the)S
4042(program)S
4482(is)S
4593(called.)S
1704 V
958(argv)S
1558(Selects)S
1938(the)S
2123(specified)S
2598(argument)S
3092(from)S
3365(the)S
3550(argument)S
4044(list)S
4230(and)S
4441(returns)S
4815(a)S
4906(pointer)S
1844 V
1558(to)S
1682(it.)S
1840(This)S
2085(pointer)S
2458(is)S
2569(nil)S
2727(if)S
2832(the)S
3010(index)S
3308(is)S
3419(out)S
3603(of)S
(bounds)347 3734 A
4111(\(<0)S
4310(or)S
4441(>=argc\).)S
2020 V
958(environ)S
1558(Returns)S
1976(a)S
2072(pointer)S
2457(to)S
2593(the)S
2783(i-th)S
2995(environment)S
3649(string)S
3968(\(i>=0\).)S
4383(Returns)S
4802(nil)S
4973(if)S
5091(i)S
5168(is)S
2160 V
(beyond)354 1558 A
1942(the)S
2120(end)S
2324(of)S
2455(the)S
2633(environment)S
3274(list.)S
2336 V
958(argshift)S
1558(Effectively)S
2130(deletes)S
2499(the)S
2679(first)S
2908(argument)S
3397(from)S
3665(the)S
3845(argument)S
4335(list.)S
4577(Its)S
4732(function)S
5168(is)S
2476 V
1558(equivalent)S
2112(to)S
12 I
(shift)209 2256 A
12 R
2515(in)S
2659(the)S
2857(Bourne)S
(shell:)263 3262 A
3575(argv[2])S
3982(becomes)S
4455(argv[1],)S
4892(argv[3])S
2616 V
1558(becomes)S
2054(argv[2],)S
2514(etc.)S
2789(It)S
2937(is)S
3091(a)S
3219(useful)S
3589(procedure)S
4147(to)S
4315(skip)S
4590(optional)S
5060(flag)S
2756 V
1558(arguments.)S
2170(Note)S
2454(that)S
2684(the)S
2880(matching)S
3378(of)S
3527(arguments)S
4079(and)S
4300(files)S
4557(is)S
(done)234 4685 A
4966(at)S
5101(the)S
2896 V
1558(time)S
1804(a)S
1888(file)S
2081(is)S
2192(opened)S
2570(by)S
2720(a)S
2804(call)S
3010(to)S
3134(reset)S
3394(or)S
3525(rewrite.)S
3072 V
(Additional)518 708 A
1256(file)S
1449(handling)S
1901(routines:)S
3248 V
958(buff)S
1558(Turn)S
1832(on)S
1991(buffering)S
2481(of)S
2621(a)S
2714(file.)S
2976(Not)S
3197(very)S
3451(useful,)S
(because)383 3816 A
4238(all)S
4399(files)S
4649(are)S
4838(buffered)S
3388 V
1558(except)S
1915(standard)S
2366(output)S
2715(to)S
2850(a)S
2945(terminal)S
3391(and)S
(diagnostic)497 3606 A
4144(output.)S
(Input)255 4553 A
4849(files)S
5100(are)S
3528 V
1558(always)S
1925(buffered.)S
3704 V
(nobuff)322 958 A
1558(Turn)S
1837(off)S
2023(buffering)S
2518(of)S
2664(an)S
2823(output)S
3176(file.)S
3444(It)S
3564(causes)S
3925(the)S
4118(current)S
4507(contents)S
4955(of)S
5101(the)S
3844 V
1558(buffer)S
1885(to)S
2009(be)S
2153(flushed.)S
4020 V
958(notext)S
1558(Only)S
1848(useful)S
2192(for)S
(input)248 2383 A
2680(files.)S
2999(End)S
3242(of)S
3392(line)S
3623(characters)S
4165(are)S
4363(not)S
(replaced)411 4566 A
5026(by)S
5195(a)S
4160 V
(space)269 1558 A
1866(and)S
2079(character)S
2564(codes)S
2878(out)S
3071(of)S
3210(the)S
3396(ASCII)S
3751(range)S
(\(0..127\))382 4058 A
4478(do)S
4636(not)S
4828(cause)S
5135(an)S
4300 V
1558(error)S
1825(message.)S
4476 V
958(diag)S
(Initialize)433 1558 A
2024(a)S
2111(file)S
2308(for)S
2484(output)S
2826(on)S
2980(the)S
(diagnostic)497 3162 A
3693(output)S
4035(stream)S
4393(\(fd=2\).)S
4798(Output)S
5168(is)S
4616 V
1558(not)S
1742(buffered.)S
4792 V
958(pcreat)S
1558(The)S
1779(same)S
2061(as)S
(rewrite\(f\),)499 2196 A
2729(except)S
3079(that)S
(you)180 3295 A
3509(must)S
3778(provide)S
4181(the)S
4363(filename)S
(yourself.)427 4822 A
4932 V
1558(The)S
1776(name)S
2068(must)S
2333(be)S
2477(zero)S
2716(terminated.)S
3325(Only)S
3597(text)S
3809(files)S
4049(are)S
4228(allowed.)S
5108 V
(popen)294 958 A
1558(The)S
1790(same)S
2083(as)S
(reset\(f\),)383 2228 A
2655(except)S
3015(that)S
(you)180 3241 A
3465(must)S
3745(provide)S
4159(the)S
4352(filename)S
(yourself.)427 4822 A
5248 V
1558(The)S
1776(name)S
2068(must)S
2333(be)S
2477(zero)S
2716(terminated.)S
3325(Only)S
3597(text)S
3809(files)S
4049(are)S
4228(allowed.)S
5424 V
958(pclose)S
1558(Gives)S
(you)180 1888 A
2115(the)S
(opportunity)563 2310 A
2920(to)S
3061(close)S
3358(files)S
3616(hidden)S
3992(in)S
4134(records)S
4539(or)S
4688(arrays.)S
5093(All)S
5564 V
1558(other)S
1837(files)S
2077(are)S
2256(closed)S
2595(automatically.)S
5740 V
708(String)S
1034(handling:)S
5916 V
958(strbuf)S
1558(Type)S
(conversion)530 1902 A
2528(from)S
2860(character)S
3402(array)S
3749(to)S
3940(string.)S
4373(It)S
4545(is)S
(your)221 4723 A
5041(own)S
6056 V
(responsibility)659 1558 A
2247(that)S
2459(the)S
2637(string)S
2943(is)S
3054(zero)S
3293(terminated.)S
6232 V
(strtobuf)377 958 A
(Copy)260 1558 A
1866(string)S
2190(into)S
2426(buffer)S
(until)222 2772 A
3043(the)S
3240(string)S
3565(terminating)S
4173(zero)S
4431(byte)S
4688(is)S
(found)281 4818 A
5148(or)S
6372 V
(until)222 1558 A
1819(the)S
2006(buffer)S
2342(if)S
2456(full,)S
2694(whatever)S
3178(comes)S
3526(first.)S
3822(The)S
4049(zero)S
4297(byte)S
4544(is)S
4664(also)S
4897(copied.)S
6512 V
1558(The)S
1776(number)S
2175(of)S
2307(copied)S
2660(characters,)S
3214(excluding)S
3721(the)S
3900(zero)S
4140(byte,)S
4409(is)S
4521(returned.)S
5016(So)S
5174(if)S
6652 V
1558(the)S
1755(result)S
2073(is)S
2202(equal)S
2512(to)S
2654(the)S
2850(buffer)S
3195(length,)S
3575(then)S
3831(the)S
4027(end)S
4249(of)S
4398(buffer)S
4743(is)S
(reached)377 4872 A
6792 V
1558(before)S
1898(the)S
2076(end)S
2280(of)S
2411(string.)S
6968 V
958(strlen)S
1558(Returns)S
1964(the)S
2142(string)S
2448(length)S
2780(excluding)S
3286(the)S
3464(terminating)S
4053(zero)S
4292(byte.)S
7144 V
958(strfetch)S
1558(Fetches)S
1958(the)S
2136(i-th)S
2335(character)S
2811(from)S
3078(a)S
3163(string.)S
3530(There)S
3844(is)S
3956(no)S
4107(check)S
4420(against)S
4794(the)S
4973(string)S
7284 V
1558(length.)S
7700 V
(252)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 253 259
BP
/slant 0 def
/height 0 def
500 V
12 R
708(libpc)S
970(\(L\))S
2567(Library)S
2961(Routines)S
4831(libpc)S
5093(\(L\))S
860 V
958(strstore)S
1558(Stores)S
1905(a)S
2003(character)S
2493(in)S
2631(a)S
2729(string.)S
3110(There)S
3438(is)S
3564(no)S
3729(check)S
4056(against)S
4444(string)S
4765(length,)S
5142(so)S
1000 V
1558(this)S
1763(is)S
1874(a)S
1958(dangerous)S
2484(procedure.)S
1176 V
708(Trap)S
967(handling:)S
1316 V
958(These)S
1277(routines)S
1697(allow)S
(you)180 1997 A
2207(to)S
2331(handle)S
2683(almost)S
3036(all)S
3188(the)S
3366(possible)S
3792(error)S
4059(situations)S
(yourself.)427 4553 A
5041(You)S
1456 V
958(may)S
1203(define)S
(your)221 1543 A
1801(own)S
2046(trap)S
2272(handler,)S
(written)345 2702 A
3084(in)S
3215(Pascal,)S
3592(instead)S
3972(of)S
4110(the)S
4295(default)S
4668(handler)S
5067(that)S
1596 V
(produces)436 958 A
1424(an)S
1568(error)S
1835(message)S
2275(and)S
2479(quits.)S
2804(You)S
3042(may)S
3280(also)S
3505(generate)S
3946(traps)S
(yourself.)427 4212 A
1772 V
958(trap)S
1558(Trap)S
1842(generates)S
2355(the)S
2558(trap)S
2802(passed)S
3179(as)S
3335(argument)S
(\(0..252\).)412 3847 A
4344(The)S
4588(trap)S
4833(numbers)S
1912 V
(128..252)420 1558 A
2008(may)S
2246(be)S
2390(used)S
2641(freely.)S
3015(The)S
3233(others)S
3559(are)S
3738(reserved.)S
2088 V
958(encaps)S
1558(Encapsulate)S
2176(the)S
2357(execution)S
2860(of)S
12 I
2994(p)S
12 R
3087(with)S
3336(the)S
3517(trap)S
3739(handler)S
12 I
4135(q)S
12 R
4195(.)S
4288(Encaps)S
(replaces)398 4670 A
5101(the)S
2228 V
1558(previous)S
2007(trap)S
2229(handler)S
2625(by)S
12 I
2778(q)S
12 R
2838(,)S
2901(calls)S
12 I
3157(p)S
12 R
3250(and)S
3457(restores)S
3868(the)S
4049(previous)S
4498(handler)S
4894(when)S
12 I
5189(p)S
2368 V
12 R
1558(returns.)S
1986(If,)S
2129(during)S
2475(the)S
2654(execution)S
3155(of)S
12 I
3287(p)S
12 R
3347(,)S
3408(a)S
3493(trap)S
3713(occurs,)S
4090(then)S
12 I
4329(q)S
12 R
4420(is)S
4532(called)S
4853(with)S
5101(the)S
2508 V
1558(trap)S
1779(number)S
2180(as)S
2313(parameter.)S
2891(For)S
3091(the)S
3271(duration)S
3705(of)S
12 I
3837(q)S
12 R
3928(the)S
4107(previous)S
4554(trap)S
4774(handler)S
5168(is)S
2648 V
1558(restored,)S
2012(so)S
2152(that)S
(you)180 2367 A
2580(may)S
2821(handle)S
3176(only)S
3423(some)S
3711(of)S
3846(the)S
4028(errors)S
4346(in)S
12 I
4474(q)S
12 R
4534(.)S
4628(All)S
4818(the)S
5000(other)S
2788 V
1558(errors)S
1872(must)S
2137(then)S
2375(be)S
2519(raised)S
2839(again)S
3131(by)S
3281(a)S
3365(call)S
3571(to)S
12 I
3695(trap)S
12 R
3896(.)S
2928 V
1558(Encapsulations)S
2349(may)S
2616(be)S
2789(nested:)S
(you)180 3191 A
3430(may)S
3697(encapsulate)S
4321(a)S
4435(procedure)S
4979(while)S
3068 V
1558(executing)S
2058(an)S
2202(encapsulated)S
2857(routine.)S
3208 V
1558(Jumping)S
2021(out)S
2223(of)S
2372(an)S
2535(encapsulated)S
3209(procedure)S
(\(non-local)498 3742 A
4289(goto\))S
4593(is)S
4723(dangerous,)S
3348 V
(because)383 1558 A
1991(the)S
2189(previous)S
2655(trap)S
2894(handler)S
3307(must)S
3591(be)S
3754(restored.)S
4254(Therefore,)S
(you)180 4812 A
5041(may)S
3488 V
1558(only)S
1809(jump)S
2094(out)S
2285(of)S
2423(procedure)S
12 I
2945(p)S
12 R
3043(from)S
3317(inside)S
12 I
3644(q)S
12 R
3742(and)S
(you)180 3954 A
4172(may)S
4418(only)S
4670(jump)S
4956(out)S
5148(of)S
3628 V
1558(one)S
1762(level)S
2028(of)S
2159(encapsulation.)S
2914(Note)S
3180(that)S
12 I
3392(p)S
12 R
3482(may)S
3720(not)S
3904(have)S
4162(parameters.)S
3804 V
708(Ajax)S
974(calls)S
1227(\(Amoeba)S
11 R
1706(UNIX)S
12 R
1983(-emulation\):)S
3980 V
958(uread)S
1558(Equal)S
1879(to)S
2012(the)S
2200(read)S
2449(system)S
2825(call.)S
3101(Its)S
3263(normal)S
3646(name)S
3948(is)S
4069(blocked)S
4491(by)S
4651(the)S
4839(standard)S
4120 V
1558(Pascal)S
1898(routine)S
2271(read.)S
4296 V
958(uwrite)S
1558(As)S
(above)288 1723 A
2041(but)S
2225(for)S
12 I
2397(write)S
12 R
2656(.)S
4472 V
958(perrno)S
(Because)403 1558 A
2015(external)S
2460(data)S
2716(references)S
3270(are)S
3473(not)S
3681(possible)S
4132(in)S
4281(Pascal,)S
4676(this)S
4906(routine)S
4612 V
1558(returns)S
1925(the)S
2103(global)S
2435(variable)S
2856(errno,)S
3172(indicating)S
3686(the)S
3864(result)S
4164(of)S
4295(the)S
4473(last)S
4672(system)S
5038(call.)S
4788 V
708(Miscellaneous:)S
4964 V
958(clock)S
1558(Return)S
1947(the)S
2155(number)S
2584(of)S
2746(ticks)S
3036(of)S
3198(user)S
3461(and)S
3696(system)S
4093(time)S
4370(consumed)S
4920(by)S
5101(the)S
5104 V
1558(program.)S
5420 V
12 I
708(Examples)S
5596 V
12 R
708(The)S
959(following)S
1493(program)S
1966(presents)S
2426(an)S
2603(example)S
3076(of)S
3240(how)S
3512(these)S
3825(routines)S
4279(can)S
4511(be)S
4689(used.)S
5034(This)S
5736 V
708(program)S
1148(is)S
1259(equivalent)S
1793(to)S
1917(the)S
2095(command)S
2601(cat\(U\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(253)180 5069 A
7920 V
EP
%%Page: 254 260
BP
/slant 0 def
/height 0 def
500 V
12 R
708(libpc)S
970(\(L\))S
2567(Library)S
2961(Routines)S
4831(libpc)S
5093(\(L\))S
920 V
11 C
({$c+})335 1068 A
1060 V
(program)469 1068 A
(cat\(input,inp,output\);)1474 1604 A
1200 V
(var)201 1068 A
(inp:text;)603 1652 A
1340 V
(s:string;)603 1652 A
1620 V
(function)536 1068 A
(argc:integer;)871 1671 A
(extern;)469 2609 A
1760 V
(function)536 1068 A
(argv\(i:integer\):string;)1541 1671 A
(extern;)469 3279 A
1900 V
(procedure)603 1068 A
(argshift;)603 1738 A
(extern;)469 2408 A
2040 V
(function)536 1068 A
(strlen\(s:string\):integer;)1675 1671 A
(extern;)469 3413 A
2180 V
(function)536 1068 A
(strfetch\(s:string;)1206 1671 A
(i:integer\):char;)1072 2944 A
(extern;)469 4083 A
2460 V
(procedure)603 1068 A
(copy\(var)536 1738 A
(fi:text\);)603 2341 A
2600 V
(var)201 1068 A
(c:char;)469 1336 A
2740 V
(begin)335 1068 A
(reset\(fi\);)670 1470 A
2880 V
(while)335 1202 A
(not)201 1604 A
(eof\(fi\))469 1872 A
2408(do)S
3020 V
(begin)335 1202 A
3160 V
(while)335 1336 A
(not)201 1738 A
(eoln\(fi\))536 2006 A
2609(do)S
3300 V
(begin)335 1336 A
3440 V
(read\(fi,c\);)737 1470 A
3580 V
(write\(c\))536 1470 A
3720 V
(end;)268 1336 A
3860 V
(readln\(fi\);)737 1336 A
4000 V
(writeln)469 1336 A
4140 V
(end)201 1202 A
4280 V
(end;)268 1068 A
4560 V
(begin)335 1068 A
({main})402 1537 A
4700 V
1202(if)S
(argc)268 1403 A
1738(=)S
1872(1)S
(then)268 2006 A
4840 V
(copy\(input\))737 1652 A
4980 V
(else)268 1202 A
5120 V
(repeat)402 1336 A
5260 V
1470(s)S
1604(:=)S
(argv\(1\);)536 1805 A
5400 V
1470(if)S
(\(strlen\(s\))670 1671 A
2408(=)S
2542(1\))S
(and)201 2743 A
(\(strfetch\(s,1\))938 3011 A
4016(=)S
('-'\))268 4150 A
5540 V
(then)268 1470 A
(copy\(input\))737 1805 A
5680 V
(else)268 1470 A
(copy\(inp\);)670 1805 A
5820 V
(argshift;)603 1470 A
5960 V
(until)335 1336 A
(argc)268 1738 A
2073(<=)S
2274(1;)S
6100 V
(end.)268 1068 A
6336 V
12 R
708(Another)S
1135(example)S
1575(gives)S
1860(some)S
2145(idea)S
2377(of)S
2508(the)S
2686(way)S
2918(to)S
3042(manage)S
3448(trap)S
3667(handling:)S
7700 V
(254)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 255 261
BP
/slant 0 def
/height 0 def
500 V
12 R
708(libpc)S
970(\(L\))S
2567(Library)S
2961(Routines)S
4831(libpc)S
5093(\(L\))S
920 V
11 C
(program)469 1068 A
(bigreal\(output\);)1072 1604 A
1060 V
(const)335 1068 A
(EFOVFL=4;)603 1470 A
1200 V
(var)201 1068 A
(trapped:boolean;)1072 1336 A
1480 V
(procedure)603 1068 A
(encaps\(procedure)1072 1738 A
2877(p;)S
(procedure)603 3078 A
(q\(n:integer\)\);)938 3748 A
(extern;)469 4753 A
1620 V
(procedure)603 1068 A
(trap\(n:integer\);)1072 1738 A
(extern;)469 2877 A
1900 V
(procedure)603 1068 A
(traphandler\(n:integer\);)1541 1738 A
2040 V
(begin)335 1068 A
1470(if)S
(n=EFOVFL)536 1671 A
(then)268 2274 A
(trapped:=true)871 2609 A
(else)268 3547 A
(trap\(n\))469 3882 A
(end;)268 4418 A
2320 V
(procedure)603 1068 A
(work;)335 1738 A
2460 V
(var)201 1068 A
(i,j:real;)603 1336 A
2600 V
(begin)335 1068 A
(trapped:=false;)1005 1470 A
(i:=1;)335 2542 A
2740 V
(while)335 1202 A
(not)201 1604 A
(trapped)469 1872 A
2408(do)S
2880 V
(begin)335 1336 A
(j:=i;)335 1738 A
(i:=i*2)402 2140 A
(end;)268 2609 A
3020 V
(writeln\('bigreal)1072 1202 A
2341(=)S
(',j\);)335 2475 A
3160 V
(end;)268 1068 A
3440 V
(begin)335 1068 A
3580 V
(encaps\(work,traphandler\);)1675 1202 A
3720 V
(end.)268 1068 A
4096 V
12 I
(Diagnostics)578 708 A
4272 V
12 R
708(Two)S
960(routines)S
1380(may)S
1618(cause)S
1917(fatal)S
2164(error)S
2431(messages)S
2918(to)S
3042(be)S
3186(generated.)S
3747(These)S
4066(are:)S
4448 V
708(pcreat)S
1308(Rewrite)S
1723(error)S
1990(\(trap)S
2250(77\))S
2441(if)S
2546(the)S
2724(file)S
(cannot)322 2917 A
3269(be)S
3413(created.)S
4624 V
(popen)294 708 A
1308(Reset)S
1607(error)S
1874(\(trap)S
2134(76\))S
2325(if)S
2430(the)S
2608(file)S
(cannot)322 2801 A
3153(be)S
3297(opened)S
3675(for)S
3847(reading)S
4940 V
12 I
708(Files)S
5116 V
(/profile/module/ack/lib/arch/tail)1562 708 A
12 Y1
2270(3)S
12 I
2330(pc)S
12 R
2454(:)S
2518(the)S
2696(library)S
3050(itself.)S
5396 V
12 B
708(See)S
913(Also)S
5572 V
12 R
708(ack\(U\),)S
1106(pc\(U\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(255)180 5069 A
7920 V
EP
%%Page: 256 262
BP
/slant 0 def
/height 0 def
500 V
12 R
708(malloc)S
1058(\(L\))S
2567(Library)S
2961(Routines)S
4743(malloc)S
5093(\(L\))S
860 V
2062(\(in)S
2227(libraries:)S
2690(libamoeba.a,)S
3338(libkernel.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(malloc)S
12 R-1
1068(-)S
12 R
1196(memory)S
1629(allocation)S
2137(package)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("stdlib.h")670 1311 A
2182 V
(void)268 708 A
1043(*)S
(malloc\(size\))804 1177 A
2322 V
(void)268 708 A
1043(*)S
(calloc\(num,)737 1177 A
(elmsize\))536 1981 A
2462 V
(void)268 708 A
1043(*)S
(realloc\(ptr,)804 1177 A
(newsize\))536 2048 A
2742 V
(void)268 708 A
(free\(ptr\))603 1043 A
3082 V
12 B
708(Description)S
3258 V
12 R
708(This)S
(module)362 971 A
1381(provides)S
1845(a)S
1947(memory)S
2398(allocation)S
2924(package)S
3368(for)S
3559(user)S
3810(processes.)S
4383(It)S
4507(provides)S
4972(linear)S
3398 V
708(performance.)S
12 I
1428(Malloc,)S
1858(calloc)S
12 R
2211(and)S
12 I
2432(realloc)S
12 R
2832(all)S
3001(return)S
3338(a)S
3439(pointer)S
3829(to)S
3969(memory)S
4418(guaranteed)S
4995(to)S
5135(be)S
3538 V
708(sufficiently)S
1322(aligned)S
1739(for)S
1942(any)S
2177(hardware)S
2691(alignment)S
3237(restrictions)S
3839(on)S
4021(any)S
4257(data)S
4521(type.)S
4851(In)S
5014(most)S
3678 V
708(implementations)S
1545(this)S
1750(is)S
1861(8-byte)S
2200(alignment.)S
3854 V
708(The)S
929(package)S
1359(maintains)S
1864(a)S
1952(free)S
2176(list)S
2359(of)S
2494(any)S
2702(memory)S
3139(that)S
3355(it)S
3457(has)S
3652(available)S
4124(for)S
4300(use.)S
4555(If)S
4671(the)S
4853(package)S
3994 V
708(has)S
915(insufficient)S
1514(memory)S
1963(to)S
2103(satisfy)S
2466(a)S
2566(request)S
2961(it)S
3074(attempts)S
3530(to)S
3669(create)S
4005(a)S
4104(new)S
4351(segment)S
4799(with)S
5060(size)S
4134 V
(rounded)395 708 A
1137(up)S
1291(to)S
1419(the)S
1601(nearest)S
1979(click)S
2249(size)S
2472(larger)S
2790(than)S
3032(or)S
3167(equal)S
3463(to)S
3591(the)S
(amount)362 3773 A
4169(of)S
4304(memory)S
4742(it)S
4845(needs)S
5155(to)S
4274 V
708(satisfy)S
1074(the)S
1271(current)S
1664(request.)S
2123(Any)S
(unused)341 2380 A
2770(memory)S
3222(in)S
3365(the)S
3562(segment)S
4014(is)S
4144(kept)S
4401(on)S
4570(a)S
4672(free)S
4910(list)S
5107(for)S
4414 V
708(satisfying)S
1209(further)S
1570(requests)S
1997(for)S
2169(memory.)S
4590 V
708(Note)S
980(that)S
(writing)351 1198 A
1585(to)S
1715(memory)S
2154(immediately)S
2796(before)S
3142(or)S
3279(after)S
3539(the)S
(piece)256 3723 A
4015(allocated)S
(will)190 4489 A
4715(corrupt)S
5101(the)S
4730 V
708(memory)S
1160(administration)S
1909(and/or)S
2267(result)S
2586(in)S
2729(an)S
2892(exception.)S
3471(If)S
3602(a)S
3705(program)S
4164(crashes)S
4570(in)S
4713(the)S
12 I
4909(malloc)S
4870 V
12 R
708(package)S
1134(then)S
1372(this)S
1577(is)S
1688(almost)S
2041(certainly)S
2496(happening)S
(\(although)463 3028 A
3521(see)S
12 I
3706(free)S
12 R
3935(below\).)S
5186 V
12 I
708(Functions)S
5538 V
708(malloc)S
5774 V
11 C
(void)268 1068 A
1403(*)S
5914 V
(malloc\(size\))804 1068 A
6054 V
(size)268 1068 A
11 Y1
1336(3)S
11 C
1391(t)S
(size;)335 1525 A
6254 V
12 I
708(Malloc)S
12 R
1093(allocates)S
1550(memory)S
1985(and)S
2191(returns)S
2561(a)S
2648(pointer)S
3024(to)S
3151(a)S
(piece)256 3238 A
3527(of)S
3661(memory)S
4097(of)S
12 I
4231(size)S
12 R
4456(bytes.)S
4804(It)S
4912(returns)S
6394 V
708(the)S
886(NULL-pointer)S
1624(if)S
1729(it)S
1827(was)S
2046(unable)S
2398(to)S
2522(allocate)S
2930(sufficient)S
3419(memory.)S
7700 V
(256)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 257 263
BP
/slant 0 def
/height 0 def
500 V
12 R
708(malloc)S
1058(\(L\))S
2567(Library)S
2961(Routines)S
4743(malloc)S
5093(\(L\))S
860 V
12 I
708(realloc)S
1096 V
11 C
(void)268 1068 A
1403(*)S
1236 V
(realloc\(ptr,)804 1068 A
(newsize\))536 1939 A
1376 V
(void)268 1068 A
(*ptr;)335 1403 A
1516 V
(size)268 1068 A
11 Y1
1336(3)S
11 C
1391(t)S
(newsize;)536 1525 A
1716 V
12 I
708(Realloc)S
12 R
1127(attempts)S
1577(to)S
1710(grow/shrink)S
2334(the)S
(piece)256 2521 A
2816(of)S
2956(memory)S
3398(pointed)S
3799(to)S
3932(by)S
12 I
4091(ptr)S
12 R
4282(to)S
4416(the)S
4604(size)S
12 I
4833(newsize)S
12 R
5219(.)S
1856 V
12 I
708(Ptr)S
12 R
906(must)S
1174(be)S
1321(a)S
1408(pointer)S
1784(returned)S
2220(by)S
2372(either)S
12 I
2681(malloc)S
12 R
3021(,)S
12 I
3083(calloc)S
12 R
3421(or)S
12 I
3554(realloc)S
12 R
3907(.)S
3999(If)S
4113(it)S
4213(has)S
4406(to)S
4532(grow)S
4813(the)S
(piece)256 4993 A
1996 V
708(of)S
844(memory)S
1282(and)S
1491(there)S
1769(is)S
1885(no)S
(space)269 2040 A
2344(to)S
2473(extend)S
2830(the)S
3013(current)S
(piece,)286 3392 A
3713(it)S
(will)190 3816 A
4041(have)S
4305(to)S
4435(allocate)S
4849(a)S
4939(totally)S
2136 V
708(new)S
(piece)256 965 A
1276(of)S
1432(memory)S
1890(and)S
(copy)234 2119 A
2408(the)S
2611(data)S
2868(from)S
3159(the)S
3362(original)S
(piece.)286 3794 A
4165(The)S
4407(original)S
(piece)256 4838 A
5148(of)S
2276 V
708(memory)S
(will)190 1158 A
1395(go)S
1562(onto)S
1823(the)S
2018(free)S
2255(list)S
2451(in)S
2592(this)S
2815(case.)S
3132(Therefore)S
3659(it)S
3775(is)S
3904(not)S
4106(wise)S
4377(to)S
4519(use)S
12 I
4728(realloc)S
12 R
5129(on)S
2416 V
708(memory)S
1141(which)S
1467(has)S
1658(pointers)S
2078(pointing)S
2510(into)S
2728(it.)S
2592 V
12 I
708(Realloc)S
12 R
1135(returns)S
1519(the)S
1714(NULL-pointer)S
2469(if)S
2591(it)S
(cannot)322 2706 A
3076(reallocate)S
3597(the)S
3793(memory)S
4244(and)S
4466(a)S
4568(pointer)S
4959(to)S
5101(the)S
2732 V
708(reallocated)S
1271(memory)S
1704(if)S
1809(it)S
1907(could.)S
3048 V
12 I
708(calloc)S
3284 V
11 C
(void)268 1068 A
1403(*)S
3424 V
(calloc\(num,)737 1068 A
(elmsize\))536 1872 A
3564 V
(size)268 1068 A
11 Y1
1336(3)S
11 C
1391(t)S
(num;)268 1525 A
3704 V
(size)268 1068 A
11 Y1
1336(3)S
11 C
1391(t)S
(elmsize;)536 1525 A
3904 V
12 I
708(Calloc)S
12 R
1093(allocates)S
1571(memory)S
2027(using)S
12 I
2341(malloc)S
12 R
2734(sufficient)S
3247(to)S
3395(hold)S
12 I
3663(num)S
12 R
3935(elements,)S
(each)222 4450 A
4726(of)S
12 I
4881(elmsize)S
4044 V
12 R
708(bytes)S
993(and)S
(initializes)473 1197 A
1700(the)S
1878(memory)S
2311(to)S
2435(zero.)S
2734(It)S
2839(returns)S
3206(the)S
3384(return)S
3704(value)S
3996(of)S
12 I
4127(malloc)S
12 R
4467(.)S
4360 V
12 I
708(free)S
4596 V
11 C
(void)268 1068 A
4736 V
(free\(ptr\))603 1068 A
4876 V
(void)268 1068 A
(*ptr;)335 1403 A
5076 V
12 I
708(Free)S
12 R
981(is)S
1096(used)S
1351(to)S
1479(return)S
1803(memory)S
2240(allocated)S
2712(by)S
2867(one)S
3076(of)S
3212(the)S
(above)288 3395 A
3718(three)S
3996(routines)S
4421(to)S
4550(the)S
4733(free)S
4958(list)S
5142(so)S
5216 V
708(that)S
949(it)S
1076(can)S
1302(be)S
1474(reused)S
1848(in)S
2000(subsequent)S
2594(memory)S
3055(allocation)S
3591(requests.)S
12 I
4106(Ptr)S
12 R
4329(must)S
4622(be)S
4794(a)S
4906(pointer)S
5356 V
708(returned)S
1148(by)S
1304(one)S
1514(of)S
1651(the)S
(above)288 1835 A
2159(three)S
2438(routines.)S
2924(It)S
3035(is)S
3152(an)S
3303(error)S
3577(to)S
12 I
3708(free)S
12 R
3944(the)S
4129(same)S
(piece)256 4415 A
4708(of)S
4846(memory)S
5496 V
708(twice.)S
1064(This)S
1311(error)S
(will)190 1580 A
1802(not)S
1988(be)S
2134(detected)S
2570(but)S
2756(it)S
(will)190 2856 A
3078(probably)S
3539(result)S
3841(in)S
3966(an)S
4111(exception.)S
4672(Unlike)S
5033(with)S
5636 V
708(some)S
1009(other)S
1304(memory)S
1753(allocation)S
2277(packages,)S
2796(once)S
3070(a)S
(piece)256 3170 A
3472(of)S
3619(memory)S
4068(has)S
4275(been)S
12 I
4549(free)S
12 R
4748(d)S
4854(it)S
4968(is)S
5095(not)S
5776 V
(permitted)465 708 A
1210(to)S
(access)310 1341 A
1688(it)S
1793(again,)S
2122(even)S
2387(before)S
2734(the)S
2919(next)S
3164(call)S
3376(to)S
3506(an)S
3656(allocation)S
4170(routine.)S
4609(When)S
12 I
4933(free)S
12 R
5168(is)S
5916 V
708(called,)S
1058(the)S
1236(package)S
1662(attempts)S
2103(to)S
2227(merge)S
2560(free)S
2780(blocks)S
3125(in)S
3249(its)S
3394(administration.)S
6232 V
12 I
708(Warnings)S
6408 V
12 R
708(The)S
967(kernel)S
1341(malloc)S
1742(package)S
2209(is)S
2361(very)S
2647(similar)S
3056(but)S
3281(does)S
3573(not)S
3799(have)S
4099(the)S
4319(segment)S
(boundary)455 4794 A
6548 V
708(restrictions.)S
1338(It)S
1443(can)S
1641(merge)S
1974(free)S
2194(memory)S
2627(blocks)S
2972(that)S
3184(span)S
3435(segment)S
(boundaries.)560 3868 A
7700 V
2683(Amoeba)S
3123(5.3)S
(257)180 5069 A
7920 V
EP
%%Page: 258 264
BP
/slant 0 def
/height 0 def
500 V
12 R
708(monitor.h)S
1201(\(H\))S
2632(C)S
2742(Include)S
3135(File)S
4586(monitor.h)S
5079(\(H\))S
860 V
12 B
708(Name)S
1036 V
12 R
708(monitor.h)S
12 R-1
1211(-)S
12 R
1339(monitoring)S
1906(macros)S
2286(and)S
2490(defines)S
1316 V
12 B
708(Synopsis)S
1552 V
11 C
(#include)536 708 A
("monitor.h")737 1311 A
1832 V
(#define)469 708 A
(MON)201 1244 A
11 Y1
1445(3)S
11 C
(EVENT\(what\))737 1500 A
1972 V
(#define)469 708 A
(MON)201 1244 A
11 Y1
1445(3)S
11 C
(SETBUF\(buffer,)938 1500 A
(size\))335 2505 A
2252 V
(#define)469 708 A
(getreq)402 1244 A
2392 V
(#define)469 708 A
(putrep)402 1244 A
2532 V
(#define)469 708 A
(trans)335 1244 A
2872 V
12 B
708(Description)S
3048 V
12 R
708(The)S
933(monitoring)S
1507(package)S
1940(provides)S
2393(a)S
2484(way)S
2723(of)S
2861(collecting)S
3377(statistics)S
3834(from)S
4108(a)S
4200(server)S
4535(using)S
4834(a)S
4926(simple)S
3188 V
708(instrumentation)S
1512(mechanism.)S
2167(It)S
2286(is)S
2410(possible)S
2849(to)S
2986(put)S
3183(in)S
3320(calls)S
3586(to)S
3723(the)S
3914(macro)S
12 C
(MON)219 4260 A
12 Y1
4479(3)S
12 C
(EVENT)365 4539 A
12 R
4904(.)S
5007(Each)S
3328 V
708(time)S
959(the)S
1142(macro)S
1480(is)S
1596(called)S
1921(during)S
2271(the)S
2454(execution)S
2959(of)S
3095(the)S
3278(program)S
3723(a)S
(counter)363 3812 A
(corresponding)691 4210 A
4937(to)S
5067(that)S
3468 V
708(``event'')S
1183(is)S
1313(incremented.)S
2021(The)S
2258(event)S
2569(is)S
2699(specified)S
3186(with)S
3451(an)S
3614(arbitrary)S
4082(string.)S
4467(The)S
4704(string)S
5028(used)S
3608 V
(should)321 708 A
1059(be)S
1203(unique)S
1561(within)S
1901(the)S
2079(program)S
2519(for)S
(each)222 2691 A
(distinguishable)732 2943 A
3705(event)S
3997(to)S
4121(be)S
4265(monitored.)S
3784 V
708(When)S
12 I
1049(monitor.h)S
12 R
1585(is)S
1719(included)S
2188(it)S
2309(redefines)S
2807(the)S
3008(RPC)S
3288(routines)S
12 I
3731(trans)S
12 R
3989(,)S
12 I
4073(getreq)S
12 R
4446(and)S
12 I
4674(putrep)S
12 R
5053(\(see)S
3924 V
12 I
708(rpc)S
12 R
879(\(L\)\))S
1134(so)S
1299(that)S
1539(they)S
1805(automatically)S
2523(keep)S
2809(a)S
(count)268 2920 A
3245(of)S
3403(the)S
3608(number)S
4034(of)S
4192(times)S
(each)222 4512 A
4791(is)S
4929(called.)S
4064 V
708(Furthermore,)S
12 I
1405(getreq)S
12 R
1785(has)S
2007(been)S
2296(modified)S
2794(to)S
(accept)310 2949 A
3320(extra)S
3624(commands)S
4208(so)S
4376(that)S
4620(the)S
4830(statistics)S
4204 V
708(gathered)S
1155(can)S
1353(be)S
1497(requested)S
1991(and)S
2195(manipulated)S
2823(by)S
2973(the)S
3151(program)S
12 I
3591(monitor\(U\).)S
4380 V
12 R
708(The)S
948(monitoring)S
1538(information)S
2163(is)S
2297(stored)S
2646(in)S
2793(a)S
2900(buffer)S
3250(allocated)S
3741(using)S
12 I
4055(malloc)S
12 R
4395(\(L\).)S
4664(If)S
4799(for)S
4994(some)S
4520 V
708(reason)S
1066(it)S
1176(is)S
1299(not)S
1495(possible)S
1933(to)S
2069(use)S
12 I
2272(malloc)S
12 R
2654(in)S
2790(a)S
2885(program)S
3336(or)S
3478(a)S
3573(larger)S
3898(or)S
4040(smaller)S
4439(buffer)S
4777(is)S
4899(desired)S
4660 V
708(than)S
953(is)S
1071(used)S
1329(per)S
1521(default)S
1895(then)S
2140(before)S
2487(any)S
2698(calls)S
2958(to)S
12 C
(MON)219 3089 A
12 Y1
3308(3)S
12 C
(EVENT)365 3368 A
12 R
3733(,)S
12 I
3800(trans)S
12 R
4058(,)S
12 I
4125(getreq)S
12 R
4481(or)S
12 I
4619(putrep)S
12 R
4981(a)S
5073(call)S
4800 V
708(to)S
12 C
(MON)219 837 A
12 Y1
1056(3)S
12 C
(SETBUF)438 1116 A
12 R
(should)321 1589 A
1945(be)S
2094(made)S
2391(with)S
2642(as)S
2778(arguments)S
3317(a)S
3406(buffer)S
3738(and)S
3947(the)S
4130(size)S
4353(of)S
4488(the)S
4670(buffer.)S
5061(The)S
4940 V
708(buffer)S
1035(must)S
1300(be)S
1444(statically)S
1913(allocated)S
2381(\(i.e.,)S
2630(a)S
2714(global)S
3046(variable\))S
3508(or)S
3639(allocated)S
4107(with)S
12 I
4353(malloc)S
12 R
4693(.)S
5220 V
12 B
708(Example)S
5396 V
12 R
708(The)S
928(following)S
1431(shows)S
1766(a)S
1853(simple)S
2209(server)S
2539(that)S
2754(uses)S
2995(monitoring.)S
3625(Many)S
3939(details)S
4289(are)S
4471(left)S
4667(out)S
4854(to)S
4981(avoid)S
5536 V
708(obscuring)S
1219(the)S
1402(relevant)S
1828(part)S
2052(of)S
2188(the)S
2371(example.)S
2876(The)S
3099(include)S
3490(file)S
12 I
3688(mysvr.h)S
12 R
4112(contains)S
4549(the)S
(definitions)518 4731 A
5676 V
708(of)S
12 C
(CMD1)292 839 A
12 R
1161(and)S
12 C
(CMD2)292 1365 A
12 R
1657(.)S
7700 V
(258)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 259 265
BP
/slant 0 def
/height 0 def
500 V
12 R
708(monitor.h)S
1201(\(H\))S
2632(C)S
2742(Include)S
3135(File)S
4586(monitor.h)S
5079(\(H\))S
920 V
11 C
(#include)536 1068 A
("amoeba.h")670 1671 A
1060 V
(#include)536 1068 A
("monitor.h")737 1671 A
1200 V
(#include)536 1068 A
("mysvr.h")603 1671 A
1480 V
(extern)402 1068 A
(port)268 1537 A
(getport;)536 1872 A
1760 V
(server\(\))536 1068 A
1900 V
1068({)S
2040 V
(bufsize)469 1336 A
1872(n;)S
2180 V
(header)402 1336 A
(hdr;)268 1805 A
2460 V
(for)201 1336 A
(\(;;\))268 1604 A
1939({)S
2600 V
(hdr.h)335 1652 A
11 Y1
1987(3)S
11 C
(port)268 2042 A
2377(=)S
(getport;)536 2511 A
2740 V
1652(n)S
1786(=)S
(getreq\(&hdr,)804 1920 A
(NILBUF,)469 2791 A
(0\);)201 3327 A
2880 V
1652(if)S
(\(ERR)268 1853 A
11 Y1
2121(3)S
11 C
(STATUS\(n\)\))670 2176 A
2913({)S
3020 V
(MON)201 1920 A
11 Y1
2121(3)S
11 C
(EVENT\("getreq)871 2176 A
(failed"\);)603 3114 A
3160 V
(continue;)603 1920 A
3300 V
1652(})S
3440 V
(switch)402 1652 A
(\(hdr.h)402 2121 A
11 Y1
2523(3)S
11 C
(command\))536 2578 A
3181({)S
3580 V
(case)268 1652 A
(CMD1:)335 1987 A
3720 V
(MON)201 1920 A
11 Y1
2121(3)S
11 C
(EVENT\("Command)938 2176 A
(one"\);)402 3181 A
3860 V
1920(do)S
11 Y1
2054(3)S
11 C
(command1\(&hdr\);)1005 2109 A
4000 V
(break;)402 1920 A
4140 V
(case)268 1652 A
(CMD2:)335 1987 A
4280 V
(MON)201 1920 A
11 Y1
2121(3)S
11 C
(EVENT\("Command)938 2176 A
(two"\);)402 3181 A
4420 V
1920(do)S
11 Y1
2054(3)S
11 C
(command2\(&hdr\);)1005 2109 A
4560 V
(break;)402 1920 A
4700 V
(default:)536 1652 A
4840 V
(MON)201 1920 A
11 Y1
2121(3)S
11 C
(EVENT\("Bad)670 2176 A
(command"\);)670 2913 A
4980 V
(break;)402 1920 A
5120 V
1652(})S
5260 V
(putrep\(&hdr,)804 1652 A
(NILBUF,)469 2523 A
(0\);)201 3059 A
5400 V
1336(})S
5540 V
1068(})S
5880 V
12 B
708(See)S
913(Also)S
6056 V
12 R
708(malloc\(L\),)S
1254(monitor\(U\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(259)180 5069 A
7920 V
EP
%%Page: 260 266
BP
/slant 0 def
/height 0 def
500 V
12 R
708(msg)S
929(\(L\))S
2567(Library)S
2961(Routines)S
4872(msg)S
5093(\(L\))S
860 V
2350(\(in)S
2515(libraries:)S
2978(libamoeba.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(msg)S
12 R-1
939(-)S
12 R
1067(message-based)S
1823(RPC)S
2080(routines)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("rrpc/msg)603 1311 A
11 Y1
1914(3)S
11 C
(rpc.h")402 1969 A
2182 V
(message)469 708 A
(*msg)268 1292 A
11 Y1
1560(3)S
11 C
(newmsg\(\);)603 1615 A
2322 V
(void)268 708 A
(msg)201 1292 A
11 Y1
1493(3)S
11 C
(delete\(mp\);)737 1548 A
2462 V
(void)268 708 A
(msg)201 1292 A
11 Y1
1493(3)S
11 C
(rewind\(mp\);)737 1548 A
2602 V
(int)201 708 A
(msg)201 1292 A
11 Y1
1493(3)S
11 C
(increfcount\(mp\);)1072 1548 A
2812 V
(void)268 708 A
(msg)201 1292 A
11 Y1
1493(3)S
11 C
(put\(mp,)469 1548 A
(type,)335 2084 A
(val\);)335 2486 A
2952 V
(void)268 708 A
(msg)201 1292 A
11 Y1
1493(3)S
11 C
(put)201 1548 A
11 Y1
1749(3)S
11 C
(int\(mp,)469 1804 A
(val\);)335 2340 A
3092 V
(void)268 708 A
(msg)201 1292 A
11 Y1
1493(3)S
11 C
(put)201 1548 A
11 Y1
1749(3)S
11 C
(real\(mp,)536 1804 A
(val\);)335 2407 A
3232 V
(void)268 708 A
(msg)201 1292 A
11 Y1
1493(3)S
11 C
(put)201 1548 A
11 Y1
1749(3)S
11 C
(string\(mp,)670 1804 A
(val\);)335 2541 A
3372 V
(void)268 708 A
(msg)201 1292 A
11 Y1
1493(3)S
11 C
(put)201 1548 A
11 Y1
1749(3)S
11 C
(port\(mp,)536 1804 A
(val\);)335 2407 A
3582 V
(int)201 708 A
(msg)201 1292 A
11 Y1
1493(3)S
11 C
(next)268 1548 A
11 Y1
1816(3)S
11 C
(type\(mp\))536 1871 A
3792 V
(int)201 708 A
(msg)201 1292 A
11 Y1
1493(3)S
11 C
(get\(mp,)469 1548 A
(type,)335 2084 A
(val\);)335 2486 A
3932 V
(int)201 708 A
(msg)201 1292 A
11 Y1
1493(3)S
11 C
(get)201 1548 A
11 Y1
1749(3)S
11 C
(int\(mp,)469 1804 A
(v\);)201 2340 A
4072 V
(int)201 708 A
(msg)201 1292 A
11 Y1
1493(3)S
11 C
(get)201 1548 A
11 Y1
1749(3)S
11 C
(real\(mp,)536 1804 A
(v\);)201 2407 A
4212 V
(int)201 708 A
(msg)201 1292 A
11 Y1
1493(3)S
11 C
(get)201 1548 A
11 Y1
1749(3)S
11 C
(port\(mp,)536 1804 A
(v\);)201 2407 A
4352 V
(int)201 708 A
(msg)201 1292 A
11 Y1
1493(3)S
11 C
(get)201 1548 A
11 Y1
1749(3)S
11 C
(string\(mp,)670 1804 A
(v\);)201 2541 A
4562 V
(char)268 708 A
(*MSG)268 1292 A
11 Y1
1560(3)S
11 C
(SENDER)402 1615 A
11 Y1
2017(3)S
11 C
(NAME\(mp\))536 2072 A
4702 V
(port)268 708 A
(*msg)268 1292 A
11 Y1
1560(3)S
11 C
(sender)402 1615 A
11 Y1
2017(3)S
11 C
(port\(mp\);)603 2072 A
4842 V
(int)201 708 A
(MSG)201 1292 A
11 Y1
1493(3)S
11 C
(ENTRY\(mp\))603 1548 A
5052 V
(int)201 708 A
(msg)201 1292 A
11 Y1
1493(3)S
11 C
(rpc\(addr,)603 1548 A
(entry,)402 2218 A
(req)201 2687 A
11 Y1
2888(3)S
11 C
(mp,)201 2943 A
(reply\);)469 3211 A
5192 V
(message)469 708 A
(*msg)268 1292 A
11 Y1
1560(3)S
11 C
(rpc)201 1615 A
11 Y1
1816(3)S
11 C
(rcv\(rcv)469 1871 A
11 Y1
2340(3)S
11 C
(port\);)402 2395 A
5332 V
(int)201 708 A
(msg)201 1292 A
11 Y1
1493(3)S
11 C
(rpc)201 1548 A
11 Y1
1749(3)S
11 C
(reply\(req)603 1804 A
11 Y1
2407(3)S
11 C
(mp,)201 2462 A
(reply)335 2730 A
11 Y1
3065(3)S
11 C
(mp\);)268 3120 A
5542 V
(void)268 708 A
(msg)201 1292 A
11 Y1
1493(3)S
11 C
(printaccess\(mp\);)1072 1548 A
5882 V
12 B
708(Description)S
6058 V
12 R
708(The)S
948(standard)S
1410(Amoeba)S
1872(communication)S
(primitives)492 2676 A
3221(operate)S
3631(using)S
3945(user-defined)S
4604(buffers.)S
5061(The)S
6198 V
12 I
708(msg)S
12 Y1
903(3)S
12 R
1017(routines)S
1451(provide)S
1864(an)S
2022(alternative)S
2579(based)S
(upon)240 2898 A
3182(a)S
12 I
3279(message)S
12 R
3742(object.)S
4141(Messages)S
4654(are)S
12 I
4846(typed)S
12 R
5118(;)S
5195(a)S
6338 V
708(message)S
1184(consists)S
1633(of)S
1800(a)S
1920(sequence)S
2429(of)S
2596(values)S
(each)222 2971 A
3259(tagged)S
3647(with)S
3929(its)S
4111(type.)S
4446(By)S
4653(using)S
4981(typed)S
6478 V
708(messages,)S
1228(the)S
1409(recipient)S
1867(of)S
2001(a)S
2088(message)S
2531(need)S
2792(not)S
(know)268 2979 A
3280(beforehand)S
3857(the)S
4038(types)S
4326(of)S
4460(the)S
4640(values)S
4981(being)S
6618 V
708(sent)S
937(to)S
1066(it.)S
1229(The)S
1452(use)S
1648(of)S
1784(types)S
2074(also)S
2304(provides)S
2755(a)S
2844(degree)S
3202(of)S
3338(protection)S
3864(against)S
4242(programming)S
4935(errors,)S
6758 V
708(ensuring)S
1154(that)S
1366(the)S
1544(contents)S
1977(of)S
2108(a)S
2192(message)S
2632(are)S
2811(interpreted)S
3367(correctly.)S
6934 V
708(The)S
(supported)476 926 A
1432(types)S
1717(are)S
1896(denoted)S
2308(by)S
2458(integer)S
2825(constants)S
3305(as)S
3436(shown)S
3781(in)S
3905(the)S
4083(following)S
4584(table:)S
7700 V
(260)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 261 267
BP
/slant 0 def
/height 0 def
500 V
12 R
708(msg)S
929(\(L\))S
2567(Library)S
2961(Routines)S
4872(msg)S
5093(\(L\))S
740 V
12 Y1
1787(2)S
(222222222222222222222222222222222222222)2340 1830 A
880 V
12 R
1847(Name)S
2920(Description)S
890 V
12 Y1
1787(2)S
(222222222222222222222222222222222222222)2340 1830 A
910 V
1787(2)S
(222222222222222222222222222222222222222)2340 1830 A
1040 V
12 C
(TYPE)292 1847 A
12 Y1
2139(3)S
12 C
(INT)219 2199 A
12 R
2920(\(32-bit\))S
3321(integer)S
1060 V
12 Y1
1787(2)S
(222222222222222222222222222222222222222)2340 1830 A
1200 V
12 C
(TYPE)292 1847 A
12 Y1
2139(3)S
12 C
(REAL)292 2199 A
12 R
2920(\(float\))S
3255(floating-point)S
1220 V
12 Y1
1787(2)S
(222222222222222222222222222222222222222)2340 1830 A
1360 V
12 C
(TYPE)292 1847 A
12 Y1
2139(3)S
12 C
(STRING)438 2199 A
12 R
2920(NULL-terminated)S
3834(string)S
1380 V
12 Y1
1787(2)S
(222222222222222222222222222222222222222)2340 1830 A
1520 V
12 C
(TYPE)292 1847 A
12 Y1
2139(3)S
12 C
(ADDRESS)511 2199 A
12 R
2920(Amoeba)S
3360(port)S
1540 V
12 Y1
1787(2)S
(222222222222222222222222222222222222222)2340 1830 A
1787(1)S
1460 V
1787(1)S
1340 V
1787(1)S
1220 V
1787(1)S
1100 V
1787(1)S
980 V
1787(1)S
860 V
1787(1)S
1540 V
2800(1)S
1460 V
2800(1)S
1340 V
2800(1)S
1220 V
2800(1)S
1100 V
2800(1)S
980 V
2800(1)S
860 V
2800(1)S
1540 V
4170(1)S
1460 V
4170(1)S
1340 V
4170(1)S
1220 V
4170(1)S
1100 V
4170(1)S
980 V
4170(1)S
860 V
4170(1)S
1926 V
12 I
708(Error)S
1013(codes)S
2102 V
12 R
708(All)S
894(routines)S
1314(with)S
1560(return)S
1880(type)S
12 C
(int)219 2118 A
12 R
2367(return)S
12 Y
2687(-)S
12 R
2753(1)S
(upon)240 2843 A
3113(failure.)S
2418 V
12 I
708(msg)S
12 Y1
903(3)S
12 I
963(newmsg)S
2654 V
11 C
(message)469 1068 A
1652(*)S
2794 V
(msg)201 1068 A
11 Y1
1269(3)S
11 C
(newmsg\(\))536 1324 A
3030 V
12 R
708(A)S
831(message)S
1276(is)S
1392(created)S
1778(by)S
(invoking)428 1933 A
12 I
2397(msg)S
12 Y1
2592(3)S
12 I
2652(newmsg)S
12 R
3051(.)S
3147(This)S
3398(routine)S
3777(returns)S
4150(a)S
4240(pointer)S
4619(to)S
4749(a)S
4839(message)S
3170 V
708(structure;)S
1201(this)S
1410(pointer)S
1787(is)S
1902(used)S
2157(for)S
2333(all)S
2488(subsequent)S
3057(references)S
3590(to)S
3717(the)S
3898(message.)S
4401(Values)S
4771(are)S
4953(stored)S
3310 V
708(in)S
843(a)S
938(message)S
1389(using)S
1692(the)S
1882(various)S
12 I
2280(msg)S
12 Y1
2475(3)S
12 I
2535(put)S
12 R
2741(routines.)S
3233(If)S
3357(a)S
3453(new)S
3697(message)S
4149(could)S
4459(not)S
4655(be)S
4811(allocated)S
3450 V
708(then)S
946(this)S
1151(routine)S
(will)190 1524 A
1744(not)S
1928(return)S
2248(but)S
2432(abort)S
2711(the)S
(calling)330 2889 A
3249(program.)S
3766 V
12 I
708(msg)S
12 Y1
903(3)S
12 I
963(put)S
4002 V
11 C
(void)268 1068 A
4142 V
(msg)201 1068 A
11 Y1
1269(3)S
11 C
(put\(mp,)469 1324 A
(type,)335 1860 A
(val\))268 2262 A
4282 V
(message)469 1068 A
(*mp;)268 1604 A
4422 V
(int)201 1068 A
(type;)335 1336 A
4562 V
(void)268 1068 A
(*val;)335 1403 A
4798 V
12 R
708(Each)S
(invocation)510 1014 A
1588(of)S
1753(a)S
12 I
1871(msg)S
12 Y1
2066(3)S
12 I
2126(put)S
12 Y1
2280(3)S
12 R
2414(routine)S
2821(appends)S
3280(the)S
3492(value)S
3819(to)S
3978(the)S
4191(end)S
4430(of)S
4596(the)S
4809(message.)S
4938 V
708(Routines)S
1179(are)S
1370(provided)S
1841(for)S
(each)222 2025 A
2289(of)S
2432(the)S
2622(four)S
2866(types)S
3163(currently)S
(supported.)506 3643 A
4221(In)S
(addition,)426 4363 A
12 I
4830(msg)S
12 Y1
5025(3)S
12 I
5085(put)S
5078 V
12 R
708(may)S
956(be)S
1110(called)S
1441(with)S
1698(the)S
1887(type)S
2136(and)S
2351(a)S
2446(pointer)S
2830(to)S
2965(the)S
3154(value;)S
3491(this)S
3707(routine)S
4091(provides)S
4548(a)S
4643(type-generic)S
5218 V
708(way)S
940(of)S
1071(storing)S
1437(values)S
1776(in)S
1900(a)S
1984(message.)S
5534 V
12 I
708(msg)S
12 Y1
903(3)S
12 I
963(put)S
12 Y1
1117(3)S
12 I
1177(int)S
5770 V
11 C
(void)268 1068 A
5910 V
(msg)201 1068 A
11 Y1
1269(3)S
11 C
(put)201 1324 A
11 Y1
1525(3)S
11 C
(int\(mp,)469 1580 A
(val\))268 2116 A
6050 V
(message)469 1068 A
(*mp;)268 1604 A
6190 V
(int)201 1068 A
(val;)268 1336 A
6426 V
12 R
708(The)S
926(integer)S
1293(value)S
12 I
1585(val)S
12 R
1773(is)S
1884(stored)S
2210(in)S
2334(the)S
2512(message)S
2952(pointed)S
3344(to)S
3468(by)S
12 I
3618(mp)S
12 R
3776(.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(261)180 5069 A
7920 V
EP
%%Page: 262 268
BP
/slant 0 def
/height 0 def
500 V
12 R
708(msg)S
929(\(L\))S
2567(Library)S
2961(Routines)S
4872(msg)S
5093(\(L\))S
860 V
12 I
708(msg)S
12 Y1
903(3)S
12 I
963(put)S
12 Y1
1117(3)S
12 I
1177(real)S
1096 V
11 C
(void)268 1068 A
1236 V
(msg)201 1068 A
11 Y1
1269(3)S
11 C
(put)201 1324 A
11 Y1
1525(3)S
11 C
(real\(mp,)536 1580 A
(val\))268 2183 A
1376 V
(message)469 1068 A
(*mp;)268 1604 A
1516 V
(float)335 1068 A
(val;)268 1470 A
1752 V
12 R
708(The)S
926(floating-point)S
1622(value)S
12 I
1914(val)S
12 R
2102(is)S
2213(stored)S
2539(in)S
2663(the)S
2841(message)S
3281(pointed)S
3673(to)S
3797(by)S
12 I
3947(mp)S
12 R
4105(.)S
2068 V
12 I
708(msg)S
12 Y1
903(3)S
12 I
963(put)S
12 Y1
1117(3)S
12 I
1177(string)S
2304 V
11 C
(void)268 1068 A
2444 V
(msg)201 1068 A
11 Y1
1269(3)S
11 C
(put)201 1324 A
11 Y1
1525(3)S
11 C
(string\(mp,)670 1580 A
(val\))268 2317 A
2584 V
(message)469 1068 A
(*mp;)268 1604 A
2724 V
(char)268 1068 A
(*val;)335 1403 A
2960 V
12 R
708(The)S
926(NULL-terminated)S
1840(string)S
2146(pointed)S
2538(to)S
2662(by)S
12 I
2812(val)S
12 R
3000(is)S
3111(stored)S
3437(in)S
3561(the)S
3739(message)S
4179(pointed)S
4571(to)S
4695(by)S
12 I
4845(mp)S
12 R
5003(.)S
3276 V
12 I
708(msg)S
12 Y1
903(3)S
12 I
963(put)S
12 Y1
1117(3)S
12 I
1177(port)S
3512 V
11 C
(void)268 1068 A
3652 V
(msg)201 1068 A
11 Y1
1269(3)S
11 C
(put)201 1324 A
11 Y1
1525(3)S
11 C
(port\(mp,)536 1580 A
(val\))268 2183 A
3792 V
(message)469 1068 A
(*mp;)268 1604 A
3932 V
(port)268 1068 A
(*val;)335 1403 A
4168 V
12 R
708(The)S
926(Amoeba)S
1366(port)S
1591(value)S
1883(pointed)S
2275(to)S
2399(by)S
12 I
2549(val)S
12 R
2737(is)S
2848(stored)S
3174(in)S
3298(the)S
3476(message)S
3916(pointed)S
4308(to)S
4432(by)S
12 I
4582(mp)S
12 R
4740(.)S
4484 V
12 I
708(msg)S
12 Y1
903(3)S
12 I
963(rpc)S
4720 V
11 C
(int)201 1068 A
4860 V
(msg)201 1068 A
11 Y1
1269(3)S
11 C
(rpc\(addr,)603 1324 A
(entry,)402 1994 A
(req)201 2463 A
11 Y1
2664(3)S
11 C
(mp,)201 2719 A
(reply\))402 2987 A
5000 V
(port)268 1068 A
(*addr;)402 1403 A
5140 V
(int)201 1068 A
(entry;)402 1336 A
5280 V
(message)469 1068 A
(*req)268 1604 A
11 Y1
1872(3)S
11 C
(mp;)201 1927 A
5420 V
(message)469 1068 A
(**reply;)536 1604 A
5656 V
12 R
708(A)S
828(message-based)S
1586(RPC)S
1845(with)S
2093(a)S
2180(server)S
2510(is)S
2624(carried)S
2995(out)S
3182(by)S
(calling)330 3335 A
12 I
3698(msg)S
12 Y1
3893(3)S
12 I
3953(rpc)S
12 R
4124(,)S
4187(passing)S
4582(as)S
4716(parameters)S
5796 V
708(the)S
924(server's)S
12 I
1377(put-port)S
12 R
1783(,)S
1881(the)S
2097(procedure)S
2649(entry)S
2966(number,)S
3432(and)S
3673(the)S
3888(parameters)S
4488(for)S
4697(the)S
4912(remote)S
5936 V
708(procedure)S
1222(as)S
1353(encapsulated)S
2008(in)S
2132(a)S
2216(message.)S
2716(The)S
2934(final)S
3187(parameter)S
3703(to)S
12 I
3827(msg)S
12 Y1
4022(3)S
12 I
4082(rpc)S
12 R
4283(is)S
4394(an)S
4538(out-parameter,)S
6076 V
708(set)S
(upon)240 876 A
(successful)498 1149 A
1680(return)S
2003(to)S
2130(point)S
2411(to)S
2538(a)S
2625(message)S
3068(containing)S
3611(the)S
3792(server's)S
(response.)453 4210 A
4726(If)S
4841(the)S
5022(RPC)S
6216 V
708(fails)S
948(for)S
1120(any)S
1324(reason)S
1670(then)S
12 I
1908(msg)S
12 Y1
2103(3)S
12 I
2163(rpc)S
12 R
2364(returns)S
12 Y
2731(-)S
12 R
2797(1.)S
7700 V
(262)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 263 269
BP
/slant 0 def
/height 0 def
500 V
12 R
708(msg)S
929(\(L\))S
2567(Library)S
2961(Routines)S
4872(msg)S
5093(\(L\))S
860 V
12 I
708(msg)S
12 Y1
903(3)S
12 I
963(get)S
1096 V
11 C
(int)201 1068 A
1236 V
(msg)201 1068 A
11 Y1
1269(3)S
11 C
(get\(mp,)469 1324 A
(type,)335 1860 A
(val\))268 2262 A
1376 V
(message)469 1068 A
(*mp;)268 1604 A
1516 V
(int)201 1068 A
(type;)335 1336 A
1656 V
(void)268 1068 A
(*val;)335 1403 A
1892 V
12 R
708(The)S
940(message)S
(received)411 1394 A
1849(from)S
2130(the)S
2323(server)S
2665(is)S
2791(examined)S
3306(by)S
3471(using)S
3777(the)S
3970(various)S
12 I
4371(msg)S
12 Y1
4566(3)S
12 I
4626(get)S
12 R
4829(routines.)S
2032 V
708(The)S
932(parameter)S
12 I
1454(val)S
12 R
1648(points)S
1979(to)S
2109(an)S
2259(object)S
2591(of)S
2727(sufficient)S
3221(size)S
3445(to)S
3574(hold)S
3823(a)S
3912(value)S
4209(of)S
4345(the)S
4528(indicated)S
12 I
5007(type)S
12 R
5219(.)S
2172 V
708(The)S
940(value)S
1246(of)S
1391(the)S
1583(indicated)S
2071(type)S
2323(is)S
2448(extracted)S
2937(from)S
3217(the)S
3409(message)S
12 I
3863(mp)S
12 R
4065(and)S
4283(stored)S
4623(in)S
4761(the)S
4953(object)S
2312 V
708(pointed)S
1100(to)S
1224(by)S
12 I
1374(val)S
12 R
1532(.)S
2628 V
12 I
708(msg)S
12 Y1
903(3)S
12 I
963(get)S
12 Y1
1111(3)S
12 I
1171(int)S
2864 V
11 C
(int)201 1068 A
3004 V
(msg)201 1068 A
11 Y1
1269(3)S
11 C
(get)201 1324 A
11 Y1
1525(3)S
11 C
(int\(mp,)469 1580 A
(val\))268 2116 A
3144 V
(message)469 1068 A
(*mp;)268 1604 A
3284 V
(int)201 1068 A
(*val;)335 1336 A
3520 V
12 R
708(Reads)S
1047(the)S
1239(next)S
1491(value)S
1798(from)S
2079(the)S
2272(message,)S
2757(which)S
3098(must)S
3378(be)S
3537(an)S
3696(integer,)S
4108(and)S
4327(stores)S
4655(the)S
4848(value)S
5155(in)S
3660 V
708(object)S
12 I
1034(val)S
12 R
1192(.)S
3976 V
12 I
708(msg)S
12 Y1
903(3)S
12 I
963(get)S
12 Y1
1111(3)S
12 I
1171(float)S
4212 V
11 C
(int)201 1068 A
4352 V
(msg)201 1068 A
11 Y1
1269(3)S
11 C
(get)201 1324 A
11 Y1
1525(3)S
11 C
(float\(mp,)603 1580 A
(val\))268 2250 A
4492 V
(message)469 1068 A
(*mp;)268 1604 A
4632 V
(float)335 1068 A
(*val;)335 1470 A
4868 V
12 R
708(Reads)S
1034(the)S
1213(next)S
1452(value)S
1745(from)S
2012(the)S
2191(message,)S
2662(which)S
2989(must)S
3255(be)S
3401(an)S
3547(float,)S
3832(and)S
4038(stores)S
4353(the)S
4533(value)S
4827(in)S
4953(object)S
5008 V
12 I
708(val)S
12 R
866(.)S
5324 V
12 I
708(msg)S
12 Y1
903(3)S
12 I
963(get)S
12 Y1
1111(3)S
12 I
1171(port)S
5560 V
11 C
(int)201 1068 A
5700 V
(msg)201 1068 A
11 Y1
1269(3)S
11 C
(get)201 1324 A
11 Y1
1525(3)S
11 C
(port\(msg,)603 1580 A
(val\))268 2250 A
5840 V
(message)469 1068 A
(*mp;)268 1604 A
5980 V
(port)268 1068 A
(*val;)335 1403 A
6216 V
12 R
708(Copies)S
1074(the)S
1253(next)S
1492(value)S
1785(from)S
2052(the)S
2231(message,)S
2702(which)S
3029(must)S
3295(be)S
3441(an)S
3587(Amoeba)S
4029(port,)S
4286(and)S
4492(stores)S
4807(the)S
4987(value)S
6356 V
708(in)S
12 I
832(val)S
12 R
990(.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(263)180 5069 A
7920 V
EP
%%Page: 264 270
BP
/slant 0 def
/height 0 def
500 V
12 R
708(msg)S
929(\(L\))S
2567(Library)S
2961(Routines)S
4872(msg)S
5093(\(L\))S
860 V
12 I
708(msg)S
12 Y1
903(3)S
12 I
963(get)S
12 Y1
1111(3)S
12 I
1171(string)S
1096 V
11 C
(int)201 1068 A
1236 V
(msg)201 1068 A
11 Y1
1269(3)S
11 C
(get)201 1324 A
11 Y1
1525(3)S
11 C
(string\(msg,)737 1580 A
(val\))268 2384 A
1376 V
(message)469 1068 A
(*mp;)268 1604 A
1516 V
(char)268 1068 A
(**val;)402 1403 A
1752 V
12 R
708(Sets)S
12 I
947(val)S
12 R
1142(to)S
1273(point)S
1558(to)S
1689(the)S
1874(character)S
2357(string)S
2670(at)S
2795(the)S
2980(current)S
3361(read)S
(position)389 3607 A
4033(within)S
4380(the)S
4566(message)S
12 I
5014(msg)S
12 R
5219(.)S
1892 V
708(The)S
926(pointer)S
1299(is)S
1410(only)S
1654(valid)S
1926(for)S
2098(the)S
2276(lifetime)S
2685(of)S
2816(the)S
2994(message.)S
2208 V
12 I
708(msg)S
12 Y1
903(3)S
12 I
963(next)S
12 Y1
1165(3)S
12 I
1225(type)S
2444 V
11 C
(int)201 1068 A
2584 V
(msg)201 1068 A
11 Y1
1269(3)S
11 C
(next)268 1324 A
11 Y1
1592(3)S
11 C
(type\(mp\))536 1647 A
2724 V
(message)469 1068 A
(*mp;)268 1604 A
2960 V
12 I
708(Msg)S
12 Y1
916(3)S
12 I
976(next)S
12 Y1
1178(3)S
12 I
1238(type)S
12 R
1487(may)S
1732(be)S
1883(called)S
2210(to)S
2341(determine)S
2863(the)S
3048(type)S
3293(of)S
3431(the)S
3616(next)S
3861(value;)S
4195(if)S
4308(no)S
4466(more)S
4753(values)S
5100(are)S
3100 V
708(present)S
1088(in)S
1212(the)S
1390(message,)S
1860(then)S
12 I
2098(msg)S
12 Y1
2293(3)S
12 I
2353(next)S
12 Y1
2555(3)S
12 I
2615(type)S
12 R
2857(returns)S
12 Y
3224(-)S
12 R
3290(1.)S
3276 V
708(All)S
899(the)S
12 I
1082(msg)S
12 Y1
1277(3)S
12 I
1337(get)S
12 Y1
1485(3)S
12 R
1590(routines)S
2015(likewise)S
2455(return)S
12 Y
2780(-)S
12 R
2846(1)S
2942(if)S
3053(the)S
3237(message)S
12 I
3683(mp)S
12 R
3877(has)S
4074(been)S
4338(exhausted.)S
4917(A)S
5041(type)S
3416 V
708(mismatch)S
1231(occurs)S
1599(when)S
1913(the)S
2113(requested)S
2629(type)S
2889(and)S
3114(the)S
3313(type)S
3572(of)S
3724(the)S
3923(next)S
4182(value)S
4495(in)S
4640(the)S
4839(message)S
3556 V
708(differ.)S
1072(This)S
1320(results)S
1670(in)S
1797(a)S
1884(fatal)S
2134(library)S
2491(error:)S
2795(the)S
2976(program)S
3420(exits)S
3683(after)S
3941(printing)S
4358(a)S
4446(descriptive)S
5012(error)S
3696 V
708(message.)S
4012 V
12 I
708(MSG)S
12 Y1
957(3)S
12 I
1017(ENTRY)S
4248 V
11 C
(int)201 1068 A
4388 V
(MSG)201 1068 A
11 Y1
1269(3)S
11 C
(ENTRY\(mp\))603 1324 A
4528 V
(message)469 1068 A
(*mp;)268 1604 A
4764 V
12 R
708(The)S
926(intended)S
1372(entry)S
1651(number)S
2050(of)S
2181(a)S
2265(message)S
2705(is)S
2816(returned)S
3250(by)S
12 C
(MSG)219 3400 A
12 Y1
3619(3)S
12 C
(ENTRY)365 3679 A
12 R
4044(.)S
5080 V
12 I
708(MSG)S
12 Y1
957(3)S
12 I
1017(SENDER)S
12 Y1
1467(3)S
12 I
1527(NAME)S
5316 V
11 C
(char)268 1068 A
1403(*)S
5456 V
(MSG)201 1068 A
11 Y1
1269(3)S
11 C
(SENDER)402 1324 A
11 Y1
1726(3)S
11 C
(NAME\(mp\))536 1781 A
5596 V
(message)469 1068 A
(*mp;)268 1604 A
5832 V
12 R
708(If)S
833(the)S
1024(sender)S
1383(or)S
1527(creator)S
1908(of)S
2052(a)S
2149(message)S
2603(has)S
2808(called)S
12 I
3142(ctx)S
12 Y1
3284(3)S
12 I
3344(define)S
12 Y1
3640(3)S
12 I
3700(context)S
12 R
4104(\(see)S
12 I
4344(msg)S
12 Y1
4539(3)S
12 I
4599(rpc)S
12 R
4770(\(L\)\),)S
5041(then)S
5972 V
12 C
(MSG)219 708 A
12 Y1
927(3)S
12 C
(SENDER)438 987 A
12 Y1
1425(3)S
12 C
(NAME)292 1485 A
12 R
1807(returns)S
2174(the)S
2352(name)S
2644(of)S
2775(the)S
2953(process)S
3346(which)S
3672(sent)S
3897(the)S
4075(message)S
6288 V
12 I
708(msg)S
12 Y1
903(3)S
12 I
963(sender)S
12 Y1
1285(3)S
12 I
1345(port)S
6524 V
11 C
(port)268 1068 A
1403(*)S
6664 V
(msg)201 1068 A
11 Y1
1269(3)S
11 C
(sender)402 1324 A
11 Y1
1726(3)S
11 C
(port\(mp\))536 1781 A
6804 V
(message)469 1068 A
(*mp;)268 1604 A
7040 V
12 R
708(If)S
834(the)S
1026(sender)S
1386(or)S
1531(creator)S
1913(of)S
2058(a)S
2156(message)S
2610(has)S
2815(called)S
12 I
3149(ctx)S
12 Y1
3291(3)S
12 I
3351(define)S
12 Y1
3647(3)S
12 I
3707(context)S
12 R
4111(\(see)S
12 I
4351(msg)S
12 Y1
4546(3)S
12 I
4606(rpc\(L\)\),)S
12 R
5041(then)S
7180 V
12 I
708(msg)S
12 Y1
903(3)S
12 I
963(sender)S
12 Y1
1285(3)S
12 I
1345(port)S
12 R
1586(returns)S
1953(a)S
2037(pointer)S
2410(to)S
2534(the)S
2712(put-port)S
3132(of)S
3263(the)S
3441(process)S
3834(which)S
4160(sent)S
4385(the)S
4563(message.)S
7700 V
(264)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 265 271
BP
/slant 0 def
/height 0 def
500 V
12 R
708(msg)S
929(\(L\))S
2567(Library)S
2961(Routines)S
4872(msg)S
5093(\(L\))S
860 V
12 I
708(msg)S
12 Y1
903(3)S
12 I
963(delete)S
1096 V
11 C
(void)268 1068 A
1236 V
(msg)201 1068 A
11 Y1
1269(3)S
11 C
(delete\(mp\))670 1324 A
1376 V
(message)469 1068 A
(*mp;)268 1604 A
1612 V
12 R
708(Once)S
1006(the)S
1196(contents)S
1641(of)S
1784(a)S
1880(message)S
2332(are)S
2523(no)S
(longer)309 2685 A
3036(needed,)S
3450(the)S
(space)269 3641 A
3953(consumed)S
4485(by)S
4648(the)S
4839(message)S
1752 V
(should)321 708 A
1086(be)S
1256(freed)S
1562(by)S
(calling)330 1738 A
12 I
2124(msg)S
12 Y1
2319(3)S
12 I
2379(delete)S
12 R
2679(.)S
2795(Note)S
3087(that)S
3325(a)S
3435(client)S
3761(doing)S
4091(an)S
4261(RPC)S
(should)321 4544 A
(invoke)328 4921 A
1892 V
12 I
708(msg)S
12 Y1
903(3)S
12 I
963(delete)S
12 R
1309(on)S
1475(both)S
1735(its)S
1896(request)S
2292(message)S
2748(and)S
2968(the)S
3162(reply)S
3457(message)S
3913(returned)S
4363(by)S
12 I
4529(msg)S
12 Y1
4724(3)S
12 I
4784(rpc)S
12 R
4955(.)S
5061(The)S
2032 V
708(message)S
1170(library)S
1545(maintains)S
2067(with)S
(each)222 2334 A
2607(message)S
3068(a)S
3173(reference)S
(counter,)393 3677 A
4121(only)S
4386(freeing)S
4781(the)S
(space)269 4980 A
2172 V
708(consumed)S
1227(by)S
1377(a)S
1461(message)S
1901(when)S
2193(the)S
(counter)363 2371 A
2764(drops)S
3062(to)S
3186(zero.)S
2488 V
12 I
708(msg)S
12 Y1
903(3)S
12 I
(increfcount)551 963 A
2724 V
11 C
(int)201 1068 A
2864 V
(msg)201 1068 A
11 Y1
1269(3)S
11 C
(increfcount\(mp\))1005 1324 A
3004 V
(message)469 1068 A
(*mp;)268 1604 A
3240 V
12 R
708(Increments)S
1295(the)S
1491(reference)S
(counter)363 1992 A
2403(for)S
2593(message)S
12 I
3051(mp)S
12 R
3209(.)S
3317(If)S
3447(a)S
3550(message)S
4009(pointer)S
4401(variable)S
4841(is)S
4971(set)S
5155(to)S
3380 V
708(point)S
996(to)S
1129(some)S
1423(message,)S
1902(and)S
2115(all)S
2276(other)S
2564(references)S
3103(to)S
3236(the)S
3423(message)S
3872(are)S
4060(deleted,)S
4479(but)S
4672(it)S
4779(is)S
4899(desired)S
3520 V
708(that)S
948(the)S
1154(contents)S
1616(of)S
1776(the)S
1983(message)S
2452(remain,)S
2878(then)S
3145(the)S
3352(message)S
3821(reference)S
(counter)363 4333 A
(should)321 4755 A
5135(be)S
3660 V
(explicitly)458 708 A
1213(incremented)S
1859(by)S
(calling)330 2026 A
12 I
2403(msg)S
12 Y1
2598(3)S
12 I
(increfcount)551 2658 A
12 R
3219(.)S
3326(In)S
3473(general,)S
12 I
3906(msg)S
12 Y1
4101(3)S
12 I
(increfcount)551 4161 A
12 R
(should)321 4768 A
5135(be)S
3800 V
708(called)S
1030(after)S
(each)222 1287 A
1542(time)S
1791(some)S
2079(pointer)S
2455(is)S
2569(set)S
2737(to)S
2864(point)S
3145(to)S
3272(a)S
3359(given)S
3660(message,)S
4133(and)S
12 I
4340(msg)S
12 Y1
4535(3)S
12 I
4595(delete)S
12 R
(should)321 4928 A
3940 V
708(be)S
873(called)S
(each)222 1214 A
1487(time)S
1754(the)S
1953(value)S
2266(of)S
2418(a)S
2522(variable)S
2963(pointing)S
3415(to)S
3559(the)S
3757(given)S
4075(message)S
4535(is)S
4666(changed,)S
5148(or)S
4080 V
708(becomes)S
(undefined)483 1161 A
1674(\(for)S
1887(example,)S
2357(before)S
2697(leaving)S
3083(some)S
3368(program)S
3808(scope\).)S
4396 V
12 I
708(msg)S
12 Y1
903(3)S
12 I
963(rewind)S
4632 V
11 C
(void)268 1068 A
4772 V
(msg)201 1068 A
11 Y1
1269(3)S
11 C
(rewind\(mp\))670 1324 A
4912 V
(message)469 1068 A
(*mp;)268 1604 A
5148 V
12 R
708(Since)S
1009(the)S
12 I
1189(msg)S
12 Y1
1384(3)S
12 I
1444(get)S
12 R
1634(routines)S
2056(sequentially)S
(access)310 2673 A
3015(the)S
3195(contents)S
3630(of)S
3763(a)S
3849(message,)S
4322(it)S
4423(may)S
4664(be)S
4811(desirable)S
5288 V
708(to)S
12 I
871(rewind)S
12 R
1275(a)S
1398(message)S
1877(to)S
2040(the)S
2257(beginning.)S
2868(This)S
3151(is)S
(accomplished)665 3300 A
4033(by)S
(calling)330 4221 A
12 I
4619(msg)S
12 Y1
4814(3)S
12 I
4874(rewind)S
12 R
5219(.)S
5428 V
708(Separate)S
1171(get)S
1364(and)S
1583(put)S
1782(pointers)S
2217(are)S
2411(maintained)S
2994(for)S
(each)222 3181 A
3448(message;)S
12 I
3938(msg)S
12 Y1
4133(3)S
12 I
4193(rewind)S
12 R
4584(resets)S
4907(the)S
5101(get)S
5568 V
708(pointer)S
1081(to)S
1205(the)S
1383(beginning)S
1895(of)S
2026(the)S
2204(message.)S
5884 V
12 I
708(msg)S
12 Y1
903(3)S
12 I
963(rpc)S
12 Y1
1124(3)S
12 I
1184(rcv)S
6120 V
11 C
(message)469 1068 A
1604(*)S
6260 V
(msg)201 1068 A
11 Y1
1269(3)S
11 C
(rpc)201 1324 A
11 Y1
1525(3)S
11 C
(rcv\(getport\))804 1580 A
6400 V
(port)268 1068 A
(*getport;)603 1403 A
6636 V
12 R
708(To)S
(receive)351 875 A
1259(a)S
1346(remote)S
1716(procedure)S
2233(call,)S
2472(a)S
2559(program)S
3002(calls)S
12 I
3258(msg)S
12 Y1
3453(3)S
12 I
3513(rpc)S
12 Y1
3674(3)S
12 I
3734(rcv)S
12 R
3899(,)S
3962(passing)S
4358(as)S
4493(a)S
4581(parameter)S
5101(the)S
6776 V
12 I
708(get-port)S
12 R
1108(.)S
12 I
1219(Msg)S
12 Y1
1427(3)S
12 I
1487(rpc)S
12 Y1
1648(3)S
12 I
1708(rcv)S
12 R
1924(returns)S
2312(the)S
2511(next)S
2770(message)S
(received)411 3231 A
3693(on)S
3864(the)S
4063(specified)S
4552(port,)S
4827(blocking)S
6916 V
(until)222 708 A
972(such)S
1235(a)S
1331(request)S
1723(is)S
(received.)441 1847 A
2361(Note)S
2640(that)S
2865(the)S
12 I
3056(msg)S
12 Y1
3251(3)S
12 I
3311(rpc)S
12 Y1
3472(3)S
12 I
3532(rcv)S
12 R
3740(routine)S
4126(is)S
4250(a)S
4347(wrapper)S
4788(on)S
4951(top)S
5148(of)S
7056 V
12 I
708(getreq)S
12 R
1027(.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(265)180 5069 A
7920 V
EP
%%Page: 266 272
BP
/slant 0 def
/height 0 def
500 V
12 R
708(msg)S
929(\(L\))S
2567(Library)S
2961(Routines)S
4872(msg)S
5093(\(L\))S
860 V
12 I
708(msg)S
12 Y1
903(3)S
12 I
963(rpc)S
12 Y1
1124(3)S
12 I
1184(reply)S
1096 V
11 C
(int)201 1068 A
1236 V
(msg)201 1068 A
11 Y1
1269(3)S
11 C
(rpc)201 1324 A
11 Y1
1525(3)S
11 C
(reply\(req)603 1580 A
11 Y1
2183(3)S
11 C
(mp,)201 2238 A
(rep)201 2506 A
11 Y1
2707(3)S
11 C
(mp\))201 2762 A
1376 V
(message)469 1068 A
(*req)268 1604 A
11 Y1
1872(3)S
11 C
(mp;)201 1927 A
1516 V
(message)469 1068 A
(*rep)268 1604 A
11 Y1
1872(3)S
11 C
(mp;)201 1927 A
1752 V
12 R
708(The)S
960(reply)S
1273(message)S
1747(is)S
(transmitted)546 1892 A
2502(by)S
(calling)330 2686 A
12 I
3080(msg)S
12 Y1
3275(3)S
12 I
3335(rpc)S
12 Y1
3496(3)S
12 I
3556(reply)S
12 R
3815(,)S
3910(passing)S
4337(as)S
4503(parameters)S
5101(the)S
1892 V
(corresponding)691 708 A
1436(request)S
1823(message)S
2270(and)S
2481(the)S
2666(reply)S
2952(message.)S
3459(Note)S
3732(that)S
3951(the)S
12 I
4135(msg)S
12 Y1
4330(3)S
12 I
4390(rpc)S
12 Y1
4551(3)S
12 I
4611(reply)S
12 R
4906(routine)S
2032 V
708(is)S
819(a)S
903(wrapper)S
1331(on)S
1481(top)S
1665(of)S
12 I
1796(putrep)S
12 R
2121(.)S
2348 V
12 I
708(msg)S
12 Y1
903(3)S
12 I
(printaccess)551 963 A
2584 V
11 C
(void)268 1068 A
2724 V
(msg)201 1068 A
11 Y1
1269(3)S
11 C
(printaccess\(mp\))1005 1324 A
2864 V
(message)469 1068 A
(*mp;)268 1604 A
3100 V
12 R
708(The)S
950(routine)S
12 I
1347(msg)S
12 Y1
1542(3)S
12 I
(printaccess)551 1602 A
12 R
2217(prints)S
2548(the)S
2751(contents)S
3209(of)S
3365(the)S
3568(message)S
12 I
4033(mp)S
12 R
4246(to)S
12 I
(stdout)295 4395 A
12 R
4755(in)S
4904(a)S
5013(form)S
3240 V
(convenient)530 708 A
1268(for)S
1440(program)S
(debugging.)538 1880 A
3520 V
12 B
708(Warning)S
3696 V
12 R
708(The)S
926(maximum)S
1446(size)S
1665(of)S
1796(a)S
1880(message)S
2320(is)S
2431(limited)S
2805(to)S
2929(a)S
3013(fixed)S
3292(constant.)S
3872 V
708(Some)S
1013(of)S
1144(the)S
(above)288 1322 A
1640(functions)S
2120(may)S
2358(be)S
2502(implemented)S
3164(as)S
3295(macros.)S
4048 V
708(Floating)S
1152(point)S
1441(values)S
1791(are)S
1982(only)S
2238(correctly)S
2712(passed)S
3076(between)S
3522(machines)S
4021(of)S
4164(the)S
4354(same)S
4645(architecture,)S
4188 V
708(and)S
912(the)S
1090(floating-point)S
1786(value)S
2078(must)S
(occupy)348 2343 A
2721(no)S
2871(more)S
3150(than)S
3388(32)S
3538(bits.)S
4364 V
708(The)S
951(restrictions)S
1546(imposed)S
2010(by)S
2186(Amoeba)S
2652(on)S
2828(the)S
3032(use)S
3249(of)S
12 I
3406(getreq)S
12 R
3781(and)S
12 I
4011(putput)S
12 R
4385(routines)S
4831(apply)S
5155(to)S
4504 V
12 I
708(msg)S
12 Y1
903(3)S
12 I
963(rpc)S
12 Y1
1124(3)S
12 I
1184(rcv)S
12 R
1379(and)S
1583(to)S
12 I
1707(msg)S
12 Y1
1902(3)S
12 I
1962(rpc)S
12 Y1
2123(3)S
12 I
2183(reply)S
12 R
2442(.)S
4784 V
12 B
708(Examples)S
4960 V
12 R
708(There)S
1039(are)S
1236(examples)S
1741(showing)S
2198(how)S
2454(these)S
2751(routines)S
3189(are)S
3386(used)S
3655(in)S
3797(the)S
3993(sources.)S
4464(They)S
4760(are)S
4958(in)S
5101(the)S
5100 V
708(directory)S
12 I
(src/test/lib/amoeba)929 1176 A
12 R
2115(.)S
5380 V
12 B
708(See)S
913(Also)S
5556 V
12 R
708(msg)S
12 Y1
909(3)S
12 R
969(grp\(L\),)S
1346(msg)S
12 Y1
1547(3)S
12 R
1607(rpc\(L\).)S
7700 V
(266)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 267 273
BP
/slant 0 def
/height 0 def
500 V
12 R
708(msg)S
12 Y1
909(3)S
12 R
969(grp)S
1150(\(L\))S
2567(Library)S
2961(Routines)S
4651(msg)S
12 Y1
4852(3)S
12 R
4912(grp)S
5093(\(L\))S
860 V
2350(\(in)S
2515(libraries:)S
2978(libamoeba.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(msg)S
12 Y1
909(3)S
12 R
969(grp)S
12 R-1
1160(-)S
12 R
1288(message-based)S
(group)281 2044 A
2355(management)S
3003(routines)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("rrpc/msg)603 1311 A
11 Y1
1914(3)S
11 C
(rpc.h")402 1969 A
2182 V
(GROUP)335 708 A
(*msg)268 1292 A
11 Y1
1560(3)S
11 C
(grp)201 1615 A
11 Y1
1816(3)S
11 C
(join\(gname,)737 1871 A
(options,)536 2675 A
(num)201 3278 A
11 Y1
3479(3)S
11 C
(domains,)536 3534 A
2322 V
(grp)201 2278 A
11 Y1
2479(3)S
11 C
(state)335 2534 A
11 Y1
2869(3)S
11 C
(xfer)268 2924 A
11 Y1
3192(3)S
11 C
(func,)335 3247 A
(grp)201 3649 A
11 Y1
3850(3)S
11 C
(state)335 3905 A
11 Y1
4240(3)S
11 C
(rcv)201 4295 A
11 Y1
4496(3)S
11 C
(func,)335 4551 A
2462 V
(monitor)469 2278 A
11 Y1
2747(3)S
11 C
(func,)335 2802 A
(arg\);)335 3204 A
2602 V
(void)268 708 A
(msg)201 1292 A
11 Y1
1493(3)S
11 C
(grp)201 1548 A
11 Y1
1749(3)S
11 C
(leave\(gp\);)670 1804 A
2742 V
(message)469 708 A
(*msg)268 1292 A
11 Y1
1560(3)S
11 C
(grp)201 1615 A
11 Y1
1816(3)S
11 C
(receive\(gp\);)804 1871 A
2882 V
(int)201 708 A
(msg)201 1292 A
11 Y1
1493(3)S
11 C
(grp)201 1548 A
11 Y1
1749(3)S
11 C
(send\(gp,)536 1804 A
(entry,)402 2407 A
(msg\);)335 2876 A
3022 V
(void)268 708 A
(msg)201 1292 A
11 Y1
1493(3)S
11 C
(define)402 1548 A
11 Y1
1950(3)S
11 C
(grp)201 2005 A
11 Y1
2206(3)S
11 C
(entry\(gp,)603 2261 A
(entry,)402 2931 A
(func,)335 3400 A
(entry)335 3802 A
11 Y1
4137(3)S
11 C
(name\);)402 4192 A
3162 V
(int)201 708 A
(msg)201 1292 A
11 Y1
1493(3)S
11 C
(grp)201 1548 A
11 Y1
1749(3)S
11 C
(num)201 1804 A
11 Y1
2005(3)S
11 C
(members\(gp\);)804 2060 A
3502 V
12 B
708(Description)S
3678 V
12 R
708(These)S
1043(routines)S
1479(provide)S
1894(a)S
1994(message-oriented)S
(group)281 2888 A
3215(communication)S
4013(structure,)S
(built)222 4514 A
4782(on)S
4948(top)S
5148(of)S
3818 V
708(the)S
917(lower-level)S
1532(Amoeba)S
(group)281 2003 A
(facilities)420 2345 A
2826(\(see)S
12 I
3083(grp)S
12 R
3260(\(L\)\).)S
3578(Besides)S
4015(being)S
4344(based)S
(upon)240 4680 A
4981(typed)S
3958 V
708(messages,)S
1225(these)S
(group)281 1505 A
(facilities)420 1817 A
2268(differ)S
2570(from)S
2837(their)S
3091(lower-level)S
12 I
3676(grp)S
12 R
3853(\(L\))S
(counterparts)599 4040 A
4670(in)S
4795(a)S
4880(number)S
4098 V
708(of)S
877(key)S
1119(respects.)S
1638(This)S
(group)281 1920 A
(facility)345 2268 A
2680(provides)S
3163(an)S
3344(atomic)S
(group)281 3741 A
4089(create/join;)S
4703(if)S
(multiple)404 4845 A
4238 V
708(processes)S
1224(concurrently)S
1888(attempt)S
2304(to)S
2450(create)S
2793(a)S
(group,)311 2899 A
3262(only)S
3528(one)S
3754(instance)S
4203(of)S
4357(the)S
(group)281 4558 A
(will)190 4892 A
5135(be)S
4378 V
708(created.)S
1175(The)S
1419(membership)S
2073(of)S
2230(a)S
(group)281 2340 A
2677(is)S
2814(automatically)S
3530(maintained)S
4124(despite)S
4523(the)S
4727(failures)S
5148(of)S
4518 V
708(individual)S
1237(members;)S
(group)281 1754 A
2074(members)S
2557(do)S
2716(not)S
2909(call)S
3124(a)S
3217(reset)S
3487(procedure)S
4011(to)S
4145(reform)S
4516(the)S
(group)281 4704 A
5025(after)S
4658 V
708(partial)S
1099(failures.)S
1604(This)S
(facility)345 1899 A
2323(also)S
2597(allows)S
(group)281 2993 A
3353(messages)S
3889(to)S
4062(be)S
(received)411 4255 A
4745(either)S
5101(via)S
4798 V
(asynchronous)663 708 A
1401(call-backs)S
1923(or)S
(through)375 2054 A
2459(blocking)S
2911(reads.)S
5114 V
12 I
708(Error)S
1013(codes)S
5290 V
12 R
708(These)S
1047(routines)S
1487(do)S
1657(not)S
1861(return)S
2201(an)S
2365(error)S
(condition.)486 2652 A
3218(They)S
3516(block)S
(until)222 3834 A
4106(they)S
4364(are)S
4563(able)S
4815(to)S
4959(return)S
5430 V
(successfully.)622 708 A
7700 V
2683(Amoeba)S
3123(5.3)S
(267)180 5069 A
7920 V
EP
%%Page: 268 274
BP
/slant 0 def
/height 0 def
500 V
12 R
708(msg)S
12 Y1
909(3)S
12 R
969(grp)S
1150(\(L\))S
2567(Library)S
2961(Routines)S
4651(msg)S
12 Y1
4852(3)S
12 R
4912(grp)S
5093(\(L\))S
860 V
12 I
708(msg)S
12 Y1
903(3)S
12 I
963(grp)S
12 Y1
1130(3)S
12 I
1190(join)S
1096 V
11 C
(GROUP)335 1068 A
1470(*)S
1236 V
(msg)201 1068 A
11 Y1
1269(3)S
11 C
(grp)201 1324 A
11 Y1
1525(3)S
11 C
(join\(gname,)737 1580 A
(options,)536 2384 A
(num)201 2987 A
11 Y1
3188(3)S
11 C
(domains,)536 3243 A
(grp)201 3846 A
11 Y1
4047(3)S
11 C
(state)335 4102 A
11 Y1
4437(3)S
11 C
(xfer)268 4492 A
11 Y1
4760(3)S
11 C
(func,)335 4815 A
1376 V
(grp)201 1987 A
11 Y1
2188(3)S
11 C
(state)335 2243 A
11 Y1
2578(3)S
11 C
(rcv)201 2633 A
11 Y1
2834(3)S
11 C
(func,)335 2889 A
(monitor)469 3291 A
11 Y1
3760(3)S
11 C
(func,)335 3815 A
(arg\))268 4217 A
1516 V
(char)268 1068 A
(*gname;)469 1403 A
1656 V
(int)201 1068 A
(options;)536 1336 A
1796 V
(int)201 1068 A
(num)201 1336 A
11 Y1
1537(3)S
11 C
(domains;)536 1592 A
1936 V
(message)469 1068 A
(*\(*grp)402 1604 A
11 Y1
2006(3)S
11 C
(state)335 2061 A
11 Y1
2396(3)S
11 C
(xfer)268 2451 A
11 Y1
2719(3)S
11 C
(func[]\)\(int\);)871 2774 A
2076 V
(int)201 1068 A
(\(*grp)335 1336 A
11 Y1
1671(3)S
11 C
(state)335 1726 A
11 Y1
2061(3)S
11 C
(rcv)201 2116 A
11 Y1
2317(3)S
11 C
(func[]\)\(int,)804 2372 A
(message)469 3243 A
(*\);)201 3779 A
2216 V
(void)268 1068 A
(\(*monitor)603 1403 A
11 Y1
2006(3)S
11 C
(func\)\(GROUP)737 2061 A
(*gp,)268 2865 A
(void)268 3200 A
(*dummy\))469 3535 A
2356 V
(void)268 1068 A
(*arg;)335 1403 A
2592 V
12 R
708(To)S
874(join)S
1095(a)S
(group,)311 1182 A
1526(a)S
1613(process)S
2009(calls)S
12 I
2265(msg)S
12 Y1
2460(3)S
12 I
2520(grp)S
12 Y1
2687(3)S
12 I
2747(join)S
12 R
2945(.)S
3038(This)S
3286(routine)S
3662(atomically)S
4207(creates)S
4578(the)S
(group)281 4759 A
5073(if)S
5181(it)S
2732 V
708(does)S
966(not)S
1157(already)S
1551(exist.)S
12 I
1876(Msg)S
12 Y1
2084(3)S
12 I
2144(grp)S
12 Y1
2311(3)S
12 I
2371(join)S
12 R
2605(takes)S
2890(as)S
3027(parameters)S
3596(the)S
3780(name)S
4078(of)S
4215(the)S
(group)281 4399 A
4716(as)S
4853(a)S
4943(string,)S
2872 V
708(an)S
861(integer)S
1237(variable)S
1667(specifying)S
2210(any)S
2423(options,)S
2847(and)S
3060(parameters)S
3632(used)S
3892(for)S
4073(state)S
4335(transfer.)S
4807(The)S
5035(only)S
3012 V
708(options)S
1130(currently)S
(supported)476 1635 A
2178(are)S
12 C
(MSG)219 2393 A
12 Y1
2612(3)S
12 C
(GRP)219 2672 A
12 Y1
2891(3)S
12 C
(MANUAL)438 2951 A
12 Y1
3389(3)S
12 C
(RCV)219 3449 A
12 R
3668(,)S
3764(and)S
12 C
(MSG)219 4004 A
12 Y1
4223(3)S
12 C
(GRP)219 4283 A
12 Y1
4502(3)S
12 C
(RESILIENT)657 4562 A
12 R
5219(.)S
3152 V
708(The)S
931(chosen)S
1301(options)S
1691(are)S
(ANDed)378 1875 A
2288(together.)S
2781(The)S
3005(option)S
12 C
(MSG)219 3349 A
12 Y1
3568(3)S
12 C
(GRP)219 3628 A
12 Y1
3847(3)S
12 C
(RESILIENT)657 3907 A
12 R
4600(indicates)S
5067(that)S
3292 V
708(the)S
(group)281 991 A
1407(is)S
1623(to)S
1852(be)S
2101(fully)S
(resilient)392 2465 A
2992(to)S
3221(failures)S
3721(\(see)S
12 I
4051(grp)S
12 R
4228(\(L\)\).)S
4619(The)S
4941(option)S
3432 V
12 C
(MSG)219 708 A
12 Y1
927(3)S
12 C
(GRP)219 987 A
12 Y1
1206(3)S
12 C
(MANUAL)438 1266 A
12 Y1
1704(3)S
12 C
(RCV)219 1764 A
12 R
(will)190 2029 A
2265(be)S
2425(described)S
2935(shortly.)S
3377(All)S
3579(processes)S
4089(seeking)S
4504(to)S
4645(join)S
4880(a)S
4981(given)S
3572 V
(group)281 708 A
1019(must)S
1284(call)S
12 I
1490(msg)S
12 Y1
1685(3)S
12 I
1745(grp)S
12 Y1
1912(3)S
12 I
1972(join)S
12 R
2200(with)S
2446(the)S
2624(same)S
2903(parameters.)S
3748 V
708(When)S
1029(a)S
1116(process)S
1512(joins)S
1780(an)S
1927(existing)S
(group,)311 2343 A
2687(the)S
2868(library)S
3225(is)S
3340(capable)S
3744(of)S
3879(atomically)S
4425(transferring)S
5026(state)S
3888 V
708(from)S
988(the)S
1180(existing)S
1607(members)S
2095(of)S
2240(the)S
(group)281 2432 A
2757(to)S
2895(the)S
3087(new)S
3332(member.)S
3832(This)S
4090(automatic)S
4611(state)S
4877(transfer)S
4028 V
708(feature)S
1091(is)S
1217(useful)S
1558(when)S
1865(constructing)S
2508(fault-tolerant)S
3188(applications)S
3818(using)S
4124(active)S
4459(replication,)S
5054(also)S
4168 V
(known)328 708 A
1077(as)S
1219(the)S
12 I
1408(state-machine)S
12 R
2139(approach.)S
2683(If)S
2806(all)S
2969(processes)S
(belonging)482 3474 A
3997(to)S
4132(the)S
(group)281 4321 A
4642(are)S
4831(identical)S
4308 V
708(and)S
918(deterministic,)S
1618(then)S
1862(all)S
2020(replicas)S
(will)190 2434 A
2660(have)S
2924(the)S
3108(same)S
3393(state)S
3652(at)S
3776(the)S
3961(time)S
4214(the)S
4399(join)S
4624(is)S
4742(processed.)S
4448 V
708(\(This)S
995(follows)S
1390(from)S
1657(the)S
1836(deterministic)S
2501(nature)S
2835(of)S
2967(the)S
3146(processes,)S
3671(the)S
3850(fact)S
4064(that)S
4277(the)S
(group)281 4456 A
4768(join)S
4987(event)S
4588 V
708(is)S
831(totally)S
1183(ordered)S
1595(with)S
1853(respect)S
2239(to)S
2375(all)S
2539(other)S
(group)281 2831 A
3155(communication,)S
3980(and)S
4197(the)S
4388(fact)S
4614(that)S
4839(Amoeba)S
4728 V
708(threads)S
1105(are)S
1301(scheduled)S
(non-preemptively)860 1831 A
2738(by)S
2905(default.\))S
3390(The)S
3624(library)S
3994(causes)S
4356(the)S
4550(state)S
4819(from)S
5101(the)S
4868 V
708(existing)S
1121(members)S
1595(to)S
1719(be)S
1863(transferred)S
2420(to)S
2544(the)S
2722(new)S
2954(member.)S
5044 V
708(To)S
882(carry)S
1173(out)S
1368(a)S
1463(state)S
1727(transfer,)S
2170(the)S
2359(state)S
2623(is)S
2745(divided)S
3148(into)S
3377(a)S
3472(number)S
3882(of)S
4024(domains.)S
4534(The)S
4763(parameter)S
5184 V
12 I
708(num)S
12 Y1
916(3)S
12 I
976(domains)S
12 R
1459(specifies)S
1948(the)S
2160(number)S
2593(of)S
2758(domains)S
3231(to)S
3389(be)S
3567(used.)S
3911(The)S
4162(user-specified)S
4906(routine)S
5324 V
12 I
708(grp)S
12 Y1
875(3)S
12 I
935(state)S
12 Y1
1164(3)S
12 I
1224(xfer)S
12 Y1
1413(3)S
12 I
1473(func)S
12 R
1723(is)S
1836(called)S
2158(once)S
2418(for)S
(each)222 2592 A
2846(domain,)S
3270(with)S
3518(the)S
3698(domain)S
4092(number)S
4493(being)S
4793(passed)S
5148(as)S
5464 V
708(the)S
889(parameter.)S
1468(This)S
1716(routine)S
2092(is)S
2206(expected)S
2669(to)S
2795(return)S
3117(a)S
3203(message)S
3645(pointer.)S
4080(The)S
12 I
4300(grp)S
12 Y1
4467(3)S
12 I
4527(state)S
12 Y1
4756(3)S
12 I
4816(rcv)S
12 Y1
4971(3)S
12 I
5031(func)S
5604 V
12 R
708(is)S
822(called)S
1145(in)S
1272(the)S
1453(new)S
1688(member)S
2118(once)S
2379(for)S
(each)222 2554 A
2809(domain,)S
3235(with)S
3485(two)S
3701(parameters:)S
4302(the)S
4484(domain)S
4880(number)S
5744 V
708(and)S
922(a)S
1016(pointer)S
1399(to)S
1533(the)S
1721(message)S
2171(which)S
2507(was)S
2736(generated)S
3247(by)S
(calling)330 3407 A
12 I
3777(grp)S
12 Y1
3944(3)S
12 I
4004(state)S
12 Y1
4233(3)S
12 I
4293(xfer)S
12 Y1
4482(3)S
12 I
4542(func)S
12 R
4800(in)S
4934(one)S
5148(of)S
5884 V
708(the)S
888(existing)S
(group)281 1303 A
1616(members)S
2092(with)S
2340(that)S
2554(domain)S
2948(number)S
3349(as)S
3482(the)S
3662(parameter.)S
4240(If)S
4354(no)S
4507(state)S
4763(transfer)S
5168(is)S
6024 V
708(required)S
1149(when)S
1448(joining)S
1827(a)S
(group,)311 1918 A
2265(then)S
12 I
2509(num)S
12 Y1
2717(3)S
12 I
2777(domains)S
12 R
(should)321 3232 A
3589(be)S
3739(specified)S
4213(as)S
4350(zero.)S
4655(In)S
4792(that)S
5010(case,)S
6164 V
708(the)S
917(parameters)S
12 I
1511(grp)S
12 Y1
1678(3)S
12 I
1738(state)S
12 Y1
1967(3)S
12 I
2027(xfer)S
12 Y1
2216(3)S
12 I
2276(func)S
12 R
2555(and)S
12 I
2790(grp)S
12 Y1
2957(3)S
12 I
3017(state)S
12 Y1
3246(3)S
12 I
3306(rcv)S
12 Y1
3461(3)S
12 I
3521(func)S
12 R
(should)321 3800 A
4182(be)S
4357(specified)S
4857(as)S
5020(null-)S
6304 V
708(parameters.)S
6480 V
708(The)S
12 I
957(msg)S
12 Y1
1152(3)S
12 I
1212(grp)S
12 Y1
1379(3)S
12 I
1439(join)S
12 R
1698(routine)S
2102(also)S
2358(allows)S
2737(a)S
2853(call-back)S
3360(routine)S
3765(to)S
3921(be)S
4097(specified,)S
4627(to)S
4783(be)S
4959(called)S
6620 V
708(whenever)S
1232(the)S
1433(membership)S
2084(of)S
2237(the)S
(group)281 2437 A
2770(changes.)S
3271(The)S
3511(specified)S
4001(call-back)S
4498(routine)S
(will)190 4893 A
5135(be)S
6760 V
708(called)S
1029(with)S
1276(two)S
1489(parameters:)S
2087(the)S
(group)281 2267 A
2580(pointer)S
2955(and)S
3161(the)S
3341(value)S
3635(given)S
3935(as)S
4068(the)S
12 I
4248(arg)S
12 R
4457(parameter)S
4975(to)S
5101(the)S
6900 V
12 I
708(msg)S
12 Y1
903(3)S
12 I
963(grp)S
12 Y1
1130(3)S
12 I
1190(join)S
12 R
1441(call.)S
1730(If)S
1865(a)S
1972(call-back)S
2470(routine)S
2866(is)S
3000(specified,)S
3520(it)S
(will)190 3640 A
3882(be)S
4048(called)S
4390(for)S
4584(the)S
4784(first)S
5033(time)S
7040 V
708(before)S
1048(the)S
12 I
1226(msg)S
12 Y1
1421(3)S
12 I
1481(grp)S
12 Y1
1648(3)S
12 I
1708(join)S
12 R
1936(routine)S
2309(returns.)S
7216 V
708(The)S
12 I
965(msg)S
12 Y1
1160(3)S
12 I
1220(grp)S
12 Y1
1387(3)S
12 I
1447(join)S
12 R
1715(routine)S
2128(returns)S
2535(a)S
2659(pointer)S
3072(to)S
3236(a)S
(group)281 3360 A
3711(structure;)S
4240(this)S
4485(handle)S
4877(is)S
5028(used)S
7700 V
(268)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 269 275
BP
/slant 0 def
/height 0 def
500 V
12 R
708(msg)S
12 Y1
909(3)S
12 R
969(grp)S
1150(\(L\))S
2567(Library)S
2961(Routines)S
4651(msg)S
12 Y1
4852(3)S
12 R
4912(grp)S
5093(\(L\))S
860 V
708(subsequently)S
1368(to)S
1492(identify)S
1899(the)S
(group.)311 2077 A
1176 V
12 I
708(msg)S
12 Y1
903(3)S
12 I
963(grp)S
12 Y1
1130(3)S
12 I
1190(leave)S
1412 V
11 C
(void)268 1068 A
1552 V
(msg)201 1068 A
11 Y1
1269(3)S
11 C
(grp)201 1324 A
11 Y1
1525(3)S
11 C
(leave\(gp\))603 1580 A
1692 V
(GROUP)335 1068 A
(*gp;)268 1470 A
1928 V
12 R
708(A)S
841(process)S
1249(may)S
(explicitly)458 1502 A
2005(depart)S
2353(from)S
2634(a)S
(group)281 2733 A
3059(by)S
(calling)330 3224 A
12 I
3599(msg)S
12 Y1
3794(3)S
12 I
3854(grp)S
12 Y1
4021(3)S
12 I
4081(leave)S
12 R
4347(.)S
4452(The)S
4685(failure)S
5048(of)S
5195(a)S
2068 V
708(process)S
1101(automatically)S
1791(causes)S
2137(the)S
(group)281 2315 A
2626(to)S
2750(be)S
2894(reformed)S
(without)370 3369 A
3769(the)S
3947(failed)S
4254(member.)S
4741(Unlike)S
5101(the)S
2208 V
708(lower)S
1017(level)S
1286(Amoeba)S
(group)281 1729 A
2043(routines)S
2466(\(see)S
12 I
2695(grp)S
12 R
2872(\(L\)\),)S
3132(processes)S
3629(using)S
3923(these)S
(group)281 4205 A
4519(routines)S
4942(do)S
5095(not)S
2348 V
708(reform)S
1088(the)S
(group)281 1285 A
(upon)240 1615 A
1904(member)S
2350(failures)S
2763(or)S
2912(departures.)S
3525(The)S
(group)281 3761 A
4090(routines)S
4528(described)S
5040(here)S
2488 V
708(automatically)S
1398(maintain)S
1852(the)S
2030(membership)S
2658(of)S
2789(the)S
(group.)311 2967 A
2664 V
708(Note)S
1011(that)S
1260(a)S
(group)281 1381 A
1729(join)S
1984(is)S
2132(totally)S
2509(ordered)S
2946(with)S
3229(respect)S
3640(to)S
3801(other)S
(group)281 4118 A
4467(communication.)S
2804 V
708(Moreover,)S
1253(just)S
1466(as)S
(each)222 1605 A
1865(message)S
2313(sent)S
2545(is)S
2663(processed)S
3177(sequentially,)S
3829(a)S
(group)281 3920 A
4238(join)S
4463(is)S
4581(not)S
4772(processed)S
2944 V
(until)222 708 A
(each)222 983 A
1258(message)S
1721(ordered)S
2144(before)S
2507(the)S
2708(join)S
2949(has)S
3163(been)S
(accepted)424 3444 A
3921(by)S
4094(the)S
4295(program)S
4758(\(either)S
5129(by)S
3084 V
(calling)330 708 A
12 I
1097(msg)S
12 Y1
1292(3)S
12 I
1352(grp)S
12 Y1
1519(3)S
12 I
1579(send)S
12 R
1869(or)S
2028(by)S
2206(returning)S
2708(from)S
3002(the)S
3208(appropriate)S
3818(call-back)S
4321(routine\).)S
4823(It)S
4956(is)S
5095(not)S
3224 V
708(possible)S
1144(that)S
1366(the)S
1554(state)S
1817(transfer)S
2229(routines)S
(will)190 2659 A
2889(be)S
3043(called)S
3374(while)S
3685(the)S
3874(program)S
4325(is)S
4447(in)S
4582(the)S
4771(middle)S
5148(of)S
3364 V
708(executing)S
1208(the)S
1386(message)S
(receive)351 1826 A
2207(call-back)S
2682(routine.)S
3680 V
12 I
708(msg)S
12 Y1
903(3)S
12 I
963(grp)S
12 Y1
1130(3)S
12 I
1190(send)S
3916 V
11 C
(void)268 1068 A
4056 V
(msg)201 1068 A
11 Y1
1269(3)S
11 C
(send\(gp,)536 1324 A
(entry,)402 1927 A
(msg\))268 2396 A
4196 V
(GROUP)335 1068 A
(*gp;)268 1470 A
4336 V
(int)201 1068 A
(entry;)402 1336 A
4476 V
(message)469 1068 A
(*msg;)335 1604 A
4712 V
12 R
708(A)S
837(message)S
1288(is)S
1410(broadcast)S
1915(to)S
2050(the)S
(group)281 2239 A
2562(by)S
(invoking)428 2724 A
12 I
3194(msg)S
12 Y1
3389(3)S
12 I
3449(grp)S
12 Y1
3616(3)S
12 I
3676(send)S
12 R
3907(,)S
3979(passing)S
4383(as)S
4526(parameters)S
5101(the)S
4852 V
(group)281 708 A
1029(pointer,)S
1442(an)S
1596(entry)S
1885(number,)S
2324(and)S
2538(a)S
2632(pointer)S
3015(to)S
3149(the)S
3337(message)S
3787(to)S
3921(be)S
4075(sent)S
4310(to)S
4444(the)S
(group.)311 4632 A
5013(How)S
4992 V
708(messages)S
1289(are)S
1562(handled)S
(upon)240 2068 A
(receipt)331 2432 A
2887(depends)S
3406(on)S
3650(whether)S
4165(or)S
4390(not)S
4668(the)S
4941(option)S
5132 V
12 C
(MSG)219 708 A
12 Y1
927(3)S
12 C
(GRP)219 987 A
12 Y1
1206(3)S
12 C
(MANUAL)438 1266 A
12 Y1
1704(3)S
12 C
(RCV)219 1764 A
12 R
2013(was)S
2232(specified.)S
5308 V
708(If)S
12 C
(MSG)219 830 A
12 Y1
1049(3)S
12 C
(GRP)219 1109 A
12 Y1
1328(3)S
12 C
(MANUAL)438 1388 A
12 Y1
1826(3)S
12 C
(RCV)219 1886 A
12 R
2145(is)S
2266(not)S
2460(specified,)S
2968(then)S
3216(a)S
3310(separate)S
3748(thread)S
4091(is)S
4212(created)S
4603(which)S
4939(listens)S
5448 V
708(for)S
881(messages.)S
1429(When)S
1748(a)S
1833(message)S
2274(is)S
(received)411 2386 A
2828(which)S
3155(was)S
3375(sent)S
3600(to)S
3724(a)S
3808(specified)S
4276(entry)S
4555(point,)S
4863(then)S
5101(the)S
5588 V
708(user-defined)S
1362(call-back)S
1855(routine)S
2246(for)S
2436(that)S
2666(entry)S
2963(point)S
3259(is)S
(invoked,)418 3388 A
3854(with)S
4118(a)S
4221(pointer)S
4613(to)S
4756(the)S
4953(newly)S
5728 V
(received)411 708 A
1154(message)S
1599(as)S
1735(the)S
1918(parameter.)S
2499(The)S
2722(message)S
3167(is)S
3283(deleted)S
3668(by)S
3823(the)S
4006(library)S
4364(after)S
4622(the)S
4804(call-back)S
5868 V
708(routine)S
1130(returns;)S
1580(if)S
1734(the)S
1961(message)S
2450(is)S
2610(to)S
2783(persist,)S
3209(then)S
3496(the)S
3724(call-back)S
4249(routine)S
(should)321 4672 A
5073(call)S
6008 V
12 I
708(msg)S
12 Y1
903(3)S
12 I
(increfcount)551 963 A
12 R
1554(\(see)S
12 I
1780(msg)S
12 R
1985(\(L\)\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(269)180 5069 A
7920 V
EP
%%Page: 270 276
BP
/slant 0 def
/height 0 def
500 V
12 R
708(msg)S
12 Y1
909(3)S
12 R
969(grp)S
1150(\(L\))S
2567(Library)S
2961(Routines)S
4651(msg)S
12 Y1
4852(3)S
12 R
4912(grp)S
5093(\(L\))S
860 V
12 I
708(msg)S
12 Y1
903(3)S
12 I
963(define)S
12 Y1
1259(3)S
12 I
1319(grp)S
12 Y1
1486(3)S
12 I
1546(entry)S
1096 V
11 C
(void)268 1068 A
1236 V
(msg)201 1068 A
11 Y1
1269(3)S
11 C
(define)402 1324 A
11 Y1
1726(3)S
11 C
(grp)201 1781 A
11 Y1
1982(3)S
11 C
(entry\(gp,)603 2037 A
(entry,)402 2707 A
(func,)335 3176 A
(entry)335 3578 A
11 Y1
3913(3)S
11 C
(name\))335 3968 A
1376 V
(GROUP)335 1068 A
(*gp;)268 1470 A
1516 V
(int)201 1068 A
(entry;)402 1336 A
1656 V
(void)268 1068 A
(\(*func\)\(message)1005 1403 A
(*\);)201 2475 A
1796 V
(char)268 1068 A
(*entry)402 1403 A
11 Y1
1805(3)S
11 C
(name;)335 1860 A
2032 V
12 R
708(Call-back)S
1331(routines)S
1873(for)S
(accepting)464 2167 A
(group)281 2784 A
3218(messages)S
3828(are)S
4130(defined)S
4646(by)S
(calling)330 4919 A
2172 V
12 I
708(msg)S
12 Y1
903(3)S
12 I
963(define)S
12 Y1
1259(3)S
12 I
1319(grp)S
12 Y1
1486(3)S
12 I
1546(entry)S
12 R
1805(,)S
1894(passing)S
2315(as)S
2475(parameters)S
3067(the)S
(group)281 3273 A
3612(pointer,)S
4043(the)S
4249(entry)S
4556(number)S
4983(to)S
5135(be)S
2312 V
708(defined,)S
1146(the)S
1340(address)S
1749(of)S
1896(the)S
2090(function)S
2539(to)S
2679(be)S
2839(called)S
3175(when)S
3483(a)S
3583(message)S
4039(is)S
(received,)441 4166 A
4653(and)S
4873(a)S
4973(string)S
2452 V
708(denoting)S
1177(the)S
1372(name)S
1681(of)S
1829(the)S
2024(function.)S
2534(Entry)S
2850(numbers)S
3313(are)S
3509(small)S
3819(integers)S
4250(in)S
4391(the)S
4586(range)S
4902(of)S
5049(0)S
5155(to)S
2592 V
12 C
(MAX)219 708 A
12 Y1
927(3)S
12 C
(MSG)219 987 A
12 Y1
1206(3)S
12 C
(ENTRIES)511 1266 A
12 Y
1777(-)S
12 R
1843(1.)S
2000(If)S
2119(a)S
2211(message)S
2659(is)S
(received)411 2778 A
3227(for)S
3407(an)S
3559(entry)S
3846(point)S
4132(for)S
4312(which)S
4646(no)S
4804(call-back)S
2732 V
708(function)S
1141(has)S
1332(been)S
1590(defined,)S
2013(then)S
2251(the)S
2429(message)S
2869(is)S
2980(simply)S
3339(discarded.)S
3048 V
12 I
708(msg)S
12 Y1
903(3)S
12 I
963(grp)S
12 Y1
1130(3)S
12 I
(receive)351 1190 A
3284 V
11 C
(message)469 1068 A
1604(*)S
3424 V
(msg)201 1068 A
11 Y1
1269(3)S
11 C
(grp)201 1324 A
11 Y1
1525(3)S
11 C
(receive\(gp\))737 1580 A
3564 V
(GROUP)335 1068 A
(*gp;)268 1470 A
3800 V
12 R
708(Messages)S
1233(may)S
1497(be)S
1667(manually)S
(received,)441 2173 A
2670(by)S
2846(specifying)S
3406(the)S
3610(option)S
12 C
(MSG)219 3974 A
12 Y1
4193(3)S
12 C
(GRP)219 4253 A
12 Y1
4472(3)S
12 C
(MANUAL)438 4532 A
12 Y1
4970(3)S
12 C
(RCV)219 5030 A
3940 V
12 R
708(when)S
1016(joining)S
1404(the)S
(group.)311 1598 A
1985(In)S
2132(this)S
2353(case,)S
2638(no)S
2803(thread)S
3151(is)S
3277(created)S
3673(to)S
3812(listen)S
4120(for)S
4307(messages.)S
4869(Instead,)S
4080 V
708(messages)S
1205(are)S
(accepted)424 1394 A
1858(by)S
(calling)330 2018 A
2388(the)S
2576(function)S
12 I
3020(msg)S
12 Y1
3215(3)S
12 I
3275(grp)S
12 Y1
3442(3)S
12 I
(receive)351 3502 A
12 R
3863(,)S
3934(passing)S
4337(as)S
4479(a)S
4574(parameter)S
5101(the)S
4220 V
(group)281 708 A
1026(pointer.)S
1466(This)S
1718(routine)S
2098(blocks)S
(until)222 2450 A
2708(a)S
2798(a)S
2888(message)S
3334(is)S
(received.)441 3451 A
3958(It)S
4069(then)S
4313(returns)S
4686(a)S
4776(pointer)S
5155(to)S
4360 V
708(the)S
886(message.)S
4676 V
12 I
708(msg)S
12 Y1
903(3)S
12 I
963(grp)S
12 Y1
1130(3)S
12 I
1190(num)S
12 Y1
1398(3)S
12 I
1458(members)S
4912 V
11 C
(int)201 1068 A
5052 V
(msg)201 1068 A
11 Y1
1269(3)S
11 C
(grp)201 1324 A
11 Y1
1525(3)S
11 C
(num)201 1580 A
11 Y1
1781(3)S
11 C
(members\(gp\))737 1836 A
5192 V
(GROUP)335 1068 A
(*gp;)268 1470 A
5428 V
12 R
708(The)S
1008(current)S
1464(number)S
1945(of)S
2158(members)S
2714(in)S
2920(a)S
(group)281 3086 A
3480(may)S
3801(be)S
4028(determined)S
4686(by)S
(calling)330 4919 A
5568 V
12 I
708(msg)S
12 Y1
903(3)S
12 I
963(grp)S
12 Y1
1130(3)S
12 I
1190(num)S
12 Y1
1398(3)S
12 I
1458(members)S
12 R
1936(with)S
2182(the)S
2360(address)S
2753(of)S
2884(the)S
(group)281 3062 A
3373(structure)S
3828(as)S
3959(a)S
4043(parameter.)S
5848 V
12 B
708(Warning)S
6024 V
12 R
708(If)S
820(all)S
973(members)S
1448(of)S
1580(a)S
(group)281 1665 A
1977(fail,)S
2201(and)S
2406(new)S
2639(processes)S
3134(then)S
3373(immediately)S
4010(join)S
4229(an)S
4374(identically-named)S
6164 V
(group,)311 708 A
1076(then)S
1341(the)S
(underlying)523 1546 A
2126(Amoeba)S
(group)281 2593 A
2931(structure)S
3413(gets)S
3665(confused,)S
(resulting)424 4187 A
4667(in)S
4817(incorrect)S
6304 V
708(behavior.)S
1228(This)S
1480(problem)S
1920(can)S
2125(only)S
2376(be)S
2527(avoided)S
2946(by)S
(waiting)364 3103 A
3504(a)S
3595(few)S
(seconds)382 3815 A
4234(for)S
4413(Amoeba)S
4861(to)S
4993(clean)S
6444 V
708(up)S
858(the)S
1036(kernel)S
(group)281 1369 A
1680(information)S
2282(before)S
2622(recreating)S
3138(the)S
(group.)311 3316 A
6724 V
12 B
708(Examples)S
6900 V
12 R
708(There)S
1039(are)S
1236(examples)S
1741(showing)S
2198(how)S
2454(these)S
2751(routines)S
3189(are)S
3386(used)S
3655(in)S
3797(the)S
3993(sources.)S
4464(They)S
4760(are)S
4958(in)S
5101(the)S
7040 V
708(directory)S
12 I
(src/test/lib/amoeba)929 1176 A
12 R
2115(.)S
7700 V
(270)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 271 277
BP
/slant 0 def
/height 0 def
500 V
12 R
708(msg)S
12 Y1
909(3)S
12 R
969(grp)S
1150(\(L\))S
2567(Library)S
2961(Routines)S
4651(msg)S
12 Y1
4852(3)S
12 R
4912(grp)S
5093(\(L\))S
860 V
12 B
708(See)S
913(Also)S
1036 V
12 R
708(grp\(L\),)S
1085(msg\(L\),)S
1502(msg)S
12 Y1
1703(3)S
12 R
1763(rpc\(L\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(271)180 5069 A
7920 V
EP
%%Page: 272 278
BP
/slant 0 def
/height 0 def
500 V
12 R
708(msg)S
12 Y1
909(3)S
12 R
969(rpc)S
1144(\(L\))S
2567(Library)S
2961(Routines)S
4657(msg)S
12 Y1
4858(3)S
12 R
4918(rpc)S
5093(\(L\))S
860 V
2350(\(in)S
2515(libraries:)S
2978(libamoeba.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(msg)S
12 Y1
909(3)S
12 R
969(rpc)S
12 R-1
1154(-)S
12 R
1282(fault-tolerant)S
1947(message-based)S
2703(remote)S
3070(procedure)S
3584(call)S
3790(routines)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("rrpc/msg)603 1311 A
11 Y1
1914(3)S
11 C
(rpc.h")402 1969 A
2182 V
(CTXT)268 708 A
11 Y1
976(3)S
11 C
(NOD)201 1031 A
1299(*)S
2322 V
(ctx)201 708 A
11 Y1
909(3)S
11 C
(define)402 964 A
11 Y1
1366(3)S
11 C
(context\(context)1005 1421 A
11 Y1
2426(3)S
11 C
(name,)335 2481 A
(replicated,)737 2883 A
(num)201 3687 A
11 Y1
3888(3)S
11 C
(state)335 3943 A
11 Y1
4278(3)S
11 C
(domains,)536 4333 A
2462 V
(state)335 2077 A
11 Y1
2412(3)S
11 C
(xfer)268 2467 A
11 Y1
2735(3)S
11 C
(routine,)536 2790 A
(state)335 3393 A
11 Y1
3728(3)S
11 C
(rcv)201 3783 A
11 Y1
3984(3)S
11 C
(routine\);)603 4039 A
2602 V
(void)268 708 A
(ctx)201 1292 A
11 Y1
1493(3)S
11 C
(define)402 1548 A
11 Y1
1950(3)S
11 C
(entry\(entry,)804 2005 A
(func,)335 2876 A
(entry)335 3278 A
11 Y1
3613(3)S
11 C
(name\);)402 3668 A
2742 V
(CTXT)268 708 A
11 Y1
976(3)S
11 C
(NODE)268 1031 A
(*ctx)268 1366 A
11 Y1
1634(3)S
11 C
(lookup)402 1689 A
11 Y1
2091(3)S
11 C
(context\(context)1005 2146 A
11 Y1
3151(3)S
11 C
(name\);)402 3206 A
2882 V
(int)201 708 A
(ctx)201 1292 A
11 Y1
1493(3)S
11 C
(rpc\(ctxtp,)670 1548 A
(entry,)402 2285 A
(*req)268 2754 A
11 Y1
3022(3)S
11 C
(mp,)201 3077 A
(**reply\);)603 3345 A
3222 V
12 B
708(Description)S
3398 V
12 R
708(These)S
1033(routines,)S
1489(together)S
1922(with)S
2174(the)S
2358(message)S
2804(library)S
3164(routines)S
3590(\(see)S
12 I
3822(msg)S
12 R
4027(\(L\)\))S
4261(provide)S
4667(a)S
4758(high-level)S
3538 V
708(mechanism)S
1299(for)S
1481(making)S
1883(remote)S
2260(procedure)S
2784(calls.)S
3107(An)S
3294(application)S
3871(using)S
4171(these)S
4459(routines)S
4888(may)S
5135(be)S
3678 V
708(made)S
1018(fault-tolerant)S
1701(by)S
1869(following)S
2388(some)S
2691(simple)S
3062(rules)S
3346(in)S
3488(constructing)S
4134(the)S
4330(program,)S
4818(and)S
5041(then)S
3818 V
708(simply)S
(running)375 1078 A
(multiple)404 1494 A
1939(replicas)S
2357(of)S
(each)222 2498 A
2760(application)S
(component.)566 3338 A
3974(In)S
4115(particular,)S
4651(the)S
4839(program)S
3958 V
(components)583 708 A
1380(must)S
1704(be)S
1907(constructed)S
2554(as)S
12 I
2744(state-machines)S
12 R
3481(.)S
3630(Programs)S
4183(must)S
4507(be)S
4711(completely)S
4098 V
708(deterministic,)S
1402(with)S
1648(their)S
1901(outputs)S
2286(determined)S
2861(solely)S
3180(by)S
3330(the)S
3508(sequence)S
3981(of)S
4112(messages)S
(received.)441 4599 A
4414 V
12 I
708(Error)S
1013(codes)S
4590 V
12 R
708(The)S
12 I
931(ctx)S
12 Y1
1073(3)S
12 I
1133(rpc)S
12 R
1339(routine)S
1717(returns)S
12 Y
2089(-)S
12 R
2155(1)S
2250(if)S
2360(the)S
2544(remote)S
2917(procedure)S
3437(call)S
3649(fails,)S
3925(which)S
4257(happens)S
4688(if)S
4799(there)S
5078(is)S
5195(a)S
4730 V
708(total)S
954(failure)S
1302(of)S
1433(the)S
1611(service.)S
5046 V
12 I
708(ctx)S
12 Y1
850(3)S
12 I
910(define)S
12 Y1
1206(3)S
12 I
1266(context)S
5282 V
11 C
(CTXT)268 1068 A
11 Y1
1336(3)S
11 C
(NODE)268 1391 A
5422 V
(*ctx)268 1068 A
11 Y1
1336(3)S
11 C
(define)402 1391 A
11 Y1
1793(3)S
11 C
(context\(context)1005 1848 A
11 Y1
2853(3)S
11 C
(name,)335 2908 A
(replicated,)737 3310 A
(num)201 4114 A
11 Y1
4315(3)S
11 C
(state)335 4370 A
11 Y1
4705(3)S
11 C
(domains,)536 4760 A
5562 V
(state)335 2504 A
11 Y1
2839(3)S
11 C
(xfer)268 2894 A
11 Y1
3162(3)S
11 C
(routine,)536 3217 A
(state)335 3820 A
11 Y1
4155(3)S
11 C
(rcv)201 4210 A
11 Y1
4411(3)S
11 C
(routine\))536 4466 A
5702 V
(char)268 1068 A
(*context)536 1403 A
11 Y1
1939(3)S
11 C
(name;)335 1994 A
5842 V
(int)201 1068 A
(replicated;)737 1336 A
5982 V
(int)201 1068 A
(num)201 1336 A
11 Y1
1537(3)S
11 C
(state)335 1592 A
11 Y1
1927(3)S
11 C
(domains;)536 1982 A
6122 V
(message)469 1068 A
(*\(*state)536 1604 A
11 Y1
2140(3)S
11 C
(xfer)268 2195 A
11 Y1
2463(3)S
11 C
(routine[]\)\(int\);)1072 2518 A
6262 V
(int)201 1068 A
(\(*state)469 1336 A
11 Y1
1805(3)S
11 C
(rcv)201 1860 A
11 Y1
2061(3)S
11 C
(routine[]\)\(int,)1005 2116 A
(message)469 3188 A
(*\);)201 3724 A
6498 V
12 R
708(A)S
840(program)S
1295(wishing)S
1723(to)S
1862(make)S
2169(or)S
(receive)351 2315 A
2711(remote)S
3093(procedure)S
3622(calls)S
3890(using)S
4196(these)S
4490(library)S
4859(routines)S
6638 V
708(must)S
996(first)S
1246(identify)S
1676(itself)S
1972(to)S
2118(the)S
2318(library.)S
2754(A)S
2894(program)S
3356(gives)S
3663(itself)S
3959(an)S
(identity)370 4125 A
4547(by)S
(calling)330 4719 A
5101(the)S
6778 V
708(routine)S
12 I
1097(ctx)S
12 Y1
1239(3)S
12 I
1299(define)S
12 Y1
1595(3)S
12 I
1655(context)S
12 R
2015(.)S
2121(The)S
12 I
2355(context)S
12 Y1
2705(3)S
12 I
2765(name)S
12 R
3083(parameter)S
3615(specifies)S
4087(the)S
4282(name)S
4591(by)S
4758(which)S
5101(the)S
6918 V
708(program)S
1163(\(or)S
1350(replicated)S
1874(set)S
2054(of)S
2200(programs\))S
2743(is)S
2869(to)S
3008(be)S
(known)328 3167 A
3540(by.)S
3765(If)S
3892(only)S
4150(a)S
4248(single)S
4581(replica)S
4956(of)S
5101(the)S
7058 V
708(program)S
1150(is)S
1263(to)S
1389(be)S
1535(run,)S
1758(then)S
1998(the)S
12 I
2178(replicated)S
12 R
2711(parameter)S
(should)321 3229 A
3582(have)S
3843(the)S
4024(value)S
4319(of)S
4453(false)S
4716(\(zero\);)S
5074(this)S
7198 V
708(enables)S
1109(certain)S
1478(performance)S
2128(optimizations)S
2824(to)S
2955(be)S
3106(applied.)S
3559(Otherwise,)S
4126(the)S
4311(value)S
4610(of)S
12 I
4748(replicated)S
7338 V
12 R
(should)321 708 A
1059(be)S
1203(true)S
1422(\(one\).)S
7700 V
(272)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 273 279
BP
/slant 0 def
/height 0 def
500 V
12 R
708(msg)S
12 Y1
909(3)S
12 R
969(rpc)S
1144(\(L\))S
2567(Library)S
2961(Routines)S
4657(msg)S
12 Y1
4858(3)S
12 R
4918(rpc)S
5093(\(L\))S
860 V
708(When)S
1035(a)S
1128(new)S
1369(server)S
1706(replica)S
2077(joins)S
2352(an)S
2506(existing)S
2929(service,)S
3343(it)S
3451(is)S
3572(required)S
4016(that)S
4238(the)S
4426(new)S
4668(replica)S
5039(start)S
1000 V
708(processing)S
1255(requests)S
1682(in)S
1806(the)S
1984(same)S
2263(state)S
2516(as)S
2647(the)S
2825(existing)S
3238(replicas.)S
3706(This)S
3951(generally)S
(will)190 4432 A
4652(require)S
5026(state)S
1140 V
708(to)S
837(be)S
986(transferred)S
1549(from)S
1821(the)S
2005(existing)S
2424(replicas)S
2838(to)S
2968(the)S
3152(new)S
3390(replica.)S
3817(The)S
4041(state)S
4300(transfer)S
4708(takes)S
(place)256 4993 A
1280 V
708(by)S
860(transferring)S
1459(a)S
1545(sequence)S
2019(of)S
2151(state)S
2405(domains,)S
2875(with)S
3122(one)S
3327(message)S
3768(per)S
3954(state)S
4208(domain.)S
4661(The)S
4880(number)S
1420 V
708(of)S
839(state)S
1092(domains)S
1531(to)S
1655(be)S
1799(transferred)S
2356(is)S
2467(specified)S
2935(as)S
3066(the)S
3244(parameter)S
12 I
3760(num)S
12 Y1
3968(3)S
12 I
4028(state)S
12 Y1
4257(3)S
12 I
4317(domains)S
12 R
4736(.)S
1596 V
708(The)S
954(state)S
1235(transfer)S
1665(takes)S
(place)256 1972 A
2286(atomically)S
2856(whenever)S
3385(a)S
3497(new)S
3757(replica)S
4146(joins)S
4439(a)S
4551(service)S
4953(which)S
1736 V
708(already)S
1121(has)S
1338(replicas)S
(running)375 1772 A
2203(with)S
2475(the)S
2679(same)S
2984(name,)S
3332(as)S
3489(defined)S
3907(by)S
12 I
4082(ctx)S
12 Y1
4224(3)S
12 I
4284(define)S
12 Y1
4580(3)S
12 I
4640(context)S
12 R
5000(.)S
5115(To)S
1876 V
(accomplish)551 708 A
1297(the)S
1483(state)S
1744(transfer,)S
2184(the)S
2370(library)S
2732(repeatedly)S
(invokes)375 3275 A
3688(the)S
3875(specified)S
12 I
4352(state)S
12 Y1
4581(3)S
12 I
4641(xfer)S
12 Y1
4830(3)S
12 I
4890(routine)S
2016 V
12 R
708(in)S
858(an)S
1028(existing)S
1467(member)S
1919(of)S
2075(the)S
(group,)311 2278 A
(calling)330 2644 A
3029(the)S
3232(routine)S
3630(with)S
3901(the)S
4104(domain)S
4521(number)S
4945(as)S
5101(the)S
2156 V
708(parameter.)S
1305(The)S
1544(domains)S
2004(are)S
2204(numbered)S
2738(from)S
3025(zero)S
3285(to)S
3430(the)S
3629(highest)S
4030(allowed)S
4466(domain)S
4880(number)S
2296 V
708(\(currently,)S
1250(two\).)S
1566(In)S
1700(the)S
1881(new)S
2116(replica,)S
2510(the)S
2691(library)S
3047(calls)S
3302(the)S
3482(specified)S
12 I
3952(state)S
12 Y1
4181(3)S
12 I
4241(rcv)S
12 Y1
4396(3)S
12 I
4456(routine)S
12 R
4847(once)S
5107(for)S
2436 V
(each)222 708 A
982(domain)S
1396(message)S
1858(generated)S
2381(by)S
12 I
2553(state)S
12 Y1
2782(3)S
12 I
2842(xfer)S
12 Y1
3031(3)S
12 I
3091(routine)S
12 R
3450(,)S
3532(passing)S
3946(as)S
4100(parameters)S
4686(the)S
4887(domain)S
2576 V
708(number)S
1107(and)S
1311(a)S
1395(pointer)S
1768(to)S
1892(the)S
(corresponding)691 2070 A
2791(message.)S
2752 V
708(All)S
894(replicas)S
1302(of)S
1433(a)S
1517(service)S
1891(must)S
2156(call)S
12 I
2362(ctx)S
12 Y1
2504(3)S
12 I
2564(define)S
12 Y1
2860(3)S
12 I
2920(context)S
12 R
3310(with)S
3556(the)S
3734(same)S
4013(parameter)S
4529(values.)S
3068 V
12 I
708(ctx)S
12 Y1
850(3)S
12 I
910(define)S
12 Y1
1206(3)S
12 I
1266(entry)S
3304 V
11 C
(void)268 1068 A
3444 V
(ctx)201 1068 A
11 Y1
1269(3)S
11 C
(define)402 1324 A
11 Y1
1726(3)S
11 C
(entry\(entry,)804 1781 A
(func,)335 2652 A
(entry)335 3054 A
11 Y1
3389(3)S
11 C
(name\))335 3444 A
3584 V
(int)201 1068 A
(entry;)402 1336 A
3724 V
(message)469 1068 A
(*\(*func\)\(message)1072 1604 A
(*\);)201 2743 A
3864 V
(char)268 1068 A
(*entry)402 1403 A
11 Y1
1805(3)S
11 C
(name;)335 1860 A
4100 V
12 R
708(To)S
(receive)351 880 A
1269(server)S
1604(requests,)S
2069(a)S
2161(program)S
2609(declares)S
3045(to)S
3177(the)S
3363(library)S
3725(the)S
3911(server)S
4246(routines)S
4674(to)S
4806(be)S
4959(called)S
4240 V
708(when)S
1016(requests)S
1459(are)S
(received.)441 1654 A
2171(Server)S
2534(procedures)S
3111(are)S
3305(identified)S
3815(by)S
3980(their)S
4248(entry)S
4542(number;)S
4990(up)S
5155(to)S
4380 V
708(sixteen)S
1084(\(16\))S
1319(entry)S
1601(points)S
1929(may)S
2170(be)S
2317(defined,)S
2743(numbered)S
3259(from)S
3529(zero)S
3772(to)S
3900(fifteen.)S
4312(A)S
4434(server)S
4765(procedure)S
4520 V
708(is)S
863(declared)S
1348(by)S
(calling)330 1541 A
12 I
1944(ctx)S
12 Y1
2086(3)S
12 I
2146(define)S
12 Y1
2442(3)S
12 I
2502(entry)S
12 R
2761(.)S
2894(The)S
3155(parameters)S
3761(are)S
3983(the)S
4204(entry)S
4526(number)S
4968(to)S
5135(be)S
4660 V
708(associated)S
1236(with)S
1482(this)S
1687(routine,)S
2090(the)S
2268(address)S
2661(of)S
2792(the)S
2970(routine)S
3343(to)S
3467(call,)S
3703(and)S
3907(the)S
4085(name)S
4378(of)S
4510(the)S
4689(routine)S
5063(as)S
5195(a)S
4800 V
708(string.)S
(Upon)268 1094 A
(receipt)331 1412 A
1793(of)S
1944(a)S
2048(message)S
2508(for)S
2700(this)S
2925(entry)S
3223(point,)S
3550(the)S
3747(library)S
4120(automatically)S
4829(calls)S
5101(the)S
4940 V
708(specified)S
1189(routine,)S
1605(passing)S
2010(a)S
2107(pointer)S
2493(to)S
2630(the)S
2821(message)S
3274(as)S
3418(the)S
3609(parameter.)S
4198(The)S
4429(routine)S
4815(returns)S
5195(a)S
5080 V
708(pointer)S
1081(to)S
1205(the)S
1383(message)S
1823(to)S
1947(be)S
2091(returned)S
2525(to)S
2649(the)S
2827(client.)S
5396 V
12 I
708(ctx)S
12 Y1
850(3)S
12 I
910(lookup)S
12 Y1
1238(3)S
12 I
1298(context)S
5632 V
11 C
(CTXT)268 1068 A
11 Y1
1336(3)S
11 C
(NODE)268 1391 A
5772 V
(*ctx)268 1068 A
11 Y1
1336(3)S
11 C
(lookup)402 1391 A
11 Y1
1793(3)S
11 C
(context\(context)1005 1848 A
11 Y1
2853(3)S
11 C
(name\))335 2908 A
5912 V
(char)268 1068 A
(*context)536 1403 A
11 Y1
1939(3)S
11 C
(name;)335 1994 A
6148 V
12 R
708(To)S
883(make)S
1186(a)S
1281(remote)S
1659(procedure)S
2184(call,)S
2431(a)S
2526(program)S
2978(must)S
3255(first)S
(lookup)334 3494 A
3870(the)S
4060(name)S
4364(of)S
4507(the)S
4697(appropriate)S
6288 V
708(service.)S
1158(A)S
1292(service)S
1682(is)S
(looked)328 1809 A
2183(up)S
2349(by)S
(calling)330 2515 A
12 I
2891(ctx)S
12 Y1
3033(3)S
12 I
3093(lookup)S
12 Y1
3421(3)S
12 I
3481(context)S
12 R
3841(,)S
3917(passing)S
4325(as)S
4471(a)S
4570(parameter)S
5101(the)S
6428 V
708(name)S
1020(of)S
1171(the)S
1369(service)S
1763(as)S
1914(a)S
2018(string.)S
12 I
2404(Ctx)S
12 Y1
2572(3)S
12 I
2632(lookup)S
12 Y1
2960(3)S
12 I
3020(context)S
12 R
3430(returns)S
3817(a)S
3921(pointer)S
4315(to)S
4460(an)S
4625(internal)S
5047(data)S
6568 V
708(structure;)S
1197(this)S
1402(pointer)S
1775(is)S
1886(used)S
2137(from)S
2403(then)S
2641(on)S
2791(to)S
2915(identify)S
3322(the)S
3500(service.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(273)180 5069 A
7920 V
EP
%%Page: 274 280
BP
/slant 0 def
/height 0 def
500 V
12 R
708(msg)S
12 Y1
909(3)S
12 R
969(rpc)S
1144(\(L\))S
2567(Library)S
2961(Routines)S
4657(msg)S
12 Y1
4858(3)S
12 R
4918(rpc)S
5093(\(L\))S
860 V
12 I
708(ctx)S
12 Y1
850(3)S
12 I
910(rpc)S
1096 V
11 C
(int)201 1068 A
1236 V
(ctx)201 1068 A
11 Y1
1269(3)S
11 C
(rpc\(ctxtp,)670 1324 A
(entry,,)469 2061 A
(req)201 2597 A
11 Y1
2798(3)S
11 C
(mp,)201 2853 A
(reply)335 3121 A
11 Y1
3456(3)S
11 C
(mp\))201 3511 A
1376 V
(CTXT)268 1068 A
11 Y1
1336(3)S
11 C
(NODE)268 1391 A
(*ctxtp;)469 1726 A
1516 V
(int)201 1068 A
(entry;)402 1336 A
1656 V
(message)469 1068 A
(*req)268 1604 A
11 Y1
1872(3)S
11 C
(mp;)201 1927 A
1796 V
(message)469 1068 A
(**reply;)536 1604 A
2032 V
12 R
708(A)S
831(remote)S
1203(procedure)S
1723(call)S
1935(is)S
2052(carried)S
2426(out)S
2616(by)S
(calling)330 2772 A
12 I
3138(ctx)S
12 Y1
3280(3)S
12 I
3340(rpc)S
12 R
3511(,)S
3577(which)S
3909(takes)S
4194(four)S
4432(parameters.)S
5061(The)S
2172 V
708(first)S
1021(parameter)S
1622(is)S
1818(the)S
2081(pointer)S
2539(identifying)S
3185(the)S
3448(service,)S
3937(as)S
4153(obtained)S
4684(by)S
(calling)330 4919 A
2312 V
12 I
708(ctx)S
12 Y1
850(3)S
12 I
910(lookup)S
12 Y1
1238(3)S
12 I
1298(context)S
12 R
1658(.)S
1748(The)S
(second)335 1966 A
2331(parameter)S
2847(is)S
2958(the)S
3136(entry)S
3415(number)S
3814(of)S
3945(the)S
4123(procedure)S
4637(and)S
4841(the)S
5020(third)S
2452 V
708(parameter)S
1239(is)S
1365(a)S
1464(pointer)S
1852(to)S
1991(the)S
2184(message)S
2639(which)S
2980(is)S
3106(to)S
3245(be)S
3403(passed)S
3769(to)S
3907(that)S
4133(procedure.)S
4721(The)S
4953(fourth)S
2592 V
708(parameter)S
1230(is)S
1347(a)S
1437(pointer)S
1816(to)S
1946(a)S
2036(message)S
2482(pointer.)S
2921(The)S
12 I
3145(ctx)S
12 Y1
3287(3)S
12 I
3347(rpc)S
12 R
3554(routine)S
3933(sets)S
4151(this)S
4362(pointer)S
4741(to)S
4871(point)S
5155(to)S
2732 V
708(the)S
886(reply)S
1165(message.)S
2908 V
708(The)S
946(main)S
1238(thread)S
1591(of)S
1742(a)S
1846(server)S
2193(program)S
(will)190 2653 A
2893(typically)S
3367(call)S
12 I
3593(thread)S
12 Y1
3908(3)S
12 I
3968(exit)S
12 R
4205(\(see)S
12 I
4452(thread)S
12 R
4777(\(L\)\))S
5025(after)S
3048 V
708(executing)S
1233(the)S
(necessary)471 1436 A
(initialization)614 1962 A
2631(routines.)S
3136(The)S
3379(library)S
(will)190 3758 A
4003(automatically)S
(invoke)328 4718 A
5101(the)S
3188 V
708(server)S
1035(routines)S
1455(as)S
(necessary.)501 1586 A
3468 V
12 B
708(Warning)S
3644 V
12 R
708(Note)S
974(that)S
1186(these)S
1465(routines)S
1885(employ)S
2277(the)S
12 I
2455(msg)S
12 R
2690(routines)S
3110(\(see)S
12 I
3336(msg)S
12 R
3541(\(L\)\).)S
3924 V
12 B
708(Examples)S
4100 V
12 R
708(There)S
1039(are)S
1236(examples)S
1741(showing)S
2198(how)S
2454(these)S
2751(routines)S
3189(are)S
3386(used)S
3655(in)S
3797(the)S
3993(sources.)S
4464(They)S
4760(are)S
4958(in)S
5101(the)S
4240 V
708(directory)S
12 I
(src/test/lib/amoeba)929 1176 A
12 R
2115(.)S
4520 V
12 B
708(See)S
913(Also)S
4696 V
12 R
708(msg\(L\),)S
1125(msg)S
12 Y1
1326(3)S
12 R
1386(grp\(L\),)S
1763(rpc\(L\).)S
7700 V
(274)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 275 281
BP
/slant 0 def
/height 0 def
500 V
12 R
708(mutex)S
1030(\(L\))S
2567(Library)S
2961(Routines)S
4771(mutex)S
5093(\(L\))S
860 V
2033(\(in)S
2198(libraries:)S
2661(libamoeba.a,)S
3309(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(mutex)S
12 R-1
1040(-)S
12 R
1168(thread)S
1501(synchronization)S
(primitives)492 2303 A
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("module/mutex.h")1072 1311 A
2322 V
(typedef)469 708 A
(...)201 1244 A
(mutex;)402 1512 A
2602 V
(void)268 708 A
1043(mu)S
11 Y1
1177(3)S
11 C
(init\(mu\))536 1232 A
2742 V
(void)268 708 A
1043(mu)S
11 Y1
1177(3)S
11 C
(lock\(mu\))536 1232 A
2882 V
(void)268 708 A
1043(mu)S
11 Y1
1177(3)S
11 C
(unlock\(mu\))670 1232 A
3022 V
(int)201 708 A
976(mu)S
11 Y1
1110(3)S
11 C
(trylock\(mu,)737 1165 A
(maxdelay\))603 1969 A
3302 V
(void)268 708 A
(sig)201 1043 A
11 Y1
1244(3)S
11 C
1299(mu)S
11 Y1
1433(3)S
11 C
(lock\(mu\))536 1488 A
3442 V
(int)201 708 A
(sig)201 976 A
11 Y1
1177(3)S
11 C
1232(mu)S
11 Y1
1366(3)S
11 C
(trylock\(mu,)737 1421 A
(maxdelay\))603 2225 A
3582 V
(void)268 708 A
(sig)201 1043 A
11 Y1
1244(3)S
11 C
1299(mu)S
11 Y1
1433(3)S
11 C
(unlock\(mu\))670 1488 A
3922 V
12 B
708(Description)S
4098 V
12 R
708(These)S
1063(operations)S
1633(implement)S
2217(mutexes)S
2686(\(also)S
(known)328 2988 A
3382(as)S
3550(binary)S
(semaphores\).)642 3926 A
4665(The)S
4920(use)S
5148(of)S
4238 V
708(mutexes)S
1161(is)S
(necessary)471 1292 A
1812(to)S
1955(protect)S
2341(data)S
2592(structures)S
3113(that)S
3344(are)S
(accessed)424 3542 A
4015(concurrently)S
4676(by)S
(multiple)404 4845 A
4378 V
708(threads.)S
4554 V
708(A)S
830(mutex)S
1166(has)S
1361(two)S
1577(states:)S
1915(unlocked)S
2391(and)S
2600(locked.)S
3017(The)S
3240(basic)S
3524(operations)S
4063(on)S
4218(a)S
4307(mutex)S
4644(are)S
12 I
4828(lock)S
12 R
5075(and)S
4694 V
12 I
708(unlock.)S
12 R
1128(Locking)S
1588(an)S
1760(unlocked)S
2260(mutex)S
2620(changes)S
3067(its)S
3240(state)S
3520(to)S
3671(locked.)S
4110(Attempting)S
4719(to)S
4870(lock)S
5135(an)S
4834 V
708(already)S
1100(locked)S
1457(mutex)S
1794(blocks)S
2144(the)S
2327(thread)S
2665(that)S
2882(attempts)S
3328(the)S
3512(locking)S
(until)222 3910 A
4168(the)S
4352(mutex)S
4690(is)S
4807(unlocked)S
4974 V
708(by)S
874(another)S
1283(thread.)S
1692(If)S
(multiple)404 1820 A
2270(threads)S
2666(are)S
2861(blocked,)S
(waiting)364 3319 A
3729(for)S
3917(a)S
4017(locked)S
4385(mutex)S
4733(to)S
4873(become)S
5114 V
708(unlocked,)S
1217(exactly)S
1605(one)S
1817(of)S
1956(those)S
(will)190 2249 A
(proceed)383 2477 A
2898(and)S
3110(get)S
3296(the)S
3482(lock)S
3728(when)S
4028(it)S
4134(is)S
4253(unlocked;)S
4767(the)S
4953(others)S
5254 V
(will)190 708 A
937(remain)S
1313(blocked)S
(until)222 1734 A
1995(the)S
2182(mutex)S
2523(is)S
2643(unlocked)S
3124(again.)S
3485(It)S
3598(is)S
3717(legal)S
3991(to)S
4123(unlock)S
4489(a)S
4581(mutex)S
4921(from)S
5195(a)S
5394 V
708(different)S
1170(thread)S
1516(than)S
1767(the)S
1958(thread)S
2304(that)S
2529(locked)S
(it;)102 2894 A
3039(this)S
3257(can)S
3469(be)S
3627(used)S
3892(to)S
4030(emulate)S
4458(a)S
4556(sleep)S
12 R-1
4805(-)S
12 R
4873(wakeup)S
5534 V
708(mechanism.)S
5710 V
708(Mutexes)S
1164(are)S
12 I
1353(fair)S
12 R
1538(:)S
1612(when)S
1914(two)S
2136(threads)S
2526(with)S
2782(the)S
2970(same)S
3259(priority)S
3663(are)S
(waiting)364 3852 A
4256(for)S
4438(the)S
4627(same)S
4917(mutex,)S
5850 V
708(the)S
891(system)S
1261(guarantees)S
1813(that)S
2029(the)S
2211(thread)S
2548(that)S
2764(has)S
2959(spent)S
3248(the)S
(longest)349 3430 A
3813(time)S
4063(in)S
4191(the)S
4373(queue)S
(will)190 4695 A
4919(get)S
5101(the)S
5990 V
708(lock)S
962(first.)S
1265(In)S
1412(case)S
1667(the)S
1861(process)S
2270(has)S
2477(threads)S
2874(with)S
3137(different)S
(priorities,)469 3603 A
4119(the)S
4314(thread)S
4664(that)S
4893(has)S
5101(the)S
6130 V
708(highest)S
1087(priority)S
(will)190 1481 A
1701(get)S
1879(the)S
2057(lock)S
2295(first.)S
6306 V
708(Note)S
991(that)S
1221(a)S
1323(signal)S
1660(can)S
1876(arrive)S
2208(during)S
2571(the)S
2767(execution)S
3285(of)S
3434(a)S
(critical)339 3536 A
3923(section)S
4314(of)S
4463(code.)S
4799(To)S
4981(avoid)S
6446 V
708(signals)S
1104(preempting)S
1715(a)S
1829(process)S
2252(during)S
2627(a)S
(critical)339 2740 A
3138(section)S
3540(the)S
12 I
3747(sig)S
12 Y1
3888(3)S
12 I
3948(mu)S
12 Y1
4096(3)S
12 R
4225(functions)S
4734(have)S
5021(been)S
6586 V
708(provided.)S
1237(If)S
1359(they)S
(successfully)592 1607 A
2239(lock)S
2488(the)S
2677(mutex)S
3020(with)S
12 I
3277(sig)S
12 Y1
3418(3)S
12 I
3478(mu)S
12 Y1
3626(3)S
12 I
3686(lock)S
12 R
3939(or)S
12 I
4081(sig)S
12 Y1
4222(3)S
12 I
4282(mu)S
12 Y1
4430(3)S
12 I
4490(trylock)S
12 R
4878(then)S
5127(all)S
6726 V
708(further)S
1112(signals)S
1521(are)S
1743(delayed)S
(until)222 2192 A
2487(the)S
2708(process)S
3144(exits)S
3446(the)S
(critical)339 3667 A
4078(section)S
4493(with)S
4781(a)S
4907(call)S
5155(to)S
6866 V
12 I
708(sig)S
12 Y1
849(3)S
12 I
909(mu)S
12 Y1
1057(3)S
12 I
1117(unlock)S
12 R
1449(.)S
1554(When)S
12 I
1887(sig)S
12 Y1
2028(3)S
12 I
2088(mu)S
12 Y1
2236(3)S
12 I
2296(unlock)S
12 R
2673(is)S
2800(called)S
3136(then)S
3390(the)S
3584(signal)S
3919(handlers)S
(will)190 4375 A
4611(be)S
4771(called)S
5107(for)S
7006 V
708(any)S
935(signals)S
1324(that)S
1558(arrived)S
1954(during)S
2321(the)S
(critical)339 2521 A
2912(section.)S
3367(The)S
3607(semantics)S
4137(and)S
4363(parameters)S
4948(of)S
5101(the)S
7146 V
12 I
708(sig)S
12 Y1
849(3)S
12 I
909(mu)S
12 Y1
1057(3)S
12 R
1162(versions)S
1600(are)S
1784(identical)S
2237(to)S
2367(the)S
12 I
2551(mu)S
12 Y1
2699(3)S
12 R
2805(versions)S
3244(in)S
3374(all)S
3532(other)S
3817(respects)S
4244(and)S
4454(so)S
4597(only)S
4847(the)S
12 I
5031(mu)S
12 Y1
5179(3)S
7286 V
12 R
708(versions)S
1141(are)S
1320(described)S
1814(below.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(275)180 5069 A
7920 V
EP
%%Page: 276 282
BP
/slant 0 def
/height 0 def
500 V
12 R
708(mutex)S
1030(\(L\))S
2567(Library)S
2961(Routines)S
4771(mutex)S
5093(\(L\))S
860 V
708(N.B.)S
1007(A)S
1136(stun)S
1378(and)S
1593(a)S
1688(signal)S
2018(are)S
2208(not)S
2403(the)S
2592(same)S
2882(thing)S
3171(in)S
3306(the)S
3496(discussion)S
4041(below.)S
4439(Signals)S
4837(are)S
5028(used)S
1000 V
708(between)S
1144(threads)S
1526(whereas)S
1956(a)S
2042(stun)S
2275(is)S
2388(sent)S
2615(to)S
2741(a)S
2827(process)S
3222(and)S
3428(the)S
12 I
3608(sig)S
12 Y1
3749(3)S
12 I
3809(mu)S
12 Y1
3957(3)S
12 R
4059(routines)S
(will)190 4480 A
4701(not)S
4886(prevent)S
1140 V
708(the)S
886(preemption)S
1467(of)S
1598(the)S
1776(process)S
2169(while)S
2469(it)S
2567(is)S
2678(in)S
2802(the)S
(critical)339 2980 A
3349(region.)S
1456 V
12 I
708(Types)S
1632 V
12 R
708(The)S
12 C
(mutex)365 930 A
12 R
1329(data)S
1565(type)S
1807(declared)S
2252(in)S
12 I
2380(amoeba.h)S
12 R
2896(is)S
3011(an)S
3159(opaque)S
3541(data)S
3778(type;)S
4055(its)S
4205(only)S
4454(use)S
(should)321 4650 A
5006(be)S
5155(to)S
1772 V
708(declare)S
1089(mutexes.)S
1582(All)S
1768(operations)S
2302(on)S
2452(mutexes)S
2885(must)S
3150(be)S
(done)234 3294 A
(through)375 3558 A
3963(the)S
4141(functions)S
4621(below.)S
2088 V
12 I
708(Functions)S
2404 V
708(mu)S
12 Y1
856(3)S
12 I
916(init)S
2640 V
11 C
(void)268 1068 A
2780 V
1068(mu)S
11 Y1
1202(3)S
11 C
(init\(mu\))536 1257 A
2920 V
(mutex)335 1068 A
(*mu;)268 1470 A
3120 V
12 R
708(A)S
835(mutex)S
1176(must)S
1450(be)S
(initialized)486 1603 A
2128(\(in)S
2302(the)S
2489(unlocked)S
2970(state\))S
3273(before)S
3622(use.)S
3882(This)S
4137(can)S
4345(be)S
(done)234 4499 A
4773(using)S
5074(this)S
3260 V
708(function)S
1159(or)S
1308(by)S
1476(declaring)S
1975(it)S
2091(as)S
2240(a)S
2342(global)S
2692(or)S
2841(static)S
3146(variable)S
3585(\(in)S
3768(bss\).)S
4071(No)S
4266(error)S
(conditions)503 4550 A
5100(are)S
3400 V
708(detected.)S
(Calling)356 1241 A
12 I
1666(mu)S
12 Y1
1814(3)S
12 I
1874(init)S
12 R
2115(on)S
2304(an)S
2487(already)S
(initialized)486 2913 A
3468(mutex)S
3839(in)S
4002(the)S
4219(locked)S
4611(state)S
4904(has)S
5135(an)S
3540 V
(undefined)483 708 A
1221(effect,)S
1559(but)S
1743(it)S
(will)190 1841 A
2061(probably)S
2520(have)S
(unpleasant)517 2778 A
3325(consequences.)S
3856 V
12 I
708(mu)S
12 Y1
856(3)S
12 I
916(lock)S
4092 V
11 C
(void)268 1068 A
4232 V
1068(mu)S
11 Y1
1202(3)S
11 C
(lock\(mu\))536 1257 A
4372 V
(mutex)335 1068 A
(*mu;)268 1470 A
4572 V
12 R
708(This)S
985(function)S
1451(implements)S
2079(the)S
12 I
2290(lock)S
12 R
2565(operation)S
3085(described)S
(above.)318 3612 A
4023(No)S
4234(error)S
(conditions)503 4534 A
5100(are)S
4712 V
708(detected.)S
5028 V
12 I
708(mu)S
12 Y1
856(3)S
12 I
916(unlock)S
5264 V
11 C
(void)268 1068 A
5404 V
1068(mu)S
11 Y1
1202(3)S
11 C
(unlock\(mu\))670 1257 A
5544 V
(mutex)335 1068 A
(*mu;)268 1470 A
5744 V
12 R
708(This)S
964(function)S
1408(implements)S
2014(the)S
12 I
2203(unlock)S
12 R
2576(operation)S
3074(described)S
(above.)318 3579 A
3968(An)S
4157(exception)S
4669(\()S
12 C
(EXC)219 4710 A
12 Y1
4929(3)S
12 C
(SYS)219 4989 A
12 R
5208(\))S
5884 V
708(occurs)S
1054(if)S
1159(the)S
1337(mutex)S
1669(was)S
1888(not)S
2072(locked)S
2424(by)S
2574(any)S
2778(thread.)S
6200 V
12 I
708(mu)S
12 Y1
856(3)S
12 I
916(trylock)S
6436 V
11 C
(int)201 1068 A
6576 V
1068(mu)S
11 Y1
1202(3)S
11 C
(trylock\(mu,)737 1257 A
(maxdelay\))603 2061 A
6716 V
(mutex)335 1068 A
(*mu;)268 1470 A
6856 V
(interval)536 1068 A
(maxdelay;)603 1671 A
7056 V
12 R
708(This)S
958(is)S
1074(a)S
1163(variant)S
1535(of)S
1671(the)S
1854(lock)S
2098(operation)S
2591(that)S
2809(gives)S
3100(up)S
3256(when)S
3554(it)S
3658(has)S
3855(been)S
4119(blocked)S
(unsuccessfully)712 4537 A
7196 V
708(for)S
12 I
885(maxdelay)S
12 R
(milliseconds,)642 1394 A
2071(when)S
2368(the)S
2551(call)S
2762(is)S
2878(interrupted)S
3444(by)S
3598(a)S
3686(signal)S
4009(\(see)S
12 I
(signals)342 4239 A
12 R
4591(\(L\)\),)S
4852(or)S
4987(when)S
7336 V
708(the)S
887(process)S
1281(is)S
1393(continued)S
1900(after)S
2155(a)S
2240(stun)S
2472(\(see)S
12 I
2699(process)S
12 R
3078(\(L\)\).)S
3366(If)S
12 I
3479(maxdelay)S
12 R
3984(is)S
4096(zero,)S
4366(it)S
(succeeds)430 4466 A
4928(only)S
5174(if)S
7700 V
(276)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 277 283
BP
/slant 0 def
/height 0 def
500 V
12 R
708(mutex)S
1030(\(L\))S
2567(Library)S
2961(Routines)S
4771(mutex)S
5093(\(L\))S
860 V
708(the)S
888(lock)S
1128(operation)S
1617(can)S
(proceed)383 1817 A
(without)370 2232 A
2634(blocking.)S
3147(If)S
12 I
3260(maxdelay)S
12 R
3765(is)S
3877(negative,)S
4348(an)S
4493(infinite)S
4875(delay)S
5168(is)S
1000 V
708(used,)S
991(but)S
1177(the)S
1358(call)S
1567(may)S
(still)183 1808 A
2024(be)S
2171(interrupted)S
2736(\(unlike)S
12 I
3112(mu)S
12 Y1
3260(3)S
12 I
3320(lock)S
12 R
3532(\).)S
12 I
3666(Maxdelay)S
12 R
4186(may)S
4427(be)S
(rounded)395 4574 A
5002(up)S
5155(to)S
1140 V
708(a)S
(multiple)404 799 A
1240(of)S
1378(granularity)S
1947(of)S
2085(the)S
2270(kernel's)S
2698(internal)S
3106(clock.)S
3465(The)S
3690(return)S
4017(value)S
4316(is)S
4433(zero)S
4678(for)S
(success,)393 4856 A
1280 V
708(negative)S
1148(for)S
1320(failure.)S
1596 V
12 I
708(Warnings)S
1772 V
12 R
708(When)S
1041(using)S
12 I
1347(mu)S
12 Y1
1495(3)S
12 I
1555(trylock)S
12 R
1902(,)S
1977(always)S
2359(beware)S
2755(of)S
2901(premature)S
3438(error)S
3721(returns)S
4104(caused)S
4479(by)S
4645(continuation)S
1912 V
708(after)S
962(a)S
1046(stun;)S
1311(this)S
1516(can)S
1714(happen)S
2092(to)S
2216(any)S
2420(program)S
2860(when)S
3152(run)S
(under)275 3343 A
3648(a)S
(debugger.)479 3732 A
2088 V
708(The)S
935(mutex)S
1276(operations)S
1819(available)S
2296(in)S
12 I
2429(libamunix.a)S
12 R
3052(have)S
3319(limited)S
3702(use.)S
3962(Since)S
4270(only)S
4523(a)S
4617(single)S
4946(thread)S
2228 V
708(of)S
839(control)S
1212(exists,)S
1548(when)S
1840(an)S
1984(operation)S
2471(would)S
2803(cause)S
3102(a)S
3186(thread)S
3519(to)S
3643(block)S
3941(forever,)S
12 I
(abort)261 4352 A
12 R
4653(is)S
4764(called.)S
2508 V
12 B
708(Example)S
2684 V
12 R
708(The)S
952(following)S
1479(code)S
1763(is)S
1900(idiomatic)S
2414(for)S
2613(a)S
(self-initializing)743 2724 A
(module)362 3524 A
3943(whose)S
4309(operations)S
4870(may)S
5135(be)S
2824 V
708(called)S
1056(from)S
(multiple)404 1350 A
1812(threads)S
(without)370 2220 A
2648(explicit)S
(initialization.)644 3070 A
3802(This)S
4075(is)S
4214(the)S
4420(rationale)S
4902(for)S
5101(the)S
2964 V
708(requirement)S
1345(that)S
1578(statically)S
(initialized)486 2068 A
2605(mutexes)S
3060(must)S
3347(be)S
3513(valid:)S
3841(imagine)S
4283(two)S
4517(threads)S
(calling)330 4919 A
3104 V
12 I
708(mod)S
12 Y1
916(3)S
12 I
976(routine)S
12 R
1381(below)S
1722(at)S
1855(the)S
2048(same)S
2342(time;)S
2637(both)S
2896(threads)S
(will)190 3291 A
3526(find)S
3766(that)S
(initialization)614 3993 A
4652(is)S
(necessary)471 4778 A
3244 V
708(and)S
934(call)S
12 I
1162(init)S
12 R
1334(,)S
1416(but)S
1622(only)S
1888(one)S
2115(of)S
2269(the)S
2470(calls)S
2746(to)S
12 I
2893(init)S
12 R
(will)190 3118 A
3361(execute)S
3784(the)S
(initialization)614 3985 A
4652(code.)S
4993(Once)S
3384 V
12 I
(initialized)485 708 A
12 R
1233(is)S
1344(set,)S
1539(future)S
1859(calls)S
2112(to)S
12 I
2236(mod)S
12 Y1
2444(3)S
12 I
2504(routine)S
12 R
(will)190 2893 A
3113(skip)S
3344(the)S
3522(call)S
3728(to)S
12 I
3852(init)S
12 R
4054(altogether.)S
3584 V
11 C
(static)402 1068 A
(mutex)335 1537 A
(mu;)201 1939 A
3724 V
(static)402 1068 A
(int)201 1537 A
(initialized;)804 1805 A
4004 V
(static)402 1068 A
(void)268 1537 A
(init\(\))402 1872 A
2341({)S
4144 V
1652(mu)S
11 Y1
1786(3)S
11 C
(lock\(&mu\);)670 1841 A
4284 V
1652(if)S
(\(!initialized\))938 1853 A
2858({)S
4424 V
("initialize)737 2236 A
(the)201 3040 A
(mod)201 3308 A
(module")469 3576 A
4564 V
(initialized)737 2236 A
3040(=)S
3174(1;)S
4704 V
1652(})S
4844 V
1652(mu)S
11 Y1
1786(3)S
11 C
(unlock\(&mu\);)804 1841 A
4984 V
1068(})S
5264 V
1068(/*)S
(Function)536 1269 A
(callable)536 1872 A
2475(by)S
(users)335 2676 A
3078(of)S
(the)201 3279 A
(mod)201 3547 A
(module)402 3815 A
4284(*/)S
5404 V
(mod)201 1068 A
11 Y1
1269(3)S
11 C
(routine\(\))603 1324 A
1994({)S
5544 V
1652(if)S
(\(!initialized\))938 1853 A
5684 V
(init\(\);)469 2236 A
5824 V
("do)201 1652 A
(something)603 1920 A
(mod-ish")536 2590 A
5964 V
1068(})S
6304 V
12 B
708(See)S
913(Also)S
6480 V
12 R
708(process\(L\),)S
(semaphore\(L\),)710 1287 A
2027(signals\(L\).)S
6656 V
708(Edsger)S
1074(W.)S
1248(Dijkstra,)S
12 I
(Cooperating)609 1700 A
2339(Sequential)S
2879(Processes)S
12 R
3373(.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(277)180 5069 A
7920 V
EP
%%Page: 278 284
BP
/slant 0 def
/height 0 def
500 V
12 R
708(name)S
990(\(L\))S
2567(Library)S
2961(Routines)S
4811(name)S
5093(\(L\))S
860 V
2033(\(in)S
2198(libraries:)S
2661(libamoeba.a,)S
3309(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(name)S
12 R-1
1000(-)S
12 R
1128(name-based)S
1736(functions)S
2216(for)S
2388(manipulating)S
3056(directories)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("module/name.h")1005 1311 A
2182 V
(errstat)469 708 A
(cwd)201 1244 A
11 Y1
1445(3)S
11 C
(set\(path\))603 1500 A
2322 V
(errstat)469 708 A
(name)268 1244 A
11 Y1
1512(3)S
11 C
(append\(path,)804 1567 A
(object\))469 2438 A
2462 V
(char)268 708 A
(*name)335 1043 A
11 Y1
1378(3)S
11 C
(breakpath\(path,)1005 1433 A
(dir\))268 2505 A
2602 V
(errstat)469 708 A
(name)268 1244 A
11 Y1
1512(3)S
11 C
(create\(path\))804 1567 A
2742 V
(errstat)469 708 A
(name)268 1244 A
11 Y1
1512(3)S
11 C
(delete\(path\))804 1567 A
2882 V
(errstat)469 708 A
(name)268 1244 A
11 Y1
1512(3)S
11 C
(lookup\(path,)804 1567 A
(object\))469 2438 A
3022 V
(errstat)469 708 A
(name)268 1244 A
11 Y1
1512(3)S
11 C
(replace\(path,)871 1567 A
(object\))469 2505 A
3362 V
12 B
708(Description)S
3538 V
12 R
708(This)S
(module)362 974 A
1387(provides)S
1854(a)S
1960(portable,)S
2439(name-oriented)S
(interface)426 3191 A
3669(to)S
3815(directory)S
4305(servers.)S
4761(It)S
4888(has)S
5101(the)S
3678 V
708(advantage)S
1232(of)S
1367(being)S
1669(independent)S
2292(of)S
2426(the)S
2607(particular)S
3106(directory)S
3577(server)S
3907(in)S
4034(use,)S
4258(but)S
4445(it)S
4546(does)S
4800(not)S
4987(make)S
3818 V
708(available)S
1200(all)S
1377(the)S
(functionality)619 1580 A
2254(of)S
2410(every)S
2734(directory)S
3227(server,)S
3609(e.g.,)S
3868(SOAP.)S
4293(It)S
4423(is)S
4559(similar)S
4952(to)S
5101(the)S
3958 V
(module)362 708 A
1103(containing)S
1646(the)S
1827(same)S
2109(set)S
2277(of)S
2411(functions)S
2894(but)S
3081(with)S
3330(the)S
3511(prefix)S
3834(``dir)S
12 Y1
4051(3)S
12 R
4111('')S
4225(instead)S
4600(of)S
4733(``name)S
12 Y1
5077(3)S
12 R
5137(''.)S
4098 V
708(The)S
928(main)S
1202(difference)S
1727(is)S
1841(that)S
2056(the)S
2237(``dir)S
12 Y1
2454(3)S
12 R
2514('')S
2629(functions)S
3112(take)S
3347(an)S
3494(extra)S
3770(argument,)S
12 I
4290(origin)S
12 R
4595(,)S
4658(which)S
4987(is)S
5101(the)S
4238 V
(capability)478 708 A
1216(for)S
1388(a)S
1472(directory)S
1940(relative)S
2335(to)S
2459(which)S
2785(the)S
2963(given)S
12 I
3261(path)S
12 R
3515(is)S
3626(to)S
3750(be)S
3894(interpreted.)S
4414 V
708(In)S
(each)222 852 A
1117(function,)S
1593(the)S
12 I
1784(path)S
12 R
(should)321 2051 A
2415(be)S
2572(a)S
2669(``path)S
3003(name'')S
3391(that)S
3617(specifies)S
4086(a)S
4184(directory)S
4666(or)S
4811(directory)S
4554 V
708(entry.)S
1050(To)S
1217(these)S
1499(functions,)S
2012(a)S
2099(directory)S
2570(is)S
2684(simply)S
3046(a)S
3133(finite)S
3423(mapping)S
3877(from)S
4145(character-string)S
4940(names)S
4694 V
708(to)S
(capabilities.)583 852 A
1515(Each)S
1807(\(name,)S
(capability\))519 2190 A
2759(pair)S
2998(in)S
3142(the)S
3340(mapping)S
3812(is)S
3943(a)S
4048(``directory)S
4619(entry''.)S
5061(The)S
4834 V
(capability)478 708 A
1228(can)S
1438(be)S
1594(for)S
1778(any)S
1994(object,)S
2362(including)S
2860(another)S
3264(directory;)S
3777(this)S
3993(allows)S
4351(arbitrary)S
4811(directory)S
4974 V
708(graphs)S
1080(\(the)S
1319(graphs)S
1691(are)S
1890(not)S
2094(required)S
2548(to)S
2693(be)S
2858(trees\).)S
3240(A)S
(capability)478 3379 A
3908(can)S
4127(be)S
4292(entered)S
4700(in)S
(multiple)404 4845 A
5114 V
708(directories)S
1285(or)S
1450(several)S
1857(times)S
(\(under)316 2183 A
2562(different)S
3044(names\))S
3457(in)S
3614(the)S
3825(same)S
4137(directory,)S
(resulting)424 4668 A
5155(in)S
5254 V
(multiple)404 708 A
1147(links)S
1417(to)S
1546(the)S
1729(same)S
2013(object.)S
2405(Note)S
2677(that)S
2895(some)S
3186(directory)S
3660(servers)S
4040(may)S
4284(have)S
4548(more)S
4833(complex)S
5394 V
708(notions)S
1105(of)S
1248(a)S
1344(directory,)S
1854(but)S
2050(all)S
2214(that)S
2437(is)S
(necessary)471 2559 A
3071(in)S
3206(order)S
3503(to)S
(access)310 3638 A
3989(them)S
4272(from)S
4549(this)S
(module)362 4765 A
5168(is)S
5534 V
708(that)S
920(they)S
1158(satisfy)S
1505(the)S
(above)288 1683 A
2001(rules.)S
5710 V
708(A)S
850(path)S
1112(name)S
1428(is)S
1563(a)S
1671(string)S
2001(of)S
2156(printable)S
2641(characters.)S
3248(It)S
3377(consists)S
3814(of)S
3969(a)S
4077(sequence)S
4574(of)S
4729(0)S
4844(or)S
5000(more)S
5850 V
(``components'',)777 708 A
1550(separated)S
2073(by)S
2258(``/'')S
2521(characters.)S
3139(Each)S
(component)536 3446 A
4047(is)S
4193(a)S
4312(string)S
4653(of)S
4818(printable)S
5990 V
708(characters)S
1241(not)S
1435(containing)S
1985(``/''.)S
2283(As)S
2458(a)S
2552(special)S
2929(case,)S
3208(the)S
3396(path)S
3644(name)S
3946(may)S
4195(begin)S
4504(with)S
4761(a)S
4886(``/'',)S
5155(in)S
6130 V
708(which)S
1047(case)S
1299(the)S
1489(first)S
(component)536 1728 A
2306(starts)S
2605(with)S
2863(the)S
3053(next)S
3303(character)S
3791(of)S
3934(the)S
4124(path)S
4374(name.)S
4738(Examples:)S
6270 V
12 I
(a/silly/path)545 708 A
12 R
1263(,)S
12 I
(/profile/group/cosmo-33)1182 1323 A
12 R
2515(.)S
6446 V
708(If)S
850(the)S
1058(path)S
1326(name)S
1648(begins)S
2023(with)S
2299(a)S
2413(``/'',)S
2701(it)S
2829(is)S
2970(an)S
3144(``absolute'')S
3771(path)S
4039(name,)S
4391(otherwise)S
4924(it)S
5053(is)S
5195(a)S
6586 V
(``relative'')529 708 A
1267(path)S
1505(name.)S
6762 V
708(The)S
934(interpretation)S
1626(of)S
1765(relative)S
2168(path)S
2414(names)S
2761(is)S
2880(relative)S
3284(to)S
3417(the)S
3604(current)S
3987(working)S
4429(directory.)S
4966(\(Each)S
6902 V
708(Amoeba)S
1179(process)S
1603(has)S
1825(an)S
2000(independent)S
(capability)478 2651 A
3189(for)S
3391(a)S
3505(current)S
3909(working)S
4372(directory,)S
4900(usually)S
7042 V
708(inherited)S
1169(from)S
1435(its)S
1580(creator)S
1948(\320)S
2098(see)S
12 I
2283(cwd)S
12 Y1
2477(3)S
12 I
2537(set)S
12 R
2712(below.\))S
7218 V
708(In)S
839(detail,)S
1169(the)S
1347(interpretation)S
2031(of)S
2162(a)S
2246(path)S
2484(name)S
2776(relative)S
3171(to)S
3295(a)S
3379(directory)S
12 I
3847(d)S
12 R
3947(is)S
4058(as)S
4189(follows:)S
7700 V
(278)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 279 285
BP
/slant 0 def
/height 0 def
500 V
12 R
708(name)S
990(\(L\))S
2567(Library)S
2961(Routines)S
4811(name)S
5093(\(L\))S
860 V
708(\(1\))S
1008(If)S
1120(the)S
1298(path)S
1536(has)S
1727(no)S
(components)583 1877 A
2490(\(is)S
2642(a)S
2726(zero-length)S
3308(string\),)S
3685(it)S
3783(specifies)S
4238(the)S
4416(directory)S
12 I
4884(d)S
12 R
4954(;)S
1036 V
708(\(2\))S
1008(Otherwise,)S
1589(the)S
1788(first)S
(component)536 2036 A
2624(in)S
2770(the)S
2970(path)S
3230(name)S
3544(specifies)S
4021(the)S
4221(name)S
4535(of)S
4688(an)S
4854(entry)S
5155(in)S
1176 V
1008(directory)S
12 I
1476(d)S
12 R
1576(\(either)S
1924(an)S
2068(existing)S
2481(name,)S
2803(or)S
2934(one)S
3138(that)S
3350(is)S
3461(to)S
3585(be)S
3729(added)S
4047(to)S
4171(the)S
4349(mapping\);)S
1352 V
708(\(3\))S
1008(If)S
1137(there)S
1427(are)S
1623(any)S
1844(subsequent)S
(components)583 2427 A
3057(in)S
3198(the)S
3393(path)S
3649(name,)S
3989(the)S
4185(first)S
(component)536 4430 A
5014(must)S
1492 V
1008(map)S
1269(to)S
1416(the)S
(capability)478 1617 A
2148(of)S
2302(a)S
2409(directory,)S
2929(in)S
3075(which)S
3423(case)S
3684(the)S
3884(rest)S
4112(of)S
4265(the)S
(components)583 4465 A
5100(are)S
1632 V
1008(recursively)S
1577(interpreted)S
2133(as)S
2264(a)S
2348(path)S
2586(name)S
2878(relative)S
3273(to)S
3397(that)S
3609(directory.)S
1808 V
708(The)S
943(interpretation)S
1644(of)S
1793(absolute)S
2244(path)S
2500(names)S
2857(is)S
2986(the)S
3182(same,)S
3509(except)S
3873(that)S
4103(the)S
4299(portion)S
4696(of)S
4845(the)S
5041(path)S
1948 V
708(name)S
1013(after)S
1280(the)S
1471(``/'')S
1712(is)S
1836(interpreted)S
2405(relative)S
2813(to)S
2950(the)S
3141(user's)S
(``root'')359 3474 A
3876(directory,)S
4387(rather)S
4714(than)S
4965(to)S
5101(the)S
2088 V
708(current)S
1111(working)S
1573(directory)S
2070(of)S
2230(the)S
2437(process.)S
2919(\(Each)S
3261(user)S
3523(is)S
3664(given)S
3992(a)S
(capability)478 4106 A
4644(for)S
4846(a)S
4960(single)S
2228 V
708(directory)S
1186(from)S
1462(which)S
1798(all)S
1960(other)S
2249(directories)S
2802(and)S
3016(objects)S
3399(are)S
(reached.)407 3588 A
4065(This)S
4320(is)S
4441(called)S
4771(the)S
4959(user's)S
2368 V
708(root)S
933(directory.\))S
2544 V
708(The)S
(components)583 930 A
1547(``.'')S
1775(and)S
1983(``.)S
2115(.'')S
2262(have)S
2525(special)S
2897(meaning.)S
3408(Paths)S
3705(containing)S
4250(occurrences)S
4864(of)S
5000(these)S
2684 V
(components)583 708 A
1322(are)S
1502(syntactically)S
2146(evaluated)S
2641(to)S
2766(a)S
2851(normal)S
3225(form)S
3491(not)S
3675(containing)S
4215(any)S
4419(such)S
4670(occurrences)S
2824 V
708(before)S
1073(any)S
1303(directory)S
1797(operations)S
2357(take)S
(place.)286 2615 A
2987(See)S
12 I
3218(path)S
12 Y1
3432(3)S
12 I
3492(norm)S
12 R
3757(\(L\))S
3969(for)S
4167(the)S
4371(meaning)S
4843(of)S
5000(these)S
2964 V
708(special)S
(components.)613 1075 A
3280 V
12 I
708(Errors)S
3456 V
12 R
708(All)S
899(functions)S
1384(return)S
1709(the)S
1892(error)S
2164(status)S
2475(of)S
2611(the)S
2794(operation.)S
3347(They)S
3631(all)S
(involve)362 3789 A
4187(transactions)S
4802(and)S
5012(so)S
5155(in)S
3596 V
(addition)396 708 A
1134(to)S
1258(the)S
1436(errors)S
1750(described)S
2244(below,)S
2600(they)S
2838(may)S
3076(return)S
3396(any)S
3600(of)S
3731(the)S
3909(standard)S
4349(RPC)S
4606(error)S
4873(codes.)S
3772 V
12 C
(STD)219 708 A
12 Y1
927(3)S
12 C
987(OK)S
12 R
1133(:)S
1668(the)S
1846(operation)S
(succeeded;)531 2333 A
3948 V
12 C
(STD)219 708 A
12 Y1
927(3)S
12 C
(CAPBAD)438 987 A
12 R
1425(:)S
1668(an)S
1812(invalid)S
(capability)478 2178 A
2686(was)S
2905(used;)S
4124 V
12 C
(STD)219 708 A
12 Y1
927(3)S
12 C
(DENIED)438 987 A
12 R
1425(:)S
1668(one)S
1884(of)S
2027(the)S
(capabilities)553 2217 A
(encountered)591 2812 A
3445(while)S
3757(parsing)S
4155(the)S
4345(path)S
4595(name)S
4899(did)S
5095(not)S
4264 V
1668(have)S
1953(sufficient)S
(access)310 2468 A
2834(rights)S
3166(\(for)S
3405(example,)S
3901(the)S
4105(directory)S
4599(in)S
4749(which)S
5101(the)S
4404 V
(capability)478 1668 A
2176(is)S
2287(to)S
2411(be)S
2555(installed)S
2996(is)S
3107(unwritable\);)S
4580 V
12 C
(STD)219 708 A
12 Y1
927(3)S
12 C
(NOTFOUND)584 987 A
12 R
1571(:)S
1668(one)S
1875(of)S
2009(the)S
(components)583 2190 A
(encountered)591 2806 A
3430(while)S
3733(parsing)S
4122(the)S
4303(path)S
4544(name)S
4840(does)S
5095(not)S
4720 V
1668(exist)S
1952(in)S
2101(the)S
2304(directory)S
2797(specified)S
3290(by)S
3465(the)S
(preceding)477 3668 A
(components)583 4200 A
4837(\(the)S
5080(last)S
4860 V
(component)536 1668 A
2272(need)S
2568(not)S
2791(exist)S
3089(for)S
3300(some)S
3624(of)S
3794(the)S
4011(functions,)S
4560(but)S
4783(the)S
5000(other)S
5000 V
(components)583 1668 A
2281(must)S
2546(refer)S
2807(to)S
2931(existing)S
3344(directories\).)S
5316 V
12 I
708(Functions)S
5632 V
708(name)S
12 Y1
970(3)S
12 I
(append)354 1030 A
5868 V
11 C
(errstat)469 1068 A
6008 V
(name)268 1068 A
11 Y1
1336(3)S
11 C
(append\(path,)804 1391 A
(object\))469 2262 A
6148 V
(char)268 1068 A
(*path;)402 1403 A
6288 V
(capability)670 1068 A
(*object;)536 1805 A
6488 V
12 I
708(Name)S
12 Y1
990(3)S
12 I
(append)354 1050 A
12 R
1463(adds)S
1733(the)S
12 I
1930(object)S
12 R
(capability)478 2285 A
2812(to)S
2955(the)S
3152(directory)S
3640(server)S
(under)275 3987 A
12 I
4312(path)S
12 R
4536(,)S
4616(where)S
4963(it)S
5081(can)S
6628 V
708(subsequently)S
1373(be)S
1522(retrieved)S
1989(by)S
2144(giving)S
2487(the)S
2670(same)S
2953(name)S
3249(to)S
12 I
3377(name)S
12 Y1
3639(3)S
12 I
3699(lookup)S
12 R
4037(.)S
4131(The)S
4353(path)S
4595(up)S
4749(to,)S
4907(but)S
5095(not)S
6768 V
708(including)S
1208(the)S
1400(last)S
(component)536 1613 A
2193(of)S
12 I
2338(path)S
12 R
2606(must)S
2885(refer)S
3160(to)S
3298(an)S
3456(existing)S
3883(directory.)S
4425(This)S
4685(directory)S
5168(is)S
6908 V
708(modified)S
1209(by)S
1393(adding)S
1785(an)S
1963(entry)S
2276(consisting)S
2830(of)S
2995(the)S
3207(last)S
(component)536 3440 A
4040(of)S
12 I
4205(path)S
12 R
4493(and)S
4731(the)S
12 I
4943(object)S
7048 V
12 R
(capability.)508 708 A
1276(There)S
1589(must)S
1854(be)S
1998(no)S
2148(existing)S
2561(entry)S
2840(with)S
3086(the)S
3264(same)S
3543(name.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(279)180 5069 A
7920 V
EP
%%Page: 280 286
BP
/slant 0 def
/height 0 def
500 V
12 R
708(name)S
990(\(L\))S
2567(Library)S
2961(Routines)S
4811(name)S
5093(\(L\))S
920 V
708(Required)S
1181(Rights:)S
1060 V
12 C
1062(SP)S
12 Y1
1208(3)S
12 C
(MODRGT)438 1268 A
12 R
1736(in)S
1860(the)S
2038(directory)S
2506(that)S
2718(is)S
2829(to)S
2953(be)S
3097(modified)S
1356 V
708(Error)S
(Conditions:)563 995 A
1496 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(EXISTS)438 1341 A
12 R
1779(:)S
12 I
1969(name)S
12 R
2261(already)S
2648(exists)S
1872 V
12 I
708(name)S
12 Y1
970(3)S
12 I
1030(replace)S
2108 V
11 C
(errstat)469 1068 A
2248 V
(name)268 1068 A
11 Y1
1336(3)S
11 C
(replace\(path,)871 1391 A
(object\))469 2329 A
2388 V
(char)268 1068 A
(*path;)402 1403 A
2528 V
(capability)670 1068 A
(*object;)536 1805 A
2728 V
12 I
708(Name)S
12 Y1
990(3)S
12 I
1050(replace)S
12 R
(replaces)398 1473 A
1921(the)S
2119(current)S
(capability)478 2513 A
3041(stored)S
(under)275 3387 A
12 I
3713(path)S
12 R
3988(with)S
4255(the)S
4454(specified)S
12 I
4943(object)S
2868 V
12 R
(capability.)508 708 A
1308(The)S
12 I
1558(path)S
12 R
1844(must)S
2141(refer)S
2434(to)S
2590(an)S
2766(existing)S
3211(directory)S
3711(entry.)S
4082(This)S
4359(directory)S
4858(entry)S
5168(is)S
3008 V
708(changed)S
1146(to)S
1276(refer)S
1543(to)S
1673(the)S
1857(specified)S
12 I
2331(object)S
12 R
(capability)478 2673 A
3187(as)S
3324(an)S
3474(atomic)S
3840(action.)S
4232(The)S
4457(entry)S
4743(is)S
4861(not)S
5052(first)S
3148 V
708(deleted)S
1088(then)S
1326(appended.)S
3384 V
708(Required)S
1181(Rights:)S
3524 V
12 C
1062(SP)S
12 Y1
1208(3)S
12 C
(MODRGT)438 1268 A
12 R
1736(in)S
1860(the)S
2038(directory)S
2506(that)S
2718(is)S
2829(to)S
2953(be)S
3097(modified)S
3900 V
12 I
708(name)S
12 Y1
970(3)S
12 I
1030(breakpath)S
4136 V
11 C
(char)268 1068 A
1403(*)S
4276 V
(name)268 1068 A
11 Y1
1336(3)S
11 C
(breakpath\(path,)1005 1391 A
(dir\))268 2463 A
4416 V
(char)268 1068 A
(*path;)402 1403 A
4556 V
(capability)670 1068 A
(*dir;)335 1805 A
4756 V
12 I
708(Name)S
12 Y1
990(3)S
12 I
1050(breakpath)S
12 R
1615(stores)S
1964(the)S
(capability)478 2178 A
2722(for)S
2930(the)S
3145(directory)S
3650(allegedly)S
4161(containing)S
4738(the)S
4953(object)S
4896 V
708(specified)S
1183(by)S
12 I
1340(path)S
12 R
1601(in)S
12 I
1732(dir)S
12 R
1883(,)S
1950(and)S
2161(returns)S
2535(the)S
2720(name)S
(under)275 3019 A
3331(which)S
3664(the)S
3849(object)S
4181(is)S
4298(stored,)S
4660(or)S
4797(would)S
5135(be)S
5036 V
708(stored)S
1035(if)S
1141(it)S
1240(existed.)S
1674(It)S
1780(is)S
1892(intended)S
2339(for)S
2512(locating)S
2934(the)S
3114(directory)S
3584(that)S
3798(must)S
4065(be)S
4211(modified)S
4680(to)S
4806(install)S
5135(an)S
5176 V
708(object)S
1055(in)S
1200(the)S
1399(directory)S
1888(service)S
(under)275 2283 A
2608(the)S
2806(given)S
12 I
3124(path)S
12 R
3348(.)S
3458(In)S
3609(detail,)S
12 I
3959(name)S
12 Y1
4221(3)S
12 I
4281(breakpath)S
12 R
4830(does)S
5101(the)S
5316 V
708(following:)S
5492 V
708(If)S
848(the)S
12 I
1055(path)S
12 R
1338(is)S
1478(a)S
1591(path)S
1858(name)S
2179(containing)S
2748(only)S
3021(one)S
(component,)566 3254 A
12 I
3879(name)S
12 Y1
4141(3)S
12 I
4201(breakpath)S
12 R
4759(stores)S
5101(the)S
5632 V
(capability)478 708 A
1223(for)S
1402(either)S
1716(the)S
1901(current)S
2282(working)S
2722(directory)S
3197(\(if)S
3350(the)S
3535(path)S
3780(name)S
4079(is)S
4196(relative\))S
4638(or)S
4775(the)S
4959(user's)S
5772 V
708(root)S
937(directory)S
1409(\(if)S
1559(the)S
1741(path)S
1983(name)S
2279(is)S
2394(absolute\))S
2872(in)S
12 I
3000(dir)S
12 R
3151(,)S
3215(and)S
3424(returns)S
3796(the)S
12 I
3979(path)S
12 R
(\(without)411 4238 A
4684(any)S
4893(leading)S
5912 V
(``/''\).)269 708 A
6088 V
708(Otherwise,)S
1287(the)S
12 I
1484(path)S
12 R
1757(is)S
1887(parsed)S
2253(into)S
2491(two)S
2723(path)S
2981(names,)S
3370(the)S
3568(first)S
3815(consisting)S
4355(of)S
4506(all)S
4678(but)S
4882(the)S
5080(last)S
6228 V
(component)536 708 A
1307(and)S
1544(the)S
(second)335 1755 A
2153(a)S
2269(relative)S
2696(path)S
2966(name)S
3290(consisting)S
3842(of)S
4005(just)S
4242(the)S
4452(last)S
(component.)566 4683 A
6368 V
12 I
708(Name)S
12 Y1
990(3)S
12 I
1050(breakpath)S
12 R
1606(stores)S
1946(the)S
(capability)478 2151 A
2686(for)S
2885(the)S
3090(directory)S
3585(specified)S
4080(by)S
4257(the)S
4462(first)S
4716(in)S
12 I
4867(dir)S
12 R
5075(and)S
6508 V
708(returns)S
1075(the)S
(second.)365 1253 A
1678(The)S
1896(first)S
2123(path)S
2361(name)S
2653(must)S
2918(refer)S
3179(to)S
3303(an)S
3447(existing)S
3860(directory.)S
7700 V
(280)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 281 287
BP
/slant 0 def
/height 0 def
500 V
12 R
708(name)S
990(\(L\))S
2567(Library)S
2961(Routines)S
4811(name)S
5093(\(L\))S
860 V
12 I
708(cwd)S
12 Y1
902(3)S
12 I
962(set)S
1096 V
11 C
(errstat)469 1068 A
1236 V
(cwd)201 1068 A
11 Y1
1269(3)S
11 C
(set\(path\))603 1324 A
1376 V
(char)268 1068 A
(*path;)402 1403 A
1576 V
12 I
708(Cwd)S
12 Y1
928(3)S
12 I
988(set)S
12 R
1163(changes)S
1582(the)S
1760(current)S
2134(working)S
2567(directory)S
3035(to)S
3159(that)S
3371(specified)S
3839(by)S
12 I
3989(path.)S
1812 V
12 R
708(Required)S
1181(Rights:)S
1952 V
12 C
(NONE)292 1062 A
2248 V
12 R
708(Error)S
(Conditions:)563 995 A
2388 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(NOTFOUND)584 1341 A
12 R
1925(:)S
1969(the)S
2147(directory)S
2615(does)S
2866(not)S
3050(exist)S
2764 V
12 I
708(name)S
12 Y1
970(3)S
12 I
1030(create)S
3000 V
11 C
(errstat)469 1068 A
3140 V
(name)268 1068 A
11 Y1
1336(3)S
11 C
(create\(path\))804 1391 A
3280 V
(char)268 1068 A
(*path;)402 1403 A
3480 V
12 I
708(Name)S
12 Y1
990(3)S
12 I
1050(create)S
12 R
1397(creates)S
1769(a)S
1857(directory)S
2329(and)S
2537(stores)S
2854(its)S
(capability)478 3003 A
3515(in)S
3644(a)S
3733(directory)S
4206(server)S
(under)275 4538 A
12 I
4848(path)S
12 R
5072(.)S
5167(If)S
3620 V
12 I
708(path)S
12 R
981(is)S
1111(a)S
1214(relative)S
1628(path)S
1885(name,)S
2226(the)S
2423(new)S
2674(directory)S
3161(is)S
3291(created)S
3691(using)S
4001(the)S
4198(server)S
4543(containing)S
5101(the)S
3760 V
708(current)S
1086(working)S
1523(directory,)S
2026(otherwise)S
2533(the)S
2716(new)S
2953(directory)S
3426(is)S
3542(created)S
3928(using)S
4224(the)S
4407(server)S
4739(containing)S
3900 V
708(the)S
900(user's)S
1233(root)S
1471(directory.)S
2012(\(Note)S
2332(that)S
2557(either)S
2877(of)S
3021(these)S
3313(might)S
3638(be)S
3795(different)S
4257(from)S
4536(the)S
4727(server)S
5067(that)S
4040 V
708(contains)S
1141(the)S
1319(directory)S
1787(which)S
2113(is)S
2224(to)S
2348(be)S
2492(modified)S
2959(by)S
3109(adding)S
3467(the)S
3645(new)S
3877(directory.\))S
4216 V
708(The)S
952(path)S
1216(up)S
1392(to,)S
1572(but)S
1782(not)S
1992(including)S
2504(the)S
2708(last)S
(component)536 2933 A
3525(of)S
12 I
3683(path)S
12 R
3964(must)S
4256(refer)S
4544(to)S
4695(an)S
4866(existing)S
4356 V
708(directory.)S
1237(This)S
1483(directory)S
1952(is)S
2064(modified)S
2531(by)S
2681(adding)S
3039(an)S
3183(entry)S
3462(consisting)S
3982(of)S
4113(a)S
4197(new)S
4429(directory,)S
4927(named)S
4496 V
708(by)S
858(the)S
1036(last)S
(component)536 1235 A
1801(of)S
12 I
1932(path)S
12 R
2156(.)S
2246(There)S
2559(must)S
2824(be)S
2968(no)S
3118(existing)S
3531(entry)S
3810(with)S
4056(the)S
4234(same)S
4513(name.)S
4732 V
708(Required)S
1181(Rights:)S
4872 V
12 C
1062(SP)S
12 Y1
1208(3)S
12 C
(MODRGT)438 1268 A
12 R
1736(in)S
1860(the)S
2038(directory)S
2506(that)S
2718(is)S
2829(to)S
2953(be)S
3097(modified)S
5168 V
708(Error)S
(Conditions:)563 995 A
5308 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(EXISTS)438 1341 A
12 R
1779(:)S
12 I
1969(name)S
12 R
2261(already)S
2648(exists)S
2954(in)S
3078(the)S
3256(directory)S
3724(server)S
5684 V
12 I
708(name)S
12 Y1
970(3)S
12 I
1030(delete)S
5920 V
11 C
(errstat)469 1068 A
6060 V
(name)268 1068 A
11 Y1
1336(3)S
11 C
(delete\(path\))804 1391 A
6200 V
(char)268 1068 A
(*path;)402 1403 A
6400 V
12 I
708(Name)S
12 Y1
990(3)S
12 I
1050(delete)S
12 R
1394(deletes)S
1775(the)S
1967(entry)S
12 I
2260(path)S
12 R
2528(from)S
2808(the)S
3000(directory)S
3482(server.)S
3883(The)S
4115(object)S
4455(specified)S
4937(by)S
5101(the)S
6540 V
(capability)478 708 A
1218(associated)S
1747(with)S
12 I
1994(path)S
12 R
2249(in)S
2374(the)S
2553(directory)S
3022(entry)S
3302(is)S
3414(not)S
3599(destroyed.)S
4160(If)S
4273(desired,)S
4684(it)S
(should)321 4783 A
5135(be)S
6680 V
708(separately)S
1230(destroyed)S
1730(\(see)S
12 I
1956(std)S
12 Y1
2097(3)S
12 I
2157(destroy)S
12 R
2523(\(L\)\).)S
6916 V
708(Required)S
1181(Rights:)S
7056 V
12 C
1062(SP)S
12 Y1
1208(3)S
12 C
(MODRGT)438 1268 A
12 R
1736(in)S
1860(the)S
2038(directory)S
2506(that)S
2718(is)S
2829(to)S
2953(be)S
3097(modified)S
7700 V
2683(Amoeba)S
3123(5.3)S
(281)180 5069 A
7920 V
EP
%%Page: 282 288
BP
/slant 0 def
/height 0 def
500 V
12 R
708(name)S
990(\(L\))S
2567(Library)S
2961(Routines)S
4811(name)S
5093(\(L\))S
860 V
12 I
708(name)S
12 Y1
970(3)S
12 I
1030(lookup)S
1096 V
11 C
(errstat)469 1068 A
1236 V
(name)268 1068 A
11 Y1
1336(3)S
11 C
(lookup\(path,)804 1391 A
(object\))469 2262 A
1376 V
(char)268 1068 A
(*path;)402 1403 A
1516 V
(capability)670 1068 A
(*object;)536 1805 A
1716 V
12 I
708(Name)S
12 Y1
990(3)S
12 I
1050(lookup)S
12 R
1418(finds)S
1690(the)S
(capability)478 1868 A
2376(named)S
2728(by)S
12 I
2878(path)S
12 R
3132(and)S
3336(stores)S
3649(it)S
3747(in)S
12 I
3871(object)S
12 R
4177(.)S
1996 V
12 B
708(Examples)S
2232 V
11 C
708(/*)S
(Change)402 909 A
(the)201 1378 A
(name)268 1646 A
(/home/abc)603 1981 A
2651(to)S
(/home/xyz:)670 2852 A
3589(*/)S
2372 V
(capability)670 708 A
(mod)201 1445 A
11 Y1
1646(3)S
11 C
(dircap,)469 1701 A
(object;)469 2237 A
2512 V
(char)268 708 A
(*old)268 1043 A
11 Y1
1311(3)S
11 C
(name)268 1366 A
1701(=)S
("/home/abc";)804 1835 A
2652 V
(char)268 708 A
(modify)402 1043 A
11 Y1
1445(3)S
11 C
(dir[NAME)536 1500 A
11 Y1
2036(3)S
11 C
(MAX+1];)469 2091 A
2792 V
(char)268 708 A
(*entry)402 1043 A
11 Y1
1445(3)S
11 C
(name)268 1500 A
1835(=)S
(name)268 1969 A
11 Y1
2237(3)S
11 C
(breakpath\(old)871 2292 A
11 Y1
3163(3)S
11 C
(name,)335 3218 A
(&mod)268 3620 A
11 Y1
3888(3)S
11 C
(dircap\);)536 3943 A
3072 V
708(if)S
(\(entry)402 909 A
11 Y1
1311(3)S
11 C
(name)268 1366 A
1701(!=)S
(NULL\))335 1902 A
2304({)S
3212 V
(strncpy\(modify)938 1292 A
11 Y1
2230(3)S
11 C
(dir,)268 2285 A
(old)201 2620 A
11 Y1
2821(3)S
11 C
(name,)335 2876 A
(entry)335 3278 A
11 Y1
3613(3)S
11 C
(name)268 3668 A
4003(-)S
(old)201 4137 A
11 Y1
4338(3)S
11 C
(name\);)402 4393 A
3352 V
(modify)402 1292 A
11 Y1
1694(3)S
11 C
(dir[entry)603 1749 A
11 Y1
2352(3)S
11 C
(name)268 2407 A
2742(-)S
(old)201 2876 A
11 Y1
3077(3)S
11 C
(name])335 3132 A
3534(=)S
('\\0';)335 3668 A
3492 V
1292(if)S
(\(cwd)268 1493 A
11 Y1
1761(3)S
11 C
(set\(modify)670 1816 A
11 Y1
2486(3)S
11 C
(dir\))268 2541 A
2876(==)S
(STD)201 3077 A
11 Y1
3278(3)S
11 C
3333(OK)S
3534(&&)S
3632 V
(name)268 1876 A
11 Y1
2144(3)S
11 C
(lookup\(entry)804 2199 A
11 Y1
3003(3)S
11 C
(name,)335 3058 A
(&object\))536 3460 A
4063(==)S
(STD)201 4264 A
11 Y1
4465(3)S
11 C
4520(OK)S
4721(&&)S
3772 V
(name)268 1876 A
11 Y1
2144(3)S
11 C
(append\("xyz",)871 2199 A
(&object\))536 3137 A
3740(==)S
(STD)201 3941 A
11 Y1
4142(3)S
11 C
4197(OK)S
4398(&&)S
3912 V
(name)268 1876 A
11 Y1
2144(3)S
11 C
(delete\(entry)804 2199 A
11 Y1
3003(3)S
11 C
(name\))335 3058 A
3460(==)S
(STD)201 3661 A
11 Y1
3862(3)S
11 C
(OK\))201 3917 A
4185({)S
4052 V
(fprintf\(stderr,)1005 1876 A
("Successful)737 2948 A
(name)268 3752 A
(change\\n"\);)737 4087 A
4192 V
(return;)469 1876 A
4332 V
1292(})S
4472 V
708(})S
4612 V
(fprintf\(stderr,)1005 708 A
("Error)402 1780 A
2249(--)S
2450(no)S
(name)268 2651 A
(change\\n"\);)737 2986 A
4952 V
12 B
708(See)S
913(Also)S
5128 V
12 R
708(direct\(L\).)S
7700 V
(282)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 283 289
BP
/slant 0 def
/height 0 def
500 V
12 R
708(newproc)S
1145(\(L\))S
2567(Library)S
2961(Routines)S
4656(newproc)S
5093(\(L\))S
860 V
2350(\(in)S
2515(libraries:)S
2978(libamoeba.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(newproc)S
12 R-1
1155(-)S
12 R
1283(create)S
1604(a)S
1688(child)S
1960(process)S
(without)370 2353 A
2753(forking)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(int)201 708 A
(newproc\(file,)871 976 A
(argv,)335 1914 A
(envp,)335 2316 A
(nfd,)268 2718 A
(fdlist,)469 3053 A
(sigignore\))670 3589 A
2042 V
(int)201 708 A
(newprocp\(file,)938 976 A
(argv,)335 1981 A
(envp,)335 2383 A
(nfd,)268 2785 A
(fdlist,)469 3120 A
(sigignore\))670 3656 A
2182 V
(char)268 708 A
(*file;)402 1043 A
2322 V
(char)268 708 A
(*argv[];)536 1043 A
2462 V
(char)268 708 A
(*envp[];)536 1043 A
2602 V
(int)201 708 A
(nfd;)268 1110 A
2742 V
(int)201 708 A
(fdlist[];)603 1110 A
2882 V
(long)268 708 A
(sigignore;)670 1110 A
3222 V
12 B
708(Description)S
3398 V
12 R
708(These)S
1035(functions)S
1523(are)S
1710(extensions)S
2258(of)S
2397(the)S
2583(process)S
2984(creation)S
(primitives)492 3413 A
12 I
3943(fork)S
12 R
4186(and)S
12 I
(exec)216 4398 A
12 R
4662(provided)S
5129(by)S
3538 V
12 I
708(posix)S
12 R
973(\(L\);)S
1193(they)S
1431(are)S
1610(much)S
1908(faster)S
2209(but)S
2393(less)S
2605(general,)S
3022(and)S
3226(intended)S
3672(to)S
3796(optimize)S
4250(the)S
4428(common)S
4880(cases.)S
3714 V
12 I
708(Newproc)S
12 R
1198(is)S
1324(intended)S
1785(to)S
(replace)351 1924 A
2320(the)S
2513(common)S
2980(case)S
3234(of)S
3380(a)S
12 I
3479(fork)S
12 R
3729(call)S
3950(followed)S
4426(\(in)S
4606(the)S
4800(child\))S
5129(by)S
3854 V
708(some)S
998(I/O)S
1196(redirection,)S
1787(signal)S
2111(fiddling,)S
2559(and)S
2768(an)S
12 I
(exec)216 2917 A
12 R
3178(call.)S
12 I
3449(Newprocp)S
12 R
3988(does)S
4243(almost)S
4600(the)S
4782(same,)S
5095(but)S
3994 V
708(searches)S
1153(its)S
1302(file)S
1499(argument)S
1990(in)S
2118(the)S
2300(environment)S
2945(variable)S
12 C
(PATH)292 3370 A
12 R
3696(using)S
3992(the)S
4175(same)S
4459(algorithm)S
4965(as)S
5101(the)S
4134 V
708(shell.)S
4310 V
708(The)S
926(arguments)S
1460(are:)S
4486 V
708(file,)S
931(argv,)S
(envp)234 1206 A
1560(The)S
1778(first)S
2005(three)S
2278(arguments)S
(correspond)537 2812 A
3379(to)S
3503(the)S
3681(arguments)S
4215(to)S
4339(execve.)S
4662 V
708(nfd,)S
939(fdlist)S
1570(These)S
1899(arguments)S
2443(specify)S
2833(I/O)S
3036(redirection.)S
3662(If)S
3784(nfd)S
3985(is)S
4106(negative,)S
4587(the)S
4776(child)S
(will)190 5059 A
4802 V
1560(inherit)S
1924(all)S
2093(open)S
2374(files)S
2631(from)S
2914(the)S
3108(parent)S
3457(except)S
3819(those)S
4120(with)S
4382(the)S
4576(close-on-exec)S
4942 V
1560(flag)S
1792(on.)S
2015(Otherwise,)S
2588(for)S
2773(0)S
2876(<=)S
3055(i)S
3132(<)S
3243(nfd,)S
3477(file)S
3683(descriptor)S
4211(i)S
4288(in)S
4425(the)S
4616(child)S
(will)190 4901 A
5135(be)S
5082 V
(dupped)354 1560 A
1945(from)S
2212(file)S
2405(descriptor)S
2920(fdlist[i])S
3316(in)S
3440(the)S
3618(parent,)S
3981(if)S
4086(that)S
4298(refers)S
4606(to)S
4730(a)S
4814(valid)S
5086(file)S
5222 V
1560(descriptor)S
2114(whose)S
2492(close-on-exec)S
3235(flag)S
3494(is)S
3645(off,)S
3887(and)S
4131(closed)S
4510(otherwise;)S
5086(file)S
5362 V
1560(descriptors)S
2122(nfd)S
2313(and)S
2517(higher)S
2856(in)S
2980(the)S
3158(child)S
3430(are)S
3609(closed.)S
5538 V
(sigignore)450 708 A
1560(The)S
1782(last)S
1985(argument)S
2476(is)S
2591(a)S
2679(signal)S
3003(mask:)S
3327(signals)S
(corresponding)691 3698 A
4424(to)S
4553(one)S
4762(bits)S
4972(in)S
5101(the)S
5678 V
1560(mask)S
(will)190 1853 A
(initially)378 2081 A
2497(be)S
(ignored)369 2649 A
3056(by)S
3214(the)S
3400(child,)S
3709(while)S
4016(the)S
4201(default)S
4575(action)S
(will)190 4908 A
5135(be)S
5818 V
1560(used)S
1840(for)S
2041(the)S
2248(others.)S
2663(Remember)S
3253(that)S
3494(signal)S
3843(i)S
(corresponds)584 3937 A
4581(to)S
4735(bit)S
4923(i-1,)S
5148(as)S
5958 V
1560(defined)S
1953(by)S
2103(the)S
12 I
2281(sigmask\(\))S
12 R
2793(macro)S
3126(in)S
12 I
(signal.h)385 3250 A
12 R
3645(.)S
6274 V
12 I
708(Return)S
1067(Value)S
6450 V
12 R
708(The)S
931(return)S
1256(value)S
1553(is)S
1669(the)S
1852(process)S
2250(ID)S
2415(of)S
2552(the)S
2736(new)S
2974(process.)S
3433(This)S
3684(is)S
3801(a)S
3891(child)S
4169(of)S
4306(the)S
(calling)330 4490 A
4856(process,)S
6590 V
(indistinguishable)826 708 A
1564(from)S
1830(one)S
2034(created)S
2415(by)S
12 I
2565(fork)S
12 R
2800(and)S
12 I
(exec)216 3004 A
12 R
3230(.)S
6906 V
12 I
(Diagnostics)578 708 A
7082 V
12 R
708(If)S
820(no)S
970(process)S
1363(was)S
1582(started,)S
1966(errno)S
2252(is)S
2363(set)S
2528(to)S
2652(indicate)S
3066(the)S
3244(error)S
3511(and)S
12 Y
3715(-)S
12 R
3781(1)S
3871(is)S
3982(returned.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(283)180 5069 A
7920 V
EP
%%Page: 284 290
BP
/slant 0 def
/height 0 def
500 V
12 R
708(newproc)S
1145(\(L\))S
2567(Library)S
2961(Routines)S
4656(newproc)S
5093(\(L\))S
860 V
12 I
708(Environment)S
1363(Variables)S
1072 V
12 C
(PATH)292 708 A
12 R
1188(Used)S
1473(by)S
12 I
1629(newprocp)S
12 R
2150(to)S
2280(search)S
2626(the)S
2810(file.)S
3069(If)S
3188(this)S
3400(is)S
3518(not)S
3709(set,)S
3911(a)S
4002(system-dependent)S
4912(default)S
1212 V
1188(path)S
1426(is)S
1537(used)S
1788(\(typically)S
12 I
2283(:/bin:/usr/bin)S
12 R
2939(\).)S
1492 V
12 B
708(Example)S
1668 V
12 R
708(The)S
932(following)S
1439(program)S
1885(starts)S
2178(the)S
2362(program)S
2808(given)S
3112(by)S
3268(its)S
3419(first)S
3652(argument,)S
4175(passing)S
4573(the)S
4758(remaining)S
1808 V
708(arguments)S
1251(on,)S
1440(and)S
1653(waits)S
1949(for)S
2130(the)S
2317(process)S
2719(to)S
2852(finish.)S
3227(Environment,)S
3927(file)S
4129(descriptors)S
4700(and)S
4913(signals)S
1948 V
708(are)S
887(left)S
1080(unchanged.)S
2148 V
11 C
(#include)536 1068 A
("stdio.h")603 1671 A
2428 V
(main\(argc,)670 1068 A
(argv\))335 1805 A
2568 V
(int)201 1068 A
(argc;)335 1336 A
2708 V
(char)268 1068 A
(**argv;)469 1403 A
2848 V
1068({)S
2988 V
(int)201 1336 A
(pid,)268 1604 A
(sts;)268 1939 A
3128 V
1336(if)S
(\(argc)335 1537 A
1939(<)S
2073(2\))S
3268 V
(exit\(2\);)536 1604 A
2207(/*)S
(Bad)201 2408 A
(usage)335 2676 A
3078(*/)S
3408 V
(pid)201 1336 A
1604(=)S
(newprocp\(argv[1],)1139 1738 A
(argv+1,)469 2944 A
(\(char)335 3480 A
(**\)0,)335 3882 A
3548 V
(-1,)201 2341 A
(\(int)268 2609 A
(*\)0,)268 2944 A
(-1L\);)335 3279 A
3688 V
1336(if)S
(\(pid)268 1537 A
1872(<)S
2006(0\))S
2207({)S
3828 V
(perror\(argv[1]\);)1072 1604 A
3968 V
(exit\(1\);)536 1604 A
4108 V
1336(})S
4248 V
(printf\("Child)871 1336 A
(pid:)268 2274 A
(%d\\n",)402 2609 A
(pid\);)335 3078 A
4388 V
1336(if)S
(\(waitpid\(pid,)871 1537 A
(&sts,)335 2475 A
2877(0\))S
3078(<)S
3212(0\))S
3413({)S
4528 V
(perror\("waitpid"\);)1206 1604 A
4668 V
(exit\(1\);)536 1604 A
4808 V
1336(})S
4948 V
(printf\("Child)871 1336 A
(status:)469 2274 A
(%d\\n",)402 2810 A
(sts\);)335 3279 A
5088 V
(exit\(0\);)536 1336 A
5228 V
1068(})S
5568 V
12 B
708(See)S
913(Also)S
5744 V
12 R
708(exec)S
12 Y1
930(3)S
12 R
990(file\(L\),)S
1369(posix\(L\).)S
7700 V
(284)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 285 291
BP
/slant 0 def
/height 0 def
500 V
12 R
708(one)S
12 Y1
882(3)S
12 R
942(way)S
1164(\(L\))S
2567(Library)S
2961(Routines)S
4637(one)S
12 Y1
4811(3)S
12 R
4871(way)S
5093(\(L\))S
860 V
2033(\(in)S
2198(libraries:)S
2661(libamoeba.a,)S
3309(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(one)S
12 Y1
882(3)S
12 R
942(way)S
12 R-1
1174(-)S
12 R
1302(encrypt)S
1695(a)S
1779(port)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2182 V
(one)201 708 A
11 Y1
909(3)S
11 C
(way\(p,)402 964 A
1433(q\))S
2322 V
(port)268 708 A
(*p,)201 1043 A
(*q;)201 1311 A
2662 V
12 B
708(Description)S
2838 V
12 I
708(One)S
12 Y1
910(3)S
12 I
970(way)S
12 R
1205(computes)S
1699(an)S
1844(encrypted)S
2352(version)S
2739(of)S
12 I
2871(p)S
12 R
2973(and)S
3179(returns)S
3548(the)S
3728(result)S
4030(in)S
12 I
4156(q)S
12 R
4226(.)S
4318(It)S
4425(keeps)S
4732(an)S
4878(internal)S
2978 V
(cache)276 708 A
1014(of)S
1145(encrypted)S
1652(ports)S
1924(for)S
2096(efficiency)S
2612(reasons.)S
3258 V
12 B
708(See)S
913(Also)S
3434 V
12 R
(priv2pub\(L\),)621 708 A
1359(posix\(L\),)S
1836(rpc\(L\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(285)180 5069 A
7920 V
EP
%%Page: 286 292
BP
/slant 0 def
/height 0 def
500 V
12 R
708(opencap)S
1130(\(L\))S
2567(Library)S
2961(Routines)S
4671(opencap)S
5093(\(L\))S
860 V
2350(\(in)S
2515(libraries:)S
2978(libamoeba.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(opencap)S
12 R-1
1140(-)S
12 R
1268(open)S
1532(a)S
1616(file)S
1809(given)S
2107(by)S
(capability)478 2257 A
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("fcntl.h")603 1311 A
2182 V
(int)201 708 A
(opencap\(cap,)804 976 A
(flags\))402 1847 A
2322 V
(capability)670 708 A
(*cap;)335 1445 A
2462 V
(int)201 708 A
(flags;)402 976 A
2802 V
12 B
708(Description)S
2978 V
12 R
708(This)S
984(function)S
1448(returns)S
1846(an)S
2021(open)S
2316(file)S
2540(descriptor)S
3086(for)S
3289(the)S
3498(file)S
3722(referenced)S
4297(by)S
4479(the)S
(`capability')560 4689 A
3118 V
708(argument.)S
1257(The)S
1477(`flags')S
1827(argument)S
2316(is)S
2429(interpreted)S
2987(as)S
3120(for)S
12 I
3294(open\(\))S
12 R
3652(\(see)S
12 I
3880(posix)S
12 R
4145(\(L\)\),)S
4404(but)S
4589(only)S
4834(the)S
5013(flags)S
3258 V
12 C
708(O)S
12 Y1
781(3)S
12 C
(RDONLY)438 841 A
12 R
1279(,)S
12 C
1347(O)S
12 Y1
1420(3)S
12 C
(WRONLY)438 1480 A
12 R
1956(and)S
12 C
2169(O)S
12 Y1
2242(3)S
12 C
(RDWR)292 2302 A
12 R
2633(are)S
(supported.)506 2821 A
3396(Furthermore,)S
4071(bullet)S
4386(files)S
4635(may)S
4882(only)S
5135(be)S
3398 V
708(opened)S
1115(for)S
1316(reading;)S
1772(other)S
2080(files)S
2348(\(such)S
2668(as)S
2827(tty)S
3013(devices\))S
3475(may)S
3741(be)S
3913(opened)S
4319(for)S
4519(reading)S
4940(and/or)S
3538 V
(writing.)381 708 A
1149(Errors)S
1483(are)S
1662(the)S
1840(same)S
2119(as)S
2250(for)S
12 I
2422(open\(\))S
12 R
2748(,)S
2808(insofar)S
3175(as)S
3306(they)S
3544(are)S
3723(relevant)S
4144(to)S
4268(the)S
(supported)476 4446 A
4952(flags.)S
3818 V
12 B
708(Example)S
3994 V
12 R
708(The)S
926(following)S
1427(code)S
1685(fragment)S
(\(without)411 2154 A
2596(error)S
2864(handling\))S
(looks)261 3358 A
3650(up)S
3801(a)S
(capability)478 3886 A
4395(and)S
4600(opens)S
4912(it,)S
5041(then)S
4134 V
708(copies)S
1047(some)S
1332(bytes)S
1617(from)S
1883(it)S
1981(to)S
2105(standard)S
2545(output:)S
4334 V
11 C
(capability)670 1068 A
(cap;)268 1805 A
4474 V
(int)201 1068 A
(fd,)201 1336 A
1604(n;)S
4614 V
(char)268 1068 A
(buf[100];)603 1403 A
4894 V
1068(if)S
(\(name)335 1269 A
11 Y1
1604(3)S
11 C
(lookup\("/foo/bar",)1206 1659 A
(&cap\))335 2932 A
3334(==)S
(STD)201 3535 A
11 Y1
3736(3)S
11 C
(OK\))201 3791 A
4059({)S
5034 V
1336(fd)S
1537(=)S
(opencap\(&cap,)871 1671 A
2609(O)S
11 Y1
2676(3)S
11 C
(RDONLY\);)536 2731 A
5174 V
1336(if)S
(\(fd)201 1537 A
1805(>=)S
2006(0\))S
2207({)S
5314 V
1652(n)S
1786(=)S
(read\(fd,)536 1920 A
(buf,)268 2523 A
(100\);)335 2858 A
5454 V
(write\(1,)536 1652 A
(buf,)268 2255 A
(n\);)201 2590 A
5594 V
(close\(fd\);)670 1652 A
5734 V
1336(})S
5874 V
1068(})S
6214 V
12 B
708(See)S
913(Also)S
6390 V
12 R
708(posix\(L\).)S
7700 V
(286)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 287 293
BP
/slant 0 def
/height 0 def
500 V
12 R
708(path)S
936(\(L\))S
2567(Library)S
2961(Routines)S
4865(path)S
5093(\(L\))S
860 V
2033(\(in)S
2198(libraries:)S
2661(libamoeba.a,)S
3309(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(path)S
12 R-1
946(-)S
12 R
1074(functions)S
1554(for)S
1726(processing)S
2273(path)S
2511(names)S
2850(and)S
3054(lists)S
3280(of)S
3411(path)S
3649(names)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("module/path.h")1005 1311 A
2182 V
(int)201 708 A
(path)268 1177 A
11 Y1
1445(3)S
11 C
(capnorm\(dircap)938 1500 A
11 Y1
2438(3)S
11 C
2493(p,)S
(path,)335 2694 A
(buf,)268 3096 A
(len\))268 3431 A
2322 V
(int)201 708 A
(path)268 1177 A
11 Y1
1445(3)S
11 C
1500(cs)S
11 Y1
1634(3)S
11 C
(norm\(dircapset)938 1689 A
11 Y1
2627(3)S
11 C
2682(p,)S
(path,)335 2883 A
(buf,)268 3285 A
(len\))268 3620 A
2462 V
(char)268 708 A
1043(*)S
(path)268 1177 A
11 Y1
1445(3)S
11 C
(first\(dirlist,)938 1500 A
(filename,)603 2505 A
(path)268 3175 A
11 Y1
3443(3)S
11 C
(buff\))335 3498 A
2602 V
(char)268 708 A
1043(*)S
(path)268 1177 A
11 Y1
1445(3)S
11 C
(lookup\(dirlist,)1005 1500 A
(filename,)603 2572 A
(path)268 3242 A
11 Y1
3510(3)S
11 C
(buff,)335 3565 A
(cap)201 3967 A
11 Y1
4168(3)S
11 C
(ptr\))268 4223 A
2742 V
(int)201 708 A
(path)268 1177 A
11 Y1
1445(3)S
11 C
(norm\(cwd,)603 1500 A
(path,)335 2170 A
(buf,)268 2572 A
(len\))268 2907 A
2882 V
(int)201 708 A
(path)268 1177 A
11 Y1
1445(3)S
11 C
(rnorm\(cwd,)670 1500 A
(path,)335 2237 A
(buf,)268 2639 A
(len\))268 2974 A
3222 V
12 B
708(Description)S
3398 V
12 R
708(This)S
963(is)S
1084(a)S
1178(collection)S
1696(of)S
1837(functions)S
2327(for)S
2509(parsing)S
2905(and)S
3119(translating)S
3671(path)S
3919(names)S
4268(and)S
4482(colon-separated)S
3538 V
708(directory)S
1216(lists)S
1482(such)S
1773(as)S
1944(the)S
2162(PATH)S
2549(environment)S
3230(variable.)S
3751(This)S
(module)362 4036 A
4467(implements)S
5101(the)S
3678 V
708(semantics)S
1240(of)S
1395(``.'')S
1643(and)S
1871(``)S
12 C
1953(..)S
12 R
2099('')S
2236(as)S
2392(path)S
(components,)613 2655 A
3323(by)S
3498(doing)S
3827(syntactic)S
4313(evaluation)S
4872(of)S
5028(such)S
3818 V
(components)583 708 A
1324(in)S
1451(the)S
1632(user)S
1867(program.)S
2370(The)S
2591(directory)S
3062(servers)S
3439(do)S
3592(not)S
(recognize)471 3779 A
4283(the)S
4464(special)S
4833(meaning)S
3958 V
708(of)S
839(these)S
1118(names.)S
4274 V
12 I
708(path)S
12 Y1
922(3)S
12 I
982(first)S
4510 V
11 C
(char)268 1068 A
1403(*)S
4650 V
(path)268 1068 A
11 Y1
1336(3)S
11 C
(first\(dirlist,)938 1391 A
(filename,)603 2396 A
(path)268 3066 A
11 Y1
3334(3)S
11 C
(buff\))335 3389 A
4790 V
(char)268 1068 A
(*dirlist;)603 1403 A
4930 V
(char)268 1068 A
(*filename;)670 1403 A
5070 V
(char)268 1068 A
(*path)335 1403 A
11 Y1
1738(3)S
11 C
(buff;)335 1793 A
5270 V
12 R
708(Given)S
1063(a)S
1176(colon-separated)S
2002(directory)S
2499(list,)S
2738(a)S
2852(file)S
3075(name)S
3397(and)S
3631(a)S
3745(pointer)S
4148(to)S
4302(a)S
4416(character)S
4922(buffer,)S
5410 V
12 I
708(path)S
12 Y1
922(3)S
12 I
982(first)S
12 R
1231(sets)S
12 I
1456(path)S
12 Y1
1670(3)S
12 I
1730(buf)S
12 R
1937(to)S
2074(the)S
2265(result)S
2578(of)S
2722(appending)S
12 I
(filename)418 3267 A
12 R
3738(\(separated)S
4280(by)S
(``/''\))239 4443 A
4725(to)S
4862(the)S
5052(first)S
5550 V
708(directory)S
1187(in)S
1322(the)S
1511(pathlist.)S
1969(However,)S
2485(if)S
2601(the)S
2790(first)S
3028(directory)S
3508(is)S
3631(an)S
3787(empty)S
4131(string)S
4449(or)S
4592(the)S
4782(file)S
4987(name)S
5690 V
708(begins)S
1072(with)S
1337(``/'',)S
1614(the)S
1811(file)S
2023(name)S
2334(is)S
2464(just)S
2688(copied)S
3059(to)S
3202(the)S
3399(buffer.)S
3805(In)S
3955(any)S
4178(case,)S
4466(a)S
4568(pointer)S
4959(to)S
5101(the)S
5830 V
708(portion)S
1113(of)S
12 I
1270(dirlist)S
12 R
1626(after)S
1906(the)S
2110(first)S
2363(directory)S
2857(\(and)S
3128(terminating)S
(``:''\))239 3743 A
4039(is)S
4177(returned,)S
4668(if)S
4800(there)S
5100(are)S
5970 V
708(remaining)S
1253(directories,)S
1849(so)S
2009(that)S
2244(the)S
2445(result)S
2768(can)S
2989(be)S
3156(used)S
3430(in)S
(loops)261 3577 A
3891(that)S
4126(are)S
4328(to)S
4475(iterate)S
4833(over)S
5101(the)S
6110 V
708(directories)S
1252(in)S
1378(the)S
1558(list.)S
1799(If)S
1913(there)S
2188(are)S
2369(no)S
2521(remaining)S
3044(directories,)S
3619(NULL)S
3975(is)S
4088(returned)S
4524(as)S
4657(a)S
4743(terminator)S
6250 V
708(for)S
880(such)S
(loops.)291 1131 A
6426 V
12 I
708(Path)S
12 Y1
936(3)S
12 I
996(first)S
12 R
1250(also)S
1493(returns)S
1878(NULL)S
2250(on)S
2418(any)S
2640(call,)S
2894(if)S
12 I
(filename)418 3017 A
12 R
3493(begins)S
3856(with)S
4121(``/'')S
4368(\(since)S
4707(there)S
4999(is)S
5129(no)S
6566 V
708(point)S
1007(to)S
1152(further)S
1534(calls\).)S
1909(The)S
2148(user)S
2401(is)S
(responsible)551 2533 A
3135(for)S
3328(ensuring)S
3795(that)S
4028(the)S
4226(buffer)S
4573(pointed)S
4985(to)S
5129(by)S
6706 V
12 I
708(path)S
12 Y1
922(3)S
12 I
982(buff)S
12 R
1210(is)S
1321(large)S
(enough.)384 1594 A
7700 V
2683(Amoeba)S
3123(5.3)S
(287)180 5069 A
7920 V
EP
%%Page: 288 294
BP
/slant 0 def
/height 0 def
500 V
12 R
708(path)S
936(\(L\))S
2567(Library)S
2961(Routines)S
4865(path)S
5093(\(L\))S
860 V
12 I
708(path)S
12 Y1
922(3)S
12 I
982(lookup)S
1096 V
11 C
(char)268 1068 A
1403(*)S
1236 V
(path)268 1068 A
11 Y1
1336(3)S
11 C
(lookup\(dirlist,)1005 1391 A
(filename,)603 2463 A
(path)268 3133 A
11 Y1
3401(3)S
11 C
(buff,)335 3456 A
(cap)201 3858 A
11 Y1
4059(3)S
11 C
(ptr\))268 4114 A
1376 V
(char)268 1068 A
(*dirlist;)603 1403 A
1516 V
(char)268 1068 A
(*filename;)670 1403 A
1656 V
(char)268 1068 A
(*path)335 1403 A
11 Y1
1738(3)S
11 C
(buff;)335 1793 A
1796 V
(capability)670 1068 A
(*cap)268 1805 A
11 Y1
2073(3)S
11 C
(ptr;)268 2128 A
1996 V
12 R
708(Given)S
1071(a)S
1192(colon-separated)S
2026(directory)S
2531(list)S
2747(\()S
12 I
2788(dirlist)S
12 R
3078(\),)S
3216(a)S
12 I
(filename)418 3337 A
12 R
3765(,)S
3862(a)S
3983(pointer)S
4393(to)S
4554(a)S
4675(char)S
4952(buffer)S
2136 V
708(\()S
12 I
749(path)S
12 Y1
963(3)S
12 I
1023(buff)S
12 R
1211(\),)S
1356(and)S
1604(a)S
1732(pointer)S
2149(to)S
2317(a)S
(capability)478 2445 A
2996(\()S
12 I
3037(cap)S
12 Y1
3211(3)S
12 I
3271(ptr)S
12 R
3412(\),)S
12 I
3556(path)S
12 Y1
3770(3)S
12 I
3830(lookup)S
12 R
4241(uses)S
12 I
4522(path)S
12 Y1
4736(3)S
12 I
4796(first)S
12 R
5075(and)S
2276 V
12 I
708(name)S
12 Y1
970(3)S
12 I
1030(lookup)S
12 R
1399(repeatedly,)S
1965(to)S
2090(search)S
2431(for)S
2604(the)S
2783(given)S
3082(name)S
3375(in)S
3500(the)S
3679(list)S
3859(of)S
3991(directories)S
4535(\(in)S
4701(left)S
4895(to)S
5020(right)S
2416 V
708(order\).)S
1105(If)S
(found,)311 1227 A
1577(the)S
1764(buffer)S
2100(is)S
2220(set)S
2394(to)S
2527(the)S
2714(full)S
2922(path)S
3169(name)S
3470(\(the)S
3698(directory)S
4175(concatenated)S
4846(with)S
5101(the)S
2556 V
708(file)S
907(name,)S
1235(or)S
1372(just)S
1583(the)S
1767(file)S
1967(name)S
2266(if)S
2378(it)S
2483(begins)S
2835(with)S
(``/''\),)269 3088 A
3394(and)S
3605(the)S
(capability)478 3790 A
4305(is)S
(filled)257 4423 A
4717(in)S
4848(with)S
5101(the)S
2696 V
(capability)478 708 A
1216(for)S
1388(the)S
1566(file.)S
2872 V
708(It)S
822(returns)S
1198(the)S
1385(value)S
1686(returned)S
2129(by)S
2288(the)S
2475(last)S
2683(call)S
2898(to)S
12 I
3031(path)S
12 Y1
3245(3)S
12 I
3305(first)S
12 R
3511(.)S
3610(This)S
3864(can)S
4071(be)S
4224(used)S
4484(as)S
4624(the)S
4811(directory)S
3012 V
708(list)S
904(in)S
1045(a)S
1146(subsequent)S
12 I
1729(path)S
12 Y1
1943(3)S
12 I
2003(lookup)S
12 R
2388(call,)S
2641(if)S
2763(the)S
(found)281 2958 A
3286(entry)S
3582(is)S
3710(not)S
3911(deemed)S
4333(suitable,)S
4786(or)S
4933(if)S
5054(it)S
5168(is)S
3152 V
708(intended)S
1169(that)S
1396(all)S
1563(matching)S
2058(entries)S
2427(be)S
(found.)311 2586 A
2972(The)S
3206(first)S
3449(char)S
3704(of)S
12 I
3851(path)S
12 Y1
4065(3)S
12 I
4125(buff)S
12 R
4369(is)S
4496(set)S
4677(to)S
12 C
('\\0')292 4817 A
12 R
5155(to)S
3292 V
708(indicate)S
1126(failure.)S
1537(A)S
1658(NULL)S
2015(return)S
2338(value)S
2633(does)S
2887(not)S
3074(indicate)S
3491(failure,)S
3872(only)S
4119(that)S
4334(the)S
4515(search)S
4858(went)S
5127(all)S
3432 V
708(the)S
892(way)S
1130(to)S
1260(the)S
1444(last)S
1649(directory)S
2123(in)S
2253(the)S
2437(list.)S
2682(The)S
2906(caller)S
3213(is)S
(responsible)551 3330 A
3917(for)S
4095(ensuring)S
4548(that)S
4767(the)S
4952(buffer)S
3572 V
708(pointed)S
1100(to)S
1224(by)S
12 I
1374(path)S
12 Y1
1588(3)S
12 I
1648(buff)S
12 R
1876(is)S
1987(large)S
(enough.)384 2260 A
3888 V
12 I
708(path)S
12 Y1
922(3)S
12 I
982(norm)S
4124 V
11 C
(int)201 1068 A
4264 V
(path)268 1068 A
11 Y1
1336(3)S
11 C
(norm\(cwd,)603 1391 A
(path,)335 2061 A
(buf,)268 2463 A
(len\))268 2798 A
4404 V
(char)268 1068 A
(*cwd;)335 1403 A
4544 V
(char)268 1068 A
(*path;)402 1403 A
4684 V
(char)268 1068 A
(*buf;)335 1403 A
4824 V
(int)201 1068 A
(len;)268 1336 A
5024 V
12 R
708(Given)S
1035(an)S
1180(absolute)S
1615(or)S
1748(relative)S
2145(path)S
2385(name)S
2679(\()S
12 I
2720(path)S
12 R
2934(\))S
3007(and)S
3213(the)S
3393(name)S
3687(of)S
3820(the)S
4000(current)S
4376(working)S
4811(directory)S
5164 V
708(\()S
12 I
749(cwd)S
12 R
943(\),)S
12 I
1066(path)S
12 Y1
1280(3)S
12 I
1340(norm)S
12 R
1657(builds,)S
2034(in)S
2180(the)S
2380(given)S
2700(character)S
3198(buffer)S
3546(\()S
12 I
3587(buf)S
12 R
3741(\),)S
3863(a)S
3968(normal)S
4362(form)S
4649(for)S
4842(the)S
5041(path)S
5304 V
708(name.)S
1061(This)S
1307(normal)S
1681(form)S
1948(has)S
2140(any)S
(multiple)404 2345 A
2780(slashes)S
3154(mapped)S
3567(to)S
3692(one,)S
3927(has)S
4119(no)S
(trailing)351 4270 A
4652(``/'')S
4882(and)S
5088(has)S
5444 V
708(all)S
866(occurrences)S
1481(of)S
1618(``.'')S
1848(and)S
2057(``)S
12 C
2139(..)S
12 R
2285('')S
2402(expanded)S
2899(away.)S
3250(Also,)S
3544(if)S
3654(the)S
3837(path)S
4080(does)S
4336(not)S
4525(start)S
4770(with)S
5021(``/'',)S
5584 V
708(and)S
920(the)S
1106(current)S
1488(working)S
1929(directory)S
2405(is)S
(non-NULL,)575 2524 A
3137(it)S
3243(is)S
3362(prefixed)S
3804(to)S
3936(the)S
4122(path)S
4368(before)S
4717(calculating)S
5724 V
708(the)S
900(normal)S
1287(form.)S
1626(Thus)S
1910(the)S
2101(path)S
2352(is)S
2476(changed)S
2921(from)S
3200(relative)S
3608(to)S
3745(absolute,)S
4221(if)S
4339(and)S
4556(only)S
4813(if)S
4931(a)S
(non-)221 5028 A
5864 V
708(NULL)S
1062(working)S
1495(directory)S
1963(is)S
2074(given.)S
6040 V
708(It)S
825(returns)S
12 Y
1204(-)S
12 R
1270(1)S
1373(if)S
1491(a)S
1588(normalized)S
2176(path)S
2427(name)S
2732(is)S
2856(not)S
3053(obtainable,)S
3630(either)S
(because)383 3950 A
4376(path)S
4627(is)S
4751(NULL,)S
5148(or)S
6180 V
708(cwd)S
943(is)S
1057(needed)S
1432(and)S
1639(is)S
1753(NULL.)S
2170(Note:)S
2473(``/)S
12 C
2589(..)S
12 R
2735('')S
2850(is)S
2964(equivalent)S
3501(to)S
3628(``/'',)S
3889(and)S
4096(paths)S
4384(ending)S
4744(in)S
4870(``/'')S
5100(are)S
6320 V
(accepted.)454 708 A
7700 V
(288)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 289 295
BP
/slant 0 def
/height 0 def
500 V
12 R
708(path)S
936(\(L\))S
2567(Library)S
2961(Routines)S
4865(path)S
5093(\(L\))S
860 V
12 I
708(path)S
12 Y1
922(3)S
12 I
982(rnorm)S
1096 V
11 C
(int)201 1068 A
1236 V
(path)268 1068 A
11 Y1
1336(3)S
11 C
(rnorm\(cwd,)670 1391 A
(path,)335 2128 A
(buf,)268 2530 A
(len\))268 2865 A
1376 V
(char)268 1068 A
(*cwd;)335 1403 A
1516 V
(char)268 1068 A
(*path;)402 1403 A
1656 V
(char)268 1068 A
(*buf;)335 1403 A
1796 V
(int)201 1068 A
(len;)268 1336 A
1996 V
12 R
708(Just)S
950(like)S
12 I
1186(path)S
12 Y1
1400(3)S
12 I
1460(norm)S
12 R
1725(,)S
(above,)318 1809 A
2181(except)S
2551(that)S
2787(it)S
2910(only)S
3179(uses)S
12 I
3442(cwd)S
12 R
3701(to)S
3850(turn)S
4100(a)S
4209(relative)S
4629(path)S
4892(into)S
5135(an)S
2136 V
708(absolute)S
1167(path)S
1431(if)S
1562(the)S
1766(path)S
2030(contains)S
(enough)354 2489 A
2898(``)S
12 C
2980(..)S
12 R
3126('')S
(components)583 3263 A
3901(to)S
4050(require)S
(looking)368 4449 A
4872(at)S
12 I
5015(cwd)S
12 R
5219(.)S
2276 V
708(Otherwise,)S
1268(it)S
1366(acts)S
1585(like)S
12 I
1797(path)S
12 Y1
2011(3)S
12 I
2071(norm)S
12 R
2366(with)S
2612(a)S
2696(NULL)S
12 I
3050(cwd)S
12 R
3284(argument.)S
2592 V
12 I
708(path)S
12 Y1
922(3)S
12 I
(capnorm)429 982 A
2828 V
11 C
(int)201 1068 A
2968 V
(path)268 1068 A
11 Y1
1336(3)S
11 C
(capnorm\(dircap)938 1391 A
11 Y1
2329(3)S
11 C
2384(p,)S
(path,)335 2585 A
(buf,)268 2987 A
(len\))268 3322 A
3108 V
(capability)670 1068 A
(**dircap)536 1805 A
11 Y1
2341(3)S
11 C
2396(p;)S
3248 V
(char)268 1068 A
(*path;)402 1403 A
3388 V
(char)268 1068 A
(*buf;)335 1403 A
3528 V
(int)201 1068 A
(len;)268 1336 A
3728 V
12 R
708(Similar)S
1114(to)S
12 I
1256(path)S
12 Y1
1470(3)S
12 I
1530(rnorm)S
12 R
1842(,)S
1920(except)S
2284(that)S
2514(it)S
2630(uses)S
2886(a)S
(capability)478 2988 A
3514(pointer)S
3905(instead)S
4296(of)S
4445(the)S
4641(name)S
4951(of)S
5101(the)S
3868 V
708(current)S
1092(working)S
1535(directory.)S
2073(If)S
2195(the)S
(capability)478 2383 A
2900(is)S
3020(the)S
3207(same)S
3495(as)S
3635(the)S
3822(working)S
4264(directory)S
(capability,)508 4741 A
4008 V
708(the)S
894(path)S
1140(is)S
1259(normalized)S
1842(as)S
1981(if)S
12 I
2095(path)S
12 Y1
2309(3)S
12 I
2369(rnorm)S
12 R
2720(had)S
2933(been)S
3200(called)S
3529(with)S
3784(the)S
3971(absolute)S
4413(path)S
4660(name)S
4961(of)S
5101(the)S
4148 V
708(working)S
1173(directory)S
1673(as)S
1835(first)S
2093(argument.)S
2671(Otherwise,)S
3262(the)S
3471(path)S
3740(is)S
3882(normalized)S
4488(using)S
4810(a)S
4925(NULL)S
4288 V
708(working)S
1141(directory)S
1609(string,)S
1945(in)S
2069(which)S
2395(case)S
2634(the)S
2812(path)S
3050(must)S
3315(not)S
3499(have)S
3757(a)S
3841(leading)S
4227(``)S
12 C
4309(..)S
12 R
4455(''.)S
4464 V
708(The)S
(capability)478 930 A
1443(is)S
1559(specified)S
2032(as)S
2168(a)S
2257(pointer)S
2635(to)S
2764(a)S
2853(pointer,)S
(because)383 3261 A
3679(it)S
3782(needs)S
4092(to)S
4221(be)S
4370(modified)S
4842(if)S
4952(a)S
5041(path)S
4604 V
708(name)S
1007(relative)S
1409(to)S
1540(the)S
1725(working)S
2165(directory)S
2640(is)S
2758(normalized)S
3340(to)S
3471(an)S
3621(absolute)S
4060(path)S
4304(name.)S
4662(In)S
4799(this)S
5010(case,)S
4744 V
708(the)S
(capability)478 886 A
1394(pointer)S
1767(is)S
1878(changed)S
2310(to)S
2434(point)S
2712(to)S
2836(the)S
(capability)478 3014 A
3522(for)S
3694(the)S
3872(user's)S
4192(root)S
4417(directory.)S
5060 V
12 I
708(path)S
12 Y1
922(3)S
12 I
982(cs)S
12 Y1
1083(3)S
12 I
1143(norm)S
5296 V
11 C
(int)201 1068 A
5436 V
(path)268 1068 A
11 Y1
1336(3)S
11 C
1391(cs)S
11 Y1
1525(3)S
11 C
(norm\(dircapset)938 1580 A
11 Y1
2518(3)S
11 C
2573(p,)S
(path,)335 2774 A
(buf,)268 3176 A
(len\))268 3511 A
5576 V
(capset)402 1068 A
(**dircapset)737 1537 A
11 Y1
2274(3)S
11 C
2329(p;)S
5716 V
(char)268 1068 A
(*path;)402 1403 A
5856 V
(char)268 1068 A
(*buf;)335 1403 A
5996 V
(int)201 1068 A
(len;)268 1336 A
6196 V
12 R
708(Similar)S
1104(to)S
12 I
1236(path)S
12 Y1
1450(3)S
12 I
1510(rnorm)S
12 R
1822(,)S
1891(except)S
2246(that)S
2467(it)S
2574(uses)S
2821(a)S
2914(pointer)S
3296(to)S
3429(a)S
(capability-set)654 3522 A
4215(\()S
12 I
4256(dircapset)S
12 Y1
4706(3)S
12 I
4766(p)S
12 R
4826(\))S
4906(instead)S
6336 V
708(of)S
848(the)S
1035(name)S
1336(of)S
1476(the)S
1663(current)S
2046(working)S
2488(directory.)S
3025(If)S
3146(any)S
(capability)478 3359 A
3876(in)S
4009(the)S
4196(set)S
4370(is)S
4489(the)S
4675(same)S
4962(as)S
5101(the)S
6476 V
708(working)S
1152(directory)S
(capability,)508 1631 A
2180(the)S
2369(path)S
2618(is)S
2740(normalized)S
3327(as)S
3470(if)S
12 I
3587(path)S
12 Y1
3801(3)S
12 I
3861(rnorm)S
12 R
4215(had)S
4431(been)S
4701(called)S
5033(with)S
6616 V
708(the)S
903(absolute)S
1353(path)S
1608(name)S
1917(of)S
2064(the)S
2258(working)S
2707(directory)S
3191(as)S
3338(first)S
3581(argument.)S
4144(Otherwise,)S
4720(the)S
4914(path)S
5168(is)S
6756 V
708(normalized)S
1291(using)S
1591(a)S
1684(NULL)S
2047(working)S
2489(directory)S
2966(string,)S
3311(in)S
3444(which)S
3779(case)S
4027(the)S
4214(path)S
4461(must)S
4735(not)S
4928(have)S
5195(a)S
6896 V
708(leading)S
1094(``)S
12 C
1176(..)S
12 R
1322(''.)S
7072 V
708(The)S
940(capset)S
1287(is)S
1412(specified)S
1894(as)S
2039(a)S
2137(pointer)S
2525(to)S
2664(a)S
2763(pointer,)S
(because)383 3181 A
3609(it)S
3722(needs)S
4042(to)S
4181(be)S
4340(modified)S
4822(if)S
4942(a)S
5041(path)S
7212 V
708(name)S
1007(relative)S
1409(to)S
1540(the)S
1725(working)S
2165(directory)S
2640(is)S
2758(normalized)S
3340(to)S
3471(an)S
3621(absolute)S
4060(path)S
4304(name.)S
4662(In)S
4799(this)S
5010(case,)S
7700 V
2683(Amoeba)S
3123(5.3)S
(289)180 5069 A
7920 V
EP
%%Page: 290 296
BP
/slant 0 def
/height 0 def
500 V
12 R
708(path)S
936(\(L\))S
2567(Library)S
2961(Routines)S
4865(path)S
5093(\(L\))S
860 V
708(the)S
886(capset)S
1219(pointer)S
1592(is)S
1703(changed)S
2135(to)S
2259(point)S
2537(to)S
2661(the)S
2839(capset)S
3172(for)S
3344(the)S
3522(user's)S
3842(root)S
4067(directory.)S
1140 V
12 B
708(See)S
913(Also)S
1316 V
12 R
708(soap\(L\).)S
7700 V
(290)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 291 297
BP
/slant 0 def
/height 0 def
500 V
12 R
708(pd)S
12 Y1
828(3)S
12 R
888(preserve)S
1319(\(L\))S
2567(Library)S
2961(Routines)S
4482(pd)S
12 Y1
4602(3)S
12 R
4662(preserve)S
5093(\(L\))S
860 V
2033(\(in)S
2198(libraries:)S
2661(libamoeba.a,)S
3309(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(pd)S
12 Y1
828(3)S
12 R
888(preserve)S
12 R-1
1329(-)S
12 R
(copy)234 1457 A
1721(a)S
1805(process)S
2198(image)S
2524(to)S
2648(a)S
2732(file)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("module/proc.h")1005 1311 A
2182 V
(errstat)469 708 A
2322 V
708(pd)S
11 Y1
842(3)S
11 C
(preserve\(filesvr,)1139 897 A
(pd,)201 2103 A
(pdlen,)402 2371 A
(file\))335 2840 A
2462 V
(capability)670 708 A
(*filesvr;)603 1445 A
2602 V
(process)469 708 A
11 Y1
1177(3)S
11 C
1232(d)S
(*pd;)268 1366 A
2742 V
(int)201 708 A
(pdlen;)402 976 A
2882 V
(capability)670 708 A
(*file;)402 1445 A
(/*out*/)469 1914 A
3222 V
12 B
708(Description)S
3398 V
12 I
708(Pd)S
12 Y1
842(3)S
12 I
902(preserve)S
12 R
1381(stores)S
1716(the)S
1916(process)S
2331(descriptor)S
12 I
2868(pd)S
12 R
2998(,)S
3080(which)S
3428(has)S
3642(length)S
12 I
3997(pdlen)S
12 R
4275(,)S
4358(and)S
4585(copies)S
4947(of)S
5101(the)S
3538 V
708(segments)S
1196(on)S
1354(file)S
1555(server)S
12 I
(filesvr)304 1890 A
12 R
2204(.)S
2302(It)S
2415(returns)S
2790(a)S
(capability)478 2882 A
3398(for)S
3578(the)S
3764(new)S
4004(file)S
4205(in)S
12 I
(file)156 4337 A
12 R
4503(.)S
4600(The)S
(resulting)424 4825 A
3678 V
708(file)S
909(is)S
1028(in)S
1160(network)S
1595(byte)S
1841(order.)S
2195(In)S
2334(theory)S
2681(this)S
2894(file)S
3095(is)S
3215(executable)S
3772(again,)S
4103(but)S
4296(since)S
4584(the)S
(capability)478 4771 A
3818 V
708(environment)S
1363(and)S
1581(command)S
2101(line)S
2327(arguments)S
2875(are)S
3068(copied)S
3433(as)S
3577(well,)S
3860(the)S
(resulting)424 4051 A
4518(program)S
4971(is)S
5095(not)S
3958 V
708(very)S
953(useful.)S
1339(It)S
1444(is)S
1555(used)S
1806(to)S
1930(create)S
2251(core)S
2490(dumps,)S
2871(which)S
3197(can)S
3395(be)S
3539(inspected)S
4026(by)S
(debuggers.)526 4176 A
4274 V
12 I
(Diagnostics)578 708 A
4450 V
12 R
708(In)S
841(case)S
1082(of)S
1215(an)S
1361(error,)S
12 I
1660(pd)S
12 Y1
1780(3)S
12 I
1840(preserve)S
12 R
2299(returns)S
2668(one)S
2874(of)S
3007(the)S
12 C
(STD)219 3188 A
12 R
3440(or)S
12 C
(RPC)219 3574 A
12 R
3826(errors)S
4143(defined)S
4539(in)S
12 I
4666(stderr.h)S
12 R
5055(.)S
5148(In)S
4590 V
708(particular,)S
12 C
(STD)219 1250 A
12 Y1
1469(3)S
12 C
(NOMEM)365 1529 A
12 R
1940(is)S
2067(returned)S
2517(when)S
12 I
2825(malloc)S
12 R
3211(fails,)S
3497(but)S
3697(unfortunately,)S
4425(the)S
4618(file)S
4826(server)S
5168(is)S
4730 V
708(allowed)S
1122(to)S
1246(return)S
1566(this)S
1771(error)S
2038(when)S
2330(it)S
2428(ran)S
2613(out)S
2797(of)S
2928(memory)S
3361(as)S
3492(well.)S
5010 V
12 B
708(Example)S
5186 V
12 R
708(This)S
953(function)S
1386(tries)S
1626(to)S
1750(store)S
2016(a)S
2100(process)S
2493(descriptor)S
3008(in)S
3132(a)S
3216(file)S
3409(called)S
12 I
3729(core)S
12 R
3954(.)S
5386 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
5526 V
(#include)536 708 A
("module/proc.h")1005 1311 A
5666 V
(#include)536 708 A
("stderr.h")670 1311 A
5806 V
(#include)536 708 A
("server/bullet/bullet.h")1608 1311 A
6086 V
(void)268 708 A
(dumpcore\(pd\))804 1043 A
6226 V
(process)469 976 A
11 Y1
1445(3)S
11 C
1500(d)S
(*pd;)268 1634 A
6366 V
708({)S
6506 V
(capability)670 976 A
(filesvr,)536 1713 A
(file;)335 2316 A
6646 V
976(if)S
(\(name)335 1177 A
11 Y1
1512(3)S
11 C
(lookup\(DEF)670 1567 A
11 Y1
2237(3)S
11 C
(BULLETSVR,)670 2292 A
(&filesvr\))603 3029 A
3699(==)S
(STD)201 3900 A
11 Y1
4101(3)S
11 C
4156(OK)S
4357(&&)S
6786 V
1244(pd)S
11 Y1
1378(3)S
11 C
(preserve\(&filesvr,)1206 1433 A
(pd,)201 2706 A
2974(pd)S
11 Y1
3108(3)S
11 C
(size\(pd\),)603 3163 A
(&file\))402 3833 A
4302(==)S
(STD)201 4503 A
11 Y1
4704(3)S
11 C
(OK\))201 4759 A
6926 V
(\(void\))402 1512 A
(name)268 1981 A
11 Y1
2249(3)S
11 C
(append\("core",)938 2304 A
(&file\);)469 3309 A
7066 V
708(})S
7700 V
12 R
2683(Amoeba)S
3123(5.3)S
(291)180 5069 A
7920 V
EP
%%Page: 292 298
BP
/slant 0 def
/height 0 def
500 V
12 R
708(pd)S
12 Y1
828(3)S
12 R
888(preserve)S
1319(\(L\))S
2567(Library)S
2961(Routines)S
4482(pd)S
12 Y1
4602(3)S
12 R
4662(preserve)S
5093(\(L\))S
860 V
12 B
708(See)S
913(Also)S
1036 V
12 R
708(bullet\(A\),)S
1214(pd)S
12 Y1
1334(3)S
12 R
1394(read\(L\),)S
1819(process\(L\),)S
2398(process)S
12 Y1
2761(3)S
12 R
2821(d\(L\).)S
7700 V
(292)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 293 299
BP
/slant 0 def
/height 0 def
500 V
12 R
708(pd)S
12 Y1
828(3)S
12 R
888(read)S
1117(\(L\))S
2567(Library)S
2961(Routines)S
4684(pd)S
12 Y1
4804(3)S
12 R
4864(read)S
5093(\(L\))S
860 V
1787(\(in)S
1952(libraries:)S
2415(libamoeba,)S
2979(libamunix.a,)S
3613(libkernel.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(pd)S
12 Y1
828(3)S
12 R
888(read)S
12 R-1
1127(-)S
12 R
1255(read)S
1494(a)S
1578(process)S
1971(descriptor)S
2486(from)S
2752(a)S
2836(file)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("module/proc.h")1005 1311 A
2182 V
(process)469 708 A
11 Y1
1177(3)S
11 C
1232(d)S
1366(*)S
2322 V
708(pd)S
11 Y1
842(3)S
11 C
(read\(file\))670 897 A
2462 V
(capability)670 708 A
(*file;)402 1445 A
2742 V
(errstat)469 708 A
2882 V
708(pd)S
11 Y1
842(3)S
11 C
(read)268 897 A
11 Y1
1165(3)S
11 C
(multiple\(cap,)871 1220 A
2158(pd)S
11 Y1
2292(3)S
11 C
(array,)402 2347 A
(npd\))268 2816 A
3022 V
(capability)670 708 A
(*cap;)335 1512 A
3162 V
(process)469 708 A
11 Y1
1177(3)S
11 C
1232(d)S
(***pd)335 1366 A
11 Y1
1701(3)S
11 C
(array;)402 1756 A
3302 V
(int)201 708 A
(*npd;)335 1512 A
3642 V
12 B
708(Description)S
3818 V
12 I
708(Pd)S
12 Y1
842(3)S
12 I
902(read)S
12 R
1172(reads)S
1467(a)S
1560(process)S
1962(descriptor)S
2486(from)S
2761(a)S
2854(file)S
3056(using)S
12 I
3356(b)S
12 Y1
3416(3)S
12 I
3476(read)S
12 R
3746(\(see)S
12 I
3981(bullet)S
12 R
4267(\(L\)\).)S
4564(The)S
4792(argument)S
3958 V
708(specifies)S
1173(a)S
(capability)478 1267 A
1784(for)S
1965(the)S
2152(file.)S
2414(It)S
(converts)410 2528 A
2977(the)S
3164(data)S
3405(read)S
3653(from)S
3928(the)S
4115(file)S
4317(from)S
4592(standard)S
5041(byte)S
4098 V
708(order)S
1002(to)S
1134(native)S
1468(byte)S
1714(order)S
2008(using)S
12 I
2307(pdmalloc)S
12 R
2805(and)S
12 I
3017(buf)S
12 Y1
3171(3)S
12 I
3231(get)S
12 Y1
3379(3)S
12 I
3439(pd)S
12 R
3607(\(see)S
12 I
3841(process)S
12 Y1
4210(3)S
12 I
4270(d)S
12 R
4340(\(L\)\),)S
4606(and)S
4819(returns)S
5195(a)S
4238 V
708(pointer)S
1081(to)S
1205(the)S
1383(malloced)S
1857(buffer)S
2184(containing)S
2724(the)S
(converted)477 2902 A
3409(process)S
3802(descriptor.)S
4414 V
12 I
708(Pd)S
12 Y1
842(3)S
12 I
902(read)S
12 Y1
1123(3)S
12 I
(multiple)398 1183 A
12 R
1659(is)S
1808(used)S
2097(in)S
2259(heterogeneous)S
3025(process)S
3456(startup.)S
3914(It)S
4057(reads)S
4381(a)S
12 I
4503(set)S
12 R
4716(of)S
4886(process)S
4554 V
708(descriptors,)S
1325(one)S
1554(per)S
1764(architecture)S
2393(available.)S
2946(The)S
3189(argument)S
12 I
3701(cap)S
12 R
3940(may)S
4203(be)S
4372(the)S
(capability)478 4575 A
5107(for)S
4694 V
708(either)S
1022(a)S
1113(file)S
1313(or)S
1451(a)S
1542(directory.)S
2077(If)S
12 I
2197(cap)S
12 R
2419(designates)S
2961(a)S
3053(file,)S
12 I
3284(pd)S
12 Y1
3404(3)S
12 I
3464(read)S
12 Y1
3685(3)S
12 I
(multiple)398 3745 A
12 R
4191(behaves)S
4618(like)S
12 I
4838(pd)S
12 Y1
4958(3)S
12 I
5018(read)S
4834 V
12 R
708(and)S
918(it)S
(will)190 1022 A
1248(return)S
1574(a)S
1664(single)S
1989(process)S
2387(descriptor.)S
2967(If)S
12 I
3084(cap)S
12 R
3303(designates)S
3842(a)S
3931(directory,)S
4434(it)S
(should)321 4537 A
4893(contain)S
4974 V
708(one)S
957(or)S
1133(more)S
1457(binary)S
1841(files)S
2127(named)S
2525(``)S
12 C
(pd.)219 2607 A
12 I
2826(arch)S
12 R
3047('',)S
(each)222 3235 A
3533(holding)S
3977(a)S
4107(process)S
4546(descriptor)S
5107(for)S
5114 V
708(architecture)S
12 I
1318(arch)S
12 R
1549(,)S
1615(respectively.)S
2297(The)S
2520(process)S
2918(descriptors)S
3485(are)S
3669(returned)S
4108(in)S
4237(the)S
4420(output)S
4763(parameter)S
5254 V
12 I
708(pd)S
12 Y1
828(3)S
12 I
888(array)S
12 R
1208(by)S
1370(means)S
1721(of)S
1864(a)S
(dynamically)598 1961 A
2602(allocated)S
3083(array)S
3376(of)S
3520(pointers)S
3953(to)S
4090(the)S
4281(process)S
4687(descriptors.)S
5394 V
708(Its)S
860(length)S
1192(is)S
1303(returned)S
1737(in)S
1861(the)S
2039(output)S
2377(parameter)S
12 I
(npd)180 2893 A
12 R
3083(.)S
5570 V
708(The)S
929(segment)S
1365(descriptors)S
1930(in)S
2057(the)S
2238(process)S
2634(descriptors)S
3199(returned)S
3636(by)S
12 I
3789(pd)S
12 Y1
3909(3)S
12 I
3969(read)S
12 Y1
4190(3)S
12 I
(multiple)398 4250 A
12 R
4691(are)S
4873(patched)S
5710 V
708(to)S
841(refer)S
1111(to)S
1244(the)S
(corresponding)691 1431 A
2161(binary)S
2509(files.)S
2818(For)S
3025(backward)S
(compatibility)646 3535 A
4220(reasons,)S
4652(the)S
4839(caller)S
5148(of)S
5850 V
12 I
708(pd)S
12 Y1
828(3)S
12 I
888(read)S
12 R
1149(is)S
(supposed)448 1260 A
1738(to)S
1862(do)S
2012(this)S
2217(himself.)S
6166 V
12 I
(Diagnostics)578 708 A
6342 V
708(Pd)S
12 Y1
842(3)S
12 I
902(read)S
12 R
1195(returns)S
1594(a)S
1710(NULL-pointer)S
2480(if)S
2617(an)S
2793(error)S
3092(occurred;)S
3612(this)S
3849(includes)S
4315(errors)S
4662(reported)S
5129(by)S
6482 V
12 I
708(b)S
12 Y1
768(3)S
12 I
828(read)S
12 R
1059(,)S
12 I
1119(pdmalloc)S
12 R
1609(and)S
12 I
1813(buf)S
12 Y1
1967(3)S
12 I
2027(get)S
12 Y1
2175(3)S
12 I
2235(pd)S
12 R
2365(.)S
6658 V
12 I
708(Pd)S
12 Y1
842(3)S
12 I
902(read)S
12 Y1
1123(3)S
12 I
(multiple)398 1183 A
12 R
1664(returns)S
12 C
(STD)219 2074 A
12 Y1
2293(3)S
12 C
2353(OK)S
12 R
2572(if)S
2720(it)S
2861(could)S
3202(read)S
3484(and)S
3731(allocate)S
4182(at)S
4343(least)S
4639(one)S
4886(process)S
6798 V
708(descriptor.)S
1283(Otherwise)S
1813(it)S
1911(returns)S
2278(a)S
2362(standard)S
2802(error)S
3069(code)S
(telling)310 3327 A
3667(what)S
3933(went)S
(wrong.)339 4199 A
7700 V
2683(Amoeba)S
3123(5.3)S
(293)180 5069 A
7920 V
EP
%%Page: 294 300
BP
/slant 0 def
/height 0 def
500 V
12 R
708(pd)S
12 Y1
828(3)S
12 R
888(read)S
1117(\(L\))S
2567(Library)S
2961(Routines)S
4684(pd)S
12 Y1
4804(3)S
12 R
4864(read)S
5093(\(L\))S
860 V
12 B
708(See)S
913(Also)S
1036 V
12 R
708(bullet\(L\),)S
1200(exec\(L\),)S
1638(process)S
12 Y1
2001(3)S
12 R
2061(d\(L\).)S
7700 V
(294)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 295 301
BP
/slant 0 def
/height 0 def
500 V
12 R
708(posix)S
989(\(L\))S
2567(Library)S
2961(Routines)S
4812(posix)S
5093(\(L\))S
860 V
2113(\(in)S
2278(libraries:)S
2741(libajax.a,)S
3215(libamoeba.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(posix)S
12 R-1
999(-)S
12 R
1127(the)S
1305(POSIX)S
1686(operating)S
2173(system)S
(interface)426 2539 A
(support)362 2995 A
1666 V
12 B
708(Synopsis)S
1842 V
12 R
(Support)382 708 A
1120(for)S
1292(POSIX)S
1673(library)S
2027(functions)S
2507(and)S
2711(header)S
3064(files)S
3304(is)S
3415(discussed.)S
2122 V
12 B
708(Description)S
2298 V
12 R
708(The)S
931(Amoeba)S
1376(library)S
1735(is)S
1851(evolving)S
2308(towards)S
2727(as)S
2863(much)S
3166(POSIX)S
(support)362 3552 A
3949(as)S
4085(possible.)S
(Because)403 4576 A
5014(most)S
2438 V
708(of)S
879(these)S
1198(functions)S
1717(are)S
1935(adequately)S
2528(documented)S
3187(by)S
3376(POSIX,)S
3826(only)S
4109(those)S
4433(functions)S
4952(where)S
2578 V
708(Amoeba's)S
1258(POSIX)S
1661(implementation)S
2473(differs)S
2843(from)S
3131(the)S
3331(standard)S
3793(are)S
3995(described.)S
4572(A)S
4713(companion)S
2718 V
708(document,)S
12 I
1246(ansi)S
12 Y1
1447(3)S
12 I
1507(C)S
12 R
1597(\(L\),)S
1815(provides)S
2263(information)S
(about)268 2867 A
3167(functions)S
3649(not)S
3835(defined)S
4230(by)S
4382(POSIX)S
4765(but)S
4950(by)S
5101(the)S
2858 V
708(C)S
839(Standard.)S
1381(In)S
1534(cases)S
1842(where)S
2191(both)S
2457(standards)S
2966(have)S
3246(conflicting)S
(definitions,)548 3823 A
4423(Amoeba)S
4885(follows)S
2998 V
708(POSIX.)S
3174 V
708(Many)S
1026(of)S
1164(the)S
1349(POSIX)S
1737(library)S
2098(functions)S
2585(use)S
2783(the)S
2969(services)S
3398(of)S
3537(the)S
3723(session)S
4110(server)S
4445(\(see)S
12 I
4679(session)S
12 R
5038(\(U\)\))S
3314 V
708(to)S
835(assist)S
1131(in)S
1258(their)S
1514(implementation.)S
2367(The)S
2588(session)S
2970(server)S
3300(provides)S
3749(shared)S
4097(file)S
4292(descriptors,)S
4886(process)S
3454 V
708(management)S
(support)362 1396 A
1829(and)S
2074(pipes)S
(\(although)463 2400 A
2934(named)S
3327(pipes)S
3653(or)S
3825(FIFOs)S
4206(are)S
4426(implemented)S
5129(by)S
3594 V
12 I
(fifosvr)310 708 A
12 R
1028(\(A\)\).)S
3770 V
708(Specific)S
1153(deviations)S
1697(from)S
1980(POSIX)S
2378(are)S
2574(listed)S
2884(below.)S
3287(It)S
(should)321 3409 A
3778(also)S
4021(be)S
4183(noted)S
4499(that)S
4729(the)S
4925(library)S
3910 V
708(contains)S
1143(many)S
1443(reserved)S
1886(names)S
2227(that)S
2441(are)S
2622(used)S
2875(by)S
3027(the)S
3207(POSIX)S
3590(emulation)S
4106(itself)S
4382(\(e.g.,)S
4659(the)S
4839(Amoeba)S
4050 V
708(transaction)S
(primitives\).)563 1270 A
1893(They)S
(should)321 2171 A
2522(not)S
2706(be)S
2850(overridden)S
3404(by)S
3554(applications.)S
4226 V
708(For)S
923(easy)S
1185(reference,)S
1715(the)S
1910(sections)S
2347(below)S
2691(are)S
2888(numbered)S
3419(the)S
3615(same)S
3912(way)S
4162(as)S
4311(the)S
4507(chapters)S
4959(in)S
5101(the)S
4366 V
708(POSIX)S
1089(standard.)S
1589(All)S
(supported)476 1775 A
2281(header)S
2634(files)S
2874(are)S
(found)281 3053 A
3364(in)S
3488(the)S
3666(header)S
(subdirectory)605 4019 A
12 I
4654(posix)S
12 R
4919(.)S
4682 V
12 I
(Chapter)395 708 A
1133(2.)S
(Definitions)539 1283 A
(and)180 1852 A
2062(General)S
2489(Requirements)S
4858 V
708(2.2)S
892(Conformance.)S
12 R
1623(While)S
1953(Amoeba)S
2397(is)S
2512(not)S
2700(yet)S
2882(a)S
2971(conforming)S
3570(implementation)S
4365(of)S
4501(POSIX,)S
4917(a)S
5006(large)S
4998 V
708(number)S
1117(of)S
1258(the)S
(facilities)420 1446 A
1906(and)S
(interfaces)473 2120 A
2633(defined)S
3036(by)S
3196(the)S
3383(POSIX)S
3773(standard)S
4222(are)S
(supported,)506 4410 A
4955(so)S
5101(the)S
5138 V
708(POSIX)S
1089(standard)S
1529(is)S
(still)183 1640 A
1853(an)S
1997(important)S
2498(yardstick)S
2972(to)S
3096(measure)S
3530(application)S
(portability)505 4098 A
4633(to)S
4757(Amoeba.)S
5314 V
12 I
708(2.2.3.3)S
1084(Common)S
1566(Usage)S
1921(C)S
(Language-Dependent)1046 2048 A
3141(System)S
(Support.)411 3525 A
12 R
(Although)456 3993 A
4496(the)S
4691(C)S
4818(compiler)S
5454 V
708(available)S
1181(on)S
1336(Amoeba)S
1780(is)S
1895(fully)S
2158(derived)S
2555(from)S
2825(the)S
3007(Standard)S
3471(Conforming)S
4095(ACK)S
4385(STD)S
4648(C)S
4762(Compiler,)S
5594 V
708(the)S
886(Amoeba)S
1326(libraries)S
(still)183 1755 A
1968(require)S
2342(some)S
2627(work,)S
2936(in)S
3060(order)S
3346(to)S
(reach)263 3470 A
3763(full)S
3962(conformance.)S
5910 V
12 I
708(2.4)S
888(General)S
1315(Concepts)S
6086 V
708(File)S
(access)316 940 A
1292(permissions.)S
12 R
1946(Amoeba's)S
(access)310 2480 A
2826(control)S
3205(mechanisms)S
3840(are)S
4026(different)S
4482(from)S
4755(and)S
4966(partly)S
6226 V
708(incompatible)S
1393(with)S
1662(those)S
1970(specified)S
2461(by)S
2634(POSIX.)S
(Access)344 3097 A
3493(rights)S
3821(for)S
4015(an)S
4181(object)S
4529(depend)S
4929(on)S
5101(the)S
6366 V
(capability)478 708 A
1216(presented)S
1710(to)S
1834(the)S
2012(server;)S
2373(the)S
12 I
(soap)227 2551 A
12 R
2788(\(A\))S
2988(directory)S
3456(service)S
3830(strips)S
4123(rights)S
4429(from)S
(capabilities)553 4696 A
6506 V
708(depending)S
1244(on)S
1398(the)S
1580(path)S
1822(name)S
2118(used.)S
2433(File)S
(access)310 2656 A
2999(permissions)S
3610(reported)S
4047(by)S
4200(the)S
4381(POSIX)S
4765(emulation)S
6646 V
708(\(e.g.,)S
983(by)S
12 I
1133(stat)S
12 R
1318(\))S
1389(are)S
1568(derived)S
1961(values)S
2300(at)S
2418(best.)S
2703(Execute)S
3123(permission)S
3684(is)S
3795(always)S
4162(granted.)S
6822 V
12 I
708(File)S
(update)328 942 A
1308(time.)S
12 R
1596(Amoeba)S
(supports)409 2044 A
2491(only)S
2743(a)S
2835(single)S
3162(time)S
3416(stamp)S
3744(for)S
3925(a)S
4018(file,)S
4250(which)S
4585(is)S
4705(reported)S
5148(as)S
6962 V
12 I
708(atime)S
12 R
988(,)S
12 I
1051(mtime)S
12 R
1392(and)S
12 I
1599(ctime)S
12 R
1873(.)S
1966(It)S
2074(is)S
2188(the)S
2369(time)S
2618(that)S
2833(the)S
(capability)478 3014 A
3525(was)S
3747(stored)S
4076(in)S
4202(the)S
4382(directory,)S
4882(and)S
5088(has)S
7102 V
708(a)S
792(precision)S
1266(of)S
1397(minutes)S
1810(only.)S
7278 V
12 I
708(User)S
983(&)S
(group)287 1116 A
1442(ids.)S
12 R
1662(No)S
1849(security)S
2272(is)S
2392(derived)S
2794(from)S
3069(uids)S
3309(and)S
3523(gids)S
(under)275 3764 A
4079(Amoeba)S
4529(since)S
(access)310 4818 A
5168(is)S
7700 V
2683(Amoeba)S
3123(5.3)S
(295)180 5069 A
7920 V
EP
%%Page: 296 302
BP
/slant 0 def
/height 0 def
500 V
12 R
708(posix)S
989(\(L\))S
2567(Library)S
2961(Routines)S
4812(posix)S
5093(\(L\))S
860 V
708(controlled)S
1245(by)S
(capability.)508 1411 A
1995(If)S
2123(some)S
2423(application)S
3006(needs)S
3326(to)S
3465(run)S
3671(with)S
3932(a)S
4031(particular)S
4542(uid)S
4741(and/or)S
5095(gid)S
1000 V
708(they)S
970(can)S
1192(be)S
1360(set)S
1549(to)S
1697(other)S
2000(values)S
2363(in)S
2511(the)S
2713(string)S
3043(environment)S
3708(variable)S
12 Y1
4153(3)S
12 C
(IDS)219 4213 A
12 R
4432(.)S
4546(The)S
4789(format)S
5168(is)S
1140 V
12 I
708(uid:gid:euid:egid)S
12 R
1565(,)S
1631(where)S
12 I
1964(euid)S
12 R
2218(and)S
12 I
2428(egid)S
12 R
2682(are)S
2867(the)S
3051(effective)S
3513(user)S
3751(and)S
(group)281 3961 A
4278(ids,)S
4485(respectively.)S
5167(If)S
1280 V
12 Y1
708(3)S
12 C
(IDS)219 768 A
12 R
1025(is)S
1144(not)S
1336(defined)S
1737(then)S
1983(the)S
2169(uid)S
2361(is)S
2480(derived)S
2881(from)S
3155(the)S
3341(object)S
3675(number)S
4083(in)S
4216(the)S
(capability)478 4403 A
4920(for)S
5101(the)S
1420 V
708(user's)S
1028(root)S
1253(directory)S
1721(\(since)S
2041(this)S
2246(is)S
2357(unique)S
2715(per)S
2900(user\))S
3173(and)S
3377(the)S
3555(gid)S
3739(defaults)S
4153(to)S
4277(1.)S
1596 V
12 I
708(Path)S
974(name)S
1274(resolution.)S
12 R
1842(Amoeba)S
(supports)409 2290 A
(multiple)404 2737 A
(indistinguishable)826 3179 A
4043(links)S
4316(to)S
4449(directories.)S
5061(The)S
1736 V
708(special)S
1160(path)S
1483(name)S
(components)583 1860 A
2558(dot)S
2827(and)S
3116(dot-dot)S
3580(are)S
3843(interpreted)S
4483(lexically,)S
5045(e.g.,)S
1876 V
12 I
708(/foo/bar/../bletch/.)S
12 R
1625(is)S
1736(reduced)S
2149(to)S
12 I
2273(/foo/bletch)S
12 R
2831(before)S
3171(it)S
3269(is)S
3380(presented)S
3874(to)S
3998(the)S
4177(directory)S
4646(server.)S
5034(Path)S
2016 V
708(names)S
1057(relative)S
1462(to)S
1596(the)S
1784(current)S
2167(working)S
2609(directory)S
3086(are)S
3274(expanded)S
3775(using)S
4075(the)S
4262(special)S
4638(environment)S
2156 V
708(variable)S
12 Y1
1131(3)S
12 C
(WORK)292 1191 A
12 R
1483(,)S
1545(which)S
1874(keeps)S
2182(track)S
2458(of)S
2592(its)S
2740(name.)S
3095(This)S
3343(environment)S
3987(variable)S
4411(is)S
4525(passed)S
4880(to)S
5007(child)S
2296 V
708(processes)S
1202(and)S
(updated)382 1406 A
1818(by)S
12 I
1968(chdir)S
12 R
2233(.)S
2612 V
12 I
708(2.8)S
888(Numerical)S
1429(Limits)S
2788 V
12 R
708(Most)S
995(of)S
1135(the)S
1322(constants)S
1811(mentioned)S
2360(in)S
2493(this)S
2707(section)S
(beyond)354 3090 A
3484(those)S
3779(defined)S
4182(by)S
4342(the)S
4530(C)S
4650(standard)S
5100(are)S
2928 V
708(not)S
892(yet)S
1070(provided)S
1529(in)S
12 I
1653(limits.h)S
12 R
2024(.)S
3244 V
12 I
(Chapter)395 708 A
1133(3.)S
1253(Process)S
(Primitives)500 1666 A
3420 V
12 R
708(The)S
926(following)S
1427(process)S
1820(attributes)S
2302(are)S
2481(not)S
(supported:)510 2665 A
3596 V
12 Y1
708(d)S
12 R
958(Process)S
1358(time)S
(accounting)530 1604 A
2164(attributes)S
3772 V
12 Y1
708(d)S
12 R
958(Session)S
1357(membership)S
4052 V
12 B
708(P.3.1.1)S
4228 V
12 Y1
708(d)S
12 R
958(Directory)S
1454(stream)S
(positioning)543 1808 A
2381(is)S
2492(not)S
2676(shared)S
3022(by)S
3172(parent)S
3505(and)S
3709(child)S
3981(after)S
4235(a)S
12 I
4319(fork)S
12 R
4524(.)S
4508 V
12 B
708(P.3.1.2)S
4684 V
12 Y1
708(d)S
12 R
958(If)S
1083(the)S
1274(environment)S
1928(variable)S
12 C
(PATH)292 2362 A
12 R
2697(is)S
2821(not)S
3018(present,)S
3441(the)S
3632(functions)S
12 I
(execlp)310 4125 A
12 R
4488(and)S
12 I
(execvp)330 4705 A
12 R
5088(use)S
4824 V
12 C
(:/bin:/usr/bin)1022 958 A
12 R
2010(as)S
2141(the)S
2319(search)S
2659(path.)S
5000 V
12 Y1
708(d)S
12 R
958(When)S
1278(computing)S
1826(the)S
2006(size)S
2227(of)S
2360(the)S
2540(arguments)S
3076(to)S
12 I
(exec)216 3203 A
12 R
3429(,)S
3492(the)S
3673(sum)S
3907(is)S
4021(taken)S
4316(over)S
4564(the)S
4745(arguments)S
5140 V
958(including)S
1444(NULL-terminators,)S
2422(pointers)S
2842(and)S
3046(alignment)S
3560(bytes.)S
5316 V
12 Y1
708(d)S
12 R
958(A)S
1087(regular)S
1472(file)S
1676(can)S
1885(be)S
2040(executed)S
2511(as)S
2653(a)S
2748(shell)S
3019(script)S
3331(when)S
3635(it)S
3745(begins)S
4102(with)S
4360(a)S
4456(line)S
4680(of)S
4823(the)S
5013(form)S
5456 V
12 C
958(#!)S
12 I
1177(shell)S
(optional-arg)610 1436 A
2076(\(e.g.,)S
12 C
2351(#!)S
(/bin/sh)511 2570 A
3154(-x)S
12 I
3300(\).)S
5632 V
12 Y1
708(d)S
12 R
958(It)S
1082(is)S
1212(also)S
1456(possible)S
1902(to)S
2046(execute)S
2466(a)S
2570(directory)S
3058(containing)S
3618(a)S
3722(set)S
3907(of)S
4058(process)S
4471(descriptors)S
5053(\(see)S
5772 V
12 I
(exec)216 958 A
12 Y1
1174(3)S
12 I
(file)156 1234 A
12 R
1400(\(L\)\).)S
5948 V
12 Y1
708(d)S
12 R
958(An)S
(additional)484 1171 A
(primitive)445 1720 A
2230(to)S
2389(start)S
2664(a)S
2783(child)S
3090(process)S
(without)370 3518 A
3953(forking)S
4374(is)S
4520(provided.)S
5074(See)S
6088 V
12 I
958(newproc)S
12 R
1383(\(L\).)S
6368 V
12 B
708(P.3.3)S
6544 V
12 Y1
708(d)S
12 R
958(The)S
1191(implementation)S
1996(defines)S
2391(the)S
2585(following)S
(additional)484 3102 A
3632(signals:)S
12 C
(SIGAMOEBA)657 4048 A
12 R
4705(,)S
12 C
(SIGSYS)438 4781 A
12 R
5219(,)S
6684 V
12 C
(SIGTRAP)511 958 A
12 R
1499(and)S
12 C
(SIGBUS)438 1703 A
12 R
2141(.)S
6860 V
12 Y1
708(d)S
12 C
(SIGCHLD)511 958 A
12 R
1499(is)S
1610(not)S
(supported.)506 1794 A
7036 V
12 Y1
708(d)S
12 R
958(If)S
1084(a)S
1182(subsequent)S
1762(occurrence)S
2338(of)S
2483(a)S
2581(pending)S
3013(signal)S
3346(is)S
3471(generated,)S
4016(the)S
4208(signal)S
4541(is)S
4666(delivered)S
5161(at)S
7176 V
958(most)S
1223(once.)S
7700 V
(296)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 297 303
BP
/slant 0 def
/height 0 def
500 V
12 R
708(posix)S
989(\(L\))S
2567(Library)S
2961(Routines)S
4812(posix)S
5093(\(L\))S
860 V
12 Y1
708(d)S
12 R
958(Job)S
1168(control)S
1554(is)S
1679(not)S
1877(implemented)S
(because)383 2553 A
2980(the)S
3172(semantics)S
3694(required)S
4142(for)S
4328(job)S
4526(control)S
4913(signals)S
1000 V
958(are)S
1137(not)S
1321(all)S
1473(implemented.)S
1280 V
12 B
708(P.3.3.2)S
1456 V
12 Y1
708(d)S
12 R
958(If)S
1086(the)S
1280(first)S
1523(parameter)S
2055(of)S
12 I
(kill)156 2203 A
12 R
2416(is)S
2544(-1,)S
2722(all)S
2891(processes)S
3402(except)S
3765(the)S
(calling)330 3960 A
4337(process)S
4747(are)S
(killed,)306 4943 A
1596 V
958(which)S
1284(is)S
1395(what)S
1661(BSD)S
1926(does.)S
1876 V
12 B
708(P.3.3.4)S
2052 V
12 Y1
708(d)S
12 R
958(An)S
1145(attempt)S
1548(to)S
1681(set)S
1855(the)S
2042(action)S
2377(for)S
2558(a)S
2651(signal)S
2980(that)S
(cannot)322 3202 A
3564(be)S
(caught)322 3718 A
4080(or)S
(ignored)369 4221 A
4630(to)S
4764(SIG)S
12 Y1
4960(3)S
12 R
5020(DFL)S
2192 V
958(fails)S
1198(with)S
12 I
1444(errno)S
12 R
1752(set)S
1917(to)S
12 C
([EINVAL])584 2041 A
12 R
2625(.)S
2472 V
12 B
708(P.3.4.3)S
2648 V
12 Y1
708(d)S
12 I
958(sleep)S
12 R
1269(is)S
1402(not)S
1608(based)S
1935(on)S
12 I
2107(alarm)S
12 R
2406(.)S
2518(When)S
2858(a)S
12 C
(SIGALRM)511 2964 A
12 R
3527(signal)S
3868(is)S
4002(scheduled)S
4538(and)S
4765(there)S
5061(is)S
5195(a)S
2788 V
958(handler)S
1351(present,)S
12 I
1761(sleep)S
12 R
(will)190 2050 A
2270(return)S
2590(after)S
2844(the)S
3022(handler)S
3415(is)S
3526(finished.)S
3104 V
12 I
(Chapter)395 708 A
1133(4.)S
1253(Process)S
1666(Environment)S
3384 V
12 B
708(P.4.3.2)S
3560 V
12 Y1
708(d)S
12 I
958(setsid)S
12 R
1264(is)S
1375(a)S
1459(dummy)S
1857(since)S
2136(the)S
2314(whole)S
2640(concept)S
3046(of)S
3177(a)S
3261(session)S
3640(is)S
3751(not)S
(supported.)506 3935 A
3840 V
12 B
708(P.4.3.3)S
4052 V
12 Y1
708(d)S
12 R
958(No)S
1136(checks)S
1495(are)S
1674(made)S
1966(on)S
2116(the)S
2294(arguments)S
2828(of)S
12 I
2959(setpgid)S
12 R
3348(and)S
3552(thus)S
3783(no)S
3933(errors)S
4247(occur.)S
4332 V
12 B
708(P.4.5.1)S
4508 V
12 Y1
708(d)S
12 R
958(If)S
1071(the)S
1250(function)S
12 I
1685(time)S
12 R
(cannot)322 1937 A
(reach)263 2291 A
2586(the)S
2766(time-of-day)S
3371(server,)S
3730(it)S
3830(returns)S
4199(-1,)S
4362(clears)S
4678(the)S
4858(variable)S
4648 V
958(pointed)S
1350(to)S
1474(by)S
1624(its)S
1769(argument)S
2256(if)S
2361(not)S
2545(a)S
2629(NULL-pointer,)S
3397(and)S
3601(sets)S
12 I
3813(errno)S
12 R
4121(to)S
12 C
([EIO])365 4245 A
12 R
4610(.)S
4928 V
12 B
708(P.4.5.2)S
5104 V
12 Y1
708(d)S
12 R
958(The)S
1199(function)S
12 I
1655(times)S
12 R
1975(returns)S
2365(a)S
2472(the)S
2673(number)S
3095(of)S
(milliseconds)612 3249 A
3915(since)S
4218(system)S
4608(start-up.)S
5093(All)S
5244 V
958(fields)S
1258(of)S
1389(the)S
(supplied)409 1567 A
2006(buffer)S
2333(are)S
2512(set)S
2677(to)S
2801(zero.)S
5560 V
12 I
(Chapter)395 708 A
1133(5.)S
1253(Files)S
(and)180 1526 A
1736(Directories)S
5840 V
12 B
708(P.5.1.2)S
6016 V
12 Y1
708(d)S
12 R
958(The)S
1176(function)S
12 I
(readdir)362 1609 A
12 R
2011(does)S
2262(not)S
2446(return)S
2766(the)S
2944(entries)S
3298(dot)S
3482(and)S
3686(dot-dot.)S
6192 V
12 Y1
708(d)S
12 R
958(After)S
1249(a)S
12 I
1336(fork)S
12 R
1574(both)S
1821(parent)S
2157(and)S
2364(child)S
2639(can)S
2840(use)S
3035(a)S
3123(previously)S
3667(opened)S
4049(directory)S
4521(stream)S
(without)370 4879 A
6332 V
958(interfering)S
(each)222 1501 A
1753(other.)S
6612 V
12 B
708(P.5.2.2)S
6788 V
12 Y1
708(d)S
12 R
958(If)S
1083(the)S
1274(buffer)S
(supplied)409 1614 A
2066(to)S
2203(to)S
12 I
2340(getcwd)S
12 R
2735(is)S
12 C
(NULL)292 2859 A
12 R
3151(,)S
12 I
3224(errno)S
12 R
3545(is)S
3669(set)S
3848(to)S
12 C
([EINVAL])584 3986 A
12 R
4614(and)S
12 C
(NULL)292 4832 A
12 R
5168(is)S
6928 V
958(returned.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(297)180 5069 A
7920 V
EP
%%Page: 298 304
BP
/slant 0 def
/height 0 def
500 V
12 R
708(posix)S
989(\(L\))S
2567(Library)S
2961(Routines)S
4812(posix)S
5093(\(L\))S
860 V
12 B
708(P.5.3.10)S
1036 V
12 Y1
708(d)S
12 R
958(When)S
1284(a)S
1376(disk)S
1615(file)S
1816(is)S
1935(concurrently)S
2585(opened)S
2971(for)S
(writing)351 3151 A
3540(using)S
3839(separate)S
12 I
4275(open)S
12 R
4557(calls,)S
4848(only)S
5101(the)S
1176 V
958(version)S
1344(that)S
1556(is)S
1667(closed)S
2006(last)S
(will)190 2205 A
2425(be)S
2569(retained.)S
1352 V
12 Y1
708(d)S
12 R
958(When)S
1291(a)S
1391(file)S
1600(is)S
1727(opened)S
2121(for)S
2309(reading,)S
2748(the)S
2942(version)S
3344(of)S
3491(the)S
3685(file)S
3894(that)S
4122(existed)S
4511(at)S
4645(the)S
4839(time)S
5101(the)S
1492 V
12 I
958(open)S
12 R
1250(call)S
1474(was)S
1711(made)S
2021(is)S
(accessed.)454 2150 A
2682(Updates)S
3127(to)S
3268(the)S
3463(file)S
3673(while)S
3990(the)S
4185(file)S
4395(remains)S
4826(open)S
5107(for)S
1632 V
958(reading)S
(will)190 1351 A
1571(not)S
1755(be)S
1899(seen)S
2144(by)S
2294(the)S
2472(reader.)S
1808 V
12 Y1
708(d)S
12 R
958(When)S
1277(a)S
1362(process)S
1756(that)S
1969(has)S
2161(a)S
2246(file)S
2440(open)S
2705(for)S
(writing)351 2878 A
3260(crashes,)S
3678(the)S
(updated)382 3858 A
4272(version)S
4660(of)S
4793(the)S
4973(file)S
5168(is)S
1948 V
958(not)S
1149(always)S
(committed)518 1523 A
2078(to)S
2209(disk.)S
2507(In)S
2645(all)S
2804(cases,)S
3126(either)S
3439(the)S
3623(old)S
3813(or)S
3950(the)S
4134(new)S
4372(version)S
(will)190 4764 A
4990(exist,)S
2088 V
958(never)S
1257(an)S
1401(intermediate)S
2038(version.)S
2264 V
12 Y1
708(d)S
12 R
958(There)S
1271(is)S
1382(no)S
1532(concept)S
1938(of)S
2069(file)S
2262(ownership.)S
2440 V
12 Y1
708(d)S
12 R
958(Directories)S
(cannot)322 1529 A
1881(be)S
2025(opened)S
2403(for)S
2575(reading)S
2968(with)S
12 I
3214(open)S
12 R
3458(;)S
12 I
3522(opendir)S
12 R
(should)321 3937 A
4288(be)S
4432(used)S
4683(instead.)S
2616 V
12 Y1
708(d)S
12 R
958(When)S
1312(a)S
1432(FIFO)S
1761(is)S
1908(opened)S
2322(with)S
12 C
2604(O)S
12 Y1
2677(3)S
12 C
(RDWR)292 2737 A
12 R
3029(,)S
3125(the)S
3339(call)S
3581(to)S
12 I
3741(open)S
12 R
4051(fails)S
4327(with)S
12 I
4609(errno)S
12 R
4953(set)S
5155(to)S
2756 V
12 C
([EINVAL].)657 958 A
2932 V
12 Y1
708(d)S
12 R
958(When)S
1293(a)S
1394(file)S
1604(is)S
1732(opened)S
2127(with)S
12 C
2390(O)S
12 Y1
2463(3)S
12 C
(CREAT)365 2523 A
12 R
2935(and)S
3156(the)S
3351(mode)S
3666(contains)S
4116(other)S
4412(bits)S
4634(than)S
4890(the)S
5086(file)S
3072 V
958(permission)S
1519(bits,)S
1754(these)S
2033(bits)S
2238(are)S
(ignored.)399 2417 A
3248 V
12 Y1
708(d)S
12 R
958(If)S
12 C
1070(O)S
12 Y1
1143(3)S
12 C
(EXCL)292 1203 A
12 R
1525(is)S
1636(set)S
(without)370 1801 A
12 C
2201(O)S
12 Y1
2274(3)S
12 C
(CREAT)365 2334 A
12 R
2699(,)S
2759(the)S
2937(call)S
3143(to)S
12 I
3267(open)S
12 R
3541(fails)S
3781(if)S
3886(the)S
4064(file)S
4257(exists.)S
3424 V
12 Y1
708(d)S
12 R
958(If)S
12 I
1074(open)S
12 R
1352(is)S
1467(called)S
1791(with)S
12 C
2041(O)S
12 Y1
2114(3)S
12 C
(TRUNC)365 2174 A
12 R
2573(in)S
2702(combination)S
3341(with)S
12 C
3592(O)S
12 Y1
3665(3)S
12 C
(RDONLY)438 3725 A
12 R
4163(,)S
4228(the)S
12 C
4411(O)S
12 Y1
4484(3)S
12 C
(TRUNC)365 4544 A
12 R
4944(flag)S
5168(is)S
3564 V
(ignored.)399 958 A
3844 V
12 B
708(P.5.3.3)S
4020 V
12 Y1
708(d)S
12 I
958(umask)S
12 R
(ignores)356 1307 A
1693(bits)S
1898(other)S
2177(than)S
2415(file)S
2608(permission)S
3169(bits.)S
4300 V
12 B
708(P.5.3.4)S
4476 V
12 Y1
708(d)S
12 R
958(Links)S
1271(have)S
1537(totally)S
1886(different)S
2344(semantics.)S
2921(A)S
3048(link)S
3275(almost)S
3637(completely)S
4214(behaves)S
4642(as)S
4782(a)S
(copy)234 4875 A
5148(of)S
4616 V
958(the)S
1165(file,)S
1417(only)S
1690(cheaper.)S
2186(The)S
2433(exception)S
2962(is)S
3102(that)S
3343(the)S
3550(Amoeba)S
12 I
4019(std)S
12 Y1
4160(3)S
12 I
4220(destroy)S
12 R
4645(request)S
5053(\(see)S
4756 V
12 I
958(std)S
12 R
1109(\(L\)\))S
1336(destroys)S
1769(a)S
1853(file,)S
2076(breaking)S
2529(all)S
2681(unmodified)S
3268(links)S
3533(to)S
3657(it.)S
4932 V
12 Y1
708(d)S
12 R
958(Using)S
12 I
1277(link)S
12 R
1499(on)S
1649(arguments)S
2183(that)S
2395(name)S
2687(directories)S
3230(fails)S
3470(with)S
12 I
3716(errno)S
12 R
4024(set)S
4189(to)S
12 C
([EPERM])511 4313 A
12 R
4824(.)S
5212 V
12 B
708(P.5.4.1)S
5388 V
12 Y1
708(d)S
12 I
958(mkdir)S
12 R
(ignores)356 1281 A
1667(bits)S
1872(other)S
2151(than)S
2389(file)S
2582(permission)S
3143(bits)S
3348(in)S
3472(its)S
3617(mode)S
3915(parameter.)S
5668 V
12 B
708(P.5.4.2)S
5844 V
12 Y1
708(d)S
12 I
(mkfifo)304 958 A
12 R
(ignores)356 1302 A
1688(bits)S
1893(other)S
2172(than)S
2410(file)S
2603(permission)S
3164(bits)S
3369(in)S
3493(its)S
3638(mode)S
3936(parameter.)S
6124 V
12 B
708(P.5.5.1)S
6300 V
12 Y1
708(d)S
12 R
958(Amoeba)S
1415(does)S
1683(not)S
1885(maintain)S
2357(file)S
2568(link)S
(counts;)349 2804 A
3201(unlinked)S
3671(files)S
3929(stay)S
(around)335 4172 A
(until)222 4555 A
4825(garbage-)S
6440 V
958(collected)S
1436(or)S
(explicitly)458 1576 A
2073(destroyed)S
2582(with)S
12 I
2837(std)S
12 Y1
2978(3)S
12 I
3038(destroy)S
12 R
3443(\(see)S
12 I
3678(std)S
12 R
3829(\(L\)\).)S
4125(When)S
4452(a)S
4545(file)S
4747(is)S
(updated)382 4867 A
6580 V
958(via)S
1154(the)S
1350(Amoeba)S
1808(POSIX)S
2207(emulation,)S
2769(any)S
2991(old)S
3193(version)S
3597(is)S
3726(automatically)S
4434(destroyed.)S
5013(Note)S
6720 V
958(this)S
1172(also)S
1406(makes)S
1753(any)S
1965(link)S
2191(to)S
2323(the)S
2509(old)S
2701(version)S
3095(invalid.)S
3529(The)S
3755(reason)S
4109(for)S
4289(not)S
4481(relying)S
4862(fully)S
5129(on)S
6860 V
958(garbage)S
1389(collection)S
1915(in)S
2058(this)S
2282(case,)S
2570(is)S
2700(that)S
(each)222 2931 A
(update)322 3202 A
3573(of)S
3723(a)S
3826(big)S
4029(log)S
4232(file)S
4444(would)S
4795(create)S
5135(an)S
7000 V
(unreachable)585 958 A
(copy,)264 1591 A
1903(taking)S
2253(up)S
2420(lots)S
2642(of)S
2790(disk)S
(space.)299 3038 A
3414(Garbage)S
3872(collection)S
4397(could)S
4712(be)S
4873(just)S
5095(too)S
7140 V
958(slow)S
1217(when)S
1509(this)S
1714(happens)S
2139(regularly.)S
7316 V
12 Y1
708(d)S
12 R
958(When)S
1310(the)S
1522(argument)S
2043(of)S
12 I
2208(unlink)S
12 R
2584(names)S
2957(a)S
3075(directory,)S
3607(the)S
3819(call)S
4059(fails)S
4333(with)S
12 I
4613(errno)S
12 R
4955(set)S
5155(to)S
7700 V
(298)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 299 305
BP
/slant 0 def
/height 0 def
500 V
12 R
708(posix)S
989(\(L\))S
2567(Library)S
2961(Routines)S
4812(posix)S
5093(\(L\))S
860 V
12 C
([EPERM].)584 958 A
1140 V
12 B
708(P.5.5.2)S
1316 V
12 Y1
708(d)S
12 I
958(rmdir)S
12 R
1281(is)S
(successful)498 1399 A
1934(when)S
12 I
2233(path)S
12 R
2494(is)S
2612(a)S
2704(directory)S
3180(that)S
3400(is)S
3519(in)S
3651(use)S
3850(by)S
4008(another)S
4409(process)S
4810(or)S
4949(if)S
5062(it)S
5168(is)S
1456 V
958(the)S
1136(current)S
1510(working)S
1943(directory)S
2411(of)S
2542(the)S
(calling)330 2720 A
3080(process.)S
1736 V
12 B
708(P.5.6.2)S
1912 V
12 Y1
708(d)S
12 R
958(The)S
1176(functions)S
12 I
1656(stat)S
12 R
1871(and)S
12 I
2075(fstat)S
12 R
2324(return)S
2644(dummy)S
3042(data)S
3274(for)S
3446(certain)S
3807(members:)S
2088 V
958(st)S
12 Y1
1039(3)S
12 R
1099(mode)S
1438(Always)S
1856(reports)S
2240(read,)S
2526(write,)S
2855(modify)S
3252(permission)S
3831(for)S
4021(owner,)S
(group)281 4402 A
4731(and)S
4953(others)S
2228 V
1438(\(the)S
1657(actual)S
1977(permissions)S
2585(on)S
2735(a)S
2819(file)S
3012(are)S
3191(only)S
3435(revealed)S
3876(when)S
4168(it)S
4266(is)S
4377(opened\).)S
2404 V
958(st)S
12 Y1
1039(3)S
12 R
1099(ino)S
1438(Set)S
1648(to)S
1797(a)S
1906(hash)S
2182(function)S
2640(of)S
2796(the)S
(capability's)566 2999 A
3620(private)S
4012(part)S
4257(\(object)S
4650(number)S
5075(and)S
2544 V
(random)369 1438 A
1837(check)S
2149(word\).)S
2720 V
958(st)S
12 Y1
1039(3)S
12 R
1099(dev)S
1438(Set)S
1623(to)S
1747(a)S
1831(hash)S
2082(function)S
2515(of)S
2646(the)S
(capability's)566 2824 A
3420(port.)S
2896 V
958(st)S
12 Y1
1039(3)S
12 R
1099(nlink)S
1438(Set)S
1623(to)S
1747(one.)S
3072 V
958(st)S
12 Y1
1039(3)S
12 R
1099(uid,)S
1313(st)S
12 Y1
1394(3)S
12 R
1454(gid)S
3212 V
1438(Set)S
1623(to)S
1747(one.)S
3388 V
958(st)S
12 Y1
1039(3)S
12 R
1099(atime,)S
1429(st)S
12 Y1
1510(3)S
12 R
1570(mtime,)S
1940(st)S
12 Y1
2021(3)S
12 R
2081(ctime)S
3528 V
1438(All)S
1624(three)S
1897(are)S
2076(set)S
2241(to)S
2365(the)S
2543(time)S
2789(when)S
3081(the)S
3259(entry)S
3538(was)S
3757(last)S
(placed)316 3956 A
4302(in)S
4426(its)S
4571(directory.)S
3704 V
12 Y1
708(d)S
12 R
958(The)S
1176(file)S
1369(times)S
1662(have)S
1920(an)S
(accurracy)472 2064 A
2566(of)S
(about)268 2697 A
2995(one)S
3199(minute.)S
3880 V
12 Y1
708(d)S
12 R
958(Currently)S
12 I
1452(stat)S
12 R
1667(requires)S
2088(read)S
2327(permission)S
2888(for)S
3060(the)S
3238(file)S
3431(that)S
3643(is)S
3754(inspected.)S
4056 V
12 Y1
708(d)S
12 R
958(Besides)S
1383(the)S
1580(required)S
2033(members,)S
2556(the)S
2753(stat)S
2971(structure)S
3445(contains)S
3897(the)S
4094(following)S
4614(members)S
5107(for)S
4196 V
958(BSD)S
(\(layout\))384 1223 A
(compatibility.)676 1637 A
2373(The)S
2591(members)S
3065(are)S
3244(not)S
3428(fully)S
(supported.)506 3687 A
4286 V
12 Y1
2278(2)S
(222222222222222222222222222)1620 2308 A
4426 V
12 R
2338(Member)S
2778(type)S
3166(Member)S
3606(name)S
4436 V
12 Y1
2278(2)S
(222222222222222222222222222)1620 2308 A
4456 V
2278(2)S
(222222222222222222222222222)1620 2308 A
4586 V
12 I
2338(dev)S
12 Y1
2506(3)S
12 I
2566(t)S
3166(st)S
12 Y1
3247(3)S
12 I
3307(rdev)S
4726 V
(long)214 2338 A
12 Y1
3166(3)S
12 I
3226(st)S
12 Y1
3307(3)S
12 I
3367(spare1)S
4866 V
(long)214 2338 A
12 Y1
3166(3)S
12 I
3226(st)S
12 Y1
3307(3)S
12 I
3367(spare2)S
5006 V
(long)214 2338 A
12 Y1
3166(3)S
12 I
3226(st)S
12 Y1
3307(3)S
12 I
3367(spare3)S
5146 V
(long)214 2338 A
3166(st)S
12 Y1
3247(3)S
12 I
3307(blksize)S
5286 V
(long)214 2338 A
3166(st)S
12 Y1
3247(3)S
12 I
3307(blocks)S
5426 V
(long)214 2338 A
12 Y1
3166(3)S
12 I
3226(st)S
12 Y1
3307(3)S
12 I
3367(spare4[2])S
5446 V
12 Y1
2278(2)S
(222222222222222222222222222)1620 2308 A
2278(1)S
5366 V
2278(1)S
5246 V
2278(1)S
5126 V
2278(1)S
5006 V
2278(1)S
4886 V
2278(1)S
4766 V
2278(1)S
4646 V
2278(1)S
4526 V
2278(1)S
4406 V
2278(1)S
5446 V
3928(1)S
5366 V
3928(1)S
5246 V
3928(1)S
5126 V
3928(1)S
5006 V
3928(1)S
4886 V
3928(1)S
4766 V
3928(1)S
4646 V
3928(1)S
4526 V
3928(1)S
4406 V
3928(1)S
5692 V
708(d)S
12 R
(Capabilities)579 958 A
1601(of)S
1766(objects)S
2173(that)S
2419(do)S
2603(not)S
2821(represent)S
3330(a)S
3448(file)S
3675(or)S
3840(directory)S
4343(are)S
4557(interpreted)S
5148(as)S
5832 V
958(character)S
1459(special)S
1851(devices)S
2269(by)S
12 I
2444(stat)S
12 R
2629(,)S
2714(but)S
2923(they)S
3186(usually)S
(cannot)322 3589 A
3965(be)S
4133(opened)S
4535(for)S
4731(reading)S
5148(or)S
5972 V
(writing.)381 958 A
1399(The)S
1617(exception)S
2117(is)S
2228(terminal)S
2663(devices,)S
3086(which)S
3412(can)S
3610(be)S
3754(opened)S
4132(normally.)S
6288 V
12 I
(Chapter)395 708 A
1133(6.)S
(Input)255 1253 A
(and)180 1538 A
1748(Output)S
(Primitives)500 2114 A
6464 V
12 Y1
708(d)S
12 R
958(The)S
1176(semantics)S
1684(of)S
1815(calls)S
2068(interrupted)S
2630(by)S
2780(signals)S
3146(are)S
3325(probably)S
3784(incorrect.)S
6640 V
12 Y1
708(d)S
12 R
958(Not)S
1201(all)S
12 I
1384(fcntl)S
12 R
1671(options)S
2087(are)S
(supported:)510 2297 A
12 C
2868(F)S
12 Y1
2941(3)S
12 C
(GETLK)365 3001 A
12 R
3366(,)S
12 C
3457(F)S
12 Y1
3530(3)S
12 C
(SETLK)365 3590 A
12 R
4016(and)S
12 C
4251(F)S
12 Y1
4324(3)S
12 C
(SETLKW)438 4384 A
12 R
4884(are)S
5095(not)S
6780 V
(supported;)510 958 A
1498(flags)S
1764(set)S
1929(with)S
12 C
2175(F)S
12 Y1
2248(3)S
12 C
(SETFL)365 2308 A
12 R
2703(\()S
12 C
2744(O)S
12 Y1
2817(3)S
12 C
(APPEND)438 2877 A
12 R
3345(and)S
12 C
3549(O)S
12 Y1
3622(3)S
12 C
(NONBLOCK)584 3682 A
12 R
4266(\))S
4337(are)S
4516(not)S
4700(used)S
4951(by)S
5101(the)S
6920 V
958(system.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(299)180 5069 A
7920 V
EP
%%Page: 300 306
BP
/slant 0 def
/height 0 def
500 V
12 R
708(posix)S
989(\(L\))S
2567(Library)S
2961(Routines)S
4812(posix)S
5093(\(L\))S
860 V
12 I
(Chapter)395 708 A
1133(7.)S
1253(Device-)S
(and)180 1662 A
(Class-Specific)693 1872 A
2595(Function)S
1036 V
12 R
708(The)S
(`controlling)572 961 A
1598(terminal')S
2110(concept)S
2552(is)S
2699(implemented)S
3397(by)S
3583(the)S
3797(entry)S
12 C
(TTY)219 4112 A
12 R
4397(in)S
4557(the)S
(capability)478 4771 A
1176 V
708(environment)S
1352(of)S
1486(the)S
1666(process.)S
2121(The)S
2341(commands)S
12 I
2896(ax)S
12 R
3020(\(U\),)S
3252(and)S
12 I
3458(login)S
12 R
3716(\(A\))S
3918(take)S
4152(care)S
4387(of)S
(setting)323 4520 A
4875(it)S
4975(to)S
5101(the)S
1316 V
708(appropriate)S
1290(value.)S
1492 V
(Support)382 708 A
1120(for)S
1292(POSIX-style)S
1943(tty)S
2101(control)S
2474(is)S
2585(described)S
3079(in)S
12 I
3203(tios)S
12 R
3388(\(L\).)S
1808 V
12 I
(Chapter)395 708 A
1133(8.)S
(Language-Specific)906 1253 A
2189(Services)S
2623(for)S
2794(the)S
2972(C)S
3082(Programming)S
(Language)481 3790 A
1984 V
12 R
708(Remarks)S
1168(on)S
1318(the)S
1496(extensions)S
2036(listed)S
2329(in)S
2453(this)S
2658(chapter:)S
2160 V
12 Y1
708(d)S
12 C
958(TZ)S
12 R
1134(is)S
(supported)476 1245 A
1751(\(see)S
12 I
1977(ctime)S
12 R
2251(\(L\)\).)S
2336 V
12 Y1
708(d)S
12 R
958(the)S
1136(only)S
1380(locale)S
(supported)476 1700 A
2206(is)S
2317(`C'.)S
2512 V
12 Y1
708(d)S
12 I
(fileno)276 958 A
12 R
1274(and)S
12 I
(fdopen)328 1478 A
12 R
1846(are)S
(supported.)506 2025 A
2688 V
12 Y1
708(d)S
12 R
958(The)S
1176(type)S
12 I
1414(sigjmp)S
12 Y1
1737(3)S
12 I
1797(buf)S
12 R
1991(and)S
2195(the)S
2373(functions)S
12 I
2853(sigsetjmp)S
12 R
3351(and)S
12 I
(siglongjmp)537 3555 A
12 R
4132(are)S
4311(not)S
(supported.)506 4495 A
2864 V
12 Y1
708(d)S
12 I
958(tzset)S
12 R
1214(is)S
(supported)476 1325 A
1831(\(see)S
12 I
2057(ctime)S
12 R
2331(\(L\)\).)S
3180 V
12 I
(Chapter)395 708 A
1133(9.)S
1253(System)S
(Databases)510 1620 A
3356 V
12 R
708(Rudimentary)S
(support)362 1385 A
1793(for)S
1981(the)S
(group)281 2175 A
2502(and)S
2722(user)S
2970(databases)S
3480(exists,)S
3832(so)S
3986(programs)S
4490(expecting)S
5007(them)S
3496 V
(will)190 708 A
928(find)S
1153(them;)S
1459(however,)S
1936(the)S
2114(databases)S
2608(contain)S
2994(at)S
3112(best)S
3337(dummy)S
3735(information.)S
3812 V
12 I
(Chapter)395 708 A
1133(10.)S
1313(Data)S
(Interchange)584 1585 A
2199(Format)S
3988 V
12 R
708(Amoeba)S
1163(currently)S
1646(only)S
(supports)409 1905 A
2359(a)S
2458(restricted)S
2956(version)S
3357(of)S
3503(the)S
12 I
3696(tar)S
12 R
3847(\(U\))S
4062(program.)S
4578(This)S
4839(program)S
4128 V
708(can)S
920(be)S
1078(used)S
1343(to)S
(copy)234 1481 A
1758(file)S
1964(hierarchies)S
2540(between)S
2987(Amoeba)S
3440(and)S
3657(POSIX)S
4051(systems.)S
4537(Other)S
4857(POSIX-)S
4268 V
708(compatible)S
1289(data)S
1534(interchange)S
2142(programs)S
(should)321 2642 A
3006(be)S
3163(relatively)S
3666(easy)S
3925(to)S
4063(port)S
4302(as)S
4447(well.)S
4761(Given)S
5101(the)S
4408 V
708(different)S
1169(approaches)S
1755(of)S
1898(POSIX)S
2291(and)S
2507(Amoeba)S
2959(to)S
(access)310 3095 A
3447(protection,)S
4009(care)S
4253(must)S
4529(be)S
4684(taken)S
4987(when)S
4548 V
708(moving)S
1106(files)S
1346(from)S
1612(one)S
1816(system)S
2182(to)S
2306(the)S
2484(other.)S
4724 V
708(To)S
(copy)234 908 A
1208(an)S
1388(entire)S
1732(directory)S
2237(graph)S
2579(from)S
2882(one)S
3123(Amoeba)S
3600(system)S
4003(to)S
4164(another,)S
4624(the)S
4839(program)S
4864 V
12 I
708(starch)S
12 R
1020(\(U\))S
(should)321 1242 A
1615(be)S
1781(used)S
2054(instead.)S
2508(Besides)S
2935(being)S
3254(able)S
3507(to)S
3652(read)S
3912(and)S
4137(restore)S
4519(general)S
4927(graphs)S
5004 V
708(\(rather)S
1071(than)S
1317(trees\),)S
1656(it)S
(will)190 1762 A
1991(also)S
2225(take)S
2466(care)S
2708(of)S
2848(restoring)S
3318(the)S
(capability)478 3505 A
4022(protection)S
4552(masks)S
4893(to)S
5026(their)S
5144 V
708(original)S
1115(value.)S
5460 V
12 I
708(Environment)S
1363(Variables)S
5636 V
12 R
708(If)S
820(the)S
998(POSIX)S
1379(libraries)S
1808(are)S
1987(compiled)S
(without)370 2467 A
12 C
(NDEBUG)438 2867 A
12 R
3335(defined)S
3728(and)S
3932(the)S
4110(variable)S
12 C
(AJAX)292 4532 A
12 Y1
4824(3)S
12 C
(DEBUG)365 4884 A
5776 V
12 R
708(is)S
831(present)S
1223(in)S
1359(the)S
1549(string)S
1866(environment,)S
2548(a)S
2643(terse)S
2914(message)S
(will)190 3365 A
3596(be)S
3751(printed)S
4135(when)S
4438(a)S
4533(POSIX)S
4925(library)S
5916 V
708(function)S
1175(fails.)S
1509(Similarly,)S
12 C
(AJAX)292 2055 A
12 Y1
2347(3)S
12 C
(TRACE)365 2407 A
12 R
2836(can)S
3068(trigger)S
3456(various)S
3876(other)S
(debugging)508 4189 A
4762(messages.)S
6056 V
708(These)S
(debugging)508 1058 A
1627(messages)S
2145(are)S
2355(only)S
2630(intended)S
3107(when)S
(debugging)508 3429 A
3997(the)S
4205(POSIX)S
4616(libraries)S
5075(and)S
6196 V
(should)321 708 A
1059(not)S
1243(be)S
1387(considered)S
1941(a)S
2025(permanent)S
2566(part)S
2785(of)S
2916(the)S
(interface.)456 3094 A
6476 V
12 B
708(See)S
913(Also)S
6652 V
12 R
(IEEE)263 708 A
1001(Std)S
(1003.1-1990)611 1192 A
1833(\(POSIX\))S
6828 V
708(ansi)S
12 Y1
903(3)S
12 R
963(C\(L\),)S
1259(ctime\(L\),)S
1745(newproc\(L\),)S
2378(session\(U\),)S
2957(soap\(A\),)S
3408(std\(L\),)S
3765(tios\(L\).)S
7700 V
(300)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 301 307
BP
/slant 0 def
/height 0 def
500 V
12 R
(priv2pub)435 708 A
1163(\(L\))S
2567(Library)S
2961(Routines)S
(priv2pub)435 4638 A
5093(\(L\))S
860 V
2075(\(in)S
2240(libraries:)S
2703(libamoeba,)S
3267(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
(priv2pub)435 708 A
12 R-1
1173(-)S
12 R
(convert)363 1301 A
1694(private)S
2061(port)S
2286(\(get-port\))S
2782(to)S
(public)302 2906 A
3238(port)S
3463(\(put-port\))S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2182 V
(void)268 708 A
2322 V
(priv2pub\(priv,)938 708 A
(pub\))268 1713 A
2462 V
(port)268 708 A
(*priv;)402 1043 A
1512(/*)S
1713(in)S
1914(*/)S
2602 V
(port)268 708 A
(*pub;)335 1043 A
1512(/*)S
(out)201 1713 A
1981(*/)S
2942 V
12 B
708(Description)S
3118 V
12 R
708(The)S
955(Amoeba)S
(publications)591 1425 A
2076(describe)S
2540(how)S
2808(a)S
2922(one-way)S
3399(function)S
3862(is)S
4003(applied)S
4419(by)S
4599(the)S
(F-box)288 4807 A
5155(to)S
3258 V
(convert)363 708 A
1118(a)S
1218(get-port)S
1648(to)S
1788(a)S
1888(put-port.)S
2384(This)S
2645(routine)S
3034(is)S
3161(used)S
3428(to)S
3568(implement)S
4132(the)S
(F-box)288 4326 A
4660(in)S
4800(software.)S
3398 V
708(The)S
12 I
(priv2pub)435 928 A
12 R
1405(function)S
1841(is)S
1955(a)S
2042(one-way)S
2492(function)S
2928(\(in)S
3096(that)S
3311(it)S
3412(is)S
3526(extremely)S
4044(difficult)S
4469(to)S
4596(invert\))S
4953(which)S
3538 V
708(is)S
819(used)S
1070(to)S
1194(encrypt)S
1587(the)S
1765(port)S
1990(of)S
2121(a)S
2205(server.)S
3714 V
12 I
(Priv2pub)449 708 A
12 R
(converts)410 1205 A
1653(a)S
1745(private)S
2120(port)S
2353(\(also)S
(known)328 2627 A
2993(as)S
3132(a)S
12 I
3225(get-port)S
12 R
3625(\))S
3705(to)S
3838(a)S
(public)302 3931 A
4272(port)S
4506(\(also)S
(known)328 4781 A
5148(as)S
3854 V
12 I
708(put-port)S
12 R
1114(\).)S
1257(A)S
1386(private)S
1764(port)S
2000(is)S
2122(the)S
2311(port)S
2547(used)S
2809(by)S
2970(a)S
3065(server)S
3403(in)S
3538(its)S
12 I
3694(getreq)S
12 R
(call;)210 4054 A
4305(a)S
(public)302 4400 A
4743(port)S
4979(is)S
5101(the)S
3994 V
708(port)S
942(used)S
1202(by)S
1361(a)S
1454(client)S
1763(of)S
1903(that)S
2124(server)S
2460(in)S
2593(its)S
12 I
2747(trans)S
12 R
3044(call)S
3259(\(see)S
12 I
3495(rpc)S
12 R
3666(\(L\)\).)S
3963(When)S
12 I
4291(getreq)S
12 R
4650(is)S
4771(called)S
5101(the)S
4134 V
708(kernel)S
1050(calls)S
12 I
(priv2pub)435 1312 A
12 R
1796(to)S
1959(encrypt)S
2361(the)S
2548(private)S
2924(port)S
3158(and)S
3371(only)S
(accepts)357 3624 A
4019(requests)S
4454(to)S
4586(the)S
4772(encrypted)S
4274 V
708(port.)S
993(Thus)S
1264(it)S
1362(is)S
1473(difficult)S
1895(for)S
2067(someone)S
2526(to)S
2650(pretend)S
3044(to)S
3169(be)S
3314(a)S
3399(server)S
3727(for)S
3900(which)S
4227(they)S
4466(do)S
4617(not)S
(know)268 4802 A
5101(the)S
4414 V
12 I
708(get-port)S
12 R
1108(.)S
1203(Note)S
1474(that)S
1691(when)S
12 I
1988(getreq)S
12 R
2341(returns)S
2712(the)S
12 I
2894(header)S
12 R
3273(argument)S
(will)190 3764 A
3988(contain)S
4378(the)S
12 I
4560(put-port)S
12 R
5000(since)S
4554 V
708(that)S
920(is)S
1031(what)S
1297(the)S
1475(client)S
1775(sent.)S
4730 V
708(It)S
819(is)S
936(legal)S
1208(for)S
1386(the)S
12 I
1570(priv)S
12 R
1811(and)S
12 I
(pub)180 2021 A
12 R
2247(arguments)S
2787(to)S
2917(point)S
3201(to)S
3331(the)S
3515(same)S
3800(location.)S
4286(Neither)S
(should)321 4687 A
5044(be)S
5195(a)S
4870 V
708(NULL-pointer.)S
5150 V
12 B
708(See)S
913(Also)S
5326 V
12 R
708(one)S
12 Y1
882(3)S
12 R
942(way\(L\),)S
1360(rpc\(L\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(301)180 5069 A
7920 V
EP
%%Page: 302 308
BP
/slant 0 def
/height 0 def
500 V
12 R
708(process)S
1091(\(L\))S
2567(Library)S
2961(Routines)S
4710(process)S
5093(\(L\))S
860 V
2033(\(in)S
2198(libraries:)S
2661(libamunix.a,)S
3295(libamoeba.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(process)S
12 R-1
1101(-)S
12 R
1229(kernel)S
1562(process)S
1955(server)S
(interface)426 2282 A
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("cmdreg.h")670 1311 A
2182 V
(#include)536 708 A
("fault.h")603 1311 A
1981(/*)S
(From)268 2182 A
(src/h/machdep/arch/<architecture>)2211 2517 A
4795(*/)S
2322 V
(#include)536 708 A
("module/proc.h")1005 1311 A
2602 V
(#define)469 708 A
(PROCESS)469 1244 A
11 Y1
1713(3)S
11 C
(SVR)201 1768 A
11 Y1
1969(3)S
11 C
(NAME)268 2024 A
("...")335 2828 A
2742 V
(#define)469 708 A
(PROCESS)469 1244 A
11 Y1
1713(3)S
11 C
(LIST)268 1768 A
11 Y1
2036(3)S
11 C
(NAME)268 2091 A
("...")335 2828 A
3022 V
(errstat)469 708 A
(pro)201 1244 A
11 Y1
1445(3)S
11 C
(exec\(svr,)603 1500 A
(pd,)201 2170 A
(proc)268 2438 A
11 Y1
2706(3)S
11 C
(ret\))268 2761 A
3162 V
(errstat)469 708 A
(pro)201 1244 A
11 Y1
1445(3)S
11 C
(getdef\(svr,)737 1500 A
(log2ps)402 2304 A
11 Y1
2706(3)S
11 C
(ret,)268 2761 A
(first)335 3096 A
11 Y1
3431(3)S
11 C
(ret,)268 3486 A
(last)268 3821 A
11 Y1
4089(3)S
11 C
(ret\))268 4144 A
3302 V
(errstat)469 708 A
(pro)201 1244 A
11 Y1
1445(3)S
11 C
(getload\(svr,)804 1500 A
(speed)335 2371 A
11 Y1
2706(3)S
11 C
(ret,)268 2761 A
(load)268 3096 A
11 Y1
3364(3)S
11 C
(ret,)268 3419 A
(mem)201 3754 A
11 Y1
3955(3)S
11 C
(ret\))268 4010 A
3442 V
(errstat)469 708 A
(pro)201 1244 A
11 Y1
1445(3)S
11 C
(setload\(svr,)804 1500 A
(speed)335 2371 A
11 Y1
2706(3)S
11 C
(ret,)268 2761 A
(load)268 3096 A
11 Y1
3364(3)S
11 C
(ret,)268 3419 A
(mem)201 3754 A
11 Y1
3955(3)S
11 C
(ret,)268 4010 A
(exec)268 4345 A
11 Y1
4613(3)S
11 C
(cap\))268 4668 A
3722 V
(errstat)469 708 A
(pro)201 1244 A
11 Y1
1445(3)S
11 C
(swapproc\(svr,)871 1500 A
(oldproc,)536 2438 A
(newproc\))536 3041 A
4002 V
(errstat)469 708 A
(pro)201 1244 A
11 Y1
1445(3)S
11 C
(setowner\(proc,)938 1500 A
(owner\))402 2505 A
4142 V
(errstat)469 708 A
(pro)201 1244 A
11 Y1
1445(3)S
11 C
(getowner\(proc,)938 1500 A
(owner)335 2505 A
11 Y1
2840(3)S
11 C
(ret\))268 2895 A
4282 V
(errstat)469 708 A
(pro)201 1244 A
11 Y1
1445(3)S
11 C
(setcomment\(proc,)1072 1500 A
(comment\))536 2639 A
4422 V
(errstat)469 708 A
(pro)201 1244 A
11 Y1
1445(3)S
11 C
(getcomment\(proc,)1072 1500 A
(buf,)268 2639 A
(len\))268 2974 A
4562 V
(errstat)469 708 A
(pro)201 1244 A
11 Y1
1445(3)S
11 C
(stun\(proc,)670 1500 A
(stuncode\))603 2237 A
4842 V
(#define)469 708 A
1244(PS)S
11 Y1
1378(3)S
11 C
(CHECKPOINT)670 1433 A
(...)201 2840 A
4982 V
(#define)469 708 A
(TERM)268 1244 A
11 Y1
1512(3)S
11 C
(NORMAL)402 1567 A
(...)201 2840 A
5122 V
(#define)469 708 A
(TERM)268 1244 A
11 Y1
1512(3)S
11 C
(STUNNED)469 1567 A
(...)201 2840 A
5262 V
(#define)469 708 A
(TERM)268 1244 A
11 Y1
1512(3)S
11 C
(EXCEPTION)603 1567 A
(...)201 2840 A
5602 V
12 B
708(Description)S
5778 V
12 R
708(The)S
932(description)S
1506(of)S
1643(the)S
1828(process)S
(interface)426 2228 A
2691(is)S
(split)209 2809 A
3055(in)S
3186(several)S
3567(parts.)S
3900(The)S
4125(process)S
4525(descriptor)S
5047(data)S
5918 V
708(structure)S
1174(and)S
1389(its)S
1545(basic)S
(access)310 1835 A
(methods)409 2186 A
2636(are)S
2826(described)S
3330(in)S
12 I
3464(process)S
12 Y1
3833(3)S
12 I
3893(d)S
12 R
3963(\(L\).)S
4219(The)S
4447(low-level)S
4946(kernel)S
6058 V
708(process)S
1127(server)S
(interface)426 1480 A
1962(is)S
2099(described)S
2619(here.)S
2945(The)S
3190(high-level)S
3738(process)S
4158(execution)S
(interface)426 4685 A
5168(is)S
6198 V
708(described)S
1202(in)S
12 I
(exec)216 1326 A
12 Y1
1542(3)S
12 I
(file)156 1602 A
12 R
1768(\(L\).)S
2014(See)S
2219(also)S
12 I
2444(pd)S
12 Y1
2564(3)S
12 I
2624(read)S
12 R
2855(\(L\).)S
6514 V
12 I
708(Process)S
1121(Server)S
1467(Interface)S
6690 V
12 R
708(The)S
(capability)478 955 A
1492(for)S
1693(the)S
1900(process)S
2322(server)S
2678(for)S
2879(a)S
2992(particular)S
3517(processor)S
4040(is)S
(found)281 4180 A
4521(by)S
(looking)368 4701 A
5129(up)S
6830 V
12 C
(PROCESS)511 708 A
12 Y1
1219(3)S
12 C
(SVR)219 1279 A
12 Y1
1498(3)S
12 C
(NAME)292 1558 A
12 R
1889(\(typically)S
(``proc''\))420 2393 A
2852(in)S
2985(its)S
3139(processor)S
3642(directory.)S
4178(An)S
4364(alternative)S
4915(way)S
5155(to)S
6970 V
708(get)S
910(a)S
1019(process)S
1437(server)S
(capability)478 1789 A
2322(is)S
2458(to)S
2607(use)S
12 I
(exec)216 2823 A
12 Y1
3039(3)S
12 I
(findhost)389 3099 A
12 R
3498(\(L\))S
3709(\(or,)S
3936(for)S
4133(heterogeneous)S
4886(process)S
7110 V
708(startup,)S
12 I
(exec)216 1107 A
12 Y1
1323(3)S
12 I
(multi)250 1383 A
12 Y1
1633(3)S
12 I
(findhost)389 1693 A
12 R
2092(\).)S
2232(The)S
2459(following)S
2969(three)S
3250(requests)S
3685(must)S
3958(be)S
4110(directed)S
4539(directly)S
4948(at)S
5074(this)S
7250 V
708(process)S
1101(server.)S
7700 V
(302)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 303 309
BP
/slant 0 def
/height 0 def
500 V
12 R
708(process)S
1091(\(L\))S
2567(Library)S
2961(Routines)S
4710(process)S
5093(\(L\))S
860 V
12 I
708(pro)S
12 Y1
875(3)S
12 I
(exec)216 935 A
1096 V
11 C
(errstat)469 1068 A
1236 V
(pro)201 1068 A
11 Y1
1269(3)S
11 C
(exec\(svr,)603 1324 A
(pd,)201 1994 A
(proc)268 2262 A
11 Y1
2530(3)S
11 C
(ret\))268 2585 A
1376 V
(capability)670 1068 A
(*svr;)335 1805 A
1516 V
(process)469 1068 A
11 Y1
1537(3)S
11 C
1592(d)S
(*pd;)268 1726 A
1656 V
(capability)670 1068 A
(*proc)335 1805 A
11 Y1
2140(3)S
11 C
(ret;)268 2195 A
1856 V
12 R
708(This)S
956(starts)S
1246(a)S
1333(new)S
1568(process)S
1964(whose)S
(initial)284 2306 A
2623(status)S
2932(is)S
3046(specified)S
3517(by)S
3670(the)S
3851(process)S
4247(descriptor)S
4765(pointed)S
5161(at)S
1996 V
708(by)S
12 I
881(pd)S
12 R
1011(.)S
1124(See)S
12 I
1351(process)S
12 Y1
1720(3)S
12 I
1780(d)S
12 R
1850(\(L\))S
2058(for)S
2252(a)S
2358(description)S
2948(of)S
3101(the)S
3301(contents)S
3756(of)S
3909(a)S
4015(process)S
4430(descriptor.)S
5027(Like)S
2136 V
708(almost)S
1064(all)S
1219(functions)S
1702(in)S
1829(the)S
2010(library)S
2367(with)S
2616(process)S
3012(descriptor)S
3531(arguments)S
4069(\(except)S
4460(where)S
(explicitly)458 4791 A
2276 V
708(specified)S
1182(otherwise\),)S
1761(the)S
1945(argument)S
2438(must)S
2709(be)S
2859(in)S
2989(native)S
3321(\(i.e.,)S
3576(the)S
3760(current)S
4140(machine's\))S
4715(byte)S
4959(order;)S
2416 V
708(it)S
(will)190 811 A
1037(be)S
(converted)477 1187 A
1700(to)S
1830(standard)S
2276(\(network\))S
2791(byte)S
3035(order)S
3327(as)S
3464(needed)S
3842(by)S
12 I
3998(pro)S
12 Y1
4165(3)S
12 I
(exec)216 4225 A
12 R
4451(.)S
4547(The)S
(capability)478 4771 A
2556 V
708(for)S
880(the)S
1058(new)S
1290(process)S
1683(is)S
1794(returned)S
2228(in)S
12 I
2352(*proc)S
12 Y1
2633(3)S
12 I
2693(ret)S
12 R
2838(.)S
2872 V
12 I
708(pro)S
12 Y1
875(3)S
12 I
935(getdef)S
3108 V
11 C
(errstat)469 1068 A
3248 V
(pro)201 1068 A
11 Y1
1269(3)S
11 C
(getdef\(svr,)737 1324 A
(log2ps)402 2128 A
11 Y1
2530(3)S
11 C
(ret,)268 2585 A
(first)335 2920 A
11 Y1
3255(3)S
11 C
(ret,)268 3310 A
(last)268 3645 A
11 Y1
3913(3)S
11 C
(ret\))268 3968 A
3388 V
(capability)670 1068 A
(*svr;)335 1805 A
3528 V
(int)201 1068 A
(*log2ps)469 1336 A
11 Y1
1805(3)S
11 C
(ret;)268 1860 A
3668 V
(int)201 1068 A
(*first)402 1336 A
11 Y1
1738(3)S
11 C
(ret;)268 1793 A
3808 V
(int)201 1068 A
(*last)335 1336 A
11 Y1
1671(3)S
11 C
(ret;)268 1726 A
4008 V
12 R
708(This)S
971(returns)S
1356(three)S
1647(parameters)S
2228(of)S
2377(the)S
2573(memory)S
3025(management)S
3692(system)S
4077(of)S
4227(a)S
4330(process)S
4742(server.)S
5148(In)S
4148 V
12 I
(*log2ps)381 708 A
12 Y1
1089(3)S
12 I
1149(ret)S
12 R
1341(it)S
1456(returns)S
1840(the)S
2035(logarithm)S
2553(base)S
2815(2)S
2922(of)S
3070(the)S
3264(page)S
3538(size)S
3773(\(the)S
4008(number)S
12 I
(log2ps)321 4423 A
12 R
4800(such)S
5067(that)S
4288 V
12 I
(1<<log2ps)545 708 A
12 R
1299(is)S
1416(the)S
1600(page)S
1865(size)S
2091(in)S
2222(bytes\).)S
2615(In)S
12 I
2753(*first)S
12 Y1
3009(3)S
12 I
3069(ret)S
12 R
3251(it)S
3356(returns)S
3730(the)S
3915(lowest)S
4269(page)S
4534(number)S
4940(usable)S
4428 V
708(in)S
834(the)S
1014(address)S
(space)269 1409 A
1710(of)S
1843(a)S
1929(user)S
2163(program.)S
2665(In)S
12 I
2798(*last)S
12 Y1
3033(3)S
12 I
3093(ret)S
12 R
3270(it)S
3370(returns)S
3738(one)S
3943(more)S
4223(than)S
4462(the)S
4641(highest)S
5021(page)S
4568 V
708(number)S
1113(usable)S
1458(in)S
1588(the)S
1772(address)S
(space)269 2171 A
2476(of)S
2613(a)S
2703(user)S
2941(program.)S
3447(These)S
3773(parameters)S
4343(are)S
4529(constants)S
5016(for)S
5195(a)S
4708 V
708(particular)S
1221(process)S
1631(server)S
1975(instance.)S
2479(They)S
2774(are)S
2970(expressed)S
3494(in)S
3635(pages)S
3956(rather)S
4286(than)S
4540(bytes)S
4841(to)S
4981(avoid)S
4848 V
708(overflow,)S
1213(since)S
12 I
(first<<log2ps)681 1499 A
12 R
2227(or)S
12 I
(last<<log2ps)660 2365 A
12 R
3072(may)S
(exceed)336 3317 A
3690(the)S
3876(size)S
4103(of)S
4242(numbers)S
4696(that)S
4916(fit)S
5063(in)S
5195(a)S
4988 V
(long)214 708 A
952(int.)S
5304 V
12 I
708(pro)S
12 Y1
875(3)S
12 I
(getload)362 935 A
5540 V
11 C
(errstat)469 1068 A
5680 V
(pro)201 1068 A
11 Y1
1269(3)S
11 C
(getload\(svr,)804 1324 A
(speed)335 2195 A
11 Y1
2530(3)S
11 C
(ret,)268 2585 A
(load)268 2920 A
11 Y1
3188(3)S
11 C
(ret,)268 3243 A
(mem)201 3578 A
11 Y1
3779(3)S
11 C
(ret\))268 3834 A
5820 V
(capability)670 1068 A
(*svr;)335 1805 A
5960 V
(long)268 1068 A
(*speed)402 1403 A
11 Y1
1805(3)S
11 C
(ret;)268 1860 A
6100 V
(long)268 1068 A
(*load)335 1403 A
11 Y1
1738(3)S
11 C
(ret;)268 1793 A
6240 V
(long)268 1068 A
(*mem)268 1403 A
11 Y1
1671(3)S
11 C
(ret;)268 1726 A
6440 V
12 R
708(This)S
957(returns)S
1328(three)S
1605(numbers)S
2055(that)S
2271(give)S
2513(an)S
2661(indication)S
3179(of)S
3314(the)S
3496(current)S
3874(load)S
4116(on)S
4270(a)S
4358(process)S
4756(server.)S
5148(In)S
6580 V
12 I
708(*speed)S
12 Y1
1043(3)S
12 I
1103(ret)S
12 R
1285(it)S
1390(returns)S
1764(a)S
(rough)281 1855 A
2173(indication)S
2693(of)S
2830(the)S
3014(CPU)S
3285(speed)S
3596(of)S
3733(the)S
3917(machine)S
4363(in)S
4493(instructions)S
5094(per)S
6720 V
(second.)365 708 A
1138(The)S
1361(number)S
1765(returned)S
2204(is)S
2321(an)S
2471(estimate)S
2912(made)S
3210(by)S
3366(the)S
3550(kernel)S
3889(at)S
(boot)214 4013 A
4263(time)S
4515(for)S
4693(a)S
4783(particular)S
6860 V
708(configuration;)S
1445(it)S
(should)321 1564 A
1936(only)S
2201(be)S
2366(used)S
2638(to)S
2783(compare)S
3251(processors)S
3813(of)S
3965(the)S
4164(same)S
4464(architecture.)S
5148(In)S
7000 V
12 I
(*load)274 708 A
12 Y1
982(3)S
12 I
1042(ret)S
12 R
1231(it)S
1343(returns)S
1725(a)S
1824(load)S
2077(average)S
2499(over)S
2759(the)S
2952(past)S
3192(few)S
(seconds,)412 3420 A
3877(computed)S
4398(from)S
4679(the)S
4872(average)S
7140 V
708(number)S
1114(of)S
(runnable)423 1252 A
1712(threads)S
2099(times)S
(1024.)270 2399 A
2736(This)S
2988(is)S
3106(a)S
(running)375 3197 A
3609(average;)S
4057(more)S
(recent)297 4343 A
4676(events)S
5021(have)S
7280 V
708(more)S
1028(effect.)S
1438(In)S
12 I
1611(*mem)S
12 Y1
1901(3)S
12 I
1961(ret)S
12 R
2178(it)S
2318(returns)S
2727(the)S
2947(available)S
3457(memory,)S
3962(in)S
4128(bytes.)S
4515(This)S
4802(does)S
5095(not)S
7700 V
2683(Amoeba)S
3123(5.3)S
(303)180 5069 A
7920 V
EP
%%Page: 304 310
BP
/slant 0 def
/height 0 def
500 V
12 R
708(process)S
1091(\(L\))S
2567(Library)S
2961(Routines)S
4710(process)S
5093(\(L\))S
860 V
(necessarily)539 708 A
1282(mean)S
1579(that)S
1796(a)S
(contiguous)529 1885 A
2449(memory)S
2887(segment)S
3325(of)S
3461(this)S
3670(size)S
3893(is)S
4008(available;)S
4514(it)S
4616(is)S
4731(the)S
4913(sum)S
5148(of)S
1000 V
708(all)S
860(free)S
1080(memory)S
1513(segments.)S
1316 V
12 I
708(pro)S
12 Y1
875(3)S
12 I
(sgetload)409 935 A
1552 V
11 C
(errstat)469 1068 A
1692 V
(pro)201 1068 A
11 Y1
1269(3)S
11 C
(sgetload\(svr,)871 1324 A
(speed)335 2262 A
11 Y1
2597(3)S
11 C
(ret,)268 2652 A
(load)268 2987 A
11 Y1
3255(3)S
11 C
(ret,)268 3310 A
(mem)201 3645 A
11 Y1
3846(3)S
11 C
(ret,)268 3901 A
(exec)268 4236 A
11 Y1
4504(3)S
11 C
(cap\))268 4559 A
1832 V
(capability)670 1068 A
(*svr;)335 1805 A
1972 V
(long)268 1068 A
(*speed)402 1403 A
11 Y1
1805(3)S
11 C
(ret;)268 1860 A
2112 V
(long)268 1068 A
(*load)335 1403 A
11 Y1
1738(3)S
11 C
(ret;)268 1793 A
2252 V
(long)268 1068 A
(*mem)268 1403 A
11 Y1
1671(3)S
11 C
(ret;)268 1726 A
2392 V
(capability)670 1068 A
1805(*)S
(exec)268 1939 A
11 Y1
2207(3)S
11 C
(cap;)268 2262 A
2592 V
12 I
708(Pro)S
12 Y1
889(3)S
12 I
(sgetload)409 949 A
12 R
1410(does)S
1673(all)S
1837(the)S
2027(things)S
12 I
2364(pro)S
12 Y1
2531(3)S
12 I
(getload)362 2591 A
12 R
3005(does.)S
3328(In)S
(addition)396 3471 A
3910(it)S
4021(also)S
4259(causes)S
4618(the)S
4809(kernel)S
5155(to)S
2732 V
708(modify)S
1095(its)S
1248(process)S
1649(server's)S
(capability.)508 2072 A
2648(The)S
2874(new)S
(capability)478 3114 A
3629(for)S
3808(the)S
3993(process)S
4393(server)S
4727(is)S
4845(returned)S
2872 V
708(via)S
12 I
(exec)216 889 A
12 Y1
1105(3)S
12 I
1165(cap)S
12 R
1349(.)S
1442(The)S
1663(process)S
2059(server)S
(accepts)357 2389 A
2779(two)S
(capabilities)553 2994 A
3580(at)S
3701(any)S
3909(one)S
4117(time:)S
4401(the)S
4583(old)S
(capability)478 4771 A
3012 V
708(and)S
929(the)S
1124(new)S
(capability.)508 1372 A
1956(The)S
12 I
2190(run)S
12 R
2367(\(A\))S
2583(server)S
2926(uses)S
3180(this)S
3401(routine)S
3790(to)S
3930(keep)S
4204(changing)S
4692(the)S
4886(process)S
3152 V
708(server's)S
(capability)478 1123 A
1631(so)S
1768(that)S
1980(malicious)S
2481(users)S
2760(do)S
2911(not)S
3096(gain)S
3335(permanent)S
(access)310 3877 A
4218(to)S
4343(a)S
4428(host)S
4660(just)S
(because)383 4866 A
3292 V
708(they)S
946(had)S
(access)310 1150 A
1490(to)S
1614(it)S
1712(once.)S
3608 V
12 I
708(The)S
919(Process)S
1332(Owner)S
1691(Interface)S
3784 V
12 R
708(The)S
938(process)S
1344(owner)S
1690(\(typically)S
2198(the)S
2389(process)S
2795(creator\))S
3217(is)S
3341(expected)S
3814(to)S
3951(run)S
4155(a)S
4252(small)S
4558(server)S
(loop)214 4898 A
5155(to)S
3924 V
708(collect)S
1078(messages)S
(about)268 1581 A
1895(any)S
2114(change)S
2501(in)S
2640(the)S
2833(process)S
3241(that)S
3468(it)S
3581(owns.)S
3941(In)S
4087(certain)S
4463(circumstances)S
5195(a)S
4064 V
708(process)S
1104(A)S
1225(may)S
1466(create)S
1790(a)S
1877(process)S
2273(B)S
2386(to)S
(replace)351 2513 A
2897(itself)S
3174(with.)S
3483(If)S
3598(this)S
3806(happens)S
4234(the)S
4415(owner)S
4751(of)S
4886(process)S
4204 V
708(A)S
843(needs)S
1165(to)S
1306(be)S
1467(informed)S
1958(that)S
2187(process)S
2597(B)S
2724(is)S
2852(now)S
3107(the)S
3301(process)S
3710(in)S
3850(question.)S
4365(This)S
4626(sort)S
4854(of)S
5001(thing)S
4344 V
708(happens)S
1139(in)S
1269(programs)S
1762(like)S
12 I
1980(login)S
12 R
2238(\(A\))S
2444(which)S
2776(starts)S
3069(up)S
3225(a)S
3315(shell)S
3580(but)S
3770(needs)S
4081(to)S
4211(tell)S
4404(the)S
4589(system)S
4962(that)S
5181(it)S
4484 V
708(has)S
904(simply)S
1268(mutated)S
1693(into)S
1916(a)S
2005(shell)S
2269(and)S
2478(has)S
2673(not)S
(gone)234 2861 A
3129(away.)S
3479(\(Otherwise)S
4054(the)S
(boot)214 4236 A
4484(server)S
(will)190 4815 A
5039(start)S
4624 V
708(another)S
12 I
1105(login)S
12 R
1397(while)S
1701(the)S
1883(user)S
2119(is)S
(still)183 2234 A
(running)375 2451 A
2860(a)S
2948(shell.\))S
3312(If)S
3428(the)S
3610(process)S
4007(owner)S
4344(is)S
4459(not)S
4648(interested)S
5155(in)S
4764 V
708(this)S
913(information)S
1515(then)S
1753(they)S
(should)321 1991 A
(still)183 2342 A
2555(implement)S
3103(the)S
3281(server)S
(loop)214 3608 A
3852(to)S
3976(avoid)S
4274(causing)S
4673(timeouts.)S
5080 V
12 I
708(pro)S
12 Y1
875(3)S
12 I
(swapproc)468 935 A
5316 V
11 C
(errstat)469 1068 A
5456 V
(pro)201 1068 A
11 Y1
1269(3)S
11 C
(swapproc\(svr,)871 1324 A
(oldproc,)536 2262 A
(newproc\))536 2865 A
5596 V
(capability)670 1068 A
(*svr;)335 1805 A
5736 V
(capability)670 1068 A
(*oldproc;)603 1805 A
5876 V
(capability)670 1068 A
(*newproc;)603 1805 A
6076 V
12 R
708(This)S
972(routine)S
1364(does)S
1634(a)S
1737(transaction)S
2318(with)S
2583(the)S
2781(owner)S
(capability,)508 3134 A
12 I
3692(svr)S
12 R
3850(,)S
3930(of)S
4081(a)S
4185(process.)S
4658(It)S
4783(sends)S
5101(the)S
6216 V
(capability)478 708 A
1233(of)S
1381(the)S
1576(original)S
2000(process)S
2410(which)S
2753(was)S
2989(owned)S
3358(and)S
3579(the)S
(capability)478 3773 A
4297(of)S
4444(the)S
4638(new)S
4886(process)S
6356 V
708(which)S
1034(has)S
(replaced)411 1225 A
1666(it.)S
6672 V
12 I
708(Process)S
1121(Interface)S
6848 V
12 R
708(The)S
934(following)S
1443(requests)S
1878(must)S
2151(be)S
2303(directed)S
2732(at)S
2858(a)S
2950(process)S
(capability)478 3351 A
3867(as)S
4007(returned)S
4450(by)S
12 I
4609(pro)S
12 Y1
4776(3)S
12 I
(exec)216 4836 A
12 R
5062(.)S
5161(A)S
6988 V
708(process)S
1101(can)S
1299(obtain)S
1631(its)S
1776(own)S
2014(process)S
(capability)478 2407 A
2915(using)S
12 I
3206(getinfo)S
12 R
3552(\(L\).)S
7164 V
708(The)S
938(process)S
(capabilities)553 1343 A
1938(of)S
2081(all)S
2245(processes)S
(running)375 2751 A
3168(on)S
3330(a)S
3426(particular)S
3934(processor)S
4440(can)S
4650(be)S
(found)281 4806 A
5129(by)S
7304 V
(looking)368 708 A
1111(up)S
12 C
(PROCESS)511 1265 A
12 Y1
1776(3)S
12 C
(LIST)292 1836 A
12 Y1
2128(3)S
12 C
(NAME)292 2188 A
12 R
2514(\(typically)S
(``ps''\))312 3013 A
3359(relative)S
3758(to)S
3886(its)S
4035(processor)S
(capability,)508 4533 A
5075(and)S
7700 V
(304)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 305 311
BP
/slant 0 def
/height 0 def
500 V
12 R
708(process)S
1091(\(L\))S
2567(Library)S
2961(Routines)S
4710(process)S
5093(\(L\))S
860 V
708(listing)S
1060(the)S
1257(contents)S
1709(of)S
1859(the)S
2056(directory)S
2543(thus)S
(found.)311 2793 A
3183(Its)S
3354(directory)S
3841(entries)S
4215(have)S
4493(numeric)S
4940(names)S
1000 V
708(which)S
1034(are)S
1213(unique)S
1571(identifiers)S
2094(with)S
2340(no)S
2490(meaning)S
2936(outside)S
3315(this)S
3520(directory.)S
1316 V
12 I
708(pro)S
12 Y1
875(3)S
12 I
935(setowner)S
1552 V
11 C
(errstat)469 1068 A
1692 V
(pro)201 1068 A
11 Y1
1269(3)S
11 C
(setowner\(proc,)938 1324 A
(owner\))402 2329 A
1832 V
(capability)670 1068 A
(*proc;)402 1805 A
1972 V
(capability)670 1068 A
(*owner;)469 1805 A
2172 V
12 R
708(This)S
966(changes)S
1398(the)S
1589(owner)S
(capability)478 1935 A
2456(of)S
2600(the)S
2791(process)S
3197(to)S
3334(the)S
(capability)478 3525 A
4046(pointed)S
4451(to)S
4588(by)S
12 I
4752(owner)S
12 R
5063(.)S
5167(If)S
2312 V
12 I
708(owner)S
12 R
1058(is)S
1178(NULL)S
1541(or)S
1681(points)S
2014(to)S
2146(a)S
(capability)478 2238 A
2754(with)S
3008(a)S
3100(NULL-port,)S
3728(the)S
3914(process)S
4315(has)S
4514(no)S
4672(owner)S
5013(from)S
2452 V
708(now)S
946(on.)S
2768 V
12 I
708(pro)S
12 Y1
875(3)S
12 I
935(getowner)S
3004 V
11 C
(errstat)469 1068 A
3144 V
(pro)201 1068 A
11 Y1
1269(3)S
11 C
(getowner\(proc,)938 1324 A
(owner)335 2329 A
11 Y1
2664(3)S
11 C
(ret\))268 2719 A
3284 V
(capability)670 1068 A
(*proc;)402 1805 A
3424 V
(capability)670 1068 A
(*owner)402 1805 A
11 Y1
2207(3)S
11 C
(ret;)268 2262 A
3624 V
12 R
708(This)S
960(returns)S
1334(the)S
1519(owner)S
(capability)478 1859 A
2374(of)S
2512(the)S
2697(process)S
3097(in)S
3229(the)S
3415(variable)S
12 I
3844(owner.)S
12 R
4223(If)S
4343(the)S
4529(process)S
4930(has)S
5129(no)S
3764 V
708(owner,)S
12 I
1071(owner)S
12 R
1412(is)S
1523(set)S
1688(to)S
1812(a)S
(capability)478 1896 A
2404(with)S
2650(a)S
2734(NULL-port.)S
4080 V
12 I
708(pro)S
12 Y1
875(3)S
12 I
935(setcomment)S
4316 V
11 C
(errstat)469 1068 A
4456 V
(pro)201 1068 A
11 Y1
1269(3)S
11 C
(setcomment\(proc,)1072 1324 A
(comment\))536 2463 A
4596 V
(capability)670 1068 A
(*proc;)402 1805 A
4736 V
(char)268 1068 A
(*comment;)603 1403 A
4936 V
12 R
708(This)S
966(sets)S
1191(the)S
1382(comment)S
1875(string)S
2194(of)S
2338(the)S
2529(process)S
2935(to)S
3072(the)S
3263(NULL-terminated)S
4190(string)S
12 I
4509(comment)S
12 R
4957(.)S
5061(The)S
5076 V
708(string)S
1033(stored)S
1378(with)S
1643(the)S
1840(process)S
2252(is)S
2382(truncated)S
2882(to)S
3025(a)S
3128(system-dependent)S
4049(limit)S
4327(\(typically)S
4840(31\).)S
5109(By)S
5216 V
(convention,)566 708 A
1310(the)S
1494(comment)S
1980(string)S
2292(contains)S
2731(the)S
2915(username)S
3415(of)S
3552(the)S
3736(user)S
3974(who)S
4219(started)S
4580(the)S
4765(process,)S
5195(a)S
5356 V
708(colon,)S
1044(the)S
1229(command)S
1742(name)S
2041(of)S
2179(the)S
2364(executing)S
2871(program)S
3318(with)S
3571(leading)S
3964(path)S
(components)583 4209 A
4829(stripped,)S
5496 V
708(and)S
919(the)S
1104(command)S
1617(line)S
1836(arguments,)S
2407(or)S
2545(as)S
2683(much)S
2988(of)S
3126(this)S
3339(as)S
3478(fits)S
3672(within)S
4020(the)S
4206(limit.)S
4534(A)S
4660(comment)S
5148(of)S
5636 V
708(this)S
913(form)S
1179(is)S
1290(set)S
1455(automatically)S
2145(when)S
2437(a)S
2521(process)S
2914(is)S
3025(started)S
3379(by)S
12 I
(exec)216 3529 A
12 Y1
3745(3)S
12 I
(file)156 3805 A
12 R
3971(\(L\).)S
5952 V
12 I
708(pro)S
12 Y1
875(3)S
12 I
935(getcomment)S
6188 V
11 C
(errstat)469 1068 A
6328 V
(pro)201 1068 A
11 Y1
1269(3)S
11 C
(getcomment\(proc,)1072 1324 A
(buf,)268 2463 A
(len\))268 2798 A
6468 V
(capability)670 1068 A
(*proc;)402 1805 A
6608 V
(char)268 1068 A
(*buf;)335 1403 A
6748 V
(int)201 1068 A
(len;)268 1336 A
6948 V
12 R
708(This)S
960(returns)S
1334(the)S
1520(comment)S
2008(string)S
2322(of)S
2461(a)S
2553(process)S
2954(in)S
3086(the)S
3272(buffer)S
12 I
3607(buf)S
12 R
3771(,)S
3839(truncated)S
4328(to)S
12 I
4460(len)S
12 Y
4608(-)S
12 I
4674(1)S
12 R
4782(bytes)S
5075(and)S
7088 V
708(terminated)S
1257(with)S
1503(a)S
1587(NULL-byte.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(305)180 5069 A
7920 V
EP
%%Page: 306 312
BP
/slant 0 def
/height 0 def
500 V
12 R
708(process)S
1091(\(L\))S
2567(Library)S
2961(Routines)S
4710(process)S
5093(\(L\))S
860 V
12 I
708(pro)S
12 Y1
875(3)S
12 I
935(stun)S
1096 V
11 C
(errstat)469 1068 A
1236 V
(pro)201 1068 A
11 Y1
1269(3)S
11 C
(stun\(proc,)670 1324 A
(stuncode\))603 2061 A
1376 V
(capability)670 1068 A
(*proc;)402 1805 A
1516 V
(long)268 1068 A
(stuncode;)603 1403 A
1716 V
12 R
708(This)S
12 I
965(stuns)S
12 R
1266(the)S
1457(process)S
1863(specified)S
2344(by)S
12 I
2507(proc)S
12 R
2738(.)S
2841(The)S
3072(argument)S
12 I
3572(stuncode)S
12 R
4054(is)S
4178(made)S
4483(available)S
4964(to)S
5101(the)S
1856 V
708(process')S
1150(owner)S
1491(when)S
1791(it)S
(receives)398 1897 A
2333(a)S
(checkpoint)530 2425 A
2993(\(see)S
3227(below\).)S
3662(A)S
3788(negative)S
4236(stun)S
4475(code)S
4741(implies)S
5135(an)S
1996 V
12 I
708(emergency)S
1301(stop)S
12 R
1580(to)S
1742(the)S
1958(kernel;)S
2363(this)S
2606(aborts)S
2970(transactions)S
3618(instead)S
4030(of)S
(waiting)364 4200 A
4633(for)S
4844(them)S
5155(to)S
2136 V
708(complete,)S
1216(and)S
1424(is)S
1539(allowed)S
1957(even)S
2219(when)S
2515(the)S
2697(process)S
3094(is)S
3208(already)S
(stopped.)405 3598 A
4066(If)S
4181(the)S
4362(owner)S
4698(has)S
4892(already)S
2276 V
(received)411 708 A
1169(a)S
(checkpoint)530 1273 A
1853(when)S
2165(an)S
2330(emergency)S
2912(stop)S
3164(is)S
3296(made,)S
3639(it)S
(will)190 3758 A
(receive)351 3999 A
4401(a)S
4506(client-to-server)S
2416 V
708(signal)S
1029(that)S
1243(aborts)S
1571(the)S
(checkpoint)530 1750 A
2311(transaction,)S
2904(and)S
3109(another)S
(checkpoint)530 3503 A
4064(is)S
4176(sent.)S
4462(It)S
4568(is)S
4680(not)S
4865(allowed)S
2556 V
708(to)S
844(stun)S
1087(an)S
1243(already)S
(stopped)375 1642 A
2059(process)S
2464(unless)S
2808(an)S
2964(emergency)S
3537(stop)S
3781(is)S
3905(being)S
4216(made.)S
4581(It)S
4699(may)S
4950(take)S
5195(a)S
2696 V
(long)214 708 A
954(time)S
1202(to)S
1328(stun)S
1561(a)S
1647(process;)S
2076(the)S
2256(call)S
2464(does)S
2717(not)S
2903(wait)S
3145(for)S
3319(the)S
3499(stun)S
3732(to)S
3858(complete)S
4334(but)S
4520(returns)S
4889(as)S
(soon)227 5022 A
2836 V
708(as)S
839(the)S
1017(stun)S
1248(is)S
(initiated.)428 1359 A
3012 V
708(A)S
843(process)S
1253(may)S
1508(be)S
(stopped)375 1669 A
2091(for)S
2280(other)S
2576(reasons)S
2986(than)S
3241(being)S
(stunned:)409 3556 A
4012(when)S
4321(a)S
4422(thread)S
4772(causes)S
5135(an)S
3152 V
708(exception)S
1208(for)S
1380(which)S
1706(it)S
1804(has)S
1995(no)S
2145(catcher,)S
2556(and)S
2760(also)S
2985(when)S
3277(the)S
3455(process)S
3848(terminates)S
4384(normally.)S
3328 V
708(The)S
926(following)S
1427(happens)S
1852(when)S
2144(a)S
2228(process)S
2621(is)S
(stopped.)405 2732 A
3197(All)S
(activities)439 3383 A
3852(of)S
3984(all)S
4137(its)S
4283(threads)S
4664(are)S
(stopped.)405 4844 A
3468 V
708(If)S
825(a)S
914(thread)S
1252(is)S
1368(serving)S
1759(\(between)S
12 I
2239(getreq)S
12 R
2593(and)S
12 I
2802(putrep)S
12 R
3127(\),)S
3233(this)S
3443(state)S
3701(is)S
3817(preserved.)S
4383(A)S
4506(client-to-server)S
3608 V
708(signal)S
1034(is)S
1152(sent)S
1384(to)S
1515(all)S
1674(servers)S
2055(serving)S
2448(outstanding)S
3048(transactions)S
3664(of)S
3802(the)S
3987(process.)S
4447(If)S
4566(an)S
4718(emergency)S
3748 V
708(stop)S
954(is)S
1080(being)S
1393(made,)S
1730(transactions)S
2354(are)S
2548(then)S
2801(aborted;)S
3243(otherwise,)S
3790(they)S
4043(are)S
4237(allowed)S
4666(to)S
4805(complete)S
3888 V
708(and)S
931(the)S
1128(process)S
1540(is)S
1670(not)S
1873(completely)S
(stopped)375 2460 A
(until)222 2884 A
(each)222 3155 A
3426(server)S
3772(has)S
3982(sent)S
4226(a)S
4330(reply)S
4629(\(or)S
4821(crashes\).)S
4028 V
708(Calls)S
988(to)S
12 I
1113(putrep)S
12 R
1469(may)S
1707(be)S
1851(aborted)S
2244(or)S
2375(not)S
2559(depending)S
3091(on)S
3241(the)S
3419(internal)S
3820(state)S
4073(of)S
4204(the)S
4382(RPC)S
4639(layer.)S
4972(Other)S
4168 V
708(blocking)S
1162(system)S
1530(calls)S
1785(\()S
12 I
1826(getreq)S
12 R
2135(,)S
12 I
2197(mu)S
12 Y1
2345(3)S
12 I
2405(trylock)S
12 R
2752(\))S
2825(are)S
3006(aborted.)S
3461(If)S
3575(a)S
3662(process)S
4058(has)S
4252(an)S
4399(owner,)S
4765(the)S
4946(owner)S
4308 V
708(is)S
828(notified)S
1244(when)S
1545(all)S
1706(threads)S
2094(have)S
(stopped.)405 2360 A
2833(This)S
3086(is)S
(done)234 3205 A
3477(by)S
3635(constructing)S
4271(a)S
4363(process)S
4764(descriptor)S
4448 V
708(that)S
942(contains)S
1397(the)S
1597(current)S
1993(state)S
2268(of)S
2421(the)S
2621(process)S
3037(and)S
3264(sending)S
3692(it)S
3813(to)S
3960(the)S
4161(owner)S
(capability)478 4517 A
5048(in)S
5195(a)S
4588 V
12 C
708(PS)S
12 Y1
854(3)S
12 C
(CHECKPOINT)730 914 A
12 R
1677(request,)S
2090(described)S
2587(below.)S
2976(If)S
3091(the)S
3272(owner)S
3608(returns)S
3978(a)S
4065(valid)S
4339(process)S
4734(descriptor,)S
4728 V
708(the)S
890(process)S
1287(continues,)S
1814(unless)S
2150(it)S
2252(was)S
(stopped)375 2475 A
(because)383 2884 A
3302(of)S
3438(normal)S
3816(termination.)S
4470(If)S
4587(the)S
4770(process)S
5168(is)S
4868 V
708(continued,)S
1254(system)S
1630(calls)S
1893(that)S
2115(were)S
2392(aborted)S
(will)190 2795 A
3025(return)S
3355(an)S
3508(error)S
3784(\()S
12 C
(RPC)219 3825 A
12 Y1
4044(3)S
12 C
(ABORTED)511 4104 A
12 R
4654(for)S
4835(the)S
5022(RPC)S
5008 V
708(calls\),)S
1055(except)S
12 I
1424(putrep)S
12 R
1802(which)S
2151(returns)S
2541(no)S
2714(error)S
3004(code.)S
3345(Note)S
3634(that)S
12 I
3869(mu)S
12 Y1
4017(3)S
12 I
4077(lock)S
12 R
(will)190 4343 A
4587(not)S
(fail;)197 4795 A
5046(it)S
5168(is)S
5148 V
708(implemented)S
1378(as)S
1517(a)S
1609(library)S
1971(routine)S
2352(that)S
2572(retries)S
12 I
2915(mu)S
12 Y1
3063(3)S
12 I
3123(trylock)S
12 R
(until)222 3508 A
3768(it)S
(succeeds)430 3873 A
4340(\(see)S
12 I
4573(mutex)S
12 R
4873(\(L\)\).)S
5167(If)S
5288 V
708(the)S
903(process)S
1313(has)S
1521(no)S
1688(owner,)S
2068(or)S
2217(the)S
2413(process)S
(cannot)322 2824 A
3194(be)S
3356(continued)S
3880(after)S
4152(the)S
4348(owner)S
4699(replies,)S
5101(the)S
5428 V
(stopped)375 708 A
1113(process)S
1506(is)S
1617(discarded)S
2111(and)S
2315(all)S
2467(the)S
2645(resources)S
3133(it)S
3231(occupies)S
3684(in)S
3808(the)S
3986(kernel)S
4319(are)S
4498(freed.)S
5744 V
12 I
708(Process)S
1121(Owner)S
1480(Interface)S
5920 V
12 R
708(The)S
928(final)S
1183(part)S
1404(of)S
1537(the)S
1717(low-level)S
2208(process)S
(interface)426 2603 A
3061(is)S
3175(the)S
3356(up-call)S
3726(made)S
4021(to)S
4148(the)S
4329(owner)S
4665(of)S
4799(a)S
4886(process)S
6060 V
708(when)S
1003(it)S
1104(is)S
(stopped.)405 1218 A
1686(The)S
1907(owner)S
(should)321 2243 A
2597(have)S
2858(some)S
3146(kind)S
3392(of)S
3525(server)S
(loop,)244 3854 A
(waiting)364 4130 A
4526(for)S
4700(requests)S
5129(on)S
6200 V
708(the)S
931(port)S
1201(in)S
1370(the)S
1593(owner)S
(capability)478 1971 A
2524(\(which)S
2937(the)S
3161(owner)S
(should)321 3540 A
3937(have)S
4241(created)S
4668(itself)S
4988(using)S
6340 V
12 I
(uniqport)415 708 A
12 R
1133(\(L\)\).)S
1520(The)S
1838(owner)S
2271(up-call)S
2738(is)S
2948(a)S
3131(request)S
3610(whose)S
12 I
4048(h)S
12 Y1
4108(3)S
12 I
(command)470 4168 A
12 R
4777(value)S
5168(is)S
6480 V
12 C
708(PS)S
12 Y1
854(3)S
12 C
(CHECKPOINT)730 914 A
12 R
1644(.)S
1763(The)S
12 I
2010(h)S
12 Y1
2070(3)S
12 I
2130(extra)S
12 R
2449(field)S
2732(in)S
2886(the)S
3094(RPC)S
3381(header)S
3764(specifies)S
4249(the)S
4457(reason)S
4833(why)S
5101(the)S
6620 V
708(process)S
1101(was)S
(stopped:)409 1320 A
6796 V
708(TERM)S
12 Y1
1043(3)S
12 R
1103(NORMAL)S
1837(Normal)S
2249(termination:)S
2883(a)S
2978(thread)S
3322(called)S
12 I
3653(exitprocess)S
12 R
4208(\(L\))S
4405(or)S
4547(the)S
4736(last)S
4946(thread)S
6936 V
1837(called)S
12 I
(exitthread)491 2161 A
12 R
2696(\(see)S
12 I
2926(sys)S
12 Y1
3074(3)S
12 I
3134(newthread)S
12 R
3653(\(L\)\).)S
3943(The)S
12 I
4164(h)S
12 Y1
4224(3)S
12 I
4284(offset)S
12 R
4590(field)S
4846(contains)S
7076 V
1837(the)S
2018(exit)S
2233(status)S
2542(passed)S
2897(to)S
12 I
3024(exitprocess\(\))S
12 R
3661(;)S
3728(0)S
3821(if)S
3929(the)S
4110(process)S
4507(was)S
4730(terminated)S
7216 V
(because)383 1837 A
2250(the)S
2428(last)S
2627(thread)S
2960(called)S
12 I
(exitthread\(\))573 3280 A
12 R
3863(.)S
7700 V
(306)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 307 313
BP
/slant 0 def
/height 0 def
500 V
12 R
708(process)S
1091(\(L\))S
2567(Library)S
2961(Routines)S
4710(process)S
5093(\(L\))S
860 V
708(TERM)S
12 Y1
1043(3)S
12 R
(STUNNED)567 1103 A
1837(The)S
2075(process)S
2488(was)S
(stunned)375 2727 A
3152(by)S
3322(a)S
3426(call)S
3652(to)S
12 I
3796(pro)S
12 Y1
3963(3)S
12 I
4023(stun)S
12 R
4234(.)S
4344(The)S
12 I
4582(h)S
12 Y1
4642(3)S
12 I
4702(offset)S
12 R
5026(field)S
1000 V
1837(contains)S
2270(the)S
2448(stun)S
2679(code)S
2937(passed)S
3289(as)S
3420(the)S
(second)335 3598 A
3963(argument)S
4450(to)S
12 I
4574(pro)S
12 Y1
4741(3)S
12 I
4801(stun)S
12 R
5012(.)S
1176 V
708(TERM)S
12 Y1
1043(3)S
12 R
1103(EXCEPTION)S
1837(A)S
1970(thread)S
2318(has)S
2524(caused)S
2899(an)S
3059(exception)S
3575(for)S
3763(which)S
4105(it)S
4219(has)S
4426(no)S
4592(handler.)S
5061(The)S
1316 V
12 I
1837(h)S
12 Y1
1897(3)S
12 I
1957(offset)S
12 R
2260(field)S
2513(contains)S
2946(the)S
3124(exception)S
3624(number)S
4023(\(see)S
12 I
(exception)464 4249 A
12 R
4723(\(H\)\).)S
1492 V
708(The)S
930(request)S
1314(buffer)S
1645(contains)S
2082(a)S
2170(process)S
2567(descriptor)S
3087(in)S
3216(standard)S
3661(\(network\))S
4175(byte)S
4418(order,)S
4739(containing)S
1632 V
708(the)S
897(state)S
1161(of)S
1303(the)S
1492(process)S
1896(at)S
2025(the)S
2214(time)S
2471(it)S
2580(was)S
(stopped.)405 2809 A
3284(This)S
(should)321 3539 A
3900(be)S
(converted)477 4054 A
4571(to)S
4705(native)S
5041(byte)S
1772 V
708(order)S
994(using)S
12 I
1285(buf)S
12 Y1
1439(3)S
12 I
1499(get)S
12 Y1
1647(3)S
12 I
1707(pd)S
12 R
1867(\(see)S
12 I
2093(process)S
12 Y1
2462(3)S
12 I
2522(d)S
12 R
2592(\(L\)\).)S
1948 V
708(If)S
822(the)S
1002(owner)S
1337(wants)S
1652(to)S
1778(let)S
1932(the)S
2112(process)S
2507(continue)S
2956(\(if)S
3105(it)S
3206(can\),)S
3478(it)S
(should)321 3579 A
3933(send)S
4187(the)S
4368(process)S
4764(descriptor)S
2088 V
708(back)S
978(unchanged)S
1542(in)S
1678(the)S
1868(reply)S
2159(\(in)S
2336(standard)S
2788(byte)S
3037(order\),)S
3405(with)S
12 I
3662(h)S
12 Y1
3722(3)S
12 I
3782(status)S
12 R
4115(set)S
4291(to)S
12 C
(STD)219 4426 A
12 Y1
4645(3)S
12 C
4705(OK)S
12 R
4851(.)S
4952(To)S
5127(let)S
2228 V
708(the)S
886(process)S
1279(die,)S
1487(return)S
1807(a)S
1891(different)S
2340(error)S
2607(status)S
2913(or)S
3044(an)S
3188(empty)S
3520(reply)S
3799(buffer.)S
2404 V
708(A)S
(debugger)449 852 A
1357(may)S
1621(change)S
2019(some)S
2330(parts)S
2622(of)S
2780(the)S
2985(process)S
3405(descriptor)S
3947(before)S
(letting)310 4314 A
4681(the)S
4886(process)S
2544 V
708(continue;)S
1188(this)S
1393(is)S
1504(architecture-dependent)S
2645(and)S
(beyond)354 2849 A
3233(the)S
3411(scope)S
3716(of)S
3847(this)S
4052(manual)S
4438(page.)S
2720 V
708(When)S
1033(a)S
(stopped)375 1125 A
1538(process)S
1939(is)S
2058(continued,)S
2602(the)S
2788(owner)S
3129(is)S
3248(not)S
3440(restored)S
3869(from)S
4143(the)S
4329(process)S
4730(descriptor;)S
2860 V
708(to)S
832(change)S
1204(the)S
1382(owner)S
1715(of)S
1846(a)S
(stopped)375 1930 A
2335(process,)S
2758(use)S
12 I
2949(pro)S
12 Y1
3116(3)S
12 I
3176(setowner)S
12 R
3622(.)S
3140 V
12 B
708(Example)S
3316 V
12 R
708(Code)S
992(to)S
1117(run)S
1309(a)S
1394(process)S
1788(with)S
2035(these)S
(primitives)492 2315 A
2838(would)S
3171(be)S
3316(too)S
3501(big)S
3686(to)S
3811(give)S
4050(a)S
4135(working)S
4569(example)S
5010(here.)S
3456 V
708(See)S
913(the)S
1091(source)S
1437(code)S
1695(of)S
12 I
(exec)216 1826 A
12 Y1
2042(3)S
12 I
(file)156 2102 A
12 R
2268(\(L\))S
2454(for)S
2626(a)S
2710(working)S
3143(example.)S
3736 V
12 B
708(See)S
913(Also)S
3912 V
12 R
708(exception\(H\),)S
1503(exec)S
12 Y1
1725(3)S
12 R
1785(file\(L\),)S
2259(exec)S
12 Y1
2481(3)S
12 R
(findhost\(L\),)582 2541 A
3249(exitprocess\(L\),)S
4106(getinfo\(L\),)S
4761(mutex\(L\),)S
4052 V
708(pd)S
12 Y1
828(3)S
12 R
888(read\(L\),)S
1313(process)S
12 Y1
1676(3)S
12 R
1736(d\(L\),)S
2012(run\(A\),)S
2403(sys)S
12 Y1
2557(3)S
12 R
2617(newthread\(L\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(307)180 5069 A
7920 V
EP
%%Page: 308 314
BP
/slant 0 def
/height 0 def
500 V
12 R
708(process)S
12 Y1
1071(3)S
12 R
1131(d)S
1211(\(L\))S
2567(Library)S
2961(Routines)S
4590(process)S
12 Y1
4953(3)S
12 R
5013(d)S
5093(\(L\))S
860 V
1745(\(in)S
1910(libraries:)S
2373(libamunix.a,)S
3007(libamoeba.a,)S
3655(libkernel.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(process)S
12 Y1
1071(3)S
12 R
1131(d)S
12 R-1
1221(-)S
12 R
1349(process)S
1742(descriptor,)S
2287(segment)S
2720(descriptor,)S
3265(thread)S
3598(descriptor)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("module/proc.h")1005 1311 A
2182 V
(#include)536 708 A
("fault.h")603 1311 A
1981(/*)S
(From)268 2182 A
(src/h/machdep/arch/<architecture>)2211 2517 A
4795(*/)S
2462 V
(#define)469 708 A
(ARCHSIZE)536 1244 A
(...)201 2316 A
2742 V
(typedef)469 708 A
(struct)402 1244 A
({...})335 1713 A
(process)469 2316 A
11 Y1
2785(3)S
11 C
2840(d;)S
2882 V
(typedef)469 708 A
(struct)402 1244 A
({...})335 1713 A
(segment)469 2316 A
11 Y1
2785(3)S
11 C
2840(d;)S
3022 V
(typedef)469 708 A
(struct)402 1244 A
({...})335 1713 A
(thread)402 2316 A
11 Y1
2718(3)S
11 C
2773(d;)S
3162 V
(typedef)469 708 A
(struct)402 1244 A
({...})335 1713 A
(thread)402 2316 A
11 Y1
2718(3)S
11 C
(idle;)335 2773 A
3442 V
(#define)469 708 A
(TDX)201 1244 A
11 Y1
1445(3)S
11 C
(IDLE)268 1500 A
(...)201 2304 A
3582 V
(#define)469 708 A
(TDX)201 1244 A
11 Y1
1445(3)S
11 C
(KSTATE)402 1500 A
(...)201 2304 A
3722 V
(#define)469 708 A
(TDX)201 1244 A
11 Y1
1445(3)S
11 C
(USTATE)402 1500 A
(...)201 2304 A
4002 V
(#define)469 708 A
1244(PD)S
11 Y1
1378(3)S
11 C
(SD\(p\))335 1433 A
(...)201 2304 A
4142 V
(#define)469 708 A
1244(PD)S
11 Y1
1378(3)S
11 C
(TD\(p\))335 1433 A
(...)201 2304 A
4282 V
(#define)469 708 A
1244(TD)S
11 Y1
1378(3)S
11 C
(NEXT\(t\))469 1433 A
(...)201 2304 A
4562 V
(int)201 708 A
976(pd)S
11 Y1
1110(3)S
11 C
(size\(pd\))536 1165 A
4702 V
(char)268 708 A
(*pd)201 1043 A
11 Y1
1244(3)S
11 C
(arch\(pd\))536 1299 A
4982 V
(char)268 708 A
(*buf)268 1043 A
11 Y1
1311(3)S
11 C
(put)201 1366 A
11 Y1
1567(3)S
11 C
(pd\(buf,)469 1622 A
(bufend,)469 2158 A
(pd\))201 2694 A
5122 V
(char)268 708 A
(*buf)268 1043 A
11 Y1
1311(3)S
11 C
(get)201 1366 A
11 Y1
1567(3)S
11 C
(pd\(buf,)469 1622 A
(bufend,)469 2158 A
(pd\))201 2694 A
5262 V
(process)469 708 A
11 Y1
1177(3)S
11 C
1232(d)S
(*pdmalloc\(buf,)938 1366 A
(bufend\))469 2371 A
5602 V
12 B
708(Description)S
5778 V
12 R
708(The)S
932(description)S
1506(of)S
1643(the)S
1828(process)S
(interface)426 2228 A
2691(is)S
(split)209 2809 A
3055(in)S
3186(several)S
3567(parts.)S
3900(The)S
4125(process)S
4525(descriptor)S
5047(data)S
5918 V
708(structure)S
1189(and)S
1419(its)S
1590(basic)S
(access)310 1895 A
(methods)409 2260 A
2724(are)S
2928(described)S
3447(here.)S
3771(The)S
4014(low-level)S
4528(kernel)S
4886(process)S
6058 V
708(server)S
(interface)426 1056 A
1533(is)S
1665(described)S
2180(in)S
12 I
2325(process)S
12 R
2704(\(L\).)S
2971(The)S
3210(high-level)S
3753(process)S
4168(execution)S
(interface)426 4690 A
5168(is)S
6198 V
708(described)S
1202(in)S
12 I
(exec)216 1326 A
12 Y1
1542(3)S
12 I
(file)156 1602 A
12 R
1768(\(L\).)S
2014(See)S
2219(also)S
12 I
2444(pd)S
12 Y1
2564(3)S
12 I
2624(read)S
12 R
2855(\(L\).)S
6374 V
708(A)S
12 I
862(process)S
1297(descriptor)S
12 R
1870(is)S
2017(the)S
2261(basic)S
2576(data)S
2844(structure)S
3335(used)S
3622(by)S
3809(the)S
4024(kernel)S
4394(and)S
(utilities)365 4635 A
5067(that)S
6514 V
708(manipulate)S
1301(processes.)S
1880(A)S
2023(process)S
2441(descriptor)S
2981(contains)S
3439(some)S
3749(fixed)S
4053(parts)S
4344(and)S
4573(two)S
4810(tables)S
5148(of)S
6654 V
708(variable)S
1129(length:)S
1495(the)S
1673(segment)S
2106(descriptor)S
2621(list)S
2800(and)S
3004(the)S
3182(thread)S
3515(descriptor)S
4030(list.)S
7700 V
(308)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 309 315
BP
/slant 0 def
/height 0 def
500 V
12 R
708(process)S
12 Y1
1071(3)S
12 R
1131(d)S
1211(\(L\))S
2567(Library)S
2961(Routines)S
4590(process)S
12 Y1
4953(3)S
12 R
5013(d)S
5093(\(L\))S
1036 V
12 I
708(Process)S
1121(Descriptors)S
1272 V
11 C
(#define)469 1068 A
(ARCHSIZE)536 1604 A
2676(8)S
1552 V
(typedef)469 1068 A
(struct)402 1604 A
2073({)S
1692 V
(char)268 1604 A
2676(pd)S
11 Y1
2810(3)S
11 C
(magic[ARCHSIZE];)1072 2865 A
1832 V
(capability)670 1604 A
2676(pd)S
11 Y1
2810(3)S
11 C
(self;)335 2865 A
1972 V
(capability)670 1604 A
2676(pd)S
11 Y1
2810(3)S
11 C
(owner;)402 2865 A
2112 V
(uint16)402 1604 A
2676(pd)S
11 Y1
2810(3)S
11 C
(nseg;)335 2865 A
2252 V
(uint16)402 1604 A
2676(pd)S
11 Y1
2810(3)S
11 C
(nthread;)536 2865 A
2392 V
1068(})S
(process)469 1202 A
11 Y1
1671(3)S
11 C
1726(d;)S
2592 V
12 R
708(The)S
12 I
961(process)S
12 Y1
1330(3)S
12 I
1390(d)S
12 R
1525(data)S
1792(structure)S
2282(defines)S
2697(only)S
2976(the)S
3189(fixed)S
3503(parts)S
3804(of)S
3970(a)S
4089(process)S
4517(descriptor.)S
5127(Its)S
2732 V
708(members)S
1182(are:)S
2908 V
708(pd)S
12 Y1
828(3)S
12 R
888(magic)S
1368(Specifies)S
1853(the)S
12 I
2041(architecture)S
(identifier)445 2673 A
12 R
3168(describing)S
3712(the)S
3900(type)S
4148(of)S
4289(processor)S
4793(on)S
4953(which)S
3048 V
1368(the)S
1560(process)S
1967(runs)S
2219(or)S
2364(may)S
2616(run.)S
2881(The)S
3112(string)S
3431(is)S
3555(at)S
3686(most)S
12 C
(ARCHSIZE)584 3964 A
12 C-1
4548(-)S
12 C
4621(1)S
12 R
4737(bytes)S
(long)214 5035 A
3188 V
1368(and)S
1572(NULL-padded)S
2315(to)S
12 C
(ARCHSIZE)584 2439 A
12 R
3053(bytes,)S
3368(so)S
3505(it)S
3603(is)S
3714(always)S
4081(NULL-terminated.)S
3364 V
708(pd)S
12 Y1
828(3)S
12 R
888(self)S
(Ignored)376 1368 A
1782(in)S
1914(executable)S
2470(files)S
2718(and)S
2930(by)S
12 I
3088(pro)S
12 Y1
3255(3)S
12 I
(exec)216 3315 A
12 R
3579(\(see)S
12 I
3814(process)S
12 R
4193(\(L\)\);)S
4463(in)S
4596(a)S
(checkpoint,)560 4689 A
3504 V
1368(specifies)S
1836(the)S
2027(process)S
(capability)478 2433 A
2954(of)S
3098(the)S
3289(process)S
3695(whose)S
(checkpoint)530 4046 A
4618(it)S
4728(is.)S
4911(This)S
5168(is)S
3644 V
1368(included)S
1814(to)S
1938(simplify)S
2372(applications)S
2987(that)S
3199(own)S
3437(many)S
3735(processes.)S
3820 V
708(pd)S
12 Y1
828(3)S
12 R
888(owner)S
1368(Specifies)S
1843(the)S
2021(owner)S
(capability.)508 2354 A
2922(A)S
3040(NULL-port)S
3630(means)S
3969(the)S
4147(process)S
4540(has)S
4731(no)S
4881(owner.)S
3996 V
708(pd)S
12 Y1
828(3)S
12 R
888(nseg)S
1368(Specifies)S
1847(the)S
2029(number)S
2432(of)S
2568(segment)S
3006(descriptors)S
3573(included)S
4024(in)S
4153(the)S
4336(process)S
4734(descriptor.)S
4136 V
1368(Must)S
1646(be)S
1790(at)S
1908(least)S
2161(one.)S
4312 V
708(pd)S
12 Y1
828(3)S
12 R
888(nthread)S
1368(Specifies)S
1857(the)S
2049(number)S
2462(of)S
2608(thread)S
2956(descriptors)S
3533(included)S
3994(in)S
4133(the)S
4326(process)S
4734(descriptor.)S
4452 V
1368(Must)S
1646(be)S
1790(at)S
1908(least)S
2161(one.)S
4768 V
12 I
708(Segment)S
1148(Descriptors)S
5004 V
11 C
(typedef)469 1068 A
(struct)402 1604 A
2073({)S
5144 V
(capability)670 1604 A
2676(sd)S
11 Y1
2810(3)S
11 C
(cap;)268 2865 A
5284 V
(long)268 1604 A
2676(sd)S
11 Y1
2810(3)S
11 C
(offset;)469 2865 A
5424 V
(long)268 1604 A
2676(sd)S
11 Y1
2810(3)S
11 C
(addr;)335 2865 A
5564 V
(long)268 1604 A
2676(sd)S
11 Y1
2810(3)S
11 C
(len;)268 2865 A
5704 V
(long)268 1604 A
2676(sd)S
11 Y1
2810(3)S
11 C
(type;)335 2865 A
5844 V
1068(})S
(segment)469 1202 A
11 Y1
1671(3)S
11 C
1726(d;)S
6044 V
12 R
708(The)S
929(segment)S
1365(list)S
1547(of)S
1681(a)S
1768(process)S
2164(descriptor)S
2682(is)S
2796(an)S
2943(array)S
3226(of)S
12 I
3361(segment)S
3792(descriptors)S
12 R
4346(.)S
4440(Each)S
4716(array)S
5000(entry)S
6184 V
708(is)S
824(a)S
913(structure)S
1373(of)S
1509(type)S
12 I
1752(segment)S
12 Y1
2149(3)S
12 I
2209(d)S
12 R
2279(.)S
2374(To)S
(access)310 2543 A
2888(the)S
3071(segment)S
3509(descriptors,)S
4106(the)S
4289(macro)S
12 C
4627(PD)S
12 Y1
4773(3)S
12 C
4833(SD)S
12 R
5014(must)S
6324 V
708(be)S
867(used.)S
1194(If)S
12 I
1322(p)S
12 R
1438(is)S
1565(a)S
1665(pointer)S
2054(to)S
2194(a)S
2294(process)S
2703(descriptor,)S
3264(then)S
12 C
3518(PD)S
12 Y1
3664(3)S
12 C
(SD\(p\))365 3724 A
12 R
4135(is)S
4262(a)S
4362(pointer)S
4751(to)S
4891(its)S
5052(first)S
6464 V
708(segment)S
1152(descriptor,)S
1708(and)S
1923(for)S
12 C
2106(0)S
2263(<=)S
2493(i)S
2650(<)S
(p->pd)365 2806 A
12 Y1
3171(3)S
12 C
(nseg)292 3231 A
12 R
3523(,)S
3593(the)S
3781(expression)S
12 C
4338(PD)S
12 Y1
4484(3)S
12 C
(SD\(p\)[i])584 4544 A
12 R
5168(is)S
6604 V
708(its)S
12 I
853(i)S
12 R
897(-th)S
1062(segment)S
1495(descriptor)S
2010(\(not)S
2235(a)S
2319(pointer\).)S
6780 V
708(In)S
847(executable)S
1403(files)S
1651(and)S
1863(for)S
12 I
2043(pro)S
12 Y1
2210(3)S
12 I
(exec)216 2270 A
12 R
2496(,)S
2564(a)S
2656(segment)S
3097(descriptor)S
3620(describes)S
4109(a)S
4201(segment)S
4642(that)S
4862(must)S
5135(be)S
6920 V
708(created)S
1106(to)S
1247(form)S
1530(part)S
1766(of)S
1914(the)S
2109(address)S
(space)269 2519 A
2835(of)S
2982(the)S
3176(new)S
3424(process.)S
3893(In)S
4040(a)S
(checkpoint,)560 4140 A
4746(a)S
4846(segment)S
7060 V
708(descriptor)S
1238(describes)S
1734(an)S
1893(actually)S
2322(existing)S
2750(segment.)S
3258(Depending)S
(upon)240 3833 A
4118(flags)S
4399(in)S
12 I
4539(sd)S
12 Y1
4646(3)S
12 I
4706(type)S
12 R
4918(,)S
4994(some)S
7200 V
708(segment)S
1146(descriptors)S
1713(do)S
1868(not)S
2057(describe)S
2496(a)S
2585(segment,)S
3053(and)S
3262(must)S
3532(be)S
(ignored.)399 3681 A
4145(This)S
4395(is)S
4510(used)S
4765(to)S
4893(include)S
7700 V
2683(Amoeba)S
3123(5.3)S
(309)180 5069 A
7920 V
EP
%%Page: 310 316
BP
/slant 0 def
/height 0 def
500 V
12 R
708(process)S
12 Y1
1071(3)S
12 R
1131(d)S
1211(\(L\))S
2567(Library)S
2961(Routines)S
4590(process)S
12 Y1
4953(3)S
12 R
5013(d)S
5093(\(L\))S
860 V
708(the)S
886(symbol)S
1271(table)S
1537(in)S
1661(the)S
1839(segment)S
2272(list,)S
2481(and)S
2685(for)S
2857(deleted)S
3237(segments)S
3717(in)S
(checkpoints.)607 3841 A
1036 V
708(The)S
926(members)S
1400(of)S
1531(a)S
1615(segment)S
2048(descriptor)S
2563(are:)S
1212 V
708(sd)S
12 Y1
815(3)S
12 R
875(cap)S
1212(In)S
1353(executable)S
1911(files)S
2161(and)S
2375(for)S
12 I
2557(pro)S
12 Y1
2724(3)S
12 I
(exec)216 2784 A
12 R
3010(,)S
3080(this)S
3295(specifies)S
3760(the)S
(capability)478 3948 A
4466(of)S
4607(the)S
4796(file)S
5000(to)S
5135(be)S
1352 V
1212(used)S
1464(to)S
1589(\(partially\))S
(initialize)426 2107 A
2564(the)S
2742(segment.)S
3235(In)S
3366(a)S
(checkpoint,)560 3450 A
4040(it)S
4138(specifies)S
4593(the)S
(capability)478 4771 A
1492 V
1212(of)S
1351(the)S
1537(actual)S
1866(memory)S
2308(segment;)S
2784(memory)S
3226(segments)S
3715(may)S
3962(be)S
4115(read)S
4363(using)S
12 I
4663(b)S
12 Y1
4723(3)S
12 I
4783(read)S
12 R
5053(\(see)S
1632 V
12 I
1212(bullet)S
12 R
1498(\(L\)\))S
1749(and)S
(written)345 1977 A
2376(using)S
12 I
2691(ps)S
12 Y1
2798(3)S
12 I
2858(segwrite)S
12 R
3332(\(see)S
12 I
3582(segment)S
12 R
3989(\(L\)\).)S
4300(If)S
4436(the)S
(capability)478 4637 A
5168(is)S
1772 V
1212(NULL,)S
12 I
1617(pro)S
12 Y1
1784(3)S
12 I
(exec)216 1844 A
12 R
(will)190 2121 A
(initialize)426 2362 A
2839(the)S
3038(segment)S
3492(to)S
3637(zero.)S
3957(A)S
(NULL-capability)843 4096 A
4990(in)S
5135(an)S
1912 V
1212(executable)S
1795(file)S
2023(is)S
2169(interpreted)S
2760(different)S
3243(depending)S
(upon)240 3809 A
12 I
4113(sd)S
12 Y1
4220(3)S
12 I
4280(offset)S
12 R
4617(and)S
4855(flags)S
5155(in)S
2052 V
12 I
1212(sd)S
12 Y1
1319(3)S
12 I
1379(type)S
12 R
1591(:)S
1656(it)S
1755(may)S
1994(refer)S
2256(to)S
2381(a)S
2466(portion)S
2846(of)S
2978(the)S
3157(same)S
3437(executable)S
3987(file,)S
4212(require)S
4588(zero)S
(fill)143 4829 A
5004(\(e.g.,)S
2192 V
1212(bss\),)S
1467(or)S
1598(be)S
1742(a)S
(placeholder)565 1826 A
2421(for)S
2593(the)S
2771(stack)S
3050(segment.)S
2368 V
708(sd)S
12 Y1
815(3)S
12 R
875(offset)S
1212(In)S
1347(executable)S
1899(files)S
2143(and)S
2351(for)S
12 I
2527(pro)S
12 Y1
2694(3)S
12 I
(exec)216 2754 A
12 R
2980(,)S
3044(this)S
3253(specifies)S
3713(the)S
3896(offset)S
4208(where)S
4540(the)S
(initializing)526 4723 A
2508 V
1212(data)S
1446(starts)S
1735(in)S
1861(the)S
2041(file)S
2235(specified)S
2704(by)S
12 I
2855(sd)S
12 Y1
2962(3)S
12 I
3022(cap)S
12 R
3206(.)S
3297(In)S
3429(executable)S
3978(files,)S
4249(the)S
4428(combination)S
5063(of)S
5195(a)S
2648 V
1212(NULL)S
12 I
1586(sd)S
12 Y1
1693(3)S
12 I
1753(cap)S
12 R
1987(and)S
2211(a)S
(nonzero)389 2315 A
12 I
2754(sd)S
12 Y1
2861(3)S
12 I
2921(offset)S
12 R
3244(implies)S
3651(that)S
3883(the)S
(initializing)526 4081 A
4657(data)S
4909(for)S
5101(the)S
2788 V
1212(segment)S
1650(resides)S
2022(in)S
2151(the)S
2334(executable)S
2887(file)S
3085(itself.)S
3423(This)S
3672(is)S
3787(normally)S
4258(the)S
4440(case)S
4683(for)S
4859(text)S
5075(and)S
2928 V
1212(data)S
1482(segments;)S
2034(before)S
2412(handing)S
2868(the)S
3084(process)S
3515(descriptor)S
4068(to)S
12 I
4230(pro)S
12 Y1
4397(3)S
12 I
(exec)216 4457 A
12 R
4683(,)S
4781(the)S
4998(file's)S
3068 V
(capability)478 1212 A
1720(must)S
1985(be)S
2129(stored)S
2455(in)S
12 I
2579(sd)S
12 Y1
2686(3)S
12 I
2746(cap)S
12 R
2930(.)S
3244 V
708(sd)S
12 Y1
815(3)S
12 R
875(len)S
1212(Specifies)S
1694(the)S
1879(length)S
2218(\(in)S
2390(bytes\))S
2723(of)S
2861(the)S
3046(segment.)S
3547(The)S
3773(kernel)S
4114(may)S
4360(silently)S
(round)281 4755 A
5074(this)S
3384 V
1212(up)S
1408(to)S
1578(the)S
1802(next)S
2086(page)S
2390(or)S
2567(``click'')S
(boundary.*)545 3043 A
3694(Zero-length)S
4342(segments)S
4869(are)S
5095(not)S
3524 V
(supported;)510 1212 A
1756(a)S
1844(zero)S
2086(length)S
2421(for)S
2596(the)S
2777(stack)S
3059(segment)S
3495(in)S
3622(an)S
3769(executable)S
4320(file)S
4516(indicates)S
4980(that)S
5195(a)S
3664 V
1212(default)S
1579(stack)S
1858(size)S
2077(must)S
2342(be)S
(substituted)524 2486 A
3040(by)S
12 I
(exec)216 3190 A
12 Y1
3406(3)S
12 I
(file)156 3466 A
12 R
3632(\(L\).)S
3840 V
708(sd)S
12 Y1
815(3)S
12 R
875(type)S
1212(Specifies)S
1687(various)S
2073(flags)S
2339(used)S
2590(when)S
2882(mapping)S
3334(the)S
3512(segment)S
3945(into)S
4163(an)S
4307(address)S
(space.)299 4701 A
5061(The)S
3980 V
1212(bits)S
1419(in)S
1545(this)S
(longword)463 1752 A
2247(are)S
2427(divided)S
2820(in)S
(groups)328 2945 A
3304(of)S
3436(flags;)S
3737(for)S
(each)222 3910 A
(group)281 4163 A
4475(there)S
4749(is)S
4861(a)S
4946(macro)S
4120 V
1212(that)S
1430(defines)S
1816(which)S
2148(bits)S
2359(are)S
2544(part)S
2769(of)S
2906(the)S
(group,)311 3090 A
3437(and)S
3647(macros)S
4033(specifying)S
4574(the)S
4759(individual)S
4260 V
1212(bits)S
1418(or)S
1549(possible)S
1975(values)S
2314(for)S
2486(the)S
(group)281 2664 A
2975(as)S
3106(a)S
3190(whole.)S
3576(Typical)S
3976(usage)S
4281(is)S
4392(as)S
4523(follows,)S
4947(taking)S
4400 V
1212(the)S
1390(growth)S
1763(direction)S
2224(as)S
2355(an)S
2499(example:)S
4600 V
11 C
1572(if)S
(\(\(s->sd)469 1773 A
11 Y1
2242(3)S
11 C
(type)268 2297 A
2632(&)S
(MAP)201 2766 A
11 Y1
2967(3)S
11 C
(GROWMASK\))603 3022 A
3692(==)S
(MAP)201 3893 A
11 Y1
4094(3)S
11 C
(GROWDOWN\))603 4149 A
4819({)S
4740 V
1840(/*)S
(segment)469 2041 A
(grows)335 2577 A
(down)268 2979 A
3314(*/)S
4880 V
1572(})S
5080 V
12 R
1212(The)S
1430(following)S
1931(bit)S
2089(fields)S
2389(are)S
2568(assigned:)S
5256 V
1212(MAP)S
12 Y1
1474(3)S
12 R
1534(GROWMASK)S
5396 V
1462(Specifies)S
1945(the)S
2131(growth)S
2512(direction.)S
3041(Possible)S
3482(field)S
3743(values)S
4090(are)S
12 C
(MAP)219 4278 A
12 Y1
4497(3)S
12 C
(GROWNOT)511 4557 A
12 R
5107(for)S
5536 V
1462(a)S
1559(fixed-size)S
2081(segment)S
2527(\(e.g.,)S
2815(the)S
3005(text)S
3229(and)S
3445(data)S
3689(segments\),)S
12 C
(MAP)219 4252 A
12 Y1
4471(3)S
12 C
(GROWUP)438 4531 A
12 R
5011(for)S
5195(a)S
5676 V
1462(segment)S
1954(which)S
2339(may)S
2636(grow)S
2975(up)S
3185(\(e.g.,)S
3520(the)S
3758(bss)S
4002(or)S
4193(heap)S
4511(segment\),)S
5075(and)S
5816 V
12 C
(MAP)219 1462 A
12 Y1
1681(3)S
12 C
(GROWDOWN)584 1741 A
12 R
2392(for)S
2601(a)S
2721(segment)S
3190(which)S
3552(may)S
3826(grow)S
4141(down)S
4475(\(e.g.,)S
4786(the)S
5000(stack)S
5956 V
1462(segment\).)S
6132 V
1212(MAP)S
12 Y1
1474(3)S
12 R
1534(TYPEMASK)S
6272 V
1462(Specifies)S
1947(text)S
2169(or)S
2310(data)S
2552(type.)S
2860(Possible)S
3304(field)S
3568(values)S
3918(are)S
12 C
(MAP)219 4108 A
12 Y1
4327(3)S
12 C
(TYPETEXT)584 4387 A
12 R
5012(for)S
5195(a)S
6412 V
1462(text)S
1674(segment,)S
2137(and)S
12 C
(MAP)219 2341 A
12 Y1
2560(3)S
12 C
(TYPEDATA)584 2620 A
12 R
3234(for)S
3406(a)S
3490(data)S
3722(\(or)S
3894(bss,)S
4108(or)S
4239(stack\))S
4559(segment.)S
6588 V
1212(MAP)S
12 Y1
1474(3)S
12 R
1534(PROTMASK)S
6708 V
10 Y1
708(3)S
(33333333333333)700 728 A
6828 V
10 R
708(*)S
785(So,)S
943(since)S
1177(segments)S
1578(may)S
1778(not)S
1933(overlap,)S
2287(a)S
2359(loader)S
2638(must)S
(know)223 2860 A
3110(an)S
(upper)229 3232 A
(bound)250 3488 A
3765(for)S
3910(the)S
4060(click)S
4283(size)S
4467(of)S
4578(the)S
4729(tar-)S
6948 V
708(get)S
871(kernel,)S
1188(or)S
1312(it)S
1408(may)S
1621(assign)S
1911(overlapping)S
2430(address)S
2771(ranges)S
3073(to)S
3190(segments.)S
3653(In)S
3776(practice,)S
4160(since)S
4406(we)S
4563(have)S
4792(to)S
7068 V
708(work)S
940(with)S
1144(existing)S
1487(loaders,)S
1828(this)S
(places)252 1998 A
2275(an)S
(upper)229 2395 A
(bound)250 2649 A
2924(on)S
3049(the)S
3197(click)S
3418(size.)S
7700 V
12 R
(310)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 311 317
BP
/slant 0 def
/height 0 def
500 V
12 R
708(process)S
12 Y1
1071(3)S
12 R
1131(d)S
1211(\(L\))S
2567(Library)S
2961(Routines)S
4590(process)S
12 Y1
4953(3)S
12 R
5013(d)S
5093(\(L\))S
860 V
1462(Specifies)S
1951(protection.)S
2546(Possible)S
2993(field)S
3260(values)S
3613(are)S
12 C
(MAP)219 3806 A
12 Y1
4025(3)S
12 C
(READONLY)584 4085 A
12 R
4713(for)S
4900(a)S
4999(read-)S
1000 V
1462(only)S
1706(segment,)S
2169(and)S
12 C
(MAP)219 2373 A
12 Y1
2592(3)S
12 C
(READWRITE)657 2652 A
12 R
3339(for)S
3511(a)S
3595(readable)S
4036(and)S
4240(writable)S
4669(segment.)S
1176 V
1212(MAP)S
12 Y1
1474(3)S
12 R
1534(SPECIAL)S
1316 V
1462(Specifies)S
1950(special)S
2330(hacks.)S
2708(Possible)S
3154(field)S
3420(values)S
3772(are)S
12 C
(MAP)219 3964 A
12 Y1
4183(3)S
12 C
(INPLACE)511 4243 A
12 R
4754(,)S
4828(which)S
5168(is)S
1456 V
1462(used)S
1726(to)S
1863(map)S
2114(segments)S
2607(that)S
2832(have)S
3102(a)S
3198(special)S
3577(meaning)S
4035(to)S
4171(the)S
4361(hardware,)S
4885(such)S
5148(as)S
1596 V
1462(frame)S
1813(buffers)S
2224(for)S
2433(bit-mapped)S
3051(displays,)S
3544(and)S
12 C
(MAP)219 3786 A
12 Y1
4005(3)S
12 C
(AND)219 4065 A
12 Y1
4284(3)S
12 C
(DESTROY)511 4344 A
12 R
4855(,)S
4953(which)S
1736 V
1462(requests)S
1897(that)S
2117(the)S
2303(original)S
2718(segment)S
3159(be)S
3311(destroyed)S
(\(through)416 3819 A
12 I
4273(std)S
12 Y1
4414(3)S
12 I
4474(destroy)S
12 R
4840(\))S
4919(after)S
5181(it)S
1876 V
1462(is)S
1573(copied)S
1925(into)S
2143(the)S
2321(new)S
2553(segment.)S
2052 V
1212(MAP)S
12 Y1
1474(3)S
12 R
1534(BINARY)S
2192 V
1462(Specifies)S
1977(flags)S
2283(used)S
2574(only)S
2858(in)S
3022(executable)S
3611(files.)S
3952(Possible)S
4426(field)S
4720(values)S
5100(are)S
2332 V
12 C
(MAP)219 1462 A
12 Y1
1681(3)S
12 C
(SYSTEM)438 1741 A
12 R
2179(,)S
2253(which)S
2593(is)S
2718(used)S
2983(to)S
3121(indicate)S
3548(the)S
3739(stack)S
4031(segment)S
4477(\(which)S
4857(must)S
5135(be)S
2472 V
(initialized)486 1462 A
1995(with)S
2258(arguments)S
2809(and)S
3030(environments\),)S
3807(and)S
12 C
(MAP)219 4029 A
12 Y1
4248(3)S
12 C
(SYMTAB)438 4308 A
12 R
4746(,)S
4824(which)S
5168(is)S
2612 V
1462(used)S
1713(to)S
1837(indicate)S
2251(the)S
2429(symbol)S
2814(table)S
3080(\(not)S
3305(to)S
3429(be)S
3573(mapped)S
3985(at)S
4103(all\).)S
2928 V
12 I
708(Thread)S
1086(Descriptors)S
3164 V
11 C
(typedef)469 1068 A
(struct)402 1604 A
2073({)S
3304 V
(long)268 1604 A
2676(td)S
11 Y1
2810(3)S
11 C
(state;)402 2865 A
3444 V
(long)268 1604 A
2676(td)S
11 Y1
2810(3)S
11 C
(len;)268 2865 A
3584 V
(long)268 1604 A
2676(td)S
11 Y1
2810(3)S
11 C
(extra;)402 2865 A
3724 V
1068(})S
(thread)402 1202 A
11 Y1
1604(3)S
11 C
1659(d;)S
4004 V
(typedef)469 1068 A
(struct)402 1604 A
2073({)S
4144 V
(long)268 1604 A
(tdi)201 2676 A
11 Y1
2877(3)S
11 C
(pc;)201 2932 A
4284 V
(long)268 1604 A
(tdi)201 2676 A
11 Y1
2877(3)S
11 C
(sp;)201 2932 A
4424 V
1068(})S
(thread)402 1202 A
11 Y1
1604(3)S
11 C
(idle;)335 1659 A
4624 V
12 R
708(A)S
856(thread)S
1219(descriptor)S
1765(is)S
1907(a)S
2022(variable-length)S
2817(object.)S
3234(Most)S
3543(of)S
3705(a)S
3820(thread)S
4184(descriptor)S
4730(is)S
4872(system-)S
4764 V
708(dependent)S
1248(or)S
1393(architecture-dependent.)S
2608(The)S
2840(simplest)S
3288(form,)S
3598(sufficient)S
4101(to)S
4239(create)S
4574(a)S
4671(new)S
4916(thread,)S
4904 V
708(only)S
969(specifies)S
1441(an)S
(initial)284 1603 A
1935(program)S
(counter)363 2393 A
2804(and)S
3026(stack)S
3323(pointer.)S
3774(Thread)S
4165(descriptors)S
4745(describing)S
5044 V
708(threads)S
1105(that)S
1334(have)S
1609(been)S
(running)375 1884 A
2306(contain)S
2709(more)S
3005(information,)S
3654(such)S
3922(as)S
4070(the)S
4265(full)S
4481(register)S
4893(set)S
5075(and)S
5184 V
708(some)S
1004(kernel)S
1348(state.)S
1672(Such)S
1955(thread)S
2300(descriptors)S
2874(may)S
3124(be)S
3280(passed)S
3644(to)S
12 I
3780(pro)S
12 Y1
3947(3)S
12 I
(exec)216 4007 A
12 R
4233(;)S
4309(this)S
4526(can)S
4736(be)S
4892(used)S
5155(to)S
5324 V
708(migrate)S
(running)375 1109 A
1514(processes.)S
5500 V
708(The)S
926(first)S
1153(thread)S
1486(descriptor)S
2001(is)S
(accessed)424 2112 A
(through)375 2566 A
2971(the)S
12 C
3149(PD)S
12 Y1
3295(3)S
12 C
3355(TD)S
12 R
3531(macro:)S
3898(if)S
12 I
4004(p)S
12 R
4105(is)S
4217(a)S
4302(pointer)S
4676(to)S
4801(a)S
4886(process)S
5640 V
708(descriptor,)S
1279(then)S
1543(the)S
1746(expression)S
12 C
2318(PD)S
12 Y1
2464(3)S
12 C
(TD\(p\))365 2524 A
12 R
2944(points)S
3294(to)S
3443(its)S
3613(first)S
3865(thread)S
4223(descriptor.)S
4823(If)S
12 I
4960(t)S
12 R
5059(is)S
5195(a)S
5780 V
708(pointer)S
1102(to)S
1247(a)S
1352(thread)S
1706(descriptor,)S
2272(then)S
2531(the)S
2730(expression)S
12 C
3298(TD)S
12 Y1
3444(3)S
12 C
(NEXT\(t\))511 3504 A
12 R
4066(is)S
4198(a)S
4303(pointer)S
4697(to)S
4842(the)S
5041(next)S
5920 V
708(thread)S
1045(descriptor;)S
1598(if)S
12 I
1707(t)S
12 R
1785(is)S
1900(the)S
2082(last)S
2284(thread)S
2620(descriptor,)S
12 C
3168(TD)S
12 Y1
3314(3)S
12 C
(NEXT\(t\))511 3374 A
12 R
3918(points)S
4246(to)S
4373(the)S
4554(first)S
4784(byte)S
5025(after)S
6060 V
708(the)S
886(list)S
1065(of)S
1196(thread)S
1529(descriptors.)S
6236 V
708(The)S
12 I
926(thread)S
12 Y1
1241(3)S
12 I
1301(d)S
12 R
1401(structure)S
1856(only)S
2100(describes)S
2581(the)S
2759(first)S
2986(few)S
3199(bytes.)S
3544(Its)S
3696(members)S
4170(are:)S
6412 V
708(td)S
12 Y1
802(3)S
12 R
862(state)S
1248(Contains)S
1730(kernel)S
2087(internal)S
2512(state)S
2789(flags)S
3079(for)S
3275(the)S
3477(thread.)S
3894(Set)S
4103(this)S
4332(to)S
4480(zero)S
4743(for)S
4939(a)S
5047(new)S
6552 V
1248(process.)S
6728 V
708(td)S
12 Y1
802(3)S
12 R
862(len)S
1248(Specifies)S
1723(the)S
1901(total)S
2147(length)S
2479(of)S
2611(this)S
2817(thread)S
3151(descriptor,)S
3697(in)S
3822(bytes,)S
4138(including)S
4625(the)S
12 I
4804(thread)S
12 Y1
5119(3)S
12 I
5179(d)S
6868 V
12 R
1248(structure.)S
1763(For)S
1961(a)S
2045(new)S
2277(process,)S
2700(this)S
(should)321 2905 A
3256(be)S
3400(set)S
3565(to)S
7068 V
11 C
(sizeof\(struct)871 1518 A
(thread)402 2456 A
11 Y1
2858(3)S
11 C
2913(d\))S
3114(+)S
(sizeof\(struct)871 3248 A
(thread)402 4186 A
11 Y1
4588(3)S
11 C
(idle\))335 4643 A
7304 V
12 R
708(td)S
12 Y1
802(3)S
12 R
862(extra)S
1248(A)S
1390(bit)S
1572(vector)S
1930(specifying)S
2489(which)S
2840(other,)S
3174(system-dependent)S
4102(structures)S
4629(follow.)S
5061(The)S
7700 V
2683(Amoeba)S
3123(5.3)S
(311)180 5069 A
7920 V
EP
%%Page: 312 318
BP
/slant 0 def
/height 0 def
500 V
12 R
708(process)S
12 Y1
1071(3)S
12 R
1131(d)S
1211(\(L\))S
2567(Library)S
2961(Routines)S
4590(process)S
12 Y1
4953(3)S
12 R
5013(d)S
5093(\(L\))S
860 V
1248(order)S
1541(in)S
1672(which)S
(multiple)404 2005 A
2446(structures)S
2955(occur)S
3261(is)S
3379(the)S
3564(same)S
3850(as)S
3988(the)S
4172(order)S
4464(in)S
4594(the)S
4778(following)S
1000 V
1248(list.)S
1487(Some)S
1792(interesting)S
2334(bits)S
2539(are:)S
1176 V
1248(TDX)S
12 Y1
1498(3)S
12 R
1558(IDLE)S
2148(A)S
12 I
2334(struct)S
2708(thread)S
12 Y1
3023(3)S
12 I
3083(idle)S
12 R
3373(follows.)S
3895(Its)S
4116(members)S
4659(are)S
12 I
4907(tdi)S
12 Y1
5035(3)S
12 I
5095(pc)S
12 R
5219(,)S
1316 V
2148(specifying)S
2702(the)S
(initial)284 2900 A
3234(program)S
(counter,)393 3694 A
4137(and)S
12 I
4361(tdi)S
12 Y1
4489(3)S
12 I
4549(sp)S
12 R
4666(,)S
4745(specifying)S
1456 V
2148(the)S
(initial)284 2335 A
2659(stack)S
2948(pointer.)S
3391(This)S
3646(is)S
3767(the)S
3955(only)S
4209(bit)S
4377(that)S
(should)321 4599 A
4960(be)S
5114(set)S
1596 V
2148(for)S
2320(a)S
2404(new)S
2636(process.)S
1772 V
1248(TDX)S
12 Y1
1498(3)S
12 R
1558(KSTATE)S
2148(A)S
12 I
2320(struct)S
2681(thread)S
12 Y1
2996(3)S
12 I
3056(kstate)S
12 R
3434(follows.)S
3943(Its)S
4150(contents)S
4638(are)S
4872(system-)S
1912 V
2148(dependent.)S
2088 V
1248(TDX)S
12 Y1
1498(3)S
12 R
1558(USTATE)S
2148(A)S
12 I
2286(struct)S
2612(thread)S
12 Y1
2927(3)S
12 I
2987(ustate)S
12 R
3336(follows.)S
3810(Its)S
3982(contents)S
4435(are)S
4634(architecture-)S
2228 V
2148(dependent.)S
2544 V
12 I
(Access)330 708 A
1068(Functions)S
2860 V
708(pd)S
12 Y1
828(3)S
12 I
888(size)S
3096 V
11 C
(int)201 1068 A
3236 V
1068(pd)S
11 Y1
1202(3)S
11 C
(size\(pd\))536 1257 A
3376 V
(process)469 1068 A
11 Y1
1537(3)S
11 C
1592(d)S
(*pd;)268 1726 A
3576 V
12 R
708(Computes)S
1229(the)S
1409(size)S
1630(of)S
1763(a)S
1849(process)S
2244(descriptor)S
2761(in)S
2887(bytes.)S
3234(This)S
3481(may)S
3721(be)S
3867(useful)S
4195(to)S
4321(allocate)S
4731(a)S
4818(buffer)S
5148(of)S
3716 V
708(sufficient)S
1201(size)S
1424(to)S
(copy)234 1552 A
1820(a)S
1908(process)S
2305(descriptor)S
2824(into.)S
3105(The)S
3326(size)S
3548(depends)S
3976(on)S
4129(the)S
4310(number)S
4712(of)S
4846(segment)S
3856 V
708(descriptors)S
1270(and)S
1474(the)S
1652(number)S
2051(and)S
2255(size)S
2474(of)S
2605(thread)S
2938(descriptors.)S
4172 V
12 I
708(pd)S
12 Y1
828(3)S
12 I
888(arch)S
4408 V
11 C
(char)268 1068 A
1403(*)S
4548 V
1068(pd)S
11 Y1
1202(3)S
11 C
(arch\(pd\))536 1257 A
4688 V
(process)469 1068 A
11 Y1
1537(3)S
11 C
1592(d)S
(*pd;)268 1726 A
4888 V
12 R
708(Returns)S
1132(the)S
1328(architecture)S
1950(string)S
2275(of)S
2425(a)S
2528(process)S
2940(descriptor.)S
3534(This)S
3798(is)S
3928(a)S
4031(pointer)S
4423(to)S
4566(the)S
12 I
4763(pd)S
12 Y1
4883(3)S
12 I
4943(magic)S
5028 V
12 R
708(member;)S
1169(the)S
1347(function)S
1780(is)S
1891(provided)S
2350(only)S
2594(for)S
2766(backward)S
(compatibility.)676 3267 A
5344 V
12 I
708(Packing)S
(and)180 1134 A
(Unpacking)530 1344 A
1904(Process)S
2317(Descriptors)S
5520 V
12 R
708(When)S
1026(a)S
1110(process)S
1503(descriptor)S
2018(is)S
(written)345 2129 A
2504(to)S
2628(a)S
2712(file)S
2905(or)S
3036(sent)S
3261(over)S
3506(the)S
3684(network,)S
4141(it)S
4239(must)S
4504(be)S
(converted)477 4648 A
5155(to)S
5660 V
708(a)S
823(standard)S
1294(byte)S
1563(order,)S
1910(and)S
2145(vice)S
2408(versa.)S
2785(The)S
3034(following)S
3566(three)S
3870(functions)S
4381(are)S
4591(used)S
4872(for)S
5074(this)S
5800 V
708(purpose.)S
1192(Note)S
1470(that)S
1694(other)S
1985(functions)S
2477(in)S
2614(the)S
2805(library)S
3172(with)S
3431(process)S
3837(descriptor)S
4365(arguments)S
4912(always)S
5940 V
708(expect)S
1073(or)S
1223(return)S
1562(the)S
1759(argument)S
2264(in)S
2406(the)S
2602(machine's)S
3148(native)S
3492(byte)S
3748(order,)S
4082(except)S
4446(where)S
(explicitly)458 4791 A
6080 V
708(specified)S
1176(otherwise.)S
6396 V
12 I
708(buf)S
12 Y1
862(3)S
12 I
922(put)S
12 Y1
1076(3)S
12 I
1136(pd)S
6632 V
11 C
(char)268 1068 A
1403(*)S
6772 V
(buf)201 1068 A
11 Y1
1269(3)S
11 C
(put)201 1324 A
11 Y1
1525(3)S
11 C
(pd\(buf,)469 1580 A
(bufend,)469 2116 A
(pd\))201 2652 A
6912 V
(char)268 1068 A
(*buf;)335 1403 A
7052 V
(char)268 1068 A
(*bufend;)536 1403 A
7192 V
(process)469 1068 A
11 Y1
1537(3)S
11 C
1592(d)S
(*pd;)268 1726 A
7700 V
12 R
(312)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 313 319
BP
/slant 0 def
/height 0 def
500 V
12 R
708(process)S
12 Y1
1071(3)S
12 R
1131(d)S
1211(\(L\))S
2567(Library)S
2961(Routines)S
4590(process)S
12 Y1
4953(3)S
12 R
5013(d)S
5093(\(L\))S
860 V
(Converts)436 708 A
1185(the)S
1374(process)S
1778(descriptor)S
2304(pointed)S
2707(at)S
2836(by)S
12 I
2997(pd)S
12 R
3168(to)S
3303(standard)S
3754(byte)S
4003(order,)S
(copying)388 4331 A
4761(it)S
4871(into)S
5101(the)S
1000 V
708(buffer)S
1047(starting)S
1453(at)S
12 I
1583(buf)S
12 R
1789(and)S
2005(ending)S
2375(at)S
12 I
2505(bufend)S
12 R
2843(.)S
2945(The)S
3175(entire)S
3494(process)S
3899(descriptor)S
4425(is)S
(converted,)507 4547 A
5095(not)S
1140 V
708(just)S
952(its)S
12 I
1136(process)S
12 Y1
1505(3)S
12 I
1565(d)S
12 R
1704(part,)S
1992(with)S
2278(the)S
2496(exception)S
3036(that)S
3288(architecture-dependent)S
4469(parts)S
4775(of)S
4946(thread)S
1280 V
708(descriptors)S
1274(are)S
1457(copied)S
1813(as)S
1948(byte)S
2190(sequences)S
(without)370 2714 A
3118(interpretation.)S
3865(It)S
3973(returns)S
4343(a)S
4430(pointer)S
4806(\(pointing)S
1420 V
708(into)S
952(the)S
1156(buffer\))S
1550(to)S
1700(the)S
1904(first)S
2157(byte)S
2421(after)S
2701(the)S
(converted)477 2905 A
3438(process)S
3858(descriptor,)S
4430(or)S
4588(NULL)S
4969(if)S
5101(the)S
1560 V
(conversion)530 708 A
1301(failed.)S
1701(Failure)S
2108(can)S
2339(be)S
2516(caused)S
2908(by)S
3091(insufficient)S
(space)269 3707 A
4039(in)S
4196(the)S
4407(buffer)S
4767(or)S
4930(an)S
(ill-)143 5106 A
1700 V
708(formatted)S
1210(process)S
1603(descriptor.)S
2016 V
12 I
708(buf)S
12 Y1
862(3)S
12 I
922(get)S
12 Y1
1070(3)S
12 I
1130(pd)S
2252 V
11 C
(char)268 1068 A
1403(*)S
2392 V
(buf)201 1068 A
11 Y1
1269(3)S
11 C
(get)201 1324 A
11 Y1
1525(3)S
11 C
(pd\(buf,)469 1580 A
(bufend,)469 2116 A
(pd\))201 2652 A
2532 V
(char)268 1068 A
(*buf;)335 1403 A
2672 V
(char)268 1068 A
(*bufend;)536 1403 A
2812 V
(process)469 1068 A
11 Y1
1537(3)S
11 C
1592(d)S
(*pd;)268 1726 A
3012 V
12 R
(Converts)436 708 A
1178(the)S
1360(buffer)S
1691(starting)S
2089(at)S
12 I
2211(buf)S
12 R
2410(and)S
2619(ending)S
2982(at)S
12 I
3105(bufend)S
12 R
3478(from)S
3749(standard)S
4194(byte)S
4437(order,)S
(copying)388 4758 A
5181(it)S
3152 V
708(into)S
957(the)S
1166(process)S
1590(descriptor)S
2136(pointed)S
2558(at)S
2706(by)S
12 I
2886(pd)S
12 R
3076(\(which)S
3473(is)S
3614(normally)S
4111(allocated)S
4609(by)S
12 I
4789(pdmalloc)S
3292 V
12 R
708(below\).)S
1152(It)S
1274(returns)S
1658(a)S
1759(pointer)S
2149(\(pointing)S
2639(into)S
2874(the)S
3069(buffer\))S
3454(to)S
3595(the)S
3791(first)S
4036(byte)S
4292(after)S
4564(the)S
4760(consumed)S
3432 V
(input,)278 708 A
1049(or)S
1213(NULL)S
1600(if)S
1738(the)S
(conversion)530 1949 A
2542(failed.)S
2942(Failure)S
3349(can)S
3579(be)S
3755(caused)S
4146(by)S
4328(insufficient)S
4943(or)S
(ill-)143 5106 A
3572 V
708(formatted)S
1210(data)S
1442(in)S
1566(the)S
1744(buffer.)S
3888 V
12 I
708(pdmalloc)S
4124 V
11 C
(process)469 1068 A
11 Y1
1537(3)S
11 C
1592(d)S
1726(*)S
4264 V
(pdmalloc\(buf,)871 1068 A
(bufend\))469 2006 A
4404 V
(char)268 1068 A
(*buf;)335 1403 A
4544 V
(char)268 1068 A
(*bufend;)536 1403 A
4744 V
12 R
708(Returns)S
1123(a)S
1216(pointer)S
1598(to)S
1731(storage)S
2120(allocated)S
2597(with)S
12 I
2852(malloc)S
12 R
3192(\(L\),)S
3417(cast)S
3645(to)S
12 I
3778(\(process)S
12 Y1
4188(3)S
12 I
4248(d)S
4347(*\))S
12 R
4458(.)S
4557(It)S
4671(inspects)S
5101(the)S
4884 V
708(data)S
947(in)S
1078(the)S
1263(buffer)S
1597(\(which)S
(should)321 1971 A
2329(be)S
2480(a)S
2571(process)S
2971(descriptor)S
3493(in)S
3623(standard)S
4069(byte)S
4313(order)S
4605(as)S
4742(created)S
5129(by)S
5024 V
12 I
708(buf)S
12 Y1
862(3)S
12 I
922(put)S
12 Y1
1076(3)S
12 I
1136(pd)S
12 R
1266(\))S
1338(to)S
1463(estimate)S
1899(an)S
(upper)275 2044 A
(bound)300 2350 A
2681(for)S
2854(the)S
3033(number)S
3433(of)S
3566(bytes)S
3853(to)S
3979(allocate.)S
4449(It)S
4556(returns)S
4925(NULL)S
5164 V
708(if)S
824(the)S
1013(buffer)S
1351(contains)S
(ill-formatted)615 1795 A
2451(data)S
2694(or)S
2836(if)S
2952(not)S
(enough)354 3146 A
3540(memory)S
3983(was)S
4212(available.)S
4750(The)S
4978(caller)S
5304 V
(should)321 708 A
1059(free)S
1279(the)S
1457(allocated)S
1925(storage)S
2305(after)S
2559(using)S
2850(it,)S
2978(using)S
12 I
3269(free)S
12 R
3498(\(see)S
12 I
3724(malloc)S
12 R
4064(\(L\)\).)S
5620 V
12 I
708(Warnings)S
5796 V
12 R
708(The)S
933(structures)S
1442(defined)S
1842(here)S
2089(may)S
2335(be)S
2487(changed)S
2927(or)S
3066(extended)S
3540(later.)S
3855(Only)S
4135(the)S
4321(name)S
4621(and)S
4833(meaning)S
5936 V
708(of)S
844(the)S
1027(members)S
1506(described)S
2005(here)S
(should)321 2249 A
2605(be)S
2754(trusted;)S
3153(their)S
3411(exact)S
3701(type)S
3943(and)S
4151(relative)S
(position)389 4550 A
4973(in)S
5101(the)S
6076 V
708(structure)S
1177(are)S
1370(subject)S
1757(to)S
1895(change.)S
2341(This)S
2600(implies)S
3001(that)S
3227(it)S
3339(is)S
3464(not)S
3663(portable)S
4105(to)S
4244(use)S
(initializers)514 4450 A
5009(or)S
5155(to)S
6216 V
708(take)S
946(the)S
1130(address)S
1529(of)S
1666(a)S
1756(member.)S
(Initializing)533 2249 A
2818(a)S
2908(structure)S
3369(to)S
3499(zero)S
3744(and)S
3954(then)S
(filling)297 4198 A
4530(in)S
4659(documented)S
6356 V
708(members)S
(will)190 1182 A
1402(be)S
1546(portable.)S
6636 V
12 B
708(Examples)S
6812 V
12 R
708(To)S
872(walk)S
(through)375 1138 A
1543(the)S
1721(list)S
1900(of)S
2031(segment)S
2464(descriptors)S
3026(of)S
3157(a)S
3241(process)S
3634(descriptor)S
12 I
4149(p)S
12 R
4219(:)S
7700 V
2683(Amoeba)S
3123(5.3)S
(313)180 5069 A
7920 V
EP
%%Page: 314 320
BP
/slant 0 def
/height 0 def
500 V
12 R
708(process)S
12 Y1
1071(3)S
12 R
1131(d)S
1211(\(L\))S
2567(Library)S
2961(Routines)S
4590(process)S
12 Y1
4953(3)S
12 R
5013(d)S
5093(\(L\))S
920 V
11 C
(segment)469 1068 A
11 Y1
1537(3)S
11 C
1592(d)S
(*s;)201 1726 A
1060 V
(int)201 1068 A
1336(i;)S
1200 V
(for)201 1068 A
1336(\(i)S
1537(=)S
1671(0;)S
1872(i)S
2006(<)S
(p->pd)335 2140 A
11 Y1
2475(3)S
11 C
(nseg;)335 2530 A
(++i\))268 2932 A
3267({)S
1340 V
1336(s)S
1470(=)S
(&PD)201 1604 A
11 Y1
1805(3)S
11 C
(SD\(p\)[i];)603 1860 A
1480 V
1336(/*)S
(Here)268 1537 A
1872(s)S
(points)402 2006 A
2475(to)S
(segment)469 2676 A
(descriptor)670 3212 A
(number)402 3949 A
4418(i)S
4552(*/)S
1620 V
1068(})S
1856 V
12 R
708(To)S
872(walk)S
(through)375 1138 A
1543(the)S
1721(list)S
1900(of)S
2031(thread)S
2364(descriptors)S
2926(of)S
3057(a)S
3141(process)S
3534(descriptor)S
12 I
4049(p)S
12 R
4119(:)S
2056 V
11 C
(thread)402 1068 A
11 Y1
1470(3)S
11 C
1525(d)S
(*t;)201 1659 A
2196 V
(int)201 1068 A
1336(i;)S
2336 V
1068(t)S
1202(=)S
1336(PD)S
11 Y1
1470(3)S
11 C
(TD\(p\);)402 1525 A
2476 V
(for)201 1068 A
1336(\(i)S
1537(=)S
1671(0;)S
1872(i)S
2006(<)S
(p->pd)335 2140 A
11 Y1
2475(3)S
11 C
(nthread;)536 2530 A
(++i\))268 3133 A
3468({)S
2616 V
1336(/*)S
(Here)268 1537 A
1872(t)S
(points)402 2006 A
2475(to)S
(thread)402 2676 A
(descriptor)670 3145 A
(number)402 3882 A
4351(i)S
4485(*/)S
2756 V
1336(t)S
1470(=)S
1604(TD)S
11 Y1
1738(3)S
11 C
(NEXT\(t\);)536 1793 A
2896 V
1068(})S
3236 V
12 B
708(See)S
913(Also)S
3412 V
12 R
708(bullet\(L\),)S
1200(exec)S
12 Y1
1422(3)S
12 R
1482(file\(L\),)S
1861(malloc\(L\),)S
2407(pd)S
12 Y1
2527(3)S
12 R
2587(read\(L\),)S
3012(process\(L\),)S
3591(segment\(L\).)S
7700 V
(314)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 315 321
BP
/slant 0 def
/height 0 def
500 V
12 R
(profiling)424 708 A
1152(\(L\))S
2567(Library)S
2961(Routines)S
(profiling)424 4649 A
5093(\(L\))S
860 V
2350(\(in)S
2515(libraries:)S
2978(libamoeba.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
(profiling)424 708 A
12 R-1
1162(-)S
12 R
1290(find)S
1515(performance)S
(bottlenecks)551 2158 A
2739(in)S
2863(Amoeba)S
3303(C)S
3413(programs)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(void)268 708 A
(procentry\(func\))1005 1292 A
2042 V
(void)268 708 A
(procexit\(func\))938 1292 A
2182 V
(void)268 708 A
(prof)268 1292 A
11 Y1
1560(3)S
11 C
(dump\(fp\))536 1615 A
2522 V
12 B
708(Description)S
2698 V
12 R
708(The)S
12 I
(profiling)423 932 A
12 R
(module)362 1401 A
1799(provides)S
2251(a)S
(method)362 2341 A
2739(of)S
2876(finding)S
3262(performance)S
(bottlenecks)551 3912 A
4500(in)S
4631(a)S
4722(C)S
4839(program)S
2838 V
708(that)S
924(runs)S
(under)275 1166 A
1475(Amoeba.)S
1979(It)S
2088(currently)S
2560(only)S
2808(works)S
3138(in)S
3266(conjunction)S
3870(with)S
4119(the)S
4300(ACK)S
4589(compiler)S
5053(\(see)S
2978 V
12 I
708(ack)S
12 R
886(\(U\)\).)S
1208(The)S
1447(program)S
1908(to)S
2053(be)S
2218(profiled)S
(should)321 2653 A
3025(be)S
3190(compiled)S
3691(using)S
4003(the)S
12 B-1
4202(-)S
12 B
4270(p)S
12 R
4388(option)S
4748(of)S
12 I
4901(ack)S
12 R
5079(\(U\))S
3118 V
708(\(which)S
1087(is)S
1210(linked)S
1554(to)S
12 I
1689(cc)S
12 R
(under)275 1848 A
2164(Amoeba\).)S
2716(The)S
2945(functions)S
3436(are)S
3626(not)S
3821(normally)S
(explicitly)458 4299 A
4798(called)S
5129(by)S
3258 V
708(the)S
905(programmer.)S
1613(They)S
1910(are)S
2108(compiled)S
2607(in)S
2750(at)S
2887(the)S
3084(appropriate)S
(places)303 3686 A
4039(by)S
4209(the)S
12 B-1
4407(-)S
12 B
4475(p)S
12 R
4592(option)S
4950(of)S
5101(the)S
3398 V
708(compiler.)S
1255(The)S
1499(one)S
1729(exception)S
2255(is)S
12 I
2392(prof)S
12 Y1
2593(3)S
12 I
2653(dump)S
12 R
2987(which)S
3339(may)S
3602(be)S
3771(called)S
4116(by)S
4291(the)S
4494(programmer)S
5148(as)S
3538 V
708(described)S
1202(below.)S
3714 V
708(There)S
1021(are)S
1200(two)S
1412(ways)S
1691(to)S
1815(obtain)S
(profiling)424 2147 A
2601(information:)S
3890 V
708(The)S
933(first)S
1168(is)S
1287(to)S
1419(simply)S
1786(link)S
2012(the)S
2198(program)S
2646(with)S
2900(the)S
3086(standard)S
3534(version)S
3928(of)S
12 I
4067(libamoeba.a)S
12 R
4677(.)S
4775(To)S
4947(obtain)S
4030 V
708(statistics)S
1173(from)S
1455(such)S
1722(a)S
1822(program)S
2277(it)S
2390(is)S
(necessary)471 2516 A
3032(to)S
3171(add)S
3390(a)S
3489(call)S
3710(to)S
3849(the)S
4042(function)S
12 I
4490(prof)S
12 Y1
4691(3)S
12 I
4751(dump)S
12 R
5074(just)S
4170 V
708(before)S
1048(the)S
1226(program)S
1666(exits,)S
1955(or)S
2086(where)S
2413(the)S
2591(summary)S
3071(of)S
3202(statistics)S
3651(is)S
3762(desired.)S
4202(Note)S
4468(that)S
4680(no)S
4830(statistics)S
4310 V
(about)268 708 A
1006(calls)S
1259(to)S
1383(library)S
1737(routines)S
(will)190 2157 A
2377(be)S
2521(reported)S
2955(in)S
3079(this)S
3284(case.)S
4486 V
708(The)S
(second)335 935 A
1309(is)S
1429(to)S
1562(link)S
1789(the)S
1976(program)S
2425(with)S
2681(a)S
2775(specially)S
3246(compiled)S
3736(version)S
4132(of)S
12 I
4273(libamoeba.a)S
12 R
4883(,)S
4953(which)S
4626 V
708(has)S
912(been)S
1183(compiled)S
1676(with)S
(profiling)424 1934 A
2400(on.)S
2622(When)S
2952(the)S
3142(program)S
3594(runs)S
3844(it)S
3954(collects)S
4367(information)S
(about)268 4981 A
4766 V
708(almost)S
1067(all)S
1225(the)S
1409(function)S
1848(calls)S
2107(made)S
2405(and)S
2615(when)S
2913(the)S
3097(program)S
3543(exits)S
3808(it)S
3913(prints)S
4226(a)S
4317(summary)S
4804(of)S
4942(all)S
5101(the)S
4906 V
708(statistics.)S
1235(Calls)S
1532(to)S
1674(assembly)S
2172(code)S
2448(routines)S
2886(and)S
3108(a)S
3210(very)S
3473(small)S
3784(number)S
4200(of)S
4348(special)S
4732(C)S
4859(routines)S
5046 V
708(\(namely)S
1135(those)S
1420(used)S
1671(by)S
12 I
1821(procentry)S
12 R
2331(and)S
12 I
(procexit\))438 2535 A
12 R
3013(are)S
3192(not)S
3376(reported)S
3810(in)S
3934(the)S
4112(statistics.)S
5222 V
708(The)S
(profiling)424 930 A
1388(version)S
1779(of)S
12 I
1915(libamoeba.a)S
12 R
2560(can)S
2763(be)S
2912(made)S
3209(by)S
3364(adding)S
3727(the)S
12 C
(-DPROFILING)803 3910 A
12 R
4748(flag)S
4972(to)S
5101(the)S
5362 V
12 C
(DEFINES)511 708 A
12 R
1257(in)S
1389(the)S
12 I
(Amakefile)486 1575 A
12 R
2109(for)S
12 I
2289(libamoeba.a)S
12 R
2937(and)S
3149(then)S
3395(remaking)S
3890(the)S
4075(library.)S
4496(This)S
4748(causes)S
5101(the)S
5502 V
708(entire)S
1015(library)S
1369(to)S
1493(be)S
1637(compiled)S
2117(with)S
2363(the)S
12 B-1
2541(-)S
12 B
2609(p)S
12 R
2706(option.)S
3104(System)S
3491(administrators)S
4216(may)S
4455(prefer)S
4777(to)S
4902(make)S
5195(a)S
5642 V
708(separate)S
1159(directory)S
1650(next)S
1911(to)S
12 I
2058(lib/amoeba)S
12 R
2664(in)S
2810(the)S
3010(configuration)S
3714(tree,)S
(copy)234 3979 A
4265(the)S
12 I
(Amakefile)486 4465 A
12 R
5013(from)S
5782 V
12 I
708(lib/amoeba)S
12 R
1292(to)S
1416(it)S
1514(and)S
1718(build)S
1996(the)S
(profiling)424 2174 A
2628(version)S
3014(there.)S
5958 V
708(If)S
827(it)S
932(is)S
1050(desired)S
1437(to)S
1568(profile)S
1929(libraries)S
2365(other)S
2651(than)S
12 I
2896(libamoeba.a)S
12 R
3543(then)S
3788(they)S
(should)321 4034 A
4393(be)S
4545(compiled)S
5033(with)S
6098 V
708(the)S
12 B-1
886(-)S
12 B
954(p)S
12 R
1051(flag.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(315)180 5069 A
7920 V
EP
%%Page: 316 322
BP
/slant 0 def
/height 0 def
500 V
12 R
(profiling)424 708 A
1152(\(L\))S
2567(Library)S
2961(Routines)S
(profiling)424 4649 A
5093(\(L\))S
860 V
12 I
708(Functions)S
1212 V
708(procentry,)S
(procexit)397 1238 A
1448 V
11 C
(void)268 1068 A
1588 V
(procentry\(func\))1005 1068 A
1728 V
(char)268 1068 A
1403(*)S
(func;)335 1537 A
1988 V
(void)268 1068 A
2128 V
(procexit\(func\))938 1068 A
2268 V
(char)268 1068 A
1403(*)S
(func;)335 1537 A
2468 V
12 R
708(A)S
832(call)S
1044(to)S
1174(these)S
1459(function)S
1898(is)S
2015(added)S
2339(by)S
2495(the)S
2679(compiler)S
3146(at)S
3270(the)S
3454(start)S
3700(and)S
3910(end)S
4120(respectively,)S
4772(of)S
(each)222 4910 A
5169(C)S
2608 V
708(function)S
1160(call.)S
1445(They)S
1742(are)S
1940(given)S
2257(as)S
2407(argument)S
2913(the)S
3110(name)S
3420(of)S
3569(the)S
3765(function)S
4216(from)S
4500(which)S
4844(they)S
5100(are)S
2748 V
708(called.)S
1088(The)S
1306(programmer)S
1935(can,)S
2163(of)S
2294(course,)S
2670(redefine)S
3098(these)S
3377(routines)S
3798(for)S
3971(other)S
(debugging)508 4251 A
4790(purposes.)S
2888 V
708(The)S
936(version)S
1332(of)S
1473(these)S
1762(routines)S
2192(in)S
12 I
2326(libamoeba.a)S
12 R
2976(maintains,)S
3517(in)S
3650(core,)S
3928(statistics)S
(about)268 4386 A
4693(the)S
4880(number)S
3028 V
708(of)S
845(times)S
1144(the)S
1328(function)S
1767(is)S
1884(called)S
2210(in)S
(each)222 2340 A
2598(thread)S
2937(of)S
3074(the)S
3258(process)S
3657(and)S
3868(the)S
4053(time)S
4306(taken)S
4605(for)S
(each)222 4784 A
5043(call.)S
3168 V
708(A)S
826(summary)S
1306(of)S
1437(this)S
1642(information)S
2244(can)S
2442(be)S
2586(printed)S
2959(using)S
12 I
3250(prof)S
12 Y1
3451(3)S
12 I
3511(dump)S
12 R
3789(.)S
3484 V
12 I
708(prof)S
12 Y1
909(3)S
12 I
969(dump)S
3720 V
11 C
(void)268 1068 A
3860 V
(prof)268 1068 A
11 Y1
1336(3)S
11 C
(dump\(fp\))536 1391 A
4000 V
(FILE)268 1068 A
1403(*)S
(fp;)201 1537 A
4236 V
12 R
708(This)S
993(function)S
1466(prints)S
1813(the)S
2032(statistics)S
2522(gathered)S
3010(by)S
3201(the)S
12 I
3420(procentry)S
12 R
3971(and)S
12 I
(procexit)397 4216 A
12 R
4694(routines)S
5155(in)S
4376 V
12 I
708(libamoeba.a)S
12 R
1318(.)S
1419(It)S
1535(prints)S
1852(them)S
2135(on)S
2295(the)S
2483(file)S
2686(referred)S
3112(to)S
3246(by)S
12 I
3406(fp)S
12 R
3510(.)S
3610(If)S
12 I
3732(fp)S
12 R
3876(is)S
3997(the)S
4185(NULL-pointer)S
4933(then)S
5181(it)S
4516 V
708(prints)S
1014(on)S
12 I
1164(stderr)S
12 R
1463(.)S
4692 V
708(If)S
836(the)S
(profiling)424 1030 A
1500(version)S
1902(of)S
2049(the)S
2243(library)S
2613(is)S
2740(used)S
3007(then)S
3261(this)S
3482(routine)S
3871(is)S
3998(called)S
4335(when)S
4644(the)S
4839(program)S
4832 V
708(exits.)S
1034(If)S
1153(the)S
1338(standard)S
1785(version)S
2178(of)S
12 I
2316(libamoeba.a)S
12 R
2963(is)S
3081(used)S
3339(it)S
3444(is)S
(necessary)471 3561 A
4068(to)S
4198(make)S
4496(explicit)S
4896(calls)S
5155(to)S
4972 V
12 I
708(prof)S
12 Y1
909(3)S
12 I
969(dump)S
12 R
1277(from)S
1543(within)S
1883(the)S
2061(program)S
2501(to)S
2625(obtain)S
2957(the)S
3135(statistics.)S
5148 V
(Profiling)431 708 A
1169(information)S
1771(is)S
1882(recorded)S
2336(and)S
2540(printed)S
2913(per)S
3098(thread.)S
3491(When)S
3809(printed)S
4182(it)S
4280(appears)S
4680(as)S
4811(follows:)S
5348 V
11 C
(------)402 1068 A
(thread)402 1537 A
2006(0)S
(-------)469 2140 A
5488 V
(clean)335 1068 A
11 Y1
1403(3)S
11 C
1458(up)S
2396(:)S
2664(1)S
2798({)S
3066(0,)S
3401(0,)S
3736(0)S
3870(})S
4004([)S
(list\(1\))469 4138 A
4674(])S
5628 V
(print)335 1068 A
11 Y1
1403(3)S
11 C
(result)402 1458 A
2396(:)S
2597(18)S
2798({)S
3066(0,)S
3401(8,)S
3669(50)S
3870(})S
4004([)S
(list\(18\))536 4138 A
4741(])S
5768 V
(compare)469 1068 A
2408(:)S
2609(54)S
2810({)S
3078(0,)S
3413(0,)S
3748(0)S
3882(})S
4016([)S
(list\(54\))536 4150 A
4753(])S
5908 V
(list)268 1068 A
2408(:)S
2676(1)S
2810({)S
(650,)268 2944 A
(650,)268 3279 A
(650)201 3614 A
3882(})S
4016([)S
(main\(1\))469 4150 A
4686(])S
6048 V
(main)268 1068 A
2408(:)S
2676(0)S
2810({)S
3078(0,)S
3413(0,)S
3748(0)S
3882(})S
4016([)S
4150(])S
6284 V
12 R
708(To)S
880(provide)S
1288(a)S
1381(short)S
1662(example,)S
2141(the)S
(above)288 2328 A
2655(information)S
3266(was)S
3494(taken)S
3795(from)S
4070(a)S
4163(program)S
4612(with)S
4867(a)S
4960(single)S
6424 V
708(thread)S
1043(that)S
1257(was)S
1478(not)S
1663(linked)S
1996(with)S
2243(the)S
(profiling)424 2422 A
2877(library.)S
3292(A)S
3411(fully)S
3671(profiled)S
4086(program)S
4527(would)S
(produce)389 4860 A
6564 V
708(much)S
1015(more)S
1303(information.)S
1974(The)S
2201(first)S
2437(column)S
2838(is)S
2958(the)S
3146(name)S
3448(of)S
3589(the)S
3777(function)S
4220(that)S
4442(was)S
4671(called.)S
5061(The)S
6704 V
(second)335 708 A
1094(column)S
1507(is)S
1639(the)S
1837(number)S
2256(of)S
2407(times)S
2720(that)S
2952(function)S
3405(was)S
3644(called.)S
4044(The)S
4282(next)S
4540(three)S
4833(numbers)S
6844 V
708(between)S
1155(the)S
(braces)310 1346 A
1699(are)S
1891(the)S
2082(minimum,)S
2625(mean)S
2930(and)S
3147(maximum)S
3680(execution)S
4193(times)S
4499(in)S
(milliseconds)612 4637 A
6984 V
708(taken)S
1004(by)S
1158(the)S
1340(function.)S
1837(The)S
2059(list)S
2242(between)S
2679(the)S
2860(brackets)S
3297(shows)S
3632(the)S
3813(names)S
4155(of)S
4289(the)S
4470(functions)S
4953(which)S
7124 V
708(called)S
1028(the)S
1206(function)S
1639(in)S
1763(question)S
2202(and)S
2406(the)S
2584(number)S
2983(of)S
3114(times)S
(each)222 3407 A
3659(of)S
3790(them)S
4062(called)S
4382(it.)S
7700 V
(316)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 317 323
BP
/slant 0 def
/height 0 def
500 V
12 R
(profiling)424 708 A
1152(\(L\))S
2567(Library)S
2961(Routines)S
(profiling)424 4649 A
5093(\(L\))S
860 V
12 I
708(Warnings)S
1036 V
12 R
708(The)S
929(timings)S
1325(provided)S
1787(are)S
1969(not)S
2156(very)S
(accurate)405 2405 A
2844(and)S
3052(the)S
3234(performance)S
3881(of)S
4016(the)S
4198(program)S
(will)190 4642 A
4866(degrade)S
1176 V
708(when)S
1000(using)S
1291(the)S
(profiling)424 1469 A
1923(tools.)S
2248(\(They)S
2567(are)S
2746(themselves)S
3314(a)S
(bottleneck)504 3398 A
3932(at)S
4050(present.\))S
1456 V
12 B
708(See)S
913(Also)S
1632 V
12 R
708(ack\(U\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(317)180 5069 A
7920 V
EP
%%Page: 318 324
BP
/slant 0 def
/height 0 def
500 V
12 R
708(prv)S
889(\(L\))S
2567(Library)S
2961(Routines)S
4912(prv)S
5093(\(L\))S
860 V
1787(\(in)S
1952(libraries:)S
2415(libamoeba.a,)S
3063(libamunix,)S
3613(libkernel.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(prv)S
12 R-1
899(-)S
12 R
1027(manipulate)S
(capability)478 1595 A
2103(private)S
2470(parts)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("module/prv.h")938 1311 A
2322 V
(int)201 708 A
(prv)201 976 A
11 Y1
1177(3)S
11 C
(decode\(prv,)737 1232 A
(prights,)536 2036 A
(random\))469 2639 A
2462 V
(int)201 708 A
(prv)201 976 A
11 Y1
1177(3)S
11 C
(encode\(prv,)737 1232 A
(obj,)268 2036 A
(rights,)469 2371 A
(random\))469 2907 A
2602 V
(objnum)402 708 A
(prv)201 1177 A
11 Y1
1378(3)S
11 C
(number\(prv\))737 1433 A
2942 V
12 B
708(Description)S
3118 V
12 R
708(These)S
1027(functions)S
1507(are)S
1686(used)S
1937(by)S
2087(servers)S
2461(to)S
2585(make)S
2878(and)S
3083(validate)S
(capabilities)553 3498 A
4082(and)S
4287(to)S
4412(extract)S
4774(the)S
4953(object)S
3258 V
708(number)S
1107(from)S
1373(a)S
(capability.)508 1457 A
3574 V
12 I
708(Functions)S
3926 V
708(prv)S
12 Y1
869(3)S
12 I
929(decode)S
4162 V
11 C
(int)201 1068 A
4302 V
(prv)201 1068 A
11 Y1
1269(3)S
11 C
(decode\(prv,)737 1324 A
(prights,)536 2128 A
(random\))469 2731 A
4442 V
(private)469 1068 A
(*prv;)335 1604 A
4582 V
(rights)402 1068 A
11 Y1
1470(3)S
11 C
(bits)268 1525 A
(*prights;)603 1860 A
4722 V
(port)268 1068 A
(*random;)536 1403 A
4922 V
12 I
708(Prv)S
12 Y1
883(3)S
12 I
943(decode)S
12 R
1335(is)S
1457(used)S
1719(to)S
1854(validate)S
2279(a)S
(capability)478 2374 A
2893(when)S
3196(the)S
3385(original)S
(random)369 3803 A
4213(number)S
4623(is)S
(known.)358 4745 A
5174(It)S
5062 V
708(operates)S
1143(on)S
1294(the)S
1473(private)S
1841(part)S
2061(of)S
2193(the)S
(capability.)508 2372 A
2941(It)S
3047(checks)S
3407(the)S
3586(check)S
3899(field)S
4153(in)S
12 I
4278(prv)S
12 R
4480(and)S
4684(if)S
4789(the)S
4967(check)S
5202 V
708(field)S
967(is)S
1084(valid)S
1362(it)S
1466(returns)S
1839(in)S
12 I
1969(prights)S
12 R
2357(the)S
2541(rights)S
2853(in)S
2983(the)S
(capability.)508 3167 A
3741(It)S
3853(returns)S
4227(0)S
4324(if)S
4436(it)S
(succeeded)497 4541 A
5075(and)S
5342 V
12 Y
708(-)S
12 R
774(1)S
875(if)S
991(the)S
1180(check)S
1503(field)S
1766(was)S
1995(invalid.)S
2431(If)S
12 I
2553(prv)S
12 Y1
2714(3)S
12 I
2774(decode)S
12 R
3166(fails)S
3416(then)S
3664(the)S
(capability)478 3852 A
4370(was)S
4599(not)S
4793(valid)S
5075(and)S
5482 V
(should)321 708 A
1059(be)S
1203(rejected.)S
5798 V
12 I
708(prv)S
12 Y1
869(3)S
12 I
929(encode)S
6034 V
11 C
(int)201 1068 A
6174 V
(prv)201 1068 A
11 Y1
1269(3)S
11 C
(encode\(prv,)737 1324 A
(obj,)268 2128 A
(rights,)469 2463 A
(random\))469 2999 A
6314 V
(private)469 1068 A
(*prv;)335 1604 A
6454 V
(objnum)402 1068 A
(obj;)268 1537 A
6594 V
(rights)402 1068 A
11 Y1
1470(3)S
11 C
(bits)268 1525 A
(rights;)469 1860 A
6734 V
(port)268 1068 A
(*random;)536 1403 A
6934 V
12 I
708(Prv)S
12 Y1
883(3)S
12 I
943(encode)S
12 R
1325(builds)S
1650(a)S
1734(private)S
2101(part)S
2320(of)S
2451(a)S
(capability)478 2535 A
3044(in)S
12 I
3169(prv)S
12 R
3371(using)S
3663(the)S
3842(object)S
4169(number)S
12 I
4569(obj)S
12 R
4733(,)S
4794(the)S
4973(rights)S
7074 V
708(field)S
12 I
970(rights)S
12 R
1301(and)S
1514(the)S
1701(check)S
2022(field)S
2284(pointed)S
2685(to)S
2817(by)S
12 I
(random)375 2975 A
12 R
3360(.)S
3458(It)S
3571(returns)S
3946(0)S
4044(if)S
4157(it)S
(succeeded)497 4263 A
4798(and)S
12 Y
5010(-)S
12 R
5076(1)S
5174(if)S
7214 V
708(the)S
12 I
886(rights)S
12 R
1208(or)S
1339(the)S
12 I
1517(obj)S
12 R
1711(argument)S
(exceeded)450 2198 A
2678(the)S
2856(implementation)S
3646(limits.)S
7700 V
(318)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 319 325
BP
/slant 0 def
/height 0 def
500 V
12 R
708(prv)S
889(\(L\))S
2567(Library)S
2961(Routines)S
4912(prv)S
5093(\(L\))S
860 V
12 I
708(prv)S
12 Y1
869(3)S
12 I
929(number)S
1096 V
11 C
(objnum)402 1068 A
1236 V
(prv)201 1068 A
11 Y1
1269(3)S
11 C
(number\(prv\))737 1324 A
1376 V
(private)469 1068 A
(*prv;)335 1604 A
1576 V
12 I
708(Prv)S
12 Y1
883(3)S
12 I
943(number)S
12 R
1352(returns)S
1719(the)S
1897(object)S
2223(number)S
2622(from)S
2888(the)S
3066(private)S
3433(part)S
12 I
3652(prv)S
12 R
3823(.)S
1892 V
12 I
708(Warnings)S
2068 V
12 R
708(The)S
926(current)S
1300(implementation)S
2090(restricts)S
2506(the)S
2684(object)S
3010(number)S
3409(to)S
3533(24)S
3683(bits)S
3888(and)S
4092(the)S
4270(rights)S
4576(field)S
4829(to)S
4953(8)S
5043(bits.)S
2348 V
12 B
708(Example)S
2524 V
12 R
708(The)S
926(following)S
1427(function)S
1860(implements)S
2455(the)S
2633(std)S
12 Y1
2774(3)S
12 R
2834(restrict)S
3203(operation:)S
2724 V
11 C
(errstat)469 708 A
2864 V
(impl)268 708 A
11 Y1
976(3)S
11 C
(std)201 1031 A
11 Y1
1232(3)S
11 C
(restrict\(cap,)871 1287 A
(mask,)335 2225 A
(newcap\))469 2627 A
3004 V
(capability)670 708 A
(*cap;)335 1445 A
3144 V
(rights)402 708 A
11 Y1
1110(3)S
11 C
(bits)268 1165 A
(mask;)335 1500 A
3284 V
(capability)670 708 A
(*newcap;)536 1445 A
3424 V
708({)S
3564 V
(objnum)402 976 A
(obj;)268 1445 A
3704 V
(rights)402 976 A
11 Y1
1378(3)S
11 C
(bits)268 1433 A
(rights;)469 1768 A
3844 V
(struct)402 976 A
(foobar)402 1445 A
1914({)S
3984 V
(port)268 1244 A
(random;)469 1579 A
2852(/*)S
(Random)402 3053 A
(checkword)603 3522 A
4192(*/)S
4124 V
(...)201 1244 A
4264 V
976(})S
(*foo,)335 1110 A
(*FindFoo\(\);)737 1512 A
4544 V
976(/*)S
(Find)268 1177 A
(object:)469 1512 A
2048(*/)S
4684 V
(obj)201 976 A
1244(=)S
(prv)201 1378 A
11 Y1
1579(3)S
11 C
(number\(&cap->cap)1072 1634 A
11 Y1
2706(3)S
11 C
(priv\);)402 2761 A
4824 V
976(if)S
(\(\(foo)335 1177 A
1579(=)S
(FindFoo\(obj\)\))871 1713 A
2651(==)S
(NULL\))335 2852 A
4964 V
(return)402 1244 A
(STD)201 1713 A
11 Y1
1914(3)S
11 C
(CAPBAD;)469 1969 A
2840(/*)S
(Never)335 3041 A
(heard)335 3443 A
3845(of)S
4046(*/)S
5104 V
976(/*)S
(Validate:)603 1177 A
1847(*/)S
5244 V
976(if)S
(\(prv)268 1177 A
11 Y1
1445(3)S
11 C
(decode\(&cap->cap)1072 1500 A
11 Y1
2572(3)S
11 C
(priv,)335 2627 A
(&rights,)536 3029 A
(&foo->random\))871 3632 A
4570(!=)S
4771(0\))S
5384 V
(return)402 1244 A
(STD)201 1713 A
11 Y1
1914(3)S
11 C
(CAPBAD;)469 1969 A
2840(/*)S
3041(Do)S
(not)201 3242 A
(trust)335 3510 A
(cap)201 3912 A
4180(*/)S
5524 V
976(/*)S
(Build)335 1177 A
(new)201 1579 A
(cap:)268 1847 A
2182(*/)S
5664 V
(rights)402 976 A
1445(&=)S
(mask;)335 1646 A
5804 V
(newcap->cap)737 976 A
11 Y1
1713(3)S
11 C
(port)268 1768 A
2103(=)S
(cap->cap)536 2237 A
11 Y1
2773(3)S
11 C
(port;)335 2828 A
5944 V
976(if)S
(\(prv)268 1177 A
11 Y1
1445(3)S
11 C
(encode\(&newcap->cap)1273 1500 A
11 Y1
2773(3)S
11 C
(priv,)335 2828 A
(obj,)268 3230 A
(rights,)469 3565 A
(&foo->random\))871 4101 A
5039(!=)S
5240(0\))S
6084 V
(return)402 1244 A
(STD)201 1713 A
11 Y1
1914(3)S
11 C
(SYSERR;)469 1969 A
2840(/*)S
(Should)402 3041 A
(not)201 3510 A
(happen)402 3778 A
4247(*/)S
6224 V
(return)402 976 A
(STD)201 1445 A
11 Y1
1646(3)S
11 C
(OK;)201 1701 A
6364 V
708(})S
6704 V
12 B
708(See)S
913(Also)S
6880 V
12 R
708(rpc\(L\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(319)180 5069 A
7920 V
EP
%%Page: 320 326
BP
/slant 0 def
/height 0 def
500 V
12 R
708(rawflip)S
1080(\(L\))S
2567(Library)S
2961(Routines)S
4721(rawflip)S
5093(\(L\))S
860 V
2350(\(in)S
2515(libraries:)S
2978(libamoeba.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(rawflip)S
12 R-1
1090(-)S
12 R
1218(routines)S
1638(to)S
(access)310 1762 A
2102(FLIP)S
2381(protocol)S
2814(from)S
3080(user)S
3312(level)S
3578(programs)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("module/rawflip.h")1206 1311 A
2322 V
(int)201 708 A
(flip)268 976 A
11 Y1
1244(3)S
11 C
(init\(ident,)737 1299 A
(receive,)536 2103 A
(notdeliver\))737 2706 A
2462 V
(int)201 708 A
(flip)268 976 A
11 Y1
1244(3)S
11 C
(end\(ifno\))603 1299 A
2602 V
(int)201 708 A
(flip)268 976 A
11 Y1
1244(3)S
11 C
(register\(ifno,)938 1299 A
(adr\))268 2304 A
2742 V
(int)201 708 A
(flip)268 976 A
11 Y1
1244(3)S
11 C
(unregister\(ifno,)1072 1299 A
(ep\))201 2438 A
2882 V
(int)201 708 A
(flip)268 976 A
11 Y1
1244(3)S
11 C
(broadcast\(ifno,)1005 1299 A
(pkt,)268 2371 A
(ep,)201 2706 A
(length,)469 2974 A
(hopcnt\))469 3510 A
3022 V
(int)201 708 A
(flip)268 976 A
11 Y1
1244(3)S
11 C
(unicast\(ifno,)871 1299 A
(pkt,)268 2237 A
(flags,)402 2572 A
(dst,)268 3041 A
(ep,)201 3376 A
(length,)469 3644 A
(ltime\))402 4180 A
3162 V
(int)201 708 A
(flip)268 976 A
11 Y1
1244(3)S
11 C
(multicast\(ifno,)1005 1299 A
(pkt,)268 2371 A
(flags,)402 2706 A
(dst,)268 3175 A
(ep,)201 3510 A
(length,)469 3778 A
4314(n,)S
(ltime\))402 4515 A
3442 V
(void)268 708 A
(flip)268 1043 A
11 Y1
1311(3)S
11 C
(oneway\(prv)670 1366 A
11 Y1
2036(3)S
11 C
(addr,)335 2091 A
(pub)201 2493 A
11 Y1
2694(3)S
11 C
(addr\))335 2749 A
3582 V
(void)268 708 A
(flip)268 1043 A
11 Y1
1311(3)S
11 C
(random\(adr\))737 1366 A
3722 V
(void)268 708 A
(flip)268 1043 A
11 Y1
1311(3)S
11 C
(random)402 1366 A
11 Y1
1768(3)S
11 C
(reinit\(\))536 1823 A
4062 V
12 B
708(Description)S
4238 V
12 R
708(These)S
1043(routines)S
1479(provide)S
1894(for)S
(access)310 2082 A
2439(to)S
2580(the)S
2775(FLIP)S
3071(network)S
3515(protocol)S
3965(from)S
4248(user)S
4497(programs.)S
5061(The)S
4378 V
708(calls)S
993(are)S
1204(virtually)S
1677(identical)S
2157(to)S
2313(the)S
2522(ones)S
2804(as)S
2966(described)S
3491(in)S
3646(M.F.)S
3941(Kaashoek's)S
4567(thesis,)S
12 I
(Group)315 4934 A
4518 V
708(Communication)S
1542(in)S
1698(Distributed)S
2313(Computer)S
2859(Systems)S
12 R
3316(and)S
3553(also)S
3811(to)S
3968(the)S
4179(calls)S
4465(used)S
4749(inside)S
5101(the)S
4658 V
708(Amoeba)S
1148(kernel,)S
1511(to)S
1635(ease)S
1874(porting)S
2253(code)S
2511(between)S
2945(user)S
3177(mode)S
3475(and)S
3679(kernel)S
4012(mode.)S
4834 V
708(The)S
(interface)426 939 A
1408(consists)S
1834(of)S
1978(the)S
2169(actual)S
2502(routines)S
2935(for)S
3120(sending)S
3538(and)S
(receiving)451 3755 A
4249(messages)S
4749(plus)S
4994(some)S
4974 V
708(miscellaneous)S
(support)362 1424 A
1816(routines.)S
5290 V
12 I
708(The)S
919(FLIP)S
1205(Interface)S
5606 V
(flip)162 708 A
12 Y1
870(3)S
12 I
930(init)S
5842 V
11 C
(int)201 1068 A
5982 V
(flip)268 1068 A
11 Y1
1336(3)S
11 C
(init\(ident,)737 1391 A
(receive,)536 2195 A
(notdeliver\))737 2798 A
6122 V
(long)268 1068 A
(ident;)402 1403 A
6262 V
(int)201 1068 A
(\(*receive\)\(\);)871 1336 A
6402 V
(int)201 1068 A
(\(*notdeliver\)\(\);)1072 1336 A
6638 V
12 I
708(Flip)S
12 Y1
910(3)S
12 I
970(init)S
12 R
(initializes)473 1176 A
1683(a)S
1771(process')S
2209(use)S
2404(of)S
2539(the)S
2721(FLIP)S
3005(protocol.)S
3503(Parameters)S
4078(are)S
12 I
4262(ident)S
12 R
4514(,)S
4579(a)S
12 I
(long)214 4668 A
12 R
4927(passed)S
6778 V
708(back)S
978(during)S
1335(upcalls)S
1720(and)S
1936(the)S
12 I
(receive)351 2126 A
12 R
2529(and)S
12 I
2745(notdeliver)S
12 R
3288(functions)S
3779(used)S
4041(for)S
4224(callback)S
4669(from)S
4946(kernel)S
6918 V
(space.)299 708 A
1089(To)S
1275(be)S
1441(able)S
1695(to)S
1841(do)S
2013(callback)S
2469(the)S
12 I
(flip)162 2669 A
12 Y1
2831(3)S
12 I
2891(init)S
12 R
3116(function)S
3572(does)S
3846(a)S
12 I
3953(thread)S
12 Y1
4268(3)S
12 I
4328(newthread)S
12 R
4900(and)S
5127(all)S
7058 V
708(upcalls)S
1088(are)S
(done)234 1274 A
1544(from)S
1816(the)S
2000(forked)S
2352(thread.)S
2751(This)S
3002(might)S
3320(be)S
3470(relevant)S
3897(when)S
(accessing)464 4195 A
4695(shared)S
5047(data)S
7198 V
708(structures.)S
7700 V
(320)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 321 327
BP
/slant 0 def
/height 0 def
500 V
12 R
708(rawflip)S
1080(\(L\))S
2567(Library)S
2961(Routines)S
4721(rawflip)S
5093(\(L\))S
860 V
708(It)S
813(is)S
924(an)S
1068(error)S
1335(to)S
1459(call)S
12 I
(flip)162 1665 A
12 Y1
1827(3)S
12 I
1887(init)S
12 R
2089(twice)S
(without)370 2383 A
2783(an)S
2927(intervening)S
3508(call)S
3714(to)S
12 I
(flip)162 3838 A
12 Y1
4000(3)S
12 I
4060(end)S
12 R
4244(.)S
1036 V
708(The)S
12 I
(flip)162 971 A
12 Y1
1133(3)S
12 I
1193(init)S
12 R
1440(function)S
1918(returns)S
2330(a)S
2459(small)S
2797(integer)S
12 I
3210(ifno)S
12 R
(\(interface)467 3484 A
4027(number\))S
4513(on)S
(success)363 4709 A
5148(or)S
1176 V
12 C
(FLIP)292 708 A
12 Y1
1000(3)S
12 C
(FAIL)292 1060 A
12 R
1382(on)S
1532(failure.)S
1492 V
12 I
(flip)162 708 A
12 Y1
870(3)S
12 I
930(end)S
1728 V
11 C
(int)201 1068 A
1868 V
(flip)268 1068 A
11 Y1
1336(3)S
11 C
(end\(ifno\))603 1391 A
2008 V
(int)201 1068 A
(ifno;)335 1336 A
2244 V
12 I
708(Flip)S
12 Y1
910(3)S
12 I
970(end)S
12 R
1187(terminates)S
1726(a)S
1813(process')S
2250(use)S
2444(of)S
2578(the)S
2759(FLIP)S
3042(protocol)S
3479(for)S
3655(the)S
3837(specified)S
(interface)426 4309 A
12 I
4769(ifno)S
12 R
4967(.)S
5061(The)S
2384 V
708(extra)S
988(thread)S
1328(created)S
1716(during)S
12 I
(flip)162 2068 A
12 Y1
2230(3)S
12 I
2290(init)S
12 R
(will)190 2499 A
2726(also)S
2957(terminate.)S
3512(Returns)S
3924(0)S
4020(on)S
(success,)393 4176 A
12 C
(FLIP)292 4605 A
12 Y1
4897(3)S
12 C
(FAIL)292 4957 A
2524 V
12 R
708(on)S
858(failure.)S
2840 V
12 I
(flip)162 708 A
12 Y1
870(3)S
12 I
930(register)S
3076 V
11 C
(int)201 1068 A
3216 V
(flip)268 1068 A
11 Y1
1336(3)S
11 C
(register\(ifno,)938 1391 A
(adr\))268 2396 A
3356 V
(int)201 1068 A
(ifno;)335 1336 A
3496 V
(adr)201 1068 A
11 Y1
1269(3)S
11 C
1324(p)S
(adr;)268 1458 A
3732 V
12 I
708(Flip)S
12 Y1
910(3)S
12 I
970(register)S
12 R
1420(registers)S
1895(the)S
2106(address)S
2532(pointed)S
2957(to)S
3114(by)S
12 I
3297(adr)S
12 R
3538(as)S
3703(an)S
(endpoint)422 3881 A
4367(address)S
4794(for)S
5000(FLIP)S
3872 V
708(communication.)S
1557(From)S
1856(then)S
2101(on)S
2257(any)S
2467(packet)S
2819(sent)S
3050(to)S
3180(the)S
3364(one-way-encrypted)S
4335(address)S
4734(is)S
4851(given)S
5155(to)S
4012 V
708(this)S
913(process)S
1306(using)S
1597(the)S
12 I
(receive)351 1775 A
12 R
2166(function)S
2599(given)S
2897(to)S
3021(the)S
12 I
(flip)162 3200 A
12 Y1
3362(3)S
12 I
3422(init)S
12 R
3625(function.)S
4119(Registering)S
4708(the)S
4887(all)S
5040(zero)S
4152 V
708(address)S
1121(indicates)S
(willingness)552 1602 A
2204(to)S
(receive)351 2348 A
2749(packets)S
3161(sent)S
3405(out)S
3608(by)S
12 I
(flip)162 3777 A
12 Y1
3939(3)S
12 I
(broadcast)482 3999 A
12 R
4491(.)S
12 I
4600(Flip)S
12 Y1
4802(3)S
12 I
4862(register)S
4292 V
12 R
708(returns)S
1075(a)S
1159(small)S
1452(integer)S
12 I
1819(ep)S
12 R
(\(endpoint\))504 1973 A
2507(on)S
(success)363 2657 A
3050(or)S
12 C
(FLIP)292 3181 A
12 Y1
3473(3)S
12 C
(FAIL)292 3533 A
12 R
3855(on)S
4005(failure.)S
4468 V
708(Note)S
996(that)S
1230(repeated)S
1694(FLIP)S
1996(broadcasts)S
2560(with)S
2829(the)S
3030(same)S
3332(source)S
3701(address,)S
4147(message-id)S
4745(and)S
4972(offset)S
4608 V
708(within)S
1078(a)S
1192(short)S
(space)269 1494 A
1823(of)S
1984(time)S
(will)190 2260 A
2510(not)S
2724(be)S
2898(sent.)S
3212(Furthermore,)S
3907(messages)S
4423(sent)S
4677(to)S
4830(different)S
4748 V
708(incarnations)S
1331(of)S
1463(a)S
1548(process)S
1942(which)S
2269(reuses)S
2603(FLIP)S
2883(addresses)S
3378(may)S
3618(be)S
3764(discarded)S
4260(due)S
4466(to)S
4592(route)S
(caching)376 4873 A
4888 V
708(effects.)S
1130(Therefore)S
1646(it)S
1750(is)S
1867(important)S
2374(to)S
2504(use)S
2701(a)S
2791(new)S
3029(FLIP)S
3314(source)S
3666(address)S
4065(for)S
(each)222 4243 A
4501(new)S
(invocation)510 4739 A
5028 V
708(of)S
839(a)S
923(process.)S
1376(The)S
1594(routine)S
12 I
(flip)162 1967 A
12 Y1
2129(3)S
12 I
(random)375 2189 A
12 R
2604(\(described)S
3139(below\))S
3506(is)S
3617(one)S
3821(way)S
4053(to)S
4177(do)S
4327(this.)S
5204 V
708(It)S
822(is)S
942(unwise)S
1324(to)S
1457(use)S
1657(the)S
1844(same)S
2132(address)S
2534(both)S
2787(for)S
2968(unicast)S
3350(and)S
(multicast.)475 3563 A
4107(Cacheing)S
4602(effects)S
4967(in)S
5101(the)S
5344 V
708(kernel)S
(will)190 1055 A
1289(make)S
1595(communication)S
2391(slower)S
2759(in)S
2897(that)S
3123(case.)S
3436(It)S
3555(is)S
3679(better)S
3999(to)S
4136(register)S
4544(an)S
4701(address)S
5107(for)S
5484 V
708(unicast)S
1081(and)S
1285(to)S
1409(use)S
1600(as)S
1731(a)S
1815(source)S
2161(for)S
2333(all)S
2485(messages.)S
5800 V
12 I
(flip)162 708 A
12 Y1
870(3)S
12 I
930(unregister)S
6036 V
11 C
(int)201 1068 A
6176 V
(flip)268 1068 A
11 Y1
1336(3)S
11 C
(unregister\(ifno,)1072 1391 A
(ep\))201 2530 A
6316 V
(int)201 1068 A
(ifno;)335 1336 A
6456 V
(int)201 1068 A
(ep;)201 1336 A
6692 V
12 I
708(Flip)S
12 Y1
910(3)S
12 I
970(unregister)S
12 R
1524(stops)S
1819(FLIP)S
2115(listening)S
2579(to)S
2720(the)S
2915(FLIP)S
3211(address)S
3621(associated)S
4166(with)S
4429(the)S
(endpoint)422 4625 A
12 I
5095(ep)S
12 R
5219(.)S
6832 V
708(Due)S
957(to)S
1098(the)S
(asynchronous)663 1293 A
2003(nature)S
2353(of)S
2501(the)S
(underlying)523 2696 A
3266(network)S
3710(layer)S
4000(there)S
4290(is)S
4417(a)S
(possibility)504 4517 A
5067(that)S
6972 V
708(some)S
1018(packets)S
1436(destined)S
1894(for)S
2091(that)S
2328(address)S
2746(are)S
(still)183 2950 A
(underway)477 3188 A
3721(and)S
(will)190 3951 A
4197(be)S
4367(delivered)S
(through)375 4874 A
7112 V
12 I
(receive)351 708 A
12 R
1069(.)S
1159(Returns)S
1565(0)S
1655(on)S
(success,)393 1805 A
12 C
(FLIP)292 2228 A
12 Y1
2520(3)S
12 C
(FAIL)292 2580 A
12 R
2902(on)S
3052(failure.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(321)180 5069 A
7920 V
EP
%%Page: 322 328
BP
/slant 0 def
/height 0 def
500 V
12 R
708(rawflip)S
1080(\(L\))S
2567(Library)S
2961(Routines)S
4721(rawflip)S
5093(\(L\))S
860 V
12 I
(flip)162 708 A
12 Y1
870(3)S
12 I
(broadcast)482 930 A
1096 V
11 C
(int)201 1068 A
1236 V
(flip)268 1068 A
11 Y1
1336(3)S
11 C
(broadcast\(ifno,)1005 1391 A
(pkt,)268 2463 A
(ep,)201 2798 A
(length,)469 3066 A
(hopcnt\))469 3602 A
1376 V
(int)201 1068 A
(ifno;)335 1336 A
1516 V
(char)268 1068 A
1403(*)S
(pkt;)268 1537 A
1656 V
(int)201 1068 A
(ep;)201 1336 A
1796 V
1068(f)S
11 Y1
1135(3)S
11 C
(size)268 1190 A
11 Y1
1458(3)S
11 C
1513(t)S
(length;)469 1647 A
1936 V
1068(f)S
11 Y1
1135(3)S
11 C
(hopcnt)402 1190 A
11 Y1
1592(3)S
11 C
1647(t)S
(hopcnt;)469 1781 A
2172 V
12 I
708(Flip)S
12 Y1
910(3)S
12 I
(broadcast)482 970 A
12 R
1528(broadcasts)S
2106(the)S
2321(packet)S
12 I
2704(pkt)S
12 R
2929(with)S
3212(length)S
12 I
3581(length)S
12 R
3960(using)S
4288(the)S
4503(source)S
4886(address)S
2312 V
708(associated)S
1251(with)S
12 I
1512(ep)S
12 R
1636(.)S
1741(The)S
1973(distance)S
2414(the)S
2606(broadcast)S
3114(travels)S
3482(is)S
3607(limited)S
3995(by)S
4159(the)S
12 I
(hopcnt)328 4351 A
12 R
4733(parameter.)S
2452 V
708(Note)S
993(that)S
1224(a)S
(hop)180 1327 A
(count)268 1556 A
1873(of)S
2024(1)S
2134(does)S
2405(not)S
2609(imply)S
2941(that)S
3173(the)S
3371(broadcast)S
(will)190 3885 A
4125(go)S
4295(over)S
4560(Ethernet.)S
5081(For)S
2592 V
708(example,)S
1179(the)S
1357(current)S
1731(implementation)S
2521(treats)S
2815(local)S
3081(communication)S
3863(and)S
(physical)403 4067 A
4500(shared)S
4846(memory)S
2732 V
708(as)S
848(networks)S
1331(and)S
1544(a)S
(hop)180 1637 A
(count)268 1856 A
2163(of)S
2303(at)S
2430(least)S
2692(3)S
2792(is)S
2913(required)S
3357(to)S
3491(send)S
3752(something)S
4295(over)S
4550(Ethernet.)S
5061(The)S
2872 V
708(actual)S
1034(value)S
1332(required)S
(should)321 1772 A
2129(be)S
2279(determined)S
2860(experimentally.)S
3683(There)S
4001(is)S
4117(a)S
4206(maximum)S
4731(of)S
4867(25)S
(hops)227 5022 A
3012 V
708(in)S
894(the)S
1134(current)S
1570(implementation.)S
2482(Returns)S
2950(0)S
3102(on)S
(successful)498 3315 A
3906(sending)S
4374(of)S
4568(the)S
4809(message,)S
3152 V
12 C
(FLIP)292 708 A
12 Y1
1000(3)S
12 C
(NOPACKET)584 1060 A
12 R
1686(if)S
1803(no)S
1965(free)S
2197(packets)S
2602(were)S
2881(currently)S
3361(available)S
3840(and)S
12 C
(FLIP)292 4055 A
12 Y1
4347(3)S
12 C
(FAIL)292 4407 A
12 R
4740(on)S
4901(failure.)S
3292 V
708(A)S
826(0)S
916(return)S
1236(value)S
1528(does)S
1779(not)S
1963(imply)S
(successful)498 2275 A
2803(delivery)S
3230(of)S
3361(the)S
3539(message.)S
3608 V
12 I
(flip)162 708 A
12 Y1
870(3)S
12 I
930(unicast)S
3844 V
11 C
(int)201 1068 A
3984 V
(flip)268 1068 A
11 Y1
1336(3)S
11 C
(unicast\(ifno,)871 1391 A
(pkt,)268 2329 A
(flags,)402 2664 A
(dst,)268 3133 A
(ep,)201 3468 A
(length,)469 3736 A
(ltime\))402 4272 A
4124 V
(int)201 1068 A
(ifno;)335 1336 A
4264 V
(char)268 1068 A
1403(*)S
(pkt;)268 1537 A
4404 V
(int)201 1068 A
(flags;)402 1336 A
4544 V
(adr)201 1068 A
11 Y1
1269(3)S
11 C
1324(p)S
(dst;)268 1458 A
4684 V
(int)201 1068 A
(ep;)201 1336 A
4824 V
1068(f)S
11 Y1
1135(3)S
11 C
(size)268 1190 A
11 Y1
1458(3)S
11 C
1513(t)S
(length;)469 1647 A
4964 V
(interval)536 1068 A
(ltime;)402 1671 A
5200 V
12 I
708(Flip)S
12 Y1
910(3)S
12 I
970(unicast)S
12 R
1370(sends)S
1679(a)S
1774(unicast)S
2158(packet)S
12 I
2515(pkt)S
12 R
2714(with)S
2971(length)S
12 I
3314(length)S
12 R
3667(to)S
3802(the)S
3991(flip)S
4201(address)S
12 I
4605(dst)S
12 R
4798(using)S
5101(the)S
5340 V
708(source)S
1070(address)S
1479(associated)S
2023(with)S
12 I
2285(ep)S
12 R
2409(.)S
2515(The)S
2749(locate)S
3084(timeout)S
3499(for)S
3686(finding)S
4080(the)S
4273(destination)S
4849(is)S
4975(set)S
5155(to)S
5480 V
12 I
(ltime)244 708 A
12 R
(milliseconds.)642 1034 A
1778(Possible)S
12 I
2253(flags)S
12 R
2570(which)S
2938(can)S
3178(be)S
3364(bitwise)S
3788(ORed)S
4143(are)S
12 C
(FLIP)292 4365 A
12 Y1
4657(3)S
12 C
(INVAL)365 4717 A
12 R
5155(to)S
5620 V
708(invalidate)S
1231(any)S
1450(existing)S
1878(route)S
(cache)276 2172 A
2493(entry,)S
12 C
(FLIP)292 2817 A
12 Y1
3109(3)S
12 C
(SYNC)292 3169 A
12 R
3506(to)S
3645(wait)S
3900(for)S
4087(any)S
(necessary)471 4306 A
4821(locate)S
5155(to)S
5760 V
708(finish)S
1025(before)S
1376(returning)S
1861(from)S
12 I
(flip)162 2138 A
12 Y1
2300(3)S
12 I
2360(unicast)S
12 R
2719(,)S
2790(and)S
12 C
(FLIP)292 3005 A
12 Y1
3297(3)S
12 C
(SECURITY)584 3357 A
12 R
3982(to)S
4117(only)S
4372(route)S
4662(over)S
4919(trusted)S
5900 V
708(networks.)S
1245(If)S
1360(the)S
1541(destination)S
2105(is)S
2219(not)S
(found)281 2406 A
2720(within)S
3063(the)S
3244(specified)S
3715(timeout,)S
4148(or)S
4282(if)S
4390(while)S
4693(sending)S
5101(the)S
6040 V
708(packet)S
1056(a)S
1142(routing)S
1523(error)S
1792(occurs,)S
2171(the)S
2352(packet)S
2701(is)S
2815(returned)S
(through)375 3252 A
3660(the)S
12 I
3841(notdeliver)S
12 R
4375(function)S
4811(specified)S
6180 V
708(with)S
12 I
(flip)162 958 A
12 Y1
1120(3)S
12 I
1180(init)S
12 R
1352(.)S
1446(Returns)S
1856(0)S
1949(on)S
(successful)498 2102 A
2633(sending)S
3041(of)S
3175(the)S
3356(message,)S
12 C
(FLIP)292 3829 A
12 Y1
4121(3)S
12 C
(NOPACKET)584 4181 A
12 R
4798(if)S
4906(no)S
5059(free)S
6320 V
708(packets)S
1122(were)S
1410(currently)S
1900(available)S
2390(and)S
12 C
(FLIP)292 2616 A
12 Y1
2908(3)S
12 C
(FAIL)292 2968 A
12 R
3312(on)S
3484(failure.)S
3914(A)S
4054(0)S
4166(return)S
4508(value)S
4822(does)S
5095(not)S
6460 V
708(imply)S
(successful)498 1020 A
1548(delivery)S
1975(of)S
2106(the)S
2284(message.)S
7700 V
(322)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 323 329
BP
/slant 0 def
/height 0 def
500 V
12 R
708(rawflip)S
1080(\(L\))S
2567(Library)S
2961(Routines)S
4721(rawflip)S
5093(\(L\))S
860 V
12 I
(flip)162 708 A
12 Y1
870(3)S
12 I
(multicast)445 930 A
1096 V
11 C
(int)201 1068 A
1236 V
(flip)268 1068 A
11 Y1
1336(3)S
11 C
(multicast\(ifno,)1005 1391 A
(pkt,)268 2463 A
(flags,)402 2798 A
(dst,)268 3267 A
(ep,)201 3602 A
(length,)469 3870 A
4406(n,)S
(ltime\))402 4607 A
1376 V
(int)201 1068 A
(ifno;)335 1336 A
1516 V
(char)268 1068 A
1403(*)S
(pkt;)268 1537 A
1656 V
(int)201 1068 A
(flags;)402 1336 A
1796 V
(adr)201 1068 A
11 Y1
1269(3)S
11 C
1324(p)S
(dst;)268 1458 A
1936 V
(int)201 1068 A
(ep;)201 1336 A
2076 V
1068(f)S
11 Y1
1135(3)S
11 C
(size)268 1190 A
11 Y1
1458(3)S
11 C
1513(t)S
(length;)469 1647 A
2216 V
(int)201 1068 A
1336(n;)S
2356 V
(interval)536 1068 A
(ltime;)402 1671 A
2592 V
12 I
708(Flip)S
12 Y1
910(3)S
12 I
(multicast)445 970 A
12 R
1465(sends)S
1773(a)S
(multicast)445 1867 A
2352(packet)S
12 I
2708(pkt)S
12 R
2906(with)S
3162(length)S
12 I
3505(length)S
12 R
3858(to)S
3993(the)S
4182(flip)S
4392(address)S
12 I
4796(dst)S
12 R
4988(using)S
2732 V
708(the)S
887(source)S
1234(address)S
1628(associated)S
2157(with)S
12 I
2404(ep)S
12 R
2528(.)S
2619(The)S
2838(packet)S
(will)190 3185 A
3406(only)S
3651(be)S
3796(sent)S
4022(if)S
4127(at)S
4245(least)S
12 I
4498(n)S
12 R
4598(recipients)S
5100(are)S
2872 V
(found)281 708 A
1026(listening)S
1481(to)S
1613(this)S
1826(address.)S
2287(The)S
2513(locate)S
2841(timeout)S
3249(for)S
3429(finding)S
3816(the)S
4002(destination)S
4571(is)S
4690(set)S
4863(to)S
12 I
(ltime)244 4995 A
3012 V
12 R
(milliseconds.)642 708 A
12 I
1411(Flags)S
12 R
1727(are)S
1907(as)S
2039(in)S
12 I
(flip)162 2164 A
12 Y1
2326(3)S
12 I
2386(unicast)S
12 R
2745(.)S
2836(If)S
2948(the)S
3126(destination)S
3687(is)S
3798(not)S
(found)281 3982 A
4293(within)S
4633(the)S
4811(specified)S
3152 V
708(timeout,)S
1144(or)S
1281(if)S
1392(while)S
1698(sending)S
2109(the)S
2293(packet)S
2645(a)S
2735(routing)S
3120(error)S
3394(occurs,)S
3777(the)S
3962(packet)S
4315(is)S
4433(returned)S
(through)375 4874 A
3292 V
708(the)S
12 I
915(notdeliver)S
12 R
1475(function)S
1937(specified)S
2434(with)S
12 I
(flip)162 2709 A
12 Y1
2871(3)S
12 I
2931(init)S
12 R
3103(.)S
3222(Returns)S
3657(0)S
3775(on)S
(successful)498 3953 A
4509(sending)S
4942(of)S
5101(the)S
3432 V
708(message,)S
12 C
(FLIP)292 1181 A
12 Y1
1473(3)S
12 C
(NOPACKET)584 1533 A
12 R
2150(if)S
2258(no)S
2411(free)S
2634(packets)S
3030(were)S
3300(currently)S
3771(available)S
4243(and)S
12 C
(FLIP)292 4451 A
12 Y1
4743(3)S
12 C
(FAIL)292 4803 A
12 R
5129(on)S
3572 V
708(failure.)S
1116(A)S
1234(0)S
1324(return)S
1644(value)S
1936(does)S
2187(not)S
2371(imply)S
(successful)498 2683 A
3211(delivery)S
3638(of)S
3769(the)S
3947(message.)S
3924 V
12 I
(receive)351 708 A
4160 V
11 C
(int)201 1068 A
4300 V
(receive\(ident,)938 1068 A
(pkt,)268 2073 A
(dstaddr,)536 2408 A
(srcaddr,)536 3011 A
(message-id,)737 3614 A
(offset,)469 4418 A
(length,)469 4954 A
4440 V
(total,)402 2236 A
(flag\))335 2705 A
4580 V
(long)268 1068 A
(ident;)402 1403 A
4720 V
(char)268 1068 A
(*pkt;)335 1403 A
4860 V
(adr)201 1068 A
11 Y1
1269(3)S
11 C
1324(p)S
(dstaddr,)536 1458 A
(srcaddr;)536 2061 A
5000 V
1068(f)S
11 Y1
1135(3)S
11 C
(msgcnt)402 1190 A
11 Y1
1592(3)S
11 C
1647(t)S
(messid;)469 1781 A
5140 V
1068(f)S
11 Y1
1135(3)S
11 C
(size)268 1190 A
11 Y1
1458(3)S
11 C
1513(t)S
(offset,)469 1647 A
(length,)469 2183 A
(total;)402 2719 A
5280 V
(int)201 1068 A
(flag;)335 1336 A
5516 V
12 R
708(The)S
12 I
(receive)351 929 A
12 R
1324(function)S
1761(specified)S
2233(by)S
2387(the)S
2569(user)S
2805(in)S
12 I
(flip)162 2933 A
12 Y1
3095(3)S
12 I
3155(init)S
12 R
3361(is)S
3476(called)S
3800(when)S
4096(a)S
4184(packet)S
4534(arrives)S
4899(for)S
5075(one)S
5656 V
708(of)S
865(the)S
1069(addresses)S
1589(registered)S
2124(by)S
(calling)330 2300 A
12 I
(flip)162 2686 A
12 Y1
2848(3)S
12 I
2908(register)S
12 R
3295(.)S
3411(The)S
12 I
3655(ident)S
12 R
3963(parameter)S
4505(is)S
4641(the)S
4844(same)S
5148(as)S
5796 V
708(specified)S
1176(in)S
12 I
(flip)162 1300 A
12 Y1
1462(3)S
12 I
1522(init)S
12 R
1724(at)S
1842(the)S
2020(sender's)S
2454(side.)S
2739(The)S
12 I
2957(message-id)S
12 R
3542(identifies)S
4024(the)S
4202(message.)S
4703(It)S
4809(is)S
4921(unique)S
5936 V
708(per)S
914(source)S
1281(address)S
1694(and)S
1918(per)S
2123(message.)S
2643(If)S
2775(a)S
2879(message)S
3339(arrives)S
3720(fragmented,)S
4352(all)S
4524(fragments)S
(will)190 5059 A
6076 V
708(contain)S
1118(the)S
1320(same)S
12 I
1623(message-id)S
12 R
2178(.)S
2292(The)S
12 I
2534(offset)S
12 R
2861(and)S
12 I
3089(length)S
12 R
3455(identify)S
3886(which)S
4236(part)S
4480(of)S
4636(the)S
4839(message)S
6216 V
708(identified)S
1207(by)S
12 I
1361(message-id)S
12 R
1949(is)S
2063(contained)S
2566(in)S
2693(this)S
2901(packet.)S
3310(The)S
3531(total)S
3780(length)S
4115(of)S
4249(the)S
4430(message)S
4873(is)S
12 I
4987(total)S
12 R
5219(.)S
6356 V
708(The)S
939(user)S
1184(is)S
(responsible)551 1308 A
1902(for)S
2087(reassembly)S
2675(of)S
2820(messages)S
3321(fragmented)S
3917(by)S
4081(the)S
4273(network)S
4714(layer.)S
5061(The)S
6496 V
708(packet)S
12 I
1065(pkt)S
12 R
1264(points)S
1600(to)S
1734(data)S
1976(that)S
2198(is)S
2319(not)S
2513(available)S
2991(after)S
12 I
(receive)351 3255 A
12 R
3656(returns,)S
4063(so)S
4210(must)S
4485(be)S
4639(copied)S
5001(to)S
5135(be)S
6636 V
708(retained.)S
12 I
1195(Flag)S
12 R
1469(can)S
1673(contain)S
12 C
(FLIP)292 2065 A
12 Y1
2357(3)S
12 C
(UNTRUSTED)657 2417 A
12 R
3111(if)S
3223(the)S
3408(packet)S
3761(crossed)S
4161(untrusted)S
4648(networks)S
5129(on)S
6776 V
708(the)S
886(way.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(323)180 5069 A
7920 V
EP
%%Page: 324 330
BP
/slant 0 def
/height 0 def
500 V
12 R
708(rawflip)S
1080(\(L\))S
2567(Library)S
2961(Routines)S
4721(rawflip)S
5093(\(L\))S
860 V
12 I
708(notdeliver)S
1096 V
11 C
(int)201 1068 A
1236 V
(notdeliver\(ident,)1139 1068 A
(pkt,)268 2274 A
(dstaddr,)536 2609 A
(message-id,)737 3212 A
(offset,)469 4016 A
(length,)469 4552 A
1376 V
(total,)402 2236 A
(flag\))335 2705 A
1516 V
(long)268 1068 A
(ident;)402 1403 A
1656 V
(char)268 1068 A
(*pkt;)335 1403 A
1796 V
(adr)201 1068 A
11 Y1
1269(3)S
11 C
1324(p)S
(dstaddr;)536 1458 A
1936 V
1068(f)S
11 Y1
1135(3)S
11 C
(msgcnt)402 1190 A
11 Y1
1592(3)S
11 C
1647(t)S
(messid;)469 1781 A
2076 V
1068(f)S
11 Y1
1135(3)S
11 C
(size)268 1190 A
11 Y1
1458(3)S
11 C
1513(t)S
(offset,)469 1647 A
(length,)469 2183 A
(total;)402 2719 A
2216 V
(int)201 1068 A
(flag;)335 1336 A
2452 V
12 R
708(The)S
12 I
938(notdeliver)S
12 R
1481(function)S
1926(specified)S
2406(by)S
2569(the)S
2760(user)S
3005(in)S
12 I
(flip)162 3142 A
12 Y1
3304(3)S
12 I
3364(init)S
12 R
3579(is)S
3703(called)S
4036(when)S
4341(a)S
4438(message)S
4891(sent)S
5129(by)S
2592 V
708(this)S
983(process)S
1445(is)S
(undeliverable.)689 1625 A
2443(Parameters)S
3082(as)S
3282(in)S
12 I
(receive)351 3475 A
12 R
3836(.)S
12 I
3995(Flag)S
12 R
4332(can)S
4599(also)S
4893(contain)S
2732 V
12 C
(FLIP)292 708 A
12 Y1
1000(3)S
12 C
(NOTHERE)511 1060 A
12 R
1609(if)S
1722(the)S
1908(packet)S
2262(was)S
(bounced)408 2489 A
2935(back)S
3202(on)S
3361(the)S
3548(way)S
3789(to)S
3922(the)S
4109(destination)S
(because)383 4679 A
5101(the)S
2872 V
708(address)S
1101(was)S
1320(not)S
(known.)358 1504 A
1922(This)S
2167(is)S
2278(the)S
2456(usual)S
2741(case)S
2980(for)S
12 I
3152(notdeliver)S
12 R
3653(.)S
3188 V
12 I
708(Miscellaneous)S
1437(Routines)S
3364 V
12 R
708(To)S
884(be)S
1040(able)S
1284(to)S
1420(use)S
1623(the)S
1813(raw)S
2038(FLIP)S
(interface)426 2329 A
2797(it)S
2907(is)S
(necessary)471 3030 A
3543(to)S
3679(have)S
3949(a)S
4045(few)S
(support)362 4270 A
4674(routines)S
5107(for)S
3504 V
708(creating)S
1129(and)S
1333(encrypting)S
1880(FLIP)S
2159(addresses.)S
3820 V
12 I
(flip)162 708 A
12 Y1
870(3)S
12 I
930(oneway)S
4056 V
11 C
(void)268 1068 A
4196 V
(flip)268 1068 A
11 Y1
1336(3)S
11 C
(oneway\(prv)670 1391 A
11 Y1
2061(3)S
11 C
(addr,)335 2116 A
(pub)201 2518 A
11 Y1
2719(3)S
11 C
(addr\))335 2774 A
4336 V
(adr)201 1068 A
11 Y1
1269(3)S
11 C
1324(p)S
(prv)201 1458 A
11 Y1
1659(3)S
11 C
(addr;)335 1714 A
4476 V
(adr)201 1068 A
11 Y1
1269(3)S
11 C
1324(p)S
(pub)201 1458 A
11 Y1
1659(3)S
11 C
(addr;)335 1714 A
4712 V
12 I
708(Flip)S
12 Y1
910(3)S
12 I
970(oneway)S
12 R
1385(encrypts)S
1832(the)S
2017(FLIP)S
2303(address)S
2703(pointed)S
3102(to)S
3234(by)S
12 I
3392(prv)S
12 Y1
3553(3)S
12 I
(addr)227 3613 A
12 R
3888(and)S
4100(returns)S
4475(the)S
4661(result)S
4969(in)S
5101(the)S
4852 V
708(FLIP)S
987(address)S
1380(pointed)S
1772(to)S
1896(by)S
12 I
(pub)180 2046 A
12 Y1
2226(3)S
12 I
(addr)227 2286 A
12 R
2523(.)S
5168 V
12 I
(flip)162 708 A
12 Y1
870(3)S
12 I
(random)375 930 A
5404 V
11 C
(void)268 1068 A
5544 V
(flip)268 1068 A
11 Y1
1336(3)S
11 C
(random\(addr\))804 1391 A
5684 V
(adr)201 1068 A
11 Y1
1269(3)S
11 C
1324(p)S
(addr;)335 1458 A
5920 V
12 I
708(Flip)S
12 Y1
910(3)S
12 I
(random)375 970 A
12 R
1393(generates)S
1889(a)S
(random)369 1981 A
2389(FLIP)S
2677(address)S
3079(in)S
3212(the)S
3399(struct)S
3708(pointed)S
4109(to)S
4242(by)S
12 I
(addr)227 4401 A
12 R
4638(.)S
4737(The)S
12 I
4964(space)S
6060 V
12 R
708(for)S
880(the)S
1058(address)S
1451(is)S
1562(set)S
1727(to)S
1851(0.)S
6376 V
12 I
(flip)162 708 A
12 Y1
870(3)S
12 I
(random)375 930 A
12 Y1
1305(3)S
12 I
1365(reinit)S
6612 V
11 C
(void)268 1068 A
6752 V
(flip)268 1068 A
11 Y1
1336(3)S
11 C
(random)402 1391 A
11 Y1
1793(3)S
11 C
(reinit\(\))536 1848 A
6988 V
12 I
708(Flip)S
12 Y1
910(3)S
12 I
(random)375 970 A
12 Y1
1345(3)S
12 I
1405(reinit)S
12 R
1724(causes)S
2086(the)S
2280(next)S
2534(call)S
2756(to)S
12 I
(flip)162 2896 A
12 Y1
3058(3)S
12 I
(random)375 3118 A
12 R
3549(to)S
3689(get)S
3884(a)S
3985(new)S
4234(seed)S
4496(for)S
4685(the)S
(random)369 4880 A
7128 V
708(number)S
1131(generator)S
1643(from)S
1933(the)S
(random)369 2135 A
2558(number)S
2981(server.)S
3392(The)S
(random)369 3634 A
4057(server)S
4408(is)S
4543(either)S
4874(the)S
5075(one)S
7268 V
708(specified)S
1188(by)S
1350(the)S
1540(string)S
1858(environment)S
2512(variable)S
12 C
(RANDOM)438 2946 A
12 R
3384(,)S
3457(if)S
3575(set,)S
3783(or)S
3927(otherwise)S
4442(from)S
4721(the)S
4912(default)S
7700 V
(324)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 325 331
BP
/slant 0 def
/height 0 def
500 V
12 R
708(rawflip)S
1080(\(L\))S
2567(Library)S
2961(Routines)S
4721(rawflip)S
5093(\(L\))S
860 V
(random)369 708 A
1107(number)S
1506(server)S
1833(\(see)S
12 I
2059(rnd)S
12 R
2236(\(L\)\).)S
1140 V
12 B
708(Example)S
1316 V
12 R
708(The)S
938(following)S
1451(example)S
1903(skips)S
(huge)234 2194 A
(amounts)409 2471 A
2923(of)S
3067(detail)S
3380(but)S
3577(gives)S
3875(an)S
4032(indication)S
4559(of)S
4703(how)S
4954(things)S
1456 V
708(work.)S
1047(Any)S
1285(messages)S
1772(that)S
1984(come)S
2276(in)S
(will)190 2400 A
2620(be)S
2764(handled)S
3176(by)S
3326(the)S
12 I
(received)411 3504 A
12 R
3955(function.)S
1656 V
11 C
(int)201 708 A
(ifno;)335 976 A
1796 V
(int)201 708 A
(ep;)201 976 A
1936 V
(addr)268 708 A
11 Y1
976(3)S
11 C
1031(t)S
1165(my)S
11 Y1
1299(3)S
11 C
(address,)536 1354 A
(addr)268 1957 A
11 Y1
2225(3)S
11 C
(receiver;)603 2280 A
2146 V
(static)402 708 A
(void)268 1177 A
(received\(long)871 1512 A
(ident,)402 2450 A
(char)268 2919 A
(*pkt,)335 3254 A
(adr)201 3656 A
11 Y1
3857(3)S
11 C
3912(p)S
(dstaddr,)536 4046 A
2286 V
(adr)201 1876 A
11 Y1
2077(3)S
11 C
2132(p)S
(srcaddr,)536 2266 A
2869(f)S
11 Y1
2936(3)S
11 C
(msgcnt)402 2991 A
11 Y1
3393(3)S
11 C
3448(t)S
(messid,)469 3582 A
4118(f)S
11 Y1
4185(3)S
11 C
(size)268 4240 A
11 Y1
4508(3)S
11 C
4563(t)S
(offset,)469 4697 A
2426 V
1876(f)S
11 Y1
1943(3)S
11 C
(size)268 1998 A
11 Y1
2266(3)S
11 C
2321(t)S
(length,)469 2455 A
2991(f)S
11 Y1
3058(3)S
11 C
(size)268 3113 A
11 Y1
3381(3)S
11 C
3436(t)S
(total,)402 3570 A
(int)201 4039 A
(flag\))335 4307 A
2566 V
708({)S
2706 V
976(/*)S
(fill)268 1177 A
1512(in)S
(your)268 1713 A
(receive)469 2048 A
(protocol)536 2584 A
(here)268 3187 A
3522(*/)S
2846 V
708(})S
3056 V
(static)402 708 A
(void)268 1177 A
(notdelivered\(long)1139 1512 A
(ident,)402 2718 A
(char)268 3187 A
(*pkt,)335 3522 A
3196 V
(adr)201 1876 A
11 Y1
2077(3)S
11 C
2132(p)S
(dstaddr,)536 2266 A
2869(f)S
11 Y1
2936(3)S
11 C
(msgcnt)402 2991 A
11 Y1
3393(3)S
11 C
3448(t)S
(messid,)469 3582 A
4118(f)S
11 Y1
4185(3)S
11 C
(size)268 4240 A
11 Y1
4508(3)S
11 C
4563(t)S
(offset,)469 4697 A
3336 V
1876(f)S
11 Y1
1943(3)S
11 C
(size)268 1998 A
11 Y1
2266(3)S
11 C
2321(t)S
(length,)469 2455 A
2991(f)S
11 Y1
3058(3)S
11 C
(size)268 3113 A
11 Y1
3381(3)S
11 C
3436(t)S
(total,)402 3570 A
(int)201 4039 A
(flag\);)402 4307 A
3476 V
708({)S
3616 V
976(/*)S
(fill)268 1177 A
1512(in)S
(your)268 1713 A
('not)268 2048 A
(delivered')670 2383 A
(protocol)536 3120 A
(here)268 3723 A
4058(*/)S
3756 V
708(})S
3966 V
(ifno)268 708 A
1043(=)S
(flip)268 1177 A
11 Y1
1445(3)S
11 C
(init\(1722,)670 1500 A
(received,)603 2237 A
(notdelivered\);)938 2907 A
4106 V
708(if)S
(\(ifno)335 909 A
1311(<)S
1445(0\))S
1646({)S
4246 V
976(/*)S
(error)335 1177 A
(...)201 1579 A
(*./)201 1847 A
4386 V
708(})S
4596 V
708(/*)S
(Create)402 909 A
1378(an)S
(address)469 1579 A
2115(*/)S
4736 V
(flip)268 708 A
11 Y1
976(3)S
11 C
(random\(&my)670 1031 A
11 Y1
1701(3)S
11 C
(address\);)603 1756 A
4946 V
708(/*)S
(Register)536 909 A
1512(an)S
(endpoint)536 1713 A
2316(*/)S
5086 V
708(ep)S
909(=)S
(flip)268 1043 A
11 Y1
1311(3)S
11 C
(register\(ifno,)938 1366 A
(&my)201 2371 A
11 Y1
2572(3)S
11 C
(address\);)603 2627 A
5296 V
708(/*)S
(Send)268 909 A
1244(a)S
(point-to-point)938 1378 A
(message.)536 2383 A
3053(To)S
(get)201 3254 A
(the)201 3522 A
(address)469 3790 A
4326(of)S
(the)201 4527 A
(receiver)536 4795 A
5436 V
775(*)S
(you)201 909 A
(can)201 1177 A
(broadcast)603 1445 A
2115(it)S
2316(or)S
(perhaps)469 2517 A
(get)201 3053 A
3321(it)S
3522(as)S
3723(a)S
(command)469 3857 A
(line)268 4393 A
(argument.)603 4728 A
5576 V
775(*/)S
5716 V
(while)335 708 A
(\(\(\(res)402 1110 A
1579(=)S
(flip)268 1713 A
11 Y1
1981(3)S
11 C
(unicast\(ifno,)871 2036 A
(message,)536 2974 A
3577(0,)S
(&addr)335 3778 A
11 Y1
4113(3)S
11 C
(receiver,)603 4168 A
5856 V
(ep,)201 1560 A
(buffer)402 1828 A
11 Y1
2230(3)S
11 C
(size,)335 2285 A
(10000\)\))469 2687 A
3223(==)S
(FLIP)268 3424 A
11 Y1
3692(3)S
11 C
(NOPACKET\))603 3747 A
4417(&&)S
(count)335 4618 A
5020(<)S
5154(5\))S
5996 V
(count++;)536 976 A
6206 V
708(/*)S
(Clean)335 909 A
1311(up)S
1512(*/)S
6346 V
(flip)268 708 A
11 Y1
976(3)S
11 C
(unregister\(ifno,)1072 1031 A
(ep\);)268 2170 A
6486 V
(flip)268 708 A
11 Y1
976(3)S
11 C
(end\(ifno\);)670 1031 A
7700 V
12 R
2683(Amoeba)S
3123(5.3)S
(325)180 5069 A
7920 V
EP
%%Page: 326 332
BP
/slant 0 def
/height 0 def
500 V
12 R
708(rawflip)S
1080(\(L\))S
2567(Library)S
2961(Routines)S
4721(rawflip)S
5093(\(L\))S
860 V
12 B
708(See)S
913(Also)S
1036 V
12 R
708(rnd\(A\),)S
1099(thread\(L\).)S
7700 V
(326)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 327 333
BP
/slant 0 def
/height 0 def
500 V
12 R
708(regex)S
997(\(L\))S
2567(Library)S
2961(Routines)S
4804(regex)S
5093(\(L\))S
860 V
2350(\(in)S
2515(libraries:)S
2978(libamoeba.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(regex)S
12 R-1
1007(-)S
12 R
1135(BSD)S
1400(regex\(3\)/ed\(U\))S
2159(compatible)S
2727(regular-expression)S
3659(routines)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(char)268 708 A
(*re)201 1043 A
11 Y1
1244(3)S
11 C
(comp\(s\))469 1299 A
2042 V
(int)201 708 A
976(re)S
11 Y1
1110(3)S
11 C
(exec\(s\))469 1165 A
2182 V
(int)201 708 A
(ignoreCase)670 976 A
2322 V
(int)201 708 A
(regex)335 976 A
11 Y1
1311(3)S
11 C
(bopat[10];)670 1366 A
2462 V
(int)201 708 A
(regex)335 976 A
11 Y1
1311(3)S
11 C
(eopat[10];)670 1366 A
2802 V
12 B
708(Description)S
2978 V
12 R
708(Public)S
1093(domain)S
1531(routines)S
1998(compatible)S
2613(with)S
2906(the)S
3131(BSD)S
3443(regex\(3\)/ed\(U\))S
4249(compatible)S
4864(regular-)S
3118 V
708(expression)S
1255(routines.)S
3434 V
12 I
708(Functions)S
3750 V
708(re)S
12 Y1
809(3)S
12 I
869(comp)S
3986 V
11 C
(char)268 1068 A
1403(*)S
4126 V
1068(re)S
11 Y1
1202(3)S
11 C
(comp\(regexp\))804 1257 A
4266 V
(char)268 1068 A
(*regexp;)536 1403 A
4466 V
12 I
708(Re)S
12 Y1
836(3)S
12 I
896(comp)S
12 R
1205(compiles)S
1679(the)S
1864(regular)S
2245(expression)S
2799(in)S
2930(the)S
3115(string)S
3428(argument)S
3922(into)S
4147(an)S
4298(internal)S
4706(format)S
5067(that)S
4606 V
708(is)S
837(used)S
1106(by)S
12 I
1274(re)S
12 Y1
1375(3)S
12 I
(exec)216 1435 A
12 R
1709(to)S
1851(perform)S
2290(pattern)S
2675(matching.)S
12 I
3232(Re)S
12 Y1
3360(3)S
12 I
3420(comp)S
12 R
3739(returns)S
4123(a)S
4224(NULL-pointer)S
4979(if)S
5101(the)S
4746 V
(conversion)530 708 A
1269(was)S
(successful.)528 1489 A
2078(In)S
2210(all)S
2363(other)S
2643(cases)S
12 I
2930(re)S
12 Y1
3031(3)S
12 I
3091(comp)S
12 R
3394(returns)S
3762(a)S
3847(pointer)S
4221(to)S
4346(a)S
4431(string)S
4739(containing)S
4886 V
708(the)S
886(relevant)S
1307(error)S
1574(message.)S
5062 V
708(If)S
12 I
826(re)S
12 Y1
927(3)S
12 I
987(comp)S
12 R
(receives)398 1295 A
1729(a)S
1819(NULL-pointer)S
2563(or)S
2700(an)S
2850(empty)S
3189(string)S
3502(as)S
3640(argument)S
4134(it)S
(will)190 4239 A
4466(return)S
4793(a)S
4884(NULL-)S
5202 V
708(pointer)S
1084(and)S
1291(leave)S
1580(the)S
1760(previously)S
2302(compiled)S
2784(regular)S
3160(expression)S
3709(intact.)S
4071(If)S
4185(there)S
4460(was)S
4681(no)S
4833(previous)S
5342 V
708(regular)S
1082(expression)S
12 I
1629(re)S
12 Y1
1730(3)S
12 I
1790(comp)S
12 R
(will)190 2092 A
2312(return)S
2632(an)S
2776(error.)S
5518 V
12 I
708(Re)S
12 Y1
836(3)S
12 I
896(comp)S
12 R
1199(can)S
1398(compile)S
1819(the)S
1998(given)S
2297(regular)S
2672(expression)S
3220(into)S
3440(a)S
(case-insensitive)768 3526 A
4326(regular)S
4702(expression.)S
5658 V
708(To)S
880(achieve)S
1287(this)S
1499(effect)S
1814(the)S
1999(programmer)S
2635(must)S
2907(set)S
3079(the)S
3264(value)S
3563(of)S
3701(the)S
3886(global)S
4225(variable)S
12 I
(ignoreCase)556 4653 A
12 R
5219(,)S
5798 V
708(defined)S
1141(inside)S
1500(the)S
(module)362 1719 A
2152(containing)S
12 I
2733(re)S
12 Y1
2834(3)S
12 I
2894(comp)S
12 R
3166(,)S
3267(to)S
3432(a)S
(non-zero)430 3557 A
4058(value.)S
4451(This)S
4737(is)S
4889(a)S
5014(BSD)S
5938 V
708(incompatible)S
1370(feature.)S
6114 V
12 I
708(Re)S
12 Y1
836(3)S
12 I
896(comp)S
12 R
(recognizes)518 1198 A
1746(the)S
1924(following)S
2425(regular)S
2799(expressions:)S
6290 V
708([1])S
12 C
(char)292 880 A
12 R
1488(matches)S
1923(itself,)S
2236(unless)S
2577(it)S
2684(is)S
2804(a)S
2897(special)S
3273(character)S
3758(\(metachar\):)S
12 C
4401(.)S
4556(\\)S
4711([)S
4866(])S
5021(*)S
5176(+)S
6430 V
1488(\303)S
1634($)S
6606 V
12 R
708([2])S
12 C
880(.)S
12 R
1488(matches)S
1915(any)S
2119(character.)S
6782 V
708([3])S
12 C
880(\\)S
12 R
1488(matches)S
1928(the)S
2119(character)S
2608(following)S
3123(it,)S
3265(except)S
3625(when)S
3931(followed)S
4406(by)S
4570(a)S
4668(left)S
4875(or)S
5020(right)S
6922 V
1488(parenthesis,)S
2108(a)S
2207(digit)S
12 C
2474(1)S
12 R
2591(to)S
12 C
2729(9)S
12 R
2846(or)S
2991(a)S
3089(left)S
3296(or)S
3441(right)S
3714(angle)S
4020(bracket.)S
4481(It)S
4600(is)S
4725(used)S
4990(as)S
5135(an)S
7062 V
1488(escape)S
1842(character)S
2319(for)S
2492(all)S
2645(other)S
2925(meta-characters,)S
3757(and)S
3963(itself.)S
4299(When)S
4619(used)S
4872(in)S
4998(a)S
5084(set,)S
7202 V
1488(it)S
1586(is)S
1697(treated)S
2058(as)S
2189(an)S
2333(ordinary)S
2773(character.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(327)180 5069 A
7920 V
EP
%%Page: 328 334
BP
/slant 0 def
/height 0 def
500 V
12 R
708(regex)S
997(\(L\))S
2567(Library)S
2961(Routines)S
4804(regex)S
5093(\(L\))S
860 V
708([4])S
12 C
([set])365 880 A
12 R
1488(matches)S
1921(one)S
2131(of)S
2268(the)S
2452(characters)S
2981(in)S
3111(the)S
3295(set.)S
3526(If)S
3644(the)S
3828(first)S
4061(character)S
4543(in)S
4673(the)S
4857(set)S
5028(is)S
12 C
5146(\303)S
12 R
5219(,)S
1000 V
1488(it)S
1601(matches)S
2043(a)S
2142(character)S
2633(NOT)S
2928(in)S
3067(the)S
3260(set.)S
3500(That)S
3767(is,)S
12 C
3923(\303)S
12 R
4041(complements)S
4730(the)S
4922(set.)S
5161(A)S
1140 V
1488(shorthand)S
12 C
(S-E)219 1994 A
12 R
2243(is)S
2354(used)S
2606(to)S
2731(specify)S
3112(a)S
3197(set)S
3363(of)S
3495(characters)S
12 C
4019(S)S
12 R
4123(up)S
4274(to)S
12 C
4399(E)S
12 R
4472(,)S
4533(inclusive.)S
5061(The)S
1280 V
1488(special)S
1858(characters)S
12 C
2384(])S
12 R
2490(and)S
12 C
2697(-)S
12 R
2803(have)S
3064(no)S
3217(special)S
3587(meaning)S
4036(if)S
4144(they)S
4384(appear)S
4739(as)S
4872(the)S
5052(first)S
1420 V
1488(characters)S
2011(in)S
2135(the)S
2313(set.)S
1620 V
1848(examples:)S
2748(match:)S
1760 V
12 C
([a-z])365 1848 A
12 R
2748(any)S
2952(lowercase)S
3468(alpha)S
1900 V
12 C
([\303]-])365 1848 A
12 R
2748(any)S
2952(character)S
3428(except)S
12 C
3774(])S
12 R
3877(and)S
12 C
4081(-)S
2040 V
([\303A-Z])438 1848 A
12 R
2748(any)S
2952(character)S
3428(except)S
(uppercase)484 3774 A
4288(alpha)S
2180 V
12 C
([a-zA-Z])584 1848 A
12 R
2748(any)S
2952(alpha)S
2416 V
708([5])S
12 C
880(*)S
12 R
1488(any)S
1722(regular)S
2126(expression)S
2703(form)S
2999([1])S
3201(to)S
3355([4],)S
3587(followed)S
4078(by)S
4258(closure)S
4669(character)S
12 C
5176(*)S
2556 V
12 R
1488(matches)S
1915(zero)S
2154(or)S
2285(more)S
2564(matches)S
2991(of)S
3122(that)S
3334(form.)S
2732 V
708([6])S
12 C
880(+)S
12 R
1488(same)S
1767(as)S
1898([5],)S
2100(except)S
2446(it)S
2544(matches)S
2971(one)S
3175(or)S
3306(more.)S
2908 V
708([7])S
1488(a)S
1579(regular)S
1960(expression)S
2514(in)S
2645(the)S
2830(form)S
3104([1])S
3284(to)S
3416([10],)S
3686(enclosed)S
4147(as)S
12 C
4286(\\\()S
12 R
4432(form)S
12 C
4668(\\\))S
12 R
4852(matches)S
3048 V
1488(what)S
1761(form)S
2034(matches.)S
2527(The)S
2751(enclosure)S
3251(creates)S
3625(a)S
3715(set)S
3886(of)S
4023(tags,)S
4284(used)S
4541(for)S
4719([8])S
4897(and)S
5107(for)S
3188 V
1488(pattern)S
(substitution.)594 1855 A
2509(The)S
2727(tagged)S
3079(forms)S
3392(are)S
3571(numbered)S
4084(starting)S
4478(from)S
4744(1.)S
3364 V
708([8])S
1488(a)S
12 C
1579(\\)S
12 R
1689(followed)S
2157(by)S
2314(a)S
2405(digit)S
2664(1)S
2761(to)S
2892(9)S
2989(matches)S
3423(whatever)S
3905(a)S
3997(previously)S
4545(tagged)S
4905(regular)S
3504 V
1488(expression)S
2035(\([7]\))S
2289(matched.)S
3680 V
708([9])S
12 C
880(\\<)S
1056(\\>)S
12 R
1488(a)S
1589(regular)S
1980(expression)S
2544(starting)S
2955(with)S
3218(a)S
12 C
3319(\\<)S
12 R
3512(construct)S
4004(and/or)S
4361(ending)S
4737(with)S
5001(a)S
12 C
5103(\\>)S
3820 V
12 R
1488(construct,)S
2008(restricts)S
2440(the)S
2634(pattern)S
3017(matching)S
3512(to)S
3651(the)S
3844(beginning)S
4371(of)S
4517(a)S
4616(word,)S
4940(and/or)S
3960 V
1488(the)S
1688(end)S
1914(of)S
2067(a)S
2173(word.)S
2534(A)S
2674(word)S
2975(is)S
3108(defined)S
3523(to)S
3669(be)S
3835(a)S
3941(character)S
4439(string)S
4767(beginning)S
4100 V
1488(and/or)S
1844(ending)S
2219(with)S
2482(the)S
2677(characters)S
12 C
(A-Z)219 3217 A
(a-z)219 3526 A
(0-9)219 3835 A
12 R
4101(and)S
12 Y1
4322(3)S
12 R
4382(.)S
4489(It)S
4611(must)S
4893(also)S
5135(be)S
4240 V
(preceded)437 1488 A
1955(and/or)S
2294(followed)S
2755(by)S
2905(any)S
3109(character)S
3585(outside)S
3964(those)S
4249(mentioned.)S
4416 V
708([10])S
1488(a)S
1580(composite)S
2115(regular)S
2497(expression)S
3052(xy)S
3210(where)S
3545(x)S
3643(and)S
3855(y)S
3953(are)S
4140(in)S
4272(the)S
4458(form)S
4733([1])S
4914(to)S
5047([10])S
4556 V
1488(matches)S
1915(the)S
(longest)349 2093 A
2472(match)S
2798(of)S
2929(x)S
3019(followed)S
3480(by)S
3630(a)S
3714(match)S
4040(for)S
4212(y.)S
4732 V
708([11])S
12 C
940(\303)S
1043($)S
12 R
1488(a)S
1601(regular)S
2004(expression)S
2580(starting)S
3003(with)S
3278(a)S
12 C
3391(\303)S
12 R
3523(character)S
4029(and/or)S
4398(ending)S
4786(with)S
5062(a)S
12 C
5176($)S
4872 V
12 R
1488(character,)S
2009(restricts)S
2440(the)S
2632(pattern)S
3013(matching)S
3507(to)S
3645(the)S
3837(beginning)S
4363(of)S
4508(the)S
4700(line,)S
4956(or)S
5101(the)S
5012 V
1488(end)S
1724(of)S
1888(line.)S
2193(Elsewhere)S
2762(in)S
2919(the)S
3130(pattern,)S
12 C
3560(\303)S
12 R
3696(and)S
12 C
3933($)S
12 R
4069(are)S
4281(treated)S
4675(as)S
4839(ordinary)S
5152 V
1488(characters.)S
5468 V
12 I
708(re)S
12 Y1
809(3)S
12 I
(exec)216 869 A
5704 V
11 C
(char)268 1068 A
1403(*)S
5844 V
1068(re)S
11 Y1
1202(3)S
11 C
(exec\(s\))469 1257 A
5984 V
(char)268 1068 A
(*s;)201 1403 A
6220 V
12 I
708(Re)S
12 Y1
836(3)S
12 I
(exec)216 896 A
12 R
1177(matches)S
1629(the)S
1832(regular)S
2232(expression)S
2805(compiled)S
3311(by)S
12 I
3487(re)S
12 Y1
3588(3)S
12 I
3648(comp)S
12 R
3976(to)S
4126(the)S
4330(string)S
12 I
4662(s)S
12 R
4719(.)S
12 I
4835(Re)S
12 Y1
4963(3)S
12 I
(exec)216 5023 A
6360 V
12 R
708(returns)S
1089(1)S
1192(for)S
(success,)393 1377 A
1813(0)S
1916(for)S
2101(failure)S
2462(and)S
2679(-1)S
2823(when)S
3128(the)S
3319(compiled)S
3812(regular)S
4199(expression)S
4759(is)S
4883(invalid.)S
6500 V
708(When)S
1027(the)S
1206(match)S
1533(has)S
1725(been)S
(successful)498 1984 A
12 I
2513(re)S
12 Y1
2614(3)S
12 I
(exec)216 2674 A
12 R
2931(allows)S
(access)310 3279 A
3621(to)S
3747(the)S
3927(tags)S
4154(created)S
4537(by)S
12 C
4689(\\\()S
12 R
4867(and)S
12 C
5073(\\\))S
12 R
5219(.)S
6640 V
708(The)S
932(values)S
1277(of)S
1414(the)S
1598(tags)S
1829(can)S
2033(be)S
(accessed)424 2183 A
(through)375 2643 A
3053(the)S
3236(arrays)S
12 I
3568(regex)S
12 Y1
3837(3)S
12 I
(bopat)274 3897 A
12 R
4216(and)S
12 I
4425(regex)S
12 Y1
4694(3)S
12 I
(eopat)268 4754 A
12 R
5067(that)S
6780 V
708(contain)S
1129(offsets)S
1518(from)S
1819(the)S
2032(beginning)S
2579(of)S
2745(the)S
2959(string)S
12 I
3301(s)S
12 R
3358(.)S
12 I
3484(regex)S
12 Y1
3753(3)S
12 I
(bopat[n])428 3813 A
12 R
4317(points)S
4678(to)S
4838(the)S
5052(first)S
6920 V
708(character)S
1185(of)S
1317(the)S
12 I
1496(n)S
12 R
1556(th)S
1681(tag,)S
12 I
1890(regex)S
12 Y1
2159(3)S
12 I
(eopat[n])422 2219 A
12 R
2682(points)S
3008(to)S
3133(the)S
3312(last.)S
3572(Tag)S
3791(0)S
3882(contains)S
4316(the)S
4495(string)S
4802(passed)S
5155(to)S
7060 V
708(re)S
12 Y1
803(3)S
12 R
863(exec.)S
1207(The)S
12 I
1458(regex)S
12 Y1
1727(3)S
12 I
(bopat)274 1787 A
12 R
2134(and)S
12 I
2371(regex)S
12 Y1
2640(3)S
12 I
(eopat)268 2700 A
12 R
3041(arrays)S
3401(are)S
3613(not)S
3830(a)S
3947(part)S
4199(of)S
4363(the)S
4574(original)S
5014(BSD)S
7200 V
(interface.)456 708 A
7700 V
(328)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 329 335
BP
/slant 0 def
/height 0 def
500 V
12 R
708(regex)S
997(\(L\))S
2567(Library)S
2961(Routines)S
4804(regex)S
5093(\(L\))S
860 V
12 B
708(See)S
913(Also)S
1036 V
12 R
708(ed\(U\),)S
1052(grep\(U\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(329)180 5069 A
7920 V
EP
%%Page: 330 336
BP
/slant 0 def
/height 0 def
500 V
12 R
708(r)S
759(nd)S
899(\(L\))S
2567(Library)S
2961(Routines)S
4902(r)S
4953(nd)S
5093(\(L\))S
860 V
2033(\(in)S
2198(libraries:)S
2661(libamoeba.a,)S
3309(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(r)S
759(nd)S
12 R-1
909(-)S
12 R
(random)369 1037 A
1436(server)S
(interface)426 1763 A
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("module/rnd.h")938 1311 A
2182 V
(void)268 708 A
(rnd)201 1043 A
11 Y1
1244(3)S
11 C
(setcap\(cap\))737 1299 A
2322 V
(errstat)469 708 A
(rnd)201 1244 A
11 Y1
1445(3)S
11 C
(defcap\(\);)603 1500 A
2462 V
(errstat)469 708 A
(rnd)201 1244 A
11 Y1
1445(3)S
11 C
(getrandom\(buf,)938 1500 A
(size\))335 2505 A
2802 V
12 B
708(Description)S
2978 V
12 R
708(This)S
(module)362 981 A
1401(is)S
1540(used)S
1819(for)S
2019(obtaining)S
(random)369 2533 A
2960(numbers)S
3434(from)S
3728(a)S
(random)369 3841 A
4269(number)S
4697(server)S
5053(\(see)S
3118 V
12 I
(random)375 708 A
12 R
1093(\(A\)\).)S
3434 V
12 I
708(rnd)S
12 Y1
875(3)S
12 I
935(setcap)S
3670 V
11 C
(void)268 1068 A
3810 V
(rnd)201 1068 A
11 Y1
1269(3)S
11 C
(setcap\(cap\))737 1324 A
3950 V
(capability)670 1068 A
(*cap;)335 1805 A
4150 V
12 I
708(Rnd)S
12 Y1
902(3)S
12 I
962(setcap)S
12 R
1336(sets)S
1573(the)S
(random)369 1776 A
2200(number)S
2624(server)S
(capability)478 2977 A
3511(to)S
3661(be)S
3831(used)S
4108(by)S
4284(subsequent)S
4876(calls)S
5155(to)S
4290 V
12 I
708(rnd)S
12 Y1
875(3)S
12 I
(getrandom)523 935 A
12 R
1534(to)S
12 I
1694(cap)S
12 R
1878(.)S
2003(It)S
2143(can)S
2376(be)S
2555(used)S
2841(to)S
3000(override)S
3469(the)S
3682(default)S
(random)369 4084 A
4518(number)S
4952(server)S
4430 V
(capability.)508 708 A
1276(Note)S
1542(that)S
1754(it)S
1852(sets)S
2064(the)S
(random)369 2242 A
2641(number)S
3040(server)S
3367(per)S
3552(process)S
3945(and)S
4149(not)S
4333(per)S
4518(thread.)S
4746 V
12 I
708(rnd)S
12 Y1
875(3)S
12 I
935(defcap)S
4982 V
11 C
(errstat)469 1068 A
5122 V
(rnd)201 1068 A
11 Y1
1269(3)S
11 C
(defcap\(\))536 1324 A
5322 V
12 I
708(Rnd)S
12 Y1
902(3)S
12 I
962(defcap)S
12 R
1332(selects)S
1694(the)S
1880(default)S
(random)369 2255 A
2662(number)S
3069(server)S
3404(to)S
3536(be)S
3689(the)S
(random)369 3876 A
4284(number)S
4692(server)S
5028(used)S
5462 V
708(by)S
860(subsequent)S
1428(calls)S
1683(to)S
12 I
1809(rnd)S
12 Y1
1976(3)S
12 I
(getrandom)523 2036 A
12 R
2569(.)S
2661(If)S
2775(the)S
(capability)478 2955 A
3465(environment)S
4108(variable)S
12 C
(RANDOM)438 4531 A
12 R
5001(is)S
5114(set)S
5602 V
708(it)S
824(uses)S
1080(that)S
(capability.)508 1310 A
1896(Otherwise)S
2444(it)S
2560(uses)S
2816(the)S
(capability)478 3012 A
3538(specified)S
4024(by)S
12 C
(DEF)219 4192 A
12 Y1
4411(3)S
12 C
(RNDSVR)438 4471 A
12 R
4958(in)S
5101(the)S
5742 V
708(include)S
1096(file)S
12 I
1291(ampolicy.h)S
12 R
1835(.)S
1927(This)S
2173(is)S
2285(typically)S
12 I
(/profile/cap/randomsvr/default)1492 2740 A
12 R
4242(.)S
4333(The)S
4552(value)S
4845(returned)S
5882 V
708(by)S
12 I
858(rnd)S
12 Y1
1025(3)S
12 I
1085(defcap)S
12 R
1447(is)S
1558(the)S
1736(error)S
2003(status)S
2309(from)S
2575(the)S
(lookup)334 2753 A
3117(of)S
3248(the)S
3426(default)S
3793(server.)S
6058 V
708(Note)S
983(that)S
1204(it)S
1311(is)S
1431(not)S
(necessary)471 1624 A
2134(to)S
2267(call)S
2482(this)S
2696(routine)S
3079(before)S
3429(using)S
12 I
3730(rnd)S
12 Y1
3897(3)S
12 I
(getrandom)523 3957 A
12 R
4490(.)S
4590(If)S
4712(no)S
4872(call)S
5088(has)S
6198 V
708(been)S
992(made)S
1310(to)S
12 I
1460(rnd)S
12 Y1
1627(3)S
12 I
1687(setcap)S
12 R
2062(then)S
12 I
2326(rnd)S
12 Y1
2493(3)S
12 I
(getrandom)523 2553 A
12 R
(will)190 3142 A
3388(use)S
3605(the)S
3809(default)S
4202(server)S
4555(as)S
4711(defined)S
5129(by)S
6338 V
12 I
708(rnd)S
12 Y1
875(3)S
12 I
935(defcap)S
12 R
1267(.)S
7700 V
(330)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 331 337
BP
/slant 0 def
/height 0 def
500 V
12 R
708(r)S
759(nd)S
899(\(L\))S
2567(Library)S
2961(Routines)S
4902(r)S
4953(nd)S
5093(\(L\))S
860 V
12 I
708(rnd)S
12 Y1
875(3)S
12 I
(getrandom)523 935 A
1096 V
11 C
(errstat)469 1068 A
1236 V
(rnd)201 1068 A
11 Y1
1269(3)S
11 C
(getrandom\(buf,)938 1324 A
(size\))335 2329 A
1376 V
(char)268 1068 A
(*buf;)335 1403 A
1516 V
(int)201 1068 A
(size;)335 1336 A
1716 V
12 I
708(Rnd)S
12 Y1
902(3)S
12 I
(getrandom)523 962 A
12 R
(fills)190 1535 A
1765(in)S
1899(the)S
2087(buffer)S
2424(pointed)S
2826(to)S
2960(by)S
12 I
3120(buf)S
12 R
3284(,)S
3354(which)S
3690(is)S
12 I
3811(size)S
12 R
4043(bytes)S
(long,)244 4338 A
4623(with)S
(random)369 4880 A
1856 V
708(data)S
945(using)S
1241(a)S
(random)369 1330 A
1734(number)S
2138(server.)S
12 I
2530(Size)S
12 R
2770(must)S
3040(not)S
(exceed)336 3229 A
12 C
(MAX)219 3599 A
12 Y1
3818(3)S
12 C
(RANDOM)438 3878 A
12 R
4316(,)S
4380(which)S
4710(is)S
4825(typically)S
1996 V
708(1)S
(kilobyte.)426 798 A
2232 V
708(Required)S
1181(Rights:)S
2372 V
(NONE)338 1062 A
2668 V
708(Error)S
(Conditions:)563 995 A
2808 V
1062(RPC)S
1319(errors)S
2948 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(OVERFLOW)584 1341 A
12 R
1925(:)S
1969(size)S
2188(>)S
12 C
(MAX)219 2286 A
12 Y1
2505(3)S
12 C
(RANDOM)438 2565 A
3324 V
12 I
708(Environment)S
1363(Variables)S
3500 V
12 C
(RANDOM)438 708 A
12 R-1
1176(-)S
12 R
(capability)478 1274 A
1782(for)S
1954(the)S
(random)369 2132 A
2531(server.)S
3816 V
12 I
708(Warnings)S
3992 V
12 R
708(When)S
12 I
1033(rnd)S
12 Y1
1200(3)S
12 I
(getrandom)523 1260 A
12 R
1830(fails,)S
2107(it)S
(undoes)341 2212 A
2590(the)S
2775(effect)S
3090(of)S
3228(any)S
3439(previous)S
3892(call)S
4105(to)S
12 I
4236(rnd)S
12 Y1
4403(3)S
12 I
4463(setcap)S
12 R
4782(.)S
4879(That)S
5138(is,)S
4132 V
708(the)S
886(next)S
12 I
1124(rnd)S
12 Y1
1291(3)S
12 I
(getrandom)523 1351 A
12 R
(will)190 1914 A
2134(call)S
12 I
2340(rnd)S
12 Y1
2507(3)S
12 I
2567(defcap)S
12 R
2899(.)S
4412 V
12 B
708(See)S
913(Also)S
4588 V
12 R
708(ansi)S
12 Y1
903(3)S
12 R
963(C\(L\),)S
(uniqport\(L\).)595 1259 A
7700 V
2683(Amoeba)S
3123(5.3)S
(331)180 5069 A
7920 V
EP
%%Page: 332 338
BP
/slant 0 def
/height 0 def
500 V
12 R
708(rpc)S
883(\(L\))S
2567(Library)S
2961(Routines)S
4918(rpc)S
5093(\(L\))S
860 V
1745(\(in)S
1910(libraries:)S
2373(libamoeba.a,)S
3021(libkernel.a,)S
3596(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(rpc)S
12 R-1
893(-)S
12 R
1021(the)S
(interface)426 1199 A
1655(stubs)S
1933(for)S
2105(remote)S
2472(procedure)S
2986(calls)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2182 V
(bufsize)469 708 A
(trans\(request)871 1311 A
11 Y1
2182(3)S
11 C
(hdr,)268 2237 A
(request)469 2572 A
11 Y1
3041(3)S
11 C
(buf,)268 3096 A
(request)469 3431 A
11 Y1
3900(3)S
11 C
(size,)335 3955 A
2322 V
(reply)335 2144 A
11 Y1
2479(3)S
11 C
(hdr,)268 2534 A
(reply)335 2869 A
11 Y1
3204(3)S
11 C
(buf,)268 3259 A
(reply)335 3594 A
11 Y1
3929(3)S
11 C
(size\);)402 3984 A
2462 V
(bufsize)469 708 A
(getreq\(hdr,)737 1311 A
(buf,)268 2115 A
(size\);)402 2450 A
2602 V
(void)268 708 A
(putrep\(hdr,)737 1311 A
(buf,)268 2115 A
(size\);)402 2450 A
2742 V
(interval)536 708 A
(timeout\(length\);)1072 1311 A
3082 V
12 B
708(Description)S
3258 V
12 R
708(The)S
931(three)S
1209(calls)S
12 I
1467(getreq)S
12 R
1786(,)S
12 I
1851(putrep)S
12 R
2176(,)S
2241(and)S
12 I
2450(trans)S
12 R
2743(form)S
3014(the)S
3197(remote)S
3569(procedure)S
4088(call)S
4300(\(RPC\))S
(interface)426 4645 A
5107(for)S
3398 V
708(interprocess)S
1339(communication.)S
2196(All)S
2397(point)S
2690(to)S
2829(point)S
3121(communication)S
3917(is,)S
4072(at)S
4204(the)S
4396(lowest)S
(accessible)492 4757 A
3538 V
708(level,)S
1005(structured)S
(along)268 1521 A
1820(the)S
1999(client/server)S
2631(model;)S
2998(that)S
3211(is,)S
3353(a)S
3438(client)S
3739(thread)S
4073(sends)S
4372(a)S
4457(request)S
4839(message)S
3678 V
708(to)S
841(a)S
934(service,)S
1347(one)S
1560(of)S
1700(the)S
1887(threads)S
2276(in)S
2409(one)S
2622(of)S
2762(the)S
2949(server)S
3285(processes)S
3788(gets)S
4022(the)S
4208(request,)S
4626(carries)S
4989(it)S
5095(out)S
3818 V
708(and)S
961(returns)S
1377(a)S
1510(reply)S
1838(message)S
2327(to)S
2500(the)S
2727(client.)S
3136(There)S
3498(is)S
3659(also)S
3934(the)S
(possibility)504 4162 A
4746(for)S
(group)281 4968 A
3958 V
708(communication.)S
1550(This)S
1795(is)S
1906(described)S
2400(in)S
12 I
2524(grp)S
12 R
2701(\(L\).)S
2947(See)S
3152(also)S
12 I
(rawflip)349 3377 A
12 R
3736(\(L\).)S
4134 V
708(For)S
909(historical)S
1394(reasons,)S
1820(a)S
1907(remote)S
2277(operation)S
2768(\(a)S
2897(request)S
3281(followed)S
3746(by)S
3900(a)S
3988(reply\))S
4312(is)S
4427(called)S
4751(a)S
12 I
4839(message)S
4274 V
708(transaction)S
12 R
1303(or)S
1439(just)S
1649(a)S
12 I
1738(transaction)S
12 R
2298(.)S
2393(A)S
2516(client)S
2821(thread)S
(invokes)375 3159 A
3569(a)S
3658(transaction)S
4225(by)S
4380(a)S
4469(call)S
4680(to)S
12 I
4809(trans)S
12 R
5067(.)S
5161(A)S
4414 V
708(server)S
1050(thread)S
(receives)398 1398 A
1841(a)S
1940(request)S
2335(via)S
2528(a)S
2627(call)S
2849(to)S
12 I
2989(getreq)S
12 R
3354(and)S
3574(returns)S
3957(a)S
4057(reply)S
4352(by)S
(calling)330 4518 A
12 I
4894(putrep)S
12 R
5219(.)S
4554 V
12 I
708(Trans)S
12 R
999(,)S
12 I
1065(getreq)S
12 R
1384(,)S
1450(and)S
12 I
1660(putrep)S
12 R
2021(are)S
2206(blocking;)S
2698(that)S
2916(is,)S
3063(a)S
12 I
3153(trans)S
12 R
3446(suspends)S
3916(a)S
4005(thread)S
(until)222 4343 A
4600(the)S
4783(request)S
5168(is)S
4694 V
708(sent,)S
976(carried)S
1357(out)S
1554(and)S
1771(a)S
1868(reply)S
2160(is)S
(received;)445 2284 A
12 I
2772(getreq)S
12 R
3134(suspends)S
3613(a)S
3711(thread)S
(until)222 4058 A
4324(a)S
4422(request)S
4816(has)S
5021(been)S
4834 V
(received)411 708 A
1162(and)S
12 I
1379(putrep)S
12 R
1747(suspends)S
2225(a)S
2322(thread)S
(until)222 2668 A
2933(the)S
3124(reply)S
3416(has)S
3620(been)S
(received)411 3891 A
4345(by)S
4507(the)S
4697(appropriate)S
4974 V
708(client)S
1008(thread's)S
1429(kernel.)S
5150 V
708(A)S
842(request)S
1238(or)S
1385(reply)S
1680(message)S
2136(is)S
2263(described)S
2773(to)S
2913(the)S
3107(transaction)S
3685(system)S
4067(calls)S
4336(by)S
4502(means)S
4858(of)S
5006(three)S
5290 V
708(parameters:)S
1327(a)S
1432(pointer)S
1826(to)S
1971(a)S
12 I
2076(header)S
12 R
2421(,)S
2502(a)S
2607(pointer)S
3001(to)S
3146(a)S
12 I
3251(buffer)S
12 R
3601(and)S
3826(the)S
12 I
4025(size)S
12 R
4268(of)S
4420(that)S
4653(buffer.)S
5061(The)S
5430 V
12 I
708(header)S
12 R
1083(is)S
1194(a)S
1278(fixed-length)S
1900(data)S
2132(structure,)S
2618(containing)S
3159(addressing)S
3707(information,)S
4340(status)S
4647(information,)S
5570 V
708(an)S
866(operation)S
1367(code)S
1639(and)S
1857(some)S
2156(parameters.)S
2793(The)S
12 I
3025(buffer)S
12 R
3368(is)S
3493(an)S
3651(8-bit-character)S
4411(array)S
4705(whose)S
12 I
5057(size)S
5710 V
12 R
708(may)S
953(vary)S
1205(from)S
1479(0)S
1577(to)S
(30000)300 1709 A
5734 V
9 R
2009(decimal)S
5710 V
12 R
2345(bytes.)S
2698(The)S
2924(parameters)S
3495(of)S
12 I
3634(getreq)S
12 R
3991(specify)S
4379(where)S
4714(in)S
4846(memory)S
5850 V
708(the)S
889(header)S
1245(and)S
1452(buffer)S
1782(of)S
1916(the)S
2097(request)S
2480(are)S
2662(to)S
2789(be)S
(received.)441 2936 A
3440(The)S
3661(parameters)S
4227(of)S
12 I
4361(putrep)S
12 R
4719(specify)S
5101(the)S
5990 V
708(reply)S
1007(to)S
1151(be)S
1315(sent)S
1560(and)S
1784(the)S
1982(parameters)S
2565(of)S
12 I
2716(trans)S
12 R
3025(specify)S
3426(the)S
3625(request)S
4026(to)S
4171(be)S
4336(sent)S
4582(and)S
4807(where)S
5155(in)S
6130 V
708(memory)S
1141(the)S
1319(reply)S
1598(is)S
1709(to)S
1833(be)S
(received.)441 1977 A
6306 V
708(The)S
932(following)S
1439(sections)S
1865(explain)S
2257(the)S
2441(port-)S
2713(and)S
(capability-based)794 2924 A
3755(addressing)S
4309(mechanism)S
4897(used)S
5155(to)S
6446 V
708(specify)S
1110(services)S
1553(and)S
1779(objects,)S
2204(the)S
2404(exact)S
2712(structure)S
3189(of)S
3342(request)S
3744(and)S
3969(reply)S
4269(messages,)S
4807(the)S
5006(three)S
6586 V
708(system)S
1074(calls)S
1327(and)S
1531(the)S
1709(failure)S
2057(semantics)S
2565(of)S
2696(RPCs.)S
6902 V
12 I
708(Ports)S
(and)180 1000 A
(Capabilities)591 1210 A
7078 V
12 R
708(Each)S
999(object)S
1345(is)S
1476(both)S
1740(identified)S
2255(and)S
2479(protected)S
2980(by)S
3150(a)S
12 I
(capability)484 3254 A
12 R
3748(.)S
(Capabilities)579 3858 A
4487(have)S
4765(the)S
4963(set)S
5148(of)S
7218 V
708(operations)S
1264(that)S
1497(the)S
1696(holder)S
2056(may)S
2315(carry)S
2616(out)S
2821(on)S
2992(the)S
3191(object)S
3538(coded)S
3877(into)S
4116(them)S
4409(and)S
4634(they)S
4893(contain)S
7700 V
(332)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 333 339
BP
/slant 0 def
/height 0 def
500 V
12 R
708(rpc)S
883(\(L\))S
2567(Library)S
2961(Routines)S
4918(rpc)S
5093(\(L\))S
860 V
(enough)354 708 A
(redundancy)563 1106 A
1713(and)S
1931(cryptographic)S
2647(protection)S
3182(to)S
3320(make)S
3626(it)S
3738(infeasible)S
4254(to)S
4393(guess)S
4706(an)S
4865(object's)S
1000 V
(capability.)508 708 A
1300(Objects)S
1724(are)S
1926(implemented)S
2611(by)S
2784(server)S
3134(processes)S
3651(that)S
3886(manage)S
4315(them.)S
(Capabilities)579 4670 A
1140 V
708(have)S
973(the)S
(identity)370 1158 A
1565(of)S
1703(the)S
1888(object's)S
2309(server)S
2643(encoded)S
3082(into)S
3307(them)S
3586(\(the)S
3812(Service)S
4213(Port\))S
4494(so)S
4639(that,)S
4889(given)S
5195(a)S
1280 V
(capability,)508 708 A
1254(the)S
1440(system)S
1814(can)S
2019(find)S
2251(a)S
2342(server)S
2676(process)S
3076(that)S
3295(manages)S
3755(the)S
(corresponding)691 3940 A
4668(object.)S
5061(The)S
1420 V
708(structure)S
1163(of)S
(capabilities)553 1294 A
1877(and)S
2081(ports)S
2353(is)S
2464(defined)S
2857(in)S
2981(the)S
3159(standard)S
3599(include)S
3985(file)S
12 I
4178(amoeba.h)S
12 R
4660(:)S
1630 V
1096(48)S
2356(24)S
3256(8)S
3751(48)S
3901(bits)S
1650 V
12 Y1
1036(2)S
(2222222222222222222222222222222222222222222222222222222222222222)3840 1081 A
1790 V
12 R
1535(Port)S
2554(Object)S
3256(Rights)S
(Random)408 4087 A
1810 V
12 Y1
1036(2)S
(2222222222222222222222222222222222222222222222222222222222222222)3840 1081 A
1036(1)S
1770 V
1036(1)S
1810 V
2266(1)S
1770 V
2266(1)S
1810 V
3166(1)S
1770 V
3166(1)S
1810 V
3661(1)S
1770 V
3661(1)S
1810 V
4921(1)S
1770 V
4921(1)S
2080 V
11 C
(#define)469 1068 A
(PORTSIZE)536 1604 A
2207(6)S
2360 V
(typedef)469 1068 A
(struct)402 1604 A
2073({)S
2500 V
(int8)268 1652 A
11 Y1
2236(3)S
11 C
(portbytes[PORTSIZE];)1340 2291 A
2640 V
1068(})S
(port;)335 1202 A
2920 V
(typedef)469 1068 A
(struct)402 1604 A
2073({)S
3060 V
(int8)268 1652 A
(prv)201 2236 A
11 Y1
2437(3)S
11 C
(object[3];)670 2492 A
3200 V
(uint8)335 1652 A
(prv)201 2236 A
11 Y1
2437(3)S
11 C
(rights;)469 2492 A
3340 V
(port)268 1652 A
(prv)201 2236 A
11 Y1
2437(3)S
11 C
(random;)469 2492 A
3480 V
1068(})S
(private;)536 1202 A
3760 V
(typedef)469 1068 A
(struct)402 1604 A
2073({)S
3900 V
(port)268 1652 A
(cap)201 2236 A
11 Y1
2437(3)S
11 C
(port;)335 2492 A
4040 V
(private)469 1652 A
(cap)201 2236 A
11 Y1
2437(3)S
11 C
(priv;)335 2492 A
4180 V
1068(})S
(capability;)737 1202 A
4416 V
12 R
708(A)S
836(server)S
1173(thread)S
1516(identifies)S
2008(itself)S
2292(to)S
2427(the)S
2616(system)S
2993(by)S
3154(giving)S
3503(its)S
12 I
3659(port)S
12 R
3911(in)S
4046(the)S
4235(header)S
4599(of)S
4741(the)S
12 I
4930(getreq)S
4556 V
12 R
708(system)S
1091(call.)S
1374(The)S
1609(port)S
1851(that)S
2080(it)S
2194(gives)S
2495(must)S
2776(be)S
2936(the)S
12 I
3130(get-port)S
12 R
3530(,)S
3606(also)S
3847(called)S
4183(the)S
12 I
4377(private)S
4766(port)S
12 R
4977(,)S
5053(\(see)S
4696 V
12 I
(priv2pub)435 708 A
12 R
1153(\(L\))S
1345(for)S
1523(more)S
1808(details\).)S
2262(A)S
2386(client)S
2692(identifies)S
3180(the)S
3365(object)S
3698(of)S
3836(its)S
3988(transaction)S
12 Y
4594(-)S
12 R
4717(and)S
4928(with)S
5181(it)S
4836 V
708(the)S
909(service)S
1306(that)S
1541(manages)S
2017(that)S
2252(object)S
12 Y
2622(-)S
12 R
2761(by)S
2934(giving)S
3295(the)S
3496(object's)S
(capability)478 3933 A
4464(in)S
4611(the)S
12 I
4812(port)S
12 R
5075(and)S
4976 V
12 I
708(private)S
12 R
1103(fields)S
1415(of)S
1558(the)S
1748(request)S
2141(header.)S
2567(The)S
2798(port)S
3036(that)S
3261(the)S
3452(client)S
3765(has)S
3969(is)S
4093(the)S
12 I
4284(put-port)S
12 R
4733(and)S
4950(this)S
5168(is)S
5116 V
708(also)S
958(the)S
1161(port)S
1411(returned)S
1870(in)S
2019(the)S
2222(header)S
2600(of)S
2756(the)S
12 I
2959(getreq)S
12 R
3333(call)S
3564(when)S
3881(a)S
3990(message)S
4454(arrives.)S
4899(This)S
5168(is)S
5256 V
(illustrated)486 708 A
1224(in)S
1348(the)S
1526(example)S
1966(below.)S
5432 V
708(Both)S
980(client)S
1288(and)S
1500(server)S
1835(thus)S
2074(specify)S
2463(a)S
2556(port)S
2790(and)S
3003(this)S
3217(port)S
3451(is)S
3571(used)S
3831(by)S
3990(the)S
4177(system)S
4552(to)S
4685(bring)S
4979(client)S
5572 V
708(and)S
930(server)S
1275(together.)S
1780(To)S
1962(prevent)S
2373(other)S
2670(processes)S
3182(from)S
3466(impersonating)S
4206(a)S
4308(particular)S
4821(server,)S
5195(a)S
5712 V
708(port)S
943(has)S
1144(two)S
1366(appearances)S
1999(called)S
2330(get-port)S
2755(and)S
2970(put-port.)S
3461(A)S
3590(server)S
3928(needs)S
4244(to)S
4379(specify)S
4770(a)S
4865(get-port)S
5852 V
708(when)S
1015(it)S
1128(does)S
1394(a)S
12 I
1492(getreq)S
12 R
1855(call)S
2075(and)S
2293(a)S
2391(client)S
2705(has)S
2910(to)S
3048(specify)S
3442(a)S
3540(put-port)S
3974(\(as)S
4160(part)S
4393(of)S
4538(the)S
(capability\))519 4730 A
5992 V
708(when)S
1018(it)S
1134(makes)S
1491(a)S
12 I
1594(trans)S
12 R
1901(call.)S
2186(Get-port)S
2647(and)S
2870(put-port)S
3309(are)S
3507(related)S
3887(via)S
4084(a)S
4187(one-way)S
4653(function,)S
12 I
5135(F)S
12 R
5219(,)S
6132 V
708(which)S
1079(transforms)S
1673(a)S
1802(get-port)S
2261(into)S
2524(a)S
2653(put-port.)S
3178(The)S
3440(function)S
3917(was)S
4180(chosen)S
4589(so)S
4770(that)S
5026(it)S
5168(is)S
6272 V
708(`impossible')S
1353(to)S
1486(compute)S
1942(a)S
2036(get-port)S
2460(from)S
2736(a)S
2830(put-port.)S
3320(The)S
3548(library)S
3912(function)S
12 I
(priv2pub)435 4355 A
12 R
4840(does)S
5101(the)S
6412 V
708(one-way)S
1181(function)S
1639(transformation.)S
2468(The)S
2711(system)S
3102(guarantees)S
3675(that)S
3912(a)S
4021(client's)S
4434(request)S
4839(message)S
6552 V
708(containing)S
1279(put-port)S
12 I
1730(P)S
12 R
1875(in)S
2030(its)S
(capability)478 2206 A
(will)190 2745 A
2996(only)S
3271(be)S
3446(delivered)S
3958(to)S
4113(a)S
4229(server)S
4588(thread)S
4953(which)S
6692 V
708(specified)S
1176(get-port)S
12 I
1590(G)S
12 R
1718(in)S
1842(its)S
12 I
1987(getreq)S
12 R
2336(call,)S
2572(where)S
12 I
2899(P)S
12 R
3013(=)S
12 I
3111(F)S
12 R
3225(\()S
12 I
3266(G)S
12 R
3354(\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(333)180 5069 A
7920 V
EP
%%Page: 334 340
BP
/slant 0 def
/height 0 def
500 V
12 R
708(rpc)S
883(\(L\))S
2567(Library)S
2961(Routines)S
4918(rpc)S
5093(\(L\))S
860 V
12 I
708(Message)S
1161(Structure)S
1036 V
12 R
708(Both)S
974(request)S
1356(and)S
1562(reply)S
1843(messages)S
2332(consist)S
2700(of)S
2833(two)S
3047(parts,)S
3345(a)S
3431(header)S
3786(and)S
3992(a)S
4079(buffer.)S
4469(A)S
4590(message)S
5033(with)S
1176 V
708(an)S
852(empty)S
1184(buffer)S
1511(is)S
1622(a)S
12 I
1706(header-only)S
12 R
2330(message.)S
2830(The)S
3048(header)S
3401(has)S
3592(a)S
3676(fixed)S
3955(length)S
4287(and)S
4491(a)S
4575(fixed)S
(layout:)336 4854 A
1376 V
11 C
(typedef)469 1068 A
(uint16)402 1652 A
(command;)536 2236 A
1516 V
(typedef)469 1068 A
(uint16)402 1652 A
(bufsize;)536 2236 A
1796 V
(typedef)469 1068 A
(struct)402 1652 A
2121({)S
1936 V
(port)268 1652 A
2236(h)S
11 Y1
2303(3)S
11 C
(port;/*)469 2358 A
2961(6)S
(bytes)335 3095 A
3497(*/)S
2076 V
(port)268 1652 A
2236(h)S
11 Y1
2303(3)S
11 C
(signature;/*)804 2358 A
3296(6)S
(bytes)335 3430 A
3832(*/)S
2216 V
(private)469 1652 A
2236(h)S
11 Y1
2303(3)S
11 C
(priv;/*)469 2358 A
2894(10)S
(bytes)335 3095 A
3497(*/)S
2356 V
(command)469 1652 A
2236(h)S
11 Y1
2303(3)S
11 C
(command;/*)670 2358 A
3162(2)S
(bytes)335 3296 A
3698(*/)S
2496 V
(int32)335 1652 A
2236(h)S
11 Y1
2303(3)S
11 C
(offset;/*)603 2358 A
3095(4)S
(bytes)335 3229 A
3631(*/)S
2636 V
(bufsize)469 1652 A
2236(h)S
11 Y1
2303(3)S
11 C
(size;/*)469 2358 A
2961(2)S
(bytes)335 3095 A
3497(*/)S
2776 V
(uint16)402 1652 A
2236(h)S
11 Y1
2303(3)S
11 C
(extra;/*)536 2358 A
3028(2)S
(bytes,)402 3162 A
(total)335 3631 A
4033(32)S
(bytes)335 4234 A
4636(*/)S
2916 V
1068(})S
(header;)469 1202 A
3196 V
(#define)469 1068 A
1652(h)S
11 Y1
1719(3)S
11 C
(status)402 1774 A
2243(h)S
11 Y1
2310(3)S
11 C
(command/*)603 2365 A
(alias:)402 3035 A
(reply)335 3504 A
(status)402 3906 A
4375(*/)S
3396 V
12 R
708(The)S
926(meaning)S
1372(of)S
1503(the)S
1681(fields)S
1981(is)S
2092(as)S
2223(follows:)S
3572 V
708(h)S
12 Y1
768(3)S
12 R
828(port)S
1416(The)S
1647(port)S
1885(field)S
2151(contains)S
2597(the)S
2788(port-part)S
3256(of)S
3400(the)S
(capability)478 3591 A
4112(of)S
4257(the)S
4449(object)S
4789(on)S
4953(which)S
3712 V
1416(the)S
1595(request)S
(should)321 1976 A
2328(be)S
2473(carried)S
2842(out.)S
3056(The)S
3274(port)S
3499(field)S
3752(is)S
3863(interpreted)S
4419(only)S
4663(in)S
12 I
4787(trans)S
12 R
5075(and)S
3852 V
12 I
1416(getreq)S
12 R
1735(.)S
1827(With)S
12 I
2101(trans)S
12 R
2391(it)S
2491(contains)S
2926(the)S
3106(put-port)S
3528(of)S
3661(the)S
3841(service)S
4217(for)S
4391(which)S
4719(the)S
4899(request)S
3992 V
1416(is)S
1528(intended.)S
2035(When)S
(calling)330 2353 A
12 I
2713(getreq)S
12 R
3062(it)S
3160(contains)S
3593(the)S
3771(get-port)S
4185(of)S
4316(the)S
4494(service)S
4868(offered.)S
4132 V
1416(When)S
12 I
1741(getreq)S
12 R
2097(returns)S
2471(it)S
2576(contains)S
3016(the)S
3201(put-port)S
3628(sent)S
3860(by)S
4017(the)S
4202(client.)S
4570(In)S
4709(replies,)S
5101(the)S
4272 V
1416(contents)S
1849(of)S
1980(this)S
2185(field)S
2438(are)S
2617(passed)S
2969(from)S
3235(server)S
3562(to)S
3686(client)S
3986(uninterpreted.)S
4448 V
708(h)S
12 Y1
768(3)S
12 R
828(signature)S
1416(This)S
1661(field)S
1914(is)S
2025(reserved)S
2466(for)S
2638(future)S
2958(use,)S
3179(possibly)S
(connected)490 3611 A
4131(with)S
4377(security.)S
4624 V
708(h)S
12 Y1
768(3)S
12 R
828(command)S
1416(This)S
1694(field)S
1980(is)S
2124(normally)S
2624(used)S
2908(in)S
3065(requests)S
3526(to)S
3684(hold)S
3962(an)S
4140(operation)S
4661(code)S
4953(which)S
4764 V
1416(specifies)S
1876(which)S
2207(operation)S
2699(to)S
2828(carry)S
3112(out.)S
3360(In)S
3495(replies,)S
3883(it)S
3985(usually)S
(conveys)395 4368 A
4797(the)S
4979(result)S
4904 V
1416(of)S
1571(the)S
1773(operation)S
2285(back)S
2568(to)S
2717(the)S
2920(client)S
3245(\(e.g.,)S
3545(an)S
3714(error)S
4006(status\).)S
4438(The)S
4681(field)S
4959(is)S
5095(not)S
5044 V
1416(interpreted)S
1972(by)S
2122(the)S
2300(operating)S
2787(system.)S
5220 V
708(h)S
12 Y1
768(3)S
12 R
828(offset)S
1416(The)S
1640(name)S
1939(of)S
2077(this)S
2289(field)S
2549(was)S
2775(inspired)S
3202(by)S
3359(the)S
3544(use)S
3742(of)S
3880(transactions)S
4496(for)S
4675(reading)S
5075(and)S
5360 V
(writing)351 1416 A
1824(file)S
2044(objects.)S
2504(In)S
2662(the)S
2867(standard)S
3334(file)S
3554(read/write)S
(interface,)456 4105 A
4617(it)S
4741(is)S
4878(used)S
5155(to)S
5500 V
1416(specify)S
1819(offsets)S
2196(into)S
2437(a)S
2544(file.)S
2821(This)S
3090(32-bit)S
3433(field)S
3710(may,)S
4002(however,)S
4503(be)S
4671(used)S
4946(as)S
5101(the)S
5640 V
1416(application)S
1984(programmer)S
2613(sees)S
2845(fit.)S
3044(It)S
3149(is)S
3260(not)S
3444(interpreted)S
4000(by)S
4150(the)S
4328(operating)S
4815(system.)S
5816 V
708(h)S
12 Y1
768(3)S
12 R
828(size)S
5992 V
708(h)S
12 Y1
768(3)S
12 R
828(extra)S
1416(These)S
1749(fields)S
2063(can)S
2275(be)S
2433(used)S
2698(to)S
2836(communicate)S
3532(arbitrary)S
3995(16-bit)S
(quantities)471 4329 A
4845(between)S
6132 V
1416(client)S
1716(and)S
1920(server.)S
2307(They)S
2585(are)S
2764(not)S
2948(interpreted)S
3504(by)S
3654(the)S
3832(operating)S
4319(system.)S
6308 V
708(Request)S
1147(and)S
1371(reply)S
1670(messages)S
2177(consist)S
2563(of)S
2714(a)S
2818(header)S
3191(and)S
3416(optionally)S
3957(a)S
4062(buffer.)S
4470(The)S
4709(size)S
4949(of)S
5101(the)S
6448 V
708(buffer)S
1046(may)S
1295(be)S
1450(between)S
1895(0)S
1996(and)S
(30000)300 2211 A
6472 V
9 R
2511(decimal)S
6448 V
12 R
2850(bytes.)S
3206(Requests)S
3683(and)S
3898(replies,)S
4293(or)S
4435(buffers)S
4819(in)S
4953(which)S
6588 V
708(requests)S
1141(and)S
1351(replies)S
1711(are)S
1896(to)S
2026(be)S
(received,)441 2176 A
2653(are)S
2838(specified)S
3313(via)S
3498(three)S
3778(parameters,)S
4378(the)S
4563(address)S
4963(of)S
5101(the)S
6728 V
708(header,)S
1098(the)S
1283(address)S
1683(of)S
1821(the)S
2006(buffer,)S
2370(and)S
2581(the)S
2766(size)S
2992(of)S
3130(the)S
3315(buffer.)S
3709(The)S
3934(address)S
4334(of)S
4471(the)S
4655(header)S
5014(must)S
6868 V
708(always)S
1101(point)S
1405(to)S
1555(a)S
1665(valid)S
1963(area)S
2223(in)S
2374(memory)S
2834(\(that)S
3114(is,)S
3282(an)S
3453(area)S
3713(that)S
3952(is)S
4090(mapped)S
4529(in)S
4680(readable)S
5148(or)S
7008 V
708(read/writable,)S
1416(depending)S
1954(on)S
2110(whether)S
2537(it)S
2641(is)S
2758(used)S
3015(for)S
3193(sending)S
3604(or)S
(receiving\).)522 3741 A
4328(If)S
4445(the)S
4628(length)S
4965(of)S
5101(the)S
7148 V
708(buffer)S
1036(is)S
1148(zero,)S
1419(the)S
1599(buffer)S
1928(address)S
2323(is)S
(ignored.)399 2436 A
2897(If)S
3011(the)S
3191(length)S
3525(of)S
3658(the)S
3838(buffer)S
4167(is)S
(non-zero,)460 4280 A
4772(the)S
4952(buffer)S
7288 V
708(address)S
1104(must)S
1372(point)S
1653(to)S
1780(an)S
1927(area)S
2163(of)S
2297(memory)S
2732(of)S
2865(that)S
3079(length,)S
3443(wholly)S
3811(contained)S
4313(in)S
4439(a)S
4525(single)S
4846(memory)S
7700 V
(334)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 335 341
BP
/slant 0 def
/height 0 def
500 V
12 R
708(rpc)S
883(\(L\))S
2567(Library)S
2961(Routines)S
4918(rpc)S
5093(\(L\))S
860 V
708(segment.)S
1223(In)S
1376(other)S
1678(words,)S
2057(buffers)S
2454(may)S
2715(not)S
2922(straddle)S
3359(segment)S
(boundaries.)560 3815 A
4458(The)S
4699(segment)S
5155(in)S
1000 V
708(which)S
1051(a)S
1152(buffer)S
1496(lies)S
1712(must)S
1994(be)S
2155(readable)S
2613(or)S
2760(read/writable)S
3448(depending)S
3996(on)S
4162(whether)S
4599(it)S
4713(is)S
4840(used)S
5107(for)S
1140 V
708(sending)S
1113(or)S
(receiving)451 1244 A
1725(a)S
1809(message.)S
1316 V
708(When)S
1035(a)S
1128(request)S
1517(or)S
1657(reply)S
1945(is)S
(received)411 2065 A
2515(that)S
2737(is)S
2858(larger)S
3182(than)S
3430(the)S
3618(available)S
4096(buffer,)S
4463(no)S
4623(error)S
4900(code)S
5168(is)S
1456 V
708(returned.)S
1218(The)S
1451(number)S
1865(of)S
2011(bytes)S
2311(actually)S
(received)411 2740 A
3196(in)S
3335(the)S
3528(buffer)S
3870(is)S
3996(returned.)S
4505(Truncation)S
5081(can)S
1596 V
708(only)S
957(be)S
1106(detected)S
1545(if)S
1655(the)S
12 I
1838(h)S
12 Y1
1898(3)S
12 I
1958(size)S
12 R
2185(field)S
2443(is)S
2559(used)S
2815(to)S
2944(transmit)S
3377(the)S
3560(length)S
3897(of)S
4033(the)S
4216(buffer)S
4548(sent.)S
4839(If)S
4957(this)S
5168(is)S
1736 V
(done)234 708 A
972(properly,)S
1442(an)S
1586(example)S
2026(test)S
2225(for)S
2397(truncation)S
2918(is:)S
1936 V
11 C
1068(if)S
(\(ERR)268 1269 A
11 Y1
1537(3)S
11 C
(STATUS\(stat)737 1592 A
2396(=)S
(getreq\(&hdr,)804 2530 A
(&buf,)335 3401 A
(cnt\)\)\))402 3803 A
4272({)S
2076 V
1652(/*)S
(error)335 1853 A
2255(*/)S
2216 V
(...)201 1652 A
2356 V
1068(})S
2496 V
1068(if)S
(\(stat)335 1269 A
1671(!=)S
(hdr.h)335 1872 A
11 Y1
2207(3)S
11 C
(size\))335 2262 A
2664({)S
2636 V
1652(/*)S
(truncation)670 1853 A
2590(*/)S
2776 V
(...)201 1652 A
2916 V
1068(})S
3152 V
12 R
708(Programmers)S
1396(are)S
(strongly)396 1580 A
2011(encouraged)S
2603(to)S
2732(use)S
2929(the)S
12 I
3113(h)S
12 Y1
3173(3)S
12 I
3233(size)S
12 R
3461(field)S
3720(to)S
3850(communicate)S
4538(the)S
4722(true)S
4947(length)S
3292 V
708(of)S
839(a)S
923(message)S
1363(buffer)S
1690(to)S
1814(the)S
(receiver.)422 1992 A
3608 V
12 I
708(getreq)S
3844 V
11 C
(bufsize)469 1068 A
3984 V
(getreq\(hdr,)737 1068 A
(buf,)268 1872 A
(size\))335 2207 A
4124 V
(header)402 1068 A
(*hdr;)335 1537 A
4264 V
(bufptr)402 1068 A
(buf;)268 1537 A
4404 V
(bufsize)469 1068 A
(size;)335 1604 A
4604 V
12 R
708(A)S
826(server)S
1153(thread)S
1486(uses)S
12 I
1724(getreq)S
12 R
2073(to)S
(receive)351 2197 A
2578(a)S
2662(request)S
3042(from)S
3308(a)S
3393(client.)S
3754(After)S
4043(processing)S
4591(the)S
4770(request,)S
5181(it)S
4744 V
708(must)S
999(return)S
1345(a)S
1455(reply)S
1760(by)S
1936(a)S
2046(call)S
2278(on)S
12 I
2454(putrep)S
12 R
2779(,)S
2865(or)S
3021(forward)S
3461(the)S
3664(request)S
4069(to)S
4218(another)S
4636(server)S
4988(using)S
4884 V
12 I
708(grp)S
12 Y1
875(3)S
12 I
935(forward)S
12 R
1394(\(see)S
12 I
1651(grp)S
12 R
1828(\(L\)\).)S
2146(A)S
2295(server)S
2653(thread)S
3017(may)S
3286(carry)S
3597(out)S
3813(only)S
4089(one)S
4325(request)S
4737(at)S
4887(a)S
5003(time.)S
5024 V
(Successful)518 708 A
12 I
1274(getreq)S
12 R
1641(and)S
12 I
1862(putrep)S
12 R
2234(calls)S
2504(must)S
2786(therefore)S
3272(alternate.)S
3798(A)S
3933(server)S
4277(thread)S
4627(may)S
4882(always,)S
5164 V
708(even)S
966(while)S
1266(serving)S
1652(\(that)S
1906(is,)S
2048(after)S
12 I
2303(getreq)S
12 R
2653(and)S
2858(before)S
12 I
3199(putrep)S
12 R
3524(\),)S
3626(use)S
12 I
3818(trans)S
12 R
4107(calls)S
4361(to)S
4486(have)S
4745(operations)S
5304 V
708(carried)S
1076(out)S
1260(by)S
1410(other)S
1689(servers.)S
5480 V
708(A)S
845(server)S
1191(thread)S
1543(must)S
1827(provide)S
2245(the)S
2442(get-port)S
2875(on)S
3044(which)S
3389(it)S
(receives)398 3506 A
3954(in)S
4098(the)S
12 I
4296(h)S
12 Y1
4356(3)S
12 I
4416(port)S
12 R
4677(field)S
4950(of)S
5101(the)S
5620 V
708(header)S
1061(parameter.)S
1637(The)S
1855(code)S
2113(for)S
(receiving)451 2285 A
2766(a)S
2850(request)S
3230(thus)S
3461(becomes:)S
5820 V
11 C
(header.h)536 1068 A
11 Y1
1604(3)S
11 C
(port)268 1659 A
1994(=)S
(server)402 2128 A
11 Y1
2530(3)S
11 C
(get)201 2585 A
11 Y1
2786(3)S
11 C
(port;)335 2841 A
5960 V
(status)402 1068 A
1537(=)S
(getreq\(&header,)1005 1671 A
(buf,)268 2743 A
(size\);)402 3078 A
6160 V
12 I
708(Getreq)S
12 R
1092(blocks)S
1444(a)S
1535(thread)S
(until)222 1876 A
2136(a)S
2228(request)S
2616(is)S
(received)411 2735 A
3184(\(or)S
(until)222 3364 A
3624(the)S
3810(thread)S
4151(is)S
4270(alerted)S
4639(by)S
4797(a)S
4889(signal\).)S
6300 V
708(The)S
953(returned)S
1414(value,)S
12 I
1763(status)S
12 R
2055(,)S
2142(contains)S
2602(the)S
2807(number)S
3233(of)S
3391(bytes)S
3703(in)S
3854(the)S
4059(buffer)S
4413(when)S
4732(the)S
4936(call)S
5168(is)S
6440 V
(successful,)528 708 A
1266(or)S
1397(a)S
1481(negative)S
1921(error)S
2188(code.)S
2506(If)S
2618(the)S
2796(request)S
3176(attempted)S
3684(to)S
3808(pass)S
4046(more)S
4325(than)S
12 I
4563(size)S
12 R
4785(bytes,)S
5101(the)S
6580 V
708(message)S
(placed)316 1153 A
1504(in)S
1633(the)S
1816(area)S
2054(pointed)S
2451(to)S
2580(by)S
12 I
2735(buf)S
12 R
2934(is)S
3050(truncated)S
3536(to)S
12 I
3665(size)S
12 R
3857(.)S
3952(Errors)S
4291(are)S
4475(discussed)S
4973(in)S
5101(the)S
6720 V
708(next)S
946(section.)S
6896 V
(Upon)268 708 A
(successful)498 1027 A
1576(completion,)S
2201(the)S
2400(header)S
2774(pointed)S
3187(to)S
3332(by)S
12 I
3503(hdr)S
12 R
3731(contains)S
4185(a)S
(copy)234 4290 A
4575(of)S
4727(the)S
4926(header)S
7036 V
708(given)S
1013(in)S
1144(the)S
(corresponding)691 1329 A
12 I
2057(trans)S
12 R
2352(call)S
2565(of)S
2702(a)S
2792(client.)S
3158(Therefore)S
3673(the)S
12 I
3857(h)S
12 Y1
3917(3)S
12 I
3977(port)S
12 R
4224(field)S
(will)190 4483 A
4709(contain)S
5101(the)S
7176 V
708(put-port)S
1163(which)S
1525(was)S
1780(used)S
2067(by)S
2253(the)S
2467(client.)S
2863(A)S
3017(subsequent)S
3619(call)S
3861(to)S
12 I
4021(getreq)S
12 R
4406(must)S
4707(be)S
4887(sure)S
5155(to)S
7316 V
(reinitialize)521 708 A
12 I
1259(h)S
12 Y1
1319(3)S
12 I
1379(port)S
12 R
1620(to)S
1744(the)S
1922(get-port.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(335)180 5069 A
7920 V
EP
%%Page: 336 342
BP
/slant 0 def
/height 0 def
500 V
12 R
708(rpc)S
883(\(L\))S
2567(Library)S
2961(Routines)S
4918(rpc)S
5093(\(L\))S
860 V
12 I
708(putrep)S
1096 V
11 C
(void)268 1068 A
1236 V
(putrep\(hdr,)737 1068 A
(buf,)268 1872 A
(size\))335 2207 A
1376 V
(header)402 1068 A
(*hdr;)335 1537 A
1516 V
(bufptr)402 1068 A
(buf;)268 1537 A
1656 V
(bufsize)469 1068 A
(size;)335 1604 A
1856 V
12 R
708(After)S
1032(processing)S
1615(a)S
1735(request,)S
2181(a)S
2301(server)S
2665(must)S
2967(return)S
3324(a)S
3445(reply)S
3761(using)S
12 I
4089(putrep)S
12 R
4414(.)S
4541(All)S
4764(the)S
4979(fields)S
1996 V
708(\(including)S
1263(the)S
12 I
1469(h)S
12 Y1
1529(3)S
12 I
(signature)456 1589 A
12 R
2113(field\))S
2435(of)S
2594(the)S
2800(header)S
3181(pointed)S
3601(to)S
3753(by)S
12 I
3931(hdr)S
12 R
4165(are)S
4371(sent)S
4623(to)S
4774(the)S
4979(client)S
2136 V
708(unmodified.)S
1358(As)S
1526(a)S
1613(matter)S
1957(of)S
(convention,)566 2091 A
2690(the)S
12 I
2871(h)S
12 Y1
2931(3)S
12 I
(command)470 2991 A
12 R
3504(field)S
3760(is)S
3874(used)S
4128(as)S
4262(a)S
12 I
4349(status)S
12 R
4674(field)S
4930(and)S
5138(is,)S
2276 V
708(in)S
834(fact,)S
1079(referred)S
1497(to)S
1623(as)S
12 I
1756(h)S
12 Y1
1816(3)S
12 I
1876(status)S
12 R
2168(.)S
2260(It)S
2367(is)S
2480(important)S
2983(that)S
3197(all)S
3351(paths)S
(through)375 3638 A
4045(the)S
4225(server)S
4554(actually)S
4969(set)S
5135(an)S
2416 V
708(error)S
975(status)S
1281(rather)S
1595(than)S
1833(returning)S
2307(the)S
2485(original)S
2892(command)S
3398(code.)S
2592 V
708(It)S
821(is)S
940(the)S
(conventional)624 1126 A
1789(wisdom)S
2211(to)S
2344(allocate)S
2761(command)S
3276(and)S
3489(error-status)S
4082(codes)S
4396(centrally)S
4860(in)S
4993(order)S
2732 V
708(to)S
837(prevent)S
1235(strange)S
1620(things)S
1950(from)S
2221(happening)S
2758(when)S
3055(one)S
3264(mistakes)S
3723(one)S
3932(type)S
4175(of)S
4311(object)S
4641(or)S
4776(server)S
5107(for)S
2872 V
708(another.)S
1184(It)S
1312(also)S
1560(simplifies)S
2092(object)S
2441(inheritance)S
3034(using)S
3349(AIL.)S
3666(Currently)S
4184(the)S
4386(central)S
4771(allocation)S
3012 V
708(makes)S
1047(use)S
1238(of)S
1369(the)S
1547(files)S
12 I
1787(cmdreg.h)S
12 R
2280(and)S
12 I
2484(stderr.h)S
12 R
2873(.)S
3188 V
708(Every)S
1038(request)S
1429(must)S
1705(be)S
(accompanied)638 1860 A
2539(by)S
2700(a)S
2795(reply.)S
3145(It)S
3261(is)S
3383(therefore)S
3863(a)S
3958(programming)S
4658(error)S
4937(to)S
5073(call)S
3328 V
12 I
708(getreq)S
12 R
1068(when)S
1371(a)S
1466(call)S
1683(to)S
12 I
1818(putrep)S
12 R
2184(can)S
2393(legally)S
2764(be)S
2919(made)S
3221(\(and)S
3476(vice)S
3718(versa\).)S
4115(The)S
4343(blocking)S
4805(nature)S
5148(of)S
3468 V
12 I
708(trans)S
12 R
1043(automatically)S
1781(prevents)S
2269(a)S
2401(client)S
2749(thread)S
3130(from)S
3444(being)S
(involved)422 3790 A
4290(in)S
4462(more)S
4789(than)S
5075(one)S
3608 V
708(transaction.)S
1331(As)S
1497(a)S
1581(consequence,)S
2258(a)S
2342(thread)S
2675(can)S
2873(be)S
(involved)422 3017 A
3469(in)S
3593(at)S
3711(most)S
3976(two)S
4188(transactions)S
4797(at)S
4915(a)S
4999(time:)S
3748 V
708(once)S
966(as)S
1097(a)S
1181(server)S
1508(and)S
1712(once)S
1970(as)S
2101(a)S
2185(client.)S
4064 V
12 I
708(trans)S
4300 V
11 C
(bufsize)469 1068 A
4440 V
(trans\(request)871 1068 A
11 Y1
1939(3)S
11 C
(hdr,)268 1994 A
(request)469 2329 A
11 Y1
2798(3)S
11 C
(buf,)268 2853 A
(request)469 3188 A
11 Y1
3657(3)S
11 C
(size,)335 3712 A
4580 V
(reply)335 1652 A
11 Y1
1987(3)S
11 C
(hdr,)268 2042 A
(reply)335 2377 A
11 Y1
2712(3)S
11 C
(buf,)268 2767 A
(reply)335 3102 A
11 Y1
3437(3)S
11 C
(size\))335 3492 A
4720 V
(header)402 1068 A
(*request)536 1537 A
11 Y1
2073(3)S
11 C
(hdr;)268 2128 A
4860 V
(bufptr)402 1068 A
(request)469 1537 A
11 Y1
2006(3)S
11 C
(buf;)268 2061 A
5000 V
(bufsize)469 1068 A
(request)469 1604 A
11 Y1
2073(3)S
11 C
(size;)335 2128 A
5140 V
(header)402 1068 A
(*reply)402 1537 A
11 Y1
1939(3)S
11 C
(hdr;)268 1994 A
5280 V
(bufptr)402 1068 A
(reply)335 1537 A
11 Y1
1872(3)S
11 C
(buf;)268 1927 A
5420 V
(bufsize)469 1068 A
(reply)335 1604 A
11 Y1
1939(3)S
11 C
(size;)335 1994 A
5620 V
12 I
708(Trans)S
12 R
1046(attempts)S
1504(to)S
1645(deliver)S
2029(a)S
2130(request)S
2528(to)S
2670(a)S
2772(server)S
3117(and)S
3339(passes)S
3696(back)S
3972(the)S
4168(server's)S
4601(reply.)S
12 I
4958(Trans)S
5760 V
12 R
708(blocks)S
(until)222 1093 A
1385(the)S
1603(transaction)S
2205(has)S
2436(either)S
2783(failed)S
3129(or)S
3299(a)S
3422(reply)S
3740(is)S
(received.)441 3890 A
12 I
4430(Trans)S
12 R
4790(takes)S
5108(six)S
5900 V
708(parameters,)S
1323(three)S
1618(to)S
1764(specify)S
2166(the)S
2366(request)S
2768(to)S
2915(be)S
3082(sent)S
3330(to)S
3477(the)S
3678(server)S
4028(and)S
4255(three)S
4551(to)S
4698(specify)S
5101(the)S
6040 V
708(memory)S
1160(locations)S
1646(to)S
(place)256 1789 A
2094(the)S
2291(reply.)S
2648(The)S
2884(request)S
3282(header)S
3653(pointed)S
4063(to)S
4205(by)S
12 I
4373(request)S
12 Y1
4729(3)S
12 I
4789(hdr)S
12 R
5014(must)S
6180 V
708(contain)S
1095(the)S
1274(put-port)S
1695(of)S
1827(the)S
2006(service)S
2381(to)S
2506(be)S
2651(called)S
2973(in)S
3099(the)S
12 I
3279(h)S
12 Y1
3339(3)S
12 I
3399(port)S
12 R
3642(field.)S
3957(The)S
4177(system)S
4545(guarantees)S
5095(not)S
6320 V
708(to)S
848(deliver)S
1231(a)S
1331(request)S
1726(to)S
1865(a)S
1964(server)S
2306(that)S
2533(has)S
2739(not)S
2938(specified)S
3421(the)S
3614(associated)S
4157(get-port)S
4586(in)S
4725(the)S
12 I
4918(h)S
12 Y1
4978(3)S
12 I
5038(port)S
6460 V
12 R
708(field)S
981(of)S
1132(its)S
12 I
1297(getreq)S
12 R
1666(call.)S
1952(Note)S
2238(that)S
2470(there)S
2763(is)S
2894(only)S
3158(a)S
3262(negative)S
3722(guarantee.)S
4303(The)S
4541(system)S
(cannot)322 4927 A
6600 V
708(guarantee)S
1228(to)S
1371(deliver)S
1757(a)S
1859(request;)S
2291(it)S
2407(can)S
2623(merely)S
3008(make)S
3318(an)S
3480(effort.)S
3859(The)S
4095(system)S
4479(does)S
4748(guarantee,)S
6740 V
708(however,)S
1187(that)S
1401(a)S
1487(request)S
(will)190 1869 A
2091(be)S
(received)411 2237 A
2680(at)S
2800(most)S
3067(once)S
3327(and)S
3533(by)S
3685(no)S
3838(more)S
4120(than)S
4361(one)S
4568(server.)S
12 I
4958(Trans)S
6880 V
12 R
708(has)S
12 B
899(at-most-once)S
12 R
1596(semantics.)S
7056 V
708(When)S
1033(a)S
12 I
1124(trans)S
12 R
1419(fails,)S
1696(the)S
1881(contents)S
2321(of)S
2459(the)S
2644(reply)S
2930(header)S
3290(and)S
3501(reply)S
3787(buffer)S
4121(are)S
(undefined)483 4308 A
4829(and)S
5041(may)S
7196 V
708(have)S
973(been)S
1238(changed.)S
1737(The)S
1962(contents)S
2402(of)S
2540(the)S
2725(request)S
3112(header)S
3472(and)S
3683(request)S
4070(buffer)S
4403(are)S
4588(guaranteed)S
5155(to)S
7336 V
708(be)S
856(unchanged,)S
1442(unless)S
1778(they)S
2020(overlap)S
2417(the)S
2599(reply)S
2882(header)S
3240(or)S
3376(reply)S
3660(buffer.)S
4052(It)S
4162(is)S
4278(common)S
4735(practice)S
5155(to)S
7700 V
(336)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 337 343
BP
/slant 0 def
/height 0 def
500 V
12 R
708(rpc)S
883(\(L\))S
2567(Library)S
2961(Routines)S
4918(rpc)S
5093(\(L\))S
860 V
708(use)S
899(the)S
1077(same)S
1356(header)S
1709(and)S
1913(buffer)S
2240(for)S
2412(request)S
2792(and)S
2996(reply)S
3275(in)S
3399(one)S
3603(transaction.)S
1036 V
708(The)S
927(other)S
1207(fields)S
1508(in)S
1633(the)S
1812(header,)S
2196(except)S
2544(possibly)S
12 I
2978(h)S
12 Y1
3038(3)S
12 I
(signature)456 3098 A
12 R
3564(,)S
3626(are)S
3807(not)S
3993(interpreted)S
4551(by)S
4703(the)S
4883(system.)S
1176 V
708(But)S
939(again,)S
(convention)536 1288 A
1881(dictates)S
2309(the)S
2514(use)S
2732(of)S
2890(the)S
12 I
3095(h)S
12 Y1
3155(3)S
12 I
3215(private)S
12 R
3625(field)S
3904(for)S
4102(the)S
4306(private)S
4699(part)S
4944(of)S
5101(the)S
1316 V
(capability)478 708 A
1226(of)S
1367(the)S
1555(object)S
1891(to)S
2025(which)S
2361(the)S
2549(request)S
2939(refers)S
3257(\(the)S
3486(port)S
3721(part)S
3950(is)S
4071(in)S
4205(the)S
12 I
4394(h)S
12 Y1
4454(3)S
12 I
4514(port)S
12 R
4766(field\),)S
5101(the)S
1456 V
12 I
708(h)S
12 Y1
768(3)S
12 I
(command)470 828 A
12 R
1344(field)S
1603(for)S
1781(a)S
1871(unique)S
2235(request)S
2621(code,)S
2915(the)S
12 I
3099(h)S
12 Y1
3159(3)S
12 I
3219(status)S
12 R
3547(field)S
3806(for)S
3983(a)S
4072(unique)S
4435(error)S
4707(reply)S
4991(code,)S
1596 V
708(and)S
921(the)S
12 I
1108(h)S
12 Y1
1168(3)S
12 I
1228(size)S
12 R
1459(field)S
1721(for)S
1903(the)S
2091(size)S
2320(of)S
2461(request)S
2851(and)S
3065(reply.)S
3414(The)S
3642(value)S
3944(returned)S
4388(by)S
12 I
4548(trans)S
12 R
4846(contains)S
1736 V
708(the)S
891(number)S
1295(of)S
1430(bytes)S
1719(in)S
1847(the)S
2029(buffer)S
2360(when)S
2656(the)S
2838(call)S
3048(is)S
(successful,)528 3163 A
3725(or)S
3860(a)S
3948(negative)S
4392(error)S
4663(code.)S
4985(If)S
5101(the)S
1876 V
708(reply)S
989(attempted)S
1500(to)S
1627(pass)S
1868(more)S
2150(than)S
12 I
2391(reply)S
12 Y1
2640(3)S
12 I
2700(size)S
12 R
2925(bytes,)S
3243(the)S
3424(message)S
(placed)316 3867 A
4216(in)S
4343(the)S
4524(area)S
4760(pointed)S
5155(to)S
2016 V
708(by)S
12 I
858(reply)S
12 Y1
1107(3)S
12 I
1167(buf)S
12 R
1361(is)S
1472(truncated)S
1953(to)S
12 I
2077(reply)S
12 Y1
2326(3)S
12 I
2386(size)S
12 R
2578(.)S
2332 V
12 I
708(timeout)S
2568 V
11 C
(interval)536 1068 A
2708 V
(timeout\(length\))1005 1068 A
2848 V
(interval)536 1068 A
(length;)469 1671 A
3084 V
12 R
708(Before)S
1070(a)S
1156(request)S
1538(can)S
1738(be)S
1884(delivered)S
2367(by)S
2519(the)S
2699(system,)S
3097(the)S
3277(client's)S
3667(kernel)S
4002(must)S
(know)268 4270 A
4571(where)S
4901(to)S
5028(send)S
3224 V
708(the)S
896(request.)S
1346(It)S
1461(must)S
12 I
1735(locate)S
12 R
2080(a)S
2173(server.)S
2569(Details)S
2953(of)S
3093(the)S
3280(locate)S
3609(mechanism)S
4199(are)S
4387(not)S
4580(relevant)S
5010(here,)S
3364 V
708(but)S
893(what)S
1161(is)S
1274(relevant)S
1697(is)S
1810(that)S
2024(there)S
2299(is)S
2412(a)S
2498(minimum)S
3000(time)S
3248(that)S
3462(the)S
3642(kernel)S
(will)190 3977 A
4199(spend)S
4512(trying)S
4833(to)S
4959(locate)S
3504 V
708(a)S
796(suitable)S
1207(server.)S
1598(This)S
1847(per-thread)S
2380(locate)S
2704(timeout)S
3108(can)S
3310(be)S
3458(modified)S
3929(by)S
4083(the)S
12 I
4265(timeout)S
12 R
4673(system)S
5043(call.)S
3644 V
708(Its)S
879(argument)S
12 I
1385(length)S
12 R
1746(is)S
1876(the)S
2073(new)S
2324(minimum)S
2843(timeout)S
3262(in)S
(milliseconds.)642 3405 A
4126(It)S
4250(returns)S
4636(the)S
4833(previous)S
3784 V
708(value)S
1003(of)S
1137(the)S
1318(timeout.)S
1781(The)S
2002(default)S
2372(timeout)S
2775(is)S
2889(system)S
3258(dependent;)S
3821(it)S
3922(is)S
4036(typically)S
4493(5)S
(seconds.)412 4586 A
5061(It)S
5168(is)S
3924 V
708(not)S
911(a)S
(good)240 1014 A
1303(idea)S
1554(to)S
1697(set)S
1881(the)S
2078(timeout)S
2497(below)S
2842(2)S
(seconds)382 2951 A
3382(\()S
12 I
3423(length)S
12 R
3745(=)S
(2000\))281 3833 A
4163(since)S
4461(it)S
4578(may)S
4835(result)S
5155(in)S
4064 V
708(locate)S
1028(failures)S
1423(even)S
(though)334 1681 A
2045(the)S
2223(server)S
2550(is)S
2661(actually)S
3075(available.)S
4380 V
12 I
708(Error)S
1013(Codes)S
(and)180 1344 A
1554(Failure)S
1947(Semantics)S
4556 V
12 R
708(All)S
897(three)S
1174(calls,)S
12 I
1461(getreq)S
12 R
1780(,)S
12 I
1844(putrep)S
12 R
2203(and)S
12 I
2411(trans)S
12 R
2703(can)S
2905(fail)S
3102(in)S
3230(a)S
3318(number)S
3721(of)S
3856(ways.)S
4199(A)S
4321(distinction)S
4866(must)S
5135(be)S
4696 V
708(made)S
1004(between)S
1442(programming)S
2134(errors)S
2452(and)S
2660(failures.)S
3118(An)S
3299(error)S
3569(is)S
3683(caused)S
4045(by)S
4198(faults)S
4501(in)S
4628(the)S
4809(program,)S
4836 V
708(for)S
886(instance,)S
(calling)330 1349 A
12 I
1715(getreq)S
12 R
2070(when)S
2368(a)S
12 I
2458(putrep)S
12 R
2819(is)S
(still)183 2937 A
3157(due.)S
3428(A)S
3553(failure)S
3908(is)S
4026(caused)S
4392(by)S
4549(events)S
(beyond)354 4895 A
4976 V
708(the)S
886(control)S
1259(of)S
1390(the)S
1568(programmer:)S
2231(server)S
2558(crashes,)S
2975(network)S
3402(failures,)S
3827(etc.)S
5152 V
708(Errors)S
1064(are)S
1265(caused)S
1646(by)S
1818(program)S
(bugs.)257 2280 A
2619(A)S
2759(program)S
3221(with)S
3489(an)S
3655(error)S
3944(in)S
4090(it)S
(should)321 4210 A
4584(be)S
(debugged.)498 4751 A
5292 V
708(Errors,)S
1089(therefore,)S
1605(cause)S
1921(an)S
2082(exception,)S
2629(which,)S
3002(when)S
3310(not)S
3510(fielded)S
3893(by)S
4059(the)S
4253(program,)S
4739(causes)S
5101(the)S
5432 V
708(program)S
1149(to)S
1274(abort.)S
1614(When)S
1933(they)S
2173(are)S
2354(fielded,)S
2753(an)S
2899(interrupt)S
3349(routine)S
3724(is)S
3837(called)S
4159(to)S
4285(handle)S
4639(the)S
4819(error.)S
5148(In)S
5572 V
(addition,)426 708 A
1172(the)S
1358(system)S
1732(calls)S
1993(also)S
2225(return)S
2552(a)S
2643(negative)S
3090(error)S
3364(code.)S
3689(Under)S
4029(Amoeba)S
4476(the)S
4661(exception)S
5168(is)S
5712 V
12 C
(EXC)219 708 A
12 Y1
927(3)S
12 C
(SYS)219 987 A
12 R
1206(.)S
1296(Under)S
11 R
1627(UNIX)S
12 R
1934(the)S
2112(exception)S
2612(generated)S
3113(is)S
12 C
(SIGSYS)438 3224 A
12 R
3662(.)S
5888 V
708(All)S
899(failures)S
1299(cause)S
12 I
1603(trans)S
12 R
1896(and)S
12 I
2105(getreq)S
12 R
2459(to)S
2588(return)S
2913(a)S
3002(negative)S
3448(error)S
3721(code.)S
4045(The)S
4269(include)S
4661(file)S
12 I
4860(stderr.h)S
6028 V
12 R
708(provides)S
1168(the)S
1360(mapping)S
1825(between)S
2272(the)S
2463(error)S
2743(codes)S
3061(and)S
3278(the)S
3469(names)S
3821(used)S
4085(in)S
4222(programs.)S
4782(The)S
5013(table)S
6168 V
708(below)S
1034(gives)S
1319(an)S
1463(overview)S
1944(of)S
2075(the)S
2253(errors)S
2567(and)S
2772(failures,)S
3198(in)S
3323(which)S
3650(calls)S
3904(they)S
4143(can)S
4342(occur)S
4642(\(T)S
4788(for)S
12 I
4961(trans)S
12 R
5219(,)S
6308 V
708(G)S
828(for)S
12 I
1002(getreq)S
12 R
1352(and)S
1557(P)S
1655(for)S
12 I
1828(putrep)S
12 R
2153(\),)S
2255(the)S
2434(code)S
2693(returned)S
3128(on)S
12 I
3279(getreq)S
12 R
3629(or)S
12 I
3761(trans)S
12 R
4050(\()S
12 I
4091(putrep)S
12 R
4437(does)S
4689(not)S
4874(return)S
5195(a)S
6448 V
708(value\),)S
1071(and)S
1275(whether)S
1696(an)S
1840(exception)S
2340(is)S
2451(raised)S
2771(when)S
3063(an)S
3207(error)S
3474(occurs.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(337)180 5069 A
7920 V
EP
%%Page: 338 344
BP
/slant 0 def
/height 0 def
500 V
12 R
708(rpc)S
883(\(L\))S
2567(Library)S
2961(Routines)S
4918(rpc)S
5093(\(L\))S
740 V
12 Y1
1063(2)S
(222222222222222222222222222222222222222222222222222222222222222)3780 1113 A
880 V
12 I
1215(Value)S
1527(returned)S
3677(Error)S
3982(description)S
(Exception)484 2216 A
2881(Which)S
1020 V
2881(call)S
1030 V
12 Y1
1063(2)S
(222222222222222222222222222222222222222222222222222222222222222)3780 1113 A
1050 V
1063(2)S
(222222222222222222222222222222222222222222222222222222222222222)3780 1113 A
1180 V
10 R
1123(RPC)S
10 Y1
1313(3)S
10 R
(NOTFOUND)556 1363 A
2880(T)S
12 R
3371(Server)S
3718(not)S
(found)281 3902 A
1200 V
12 Y1
1063(2)S
(222222222222222222222222222222222222222222222222222222222222222)3780 1113 A
1340 V
10 R
1123(RPC)S
10 Y1
1313(3)S
10 R
1363(ABORTED)S
2880(T)S
3002(G)S
12 R
3371(Signal)S
(received)411 3710 A
4151(while)S
4451(blocked)S
1360 V
12 Y1
1063(2)S
(222222222222222222222222222222222222222222222222222222222222222)3780 1113 A
1500 V
10 R
1123(RPC)S
10 Y1
1313(3)S
10 R
1363(FAILURE)S
2880(T)S
12 R
3371(Server)S
3718(or)S
3849(network)S
4276(failure)S
1520 V
12 Y1
1063(2)S
(222222222222222222222222222222222222222222222222222222222222222)3780 1113 A
1660 V
10 R
1123(RPC)S
10 Y1
1313(3)S
10 R
1363(FAILURE)S
12 R
2428(*)S
10 R
2880(T)S
3002(G)S
3135(P)S
12 R
3371(Buffer)S
3718(length)S
4050(>)S
(30000)300 4148 A
1680 V
12 Y1
1063(2)S
(222222222222222222222222222222222222222222222222222222222222222)3780 1113 A
1820 V
10 R
1123(RPC)S
10 Y1
1313(3)S
10 R
1363(FAILURE)S
12 R
2428(*)S
10 R
3002(G)S
12 R
3371(Getreq)S
3732(while)S
4032(serving)S
1840 V
12 Y1
1063(2)S
(222222222222222222222222222222222222222222222222222222222222222)3780 1113 A
1980 V
10 R
1123(RPC)S
10 Y1
1313(3)S
10 R
(BADADDRESS)673 1363 A
12 R
2428(*)S
10 R
2880(T)S
3002(G)S
3135(P)S
12 R
3371(Use)S
3590(of)S
3721(invalid)S
4087(pointers)S
2000 V
12 Y1
1063(2)S
(222222222222222222222222222222222222222222222222222222222222222)3780 1113 A
2140 V
10 R
1123(RPC)S
10 Y1
1313(3)S
10 R
1363(BADPORT)S
2880(T)S
3002(G)S
12 R
3371(Use)S
3590(of)S
3721(a)S
3805(NULL-port)S
2160 V
12 Y1
1063(2)S
(222222222222222222222222222222222222222222222222222222222222222)3780 1113 A
2300 V
12 R
2428(*)S
10 R
3135(P)S
12 R
3371(Putrep)S
3717(while)S
4017(not)S
4201(serving)S
2320 V
12 Y1
1063(2)S
(222222222222222222222222222222222222222222222222222222222222222)3780 1113 A
2460 V
10 R
1123(RPC)S
10 Y1
1313(3)S
10 R
(TRYAGAIN)528 1363 A
2880(T)S
12 R
3371(Out)S
3583(of)S
3714(resources)S
2480 V
12 Y1
1063(2)S
(222222222222222222222222222222222222222222222222222222222222222)3780 1113 A
1063(1)S
2420 V
1063(1)S
2300 V
1063(1)S
2180 V
1063(1)S
2060 V
1063(1)S
1940 V
1063(1)S
1820 V
1063(1)S
1700 V
1063(1)S
1580 V
1063(1)S
1460 V
1063(1)S
1340 V
1063(1)S
1220 V
1063(1)S
1100 V
1063(1)S
980 V
1063(1)S
860 V
1063(1)S
2480 V
2126(1)S
2420 V
2126(1)S
2300 V
2126(1)S
2180 V
2126(1)S
2060 V
2126(1)S
1940 V
2126(1)S
1820 V
2126(1)S
1700 V
2126(1)S
1580 V
2126(1)S
1460 V
2126(1)S
1340 V
2126(1)S
1220 V
2126(1)S
1100 V
2126(1)S
980 V
2126(1)S
860 V
2126(1)S
2480 V
2790(1)S
2420 V
2790(1)S
2300 V
2790(1)S
2180 V
2790(1)S
2060 V
2790(1)S
1940 V
2790(1)S
1820 V
2790(1)S
1700 V
2790(1)S
1580 V
2790(1)S
1460 V
2790(1)S
1340 V
2790(1)S
1220 V
2790(1)S
1100 V
2790(1)S
980 V
2790(1)S
860 V
2790(1)S
2480 V
3281(1)S
2420 V
3281(1)S
2300 V
3281(1)S
2180 V
3281(1)S
2060 V
3281(1)S
1940 V
3281(1)S
1820 V
3281(1)S
1700 V
3281(1)S
1580 V
3281(1)S
1460 V
3281(1)S
1340 V
3281(1)S
1220 V
3281(1)S
1100 V
3281(1)S
980 V
3281(1)S
860 V
3281(1)S
2480 V
4893(1)S
2420 V
4893(1)S
2300 V
4893(1)S
2180 V
4893(1)S
2060 V
4893(1)S
1940 V
4893(1)S
1820 V
4893(1)S
1700 V
4893(1)S
1580 V
4893(1)S
1460 V
4893(1)S
1340 V
4893(1)S
1220 V
4893(1)S
1100 V
4893(1)S
980 V
4893(1)S
860 V
4893(1)S
2726 V
12 R
708(Server)S
1055(not)S
(found)281 1239 A
2866 V
948(When)S
1269(locating)S
1692(a)S
1780(server)S
2111(fails,)S
2385(the)S
12 C
(RPC)219 2567 A
12 Y1
2786(3)S
12 C
(NOTFOUND)584 2846 A
12 R
3464(error)S
3735(code)S
3997(is)S
4112(returned)S
4550(on)S
12 I
4704(trans)S
12 R
4996(calls.)S
3006 V
948(The)S
1168(reason)S
1516(can)S
1716(be)S
1862(that)S
2076(the)S
2256(server)S
2585(is)S
2698(not)S
2884(yet)S
3064(ready,)S
3395(or)S
3528(that)S
3742(there)S
4017(is)S
4130(no)S
4282(server)S
4611(at)S
4730(all.)S
4943(In)S
5075(any)S
3146 V
948(case,)S
1246(the)S
1453(request)S
(will)190 1862 A
2111(not)S
2324(have)S
2611(been)S
2898(delivered)S
3409(anywhere.)S
4000(When)S
4348(this)S
4583(error)S
4880(code)S
5168(is)S
3286 V
948(returned,)S
1420(it)S
1525(is)S
1643(sometimes)S
2198(sensible)S
2625(to)S
2756(wait)S
3003(a)S
3094(few)S
(seconds)382 3314 A
3733(and)S
3944(try)S
4116(once)S
4381(more.)S
4727(The)S
4952(server)S
3426 V
948(may)S
1186(have)S
1444(called)S
12 I
1764(getreq)S
12 R
2113(in)S
2237(the)S
2415(meantime.)S
3602 V
708(Signal)S
(received)411 1047 A
1488(while)S
1788(blocked)S
3742 V
948(If)S
1060(a)S
1144(thread)S
1477(has)S
1668(indicated)S
2142(interest)S
2530(in)S
2654(a)S
2738(signal)S
3058(and)S
3263(that)S
3476(signal)S
3796(is)S
3908(raised)S
4229(while)S
4530(the)S
4709(thread)S
5043(is)S
5155(in)S
3882 V
948(a)S
12 I
1037(getreq)S
12 R
1391(or)S
1527(the)S
1710(locate)S
2035(stage)S
2319(of)S
2455(a)S
12 I
2544(trans)S
12 R
2837(call,)S
3078(the)S
3261(call)S
3472(is)S
3588(broken)S
3958(off)S
4135(and)S
12 C
(RPC)219 4344 A
12 Y1
4563(3)S
12 C
(ABORTED)511 4623 A
12 R
5168(is)S
4022 V
948(returned.)S
1456(No)S
1649(useful)S
1990(information)S
(should)321 2607 A
2973(be)S
3132(expected)S
3607(in)S
3746(the)S
(receive)351 3939 A
4335(header)S
4703(and)S
4922(buffer.)S
4162 V
948(Threads)S
1380(can)S
1590(be)S
1745(aborted)S
2149(in)S
2284(system)S
2661(calls)S
2925(as)S
3067(a)S
3162(consequence)S
3820(of)S
(debugging.)538 3962 A
4571(For)S
4780(servers,)S
5195(a)S
4302 V
948(sensible)S
1374(action)S
1706(following)S
2213(an)S
12 C
(RPC)219 2363 A
12 Y1
2582(3)S
12 C
(ABORTED)511 2642 A
12 R
3189(error)S
3462(code)S
3726(is)S
3843(to)S
3973(restart)S
4314(the)S
12 I
4498(getreq)S
12 R
4853(or)S
12 I
4991(trans)S
4442 V
12 R
948(operation.)S
4618 V
708(Server)S
1055(or)S
1186(network)S
1613(failure)S
4758 V
948(When)S
1273(a)S
1364(request)S
1751(has)S
1950(been)S
2216(sent)S
2449(and)S
2661(no)S
2819(reply)S
3106(is)S
(received)411 3225 A
3674(and)S
3886(the)S
4072(server's)S
4495(kernel)S
4836(does)S
5095(not)S
4898 V
(respond)382 948 A
1361(to)S
(``are-you-alive?'')865 1486 A
2381(pings,)S
12 C
(RPC)219 2702 A
12 Y1
2921(3)S
12 C
(FAILURE)511 2981 A
12 R
3522(is)S
3633(returned.)S
4127(The)S
4345(server)S
4672(may)S
4910(or)S
5041(may)S
5038 V
948(not)S
1141(have)S
1408(carried)S
1785(out)S
1978(the)S
2165(request;)S
2588(the)S
2775(server)S
3111(may)S
3358(even)S
3625(have)S
3892(sent)S
4126(a)S
4219(reply,)S
4538(but)S
4732(then)S
4980(it)S
5088(has)S
5178 V
948(not)S
1138(been)S
(received.)441 1402 A
1909(The)S
2133(course)S
2485(to)S
2615(take)S
2853(when)S
3151(this)S
3362(failure)S
3716(happens)S
4146(depends)S
4576(very)S
4826(much)S
5129(on)S
5318 V
948(the)S
1126(semantics)S
1634(of)S
1765(the)S
1943(attempted)S
2451(operation.)S
5494 V
708(Buffer)S
1055(length)S
1387(>)S
(30000)300 1485 A
5634 V
948(The)S
1169(buffer)S
1499(length)S
1834(is)S
1948(an)S
2095(unsigned)S
2563(integer.)S
2993(It)S
3101(can)S
3302(not)S
3489(be)S
3636(less)S
3851(than)S
4092(zero.)S
4394(If)S
4509(it)S
4610(is)S
4724(larger)S
5041(than)S
5774 V
948(the)S
1139(maximum)S
1671(size)S
1902(of)S
2045(a)S
2141(request)S
2533(or)S
2676(reply,)S
2997(an)S
3153(exception)S
3665(is)S
3788(raised)S
4120(and)S
12 C
(RPC)219 4336 A
12 Y1
4555(3)S
12 C
(FAILURE)511 4615 A
12 R
5168(is)S
5914 V
948(returned)S
1382(if)S
1487(the)S
1665(exception)S
2165(is)S
2276(handled.)S
6090 V
708(Getreq)S
1069(while)S
1369(serving,)S
1785(putrep)S
2124(while)S
2424(not)S
2608(serving)S
6230 V
948(Programming)S
1649(errors,)S
1999(so)S
2142(an)S
2292(exception)S
2798(is)S
2915(raised.)S
3301(Putrep)S
3653(does)S
3910(not)S
4100(return)S
4426(a)S
4516(value,)S
4844(so)S
4987(when)S
6370 V
948(the)S
1126(exception)S
1626(is)S
(caught)322 1737 A
2089(no)S
2239(error)S
2506(code)S
2764(is)S
2875(returned.)S
6546 V
708(Use)S
927(of)S
1058(invalid)S
1424(pointers)S
6686 V
948(Using)S
1291(pointers)S
1735(to)S
1883(headers)S
2307(or)S
2462(buffers)S
2860(wholly)S
3250(or)S
3405(partially)S
3865(in)S
(non-existent)598 4014 A
4667(memory,)S
5155(to)S
6826 V
(receive)351 948 A
1365(headers)S
1801(or)S
1968(buffers)S
2377(in)S
2536(read-only)S
3065(memory,)S
3563(or)S
3729(to)S
3888(buffers)S
4297(straddling)S
4846(segment)S
6966 V
(boundaries,)560 948 A
1578(an)S
1762(exception)S
2302(is)S
2453(raised.)S
2873(If)S
3025(the)S
3243(exception)S
3783(is)S
(caught,)352 3934 A
12 I
4356(trans)S
12 R
4685(and)S
12 I
4930(getreq)S
7106 V
12 R
(additionally)578 948 A
1556(return)S
12 C
(RPC)219 1876 A
12 Y1
2095(3)S
12 C
(BADADDRESS)730 2155 A
12 R
2885(.)S
7700 V
(338)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 339 345
BP
/slant 0 def
/height 0 def
500 V
12 R
708(rpc)S
883(\(L\))S
2567(Library)S
2961(Routines)S
4918(rpc)S
5093(\(L\))S
860 V
708(Use)S
927(of)S
1058(a)S
1142(NULL-port)S
1000 V
948(When)S
(you)180 1286 A
1516(forget)S
1856(to)S
(fill)143 2000 A
2193(in)S
2337(the)S
12 I
2535(h)S
12 Y1
2595(3)S
12 I
2655(port)S
12 R
2916(field)S
3189(on)S
12 I
3360(getreq)S
12 R
3730(or)S
12 I
3882(trans)S
12 R
4140(,)S
4221(the)S
4420(system)S
4807(returns)S
5195(a)S
1140 V
12 C
(RPC)219 948 A
12 Y1
1167(3)S
12 C
(BADPORT)511 1227 A
12 R
1775(failure.)S
2190(This)S
2442(is)S
2560(not)S
2751(an)S
2902(exception,)S
(because)383 3439 A
3859(ports)S
4138(are)S
4324(often)S
(filled)257 4610 A
4903(in)S
5033(with)S
1280 V
948(values)S
1340(retrieved)S
1855(from)S
2174(remote)S
2595(sources)S
3042(such)S
3347(as)S
3532(the)S
3764(directory)S
4286(server.)S
4727(It)S
4886(seemed)S
1420 V
948(unreasonable)S
1634(to)S
1776(ask)S
1985(application)S
2571(programmers)S
3265(to)S
3407(write)S
3706(code)S
3982(to)S
4124(check)S
4453(for)S
4642(NULL-ports)S
1560 V
948(when)S
1240(the)S
1418(system)S
1784(has)S
1975(to)S
2099(check)S
2411(for)S
2583(them)S
2855(anyway.)S
1736 V
708(Out)S
920(of)S
1051(resources)S
1876 V
948(This)S
1219(error)S
1512(can)S
1736(only)S
2006(occur)S
(under)275 2331 A
11 R
2660(UNIX)S
12 R
2993(or)S
3150(UNIX-like)S
3734(systems.)S
4234(It)S
4366(is)S
4504(used)S
4782(when)S
5101(the)S
2016 V
948(Amoeba)S
1410(driver)S
1752(could)S
2072(not)S
2278(get)S
(access)310 2478 A
2840(to)S
(enough)354 2986 A
3392(resources)S
3902(to)S
4048(send)S
4321(the)S
4521(message.)S
5042(It)S
5168(is)S
2156 V
948(guaranteed)S
1509(that)S
1721(the)S
1899(request)S
2279(has)S
2470(not)S
(reached)377 2654 A
3061(any)S
3265(server.)S
3653(If)S
(enough)354 3766 A
4151(resources)S
4640(are)S
4820(freed)S
5101(the)S
2296 V
948(request)S
1328(can)S
1526(be)S
1670(safely)S
1990(repeated.)S
2472 V
708(Two)S
964(helpful)S
1341(macros)S
1725(are)S
1908(available)S
2380(for)S
2556(manipulating)S
3229(returned)S
3668(status)S
3979(codes:)S
12 C
(ERR)219 4323 A
12 Y1
4542(3)S
12 C
(STATUS)438 4602 A
12 R
5075(and)S
2612 V
12 C
(ERR)219 708 A
12 Y1
927(3)S
12 C
(CONVERT)511 987 A
12 R
1498(.)S
1598(They)S
1886(provide)S
2295(the)S
2483(proper)S
2839(casts)S
3114(from)S
3389(the)S
3576(16-bit)S
3904(unsigned)S
4378(integers)S
4801(to)S
4934(signed)S
2752 V
708(integers)S
1122(for)S
1294(testing)S
1647(the)S
1825(sign)S
2056(bit.)S
2274(The)S
2492(macros)S
2872(are)S
3051(defined)S
3444(in)S
12 I
3568(amoeba.h)S
12 R
4050(.)S
3032 V
12 B
708(Signals)S
3208 V
12 R
708(The)S
927(previous)S
1374(section)S
1749(specified)S
2219(that)S
2433(when)S
2727(a)S
12 I
2813(trans)S
12 R
3103(is)S
3216(blocked)S
3630(and)S
3836(a)S
3922(signal)S
4243(is)S
(received)411 4356 A
4799(while)S
5101(the)S
3348 V
708(system)S
1089(is)S
(still)183 1215 A
1443(trying)S
1777(to)S
1916(locate)S
2251(the)S
2443(server,)S
12 I
2814(trans)S
12 R
(will)190 3116 A
3350(return)S
3684(the)S
3876(error)S
4157(code)S
12 C
(RPC)219 4429 A
12 Y1
4648(3)S
12 C
(ABORTED)511 4708 A
12 R
5219(.)S
3488 V
708(When)S
1040(the)S
1232(location)S
1666(of)S
1811(the)S
2003(server)S
2344(is)S
(known)328 2469 A
2841(and)S
3059(the)S
3251(RPC)S
3522(has)S
3727(been)S
3999(sent)S
4238(to)S
4376(the)S
4568(server)S
4910(and)S
5129(no)S
3628 V
708(reply)S
991(has)S
1186(been)S
(received)411 1447 A
1891(as)S
2025(yet,)S
2236(the)S
(reaction)391 2417 A
2841(of)S
2975(the)S
3156(system)S
3525(to)S
3652(signals)S
4021(to)S
4148(be)S
(caught)322 4295 A
4650(is)S
4764(altogether)S
3768 V
708(different.)S
1225(In)S
1364(this)S
1577(case)S
1824(signals)S
2199(are)S
2387(propagated)S
2963(to)S
3096(the)S
3283(server.)S
3679(Thus)S
3959(the)S
4146(server)S
(will)190 4482 A
(receive)351 4711 A
5101(the)S
3908 V
708(signal)S
1028(and)S
1233(can)S
(choose)335 1432 A
1798(to)S
(react)237 1923 A
(accordingly.)601 2191 A
2852(It)S
2957(can,)S
3185(as)S
3316(per)S
3501(default,)S
(ignore)309 3898 A
4237(the)S
4415(signal)S
4734(or)S
4865(catch)S
5151(it.)S
4048 V
708(If)S
824(the)S
1007(server)S
(ignores)356 1339 A
1730(the)S
1913(signal)S
2237(the)S
2420(signal)S
(will)190 2744 A
2969(have)S
3232(no)S
3387(effect)S
3700(in)S
3829(both)S
4078(server)S
4410(and)S
4619(client.)S
4984(If)S
5101(the)S
4188 V
708(server)S
1042(handles)S
1448(the)S
1633(signal)S
1959(it)S
2064(can)S
(choose)335 2269 A
2641(its)S
2793(own)S
3038(way)S
3277(of)S
(reacting,)421 3415 A
3873(for)S
4052(example)S
4499(by)S
4655(returning)S
5135(an)S
4328 V
708(error)S
990(reply)S
1284(with)S
12 I
1545(putrep)S
12 R
1870(.)S
1975(If)S
2103(the)S
2297(server)S
2640(itself)S
2930(catches)S
3333(signals)S
3715(and)S
3935(is)S
(waiting)364 4062 A
4472(for)S
4660(a)S
4760(reply)S
5055(to)S
5195(a)S
4468 V
12 I
708(trans)S
12 R
996(the)S
1174(signal)S
(will)190 1493 A
1713(again)S
2005(be)S
2149(propagated.)S
4644 V
708(Signals)S
1094(can)S
1292(abort)S
1571(calls)S
1824(to)S
12 I
1948(getreq)S
12 R
2267(,)S
2327(but)S
2511(can)S
2709(not)S
2893(abort)S
3172(calls)S
3425(to)S
12 I
3549(putrep)S
12 R
3874(.)S
3964(See)S
4169(also)S
12 I
(signals)342 4394 A
12 R
4746(\(L\).)S
4924 V
12 B
708(Example)S
5100 V
12 R
708(The)S
939(example)S
1392(below)S
1731(shows)S
2076(the)S
2267(typical)S
2640(server)S
2980(main)S
(loop)214 3265 A
3522(for)S
3707(a)S
3804(very)S
4062(simple)S
4429(file)S
4636(server)S
4977(and)S
5195(a)S
5240 V
708(sample)S
1086(of)S
1222(client)S
1527(code)S
1790(for)S
(calling)330 1967 A
2332(that)S
2549(server)S
2881(for)S
3058(a)S
3146(read)S
3389(operation)S
3880(and)S
4088(a)S
4176(write)S
4461(operation.)S
5012(Its)S
5168(is)S
5380 V
708(assumed)S
1154(that)S
1366(the)S
1544(client's)S
(capability)478 1932 A
2440(has)S
2631(the)S
2809(put-port)S
3229(associated)S
3757(with)S
4003(the)S
4181(server's)S
4596(get-port.)S
5580 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
5720 V
(#include)536 708 A
("cmdreg.h")670 1311 A
5860 V
(#include)536 708 A
("stderr.h")670 1311 A
6140 V
708(/*)S
(Server)402 909 A
(threads)469 1378 A
(typically)603 1914 A
(sit)201 2584 A
2852(in)S
3053(an)S
(endless)469 3254 A
(loop)268 3790 A
6280 V
775(*)S
(fielding)536 909 A
(and)201 1512 A
(carrying)536 1780 A
(out)201 2383 A
(client)402 2651 A
(requests)536 3120 A
6420 V
775(*/)S
6560 V
(for)201 708 A
(\(;;\))268 976 A
1311({)S
6700 V
976(/*)S
(Put)201 1177 A
(the)201 1445 A
(server's)536 1713 A
(get-port)536 2316 A
2919(in)S
(the)201 3120 A
(header.)469 3388 A
(When)268 3991 A
(the)201 4326 A
(request)469 4594 A
6840 V
1043(*)S
(arrives,)536 1177 A
1780(it)S
(will)268 1981 A
2316(be)S
(replaced)536 2517 A
3120(by)S
(the)201 3321 A
(put-port)536 3589 A
4192(of)S
(the)201 4393 A
(client's)536 4661 A
6980 V
1043(*)S
(request.)536 1177 A
7120 V
1043(*/)S
7700 V
12 R
2683(Amoeba)S
3123(5.3)S
(339)180 5069 A
7920 V
EP
%%Page: 340 346
BP
/slant 0 def
/height 0 def
500 V
12 R
708(rpc)S
883(\(L\))S
2567(Library)S
2961(Routines)S
4918(rpc)S
5093(\(L\))S
920 V
11 C
(hdr.h)335 976 A
11 Y1
1311(3)S
11 C
(port)268 1366 A
1701(=)S
(getport;)536 1835 A
1060 V
(size)268 976 A
1311(=)S
(getreq\(&hdr,)804 1445 A
(buf,)268 2316 A
(100\);)335 2651 A
1200 V
976(/*)S
(Check)335 1177 A
(for)201 1579 A
(errors.)469 1847 A
2450(*/)S
1340 V
976(if)S
(\(ERR)268 1177 A
11 Y1
1445(3)S
11 C
(STATUS\(size\)\))871 1500 A
2438({)S
1480 V
1292(/*)S
(The)201 1493 A
(macro)335 1761 A
(ERR)201 2163 A
11 Y1
2364(3)S
11 C
(CONVERT)469 2419 A
(casts)335 2955 A
(the)201 3357 A
(16-bit)402 3625 A
1620 V
1359(*)S
(unsigned)536 1493 A
(into)268 2096 A
2431(an)S
(ordinary)536 2632 A
(signed)402 3235 A
(int.)268 3704 A
1760 V
1359(*/)S
1900 V
1292(if)S
(\(ERR)268 1493 A
11 Y1
1761(3)S
11 C
(CONVERT\(size\))871 1816 A
2754(==)S
(RPC)201 2955 A
11 Y1
3156(3)S
11 C
(ABORTED\))536 3211 A
3814({)S
2040 V
1560(/*)S
(When)268 1761 A
(debugging)603 2096 A
2766(a)S
(program,)536 2900 A
(signals)469 3503 A
(are)201 4039 A
(used)268 4307 A
4642(to)S
2180 V
1627(*)S
(checkpoint)670 1761 A
(it.)201 2498 A
(These)335 2766 A
(abort)335 3168 A
(getreq)402 3570 A
(calls.)402 4039 A
(When)268 4508 A
2320 V
1627(*)S
(this)268 1761 A
(happens,)536 2096 A
(just)268 2699 A
(try)201 3034 A
(again.)402 3302 A
2460 V
1627(*/)S
2600 V
(continue;)603 1560 A
2740 V
1292(})S
2880 V
1292(/*)S
(Other)335 1493 A
(errors)402 1895 A
(are)201 2364 A
(bad)201 2632 A
2900(*/)S
3020 V
(fprintf\(stderr,)1005 1292 A
("Getreq)469 2364 A
(error)335 2900 A
(\(%s\)\\n",)536 3302 A
3160 V
(err)201 2144 A
11 Y1
2345(3)S
11 C
(why\(ERR)469 2400 A
11 Y1
2869(3)S
11 C
(CONVERT\(size\)\)\);)1072 2924 A
3300 V
(exit\(-1\);)603 1292 A
3440 V
976(})S
3580 V
976(/*)S
(Control)469 1177 A
(gets)268 1713 A
(here)268 2048 A
(when)268 2383 A
2718(a)S
(request)469 2852 A
3388(is)S
(successfully)804 3589 A
(received.)603 4460 A
3720 V
1043(*)S
(Dispatch)536 1177 A
1780(to)S
(the)201 1981 A
(implementation)938 2249 A
(routines)536 3254 A
(for)201 3857 A
(the)201 4125 A
(different)603 4393 A
3860 V
1043(*)S
(request)469 1177 A
(types.)402 1713 A
4000 V
1043(*/)S
4140 V
(switch)402 976 A
(\(hdr.h)402 1445 A
11 Y1
1847(3)S
11 C
(command\))536 1902 A
2505({)S
4280 V
(case)268 976 A
1311(F)S
11 Y1
1378(3)S
11 C
(READ:)335 1433 A
4420 V
1292(/*)S
(Read)268 1493 A
(implementation)938 1828 A
(code)268 2833 A
(goes)268 3168 A
(here)268 3503 A
(For)201 3838 A
(the)201 4106 A
(example,)536 4374 A
4560 V
1359(*)S
(simulate)536 1493 A
(the)201 2096 A
(result)402 2364 A
2833(of)S
3034(a)S
(successful)670 3168 A
(read)268 3905 A
(operation.)670 4240 A
4700 V
1359(*/)S
4840 V
(size)268 1292 A
1627(=)S
(hdr.h)335 1761 A
11 Y1
2096(3)S
11 C
(size)268 2151 A
2486(=)S
(100;)268 2620 A
4980 V
(hdr.h)335 1292 A
11 Y1
1627(3)S
11 C
(status)402 1682 A
2151(=)S
(STD)201 2285 A
11 Y1
2486(3)S
11 C
(OK;)201 2541 A
5120 V
(break;)402 1292 A
5260 V
(case)268 976 A
1311(F)S
11 Y1
1378(3)S
11 C
(WRITE:)402 1433 A
5400 V
1292(/*)S
(Same)268 1493 A
(for)201 1828 A
(write)335 2096 A
2498(*/)S
5540 V
(size)268 1292 A
1627(=)S
(hdr.h)335 1761 A
11 Y1
2096(3)S
11 C
(size)268 2151 A
2486(=)S
2620(0;)S
5680 V
(hdr.h)335 1292 A
11 Y1
1627(3)S
11 C
(status)402 1682 A
2151(=)S
(STD)201 2285 A
11 Y1
2486(3)S
11 C
(OK;)201 2541 A
5820 V
(break;)402 1292 A
5960 V
(default:)536 976 A
6100 V
1292(/*)S
(Not)201 1493 A
1761(a)S
(legal)335 1895 A
(request)469 2297 A
(type,)335 2833 A
(return)402 3235 A
6240 V
1359(*)S
1493(an)S
(error)335 1694 A
(code)268 2096 A
6380 V
1359(*/)S
6520 V
(hdr.h)335 1292 A
11 Y1
1627(3)S
11 C
(status)402 1682 A
2151(=)S
(STD)201 2285 A
11 Y1
2486(3)S
11 C
(COMBAD;)469 2541 A
6660 V
976(})S
6800 V
976(/*)S
(Return)402 1177 A
1646(a)S
(reply.)402 1780 A
2249(No)S
(error)335 2450 A
(codes)335 2852 A
(are)201 3254 A
(returned)536 3522 A
4125(*/)S
6940 V
(putrep\(&hdr,)804 976 A
(buf,)268 1847 A
(size\);)402 2182 A
7080 V
708(})S
7280 V
12 R
708(Below)S
1054(is)S
1165(the)S
1343(client)S
1643(code)S
1901(for)S
(calling)330 2073 A
2433(the)S
2611(server)S
2938(to)S
3062(do)S
3212(a)S
3296(read)S
3535(and)S
3739(then)S
3977(a)S
4061(write)S
4342(operation.)S
7700 V
(340)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 341 347
BP
/slant 0 def
/height 0 def
500 V
12 R
708(rpc)S
883(\(L\))S
2567(Library)S
2961(Routines)S
4918(rpc)S
5093(\(L\))S
920 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
1060 V
(#include)536 708 A
("stderr.h")670 1311 A
1340 V
708(/*)S
(Set)201 909 A
(transaction)737 1177 A
(timeout)469 1981 A
2517(to)S
2718(30)S
(seconds)469 2919 A
3455(*/)S
1480 V
(timeout\(30000\);)1005 708 A
1760 V
708(/*)S
(Fill)268 909 A
1244(in)S
(transaction)737 1445 A
(header)402 2249 A
2718(*/)S
1900 V
(hdr.h)335 708 A
11 Y1
1043(3)S
11 C
(port)268 1098 A
1433(=)S
(cap.cap)469 1567 A
11 Y1
2036(3)S
11 C
(port;/*)469 2091 A
(Server)402 2627 A
(port)268 3096 A
3431(*/)S
2040 V
(hdr.h)335 708 A
11 Y1
1043(3)S
11 C
(priv)268 1098 A
1433(=)S
(cap.cap)469 1567 A
11 Y1
2036(3)S
11 C
(priv;/*)469 2091 A
(Rest)268 2627 A
2962(of)S
(file)268 3163 A
(cap)201 3498 A
3766(*/)S
2180 V
(hdr.h)335 708 A
11 Y1
1043(3)S
11 C
(command)469 1098 A
1634(=)S
1768(F)S
11 Y1
1835(3)S
11 C
(READ;)335 1890 A
2320 V
(hdr.h)335 708 A
11 Y1
1043(3)S
11 C
(size)268 1098 A
1433(=)S
(100;)268 1567 A
1876(/*)S
(Read)268 2077 A
(100)201 2412 A
(bytes)335 2680 A
3082(..)S
3283(*/)S
2460 V
(hdr.h)335 708 A
11 Y1
1043(3)S
11 C
(offset)402 1098 A
1567(=)S
1701(0;)S
1876(/*)S
2077(..)S
(from)268 2278 A
(beginning)603 2613 A
3283(of)S
(file)268 3484 A
3819(*/)S
2740 V
708(/*)S
(Call)268 909 A
(the)201 1244 A
(server;)469 1512 A
(request)469 2048 A
(buffer)402 2584 A
3053(is)S
(empty,)402 3254 A
2880 V
775(*)S
(reply)335 909 A
(buffer)402 1311 A
1780(is)S
(large)335 1981 A
(enough)402 2383 A
2852(to)S
(hold)268 3053 A
(requested)603 3388 A
(bytes)335 4058 A
3020 V
775(*/)S
3160 V
(size)268 708 A
1043(=)S
(trans\(&hdr,)737 1177 A
(NILBUF,)469 1981 A
2517(0,)S
(&hdr,)335 2718 A
(buf,)268 3120 A
(100\);)335 3455 A
3440 V
708(/*)S
(Size)268 909 A
(holds)335 1244 A
(positive)536 1646 A
(number)402 2249 A
2718(of)S
(bytes)335 2919 A
(read)268 3321 A
3656(or)S
3580 V
775(*)S
(negative)536 909 A
(error)335 1512 A
(code.)335 1914 A
3720 V
775(*/)S
3860 V
708(if)S
(\(ERR)268 909 A
11 Y1
1177(3)S
11 C
(STATUS\(size\)\))871 1232 A
(hdr.h)335 2170 A
11 Y1
2505(3)S
11 C
(status)402 2560 A
3029(=)S
(size;)335 3163 A
4140 V
708(/*)S
(Even)268 909 A
1244(if)S
(the)201 1445 A
(transaction)737 1713 A
(succeeds,)603 2517 A
(the)201 3187 A
(server)402 3455 A
(may)201 3924 A
4280 V
775(*)S
(return)402 909 A
1378(an)S
(error)335 1579 A
(code)268 1981 A
2316(of)S
(its)201 2517 A
(own.)268 2785 A
(Convention)670 3120 A
3857(is)S
(that)268 4058 A
4420 V
775(*)S
(the)201 909 A
(only)268 1177 A
(success)469 1512 A
(code)268 2048 A
2383(is)S
(STD)201 2584 A
11 Y1
2785(3)S
11 C
2840(OK)S
(\(zero\).)469 3041 A
4560 V
775(*/)S
4700 V
708(if)S
(\(hdr.h)402 909 A
11 Y1
1311(3)S
11 C
(status)402 1366 A
1835(!=)S
(STD)201 2036 A
11 Y1
2237(3)S
11 C
(OK\))201 2292 A
2560({)S
4840 V
1292(/*)S
(Print)335 1493 A
1895(an)S
(error)335 2096 A
(message.)536 2498 A
(The)201 3101 A
(macro)335 3369 A
(ERR)201 3771 A
11 Y1
3972(3)S
11 C
(CONVERT)469 4027 A
4980 V
1359(*)S
(casts)335 1493 A
(the)201 1895 A
(error)335 2163 A
(code)268 2565 A
(into)268 2900 A
3235(an)S
(int.)268 3436 A
(The)201 3771 A
(function)536 4039 A
5120 V
1359(*)S
(err)201 1493 A
11 Y1
1694(3)S
11 C
(why)201 1749 A
(converts)536 2017 A
(standard)536 2620 A
(error)335 3223 A
(codes)335 3625 A
(into)268 4027 A
4362(a)S
5260 V
1359(*)S
(string.)469 1493 A
5400 V
1359(*/)S
5540 V
(fprintf\(stderr,)1005 1292 A
("1st)268 2364 A
(trans)335 2699 A
(failed)402 3101 A
(\(%s\)\\n",)536 3570 A
5680 V
(err)201 1876 A
11 Y1
2077(3)S
11 C
(why\(ERR)469 2132 A
11 Y1
2601(3)S
11 C
(CONVERT\(hdr.h)871 2656 A
11 Y1
3527(3)S
11 C
(status\)\)\);)670 3582 A
5820 V
(exit\(-1\);)603 1292 A
5960 V
708(})S
6100 V
708(/*)S
(The)201 909 A
(server)402 1177 A
(returns)469 1646 A
(number)402 2182 A
2651(of)S
(bytes)335 2852 A
(read)268 3254 A
3589(in)S
(hdr.h)335 3790 A
11 Y1
4125(3)S
11 C
(size.)335 4180 A
6240 V
775(*)S
909(If)S
(the)201 1110 A
(reply)335 1378 A
1780(is)S
(truncated,)670 1981 A
2718(or)S
2919(if)S
(the)201 3120 A
(server)402 3388 A
3857(is)S
(faulty)402 4058 A
6380 V
775(*)S
(the)201 909 A
(number)402 1177 A
1646(of)S
(bytes)335 1847 A
(received)536 2249 A
(may)201 2852 A
(not)201 3120 A
(correspond)670 3388 A
4125(to)S
(what)268 4326 A
6520 V
775(*)S
(the)201 909 A
(server)402 1177 A
(claims)402 1646 A
(was)201 2115 A
(sent.)335 2383 A
6660 V
775(*/)S
7700 V
12 R
2683(Amoeba)S
3123(5.3)S
(341)180 5069 A
7920 V
EP
%%Page: 342 348
BP
/slant 0 def
/height 0 def
500 V
12 R
708(rpc)S
883(\(L\))S
2567(Library)S
2961(Routines)S
4918(rpc)S
5093(\(L\))S
920 V
11 C
708(if)S
(\(size)335 909 A
1311(!=)S
(hdr.h)335 1512 A
11 Y1
1847(3)S
11 C
(size\))335 1902 A
2304({)S
1060 V
1292(/*)S
1493(In)S
(the)201 1694 A
(case)268 1962 A
2297(of)S
(file)268 2498 A
(read,)335 2833 A
(the)201 3235 A
(client)402 3503 A
(may)201 3972 A
4240(be)S
1200 V
1359(*)S
(assumed)469 1493 A
(not)201 2029 A
2297(to)S
(ask)201 2498 A
(for)201 2766 A
(more)268 3034 A
(than)268 3369 A
(the)201 3704 A
(buffer)402 3972 A
1340 V
1359(*)S
(can)201 1493 A
(hold,)335 1761 A
2163(so)S
(this)268 2364 A
(code)268 2699 A
3034(is)S
(only)268 3235 A
(reached)469 3570 A
4106(if)S
1480 V
1359(*)S
(the)201 1493 A
(server)402 1761 A
2230(is)S
(faulty.)469 2431 A
1620 V
1359(*/)S
1760 V
(fprintf\(stderr,)1005 1292 A
("message)536 2364 A
(truncated\\n"\);)938 2967 A
1900 V
(exit\(-1\);)603 1292 A
2040 V
708(})S
2320 V
708(/*)S
(Read)268 909 A
(trans)335 1244 A
(succeeded,)670 1646 A
(try)201 2383 A
2651(a)S
(write)335 2785 A
(trans.)402 3187 A
2460 V
775(*)S
(Again,)402 909 A
(fill)268 1378 A
1713(in)S
(header)402 1914 A
(fields.)469 2383 A
(Never)335 2919 A
(trust)335 3321 A
(what)268 3723 A
2600 V
775(*)S
(server)402 909 A
(left)268 1378 A
(intact.)469 1713 A
2740 V
775(*/)S
2880 V
(hdr.h)335 708 A
11 Y1
1043(3)S
11 C
(port)268 1098 A
1433(=)S
(cap.cap)469 1567 A
11 Y1
2036(3)S
11 C
(port;)335 2091 A
3020 V
(hdr.h)335 708 A
11 Y1
1043(3)S
11 C
(priv)268 1098 A
1433(=)S
(cap.cap)469 1567 A
11 Y1
2036(3)S
11 C
(priv;)335 2091 A
3160 V
(hdr.h)335 708 A
11 Y1
1043(3)S
11 C
(command)469 1098 A
1634(=)S
1768(F)S
11 Y1
1835(3)S
11 C
(WRITE;)402 1890 A
3300 V
(hdr.h)335 708 A
11 Y1
1043(3)S
11 C
(size)268 1098 A
1433(=)S
(100;)268 1567 A
3440 V
(hdr.h)335 708 A
11 Y1
1043(3)S
11 C
(offset)402 1098 A
1567(=)S
1701(0;)S
3720 V
708(/*)S
(This)268 909 A
(time,)335 1244 A
(request)469 1646 A
(buffer)402 2182 A
2651(is)S
(not)201 2852 A
(empty)335 3120 A
3522(*/)S
3860 V
(size)268 708 A
1043(=)S
(trans\(&hdr,)737 1177 A
(buf,)268 1981 A
(100,)268 2316 A
(&hdr,)335 2651 A
(NILBUF,)469 3053 A
(0\);)201 3589 A
4140 V
708(/*)S
(Size)268 909 A
(returned)536 1244 A
(should)402 1847 A
2316(be)S
(zero)268 2517 A
(\(empty)402 2852 A
(reply)335 3321 A
(buffer\))469 3723 A
4259(*/)S
4280 V
708(if)S
(\(ERR)268 909 A
11 Y1
1177(3)S
11 C
(CONVERT\(size\))871 1232 A
2170(!=)S
2371(0\))S
(hdr.h)335 2572 A
11 Y1
2907(3)S
11 C
(status)402 2962 A
3431(=)S
(size;)335 3565 A
4420 V
708(if)S
(\(hdr.h)402 909 A
11 Y1
1311(3)S
11 C
(status)402 1366 A
1835(!=)S
(STD)201 2036 A
11 Y1
2237(3)S
11 C
(OK\))201 2292 A
2560({)S
4560 V
(fprintf\(stderr,)1005 1292 A
("2nd)268 2364 A
(trans)335 2699 A
(failed)402 3101 A
(\(%s\)\\n",)536 3570 A
4700 V
(err)201 1876 A
11 Y1
2077(3)S
11 C
(why\(ERR)469 2132 A
11 Y1
2601(3)S
11 C
(CONVERT\(hdr.h)871 2656 A
11 Y1
3527(3)S
11 C
(status\)\)\);)670 3582 A
4840 V
(exit\(-1\);)603 1292 A
4980 V
708(})S
5320 V
12 B
708(See)S
913(Also)S
5496 V
12 R
708(error\(L\),)S
1161(grp\(L\),)S
(priv2pub\(L\),)621 1538 A
2189(signals\(L\).)S
7700 V
(342)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 343 349
BP
/slant 0 def
/height 0 def
500 V
12 R
708(sak)S
889(\(L\))S
2567(Library)S
2961(Routines)S
4912(sak)S
5093(\(L\))S
860 V
2350(\(in)S
2515(libraries:)S
2978(libamoeba.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(sak)S
12 R-1
899(-)S
12 R
1027(the)S
1205(Swiss)S
1518(Army)S
1831(Knife)S
2138(server)S
(interface)426 2465 A
2921(stubs)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("caplist.h")737 1311 A
2182 V
(#include)536 708 A
("server/sak/sak.h")1206 1311 A
2462 V
(errstat)469 708 A
(sak)201 1244 A
11 Y1
1445(3)S
11 C
(exec)268 1500 A
11 Y1
1768(3)S
11 C
(trans\(argv,)737 1823 A
(envp,)335 2627 A
(capl,)335 3029 A
(fcap\))335 3431 A
2602 V
(errstat)469 708 A
(sak)201 1244 A
11 Y1
1445(3)S
11 C
(make)268 1500 A
11 Y1
1768(3)S
11 C
(transfile\(hdr,)938 1823 A
(buf,)268 2828 A
(req)201 3163 A
11 Y1
3364(3)S
11 C
(size,)335 3419 A
(rep)201 3821 A
11 Y1
4022(3)S
11 C
(size,)335 4077 A
(wait,)335 4479 A
(fcap\))335 4881 A
2882 V
(errstat)469 708 A
(sak)201 1244 A
11 Y1
1445(3)S
11 C
(list)268 1500 A
11 Y1
1768(3)S
11 C
(job\(jobcap,)737 1823 A
(sched,)402 2627 A
(options\))536 3096 A
3022 V
(errstat)469 708 A
(sak)201 1244 A
11 Y1
1445(3)S
11 C
(submit)402 1500 A
11 Y1
1902(3)S
11 C
(job\(svrname,)804 1957 A
(sched,)402 2828 A
(fcap,)335 3297 A
(options,)536 3699 A
(jobcap\))469 4302 A
3362 V
12 B
708(Description)S
3538 V
12 R
708(The)S
12 I
926(sak)S
12 R
1097(\(A\))S
1297(server)S
1624(provides)S
2070(a)S
2154(mechanism)S
2735(to)S
2859(execute)S
3259(a)S
3343(transaction)S
3905(at)S
4023(a)S
4107(later)S
4354(date)S
(under)275 4587 A
4893(various)S
3678 V
(conditions.)533 708 A
1323(These)S
1664(routines,)S
(along)268 2136 A
2456(with)S
2724(the)S
2924(standard)S
3386(server)S
3735(stubs)S
4035(\(see)S
12 I
4282(std)S
12 R
4433(\(L\)\))S
4681(provide)S
5101(the)S
3818 V
(interface)426 708 A
1178(to)S
1316(the)S
12 I
1508(sak)S
12 R
1723(server.)S
2124(The)S
2356(first)S
2597(two)S
2823(routines)S
3258(do)S
3423(not)S
3622(actually)S
4051(do)S
4216(transactions)S
4840(with)S
5101(the)S
3958 V
708(server)S
1050(but)S
1249(package)S
1689(up)S
1853(the)S
2045(transaction)S
2621(that)S
2847(the)S
3039(server)S
3380(is)S
3505(to)S
3643(execute)S
4057(at)S
4189(a)S
4287(later)S
4548(date.)S
4854(The)S
5086(file)S
4098 V
708(containing)S
1272(this)S
1501(package)S
1951(is)S
2087(then)S
(submitted)477 2350 A
2882(using)S
12 I
3198(sak)S
12 Y1
3359(3)S
12 I
3419(submit)S
12 Y1
3742(3)S
12 I
3802(job)S
12 R
3966(.)S
12 I
4081(Sak)S
12 Y1
4255(3)S
12 I
4315(list)S
12 Y1
4464(3)S
12 I
4524(job)S
12 R
4743(is)S
4879(used)S
5155(to)S
4238 V
708(examine)S
1148(the)S
1326(status)S
1632(of)S
1763(a)S
1847(job.)S
4554 V
12 I
(Access)330 708 A
4730 V
12 R
708(Jobs)S
963(are)S
(submitted)477 1153 A
1671(using)S
1973(the)S
2162(server)S
(capability.)508 2500 A
3079(No)S
3268(rights)S
3585(are)S
3776(required)S
4222(to)S
4358(submit)S
4729(a)S
4825(job.)S
5081(For)S
4870 V
(each)222 708 A
974(job)S
(submitted)477 1172 A
1693(a)S
(capability)478 1791 A
2313(is)S
2438(returned.)S
2946(The)S
(capability)478 3178 A
3700(must)S
3979(be)S
12 I
4137(touched)S
12 R
4572(regularly)S
5053(\(see)S
5010 V
12 I
708(std)S
12 R
859(\(L\)\))S
1090(or)S
1225(it)S
(will)190 1327 A
1552(be)S
1701(garbage)S
2119(collected)S
2592(after)S
2851(some)S
3141(time.)S
3452(The)S
3675(simplest)S
4114(way)S
4351(to)S
4480(ensure)S
4831(that)S
5048(jobs)S
5150 V
708(are)S
12 I
896(touched)S
12 R
1327(is)S
1447(to)S
1580(install)S
1916(the)S
(capability)478 2103 A
2619(in)S
2751(the)S
2937(directory)S
3413(graph.)S
3786(\()S
12 I
3827(Cronsubmit)S
12 R
4397(\(U\))S
4605(does)S
4864(this,)S
5107(for)S
5290 V
708(example.\))S
5606 V
12 I
708(Errors)S
5782 V
12 R
708(In)S
839(general,)S
1256(standard)S
1696(error)S
1963(codes)S
2268(are)S
2447(used)S
2698(but)S
2882(there)S
3155(is)S
3266(one)S
3470(error)S
3737(code)S
3995(specific)S
4403(to)S
4527(the)S
12 I
4705(sak)S
12 R
4906(server.)S
5958 V
12 C
(SAK)219 708 A
12 Y1
927(3)S
12 C
(TOOLATE)511 987 A
12 R
1533(is)S
1649(returned)S
2088(when)S
2385(an)S
2534(attempt)S
2933(is)S
3049(made)S
3346(to)S
3475(submit)S
3839(a)S
3928(job)S
4117(after)S
4376(the)S
4559(time)S
4811(specified)S
6098 V
708(for)S
880(the)S
1058(job)S
1242(to)S
1366(be)S
1510(executed.)S
6414 V
12 I
708(Types)S
6590 V
12 R
708(In)S
853(the)S
1045(following,)S
1590(the)S
1782(variable)S
12 I
2217(sched)S
12 R
2546(specifies)S
3015(when)S
3321(the)S
3513(job)S
3711(is)S
3836(to)S
3974(be)S
4132(executed.)S
12 I
4666(Sched)S
12 R
5009(is)S
5135(an)S
6730 V
708(array)S
988(of)S
1119(length)S
1451(MAX)S
12 Y1
1734(3)S
12 R
1794(SPEC.)S
2172(The)S
2390(entries)S
2744(are)S
2923(numbered,)S
6906 V
958(MINU)S
1438(minutes)S
1851(\(0)S
1982(-)S
2053(59\))S
7082 V
(HOUR)344 958 A
(hours)268 1438 A
1736(\(0)S
1867(-)S
1938(23\))S
7258 V
(MDAY)371 958 A
1438(day-of-month)S
2133(\(1)S
2264(-)S
2335(31\))S
7700 V
2683(Amoeba)S
3123(5.3)S
(343)180 5069 A
7920 V
EP
%%Page: 344 350
BP
/slant 0 def
/height 0 def
500 V
12 R
708(sak)S
889(\(L\))S
2567(Library)S
2961(Routines)S
4912(sak)S
5093(\(L\))S
860 V
958(MONTH)S
1438(month)S
1776(\(0)S
1907(-)S
1978(11\))S
1036 V
(WDAY)378 958 A
1438(day-of-week)S
2081(\(0)S
2212(-)S
2283(6,)S
2403(0)S
2493(is)S
(Sunday\))402 2604 A
1212 V
958(YEAR)S
1438(year)S
1677(\(any\))S
1388 V
708(Any)S
946(of)S
1077(the)S
1255(entries)S
1609(can)S
1807(be,)S
1564 V
958(VALUE)S
1438(followed)S
1899(by)S
2049(a)S
2133(value.)S
1740 V
958(LIST)S
1438(followed)S
1899(by)S
2049(a)S
2133(list)S
2312(of)S
2443(values.)S
1916 V
(RANGE)418 958 A
1438(followed)S
1899(by)S
2049(two)S
2261(numbers)S
2707(specifying)S
3241(a)S
3325(range)S
2092 V
(ANY)264 958 A
1438(meaning)S
1884(any)S
2088(possible)S
2514(value)S
2268 V
(NONE)338 958 A
1438(meaning)S
1884(no)S
2034(value)S
2326(at)S
2444(all)S
2444 V
708(All)S
894(entries)S
(should)321 1248 A
1599(have)S
1857(a)S
12 C
(DELIMITER)657 1941 A
12 R
2628(appended)S
3120(\(see)S
3346(the)S
3524(include)S
3910(file)S
12 I
4103(sak.h\).)S
2620 V
12 R
708(Specification)S
1384(of)S
1521(days)S
1778(can)S
1983(be)S
(done)234 2134 A
2405(in)S
2536(one)S
2747(of)S
2885(two)S
3104(ways:)S
3424(day-of-month/month)S
4468(or)S
4606(day-of-week.)S
2760 V
708(If)S
820(neither)S
1187(is)S
1298(specified)S
1766(as)S
(NONE,)368 1897 A
2295(only)S
2539(one)S
2743(has)S
2934(to)S
3058(match)S
3384(for)S
3556(the)S
3734(transaction)S
4296(to)S
4420(be)S
4564(executed.)S
2936 V
708(The)S
12 I
(filecap)330 946 A
12 R
1336(parameter)S
1872(is)S
2003(a)S
(capability)478 2107 A
2635(for)S
2827(a)S
2931(transaction)S
3513(file)S
3726(created)S
4127(by)S
12 I
4298(sak)S
12 Y1
4459(3)S
12 I
4519(make)S
12 Y1
4775(3)S
12 I
(transfile)404 4835 A
3076 V
12 R
708(which)S
1034(contains)S
1467(the)S
1645(transaction)S
2207(to)S
2331(be)S
2475(executed.)S
3252 V
708(The)S
12 I
926(options)S
12 R
1321(parameter)S
1837(is)S
1948(a)S
2032(structure)S
2487(which)S
2813(contains)S
3246(the)S
3424(following)S
3925(fields:)S
3428 V
12 I
958(save)S
12 Y1
1173(3)S
12 I
1233(result)S
12 R
1858(If)S
1981(set)S
2157(to)S
2292(1,)S
12 I
2424(sak)S
12 R
(will)190 2637 A
2869(write)S
3162(a)S
3258(log)S
3454(of)S
3597(all)S
3761(transactions)S
4382(executed)S
4854(to)S
4990(a)S
5086(file)S
3568 V
1858(named)S
12 I
2210(sak)S
12 Y1
2371(3)S
12 I
(statusfile)438 2431 A
12 R
2879(;)S
3744 V
12 I
958(where)S
12 R
1858(The)S
(capability)478 2103 A
2638(for)S
2837(a)S
2948(directory)S
3443(which)S
(will)190 3797 A
4045(hold)S
4317(the)S
12 I
4523(sak)S
12 R
4752(status)S
5086(file)S
3884 V
1858(\(default)S
12 I
2266(/home/sak)S
12 R
2767(\).)S
4060 V
12 I
(catchup)382 958 A
12 R
1858(This)S
2136(specifies)S
2624(the)S
2835(action)S
3194(taken)S
3519(when)S
3845(the)S
4057(server)S
4418(was)S
4671(not)S
4889(able)S
5155(to)S
4200 V
1858(execute)S
2259(the)S
2438(transaction)S
3000(at)S
3118(the)S
3296(specified)S
3764(time.)S
4070(If)S
4182(set)S
4347(to)S
4471(1)S
4561(it)S
(will)190 4659 A
4879(execute)S
4340 V
1858(it)S
1960(as)S
(soon)227 2095 A
2356(as)S
2491(possible,)S
2951(if)S
3060(set)S
3229(to)S
3357(0,)S
3481(it)S
(will)190 3583 A
3807(report)S
4132(a)S
4221(failure.)S
4634(Jobs)S
4883(that)S
5100(are)S
4480 V
1858(to)S
1982(be)S
2126(executed)S
2586(more)S
2865(then)S
3103(once)S
(should)321 3361 A
3712(set)S
3877(this)S
4082(flag)S
4301(to)S
4425(0.)S
4656 V
12 I
958(name)S
12 R
1858(A)S
1993(name)S
2302(of)S
2450(up)S
2617(to)S
12 C
(MAX)219 2758 A
12 Y1
2977(3)S
12 C
(NAME)292 3037 A
12 Y1
3329(3)S
12 C
(LEN)219 3389 A
12 R
3655(characters)S
4195(which)S
4538(is)S
4666(used)S
4934(by)S
5101(the)S
4796 V
1858(server)S
2185(in)S
2309(status)S
2615(reports)S
2982(and)S
3186(info)S
3411(requests.)S
5112 V
12 I
708(Functions)S
5464 V
708(sak)S
12 Y1
869(3)S
12 I
(exec)216 929 A
12 Y1
1145(3)S
12 I
1205(trans)S
5700 V
11 C
(errstat)469 1068 A
5840 V
(sak)201 1068 A
11 Y1
1269(3)S
11 C
(exec)268 1324 A
11 Y1
1592(3)S
11 C
(trans\(argv,)737 1647 A
(envp,)335 2451 A
(capl,)335 2853 A
(filecap\))536 3255 A
5980 V
(char)268 1068 A
(**argv;)469 1403 A
6120 V
(char)268 1068 A
(**envp;)469 1403 A
6260 V
(struct)402 1068 A
(caplist)469 1537 A
(*capl;)402 2073 A
6400 V
(capability)670 1068 A
(*filecap;)603 1805 A
6600 V
12 I
708(Sak)S
12 Y1
882(3)S
12 I
(exec)216 942 A
12 Y1
1158(3)S
12 I
1218(trans)S
12 R
1538(is)S
1681(used)S
1964(to)S
2121(generate)S
2595(a)S
2712(special)S
3112(file)S
3338(\(on)S
3562(the)S
3773(default)S
4173(Bullet)S
4532(Server\))S
4953(which)S
6740 V
708(contains)S
1167(details)S
1540(of)S
1697(a)S
1807(transaction)S
2395(to)S
2545(be)S
2715(executed)S
3201(by)S
3376(the)S
12 I
3579(sak)S
12 R
3805(server.)S
4217(The)S
4460(function)S
4918(of)S
5074(this)S
6880 V
708(transaction)S
(will)190 1271 A
1492(be)S
1637(to)S
1762(start)S
2004(the)S
2184(program)S
2626(specified)S
3096(by)S
12 I
3248(argv[0])S
12 R
3633(,)S
3695(with)S
3943(arguments)S
4479(specified)S
4949(by)S
5101(the)S
7020 V
708(rest)S
926(of)S
12 I
1069(argv)S
12 R
1300(,)S
1372(string)S
1690(environment)S
2343(specified)S
2823(by)S
12 I
2985(envp)S
12 R
3264(and)S
(capability)478 3479 A
3998(environment)S
4650(specified)S
5129(by)S
7160 V
12 I
708(capl)S
12 R
926(.)S
7336 V
708(The)S
926(resultant)S
1374(file)S
(should)321 1567 A
1918(be)S
(submitted)477 2062 A
2569(to)S
2693(the)S
12 I
2871(sak)S
12 R
3072(server)S
3399(using)S
12 I
3690(sak)S
12 Y1
3851(3)S
12 I
3911(submit)S
12 Y1
4234(3)S
12 I
4294(job)S
12 R
4458(.)S
7700 V
(344)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 345 351
BP
/slant 0 def
/height 0 def
500 V
12 R
708(sak)S
889(\(L\))S
2567(Library)S
2961(Routines)S
4912(sak)S
5093(\(L\))S
860 V
708(When)S
1032(executed)S
1498(the)S
1682(transaction)S
2250(goes)S
2507(to)S
2637(a)S
2727(special)S
3100(thread)S
3439(within)S
3785(the)S
12 I
3969(sak)S
12 R
4177(server.)S
4571(The)S
4796(port)S
5028(used)S
1000 V
708(by)S
866(this)S
1079(thread)S
1420(is)S
(found)281 1539 A
1858(in)S
12 C
(DEF)219 1990 A
12 Y1
2209(3)S
12 C
(EXECSVR)511 2269 A
12 R
2817(\(typically)S
12 I
(/profile/cap/saksvr/execdefault)1494 3319 A
12 R
4823(\).)S
4961(When)S
1140 V
708(a)S
828(transaction)S
1426(is)S
(done)234 1573 A
1873(to)S
2033(this)S
2274(port)S
2535(with)S
2818(the)S
12 C
(SAK)219 3033 A
12 Y1
3252(3)S
12 C
(EXEC)292 3312 A
12 Y1
3604(3)S
12 C
(FILE)292 3664 A
12 R
4023(command)S
4566(specified,)S
5101(the)S
1280 V
708(command)S
1229(and)S
1448(argument)S
1950(list)S
2144(specified)S
2627(in)S
2766(the)S
2959(transaction)S
3536(buffer)S
3877(is)S
4002(executed)S
4476(using)S
4781(the)S
4973(string)S
1420 V
708(environment)S
1352(and)S
(capability)478 1559 A
2070(environment)S
2714(also)S
(found)281 2942 A
3256(in)S
3384(the)S
3566(transaction)S
4132(buffer.)S
4523(The)S
4745(arguments)S
1560 V
708(are)S
887(as)S
1018(follows:)S
1736 V
12 I
958(argv)S
12 R
1558(a)S
1664(NULL-terminated)S
2600(argument)S
3110(list,)S
12 I
3342(argv[0])S
12 R
3780(specifies)S
4258(the)S
4459(command)S
4988(to)S
5135(be)S
1876 V
1558(executed.)S
2052 V
12 I
958(envp)S
12 R
1558(a)S
1642(NULL-terminated)S
2556(string)S
2862(environment)S
3503(list.)S
2228 V
12 I
958(capl)S
12 R
1558(a)S
1642(NULL-terminated)S
(capability)478 2556 A
3064(environment)S
3705(list.)S
2404 V
708(A)S
(capability)478 826 A
1334(for)S
1506(the)S
1684(created)S
2065(file)S
2258(is)S
2369(returned)S
2803(in)S
12 I
(filecap)330 2927 A
12 R
3267(.)S
2640 V
708(Required)S
1181(Rights:)S
2780 V
12 C
1062(BS)S
12 Y1
1208(3)S
12 C
(RGT)219 1268 A
12 Y1
1487(3)S
12 C
(CREATE)438 1547 A
12 R
2015(on)S
2165(default)S
2532(Bullet)S
2858(Server.)S
3076 V
708(Error)S
(Conditions:)563 995 A
3216 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(NOMEM)365 1341 A
12 R
1706(:)S
(cannot)322 1969 A
2321(malloc)S
2681(a)S
2765(buffer)S
3092(for)S
3264(the)S
3442(data,)S
3356 V
1062(Any)S
1300(of)S
1431(the)S
1609(errors)S
1923(of)S
12 I
2054(sak)S
12 Y1
2215(3)S
12 I
2275(make)S
12 Y1
2531(3)S
12 I
(transfile)404 2591 A
12 R
2995(.)S
3496 V
1062(Any)S
1300(of)S
1431(the)S
1609(errors)S
1923(of)S
12 I
2054(name)S
12 Y1
2316(3)S
12 I
2376(lookup)S
12 R
2704(\(L\).)S
3872 V
12 I
708(sak)S
12 Y1
869(3)S
12 I
929(list)S
12 Y1
1078(3)S
12 I
1138(job)S
4108 V
11 C
(errstat)469 1068 A
4248 V
(sak)201 1068 A
11 Y1
1269(3)S
11 C
(list)268 1324 A
11 Y1
1592(3)S
11 C
(job\(jobcap,)737 1647 A
(sched,)402 2451 A
(options\))536 2920 A
4388 V
(capability)670 1068 A
(*jobcap;)536 1805 A
4528 V
(int8)268 1068 A
(**sched;)536 1403 A
4668 V
(struct)402 1068 A
(sak)201 1537 A
11 Y1
1738(3)S
11 C
(job)201 1793 A
11 Y1
1994(3)S
11 C
(options)469 2049 A
(*options;)603 2585 A
4868 V
12 I
708(Sak)S
12 Y1
882(3)S
12 I
942(list)S
12 Y1
1091(3)S
12 I
1151(job)S
12 R
(will)190 1377 A
1629(return)S
1981(in)S
12 I
2137(sched)S
12 R
2484(a)S
2601(pointer)S
3007(to)S
3164(the)S
3375(schedule)S
3861(and)S
4098(in)S
12 I
4255(options)S
12 R
4683(the)S
4894(options)S
5008 V
708(associated)S
1236(with)S
1482(the)S
1660(job)S
1844(specified)S
2312(by)S
12 I
2462(jobcap)S
12 R
2800(.)S
5244 V
708(Required)S
1181(Rights:)S
5384 V
12 C
(OWNERRIGHTS)803 1062 A
5680 V
12 R
708(Error)S
(Conditions:)563 995 A
5820 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(COMBAD)438 1341 A
12 R
1779(:)S
1969(attempt)S
2363(to)S
2487(list)S
2666(super)S
(capability)478 2958 A
5960 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(CAPBAD)438 1341 A
12 R
1779(:)S
1969(no)S
2119(such)S
2370(job)S
6100 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(DENIED)438 1341 A
12 R
1779(:)S
1969(insufficient)S
2552(rights)S
6240 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(NOMEM)365 1341 A
12 R
1706(:)S
1969(the)S
2147(job)S
2331(info)S
2556(did)S
2740(not)S
2924(fit)S
3063(in)S
3187(the)S
3365(server's)S
3780(internal)S
4181(buffer)S
7700 V
2683(Amoeba)S
3123(5.3)S
(345)180 5069 A
7920 V
EP
%%Page: 346 352
BP
/slant 0 def
/height 0 def
500 V
12 R
708(sak)S
889(\(L\))S
2567(Library)S
2961(Routines)S
4912(sak)S
5093(\(L\))S
860 V
12 I
708(sak)S
12 Y1
869(3)S
12 I
929(make)S
12 Y1
1185(3)S
12 I
(transfile)404 1245 A
1096 V
11 C
(errstat)469 1068 A
1236 V
(sak)201 1068 A
11 Y1
1269(3)S
11 C
(make)268 1324 A
11 Y1
1592(3)S
11 C
(transfile\(hdr,)938 1647 A
(buf,)268 2652 A
(req)201 2987 A
11 Y1
3188(3)S
11 C
(size,)335 3243 A
(reply)335 3645 A
11 Y1
3980(3)S
11 C
(size,)335 4035 A
(wait,)335 4437 A
(fcap\))335 4839 A
1376 V
(header)402 1068 A
(*hdr;)335 1537 A
1516 V
(char)268 1068 A
(*buf;)335 1403 A
1656 V
(bufsize)469 1068 A
(req)201 1604 A
11 Y1
1805(3)S
11 C
(size;)335 1860 A
1796 V
(bufsize)469 1068 A
(rep)201 1604 A
11 Y1
1805(3)S
11 C
(size;)335 1860 A
1936 V
(interval)536 1068 A
(wait;)335 1671 A
2076 V
(capability)670 1068 A
(*fcap;)402 1805 A
2276 V
12 I
708(Sak)S
12 Y1
882(3)S
12 I
942(make)S
12 Y1
1198(3)S
12 I
(transfile)404 1258 A
12 R
1707(is)S
1823(used)S
2079(to)S
2208(create)S
2534(a)S
2623(transaction)S
3190(file)S
3388(\(on)S
3584(the)S
3767(default)S
4139(Bullet)S
4470(Server\))S
4863(that)S
5081(can)S
2416 V
708(be)S
852(used)S
1103(by)S
12 I
1253(sak)S
12 Y1
1414(3)S
12 I
1474(submit)S
12 Y1
1797(3)S
12 I
1857(job)S
12 R
2021(.)S
2111(The)S
2329(arguments)S
2863(are)S
3042(as)S
3173(follows:)S
2592 V
12 I
958(hdr)S
12 R
1558(is)S
1669(the)S
1847(header)S
2200(used)S
2451(in)S
2575(the)S
2753(transaction.)S
2768 V
12 I
958(buf)S
12 R
1558(is)S
1669(the)S
1847(buffer)S
2174(used)S
2425(in)S
2549(the)S
2727(transaction.)S
2944 V
12 I
958(req)S
12 Y1
1119(3)S
12 I
1179(size)S
12 R
1558(size)S
1777(of)S
1908(the)S
2086(transaction)S
2648(buffer.)S
3120 V
12 I
958(reply)S
12 Y1
1207(3)S
12 I
1267(size)S
12 R
1558(size)S
1777(of)S
1908(the)S
2086(expected)S
2546(reply)S
2825(buffer.)S
3296 V
12 I
958(wait)S
12 R
1558(timeout)S
1958(used)S
2209(for)S
2381(the)S
2559(transaction.)S
12 I
3181(wait)S
12 R
3429(has)S
3620(a)S
3704(maximum)S
4224(of)S
4355(30)S
(seconds.)412 4505 A
3436 V
708(A)S
(capability)478 826 A
1334(for)S
1506(the)S
1684(created)S
2065(file)S
2258(is)S
2369(returned)S
2803(in)S
12 I
(filecap)330 2927 A
12 R
3267(.)S
3672 V
708(Required)S
1181(Rights:)S
3812 V
12 C
1062(BS)S
12 Y1
1208(3)S
12 C
(RGT)219 1268 A
12 Y1
1487(3)S
12 C
(CREATE)438 1547 A
12 R
2015(on)S
2165(default)S
2532(Bullet)S
2858(Server.)S
4108 V
708(Error)S
(Conditions:)563 995 A
4248 V
1062(Any)S
1300(of)S
1431(the)S
1609(errors)S
1923(returned)S
2357(by)S
12 I
2507(b)S
12 Y1
2567(3)S
12 I
2627(create)S
12 R
2960(or)S
12 I
3091(b)S
12 Y1
3151(3)S
12 I
3211(modify)S
12 R
3571(\(see)S
12 I
3797(bullet)S
12 R
4073(\(L\)\).)S
4624 V
12 I
708(sak)S
12 Y1
869(3)S
12 I
929(submit)S
12 Y1
1252(3)S
12 I
1312(job)S
4860 V
11 C
(errstat)469 1068 A
5000 V
(sak)201 1068 A
11 Y1
1269(3)S
11 C
(submit)402 1324 A
11 Y1
1726(3)S
11 C
(job\(svrname,)804 1781 A
(sched,)402 2652 A
(filecap,)536 3121 A
(options,)536 3724 A
(jobcap\))469 4327 A
5140 V
(char)268 1068 A
(*svrname;)603 1403 A
5280 V
(int8)268 1068 A
(**sched;)536 1403 A
5420 V
(capability)670 1068 A
(*filecap;)603 1805 A
5560 V
(struct)402 1068 A
(sak)201 1537 A
11 Y1
1738(3)S
11 C
(job)201 1793 A
11 Y1
1994(3)S
11 C
(options)469 2049 A
(*options;)603 2585 A
5700 V
(capability)670 1068 A
(*jobcap;)536 1805 A
5900 V
12 I
708(Sak)S
12 Y1
882(3)S
12 I
942(submit)S
12 Y1
1265(3)S
12 I
1325(job)S
12 R
1533(submits)S
1953(a)S
2051(job)S
2249(to)S
2387(the)S
12 I
2579(sak)S
12 R
2750(\(A\))S
2964(server)S
3305(specified)S
3787(by)S
12 I
3952(svrname)S
12 R
4372(.)S
4477(If)S
12 I
4604(svrname)S
12 R
5069(is)S
5195(a)S
6040 V
708(NULL-pointer,)S
12 C
(DEF)219 1509 A
12 Y1
1728(3)S
12 C
(SAKSVR)438 1788 A
12 R
2289(is)S
2433(used.)S
2777(The)S
3028(job)S
3245(\(that)S
3531(is,)S
3705(transaction)S
4300(to)S
4457(be)S
4634(executed\))S
5168(is)S
6180 V
708(specified)S
1185(in)S
1318(the)S
1505(file)S
12 I
(filecap)330 1707 A
12 R
2086(which)S
(should)321 2421 A
2782(have)S
3050(been)S
3318(created)S
3709(using)S
12 I
4010(sak)S
12 Y1
4171(3)S
12 I
4231(make)S
12 Y1
4487(3)S
12 I
(transfile)404 4547 A
12 R
4961(.)S
5061(The)S
6320 V
12 I
708(sched)S
12 R
1043(argument)S
1550(describes)S
(under)275 2050 A
2374(what)S
(conditions)503 2659 A
3211(the)S
3408(transaction)S
(should)321 3989 A
4359(be)S
4522(executed.)S
5061(The)S
6460 V
12 I
708(options)S
12 R
1128(argument)S
1640(specifies)S
2120(what)S
2411(to)S
2560(do)S
2735(with)S
3006(any)S
3235(error)S
3527(status)S
3858(information.)S
4545(Details)S
4945(of)S
5101(the)S
6600 V
12 I
708(options)S
12 R
1110(and)S
12 I
1321(sched)S
12 R
1643(are)S
1829(given)S
2133(in)S
2263(the)S
2447(section)S
12 I
2826(Types)S
12 R
(above.)318 3154 A
3538(A)S
(capability)478 3662 A
4176(for)S
4354(the)S
4538(job)S
4728(is)S
4845(returned)S
6740 V
708(in)S
12 I
832(jobcap)S
12 R
1200(if)S
1305(no)S
1455(errors)S
1769(occurred.)S
6976 V
708(Required)S
1181(Rights:)S
7116 V
(NONE)338 1062 A
7700 V
(346)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 347 353
BP
/slant 0 def
/height 0 def
500 V
12 R
708(sak)S
889(\(L\))S
2567(Library)S
2961(Routines)S
4912(sak)S
5093(\(L\))S
920 V
708(Error)S
(Conditions:)563 995 A
1060 V
12 C
(SAK)219 1062 A
12 Y1
1281(3)S
12 C
(TOOLATE)511 1341 A
12 R
1852(:)S
1969(the)S
2147(specified)S
2615(time)S
2861(has)S
3052(already)S
3439(passed.)S
1200 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(SYSERR)438 1341 A
12 R
1779(:)S
1969(a)S
2053(system)S
2419(error)S
2686(occurred)S
3140(while)S
(initializing)526 3440 A
3996(job.)S
1340 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(NOMEM)365 1341 A
12 R
1706(:)S
1969(insufficient)S
2552(resources)S
3040(within)S
3380(sak)S
3571(server.)S
1480 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(ARGBAD)438 1341 A
12 R
1779(:)S
1969(the)S
2147(time)S
2393(specification)S
3043(was)S
3262(not)S
3446(legal.)S
1620 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(CAPBAD)438 1341 A
12 R
1779(:)S
1969(invalid)S
(capability.)508 2335 A
1760 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(COMBAD)438 1341 A
12 R
1779(:)S
1969(a)S
2053(job)S
(capability)478 2237 A
2745(was)S
2964(used)S
3215(instead)S
3588(of)S
3719(a)S
3803(server)S
(capability.)508 4130 A
2100 V
12 B
708(See)S
913(Also)S
2276 V
12 R
708(bullet\(L\),)S
1200(sak\(A\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(347)180 5069 A
7920 V
EP
%%Page: 348 354
BP
/slant 0 def
/height 0 def
500 V
12 R
708(seg)S
12 Y1
869(3)S
12 R
929(map)S
1157(\(L\))S
2567(Library)S
2961(Routines)S
4644(seg)S
12 Y1
4805(3)S
12 R
4865(map)S
5093(\(L\))S
860 V
2350(\(in)S
2515(libraries:)S
2978(libamoeba.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(seg)S
12 Y1
869(3)S
12 R
929(map)S
12 R-1
1167(-)S
12 R
1295(routines)S
1715(to)S
1839(control)S
2212(process)S
2605(virtual)S
2952(memory)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("module/proc.h")1005 1311 A
2322 V
(segid)335 708 A
(seg)201 1110 A
11 Y1
1311(3)S
11 C
(map\(cap,)536 1366 A
(addr,)335 1969 A
(len,)268 2371 A
(flags\))402 2706 A
2462 V
(errstat)469 708 A
(seg)201 1244 A
11 Y1
1445(3)S
11 C
(grow\(id,)536 1500 A
(newsize\))536 2103 A
2602 V
(errstat)469 708 A
(seg)201 1244 A
11 Y1
1445(3)S
11 C
(unmap\(id,)603 1500 A
(cap\))268 2170 A
2942 V
12 B
708(Description)S
3118 V
12 R
708(These)S
1030(routines)S
1454(enable)S
1804(a)S
1892(user)S
2128(program)S
2572(to)S
2700(control)S
3077(its)S
3226(virtual)S
3577(address)S
(space.)299 3974 A
12 I
4337(Seg)S
12 Y1
4511(3)S
12 I
4571(map)S
12 R
4823(creates)S
5195(a)S
3258 V
708(new)S
945(segment,)S
1413(optionally)S
(filling)297 1938 A
2270(it)S
2373(from)S
2644(a)S
2733(file)S
2931(or)S
3067(another)S
3464(segment,)S
3931(and)S
4139(maps)S
4428(the)S
4610(new)S
4846(segment)S
3398 V
708(in.)S
12 I
892(Seg)S
12 Y1
1066(3)S
12 I
1126(grow)S
12 R
1413(grows)S
1739(or)S
1870(shrinks)S
2249(a)S
2333(segment.)S
12 I
2826(Seg)S
12 Y1
3000(3)S
12 I
3060(unmap)S
12 R
3428(unmaps)S
3833(a)S
3917(segment.)S
3574 V
708(These)S
1035(calls)S
1296(are)S
1483(implemented)S
2153(with)S
2407(system)S
2782(calls,)S
3074(so)S
3220(no)S
3379(rights)S
3694(are)S
(involved,)452 3882 A
4373(and)S
4586(a)S
4679(process)S
5081(can)S
3714 V
708(only)S
952(manipulate)S
1520(its)S
1665(own)S
1903(address)S
(space)269 2296 A
2595(in)S
2719(this)S
2924(way.)S
4030 V
12 I
708(Functions)S
4346 V
708(seg)S
12 Y1
869(3)S
12 I
929(map)S
4582 V
11 C
(segid)335 1068 A
4722 V
(seg)201 1068 A
11 Y1
1269(3)S
11 C
(map\(cap,)536 1324 A
(addr,)335 1927 A
(len,)268 2329 A
(flags\))402 2664 A
4862 V
(capability)670 1068 A
(*cap;)335 1805 A
5002 V
(vir)201 1068 A
11 Y1
1269(3)S
11 C
(bytes)335 1324 A
(addr;)335 1726 A
5142 V
(vir)201 1068 A
11 Y1
1269(3)S
11 C
(bytes)335 1324 A
(len;)268 1726 A
5282 V
(long)268 1068 A
(flags;)402 1403 A
5482 V
12 I
708(Seg)S
12 Y1
882(3)S
12 I
942(map)S
12 R
1195(creates)S
1568(a)S
1658(new)S
1896(segment)S
2335(of)S
2472(length)S
12 I
2810(len)S
12 R
3004(and)S
3214(maps)S
3505(it)S
3609(into)S
3833(the)S
4017(process')S
4457(address)S
(space)269 4856 A
5161(at)S
5622 V
708(address)S
12 I
(addr)227 1119 A
12 R
1356(.)S
12 I
1463(Addr)S
12 R
(should)321 1761 A
2129(be)S
2290(a)S
(multiple)404 2391 A
2842(of)S
2990(``clicks''.)S
3544(The)S
3779(size)S
4015(of)S
4163(a)S
4264(click)S
4547(is)S
4675(architecture)S
5762 V
708(dependent,)S
1279(but)S
1478(usually)S
1872(the)S
2065(same)S
2359(as)S
2506(the)S
2700(hardware)S
3198(page)S
3472(size.)S
3767(Also,)S
4072(architectures)S
4739(may)S
(place)256 4993 A
5902 V
708(restrictions)S
1281(on)S
1434(the)S
1615(range)S
1917(of)S
2051(virtual)S
2401(addresses)S
2898(that)S
3112(may)S
3352(be)S
3498(used)S
3751(by)S
3903(user)S
4137(programs.)S
4686(The)S
4906(routine)S
6042 V
12 I
(findhole)396 708 A
12 R
1114(\(L\))S
1310(may)S
1559(be)S
1714(used)S
1976(to)S
2111(obtain)S
2454(an)S
2609(address)S
3013(where)S
3351(a)S
3446(segment)S
3890(may)S
4139(be)S
4294(mapped)S
4717(in)S
4852(and)S
5067(that)S
6182 V
708(satisfies)S
1130(all)S
1282(the)S
(necessary)471 1460 A
(conditions.)533 1961 A
6358 V
708(If)S
12 I
824(cap)S
12 R
1042(is)S
(non-NULL)545 1157 A
1736(and)S
1944(not)S
2132(a)S
(NULL-capability)843 2221 A
3099(the)S
3282(segment)S
3720(is)S
(initialized)486 3836 A
4357(from)S
4628(the)S
4811(specified)S
6498 V
708(file)S
927(or)S
1084(segment)S
1543(\(using)S
12 I
1901(b)S
12 Y1
1961(3)S
12 I
2021(read)S
12 R
2308(calls,)S
2617(see)S
12 I
2828(bullet)S
12 R
3114(\(L\)\).)S
3427(The)S
12 I
3671(flags)S
12 R
3972(specify)S
4378(how)S
4642(the)S
4846(segment)S
6638 V
(should)321 708 A
1071(be)S
1227(mapped,)S
1681(whether)S
2114(it)S
2224(is)S
2347(growable,)S
2870(etc.)S
3115(A)S
3246(complete)S
3733(description)S
4314(of)S
4458(the)S
4649(bits)S
4867(in)S
12 I
5004(flags)S
6778 V
12 R
708(can)S
906(be)S
(found)281 1050 A
1361(in)S
12 I
1485(process)S
12 Y1
1854(3)S
12 I
1914(d)S
12 R
1984(\(L\).)S
6954 V
708(On)S
(success,)393 910 A
12 I
1357(seg)S
12 Y1
1518(3)S
12 I
1578(map)S
12 R
1850(returns)S
2241(a)S
2349(segment)S
2806(identifier,)S
3336(a)S
3444(small)S
3761(integer)S
4152(that)S
4388(can)S
4610(be)S
4778(passed)S
5155(to)S
7094 V
12 I
708(seg)S
12 Y1
869(3)S
12 I
929(grow)S
12 R
1216(or)S
12 I
1347(seg)S
12 Y1
1508(3)S
12 I
1568(unmap)S
12 R
1906(.)S
7700 V
(348)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 349 355
BP
/slant 0 def
/height 0 def
500 V
12 R
708(seg)S
12 Y1
869(3)S
12 R
929(map)S
1157(\(L\))S
2567(Library)S
2961(Routines)S
4644(seg)S
12 Y1
4805(3)S
12 R
4865(map)S
5093(\(L\))S
920 V
708(Error)S
(Conditions:)563 995 A
1060 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(ARGBAD)438 1341 A
12 R
1969(Addr)S
2248(is)S
2359(not)S
2543(on)S
2693(a)S
2777(click)S
(boundary,)485 3043 A
1200 V
1969(the)S
2147(length)S
2479(is)S
2590(bigger)S
2929(than)S
3167(the)S
3345(maximum)S
3865(segment)S
4298(size,)S
1340 V
1969(or)S
2100(the)S
2278(segment)S
2711(would)S
3043(overlap)S
3436(an)S
3580(existing)S
3993(segment.)S
1480 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(COMBAD)438 1341 A
12 R
1969(The)S
2187(flag)S
2406(word)S
2685(is)S
2796(invalid,)S
3192(i.e.,)S
3400(no)S
3550(segment)S
3983(type)S
1620 V
1969(or)S
2100(protection)S
2621(specified,)S
3119(or)S
3250(an)S
3394(attempt)S
3788(to)S
3912(map)S
1760 V
1969(a)S
(non-local)457 2053 A
2540(segment)S
2973(with)S
12 C
(MAP)219 3219 A
12 Y1
3438(3)S
12 C
(INPLACE)511 3498 A
12 R
4039(is)S
4150(made.)S
1900 V
1969(Also)S
2228(returned)S
2662(on)S
2812(an)S
2956(attempt)S
3350(to)S
3474(map)S
3712(a)S
3796(zero-sized)S
4325(segment.)S
2040 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(NOSPACE)511 1341 A
12 R
1969(The)S
2187(machine)S
2627(has)S
2818(not)S
(enough)354 3002 A
(physical)403 3386 A
3819(memory)S
2180 V
1969(available)S
2437(to)S
2561(create)S
2882(the)S
3060(segment,)S
3523(or)S
3654(some)S
3939(internal)S
2320 V
1969(administrative)S
2693(table)S
2959(is)S
3070(full.)S
2460 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(CAPBAD)438 1341 A
12 R
1969(The)S
(capability)478 2187 A
2695(specified)S
3163(does)S
3414(not)S
3598(refer)S
3859(to)S
3983(an)S
2600 V
1969(existing)S
2382(file.)S
2976 V
12 I
708(seg)S
12 Y1
869(3)S
12 I
929(unmap)S
3212 V
11 C
(errstat)469 1068 A
3352 V
(seg)201 1068 A
11 Y1
1269(3)S
11 C
(unmap\(id,)603 1324 A
(cap\))268 1994 A
3492 V
(segid)335 1068 A
(id;)201 1470 A
3632 V
(capability)670 1068 A
(*cap;)335 1805 A
3832 V
12 R
708(This)S
959(call)S
1171(unmaps)S
1582(segment)S
12 I
2021(id)S
12 R
2125(.)S
2221(The)S
2445(segment)S
2884(id)S
3015(is)S
3133(either)S
3447(the)S
3632(value)S
3931(returned)S
4372(by)S
4529(a)S
4620(previous)S
5073(call)S
3972 V
708(to)S
12 I
867(seg)S
12 Y1
1028(3)S
12 I
1088(map)S
12 R
1306(,)S
1401(or)S
1567(the)S
1780(index)S
2113(of)S
2279(the)S
2492(segment)S
2960(in)S
3119(the)S
3331(segment)S
3798(descriptor)S
4347(array)S
4661(returned)S
5129(by)S
4112 V
12 I
708(getinfo)S
12 R
1054(\(L\).)S
1317(If)S
12 I
1446(cap)S
12 R
1678(is)S
1807(not)S
2009(a)S
2111(NULL-pointer,)S
2897(a)S
(capability)478 2999 A
3525(for)S
3715(the)S
3911(now)S
4167(unmapped)S
4717(segment)S
5168(is)S
4252 V
708(stored)S
1051(here.)S
1367(This)S
1629(segment)S
2079(remains)S
2510(attached)S
2961(to)S
3101(the)S
3295(program,)S
3781(and)S
(will)190 4001 A
4237(be)S
4397(deleted)S
4793(when)S
5101(the)S
4392 V
708(program)S
1188(exits.)S
1547(If)S
1699(a)S
1823(NULL-pointer)S
2601(is)S
2753(specified)S
3262(for)S
12 I
3475(cap)S
12 R
3659(,)S
3760(the)S
3979(segment)S
(will)190 4453 A
4714(be)S
4899(deleted)S
4532 V
708(immediately.)S
4828 V
708(Error)S
(Conditions:)563 995 A
4968 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(COMBAD)438 1341 A
12 R
1969(The)S
2187(segment)S
2620(id)S
2744(does)S
2995(not)S
3179(refer)S
3440(to)S
3564(a)S
3648(currently)S
5108 V
1969(mapped-in)S
2516(segment.)S
5484 V
12 I
708(seg)S
12 Y1
869(3)S
12 I
929(grow)S
5720 V
11 C
(errstat)469 1068 A
5860 V
(seg)201 1068 A
11 Y1
1269(3)S
11 C
(grow\(id,)536 1324 A
(newsize\))536 1927 A
6000 V
(segid)335 1068 A
(id;)201 1470 A
6140 V
(vir)201 1068 A
11 Y1
1269(3)S
11 C
(bytes)335 1324 A
(newsize;)536 1726 A
6340 V
12 R
708(This)S
988(call)S
1229(changes)S
1683(the)S
1896(size)S
2150(of)S
2316(a)S
2436(mapped)S
2884(segment.)S
3413(Depending)S
4009(on)S
4195(the)S
4409(growth)S
4818(direction)S
6480 V
708(specified)S
1178(in)S
1304(the)S
1484(call)S
1692(to)S
12 I
1818(seg)S
12 Y1
1979(3)S
12 I
2039(map)S
12 R
2257(,)S
2319(the)S
2499(segment)S
(will)190 2934 A
3156(be)S
3302(grown)S
3643(\(or)S
(shrunk\))369 3817 A
4218(at)S
4338(the)S
4518(high)S
4764(end)S
4969(or)S
5101(the)S
6620 V
708(low)S
920(end.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(349)180 5069 A
7920 V
EP
%%Page: 350 356
BP
/slant 0 def
/height 0 def
500 V
12 R
708(seg)S
12 Y1
869(3)S
12 R
929(map)S
1157(\(L\))S
2567(Library)S
2961(Routines)S
4644(seg)S
12 Y1
4805(3)S
12 R
4865(map)S
5093(\(L\))S
920 V
708(Error)S
(Conditions:)563 995 A
1060 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(COMBAD)438 1341 A
12 R
1969(The)S
2187(segment)S
2620(does)S
2871(not)S
3055(exist,)S
3344(or)S
3475(it)S
3573(is)S
3684(a)S
3768(fixed)S
4047(size)S
1200 V
1969(segment.)S
1340 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(NOSPACE)511 1341 A
12 R
1969(There)S
2282(is)S
2393(no)S
(physical)403 2543 A
2976(memory)S
3409(available)S
3877(to)S
4001(grow)S
4280(the)S
1480 V
1969(segment,)S
2432(or)S
2563(the)S
2741(new)S
2973(size)S
3192(specified)S
3660(would)S
3992(cause)S
4291(the)S
4469(segment)S
1620 V
1969(to)S
2093(overlap)S
2486(with)S
2732(another)S
3125(segment.)S
1996 V
12 I
708(Warnings)S
2172 V
12 R
708(Due)S
962(to)S
1108(problems)S
1610(in)S
1756(the)S
1956(current)S
2352(kernel)S
2707(it)S
2827(is)S
2960(often)S
3261(not)S
3467(possible)S
3915(to)S
4061(grow)S
4362(segments,)S
4894(even)S
5174(if)S
2312 V
(enough)354 708 A
(physical)403 1108 A
1557(memory)S
2006(is)S
2133(available.)S
2677(For)S
2891(this)S
3112(reason)S
(modules)409 3474 A
3929(that)S
4157(do)S
4323(memory)S
4771(allocation)S
2452 V
708(\(like)S
12 I
980(malloc)S
12 R
1320(\(L\)\))S
(should)321 1566 A
1936(always)S
2322(be)S
2485(prepared)S
2958(to)S
3101(allocate)S
3528(a)S
3632(completely)S
4220(new)S
4472(segment)S
4925(if)S
5050(it)S
5168(is)S
2592 V
708(impossible)S
1262(to)S
1386(grow)S
1665(a)S
1749(segment.)S
2872 V
12 B
708(See)S
913(Also)S
3048 V
12 R
708(bullet\(L\),)S
1200(getinfo\(L\),)S
1759(process\(L\),)S
2338(process)S
12 Y1
2701(3)S
12 R
2761(d\(L\).)S
7700 V
(350)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 351 357
BP
/slant 0 def
/height 0 def
500 V
12 R
708(segment)S
1131(\(L\))S
2567(Library)S
2961(Routines)S
4670(segment)S
5093(\(L\))S
860 V
2033(\(in)S
2198(libraries:)S
2661(libamoeba.a,)S
3309(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(segment)S
12 R-1
1141(-)S
12 R
1269(stubs)S
1547(to)S
1671(manage)S
2077(in-core)S
2451(segments)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("module/proc.h")1005 1311 A
2322 V
(errstat)469 708 A
1244(ps)S
11 Y1
1378(3)S
11 C
(segcreate\(server,)1139 1433 A
(size,)335 2639 A
(orig,)335 3041 A
(newcap\))469 3443 A
2462 V
(errstat)469 708 A
1244(ps)S
11 Y1
1378(3)S
11 C
(segwrite\(segcap,)1072 1433 A
(offset,)469 2572 A
(buf,)268 3108 A
(size\))335 3443 A
2802 V
12 B
708(Description)S
2978 V
12 R
708(These)S
1045(stubs)S
1341(allow)S
1659(programmers)S
2353(to)S
2495(control)S
2886(in-core)S
3278(segments)S
3776(managed)S
4260(by)S
4428(Amoeba)S
4886(process)S
3118 V
708(servers.)S
12 I
1158(Ps)S
12 Y1
1279(3)S
12 I
1339(segcreate)S
12 R
1858(creates)S
2241(a)S
2340(segment,)S
2818(and)S
12 I
3037(ps)S
12 Y1
3144(3)S
12 I
3204(segwrite)S
12 R
3669(modifies)S
4138(it.)S
4311(Besides)S
4732(these)S
5026(calls)S
3258 V
708(the)S
903(Bullet)S
1246(Server)S
1610(calls)S
12 I
1880(b)S
12 Y1
1940(3)S
12 I
2000(read)S
12 R
2278(and)S
12 I
2499(b)S
12 Y1
2559(3)S
12 I
2619(size)S
12 R
2858(\(see)S
12 I
3101(bullet)S
12 R
3387(\(L\)\))S
3631(and)S
3852(all)S
4022(applicable)S
4568(standard)S
5026(calls)S
3398 V
708(\(see)S
12 I
934(std)S
12 R
1085(\(L\)\))S
1312(can)S
1510(also)S
1735(be)S
1879(applied)S
2265(to)S
2389(segments.)S
3714 V
12 I
708(Rights)S
1047(bits)S
3890 V
12 R
708(Of)S
867(the)S
1045(rights)S
1351(used)S
1602(by)S
1752(the)S
1930(process)S
2323(server)S
2650(only)S
2894(three)S
3167(are)S
3346(applicable)S
3874(to)S
3998(segments:)S
4066 V
12 C
(PSR)219 708 A
12 Y1
927(3)S
12 C
(READ)292 987 A
12 R
1548(permission)S
2109(to)S
2233(read)S
2472(the)S
2650(segment)S
3083(\(using)S
12 I
3415(b)S
12 Y1
3475(3)S
12 I
3535(read)S
12 R
3766(\).)S
4242 V
12 C
(PSR)219 708 A
12 Y1
927(3)S
12 C
(WRITE)365 987 A
12 R
1548(permission)S
2109(to)S
2233(modify)S
2612(the)S
2790(segment.)S
4418 V
12 C
(PSR)219 708 A
12 Y1
927(3)S
12 C
(DELETE)438 987 A
12 R
1548(permission)S
2109(the)S
2287(delete)S
2607(the)S
2785(segment)S
3218(\(using)S
12 I
3550(std)S
12 Y1
3691(3)S
12 I
3751(destroy)S
12 R
4117(\).)S
4734 V
12 I
708(Functions)S
5050 V
708(ps)S
12 Y1
815(3)S
12 I
875(segcreate)S
5286 V
11 C
(errstat)469 1068 A
5426 V
1068(ps)S
11 Y1
1202(3)S
11 C
(segcreate\(server,)1139 1257 A
(size,)335 2463 A
(orig,)335 2865 A
(newcap\))469 3267 A
5566 V
(capability)670 1068 A
(*server;)536 1805 A
5706 V
(long)268 1068 A
(size;)335 1403 A
5846 V
(capability)670 1068 A
(*orig;)402 1805 A
5986 V
(capability)670 1068 A
(*newcap;)536 1805 A
6186 V
12 R
708(This)S
970(routine)S
1360(asks)S
1615(the)S
1810(process)S
2220(server)S
12 I
2564(server)S
12 R
2925(to)S
3067(create)S
3406(a)S
3508(segment)S
3959(of)S
4108(length)S
12 I
4458(size)S
12 R
4698(bytes.)S
5061(The)S
6326 V
(capability)478 708 A
1231(for)S
1418(the)S
1610(new)S
1856(segment)S
2303(is)S
2428(returned)S
2876(in)S
12 I
3014(newcap)S
12 R
3392(.)S
3496(If)S
12 I
3622(orig)S
12 R
3877(is)S
4002(not)S
4200(a)S
4298(NULL-pointer)S
5050(or)S
5195(a)S
6466 V
(NULL-capability)843 708 A
1591(the)S
1779(new)S
2021(segment)S
(will)190 2464 A
2694(be)S
(initialized)486 2848 A
3374(from)S
3650(the)S
3838(file)S
4041(\(or)S
4223(segment\))S
12 I
4707(orig)S
12 R
4918(,)S
4988(using)S
6606 V
12 I
708(b)S
12 Y1
768(3)S
12 I
828(read)S
12 R
1089(calls.)S
1402(Otherwise,)S
1962(the)S
2140(segment)S
(will)190 2573 A
2793(be)S
(zero-filled.)537 2937 A
6842 V
708(Required)S
1181(Rights:)S
6982 V
(NONE)338 1062 A
7700 V
2683(Amoeba)S
3123(5.3)S
(351)180 5069 A
7920 V
EP
%%Page: 352 358
BP
/slant 0 def
/height 0 def
500 V
12 R
708(segment)S
1131(\(L\))S
2567(Library)S
2961(Routines)S
4670(segment)S
5093(\(L\))S
860 V
12 I
708(ps)S
12 Y1
815(3)S
12 I
875(segwrite)S
1096 V
11 C
(errstat)469 1068 A
1236 V
1068(ps)S
11 Y1
1202(3)S
11 C
(segwrite\(segcap,)1072 1257 A
(offset,)469 2396 A
(buf,)268 2932 A
(size\))335 3267 A
1376 V
(capability)670 1068 A
(*segcap;)536 1805 A
1516 V
(long)268 1068 A
(offset;)469 1403 A
1656 V
(char)268 1068 A
(*buf;)335 1403 A
1796 V
(long)268 1068 A
(size;)335 1403 A
1996 V
12 R
708(This)S
955(routine)S
1330(modifies)S
1787(a)S
1874(segment.)S
12 I
2370(Size)S
12 R
2608(bytes)S
2896(from)S
3165(offset)S
12 I
3475(offset)S
12 R
3781(in)S
3908(segment)S
12 I
4344(segcap)S
12 R
4722(are)S
(written)345 4904 A
2136 V
708(from)S
12 I
987(buf)S
12 R
1151(.)S
12 I
1254(Size)S
12 R
1502(can)S
1713(be)S
1870(arbitrarily)S
2400(large;)S
2720(the)S
2911(stub)S
3155(routine)S
(converts)410 3541 A
3994(big)S
4191(modification)S
4852(requests)S
2276 V
708(into)S
926(many)S
(little)224 1224 A
1478(ones.)S
2512 V
708(Required)S
1181(Rights:)S
2652 V
12 C
(PSR)219 1062 A
12 Y1
1281(3)S
12 C
(WRITE)365 1341 A
3028 V
12 I
(Diagnostics)578 708 A
3204 V
12 R
708(The)S
926(routines)S
1346(return)S
1666(only)S
1910(standard)S
2350(error)S
2617(codes)S
2922(from)S
12 I
3188(stderr.h)S
12 R
3577(.)S
3520 V
12 I
708(Warnings)S
3696 V
12 R
708(Under)S
1053(some)S
1350(circumstances)S
2079(all)S
2243(rights)S
2562(\(instead)S
2989(of)S
3133(only)S
12 C
(PSR)219 3390 A
12 Y1
3609(3)S
12 C
(READ)292 3669 A
12 R
4004(as)S
4148(expected\))S
4662(for)S
4847(the)S
12 I
5038(orig)S
3836 V
12 R
708(segment)S
1144(are)S
1326(required)S
1763(by)S
1916(the)S
12 I
2097(ps)S
12 Y1
2204(3)S
12 I
2264(segcreate)S
12 R
2771(call,)S
3010(and)S
3217(the)S
3397(same)S
3678(is)S
3791(true)S
4012(for)S
4186(the)S
(``initial)366 4366 A
4764(contents'')S
3976 V
708(segment)S
1141(in)S
1265(the)S
12 I
1443(seg)S
12 Y1
1604(3)S
12 I
1664(map)S
12 R
1913(call)S
2120(\(see)S
12 I
2347(seg)S
12 Y1
2508(3)S
12 I
2568(map)S
12 R
2786(\(L\)\).)S
3074(For)S
3273(this)S
3479(reason)S
3826(it)S
3925(is)S
4037(currently)S
4506(not)S
4691(a)S
(good)240 4776 A
5047(idea)S
4116 V
708(to)S
832(strip)S
1078(rights)S
1384(from)S
1650(segment)S
(capabilities.)583 2083 A
4396 V
12 B
708(See)S
913(Also)S
4572 V
12 R
708(bullet\(L\),)S
1200(process\(A\),)S
1793(process\(L\),)S
2372(process)S
12 Y1
2735(3)S
12 R
2795(d\(L\),)S
3071(seg)S
12 Y1
3232(3)S
12 R
3292(map\(L\),)S
3716(std\(L\).)S
7700 V
(352)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 353 359
BP
/slant 0 def
/height 0 def
500 V
12 R
(semaphore)524 708 A
1252(\(L\))S
2567(Library)S
2961(Routines)S
(semaphore)524 4549 A
5093(\(L\))S
860 V
2033(\(in)S
2198(libraries:)S
2661(libamoeba.a,)S
3309(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
(semaphore)524 708 A
12 R-1
1262(-)S
12 R
1390(thread)S
1723(synchronization)S
2525(using)S
(counting)422 2816 A
(semaphores)571 3268 A
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("semaphore.h")871 1311 A
2322 V
(typedef)469 708 A
(...)201 1244 A
(semaphore;)670 1512 A
2602 V
(void)268 708 A
(sema)268 1043 A
11 Y1
1311(3)S
11 C
(init\(psem,)670 1366 A
(level\))402 2103 A
2742 V
(int)201 708 A
(sema)268 976 A
11 Y1
1244(3)S
11 C
(level\(psem\))737 1299 A
3022 V
(void)268 708 A
(sema)268 1043 A
11 Y1
1311(3)S
11 C
(up\(psem\))536 1366 A
3162 V
(void)268 708 A
(sema)268 1043 A
11 Y1
1311(3)S
11 C
(down\(psem\))670 1366 A
3302 V
(int)201 708 A
(sema)268 976 A
11 Y1
1244(3)S
11 C
(trydown\(psem,)871 1299 A
(maxdelay\))603 2237 A
3582 V
(void)268 708 A
(sema)268 1043 A
11 Y1
1311(3)S
11 C
(mup\(psem,)603 1366 A
(count\))402 2036 A
3722 V
(int)201 708 A
(sema)268 976 A
11 Y1
1244(3)S
11 C
(mdown\(psem,)737 1299 A
(count\))402 2103 A
3862 V
(int)201 708 A
(sema)268 976 A
11 Y1
1244(3)S
11 C
(trymdown\(psem,)938 1299 A
(count,)402 2304 A
(maxdelay\))603 2773 A
4202 V
12 B
708(Description)S
4378 V
12 R
708(These)S
1035(operations)S
1577(implement)S
(counting)422 2134 A
(semaphores.)601 2595 A
3265(What)S
3566(follows)S
3969(is)S
4089(an)S
(intuitive)404 4242 A
4685(explanation)S
4518 V
708(of)S
(semaphores,)601 839 A
1470(not)S
1654(a)S
1738(formal)S
(definition:)505 2092 A
4694 V
708(A)S
(semaphore)524 851 A
1430(contains)S
1888(a)S
(non-negative)631 1997 A
2683(integer)S
3075(variable,)S
3551(usually)S
3955(called)S
4300(its)S
4471(level.)S
4823(The)S
5067(two)S
4834 V
708(important)S
1222(operations)S
1769(on)S
(semaphores)571 1932 A
2546(are)S
12 I
2738(up)S
12 R
2911(and)S
12 I
3128(down,)S
12 R
3471(which)S
3810(increment)S
4338(and)S
4554(decrement)S
5101(the)S
4974 V
708(level,)S
1010(respectively.)S
1692(However,)S
2203(when)S
2501(a)S
2591(call)S
2803(to)S
12 I
2933(down)S
12 R
3239(would)S
3577(decrement)S
4118(the)S
4302(level)S
4574(below)S
4906(zero,)S
5181(it)S
5114 V
708(blocks)S
(until)222 1068 A
1335(a)S
1434(call)S
1655(to)S
12 I
1794(up)S
12 R
1969(is)S
2095(made)S
2402(\(by)S
2608(another)S
3016(thread\))S
3404(that)S
3630(increments)S
4206(the)S
4398(level)S
(above)288 4678 A
5010(zero.)S
5254 V
708(This)S
956(is)S
(done)234 1070 A
1337(in)S
1465(such)S
1720(a)S
1808(way)S
2044(that)S
2260(the)S
2442(level)S
(will)190 2712 A
2936(never)S
3239(actually)S
3657(go)S
3811(negative.)S
4315(You)S
4557(could)S
4859(also)S
5088(say)S
5394 V
708(that)S
930(the)S
1117(total)S
1372(number)S
1780(of)S
1920(completed)S
12 I
2463(down)S
12 R
2772(calls)S
3034(for)S
3215(a)S
3308(particular)S
(semaphore)524 3813 A
(will)190 4376 A
4605(never)S
(exceed)336 4913 A
5534 V
708(the)S
886(total)S
1132(number)S
1531(of)S
12 I
1662(up)S
12 R
1822(calls)S
2075(\(not)S
(necessarily)539 2300 A
2869(completed\),)S
3474(plus)S
3705(its)S
(initial)284 3850 A
4164(level.)S
5850 V
12 I
708(Types)S
6026 V
12 R
708(The)S
12 I
(semaphore)530 927 A
12 R
1498(data)S
1731(type)S
1970(declared)S
2412(in)S
12 I
(semaphore.h)620 2537 A
12 R
3198(is)S
3310(an)S
3455(opaque)S
3834(data)S
4068(type;)S
4342(its)S
4489(only)S
4735(use)S
(should)321 4928 A
6166 V
708(be)S
857(to)S
986(declare)S
(semaphores.)601 1371 A
2036(All)S
2226(operations)S
2764(on)S
(semaphores)571 2918 A
3523(must)S
3792(be)S
(done)234 3940 A
(through)375 4208 A
4617(the)S
4799(functions)S
6306 V
708(below.)S
6622 V
12 I
708(Errors)S
6798 V
12 R
708(The)S
(semaphore)524 927 A
1482(package)S
1909(makes)S
2249(no)S
2400(consistency)S
2995(checks;)S
(illegal)304 3389 A
3725(calls)S
3980(cause)S
(undefined)483 4281 A
4796(behavior.)S
6938 V
708(The)S
934(source)S
1288(may)S
1534(be)S
1686(compiled)S
2174(with)S
2428(a)S
(debugging)508 2519 A
3064(flag)S
3290(which)S
3623(adds)S
3881(some)S
4173(consistency)S
4774(checks;)S
5174(if)S
7078 V
708(an)S
(illegal)304 852 A
1186(situation)S
1633(is)S
1744(detected)S
2178(a)S
2262(message)S
2702(is)S
2813(printed)S
3186(and)S
3390(the)S
3568(program)S
4008(is)S
4119(aborted.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(353)180 5069 A
7920 V
EP
%%Page: 354 360
BP
/slant 0 def
/height 0 def
500 V
12 R
(semaphore)524 708 A
1252(\(L\))S
2567(Library)S
2961(Routines)S
(semaphore)524 4549 A
5093(\(L\))S
1036 V
12 I
708(Functions)S
1352 V
708(sema)S
12 Y1
957(3)S
12 I
1017(init)S
1588 V
11 C
(void)268 1068 A
1728 V
(sema)268 1068 A
11 Y1
1336(3)S
11 C
(init\(psem,)670 1391 A
(level\))402 2128 A
1868 V
(semaphore)603 1068 A
(*psem;)402 1738 A
2008 V
(int)201 1068 A
(level;)402 1336 A
2208 V
12 R
708(A)S
(semaphore)524 831 A
1390(must)S
1660(be)S
(initialized)486 1809 A
2330(to)S
2459(a)S
2548(certain)S
12 I
(level)230 2914 A
12 R
3189(by)S
(calling)330 3344 A
3710(this)S
3921(function.)S
4420(This)S
4671(call)S
4883(is)S
5000(com-)S
2348 V
708(pulsory;)S
(semaphores)571 1136 A
(initialized)486 1739 A
2257(to)S
2383(all)S
2537(zeros)S
2825(have)S
3085(an)S
(illegal)304 3231 A
3567(state.)S
3882(The)S
(initial)284 4102 A
4417(level)S
4684(must)S
4950(not)S
5135(be)S
2488 V
708(negative.)S
2804 V
12 I
708(sema)S
12 Y1
957(3)S
12 I
(level)230 1017 A
3040 V
11 C
(int)201 1068 A
3180 V
(sema)268 1068 A
11 Y1
1336(3)S
11 C
(level\(psem\))737 1391 A
3320 V
(semaphore)603 1068 A
(*psem;)402 1738 A
3520 V
12 R
708(This)S
956(function)S
1392(returns)S
1762(the)S
(semaphore's)612 1943 A
2588(current)S
2965(level.)S
3294(Since)S
3596(this)S
3804(value)S
4099(may)S
4341(be)S
4489(invalid)S
4859(the)S
5041(next)S
3660 V
(microsecond)618 708 A
1367(\(if)S
1524(another)S
1928(thread)S
2272(changes)S
2702(the)S
2891(level\),)S
3239(it)S
3348(is)S
3469(not)S
3663(useful)S
3999(for)S
4181(synchronization.)S
5053(It)S
5168(is)S
3800 V
708(provided)S
1167(in)S
1291(the)S
(interface)426 1469 A
1925(to)S
2049(allow)S
2349(printing)S
2762(the)S
2940(value)S
3232(of)S
3363(a)S
(semaphore)524 3447 A
4001(for)S
(debugging)508 4173 A
4711(purposes.)S
4116 V
12 I
708(sema)S
12 Y1
957(3)S
12 I
1017(up)S
4352 V
11 C
(void)268 1068 A
4492 V
(sema)268 1068 A
11 Y1
1336(3)S
11 C
(up\(psem\))536 1391 A
4632 V
(semaphore)603 1068 A
(*psem;)402 1738 A
4832 V
12 R
708(This)S
953(function)S
1386(implements)S
1981(the)S
12 I
2159(up)S
12 R
2319(operation)S
2806(described)S
(above.)318 3300 A
5148 V
12 I
708(sema)S
12 Y1
957(3)S
12 I
1017(down)S
5384 V
11 C
(void)268 1068 A
5524 V
(sema)268 1068 A
11 Y1
1336(3)S
11 C
(down\(psem\))670 1391 A
5664 V
(semaphore)603 1068 A
(*psem;)402 1738 A
5864 V
12 R
708(This)S
953(function)S
1386(implements)S
1981(the)S
12 I
2159(down)S
12 R
2459(operation)S
2946(described)S
(above.)318 3440 A
6180 V
12 I
708(sema)S
12 Y1
957(3)S
12 I
1017(trydown)S
6416 V
11 C
(int)201 1068 A
6556 V
(sema)268 1068 A
11 Y1
1336(3)S
11 C
(trydown\(psem,)871 1391 A
(maxdelay\))603 2329 A
6696 V
(semaphore)603 1068 A
(*psem;)402 1738 A
6836 V
(interval)536 1068 A
(maxdelay;)603 1671 A
7036 V
12 R
708(This)S
954(is)S
1066(a)S
1151(variant)S
1519(of)S
1652(the)S
12 I
1832(down)S
12 R
2134(operation)S
2623(that)S
2837(gives)S
3124(up)S
3276(when)S
3570(it)S
3670(has)S
3863(been)S
4123(blocked)S
(unsuccessfully)712 4537 A
7176 V
708(for)S
12 I
925(maxdelay)S
12 R
(milliseconds,)642 1474 A
2191(or)S
2367(when)S
2704(the)S
2927(call)S
3178(is)S
3334(interrupted)S
3941(by)S
4136(a)S
4265(signal)S
4628(catcher)S
5053(\(see)S
7316 V
12 I
(signals)342 708 A
12 R
1060(\(L\)\),)S
1328(or)S
1470(when)S
1773(the)S
1962(process)S
2366(is)S
2489(continued)S
3007(after)S
3273(a)S
3369(stun)S
3612(\(see)S
12 I
3850(process)S
12 R
4229(\(L\)\).)S
4528(If)S
12 I
4652(maxdelay)S
12 R
5168(is)S
7700 V
(354)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 355 361
BP
/slant 0 def
/height 0 def
500 V
12 R
(semaphore)524 708 A
1252(\(L\))S
2567(Library)S
2961(Routines)S
(semaphore)524 4549 A
5093(\(L\))S
860 V
708(zero,)S
990(it)S
(succeeds)430 1101 A
1574(only)S
1831(if)S
1949(the)S
12 I
2140(down)S
12 R
2453(operation)S
2953(can)S
(proceed)383 3164 A
(without)370 3590 A
4003(blocking.)S
4528(If)S
12 I
4652(maxdelay)S
12 R
5168(is)S
1000 V
708(negative,)S
1192(an)S
1350(infinite)S
1745(delay)S
2051(is)S
2176(set,)S
2385(but)S
2583(the)S
2775(call)S
2995(may)S
(still)183 3247 A
3475(be)S
3634(interrupted)S
4211(\(unlike)S
12 I
4599(sema)S
12 Y1
4848(3)S
12 I
4908(down)S
12 R
5178(\).)S
1140 V
12 I
708(Maxdelay)S
12 R
1227(may)S
1467(be)S
(rounded)395 1613 A
2040(up)S
2192(to)S
2318(a)S
(multiple)404 2404 A
2840(of)S
2973(the)S
3153(kernel's)S
3576(internal)S
3979(clock.)S
4333(The)S
4553(return)S
4875(value)S
5168(is)S
1280 V
708(zero)S
947(for)S
(success,)393 1119 A
1542(negative)S
1982(for)S
2154(failure.)S
1596 V
12 I
708(sema)S
12 Y1
957(3)S
12 I
1017(mup)S
1832 V
11 C
(void)268 1068 A
1972 V
(sema)268 1068 A
11 Y1
1336(3)S
11 C
(mup\(psem,)603 1391 A
(count\))402 2061 A
2112 V
(semaphore)603 1068 A
(*psem;)402 1738 A
2252 V
(int)201 1068 A
(count;)402 1336 A
2452 V
12 R
708(This)S
953(function)S
1386(is)S
1497(equivalent)S
2031(to)S
12 I
(count)268 2155 A
12 R
2463(calls)S
2716(to)S
12 I
2840(sema)S
12 Y1
3089(3)S
12 I
3149(up)S
12 R
3279(,)S
3339(but)S
3523(more)S
3802(efficient.)S
2768 V
12 I
708(sema)S
12 Y1
957(3)S
12 I
1017(mdown)S
3004 V
11 C
(int)201 1068 A
3144 V
(sema)268 1068 A
11 Y1
1336(3)S
11 C
(mdown\(psem,)737 1391 A
(count\))402 2195 A
3284 V
(semaphore)603 1068 A
(*psem;)402 1738 A
3424 V
(int)201 1068 A
(count;)402 1336 A
3624 V
12 R
708(This)S
958(function)S
1396(is)S
1512(not)S
1701(quite)S
1979(equivalent)S
2519(to)S
12 I
(count)268 2649 A
12 R
2963(calls)S
3222(to)S
12 I
3352(sema)S
12 Y1
3601(3)S
12 I
3661(down)S
12 R
3931(!)S
4038(When)S
12 I
(count)268 4362 A
12 R
4676(<=)S
4848(0,)S
4974(it)S
5078(is)S
5195(a)S
3764 V
708(no-op;)S
1060(otherwise,)S
1599(it)S
1704(is)S
1822(equivalent)S
2363(to)S
2493(between)S
2933(1)S
3029(and)S
12 I
(count)268 3239 A
12 R
3553(calls)S
3812(to)S
12 I
3942(sema)S
12 Y1
4191(3)S
12 I
4251(down)S
12 R
4521(.)S
4617(It)S
4728(returns)S
5101(the)S
3904 V
708(actual)S
1030(number)S
1431(subtracted)S
1961(from)S
2229(the)S
(semaphore's)612 2409 A
3053(level.)S
3381(This)S
3628(number)S
4029(is)S
4143(determined)S
4721(as)S
4855(follows.)S
4044 V
708(If,)S
860(on)S
1020(entry)S
1309(into)S
12 I
1537(sema)S
12 Y1
1786(3)S
12 I
1846(mdown)S
12 R
2204(,)S
2273(the)S
(semaphore's)612 2460 A
3111(level)S
3386(is)S
3506(>)S
3613(0,)S
3742(the)S
3929(call)S
(proceeds)430 4144 A
4613(immediately,)S
4184 V
708(otherwise)S
1233(it)S
1354(blocks)S
(until)222 1723 A
1999(the)S
2201(level)S
2491(is)S
2626(raised)S
(above)288 2970 A
3312(zero.)S
3635(In)S
3790(all)S
3966(cases,)S
4306(the)S
4508(return)S
4852(value)S
5168(is)S
4324 V
(MIN\(count,)575 708 A
1313(level\).)S
1680(\(Informally,)S
(you)180 2300 A
2510(can)S
2708(think)S
2986(of)S
3117(all)S
3269(this)S
3474(as:)S
12 I
3639(sema)S
12 Y1
3888(3)S
12 I
3948(mdown)S
12 R
4336(tries)S
4576(to)S
4700(do)S
4850(as)S
4981(many)S
4464 V
708(calls)S
961(as)S
1092(possible)S
1518(to)S
12 I
1642(sema)S
12 Y1
1891(3)S
12 I
1951(down)S
12 R
2251(with)S
2497(as)S
(little)224 2628 A
2882(effort)S
3183(as)S
3314(possible.\))S
4780 V
12 I
708(sema)S
12 Y1
957(3)S
12 I
1017(trymdown)S
5016 V
11 C
(int)201 1068 A
5156 V
(sema)268 1068 A
11 Y1
1336(3)S
11 C
(trymdown\(psem,)938 1391 A
(count,)402 2396 A
(maxdelay\))603 2865 A
5296 V
(semaphore)603 1068 A
(*psem;)402 1738 A
5436 V
(int)201 1068 A
(count;)402 1336 A
5576 V
(interval)536 1068 A
(maxdelay;)603 1671 A
5776 V
12 R
708(This)S
975(call)S
1203(is)S
1336(a)S
1442(combination)S
2098(of)S
2251(the)S
(functionality)619 2451 A
3122(of)S
12 I
3275(sema)S
12 Y1
3524(3)S
12 I
3584(trydown)S
12 R
4041(and)S
12 I
4267(sema)S
12 Y1
4516(3)S
12 I
4576(mdown)S
12 R
4934(.)S
5046(If)S
5181(it)S
5916 V
708(decides)S
1103(to)S
1229(block,)S
1559(it)S
(will)190 1659 A
1880(block)S
2179(at)S
2298(most)S
12 I
2564(maxdelay)S
12 R
(milliseconds,)642 3069 A
3742(or)S
3874(indefinitely)S
4464(but)S
4649(interruptible)S
6056 V
708(if)S
12 I
821(maxdelay)S
12 R
1333(is)S
1452(<)S
1558(0.)S
1716(If)S
1836(the)S
2022(level)S
2296(is)S
(still)183 2415 A
2637(zero)S
2885(at)S
3012(the)S
3199(end)S
3412(of)S
3552(the)S
3739(delay)S
4040(period,)S
4418(the)S
(semaphore)524 4605 A
5168(is)S
6196 V
708(not)S
(updated)382 908 A
1336(and)S
1556(the)S
1750(return)S
2086(value)S
2394(is)S
2521(negative;)S
3011(otherwise)S
3529(the)S
3723(effect)S
4046(and)S
4265(return)S
4600(value)S
4907(are)S
5101(the)S
6336 V
708(same)S
987(as)S
1118(for)S
12 I
1290(sema)S
12 Y1
1539(3)S
12 I
1599(mdown)S
12 R
1957(.)S
6652 V
12 I
708(Warning)S
6828 V
12 R
708(Overflow)S
1204(of)S
1335(the)S
12 I
(level)230 1513 A
12 R
1783(field)S
2036(is)S
2147(not)S
2331(detected.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(355)180 5069 A
7920 V
EP
%%Page: 356 362
BP
/slant 0 def
/height 0 def
500 V
12 R
(semaphore)524 708 A
1252(\(L\))S
2567(Library)S
2961(Routines)S
(semaphore)524 4549 A
5093(\(L\))S
860 V
12 B
708(Example)S
1036 V
12 R
708(The)S
938(code)S
1208(below)S
1546(sketches)S
1998(the)S
2189(solution)S
2621(to)S
2758(the)S
2949(standard)S
3402(problem)S
3848(of)S
3992(a)S
(producer)430 4089 A
4562(and)S
4779(consumer)S
1176 V
708(with)S
961(a)S
1052(limited)S
1433(buffer,)S
1797(using)S
(counting)422 2095 A
(semaphores.)601 2553 A
3220(It)S
3331(lacks)S
3616(a)S
3706(main)S
3984(program)S
4430(that)S
4648(executes)S
5101(the)S
1316 V
(producer)430 708 A
1221(and)S
1478(consumer)S
2031(threads)S
2464(in)S
2641(parallel.)S
3149(Extension)S
3715(to)S
(multiple)404 3892 A
(producers)477 4379 A
4940(and/or)S
1456 V
708(consumers)S
1256(are)S
1436(left)S
1630(as)S
1762(exercises)S
2238(for)S
2411(the)S
2589(reader)S
2923(\(hint:)S
3216(the)S
12 I
3394(next)S
12 Y1
3596(3)S
12 I
3656(slot)S
12 R
3871(variables)S
4339(must)S
4604(be)S
4748(shared)S
5094(per)S
1596 V
(group)281 708 A
1019(and)S
1223(protected)S
1704(with)S
1950(mutexes\).)S
1796 V
11 C
(#define)469 1068 A
1604(N)S
11 Y1
1671(3)S
11 C
(SLOTS)335 1726 A
2128(10)S
1936 V
(typedef)469 1068 A
(...)201 1604 A
(item;)335 1872 A
2076 V
(item)268 1068 A
(buffer[N)536 1403 A
11 Y1
1939(3)S
11 C
(SLOTS];)469 1994 A
2216 V
(semaphore)603 1068 A
(slots)335 1738 A
11 Y1
2073(3)S
11 C
(filled,)469 2128 A
(slots)335 2664 A
11 Y1
2999(3)S
11 C
(empty;)402 3054 A
2496 V
(init\(\))402 1068 A
2636 V
1068({)S
2776 V
1336(/*)S
(Buffer)402 1537 A
(starts)402 2006 A
(empty)335 2475 A
2877(*/)S
2916 V
(sema)268 1336 A
11 Y1
1604(3)S
11 C
(init\(&slots)737 1659 A
11 Y1
2396(3)S
11 C
(filled,)469 2451 A
(0\);)201 2987 A
3056 V
(sema)268 1336 A
11 Y1
1604(3)S
11 C
(init\(&slots)737 1659 A
11 Y1
2396(3)S
11 C
(empty,)402 2451 A
2920(N)S
11 Y1
2987(3)S
11 C
(SLOTS\);)469 3042 A
3196 V
1068(})S
3476 V
(producer\(\))670 1068 A
3616 V
1068({)S
3756 V
(int)201 1336 A
(next)268 1604 A
11 Y1
1872(3)S
11 C
(slot)268 1927 A
2262(=)S
2396(0;)S
4036 V
(for)201 1336 A
(\(;;\))268 1604 A
1939({)S
4176 V
(sema)268 1604 A
11 Y1
1872(3)S
11 C
(down\(&slots)737 1927 A
11 Y1
2664(3)S
11 C
(empty\);)469 2719 A
4316 V
("produce)536 1604 A
2207(an)S
(item)268 2408 A
(into)268 2743 A
(buffer[next)737 3078 A
11 Y1
3815(3)S
11 C
(slot]")402 3870 A
4456 V
(next)268 1604 A
11 Y1
1872(3)S
11 C
(slot)268 1927 A
2262(=)S
(\(next)335 2396 A
11 Y1
2731(3)S
11 C
(slot)268 2786 A
3121(+)S
3255(1\))S
3456(%)S
3590(N)S
11 Y1
3657(3)S
11 C
(SLOTS;)402 3712 A
4596 V
(sema)268 1604 A
11 Y1
1872(3)S
11 C
(up\(&slots)603 1927 A
11 Y1
2530(3)S
11 C
(filled\);)536 2585 A
4736 V
1336(})S
4876 V
1068(})S
5156 V
(consumer\(\))670 1068 A
5296 V
1068({)S
5436 V
(int)201 1336 A
(next)268 1604 A
11 Y1
1872(3)S
11 C
(slot)268 1927 A
2262(=)S
2396(0;)S
5716 V
(for)201 1336 A
(\(;;\))268 1604 A
1939({)S
5856 V
(sema)268 1604 A
11 Y1
1872(3)S
11 C
(down\(&slots)737 1927 A
11 Y1
2664(3)S
11 C
(filled\);)536 2719 A
5996 V
("consume)536 1604 A
2207(an)S
(item)268 2408 A
(from)268 2743 A
(buffer[next)737 3078 A
11 Y1
3815(3)S
11 C
(slot]")402 3870 A
6136 V
(next)268 1604 A
11 Y1
1872(3)S
11 C
(slot)268 1927 A
2262(=)S
(\(next)335 2396 A
11 Y1
2731(3)S
11 C
(slot)268 2786 A
3121(+)S
3255(1\))S
3456(%)S
3590(N)S
11 Y1
3657(3)S
11 C
(SLOTS;)402 3712 A
6276 V
(sema)268 1604 A
11 Y1
1872(3)S
11 C
(up\(&slots)603 1927 A
11 Y1
2530(3)S
11 C
(empty\);)469 2585 A
6416 V
1336(})S
6556 V
1068(})S
7700 V
12 R
(356)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 357 363
BP
/slant 0 def
/height 0 def
500 V
12 R
(semaphore)524 708 A
1252(\(L\))S
2567(Library)S
2961(Routines)S
(semaphore)524 4549 A
5093(\(L\))S
860 V
12 B
708(See)S
913(Also)S
1036 V
12 R
708(Edsger)S
1074(W.)S
1248(Dijkstra,)S
12 I
(Cooperating)609 1700 A
2339(Sequential)S
2879(Processes)S
12 R
3373(.)S
1212 V
708(A.)S
856(Van)S
1088(Wijngaarden)S
1743(et.al.,)S
12 I
2039(Revised)S
2446(Report)S
2805(on)S
2955(the)S
3133(Algorithmic)S
(Language)481 3742 A
4253(Algol-68)S
12 R
4686(.)S
1388 V
708(mutex\(L\),)S
1226(signals\(L\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(357)180 5069 A
7920 V
EP
%%Page: 358 364
BP
/slant 0 def
/height 0 def
500 V
12 R
708(signals)S
1064(\(L\))S
2567(Library)S
2961(Routines)S
4737(signals)S
5093(\(L\))S
860 V
2350(\(in)S
2515(libraries:)S
2978(libamoeba.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(signals)S
12 R-1
1074(-)S
12 R
1202(signal)S
1521(and)S
1725(exception)S
2225(handling)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("exception.h")871 1311 A
2182 V
(#include)536 708 A
("fault.h")603 1311 A
1981(/*)S
(From)268 2182 A
(src/h/machdep/arch/<architecture>)2211 2517 A
4795(*/)S
2322 V
(#include)536 708 A
("module/signals.h")1206 1311 A
2602 V
(typedef)469 708 A
(long)268 1244 A
(signum;)469 1579 A
2742 V
(#define)469 708 A
(SIG)201 1244 A
11 Y1
1445(3)S
11 C
(TRANS)335 1500 A
1902(1)S
3022 V
(signum)402 708 A
(sig)201 1244 A
11 Y1
1445(3)S
11 C
(uniq\(\))402 1500 A
3162 V
(void)268 708 A
(sig)201 1244 A
11 Y1
1445(3)S
11 C
(raise\(sig\))670 1500 A
3302 V
(errstat)469 708 A
(sig)201 1244 A
11 Y1
1445(3)S
11 C
(catch\(sig,)670 1500 A
(catcher,)536 2237 A
(extra\))402 2840 A
3442 V
(void)268 708 A
(sig)201 1244 A
11 Y1
1445(3)S
11 C
(block\(\))469 1500 A
3582 V
(void)268 708 A
(sig)201 1244 A
11 Y1
1445(3)S
11 C
(unblock\(\))603 1500 A
3862 V
(void)268 708 A
1244(my)S
11 Y1
1378(3)S
11 C
(catcher\(sig,)804 1433 A
(us,)201 2304 A
(extra\))402 2572 A
4142 V
708(/*)S
(Low-level)603 909 A
(interface:)670 1579 A
2316(*/)S
4422 V
(typedef)469 708 A
(struct)402 1244 A
({...})335 1713 A
(sig)201 2115 A
11 Y1
2316(3)S
11 C
(vector;)469 2371 A
4702 V
(sys)201 708 A
11 Y1
909(3)S
11 C
(setvec\(v,)603 964 A
1634(n\))S
4842 V
(sys)201 708 A
11 Y1
909(3)S
11 C
(sigret\(us\))670 964 A
5122 V
708(my)S
11 Y1
842(3)S
11 C
(sys)201 897 A
11 Y1
1098(3)S
11 C
(catcher\(sig,)804 1153 A
(us,)201 2024 A
(arg3,)335 2292 A
(arg4\))335 2694 A
5462 V
12 B
708(Description)S
5638 V
12 I
(Signals)355 708 A
12 R
1129(are)S
1334(used)S
1611(for)S
(asynchronous)663 1809 A
2528(communication)S
3336(between)S
3796(threads)S
4203(within)S
4570(a)S
4681(process.)S
5161(A)S
5778 V
708(thread)S
1058(may)S
1313(specify)S
1710(a)S
12 I
1811(catcher)S
12 R
2231(function)S
2681(for)S
2870(a)S
2971(particular)S
12 I
(signal)295 3483 A
3824(number)S
12 R
4203(;)S
4283(another)S
4692(thread)S
5041(may)S
5918 V
(asynchronously)757 708 A
1496(cause)S
1796(a)S
1881(call)S
2088(to)S
2213(this)S
2419(catcher)S
2801(in)S
2926(the)S
3105(catching)S
3546(thread)S
3880(by)S
12 I
4031(generating)S
12 R
4595(a)S
4680(signal.)S
5061(The)S
6058 V
708(signal)S
1030(catching)S
1473(mechanism)S
2057(is)S
2171(also)S
2399(used)S
2653(to)S
2780(catch)S
3068(exceptions)S
3617(and)S
3823(client-to-server)S
4598(signals;)S
5000(more)S
6198 V
(about)268 708 A
1006(those)S
1291(later.)S
6374 V
708(Do)S
889(not)S
1076(confuse)S
1485(signals)S
1854(with)S
12 I
2103(stuns)S
12 R
2361(,)S
2424(which)S
2753(are)S
2935(used)S
3189(for)S
(asynchronous)663 3364 A
4060(communication)S
4845(between)S
6514 V
708(different)S
1174(processes)S
1685(\(see)S
12 I
1928(process)S
12 R
2307(\(L\)\).)S
2610(Signals)S
3012(are)S
3207(also)S
3448(used)S
3715(to)S
3855(emulate)S
4285(the)S
4479(C/)S
11 R
4637(UNIX)S
12 R
4960(signal)S
6654 V
708(mechanism)S
1289(\(see)S
12 I
1515(ansi)S
12 Y1
1716(3)S
12 I
1776(C)S
12 R
1866(\(L\))S
2052(and)S
12 I
2256(posix\(L\)\).)S
6830 V
12 R
708(When)S
1044(a)S
1146(signal)S
1484(is)S
1614(generated,)S
2164(it)S
2281(is)S
2411(broadcast)S
2924(to)S
3067(all)S
3238(threads)S
3637(in)S
3780(the)S
3977(same)S
4275(process)S
4687(that)S
4918(have)S
5195(a)S
6970 V
708(catcher)S
1101(for)S
1285(it.)S
1455(This)S
1712(may)S
1962(include)S
2359(the)S
2548(thread)S
2892(that)S
3115(generated)S
3627(the)S
3816(signal.)S
4206(Threads)S
4637(that)S
4860(have)S
5129(no)S
7110 V
708(catcher)S
1090(for)S
1263(the)S
1442(signal)S
1762(are)S
1942(completely)S
2511(unaffected.)S
3114(In)S
3246(threads)S
3627(that)S
3840(catch)S
4127(the)S
4307(signal,)S
4658(system)S
5026(calls)S
7250 V
708(are)S
889(completed)S
1425(or)S
1558(aborted)S
1953(\(see)S
2181(the)S
2361(next)S
2601(paragraph\);)S
3192(the)S
3372(catcher)S
3754(is)S
3866(called)S
4187(just)S
4393(before)S
4734(the)S
4913(system)S
7700 V
(358)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 359 365
BP
/slant 0 def
/height 0 def
500 V
12 R
708(signals)S
1064(\(L\))S
2567(Library)S
2961(Routines)S
4737(signals)S
5093(\(L\))S
860 V
708(call)S
924(returns.)S
1361(If)S
1483(the)S
1671(catcher)S
2062(returns,)S
2470(the)S
2659(thread)S
3003(continues)S
3507(where)S
3845(it)S
3954(was)S
4184(interrupted.)S
4817(A)S
4946(thread)S
1000 V
708(may)S
958(temporarily)S
1566(block)S
1876(signals;)S
2288(in)S
2424(this)S
2641(case)S
2892(the)S
3082(calls)S
3347(to)S
3483(catchers)S
3923(are)S
(postponed)495 4114 A
(until)222 4650 A
4913(signals)S
1140 V
708(are)S
(unblocked)502 887 A
1419(again)S
1711(\(but)S
1936(system)S
2302(calls)S
2555(are)S
(still)183 2734 A
2947(aborted\).)S
1316 V
708(RPC)S
982(system)S
1365(calls)S
1636(\(see)S
12 I
1880(rpc)S
12 R
2051(\(L\)\))S
2296(are)S
2493(aborted)S
2904(or)S
3053(continue)S
3517(depending)S
4067(on)S
4235(the)S
4431(state)S
4702(they)S
4958(are)S
5155(in)S
1456 V
708(when)S
1000(the)S
1178(signal)S
1497(is)S
1608(generated:)S
1632 V
708(trans)S
1128(When)S
1446(locating)S
1867(the)S
2046(server)S
2374(or)S
2506(sending)S
2912(the)S
3091(request,)S
3502(the)S
3681(call)S
3888(is)S
4000(aborted.)S
4454(When)S
4773(the)S
4952(server)S
1772 V
1128(is)S
1248(already)S
1644(processing)S
2200(the)S
2387(request,)S
2806(a)S
2898(client-to-server)S
3679(signal)S
4006(is)S
4125(generated)S
4634(in)S
4766(the)S
4952(server)S
1912 V
1128(\(see)S
1354(below\))S
1721(and)S
1925(the)S
2103(call)S
2309(continues.)S
2088 V
708(getreq)S
1128(When)S
(waiting)364 1475 A
1898(for)S
2099(an)S
2272(incoming)S
2788(request,)S
3228(the)S
3436(call)S
3672(is)S
3813(aborted.)S
4296(When)S
4644(a)S
4758(request)S
5168(is)S
2228 V
1128(already)S
1515(arriving,)S
1959(it)S
2057(is)S
2168(allowed)S
2582(to)S
2706(complete.)S
2404 V
708(putrep)S
1128(Always)S
1529(allowed)S
1943(to)S
2067(complete.)S
2580 V
708(Other)S
1015(system)S
1381(calls)S
1634(always)S
2001(continue,)S
2477(since)S
2756(they)S
(cannot)322 2994 A
3346(block)S
3644(very)S
(long,)244 3889 A
4163(with)S
4409(two)S
4621(exceptions.)S
2756 V
708(mu)S
12 Y1
862(3)S
12 R
922(trylock)S
1368(returns)S
12 Y
1741(-)S
12 R
1807(1,)S
1933(for)S
2111(failure)S
2465(to)S
2595(acquire)S
2988(the)S
3172(mutex)S
3510(\(see)S
12 I
3743(mutex)S
12 R
4043(\(L\)\).)S
4337(Note)S
4610(that)S
12 I
4829(mu)S
12 Y1
4977(3)S
12 I
5037(lock)S
2896 V
12 R
1368(is)S
1497(not)S
1699(a)S
1800(system)S
2183(call)S
2406(but)S
(loops)261 2607 A
(until)222 2915 A
12 I
3184(mu)S
12 Y1
3332(3)S
12 I
3392(trylock)S
12 R
(succeeds;)464 3786 A
4297(thus,)S
4575(the)S
4770(catcher)S
5168(is)S
3036 V
1368(called)S
1689(immediately)S
2326(but)S
2511(the)S
12 I
2690(mu)S
12 Y1
2838(3)S
12 I
2898(lock)S
12 R
3141(call)S
3348(does)S
3600(not)S
3785(return)S
(until)222 4106 A
4359(it)S
4459(has)S
4652(acquired)S
5101(the)S
3176 V
1368(mutex,)S
1746(which)S
2088(may)S
2341(be)S
2500(much)S
2813(later.)S
3135(Note)S
3416(that)S
3643(there)S
3931(are)S
4125(special)S
4507(versions)S
4955(of)S
5101(the)S
3316 V
1368(mutex)S
1726(routines)S
2172(which)S
2524(block)S
2849(signals)S
3242(from)S
3535(having)S
3920(an)S
4091(effect)S
(until)222 4426 A
4705(the)S
(critical)339 4910 A
3456 V
1368(region)S
1707(is)S
1818(complete.)S
2352(These)S
2671(are)S
2850(described)S
3344(in)S
12 I
3468(mutex)S
12 R
3768(\(L\).)S
3632 V
708(seg)S
12 Y1
869(3)S
12 R
929(map)S
1368(\(see)S
12 I
1604(segment)S
12 R
2011(\(L\)\))S
2248(is)S
2369(aborted)S
2772(when)S
3074(it)S
3182(is)S
3303(busy)S
3570(in)S
3704(a)S
3799(transaction)S
4372(reading)S
4776(the)S
(initial)284 4965 A
3772 V
1368(data)S
1600(for)S
1772(a)S
1856(segment;)S
2323(otherwise)S
2825(it)S
2923(continues.)S
3948 V
708(When)S
1029(a)S
1116(thread)S
1452(is)S
1566(busy)S
1826(in)S
1953(a)S
12 I
2040(trans)S
12 R
2331(and)S
2538(the)S
2719(server)S
3049(is)S
3163(already)S
3553(serving)S
3942(the)S
4123(request,)S
4536(the)S
4717(transaction)S
4088 V
708(is)S
821(not)S
1007(aborted)S
1401(but)S
1586(a)S
12 I
1671(client-to-server)S
12 R
2461(signal)S
2781(is)S
2893(generated)S
3395(in)S
3520(the)S
3699(server)S
4027(\(which)S
4395(may)S
4634(be)S
4779(executing)S
4228 V
708(on)S
867(another)S
1269(machine\).)S
1820(This)S
2075(client-to-server)S
2858(signal)S
3187(\()S
12 C
(SIG)219 3228 A
12 Y1
3447(3)S
12 C
(TRANS)365 3507 A
12 R
3872(\))S
3953(is)S
4074(not)S
4268(broadcast;)S
4806(it)S
4914(is)S
5035(only)S
4368 V
708(generated)S
1227(for)S
1417(the)S
1613(thread)S
1964(that)S
2194(is)S
2323(serving)S
2727(the)S
2923(transaction,)S
3533(and)S
3755(only)S
4017(if)S
4140(it)S
4255(has)S
4463(a)S
4564(catcher)S
4962(for)S
5151(it.)S
4508 V
708(When)S
1026(the)S
1204(server)S
1531(thread)S
1864(catches)S
2251(the)S
2429(client-to-server)S
3202(signal,)S
3551(it)S
3650(may)S
3889(decide)S
4236(to)S
4361(stop)S
4593(whatever)S
5069(it)S
5168(is)S
4648 V
708(doing)S
1041(and)S
1274(reply)S
1582(immediately.)S
2307(By)S
(convention,)566 2506 A
3131(interrupted)S
3722(servers)S
4125(report)S
4474(a)S
4587(special)S
4982(error,)S
4788 V
12 C
(STD)219 708 A
12 Y1
927(3)S
12 C
(INTR)292 987 A
12 R
1279(.)S
1375(This)S
1626(is)S
1743(up)S
1899(to)S
2029(the)S
2213(server;)S
2580(many)S
2884(servers)S
(ignore)309 3264 A
3610(this)S
3822(signal)S
(\(although)463 4148 A
4648(this)S
4860(is)S
4978(a)S
(bug)180 5069 A
4928 V
708(if)S
815(the)S
995(server)S
1324(itself)S
1600(may)S
1840(wait)S
2082(or)S
2215(compute)S
2662(indefinitely\).)S
3353(The)S
3572(client-to-server)S
4346(signal)S
4666(is)S
4778(generated)S
5068 V
(under)275 708 A
1013(other)S
1292(circumstances)S
2009(as)S
2140(well,)S
2410(e.g.,)S
2644(when)S
2936(a)S
3020(process)S
3413(is)S
(stunned)375 3524 A
3929(or)S
4060(crashes.)S
5244 V
708(When)S
1026(a)S
1110(thread)S
1443(causes)S
1789(an)S
1933(exception)S
2433(\(e.g.,)S
2708(it)S
2806(tries)S
3046(to)S
3170(divide)S
3503(by)S
3654(zero\),)S
3965(and)S
4170(it)S
4269(has)S
4461(a)S
4546(catcher)S
4928(for)S
5101(the)S
5384 V
(corresponding)691 708 A
1468(\(negative\))S
2029(exception)S
2568(number,)S
3036(that)S
3287(catcher)S
3706(is)S
3855(called.)S
4273(Exceptions)S
4878(are)S
5095(not)S
5524 V
708(broadcast)S
1213(to)S
1348(other)S
1638(threads,)S
2059(nor)S
2261(can)S
2470(they)S
2719(be)S
2874(blocked)S
3298(by)S
3460(the)S
3650(blocking)S
4114(mechanism)S
4707(or)S
(ignored.)399 4850 A
5664 V
708(When)S
1030(a)S
1118(thread)S
1455(causes)S
1805(an)S
1953(exception)S
2457(for)S
2633(which)S
2963(it)S
3065(has)S
3260(no)S
3414(catcher,)S
3828(the)S
4009(process)S
4405(is)S
(stunned)375 4519 A
4927(and)S
5134(its)S
5804 V
708(owner)S
(receives)398 1047 A
1481(a)S
(checkpoint.)560 1571 A
2197(The)S
2421(owner)S
2760(usually)S
3145(prints)S
3457(a)S
3547(stack)S
(trace)237 3832 A
4105(\(e.g.,)S
12 I
4386(ax)S
12 R
4510(\(U\)\))S
4758(or)S
4896(saves)S
5195(a)S
5944 V
708(``core)S
1046(image'')S
1471(\(e.g.,)S
12 I
1763(session)S
12 R
2122(\(U\)\),)S
2409(and)S
2629(then)S
(kills)209 2883 A
3138(the)S
3332(process.)S
3801(A)S
(debugger)449 3935 A
4430(may)S
4684(allow)S
5000(close)S
6084 V
708(inspection)S
1235(of)S
1366(the)S
1544(process)S
1937(and)S
2141(let)S
2293(the)S
2471(user)S
2703(attempt)S
3097(repair)S
3411(and)S
3615(continuation.)S
6400 V
12 I
708(Type)S
6576 V
12 R
708(The)S
926(type)S
6776 V
11 C
(signum)402 1068 A
6976 V
12 R
708(is)S
829(used)S
1090(to)S
1224(specify)S
1614(signal)S
1943(numbers.)S
2459(This)S
2714(is)S
2835(an)S
2989(integral)S
3400(type;)S
3682(it)S
3790(is)S
3911(defined)S
4314(in)S
12 I
(exception.h)554 4448 A
12 R
5053(\(see)S
7116 V
12 I
(exception)464 708 A
12 R
1182(\(H\)\).)S
1496(Ordinary)S
1977(signals)S
2356(are)S
2548(identified)S
3056(by)S
3219(numbers)S
3677(larger)S
4003(than)S
4253(one.)S
4529(Signal)S
4880(number)S
7256 V
708(one)S
971(\()S
12 C
(SIG)219 1012 A
12 Y1
1231(3)S
12 C
(TRANS)365 1291 A
12 R
1656(\))S
1786(identifies)S
2328(the)S
2566(client-to-server)S
3399(signal.)S
3838(Negative)S
4366(numbers)S
4872(identify)S
7700 V
2683(Amoeba)S
3123(5.3)S
(359)180 5069 A
7920 V
EP
%%Page: 360 366
BP
/slant 0 def
/height 0 def
500 V
12 R
708(signals)S
1064(\(L\))S
2567(Library)S
2961(Routines)S
4737(signals)S
5093(\(L\))S
860 V
708(exceptions;)S
1303(the)S
1495(names)S
1848(of)S
1993(the)S
2185(exceptions)S
2746(are)S
2939(defined)S
3346(in)S
12 I
(exception.h)554 3484 A
12 R
4048(.)S
4152(Signal)S
4504(number)S
4916(zero)S
5168(is)S
1000 V
(unused)341 708 A
1091(\(it)S
1242(means)S
1593(``no)S
1837(signal'')S
2250(internally\).)S
2858(Small)S
3183(signal)S
3515(numbers)S
3974(are)S
4166(reserved)S
4620(by)S
4783(the)S
11 R
4972(UNIX)S
1140 V
12 R
708(signal)S
1027(emulation;)S
1575(applications)S
(should)321 2190 A
2541(use)S
2732(larger)S
3046(numbers.)S
1456 V
12 I
(High-level)513 708 A
1251(Functions)S
1772 V
708(sig)S
12 Y1
849(3)S
12 I
909(uniq)S
2008 V
11 C
(signum)402 1068 A
2148 V
(sig)201 1068 A
11 Y1
1269(3)S
11 C
(uniq\(\))402 1324 A
2348 V
12 R
708(Each)S
989(call)S
1204(returns)S
1580(a)S
1673(unique)S
2040(signal)S
2368(number)S
2776(in)S
2909(the)S
3096(range)S
3405([2\30316)S
3707(..)S
3807(2\30331\).)S
4169(It)S
(should)321 4284 A
4645(be)S
4799(called)S
5129(no)S
2488 V
708(more)S
987(than)S
(2147418112)600 1225 A
1855(times)S
2148(in)S
2272(one)S
2476(program.)S
2804 V
12 I
708(sig)S
12 Y1
849(3)S
12 I
909(raise)S
3040 V
11 C
(void)268 1068 A
3180 V
(sig)201 1068 A
11 Y1
1269(3)S
11 C
(raise\(sig\))670 1324 A
3320 V
(signum)402 1068 A
(sig;)268 1537 A
3520 V
12 R
708(This)S
953(broadcasts)S
1494(the)S
1672(signal)S
1991(number)S
12 I
2390(sig)S
12 R
2571(to)S
2695(all)S
2847(threads)S
3228(in)S
3353(the)S
3532(same)S
3812(process)S
4206(that)S
4419(have)S
4678(catchers)S
5107(for)S
3660 V
708(it.)S
866(The)S
1084(signal)S
1403(number)S
(should)321 1802 A
2153(be)S
2297(larger)S
2611(than)S
2849(one.)S
3976 V
12 I
708(sig)S
12 Y1
849(3)S
12 I
909(catch)S
4212 V
11 C
(errstat)469 1068 A
4352 V
(sig)201 1068 A
11 Y1
1269(3)S
11 C
(catch\(sig,)670 1324 A
(catcher,)536 2061 A
(extra\))402 2664 A
4492 V
(signum)402 1068 A
(sig;)268 1537 A
4632 V
(void)268 1068 A
(\(*catcher\)\(\);)871 1403 A
4772 V
(void)268 1068 A
(*extra;)469 1403 A
4972 V
12 R
708(This)S
968(specifies)S
1438(that)S
1665(signal)S
12 I
1999(sig)S
12 R
2195(must)S
2475(be)S
(caught)322 2634 A
3001(in)S
3140(the)S
3333(current)S
3722(thread)S
4070(by)S
4235(the)S
4428(function)S
12 I
4876(catcher)S
5112 V
12 R
708(with)S
984(extra)S
1287(argument)S
12 I
1804(extra)S
12 R
2063(.)S
2183(If)S
2325(a)S
2439(NULL-pointer)S
3207(is)S
3348(passed)S
3730(as)S
3891(catcher,)S
4331(the)S
4538(signal)S
(will)190 4886 A
5135(be)S
5252 V
(ignored.)399 708 A
5428 V
708(The)S
946(catcher)S
(should)321 1347 A
1718(be)S
1882(declared)S
2343(by)S
2513(the)S
2711(user)S
2964(as)S
3116(follows)S
3531(\(the)S
3771(function)S
4225(name)S
4538(and)S
4763(parameter)S
5568 V
708(names)S
1047(may)S
1285(be)S
1429(freely)S
1743(chosen\):)S
5768 V
11 C
(void)268 1068 A
5908 V
1068(my)S
11 Y1
1202(3)S
11 C
(catcher\(sig,)804 1257 A
(us,)201 2128 A
(extra\))402 2396 A
6048 V
(signum)402 1068 A
(sig;)268 1537 A
6188 V
(thread)402 1068 A
11 Y1
1470(3)S
11 C
(ustate)402 1525 A
(*us;)268 1994 A
6328 V
(void)268 1068 A
(*extra;)469 1403 A
6528 V
12 R
708(where)S
12 I
1040(sig)S
12 R
1226(is)S
1343(the)S
1527(signal)S
1852(number,)S
12 I
2287(us)S
12 R
2440(is)S
2557(the)S
2741(pointer)S
3120(to)S
3250(machine)S
3696(dependent)S
4228(user)S
4466(state)S
4725(at)S
4849(the)S
5033(time)S
6668 V
708(of)S
847(the)S
1033(call)S
1246(\(only)S
1538(useful)S
1871(for)S
2050(code)S
2315(that)S
2534(attempts)S
2982(to)S
3113(repair)S
3434(exceptions,)S
4018(and)S
4229(not)S
4420(available)S
4895(to)S
5026(calls)S
6808 V
(postponed)495 708 A
1263(by)S
1444(the)S
1653(blocking)S
2136(mechanism\),)S
2819(and)S
12 I
3054(extra)S
12 R
3374(is)S
3516(the)S
12 I
3725(extra)S
12 R
4045(argument)S
4563(passed)S
4946(to)S
5101(the)S
6948 V
(corresponding)691 708 A
12 I
1444(sig)S
12 Y1
1585(3)S
12 I
1645(catch)S
12 R
1962(call.)S
2243(The)S
2476(catcher)S
2872(is)S
2998(called)S
3333(in)S
3472(the)S
3665(catching)S
4120(thread.)S
4528(If)S
4655(and)S
4874(when)S
5181(it)S
7088 V
708(returns,)S
1127(the)S
1327(thread)S
1682(continues)S
2197(at)S
2337(the)S
2537(point)S
2837(where)S
3186(it)S
3306(was)S
3547(interrupted.)S
4191(System)S
4599(calls)S
4874(may)S
5135(be)S
7228 V
708(aborted)S
1101(as)S
1232(described)S
1726(earlier.)S
7700 V
(360)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 361 367
BP
/slant 0 def
/height 0 def
500 V
12 R
708(signals)S
1064(\(L\))S
2567(Library)S
2961(Routines)S
4737(signals)S
5093(\(L\))S
860 V
708(Note)S
(well:)244 979 A
1258(handlers)S
1703(are)S
1887(not)S
2076(cleared)S
2462(when)S
2759(an)S
2909(exception)S
3415(occurs.)S
3827(If)S
3945(exceptions)S
4498(are)S
(caught)322 4683 A
5041(then)S
1000 V
708(the)S
889(exception)S
1392(handler)S
(should)321 1788 A
2142(not)S
2329(return)S
(without)370 2652 A
3055(taking)S
3390(corrective)S
3908(action)S
4236(since)S
4517(an)S
4663(attempt)S
(will)190 5059 A
1140 V
708(be)S
855(made)S
1151(to)S
1279(restart)S
1618(the)S
1800(offending)S
2304(instruction.)S
2916(This)S
(will)190 3165 A
3389(result)S
3693(in)S
3821(an)S
3969(infinite)S
(loop)214 4354 A
4602(of)S
(calling)330 4737 A
5101(the)S
1280 V
708(exception)S
1210(handler.)S
1665(One)S
(should)321 1899 A
2252(certainly)S
2709(not)S
(ignore)309 2895 A
3236(exceptions)S
3785(since)S
4066(the)S
4246(program)S
(will)190 4688 A
4910(go)S
5061(into)S
1420 V
708(an)S
852(infinite)S
(loop)214 1233 A
1477(attempting)S
2025(to)S
2149(restart)S
2484(the)S
2662(offending)S
3162(instruction.)S
1736 V
12 I
708(sig)S
12 Y1
849(3)S
12 I
909(block)S
1972 V
11 C
(void)268 1068 A
2112 V
(sig)201 1068 A
11 Y1
1269(3)S
11 C
(block\(\))469 1324 A
2312 V
12 R
708(This)S
958(blocks)S
1308(calls)S
1566(to)S
1695(signal)S
2019(catchers)S
2452(in)S
2581(the)S
2764(current)S
3143(thread)S
(until)222 3481 A
3738(a)S
3828(matching)S
4314(call)S
4526(to)S
12 I
4656(sig)S
12 Y1
4797(3)S
12 I
(unblock)382 4857 A
2452 V
12 R
708(is)S
833(made.)S
1199(Pairs)S
1486(of)S
1631(calls)S
1898(to)S
12 I
2036(sig)S
12 Y1
2177(3)S
12 I
2237(block)S
12 R
2553(and)S
12 I
2771(sig)S
12 Y1
2912(3)S
12 I
(unblock)382 2972 A
12 R
3408(may)S
3660(be)S
3818(nested.)S
4231(They)S
4522(can)S
4733(be)S
4890(seen)S
5148(as)S
2592 V
708(brackets)S
(around)335 1153 A
(critical)339 1529 A
1909(sections;)S
2375(only)S
2631(the)S
2821(last)S
3032(\(outermost\))S
3640(call)S
3858(to)S
12 I
3994(sig)S
12 Y1
4135(3)S
12 I
(unblock)382 4195 A
12 R
(will)190 4629 A
(unblock)388 4861 A
2732 V
708(signals.)S
1145(Blocking)S
1628(signals)S
2005(only)S
2260(delays)S
2610(the)S
2799(call)S
3015(to)S
3149(the)S
3337(catcher;)S
3762(the)S
3950(other)S
4239(effects)S
4604(of)S
4745(catching)S
5195(a)S
2872 V
708(signal)S
1029(\(aborting)S
1505(system)S
1873(calls,)S
2158(sending)S
2565(client-to-server)S
3341(signals\))S
(still)183 3751 A
3967(happen)S
4348(immediately)S
4987(when)S
3012 V
708(the)S
886(signal)S
1205(is)S
1316(generated.)S
1877(Exception)S
2397(catchers)S
2825(are)S
3004(unaffected)S
3546(by)S
3696(the)S
3874(blocking)S
4326(mechanism.)S
3328 V
12 I
708(sig)S
12 Y1
849(3)S
12 I
(unblock)382 909 A
3564 V
11 C
(void)268 1068 A
3704 V
(sig)201 1068 A
11 Y1
1269(3)S
11 C
(unblock\(\))603 1324 A
3904 V
12 R
708(This)S
(unblocks)435 957 A
1426(calls)S
1683(to)S
1811(signal)S
2134(catchers)S
2566(in)S
2694(the)S
2876(current)S
3254(thread,)S
3621(when)S
3917(not)S
4105(nested)S
4448(between)S
4886(another)S
4044 V
708(pair)S
935(of)S
1074(calls)S
1335(to)S
12 I
1467(sig)S
12 Y1
1608(3)S
12 I
1668(block)S
12 R
1978(and)S
12 I
2190(sig)S
12 Y1
2331(3)S
12 I
(unblock)382 2391 A
12 R
2783(.)S
2881(Any)S
3127(catcher)S
3516(calls)S
3776(pending)S
4201(for)S
4380(the)S
4565(current)S
4946(thread)S
4184 V
708(are)S
890(performed)S
1428(at)S
1549(this)S
1757(point.)S
2098(Catchers)S
2555(called)S
(through)375 2879 A
12 I
3288(sig)S
12 Y1
3429(3)S
12 I
(unblock)382 3489 A
12 R
3915(get)S
4097(a)S
4185(NULL-pointer)S
4927(passed)S
4324 V
708(for)S
882(their)S
1137(frame)S
1453(pointer)S
1828(argument,)S
2347(since)S
2628(the)S
2808(frame)S
(will)190 3124 A
3345(probably)S
3805(be)S
3950(invalid)S
4317(by)S
4468(the)S
4647(time)S
4894(the)S
5073(call)S
4464 V
708(is)S
819(made.)S
4780 V
12 I
(Low-level)478 708 A
1216(Functions)S
4956 V
12 R
708(The)S
926(following)S
1427(structure)S
1882(type)S
2120(is)S
2231(defined)S
2624(in)S
12 I
(exception.h)554 2748 A
12 R
3312(:)S
5156 V
11 C
(typedef)469 1068 A
(struct)402 1604 A
2073({)S
5296 V
(signum)402 1336 A
1872(sv)S
11 Y1
2006(3)S
11 C
(type;)335 2061 A
5436 V
(long)268 1336 A
1872(sv)S
11 Y1
2006(3)S
11 C
(pc;)201 2061 A
5576 V
(long)268 1336 A
1872(sv)S
11 Y1
2006(3)S
11 C
(arg3;)335 2061 A
5716 V
(long)268 1336 A
1872(sv)S
11 Y1
2006(3)S
11 C
(arg4;)335 2061 A
5856 V
1068(})S
(sig)201 1202 A
11 Y1
1403(3)S
11 C
(vector;)469 1458 A
6056 V
12 R
708(It)S
813(is)S
924(used)S
1175(for)S
1347(the)S
1525(vector)S
1858(argument)S
2345(to)S
12 I
2469(sys)S
12 Y1
2617(3)S
12 I
(setvec)297 2677 A
12 R
2984(.)S
6372 V
12 I
708(sys)S
12 Y1
856(3)S
12 I
(setvec)297 916 A
6608 V
11 C
(sys)201 1068 A
11 Y1
1269(3)S
11 C
(setvec\(v,)603 1324 A
1994(n\))S
6748 V
(sig)201 1068 A
11 Y1
1269(3)S
11 C
(vector)402 1324 A
(*v;)201 1793 A
6888 V
(int)201 1068 A
1336(n;)S
7088 V
12 R
708(This)S
960(is)S
1078(the)S
1263(kernel)S
(interface)426 1603 A
2066(used)S
2324(by)S
12 I
2481(sig)S
12 Y1
2622(3)S
12 I
2682(catch)S
12 R
2954(.)S
3051(The)S
3276(argument)S
12 I
3770(v)S
12 R
3872(is)S
3991(a)S
4083(vector)S
4424(with)S
12 I
4678(n)S
12 R
4786(entries)S
5148(of)S
7228 V
708(type)S
12 I
963(sig)S
12 Y1
1104(3)S
12 I
(vector)303 1164 A
12 R
1477(.)S
1584(When)S
1919(a)S
2020(signal)S
2356(is)S
2484(generated,)S
3032(the)S
3227(kernel)S
3577(searches)S
4035(the)S
4230(vector)S
4580(for)S
4768(a)S
4868(catcher,)S
7700 V
2683(Amoeba)S
3123(5.3)S
(361)180 5069 A
7920 V
EP
%%Page: 362 368
BP
/slant 0 def
/height 0 def
500 V
12 R
708(signals)S
1064(\(L\))S
2567(Library)S
2961(Routines)S
4737(signals)S
5093(\(L\))S
860 V
708(from)S
1000(beginning)S
1538(to)S
1688(end,)S
(until)222 1948 A
2226(either)S
2559(an)S
2729(entry)S
3034(is)S
(found)281 3171 A
3508(whose)S
12 I
3873(sv)S
12 Y1
3974(3)S
12 I
4034(type)S
12 R
4302(matches)S
4755(the)S
4960(signal)S
1000 V
708(number,)S
1144(an)S
1295(entry)S
1581(is)S
(found)281 1699 A
2017(whose)S
12 I
2363(sv)S
12 Y1
2464(3)S
12 I
2524(type)S
12 R
2773(is)S
2891(zero)S
3137(is)S
(found)281 3255 A
3573(\(an)S
3765(optional)S
4198(sentinel\),)S
4682(or)S
12 I
4819(n)S
12 R
4925(entries)S
1140 V
708(have)S
966(been)S
1224(inspected.)S
1772(If)S
1885(no)S
2036(matching)S
2517(entry)S
2797(is)S
(found)281 2909 A
3221(or)S
3353(its)S
12 I
3499(sv)S
12 Y1
3600(3)S
12 I
3660(pc)S
12 R
3815(is)S
3927(a)S
4012(NULL-pointer,)S
4781(the)S
4960(signal)S
1280 V
708(is)S
(ignored;)403 832 A
1278(otherwise,)S
1823(the)S
2014(signal)S
2346(is)S
(caught)322 2470 A
2835(and)S
12 I
3052(sv)S
12 Y1
3153(3)S
12 I
3213(pc)S
12 R
3380(points)S
3718(to)S
3855(the)S
4045(system)S
4423(catcher)S
4816(function.)S
1420 V
708(The)S
936(system)S
1313(catcher)S
(should)321 1705 A
2067(be)S
2222(declared)S
2674(as)S
2816(follows)S
3221(\(the)S
3451(function)S
3895(name)S
4198(and)S
4413(parameter)S
4940(names)S
1560 V
708(may)S
946(be)S
1090(freely)S
1404(chosen\):)S
1760 V
11 C
1068(my)S
11 Y1
1202(3)S
11 C
(sys)201 1257 A
11 Y1
1458(3)S
11 C
(catcher\(sig,)804 1513 A
(us,)201 2384 A
(arg3,)335 2652 A
(arg4\))335 3054 A
1900 V
(signum)402 1068 A
(sig;)268 1537 A
2040 V
(thread)402 1068 A
11 Y1
1470(3)S
11 C
(ustate)402 1525 A
(*us;)268 1994 A
2180 V
(long)268 1068 A
(arg3,)335 1403 A
(arg4;)335 1805 A
2380 V
12 R
708(where)S
1048(arguments)S
12 I
1595(sig)S
12 R
1789(and)S
12 I
2006(us)S
12 R
2167(are)S
2360(as)S
2505(for)S
2691(the)S
2883(user)S
3129(catcher,)S
3554(and)S
3772(arguments)S
12 I
4320(arg3)S
12 R
4601(and)S
12 I
4819(arg4)S
12 R
5100(are)S
2520 V
708(copied)S
1072(from)S
12 I
1350(sv)S
12 Y1
1451(3)S
12 I
1511(arg3)S
12 R
1790(and)S
12 I
2005(sv)S
12 Y1
2106(3)S
12 I
2166(arg4)S
12 R
2444(from)S
2721(the)S
2910(vector)S
3254(entry.)S
3604(The)S
3833(implementation)S
4634(of)S
12 I
4776(sig)S
12 Y1
4917(3)S
12 I
4977(catch)S
2660 V
12 R
708(uses)S
12 I
946(arg3)S
12 R
1213(to)S
1337(hold)S
1581(the)S
1759(user)S
1991(catcher)S
2372(and)S
12 I
2576(arg4)S
12 R
2843(to)S
2967(store)S
3233(the)S
3411(extra)S
3684(argument.)S
2836 V
708(The)S
957(program)S
1428(may)S
1697(modify)S
2107(the)S
2316(vector)S
2680(entries)S
3065(while)S
3396(it)S
3525(is)S
(running;)409 3667 A
4137(this)S
4374(makes)S
4745(specifying)S
2976 V
708(different)S
1161(catchers)S
1593(fast.)S
1863(Changing)S
2364(the)S
2545(size)S
2767(or)S
2901(location)S
3324(of)S
3458(the)S
3639(vector)S
3975(on)S
4128(the)S
4309(other)S
4591(hand)S
4858(requires)S
3116 V
708(a)S
792(call)S
998(to)S
12 I
1122(sys)S
12 Y1
1270(3)S
12 I
(setvec)297 1330 A
12 R
1667(to)S
1791(tell)S
1977(the)S
2155(kernel)S
(about)268 2488 A
2786(the)S
2964(new)S
3196(values.)S
3292 V
708(The)S
930(system)S
1300(catcher)S
1685(must)S
1954(not)S
2142(return)S
2467(directly;)S
2907(instead,)S
3315(it)S
(should)321 3418 A
3774(call)S
12 I
3985(sys)S
12 Y1
4133(3)S
12 I
4193(sigret\(us\))S
12 R
4668(,)S
4733(see)S
4923(below.)S
3432 V
708(It)S
814(may)S
1053(also)S
(``return'')454 1279 A
1764(via)S
1943(a)S
2027(call)S
2233(to)S
12 I
(longjmp)396 2357 A
12 R
2793(\(see)S
12 I
3019(ansi)S
12 Y1
3220(3)S
12 I
3280(C)S
12 R
3370(\(L\)\).)S
3657(Calls)S
3936(that)S
4148(terminate)S
4637(the)S
4815(thread)S
5148(or)S
3572 V
708(process)S
1108(are)S
1294(also)S
1526(allowed.)S
2007(System)S
2400(catchers)S
2835(are)S
3021(unaffected)S
3570(by)S
12 I
3728(sig)S
12 Y1
3869(3)S
12 I
3929(block)S
12 R
4239(described)S
(above;)322 4741 A
5101(the)S
3712 V
708(system)S
1081(catcher)S
1469(used)S
1727(by)S
12 I
1884(sig)S
12 Y1
2025(3)S
12 I
2085(catch)S
12 R
2394(implements)S
2996(signal)S
3322(blocking)S
3781(by)S
3938(saving)S
4290(the)S
4474(pending)S
4898(catcher)S
3852 V
708(call)S
914(when)S
(necessary.)501 1206 A
4168 V
12 I
708(sys)S
12 Y1
856(3)S
12 I
916(sigret)S
4404 V
11 C
(sys)201 1068 A
11 Y1
1269(3)S
11 C
(sigret\(us\))670 1324 A
4544 V
(thread)402 1068 A
11 Y1
1470(3)S
11 C
(ustate)402 1525 A
(*us;)268 1994 A
4744 V
12 R
708(This)S
967(function)S
1414(must)S
1693(be)S
1852(called)S
2187(to)S
2326(return)S
2661(from)S
2942(a)S
3041(system)S
3422(catcher;)S
3852(the)S
4045(stack)S
4339(frame)S
4668(of)S
4814(a)S
4913(system)S
4884 V
708(signal)S
1036(catcher)S
(looks)261 1426 A
1726(peculiar)S
2156(so)S
2302(an)S
2454(ordinary)S
2902(return)S
3230(statement)S
3733(would)S
4073(crash)S
4367(the)S
4553(program.)S
5061(The)S
5024 V
708(argument)S
1195(must)S
1460(be)S
1604(the)S
12 I
1782(us)S
12 R
1929(argument)S
2416(passed)S
2768(to)S
2892(the)S
3070(system)S
3436(catcher.)S
5340 V
12 I
(Diagnostics)578 708 A
5516 V
12 R
708(Possible)S
1141(return)S
1461(values)S
1800(from)S
12 I
2066(sig)S
12 Y1
2207(3)S
12 I
2267(catch)S
12 R
2569(are:)S
5692 V
12 C
(STD)219 708 A
12 Y1
927(3)S
12 C
987(OK)S
12 R
1629(all)S
1781(went)S
2047(well.)S
5868 V
12 C
(STD)219 708 A
12 Y1
927(3)S
12 C
(NOMEM)365 987 A
12 R
1629(no)S
1779(memory)S
2212(was)S
2431(available)S
2899(to)S
(update)322 3023 A
3375(the)S
3553(signal)S
3872(administration.)S
6044 V
12 C
(STD)219 708 A
12 Y1
927(3)S
12 C
(ARGBAD)438 987 A
12 R
1629(an)S
1773(invalid)S
2139(signal)S
2458(number)S
2857(was)S
3076(given)S
3374(\(e.g.,)S
3649(zero\).)S
6360 V
12 I
708(Warnings)S
6536 V
12 R
708(Resist)S
1049(the)S
1243(temptation)S
1807(to)S
1947(put)S
2147(calls)S
2416(to)S
12 I
2556(printf)S
12 R
2881(\(see)S
12 I
3123(ansi)S
12 Y1
3324(3)S
12 I
3384(C)S
12 R
3474(\(L\)\))S
3717(in)S
3857(a)S
3957(catcher)S
4354(function,)S
4833(even)S
5107(for)S
6676 V
(debugging.)538 708 A
1310(When)S
1632(such)S
1887(a)S
1975(catcher)S
2360(is)S
2475(called)S
2799(during)S
3148(another)S
12 I
3545(printf)S
12 R
3858(call)S
4068(\(or)S
4244(any)S
4452(other)S
4734(stdio)S
5002(call\),)S
6816 V
708(the)S
920(stdio)S
1219(administration)S
1984(may)S
2257(be)S
2436(damaged)S
2937(and)S
3176(output)S
3549(garbled)S
3977(or)S
4143(further)S
4539(printing)S
4987(made)S
6956 V
708(impossible.)S
1322(It)S
1427(is)S
1538(safe)S
1764(to)S
1888(call)S
12 I
2094(write)S
12 R
2383(however)S
2830(\(see)S
12 I
3056(posix)S
12 R
3321(\(L\)\).)S
7132 V
708(A)S
835(thread)S
1177(which)S
1512(never)S
1820(makes)S
2168(a)S
2262(blocking)S
2724(system)S
3100(call)S
(cannot)322 3316 A
3678(be)S
3832(interrupted)S
4404(by)S
4564(a)S
4658(signal)S
4987(when)S
7272 V
(non-preemptive)766 708 A
1525(scheduling)S
2099(is)S
2231(used)S
2503(by)S
2674(the)S
2873(process.)S
3347(This)S
3613(happens)S
(because)383 4059 A
4493(in)S
4638(that)S
4870(case)S
5129(no)S
7700 V
(362)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 363 369
BP
/slant 0 def
/height 0 def
500 V
12 R
708(signals)S
1064(\(L\))S
2567(Library)S
2961(Routines)S
4737(signals)S
5093(\(L\))S
860 V
708(other)S
987(thread)S
1320(is)S
1431(scheduled)S
1944(to)S
2068(generate)S
2509(a)S
2593(signal.)S
1036 V
708(When)S
1027(more)S
1307(than)S
1546(one)S
1751(signal)S
2071(arrives)S
2433(for)S
2606(a)S
2691(thread)S
3025(while)S
3326(signals)S
3694(are)S
3875(blocked,)S
4319(it)S
4419(is)S
4532(not)S
4718(guaranteed)S
1176 V
708(that)S
942(all)S
1116(catcher)S
1519(calls)S
(will)190 1794 A
2036(be)S
2201(made;)S
2548(only)S
2813(the)S
3012(catcher)S
3414(call)S
(corresponding)691 3641 A
4383(to)S
4528(the)S
4727(signal)S
5067(that)S
1316 V
708(arrived)S
1082(last)S
1281(is)S
1392(guaranteed.)S
1492 V
708(Returning)S
1224(from)S
1493(an)S
1640(exception)S
2143(catcher)S
2527(is)S
2641(usually)S
3023(not)S
3210(a)S
(good)240 3297 A
3570(idea.)S
3865(Unless)S
(you)180 4228 A
4441(have)S
4702(repaired)S
5134(its)S
1632 V
708(cause,)S
1059(the)S
1259(same)S
1560(exception)S
(will)190 2081 A
2322(be)S
2487(triggered)S
2976(again)S
3289(immediately.)S
4006(It)S
4132(usually)S
4532(requires)S
4974(a)S
5079(fair)S
1772 V
(amount)362 708 A
1117(of)S
1265(machine-dependent)S
2259(hacking)S
2688(to)S
2829(find)S
3071(out)S
3272(what)S
3555(caused)S
3931(the)S
4127(exception,)S
4675(let)S
4845(alone)S
5155(to)S
1912 V
708(repair)S
1032(it.)S
(Breakpoint)537 1200 A
1777(exceptions)S
2334(are)S
2523(not)S
2717(regenerated,)S
3353(but)S
3546(they)S
3793(are)S
3981(used)S
4241(by)S
4400(the)S
(debugger)449 4587 A
5075(and)S
2052 V
(should)321 708 A
1059(not)S
1243(be)S
(caught)322 1387 A
1739(at)S
1857(all.)S
2228 V
708(Do)S
890(not)S
1078(use)S
1273(the)S
12 I
1455(sys)S
12 Y1
1603(3)S
12 I
(setvec)297 1663 A
12 R
2004(or)S
12 I
2139(sys)S
12 Y1
2287(3)S
12 I
2347(sigret)S
12 R
2668(calls;)S
2960(they)S
3203(are)S
3387(considered)S
3946(part)S
4170(of)S
4306(the)S
4489(implementation)S
2368 V
708(and)S
912(are)S
1091(documented)S
1711(here)S
1950(only)S
2194(for)S
2366(completeness')S
3089(sake.)S
2544 V
708(Code)S
993(which)S
1320(does)S
1572(a)S
1657(lot)S
1816(of)S
1948(processing)S
2496(in)S
2621(a)S
2706(signal)S
3027(catcher)S
3410(is)S
3523(frowned)S
(upon.)270 3959 A
4291(The)S
4511(most)S
4778(important)S
2684 V
708(reason)S
1060(for)S
1238(catching)S
1684(signals)S
2056(is)S
2173(to)S
2303(break)S
2608(out)S
2797(of)S
(unbounded)534 2933 A
3502(waits;)S
3828(the)S
4011(catchers)S
4444(are)S
4628(only)S
4877(there)S
5155(to)S
2824 V
708(make)S
1000(emulation)S
1514(of)S
11 R
1643(UNIX)S
12 R
1950(signals)S
2316(possible.)S
3000 V
708(The)S
12 I
962(read)S
12 R
1259(function)S
1728(\(see)S
12 I
1990(posix\(L\)\))S
12 R
2511(interacts)S
2989(somewhat)S
3546(with)S
3829(signals;)S
4266(when)S
4595(it)S
(receives)398 4730 A
5195(a)S
3140 V
12 C
(STD)219 708 A
12 Y1
927(3)S
12 C
(INTR)292 987 A
12 R
1316(error)S
1590(from)S
1863(the)S
2048(server,)S
2412(it)S
2517(assumes)S
2957(the)S
3142(request)S
3529(was)S
3755(interrupted)S
4324(by)S
4481(a)S
4572(signal)S
4898(catcher)S
3280 V
708(and)S
912(sets)S
12 I
1124(errno)S
12 R
1432(to)S
12 C
(EIO)219 1556 A
12 R
1775(.)S
3560 V
12 B
708(Example)S
3736 V
12 R
708(The)S
926(following)S
1427(program)S
1867(sleeps)S
2193(two)S
(seconds)382 2405 A
2817(and)S
3021(then)S
3259(prints)S
3565(the)S
3743(string)S
12 I
4049(catcher)S
4442(called)S
12 R
4748(:)S
7700 V
2683(Amoeba)S
3123(5.3)S
(363)180 5069 A
7920 V
EP
%%Page: 364 370
BP
/slant 0 def
/height 0 def
500 V
12 R
708(signals)S
1064(\(L\))S
2567(Library)S
2961(Routines)S
4737(signals)S
5093(\(L\))S
920 V
11 C
(#include)536 1068 A
("amoeba.h")670 1671 A
1060 V
(#include)536 1068 A
("exception.h")871 1671 A
1200 V
(#include)536 1068 A
("fault.h")603 1671 A
1340 V
(#include)536 1068 A
("module/signals.h")1206 1671 A
1620 V
(int)201 1068 A
(flag)268 1336 A
1671(=)S
1805(0;)S
1900 V
(/*ARGSUSED*/)804 1068 A
2040 V
(void)268 1068 A
(catcher\(sig,)804 1403 A
(us,)201 2274 A
(extra\))402 2542 A
2180 V
(signum)402 1068 A
(sig;)268 1537 A
2320 V
(thread)402 1068 A
11 Y1
1470(3)S
11 C
(ustate)402 1525 A
(*us;)268 1994 A
2460 V
(void)268 1068 A
(*extra;)469 1403 A
2600 V
1068({)S
2740 V
(flag)268 1336 A
1671(=)S
1805(1;)S
2880 V
1068(})S
3160 V
(void)268 1068 A
(async\(\))469 1403 A
3300 V
1068({)S
3440 V
(sleep\(2\);)603 1336 A
3580 V
(sig)201 1336 A
11 Y1
1537(3)S
11 C
(raise\(1234\);)804 1592 A
3720 V
1068(})S
4000 V
(main\(\))402 1068 A
4140 V
1068({)S
4280 V
(sig)201 1336 A
11 Y1
1537(3)S
11 C
(catch\(1234,)737 1592 A
(catcher,)536 2396 A
(\(void)335 2999 A
3401(*\))S
(0\);)201 3602 A
4420 V
(thread)402 1336 A
11 Y1
1738(3)S
11 C
(newthread\(async,)1072 1793 A
(8000,)335 2932 A
(\(char)335 3334 A
3736(*\))S
3937(0,)S
(0\);)201 4138 A
4560 V
(sleep\(5\);)603 1336 A
4700 V
1336(if)S
(\(flag\))402 1537 A
(printf\("catcher)1005 2006 A
(called\\n"\);)737 3078 A
4840 V
(exit\(0\);)536 1336 A
4980 V
1068(})S
5320 V
12 B
708(See)S
913(Also)S
5496 V
12 R
708(ax\(U\),)S
1116(exception\(H\),)S
1880(mutex\(L\),)S
2462(posix\(L\),)S
3004(process\(L\),)S
3648(rpc\(L\),)S
4084(session\(U\),)S
4728(ansi)S
12 Y1
4923(3)S
12 R
4983(C\(L\),)S
5636 V
708(thread\(L\).)S
7700 V
(364)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 365 371
BP
/slant 0 def
/height 0 def
500 V
12 R
708(soap)S
949(\(L\))S
2567(Library)S
2961(Routines)S
4852(soap)S
5093(\(L\))S
860 V
1745(\(in)S
1910(libraries:)S
2373(libamoeba.a,)S
3021(libkernel.a,)S
3596(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(soap)S
12 R-1
959(-)S
12 R
1087(the)S
1265(Soap)S
1536(Server)S
1883(client)S
(interface)426 2183 A
2639(stubs)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("capset.h")670 1311 A
2042 V
(#include)536 708 A
("server/soap/soap.h")1340 1311 A
2322 V
(errstat)469 708 A
1244(sp)S
11 Y1
1378(3)S
11 C
(append\(dir,)737 1433 A
(name,)335 2237 A
(cs,)201 2639 A
(ncols,)402 2907 A
(cols\))335 3376 A
2462 V
(errstat)469 708 A
1244(sp)S
11 Y1
1378(3)S
11 C
(chmod\(dir,)670 1433 A
(name,)335 2170 A
(ncols,)402 2572 A
(cols\))335 3041 A
2602 V
(errstat)469 708 A
1244(sp)S
11 Y1
1378(3)S
11 C
(create\(server,)938 1433 A
(columns,)536 2438 A
(dir\))268 3041 A
2742 V
(errstat)469 708 A
1244(sp)S
11 Y1
1378(3)S
11 C
(delete\(dir,)737 1433 A
(name\))335 2237 A
2882 V
(errstat)469 708 A
1244(sp)S
11 Y1
1378(3)S
11 C
(discard\(dir\))804 1433 A
3022 V
(errstat)469 708 A
1244(sp)S
11 Y1
1378(3)S
11 C
(getmasks\(dir,)871 1433 A
(name,)335 2371 A
(ncols,)402 2773 A
(cols\))335 3242 A
3162 V
(errstat)469 708 A
1244(sp)S
11 Y1
1378(3)S
11 C
(getseqno\(dir,)871 1433 A
(seqno\))402 2371 A
3302 V
(errstat)469 708 A
1244(sp)S
11 Y1
1378(3)S
11 C
(install\(n,)670 1433 A
(entries,)536 2170 A
(capsets,)536 2773 A
(oldcaps\))536 3376 A
3442 V
(errstat)469 708 A
1244(sp)S
11 Y1
1378(3)S
11 C
(lookup\(dir,)737 1433 A
(path,)335 2237 A
(cs\))201 2639 A
3582 V
(errstat)469 708 A
1244(sp)S
11 Y1
1378(3)S
11 C
(replace\(dir,)804 1433 A
(name,)335 2304 A
(cs\))201 2706 A
3722 V
(errstat)469 708 A
1244(sp)S
11 Y1
1378(3)S
11 C
(setlookup\(n,)804 1433 A
(in,)201 2304 A
(out\))268 2572 A
3862 V
(errstat)469 708 A
1244(sp)S
11 Y1
1378(3)S
11 C
(traverse\(dir,)871 1433 A
(path,)335 2371 A
(last\))335 2773 A
4142 V
(#include)536 708 A
("sp)201 1311 A
11 Y1
1512(3)S
11 C
(dir.h")402 1567 A
4282 V
(errstat)469 708 A
1244(sp)S
11 Y1
1378(3)S
11 C
(list\(dir,)603 1433 A
(dd\))201 2103 A
4622 V
12 B
708(Description)S
4798 V
12 R
708(This)S
966(manual)S
1365(page)S
1636(describes)S
2130(the)S
2321(Soap)S
2605(Server)S
2965(stub)S
3209(routines.)S
(Along)302 3702 A
4047(with)S
4306(the)S
4498(standard)S
4952(server)S
4938 V
708(stubs)S
989(\(see)S
12 I
1218(std)S
12 R
1369(\(L\)\))S
1599(the)S
1780(Soap)S
2054(Server)S
2404(stubs)S
2685(provide)S
3087(the)S
(interface)426 3268 A
3727(to)S
3854(the)S
4035(Soap)S
4309(Server.)S
4719(In)S
(addition)396 4853 A
5078 V
708(to)S
841(the)S
1028(stubs)S
1315(there)S
1597(are)S
1785(several)S
2168(derived)S
2570(and)S
2783(related)S
3153(functions)S
3642(to)S
3775(provide)S
4184(a)S
4278(simple)S
(interface)426 4641 A
5107(for)S
5218 V
708(common)S
1176(operations.)S
1786(These)S
2121(are)S
2316(described)S
2826(in)S
12 I
2965(sp)S
12 Y1
3072(3)S
12 I
3132(dir)S
12 R
3283(\(L\),)S
12 I
3514(sp)S
12 Y1
3621(3)S
12 I
3681(mkdir)S
12 R
3974(\(L\))S
4175(and)S
12 I
4394(sp)S
12 Y1
4501(3)S
12 I
4561(mask)S
12 R
4820(\(L\).)S
5081(For)S
5358 V
708(details)S
(about)268 1055 A
1353(the)S
1531(server)S
1858(see)S
12 I
(soap)227 2043 A
12 R
2280(\(A\).)S
5674 V
12 I
708(Types)S
5850 V
12 R
708(The)S
926(type)S
12 C
1164(SP)S
12 Y1
1310(3)S
12 C
(DIR)219 1370 A
12 R
1619(is)S
1730(defined)S
2123(in)S
2247(the)S
2425(include)S
2811(file)S
12 I
3004(sp)S
12 Y1
3111(3)S
12 I
3171(dir.h)S
12 R
3412(.)S
3502(It)S
3607(is)S
(analogous)489 3718 A
4237(to)S
4361(the)S
4539(type)S
12 C
(DIR)219 4778 A
12 R
5028(used)S
5990 V
708(for)S
(accessing)464 880 A
1374(directories.)S
6166 V
708(Another)S
1150(important)S
1666(type)S
1919(is)S
12 I
2045(capset)S
12 R
2364(,)S
2439(which)S
2780(is)S
2907(used)S
3174(to)S
3314(store)S
3596(a)S
3696(set)S
3877(of)S
(capabilities,)583 4024 A
4653(possibly)S
5101(the)S
6306 V
708(empty)S
1040(set.)S
1265(The)S
1483(type)S
12 I
1721(capset)S
12 R
2070(is)S
2181(defined)S
2574(in)S
12 I
2698(capset.h)S
12 R
3107(.)S
6482 V
708(The)S
948(type)S
12 I
1208(sp)S
12 Y1
1315(3)S
12 I
1375(entry)S
12 R
1686(is)S
1819(defined)S
2234(in)S
12 I
(soap.h)317 2380 A
12 R
2707(.)S
2820(It)S
2948(is)S
3082(used)S
3356(for)S
3551(storing)S
3940(or)S
4094(retrieving)S
4619(one)S
4846(or)S
5000(more)S
6622 V
708(\(name,)S
1071(capset\))S
1445(pairs)S
1711(in)S
1835(a)S
1919(single)S
2238(operation.)S
6798 V
708(The)S
937(type)S
12 I
1186(sp)S
12 Y1
1293(3)S
12 I
(seqno)281 1353 A
12 Y1
1634(3)S
12 I
1694(t)S
12 R
1779(is)S
1902(used)S
2165(to)S
2301(represent)S
2788(the)S
2978(64-bit)S
3309(directory)S
3789(sequence)S
4274(numbers,)S
4762(which)S
5100(are)S
6938 V
(supported)476 708 A
1214(by)S
1364(some)S
1649(directory)S
2117(servers.)S
2551(It)S
2656(is)S
2767(defined)S
3160(in)S
12 I
(soap.h)317 3284 A
12 R
3611(.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(365)180 5069 A
7920 V
EP
%%Page: 366 372
BP
/slant 0 def
/height 0 def
500 V
12 R
708(soap)S
949(\(L\))S
2567(Library)S
2961(Routines)S
4852(soap)S
5093(\(L\))S
860 V
12 I
(Access)330 708 A
1036 V
12 R
(Access)344 708 A
1106(to)S
1254(Soap)S
1549(objects)S
1946(is)S
2081(on)S
2255(the)S
(surface)351 2457 A
2862(quite)S
3158(complicated,)S
3834(but)S
4042(extremely)S
4582(powerful)S
5075(and)S
1176 V
708(flexible.)S
1172(Soap)S
1446(directories)S
1992(are)S
2174(objects)S
2550(and)S
(each)222 2757 A
3011(is)S
3124(therefore)S
(accessed)424 3595 A
4051(using)S
4344(its)S
(capability.)508 4491 A
5061(The)S
1316 V
708(following)S
1209(rights)S
1515(bits)S
1720(are)S
1899(defined)S
2292(for)S
2464(a)S
2548(directory)S
3016(entry:)S
1552 V
12 C
1068(SP)S
12 Y1
1214(3)S
12 C
(COLMASK)511 1274 A
12 R
2202(selects)S
2556(which)S
2882(column)S
3274(mask)S
(will)190 3559 A
3779(be)S
3923(applied)S
1692 V
12 C
1068(SP)S
12 Y1
1214(3)S
12 C
(DELRGT)438 1274 A
12 R
2202(permission)S
2763(to)S
2887(delete)S
3207(a)S
3291(directory)S
1832 V
12 C
1068(SP)S
12 Y1
1214(3)S
12 C
(MODRGT)438 1274 A
12 R
2202(permission)S
2763(to)S
2887(modify)S
3266(a)S
3350(directory)S
2068 V
708(When)S
1033(a)S
(capability-set)654 1124 A
1815(is)S
(looked)328 1933 A
2299(up)S
2457(in)S
2589(Soap,)S
2898(the)S
3084(rights)S
3398(bits)S
3611(in)S
3743(the)S
(capability)478 3929 A
4445(for)S
4625(the)S
4811(directory)S
2208 V
708(determine)S
1226(the)S
(access)310 1407 A
1750(permissions)S
2361(for)S
2536(the)S
2717(entries)S
3073(in)S
3199(that)S
3413(directory)S
3883(as)S
4016(follows.)S
4472(With)S
(each)222 4746 A
5000(entry)S
2348 V
708(in)S
842(a)S
936(directory)S
1414(there)S
1697(is)S
1818(a)S
1912(set)S
2087(of)S
2228(masks)S
2570(which)S
(correspond)537 2906 A
3483(to)S
3618(the)S
3807(columns)S
4257(of)S
4399(the)S
4588(directory.)S
5127(At)S
2488 V
708(present)S
1118(there)S
1421(is)S
1562(a)S
1676(maximum)S
2226(of)S
2386(four)S
2647(columns,)S
3145(but)S
3358(typically)S
3841(only)S
4114(three)S
4416(are)S
4624(used:)S
12 I
4938(owner)S
2628 V
12 R
708(\(column)S
1170(0\),)S
12 I
(group)287 1361 A
12 R
1718(\(column)S
2181(1\))S
2342(and)S
12 I
2576(other)S
12 R
2901(\(column)S
3364(2\).)S
3585(The)S
3833(rights)S
4169(bits)S
(corresponding)691 4404 A
5155(to)S
2768 V
708(columns)S
1154(\(i.e.,)S
1410(bits)S
1622(0)S
1719(to)S
1850(3\))S
1987(select)S
2300(which)S
2632(column)S
3030(of)S
3167(the)S
3351(directory)S
3825(may)S
4069(be)S
(accessed.)454 4219 A
4739(For)S
4943(all)S
5101(the)S
2908 V
708(columns)S
1152(to)S
1281(which)S
1612(the)S
1795(rights)S
2106(bits)S
2316(are)S
2500(on)S
2655(in)S
2784(the)S
2967(directory)S
(capability,)508 3440 A
3983(the)S
4166(rights)S
4478(masks)S
4816(for)S
4994(those)S
3048 V
708(columns)S
1183(are)S
1398(bitwise)S
1815(OR-ed)S
2203(together.)S
2725(The)S
(resulting)424 2978 A
3467(rights)S
3808(mask)S
4128(is)S
4274(used)S
4560(to)S
4719(generate)S
5195(a)S
3188 V
708(restricted)S
1208(version)S
1611(of)S
1759(the)S
1954(original)S
(capability-set)654 2378 A
3079(stored)S
3422(for)S
3611(the)S
3806(name)S
4115(being)S
(looked)328 4430 A
4806(up.)S
5034(This)S
3328 V
708(new)S
(capability-set)654 940 A
1624(is)S
1735(returned)S
2169(by)S
2319(Soap)S
2590(to)S
2714(the)S
2892(caller.)S
3504 V
708(The)S
930(generation)S
1475(of)S
1610(a)S
1698(restricted)S
(capability-set)654 2185 A
2873(goes)S
3128(as)S
3263(follows.)S
3721(In)S
3857(case)S
4101(the)S
4284(original)S
(capabilities)553 4696 A
3644 V
708(contain)S
1105(all)S
1268(rights,)S
1615(the)S
1804(Soap)S
2085(Server)S
2442(is)S
2563(able)S
2805(to)S
2939(generate)S
3390(the)S
3578(restricted)S
4071(versions)S
4514(by)S
4674(itself,)S
4988(using)S
3784 V
12 I
708(prv)S
12 Y1
869(3)S
12 I
929(encode)S
12 R
1281(.)S
1422(Otherwise,)S
2033(the)S
(capabilities)553 2262 A
2896(and)S
3151(the)S
3380(restriction)S
3954(mask)S
4290(are)S
4521(passed)S
4925(to)S
5101(the)S
3924 V
(corresponding)691 708 A
1429(servers)S
1803(to)S
1927(perform)S
2348(an)S
12 C
(STD)219 2492 A
12 Y1
2711(3)S
12 C
(RESTRICT)584 2771 A
12 R
3385(operation.)S
4100 V
708(Note)S
980(that)S
1198(to)S
1328(perform)S
1755(any)S
1965(operation)S
2458(on)S
2614(a)S
2704(directory)S
3178(entry)S
3464(one)S
3675(must)S
3947(have)S
(access)310 4212 A
4559(to)S
4690(at)S
4815(least)S
5075(one)S
4240 V
708(column)S
1104(of)S
1239(the)S
1421(directory.)S
1953(Otherwise)S
2487(it)S
2589(is)S
2704(not)S
2892(possible)S
3322(to)S
(proceed)383 3449 A
3865(further)S
4229(down)S
4530(that)S
4745(part)S
4967(of)S
5101(the)S
4380 V
708(directory)S
1176(hierarchy.)S
4696 V
12 I
708(Time)S
4872 V
12 R
708(Soap)S
1004(stores)S
1342(a)S
12 I
1451(last)S
(updated)388 1681 A
12 R
2134(time-stamp)S
2735(with)S
(each)222 3006 A
3284(directory)S
3778(entry.)S
4143(It)S
4274(uses)S
4538(a)S
4648(precision)S
5148(of)S
5012 V
(seconds.)412 708 A
1199(This)S
1462(time-stamp)S
(cannot)322 2056 A
2426(be)S
2588(relied)S
(upon)240 2913 A
3201(to)S
3343(be)S
(accurate)405 3505 A
3958(since)S
4255(it)S
4371(is)S
4500(derived)S
4911(from)S
5195(a)S
5152 V
708(Time)S
998(of)S
1133(Day)S
1369(server)S
1700(\(see)S
12 I
1930(tod)S
12 R
2094(\(A\)\),)S
2369(but)S
2557(not)S
(necessarily)539 2746 A
3320(always)S
3692(the)S
3875(same)S
4159(one.)S
4428(In)S
4564(general)S
4956(it)S
(will)190 5059 A
5292 V
708(be)S
861(moderately)S
(accurate)405 1445 A
1888(but)S
2080(if)S
2193(one)S
2405(TOD)S
2693(server)S
3028(goes)S
3287(down)S
3593(and)S
3805(another)S
4206(is)S
4325(available)S
4801(it)S
(will)190 4907 A
5135(be)S
5432 V
708(used.)S
1035(Therefore)S
1560(time-stamps)S
2200(may)S
2455(not)S
2656(be)S
(monotonically)698 2817 A
3562(increasing.)S
4167(This)S
4429(causes)S
4792(programs)S
5572 V
708(such)S
984(as)S
12 I
1140(make)S
12 R
1406(\(U\))S
1631(to)S
1780(be)S
1949(even)S
2232(more)S
2535(unreliable)S
3074(than)S
(under)275 3336 A
11 R
3663(UNIX)S
12 R
3994(and)S
4222(it)S
4344(is)S
4479(better)S
4810(to)S
4958(create)S
5712 V
708(programs)S
1195(that)S
1407(do)S
1557(not)S
1741(depend)S
2119(on)S
2269(a)S
2353(consistent)S
2867(view)S
3133(of)S
3264(the)S
3442(time)S
3688(of)S
3819(day.)S
6028 V
12 I
708(Errors)S
6204 V
12 R
708(All)S
901(of)S
1040(the)S
1226(stub)S
1465(functions)S
1953(return)S
2281(an)S
2433(error)S
2708(status)S
3022(as)S
3161(the)S
3347(value)S
3647(of)S
3786(the)S
3972(function.)S
4473(Soap)S
4752(returns)S
5127(all)S
6344 V
708(the)S
886(standard)S
1326(error)S
1593(codes)S
1898(\(as)S
2070(defined)S
2463(in)S
12 I
2587(stderr.h)S
12 R
2976(\))S
3047(plus)S
3278(the)S
3456(following:)S
6520 V
12 C
708(SP)S
12 Y1
854(3)S
12 C
(UNAVAIL)511 914 A
12 R
1548(This)S
1797(is)S
1912(returned)S
2350(if)S
2459(the)S
2641(Soap)S
2916(Server)S
3268(is)S
3384(not)S
3573(currently)S
(accessible.)522 4046 A
4633(\(It)S
4784(is)S
4900(usually)S
6660 V
1548(equivalent)S
2082(to)S
12 C
(RPC)219 2206 A
12 Y1
2425(3)S
12 C
(NOTFOUND)584 2485 A
12 R
3069(\).)S
6836 V
12 C
708(SP)S
12 Y1
854(3)S
12 C
(UNREACH)511 914 A
12 R
1548(This)S
1811(is)S
1940(returned)S
2392(if)S
2515(during)S
2879(the)S
(lookup)334 3076 A
3459(of)S
3609(a)S
(capability-set,)684 3712 A
4445(the)S
4642(Soap)S
4932(Server)S
6976 V
(encounters)524 1548 A
2121(a)S
(capability)478 2224 A
2751(for)S
2942(a)S
3045(directory)S
3532(within)S
3890(the)S
4086(same)S
4383(Soap)S
4672(Server,)S
5067(that)S
7116 V
1548(does)S
1817(not)S
2019(exist.)S
2356(This)S
2619(can)S
2835(happen)S
3232(if)S
3356(someone)S
3834(deletes)S
4220(a)S
4323(directory)S
4810(to)S
4953(which)S
7256 V
(multiple)404 1548 A
2019(links)S
2321(exists.)S
2723(Note)S
3025(that)S
3273(when)S
3601(the)S
3815(object)S
4177(number)S
4612(of)S
4779(a)S
4899(deleted)S
7700 V
(366)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 367 373
BP
/slant 0 def
/height 0 def
500 V
12 R
708(soap)S
949(\(L\))S
2567(Library)S
2961(Routines)S
4852(soap)S
5093(\(L\))S
860 V
1548(directory)S
2079(is)S
2253(reused)S
2662(by)S
2875(Soap)S
3209(for)S
3444(a)S
3591(new)S
3886(directory,)S
4448(the)S
4690(error)S
5021(code)S
1000 V
12 C
(STD)219 1548 A
12 Y1
1767(3)S
12 C
(CAPBAD)438 1827 A
12 R
(will)190 2297 A
2519(be)S
2665(returned)S
3101(instead,)S
(because)383 3505 A
3919(the)S
4098(new)S
4331(directory)S
(will)190 4800 A
5021(have)S
1140 V
1548(a)S
1632(new)S
1864(check)S
2176(field.)S
1316 V
12 C
708(SP)S
12 Y1
854(3)S
12 C
(NOTEMPTY)584 914 A
12 R
1548(This)S
1800(is)S
1918(returned)S
2360(if)S
2473(an)S
2625(attempt)S
3027(was)S
3254(made)S
3554(to)S
3686(destroy)S
4080(a)S
4172(directory)S
4648(that)S
4868(was)S
5095(not)S
1456 V
1548(empty.)S
1962(This)S
(should)321 2229 A
2602(not)S
2808(be)S
2974(confused)S
3462(with)S
3730(deleting)S
4172(a)S
4278(directory)S
4767(entry)S
5067(that)S
1596 V
1548(points)S
1873(to)S
1997(a)S
(non-empty)523 2081 A
2634(directory,)S
3132(which)S
3458(is)S
3569(perfectly)S
(legitimate.)516 4031 A
1772 V
12 C
708(SP)S
12 Y1
854(3)S
12 C
(CLASH)365 914 A
12 R
1548(This)S
1811(is)S
1940(returned)S
2392(if)S
2515(an)S
2677(attempt)S
3089(is)S
3218(made)S
3529(to)S
(replace)351 3672 A
4072(a)S
(capability-set)654 4175 A
4878(and)S
5101(the)S
1912 V
(non-zero)430 1548 A
12 I
2033(original)S
12 R
(capability)478 2487 A
3020(provided)S
3504(is)S
3640(not)S
3848(a)S
3956(\(restricted\))S
4545(member)S
4996(of)S
5151(it.)S
2052 V
1548(\(The)S
1807(old)S
(capability-set)654 1992 A
2677(must)S
2943(be)S
3088(deleted)S
3469(before)S
3810(the)S
3989(new)S
4222(set)S
4388(can)S
4587(be)S
4732(installed)S
5174(if)S
2192 V
1548(this)S
1753(is)S
1864(intentional.\))S
2428 V
708(All)S
937(of)S
1111(the)S
1332(stubs)S
1653(may)S
1934(return)S
12 C
2297(SP)S
12 Y1
2443(3)S
12 C
(UNAVAIL)511 2503 A
12 R
3014(,)S
3117(any)S
3364(of)S
3539(the)S
12 C
(RPC)219 3761 A
12 Y1
3980(3)S
12 R
4114(errors,)S
12 C
(STD)219 4502 A
12 Y1
4721(3)S
12 C
(CAPBAD)438 4781 A
12 R
5219(,)S
2568 V
12 C
(STD)219 708 A
12 Y1
927(3)S
12 C
(DENIED)438 987 A
12 R
1425(,)S
12 C
(STD)219 1500 A
12 Y1
1719(3)S
12 C
(ARGBAD)438 1779 A
12 R
2262(and)S
12 C
(STD)219 2481 A
12 Y1
2700(3)S
12 C
(NOSPACE)511 2760 A
12 R
3271(.)S
3376(The)S
3609(latter)S
3905(is)S
4030(inherent)S
4471(in)S
4609(the)S
4801(nature)S
5148(of)S
2708 V
(capability-sets)701 708 A
1439(and)S
1643(even)S
1901(on)S
2051(delete)S
2371(operations)S
2905(it)S
3003(is)S
3114(possible)S
3540(to)S
3664(get)S
3842(this)S
4047(error.)S
3024 V
12 I
708(Path)S
966(names)S
3200 V
12 R
708(Path)S
970(names)S
1326(are)S
1522(always)S
1906(specified)S
2391(as)S
2540(a)S
2642(string)S
2966(relative)S
3379(to)S
3521(a)S
3623(directory)S
4109(whose)S
(capability-set)654 4466 A
5168(is)S
3340 V
(known.)358 708 A
1128(To)S
1294(perform)S
1717(operations)S
2253(relative)S
2650(to)S
2776(the)S
2956(current)S
3332(working)S
3767(directory)S
4237(\(whatever)S
4754(that)S
4967(might)S
3480 V
708(be\))S
900(the)S
12 I
1085(dir)S
12 R
1273(parameter)S
1797(in)S
1929(the)S
2115(library)S
2477(routines)S
2905(that)S
3125(take)S
3365(path)S
3611(name)S
3911(arguments)S
4453(can)S
4659(be)S
4811(specified)S
3620 V
708(as)S
12 C
839(SP)S
12 Y1
985(3)S
12 C
(DEFAULT)511 1045 A
12 R
1556(.)S
3936 V
12 I
708(Functions)S
4252 V
708(sp)S
12 Y1
815(3)S
12 I
(append)354 875 A
4488 V
11 C
(errstat)469 1068 A
4628 V
1068(sp)S
11 Y1
1202(3)S
11 C
(append\(dir,)737 1257 A
(name,)335 2061 A
(cs,)201 2463 A
(ncols,)402 2731 A
(cols\))335 3200 A
4768 V
(capset)402 1068 A
(*dir;)335 1805 A
4908 V
(char)268 1068 A
(*name;)402 1805 A
5048 V
(capset)402 1068 A
(*cs;)268 1805 A
5188 V
(int)201 1068 A
(ncols;)402 1872 A
5328 V
(rights)402 1068 A
11 Y1
1470(3)S
11 C
(bits)268 1525 A
(cols[];)469 1860 A
5528 V
12 I
708(Sp)S
12 Y1
828(3)S
12 I
(append)354 888 A
12 R
1288(adds)S
1545(the)S
1729(directory)S
2204(entry)S
2490(specified)S
2965(by)S
12 I
3122(name)S
12 R
3394(,)S
3461(relative)S
3863(to)S
3994(the)S
4179(directory)S
4654(specified)S
5129(by)S
5668 V
12 I
708(dir)S
12 R
859(.)S
949(The)S
1167(entry)S
1446(may)S
1684(not)S
1868(exist)S
2127(already.)S
2574(The)S
2792(new)S
3024(entry)S
3303(has)S
3494(the)S
(capability-set)654 3672 A
12 I
4356(cs)S
12 R
4467(.)S
5844 V
708(The)S
929(column)S
1324(masks)S
1659(for)S
1835(the)S
2017(directory)S
2489(entry)S
2772(are)S
2955(specified)S
3427(by)S
3581(the)S
12 I
3763(ncols)S
12 R
4062(entries)S
4420(in)S
4548(the)S
4730(array)S
12 I
5014(cols)S
12 R
5219(.)S
5984 V
708(To)S
880(avoid)S
1186(first)S
1421(having)S
1787(to)S
(look)214 1919 A
2171(up)S
2329(the)S
2515(number)S
2922(of)S
3061(columns)S
3508(the)S
3693(directory)S
4168(has,)S
4396(any)S
4607(legal)S
4880(number)S
6124 V
708(of)S
845(columns)S
1290(masks)S
1628(\(1)S
1765(up)S
1921(to)S
12 C
2052(SP)S
12 Y1
2198(3)S
12 C
(MAXCOLUMNS)730 2258 A
12 R
2988(\))S
3066(is)S
(accepted.)454 3184 A
3705(Masks)S
4057(referring)S
4520(to)S
(non-existent)598 4651 A
6264 V
708(columns)S
1147(are)S
(ignored,)399 1326 A
1755(and)S
1959(missing)S
2365(masks)S
2697(are)S
2876(set)S
3041(to)S
3165(zero.)S
6500 V
708(Required)S
1181(Rights:)S
6640 V
12 C
1062(SP)S
12 Y1
1208(3)S
12 C
(MODRGT)438 1268 A
6780 V
12 R
(Access)344 1062 A
1436(to)S
1560(at)S
1678(least)S
1931(one)S
2135(column)S
2527(of)S
2658(the)S
2836(directory)S
3304(to)S
3428(which)S
3754(the)S
3932(new)S
4164(entry)S
4443(is)S
6920 V
1062(being)S
1360(added.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(367)180 5069 A
7920 V
EP
%%Page: 368 374
BP
/slant 0 def
/height 0 def
500 V
12 R
708(soap)S
949(\(L\))S
2567(Library)S
2961(Routines)S
4852(soap)S
5093(\(L\))S
920 V
708(Error)S
(Conditions:)563 995 A
1060 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(EXISTS)438 1341 A
12 R
1969(the)S
2147(specified)S
2615(name)S
2907(is)S
3018(already)S
3405(in)S
3529(use.)S
1436 V
12 I
708(sp)S
12 Y1
815(3)S
12 I
875(chmod)S
1672 V
11 C
(errstat)469 1068 A
1812 V
1068(sp)S
11 Y1
1202(3)S
11 C
(chmod\(dir,)670 1257 A
(name,)335 1994 A
(ncols,)402 2396 A
(cols\))335 2865 A
1952 V
(capset)402 1068 A
(*dir;)335 1805 A
2092 V
(char)268 1068 A
(*name;)402 1805 A
2232 V
(int)201 1068 A
(ncols;)402 1872 A
2372 V
(rights)402 1068 A
11 Y1
1470(3)S
11 C
(bits)268 1525 A
(cols[];)469 1860 A
2608 V
12 I
708(Sp)S
12 Y1
828(3)S
12 I
888(chmod)S
12 R
1254(allows)S
1606(one)S
1815(to)S
1944(alter)S
2196(the)S
2379(column)S
2776(masks)S
3113(for)S
3290(the)S
3473(directory)S
3946(entry)S
4230(specified)S
4703(by)S
4858(the)S
5041(path)S
2748 V
708(name)S
12 I
1011(name)S
12 R
1324(relative)S
1730(to)S
1865(the)S
2054(directory)S
2533(with)S
(capability-set)654 2790 A
12 I
3485(dir)S
12 R
3636(.)S
3737(The)S
3966(entry)S
4256(has)S
4458(to)S
4593(exist)S
4862(already.)S
2888 V
708(The)S
942(new)S
1190(column)S
1598(masks)S
1946(are)S
2141(set)S
2322(to)S
2462(the)S
12 I
2656(ncols)S
12 R
2967(entries)S
3337(in)S
3477(the)S
3671(array)S
12 I
3967(cols)S
12 R
4172(.)S
4278(Like)S
4547(in)S
12 I
4688(sp)S
12 Y1
4795(3)S
12 I
(append)354 4855 A
12 R
5219(,)S
3028 V
(superfluous)564 708 A
1302(masks)S
1634(are)S
(ignored)369 1813 A
2212(and)S
2416(missing)S
2822(masks)S
3154(are)S
3333(set)S
3498(to)S
3622(zero.)S
3264 V
708(Required)S
1181(Rights:)S
3404 V
12 C
1062(SP)S
12 Y1
1208(3)S
12 C
(MODRGT)438 1268 A
3544 V
12 R
(Access)344 1062 A
1436(to)S
1560(at)S
1678(least)S
1931(one)S
2135(column)S
2527(of)S
2658(the)S
2836(directory)S
3304(containing)S
3844(the)S
4022(entry)S
4301(to)S
4425(be)S
3684 V
1062(modified.)S
3980 V
708(Error)S
(Conditions:)563 995 A
4120 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(NOTFOUND)584 1341 A
12 R
1925(:)S
1969(the)S
2147(specified)S
2615(name)S
2907(does)S
3158(not)S
3342(exist.)S
4496 V
12 I
708(sp)S
12 Y1
815(3)S
12 I
875(create)S
4732 V
11 C
(errstat)469 1068 A
4872 V
1068(sp)S
11 Y1
1202(3)S
11 C
(create\(server,)938 1257 A
(columns,)536 2262 A
(dir\))268 2865 A
5012 V
(capset)402 1068 A
(*server;)536 1537 A
5152 V
(char)268 1068 A
(*columns[];)737 1537 A
5292 V
(capset)402 1068 A
(*dir;)335 1537 A
5492 V
12 I
708(Sp)S
12 Y1
828(3)S
12 I
888(create)S
12 R
1234(creates)S
1605(a)S
1692(new)S
1927(Soap)S
2201(directory)S
2672(on)S
2825(the)S
3006(Soap)S
3281(Server)S
3632(specified)S
4104(by)S
12 I
4258(server)S
12 R
4571(.)S
4665(The)S
4887(column)S
5632 V
708(names)S
1054(for)S
1233(the)S
1418(new)S
1657(directory)S
2132(are)S
2318(specified)S
2793(in)S
12 I
2924(columns)S
12 R
3337(,)S
3403(which)S
3735(is)S
3852(a)S
3942(NULL-terminated)S
4862(array)S
5148(of)S
5772 V
708(strings.)S
1128(\(There)S
1489(are)S
1676(no)S
1834(default)S
2209(names)S
2556(so)S
12 I
2701(columns)S
12 R
3152(must)S
3425(be)S
3577(specified.\))S
4154(The)S
4380(number)S
4787(of)S
4926(strings)S
5912 V
708(determines)S
1273(the)S
1454(number)S
1856(of)S
1990(columns)S
2432(for)S
2607(the)S
2787(directory.)S
3317(The)S
(capability-set)654 3537 A
4223(for)S
4397(the)S
4577(new)S
4811(directory)S
6052 V
708(is)S
819(returned)S
1253(in)S
12 I
1377(dir)S
12 R
1528(.)S
6228 V
708(NB.)S
960(It)S
1089(does)S
1364(not)S
1572(enter)S
1869(the)S
2071(new)S
2327(directory)S
2819(into)S
3062(another)S
3480(directory.)S
4033(\(That)S
4351(is)S
4487(the)S
4690(function)S
5148(of)S
6368 V
12 I
708(sp)S
12 Y1
815(3)S
12 I
(append)354 875 A
12 R
1239(.)S
1329(See)S
12 I
1534(sp)S
12 Y1
1641(3)S
12 I
1701(mkdir)S
12 R
1994(\(L\))S
2180(for)S
2352(a)S
2436(simple)S
(method)362 2789 A
3181(of)S
3312(creating)S
3733(and)S
(installing)451 3937 A
4418(a)S
4502(new)S
4734(directory.\))S
6604 V
708(Required)S
1181(Rights:)S
6744 V
(Access)344 1062 A
1436(to)S
1560(at)S
1678(least)S
1931(one)S
2135(column)S
2527(of)S
2658(the)S
2836(directory)S
3304(given)S
3602(as)S
3733(first)S
3960(argument.)S
7700 V
(368)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 369 375
BP
/slant 0 def
/height 0 def
500 V
12 R
708(soap)S
949(\(L\))S
2567(Library)S
2961(Routines)S
4852(soap)S
5093(\(L\))S
860 V
12 I
708(sp)S
12 Y1
815(3)S
12 I
875(delete)S
1096 V
11 C
(errstat)469 1068 A
1236 V
1068(sp)S
11 Y1
1202(3)S
11 C
(delete\(dir,)737 1257 A
(name\))335 2061 A
1376 V
(capset)402 1068 A
(*dir;)335 1537 A
1516 V
(char)268 1068 A
(*name;)402 1537 A
1752 V
12 I
708(Sp)S
12 Y1
828(3)S
12 I
888(delete)S
12 R
1220(deletes)S
1589(the)S
1769(directory)S
2239(entry)S
2520(\(which)S
2889(may)S
3129(itself)S
3405(be)S
3551(a)S
3637(directory)S
(capability\))519 4107 A
4658(specified)S
5129(by)S
1892 V
12 I
708(name)S
12 R
980(.)S
12 I
1070(Name)S
12 R
1392(is)S
1503(a)S
1587(path)S
1825(name)S
2117(relative)S
2512(to)S
2636(the)S
2814(directory)S
3282(whose)S
(capability-set)654 3621 A
4305(is)S
4416(given)S
4714(in)S
12 I
4838(dir)S
12 R
4989(.)S
2128 V
708(Required)S
1181(Rights:)S
2268 V
12 C
1062(SP)S
12 Y1
1208(3)S
12 C
(MODRGT)438 1268 A
2408 V
12 R
(Access)344 1062 A
1436(to)S
1560(at)S
1678(least)S
1931(one)S
2135(column)S
2527(of)S
2658(the)S
2836(directory)S
3304(containing)S
3844(the)S
4022(entry)S
4301(to)S
4425(be)S
4569(deleted.)S
2784 V
12 I
708(sp)S
12 Y1
815(3)S
12 I
875(discard)S
3020 V
11 C
(errstat)469 1068 A
3160 V
1068(sp)S
11 Y1
1202(3)S
11 C
(discard\(dir\))804 1257 A
3300 V
(capset)402 1068 A
(*dir;)335 1537 A
3500 V
12 I
708(Sp)S
12 Y1
828(3)S
12 I
888(discard)S
12 R
1301(is)S
1423(equivalent)S
1968(to)S
2103(performing)S
2689(an)S
12 I
2844(std)S
12 Y1
2985(3)S
12 I
3045(destroy)S
12 R
3452(on)S
3614(the)S
3804(specified)S
4284(directory.)S
4824(This)S
5081(can)S
3640 V
708(only)S
952(be)S
1096(performed)S
1631(on)S
1781(a)S
1865(directory)S
2333(that)S
2545(is)S
2656(empty)S
2988(\(i.e.,)S
3237(has)S
3428(no)S
3578(entries)S
3932(in)S
4056(it\).)S
3876 V
708(Required)S
1181(Rights:)S
4016 V
12 C
1062(SP)S
12 Y1
1208(3)S
12 C
(DELRGT)438 1268 A
12 R
1736(for)S
1908(the)S
2086(directory)S
2554(to)S
2678(be)S
2822(destroyed.)S
4156 V
(Access)344 1062 A
1436(to)S
1560(at)S
1678(least)S
1931(one)S
2135(column)S
2527(of)S
2658(the)S
2836(directory)S
3304(to)S
3428(be)S
3572(destroyed.)S
4452 V
708(Error)S
(Conditions:)563 995 A
4592 V
12 C
1062(SP)S
12 Y1
1208(3)S
12 C
(NOTEMPTY)584 1268 A
12 R
1852(:)S
1969(directory)S
2437(to)S
2561(be)S
2705(deleted)S
3085(is)S
3196(not)S
3380(empty.)S
4968 V
12 I
708(sp)S
12 Y1
815(3)S
12 I
875(getmasks)S
5204 V
11 C
(errstat)469 1068 A
5344 V
1068(sp)S
11 Y1
1202(3)S
11 C
(getmasks\(dir,)871 1257 A
(name,)335 2195 A
(ncols,)402 2597 A
(cols\))335 3066 A
5484 V
(capset)402 1068 A
(*dir;)335 1805 A
5624 V
(char)268 1068 A
(*name;)402 1805 A
5764 V
(int)201 1068 A
(ncols;)402 1872 A
5904 V
(rights)402 1068 A
11 Y1
1470(3)S
11 C
(bits)268 1525 A
(cols[];)469 1860 A
6104 V
12 I
708(Sp)S
12 Y1
828(3)S
12 I
888(getmasks)S
12 R
1380(returns)S
1755(in)S
12 I
1887(cols)S
12 R
2130(the)S
2316(column)S
2716(rights)S
3030(masks)S
3370(of)S
3510(the)S
3697(directory)S
4174(with)S
4429(path)S
4676(name)S
12 I
4977(name)S
6244 V
12 R
708(relative)S
1111(to)S
1243(the)S
1429(directory)S
1905(with)S
(capability-set)654 2159 A
12 I
2851(dir)S
12 R
3002(.)S
3100(If)S
12 I
3220(ncols)S
12 R
3523(is)S
3642(less)S
3862(than)S
4108(the)S
4294(number)S
4701(of)S
4840(columns)S
6384 V
708(in)S
836(the)S
1018(directory,)S
1520(only)S
1769(the)S
1952(masks)S
2289(for)S
2466(the)S
2649(first)S
12 I
2881(ncols)S
12 R
3181(columns)S
(will)190 3625 A
3850(be)S
3999(returned)S
4438(in)S
12 I
4567(cols)S
12 R
4772(.)S
4867(If)S
12 I
4984(ncols)S
6524 V
12 R
708(is)S
828(greater)S
1205(than)S
1452(the)S
1639(number)S
2047(of)S
2186(columns)S
2633(in)S
2765(the)S
2951(directory,)S
3457(the)S
3643(remaining)S
4172(column)S
4572(masks)S
4912(in)S
12 I
5044(cols)S
6664 V
12 R
(will)190 708 A
928(be)S
1072(set)S
1237(to)S
1361(zero.)S
6900 V
708(Required)S
1181(Rights:)S
7040 V
(Access)344 1062 A
1436(to)S
1560(at)S
1678(least)S
1931(one)S
2135(column)S
2527(of)S
2658(the)S
2836(directory)S
3304(containing)S
3844(the)S
4022(entry.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(369)180 5069 A
7920 V
EP
%%Page: 370 376
BP
/slant 0 def
/height 0 def
500 V
12 R
708(soap)S
949(\(L\))S
2567(Library)S
2961(Routines)S
4852(soap)S
5093(\(L\))S
920 V
708(Error)S
(Conditions:)563 995 A
1060 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(NOTFOUND)584 1341 A
12 R
1925(:)S
1969(the)S
2147(specified)S
2615(name)S
2907(does)S
3158(not)S
3342(exist.)S
1436 V
12 I
708(sp)S
12 Y1
815(3)S
12 I
(getseqno)429 875 A
1672 V
11 C
(errstat)469 1068 A
1812 V
1068(sp)S
11 Y1
1202(3)S
11 C
(getseqno\(dir,)871 1257 A
(seqno\))402 2195 A
1952 V
(capset)402 1068 A
(*dir;)335 1805 A
2092 V
1068(sp)S
11 Y1
1202(3)S
11 C
(seqno)335 1257 A
11 Y1
1592(3)S
11 C
1647(t)S
(*seqno;)469 1781 A
2292 V
12 I
708(Sp)S
12 Y1
828(3)S
12 I
(getseqno)429 888 A
12 R
1359(returns)S
1728(in)S
12 I
(seqno)281 1855 A
12 R
2179(the)S
2360(64-bit)S
2682(sequence)S
3158(number)S
3560(of)S
3694(the)S
3875(directory)S
4346(with)S
(capability-set)654 4595 A
2432 V
12 I
708(dir)S
12 R
859(,)S
932(if)S
1050(this)S
1268(is)S
(supported)476 1392 A
1911(by)S
2074(the)S
2264(directory)S
2744(server.)S
3143(The)S
3373(sequence)S
3858(number)S
4269(is)S
4392(incremented)S
5033(with)S
2572 V
(each)222 708 A
1014(directory)S
1536(modification.)S
2299(This)S
2598(information)S
3255(is)S
3421(useful)S
3802(for)S
(backup)348 4029 A
4462(programs)S
5004(\(e.g.,)S
2712 V
12 I
708(starch)S
12 R
1020(\(U\)\))S
1261(when)S
1553(making)S
1945(an)S
2089(incremental)S
2692(file)S
2885(system)S
3251(dump.)S
2948 V
708(Required)S
1181(Rights:)S
3088 V
(Access)344 1062 A
1436(to)S
1560(at)S
1678(least)S
1931(one)S
2135(column)S
2527(of)S
2658(the)S
2836(directory.)S
3384 V
708(Error)S
(Conditions:)563 995 A
3524 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(COMBAD)438 1341 A
12 R
1969(sequence)S
2442(numbers)S
2888(are)S
3067(not)S
(supported)476 3251 A
3757(by)S
3907(this)S
4112(server.)S
3900 V
12 I
708(sp)S
12 Y1
815(3)S
12 I
875(install)S
4136 V
11 C
(errstat)469 1068 A
4276 V
1068(sp)S
11 Y1
1202(3)S
11 C
(install\(n,)670 1257 A
(entries,)536 1994 A
(capsets,)536 2597 A
(oldcaps\))536 3200 A
4416 V
(int)201 1068 A
1872(n;)S
4556 V
1068(sp)S
11 Y1
1202(3)S
11 C
(entry)335 1257 A
(entries[];)670 1860 A
4696 V
(capset)402 1068 A
(capsets[];)670 1872 A
4836 V
(capability)670 1068 A
(*oldcaps[];)737 1805 A
5036 V
12 I
708(Sp)S
12 Y1
828(3)S
12 I
888(install)S
12 R
1245(implements)S
1854(atomical)S
(update)322 2316 A
2682(of)S
2827(a)S
2925(set)S
3104(of)S
3249(existing)S
3677(directory)S
4160(entries.)S
4589(They)S
4882(may)S
5135(be)S
5176 V
708(entries)S
1089(in)S
1240(several)S
1641(different)S
2117(directories.)S
2746(The)S
2990(modify)S
3395(right)S
3680(is)S
3817(required)S
4277(for)S
4475(all)S
4653(the)S
4857(affected)S
5316 V
708(directories.)S
1312(The)S
1531(operation)S
2019(only)S
(succeeds)430 2264 A
2726(if)S
2833(all)S
2987(the)S
(capability-sets)701 3167 A
3900(can)S
4100(be)S
4246(installed.)S
4749(Otherwise)S
5456 V
708(no)S
858(changes)S
1277(are)S
1456(made)S
1748(to)S
1872(any)S
2076(of)S
2207(the)S
2385(entries.)S
5632 V
708(The)S
936(parameter)S
12 I
1462(n)S
12 R
1572(specifies)S
2037(the)S
2225(number)S
2634(of)S
2775(elements)S
3246(in)S
3380(the)S
3569(three)S
3853(arrays.)S
4251(Each)S
4534(element)S
4959(of)S
5101(the)S
5772 V
708(array)S
12 I
994(entries)S
12 R
1370(contains)S
1809(the)S
12 I
1993(capset)S
12 R
2348(for)S
2526(the)S
2710(directory)S
3184(containing)S
3730(the)S
3913(entry)S
4197(to)S
4326(be)S
(updated)382 4475 A
4892(and)S
5101(the)S
5912 V
12 I
708(name)S
12 R
1016(of)S
1154(the)S
1339(directory)S
1814(entry)S
2100(within)S
2447(that)S
2666(directory)S
3141(which)S
3474(is)S
3592(to)S
3723(be)S
(updated.)412 3874 A
4353(The)S
4578(type)S
12 I
4823(sp)S
12 Y1
4930(3)S
12 I
4990(entry)S
6052 V
12 R
708(is)S
819(defined)S
1212(in)S
12 I
(soap.h)317 1336 A
12 R
1693(as:)S
6252 V
11 C
(typedef)469 1068 A
(struct)402 1604 A
2073({)S
6392 V
(capset)402 1652 A
2121(se)S
11 Y1
2255(3)S
11 C
(capset;)469 2310 A
6532 V
(char)268 1652 A
(*se)201 2054 A
11 Y1
2255(3)S
11 C
(name;)335 2310 A
6672 V
1068(})S
1202(sp)S
11 Y1
1336(3)S
11 C
(entry;)402 1391 A
6872 V
12 R
708(For)S
(each)222 910 A
1166(directory)S
1638(entry)S
1921(described)S
2419(in)S
12 I
2547(entries)S
12 R
2921(the)S
(corresponding)691 3103 A
3828(new)S
(capability-set)654 4065 A
4754(in)S
12 I
4883(capsets)S
7012 V
12 R
708(is)S
831(installed.)S
1344(However,)S
1861(this)S
2078(is)S
2201(only)S
(done)234 2457 A
2733(if)S
2849(the)S
(corresponding)691 3038 A
(capability)478 3770 A
4289(in)S
12 I
4424(oldcaps)S
12 R
4850(is)S
4972(either)S
7152 V
708(NULL,)S
1097(or)S
1233(present)S
1618(\(possibly)S
2096(as)S
2232(a)S
2321(restricted)S
2809(version\))S
3241(in)S
3370(the)S
3553(current)S
(capability-set.)684 3932 A
4681(This)S
4932(allows)S
7292 V
708(for)S
896(optimistic)S
1427(concurrency)S
2071(control)S
2460(by)S
(letting)310 2626 A
2982(one)S
3201(read)S
3455(a)S
3554(set)S
3734(of)S
3880(values)S
4234(and)S
4453(then)S
4706(ensure)S
5067(that)S
7700 V
(370)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 371 377
BP
/slant 0 def
/height 0 def
500 V
12 R
708(soap)S
949(\(L\))S
2567(Library)S
2961(Routines)S
4852(soap)S
5093(\(L\))S
860 V
708(they)S
946(have)S
1204(not)S
1388(changed)S
1820(when)S
2112(the)S
2290(new)S
2522(values)S
2861(are)S
(written)345 3040 A
3415(back.)S
1036 V
708(It)S
838(is)S
974(not)S
1183(possible)S
1634(to)S
1783(change)S
2180(the)S
2383(same)S
2688(entry)S
2993(twice)S
3313(in)S
3463(one)S
3693(command,)S
4255(since)S
4560(the)S
4764(optimistic)S
1176 V
708(concurrency)S
1346(control)S
1729(mechanism)S
(will)190 2320 A
2550(reject)S
2861(the)S
(second)335 3049 A
3424(change.)S
3866(Note)S
4142(that)S
4364(this)S
4579(can)S
4787(happen)S
5174(if)S
1316 V
708(there)S
981(exist)S
1240(two)S
1452(distinct)S
1839(paths)S
2124(to)S
2248(the)S
2426(same)S
2705(directory.)S
1492 V
708(NB.)S
966(All)S
1152(the)S
1330(entries)S
1684(specified)S
2152(must)S
2417(be)S
2561(resident)S
2975(on)S
3125(the)S
3303(same)S
3582(Soap)S
3853(Server.)S
1728 V
708(Required)S
1181(Rights:)S
1868 V
12 C
1062(SP)S
12 Y1
1208(3)S
12 C
(MODRGT)438 1268 A
12 R
1736(for)S
1908(the)S
2086(directories)S
2629(containing)S
3169(the)S
3347(entries.)S
2008 V
(Access)344 1062 A
1436(to)S
1560(at)S
1678(least)S
1931(one)S
2135(column)S
2527(of)S
2658(the)S
2836(directories)S
3379(containing)S
3919(the)S
4097(entries.)S
2304 V
708(Error)S
(Conditions:)563 995 A
2444 V
12 C
1062(SP)S
12 Y1
1208(3)S
12 C
(CLASH)365 1268 A
12 R
1633(:)S
1969(a)S
2053(value)S
2345(in)S
12 I
2469(oldcaps)S
12 R
2874(did)S
3058(not)S
3242(match)S
3568(the)S
(corresponding)691 3746 A
2584 V
1969(current)S
2343(entry.)S
2960 V
12 I
708(sp)S
12 Y1
815(3)S
12 I
875(list)S
3196 V
11 C
(#include)536 1068 A
("sp)201 1671 A
11 Y1
1872(3)S
11 C
(dir.h")402 1927 A
3476 V
(errstat)469 1068 A
3616 V
1068(sp)S
11 Y1
1202(3)S
11 C
(list\(dir,)603 1257 A
(dd\))201 1927 A
3756 V
(capset)402 1068 A
(*dir;)335 1604 A
3896 V
1068(SP)S
11 Y1
1202(3)S
11 C
(DIR)201 1257 A
(**dd;)335 1525 A
4132 V
12 I
708(Sp)S
12 Y1
828(3)S
12 I
888(list)S
12 R
1082(returns)S
1454(in)S
12 I
1583(dd)S
12 R
1748(the)S
1931(entire)S
2243(list)S
2427(of)S
2563(directory)S
3036(entries)S
3396(in)S
3526(the)S
3710(directory)S
4184(specified)S
4658(by)S
12 I
4814(dir)S
12 R
4965(.)S
5061(The)S
4272 V
12 C
708(SP)S
12 Y1
854(3)S
12 C
(DIR)219 914 A
12 R
1163(data)S
1395(structure)S
1850(is)S
1961(defined)S
2354(in)S
12 I
2478(sp)S
12 Y1
2585(3)S
12 I
2645(dir.h)S
12 R
2916(as)S
3047(follows:)S
4472 V
11 C
(typedef)469 1068 A
(struct)402 1604 A
11 Y1
2073(3)S
11 C
(dirdesc)469 2128 A
2664({)S
4612 V
(capset)402 1652 A
2121(dd)S
11 Y1
2255(3)S
11 C
(capset;)469 2310 A
4752 V
(int)201 1652 A
2121(dd)S
11 Y1
2255(3)S
11 C
(ncols;)402 2310 A
4892 V
(int)201 1652 A
2121(dd)S
11 Y1
2255(3)S
11 C
(nrows;)402 2310 A
5032 V
(char)268 1652 A
(**dd)268 1987 A
11 Y1
2255(3)S
11 C
(colnames;)603 2310 A
5172 V
(struct)402 1652 A
2121(sp)S
11 Y1
2255(3)S
11 C
(direct)402 2310 A
(*dd)201 2779 A
11 Y1
2980(3)S
11 C
(rows;)335 3035 A
5312 V
(int)201 1652 A
2121(dd)S
11 Y1
2255(3)S
11 C
(curpos;)469 2310 A
5452 V
1068(})S
1202(SP)S
11 Y1
1336(3)S
11 C
(DIR;)268 1391 A
5712 V
(struct)402 1068 A
1537(sp)S
11 Y1
1671(3)S
11 C
(direct)402 1726 A
2195({)S
5852 V
(char)268 1652 A
2054(*d)S
11 Y1
2188(3)S
11 C
(name;)335 2243 A
3047(/*)S
(name)268 3248 A
(\(up)201 3583 A
3851(to)S
(MAX)201 4052 A
11 Y1
4253(3)S
11 C
(NAME)268 4308 A
4643(+)S
4777(1\))S
5112(*/)S
5992 V
(int)201 1652 A
2121(d)S
11 Y1
2188(3)S
11 C
(namlen;)469 2243 A
3047(/*)S
(redundant,)670 3248 A
(but)201 3985 A
(compatible)670 4253 A
5124(*/)S
6132 V
(long)268 1652 A
2054(*d)S
11 Y1
2188(3)S
11 C
(columns;)536 2243 A
3047(/*)S
(rights)402 3248 A
(masks)335 3717 A
4119(in)S
(the)201 4320 A
(columns)469 4588 A
5124(*/)S
6272 V
1068(};)S
6472 V
12 I
708(dd)S
12 Y1
828(3)S
12 I
888(capset)S
12 R
1239(is)S
(initialized)486 1352 A
1870(with)S
12 I
2118(dir)S
12 R
2269(,)S
12 I
2331(dd)S
12 Y1
2451(3)S
12 I
2511(ncols)S
12 R
2809(with)S
3058(the)S
3239(number)S
3641(of)S
3775(columns)S
4217(in)S
12 I
4344(dir)S
12 R
4495(,)S
4558(and)S
12 I
4765(dd)S
12 Y1
4885(3)S
12 I
4945(nrows)S
6612 V
12 R
708(with)S
957(the)S
1138(number)S
1540(of)S
1674(entries.)S
2091(The)S
2312(names)S
2654(of)S
2788(the)S
2969(columns)S
3410(are)S
3591(stored)S
3919(in)S
12 I
4045(dd)S
12 Y1
4165(3)S
12 I
4225(colnames)S
12 R
4692(,)S
4754(which)S
5082(is)S
5195(a)S
6752 V
708(string)S
1048(array)S
1362(of)S
12 I
1527(dd)S
12 Y1
1647(3)S
12 I
1707(ncols)S
12 R
2036(entries.)S
2484(The)S
2737(entry)S
12 I
3051(dd)S
12 Y1
3171(3)S
12 I
3231(rows)S
12 R
3540(is)S
3686(an)S
3865(array)S
4180(of)S
12 I
4346(dd)S
12 Y1
4466(3)S
12 I
4526(nrows)S
12 R
4895(entries,)S
6892 V
708(describing)S
1256(the)S
1448(\(NULL-terminated\))S
2458(name)S
2764(in)S
2902(the)S
3094(row,)S
3357(the)S
3549(length)S
3895(of)S
4039(the)S
4230(name,)S
4565(and)S
4782(the)S
4973(rights)S
7032 V
708(masks.)S
1111(The)S
1340(entry)S
12 I
1630(d)S
12 Y1
1690(3)S
12 I
1750(columns)S
12 R
2205(is)S
2328(an)S
2484(array)S
2776(with)S
12 I
3034(dd)S
12 Y1
3154(3)S
12 I
3214(ncols)S
12 R
3521(entries)S
3887(containing)S
4439(the)S
4629(rights)S
4947(masks)S
7172 V
708(for)S
(each)222 890 A
1152(of)S
1293(the)S
1481(columns.)S
1990(The)S
2218(entry)S
12 I
2507(dd)S
12 Y1
2627(3)S
12 I
2687(curpos)S
12 R
3065(is)S
3186(a)S
3280(magic)S
(cookie)322 3616 A
3978(for)S
4160(the)S
4348(implementation)S
5148(of)S
7312 V
708(the)S
886(POSIX)S
1267(directory)S
(interface)426 1735 A
2191(\(see)S
12 I
2417(sp)S
12 Y1
2524(3)S
12 I
2584(dir)S
12 R
2735(\(L\))S
2921(and)S
12 I
3125(posix)S
12 R
3390(\(L\)\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(371)180 5069 A
7920 V
EP
%%Page: 372 378
BP
/slant 0 def
/height 0 def
500 V
12 R
708(soap)S
949(\(L\))S
2567(Library)S
2961(Routines)S
4852(soap)S
5093(\(L\))S
920 V
708(Required)S
1181(Rights:)S
1060 V
(Access)344 1062 A
1436(to)S
1560(at)S
1678(least)S
1931(one)S
2135(column)S
2527(of)S
2658(the)S
2836(directory)S
3304(to)S
3428(be)S
3572(listed.)S
1436 V
12 I
708(sp)S
12 Y1
815(3)S
12 I
875(lookup)S
1672 V
11 C
(errstat)469 1068 A
1812 V
1068(sp)S
11 Y1
1202(3)S
11 C
(lookup\(dir,)737 1257 A
(path,)335 2061 A
(object\))469 2463 A
1952 V
(capset)402 1068 A
(*dir;)335 1537 A
2092 V
(char)268 1068 A
(*path;)402 1537 A
2232 V
(capset)402 1068 A
(*object;)536 1537 A
2432 V
12 I
708(Sp)S
12 Y1
828(3)S
12 I
888(lookup)S
12 R
1274(returns)S
1659(in)S
12 I
1801(object)S
12 R
2155(the)S
(capability-set)654 2351 A
3053(stored)S
(under)275 3397 A
3720(the)S
3916(name)S
12 I
4226(name)S
12 R
4546(relative)S
4959(to)S
5101(the)S
2572 V
708(directory)S
12 I
1183(dir)S
12 R
1334(.)S
1431(Warning:)S
1925(if)S
2037(the)S
2222(NULL-string)S
2900(is)S
3018(given)S
3323(as)S
3461(the)S
12 I
3646(path)S
12 R
3907(then)S
4152(the)S
(capability)478 4337 A
4851(in)S
12 I
4981(dir)S
12 R
5168(is)S
2712 V
708(for)S
908(the)S
1114(directory)S
1610(required)S
2073(and)S
2306(so)S
2472(it)S
2599(is)S
2739(returned)S
(without)370 3202 A
3631(checking)S
4126(to)S
4279(see)S
4493(if)S
4627(it)S
4754(is)S
4894(a)S
5007(valid)S
2852 V
(capability.)508 708 A
3088 V
708(Required)S
1181(Rights:)S
3228 V
(Access)344 1062 A
1436(to)S
1560(at)S
1678(least)S
1931(one)S
2135(column)S
2527(of)S
2658(the)S
2836(directory)S
3304(containing)S
3844(the)S
4022(object.)S
3604 V
12 I
708(sp)S
12 Y1
815(3)S
12 I
875(replace)S
3840 V
11 C
(errstat)469 1068 A
3980 V
1068(sp)S
11 Y1
1202(3)S
11 C
(replace\(dir,)804 1257 A
(name,)335 2128 A
(cs\))201 2530 A
4120 V
(capset)402 1068 A
(*dir;)335 1537 A
4260 V
(char)268 1068 A
(*name;)402 1537 A
4400 V
(capset)402 1068 A
(*cs;)268 1537 A
4600 V
12 I
708(Sp)S
12 Y1
828(3)S
12 I
888(replace)S
12 R
1316(performs)S
1809(a)S
1918(similar)S
2311(function)S
2769(to)S
12 I
2918(sp)S
12 Y1
3025(3)S
12 I
3085(install)S
12 R
3453(but)S
3662(for)S
3860(a)S
3970(single)S
4315(directory)S
4809(entry.)S
5174(It)S
4740 V
708(atomically)S
(updates)369 1273 A
1695(the)S
1896(directory)S
2387(entry)S
2689(with)S
2958(path)S
3219(name)S
12 I
3534(name)S
12 R
3858(relative)S
4275(to)S
4421(directory)S
12 I
4911(dir)S
12 R
5062(.)S
5174(It)S
4880 V
708(overwrites)S
1251(the)S
(capability-set)654 1429 A
2113(for)S
2285(that)S
2497(entry)S
2776(with)S
3022(the)S
3200(one)S
3404(in)S
12 I
3528(cs)S
12 R
3639(.)S
5116 V
708(Required)S
1181(Rights:)S
5256 V
12 C
1062(SP)S
12 Y1
1208(3)S
12 C
(MODRGT)438 1268 A
5396 V
12 R
(Access)344 1062 A
1436(to)S
1560(at)S
1678(least)S
1931(one)S
2135(column)S
2527(of)S
2658(the)S
2836(directory)S
3304(containing)S
3844(the)S
4022(entry.)S
5692 V
708(Error)S
(Conditions:)563 995 A
5832 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(NOTFOUND)584 1341 A
12 R
1925(:)S
2196(the)S
2374(specified)S
2842(path)S
3080(name)S
3372(does)S
3623(not)S
3807(exist.)S
6208 V
12 I
708(sp)S
12 Y1
815(3)S
12 I
875(setlookup)S
6444 V
11 C
(errstat)469 1068 A
6584 V
1068(sp)S
11 Y1
1202(3)S
11 C
(setlookup\(n,)804 1257 A
(in,)201 2128 A
(out\))268 2396 A
6724 V
(int)201 1068 A
1738(n;)S
6864 V
1068(sp)S
11 Y1
1202(3)S
11 C
(entry)335 1257 A
(in[];)335 1726 A
7004 V
1068(sp)S
11 Y1
1202(3)S
11 C
(result)402 1257 A
(out[];)402 1726 A
7204 V
12 R
708(For)S
(each)222 922 A
1190(directory)S
1674(entry)S
1969(described)S
2479(in)S
12 I
2620(in)S
12 R
2724(,)S
2801(the)S
(capability-set,)684 2996 A
3727(the)S
3922(type)S
(capability,)508 4177 A
4732(the)S
(update)322 4927 A
7700 V
(372)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 373 379
BP
/slant 0 def
/height 0 def
500 V
12 R
708(soap)S
949(\(L\))S
2567(Library)S
2961(Routines)S
4852(soap)S
5093(\(L\))S
860 V
708(time,)S
1002(and)S
1224(an)S
1386(error)S
1671(status)S
1995(are)S
2192(returned)S
2644(in)S
2786(the)S
(corresponding)691 2982 A
3721(entry)S
4018(in)S
12 I
4160(out)S
12 R
4324(.)S
4432(Both)S
12 I
4713(in)S
12 R
4864(and)S
12 I
5085(out)S
1000 V
12 R
708(contain)S
12 I
1094(n)S
12 R
1194(entries.)S
1608(The)S
1826(structure)S
12 I
2281(sp)S
12 Y1
2388(3)S
12 I
2448(result)S
12 R
2764(is)S
2875(defined)S
3268(in)S
12 I
(soap.h)317 3392 A
12 R
3749(as)S
3880(follows:)S
1200 V
11 C
(typedef)469 1068 A
(struct)402 1604 A
2073({)S
1340 V
(short)335 1652 A
2389(sr)S
11 Y1
2523(3)S
11 C
(status;)469 2578 A
1480 V
(capability)670 1652 A
2389(sr)S
11 Y1
2523(3)S
11 C
(typecap;)536 2578 A
1620 V
(long)268 1652 A
2389(sr)S
11 Y1
2523(3)S
11 C
(time;)335 2578 A
1760 V
(capset)402 1652 A
2389(sr)S
11 Y1
2523(3)S
11 C
(capset;)469 2578 A
1900 V
1068(})S
1202(sp)S
11 Y1
1336(3)S
11 C
(result;)469 1391 A
2100 V
12 R
708(The)S
932(field)S
12 I
1191(sr)S
12 Y1
1285(3)S
12 I
1345(status)S
12 R
1674(is)S
1792(an)S
1943(error)S
2217(status.)S
2590(If)S
2709(it)S
2814(is)S
2932(not)S
3123(equal)S
3422(to)S
12 C
(STD)219 3553 A
12 Y1
3772(3)S
12 C
3832(OK)S
12 R
4015(then)S
4260(the)S
4445(other)S
4731(data)S
4970(in)S
5101(the)S
2240 V
708(structure)S
1169(are)S
1354(invalid.)S
1786(The)S
2010(operation)S
2503(is)S
2620(atomic,)S
3016(that)S
3233(is,)S
3379(it)S
3482(returns)S
3854(the)S
4037(situation)S
4489(as)S
4625(it)S
4728(was)S
4952(at)S
5075(one)S
2380 V
708(moment)S
1134(in)S
1258(time.)S
2556 V
708(NB.)S
950(Some)S
1269(implementations)S
2120(dictate)S
2488(that)S
2714(all)S
2880(entries)S
3248(have)S
3520(to)S
3658(reside)S
3992(in)S
4130(the)S
4323(directory)S
4806(server)S
5148(as)S
2696 V
708(specified)S
1179(by)S
1332(the)S
1513(first)S
1743(entry)S
2024(in)S
12 I
2150(in)S
12 R
2254(.)S
2346(For)S
2546(all)S
2700(entries)S
3056(not)S
3242(available)S
3712(at)S
3832(this)S
4039(server)S
4368(the)S
12 I
4548(sr)S
12 Y1
4642(3)S
12 I
4702(status)S
12 R
5026(field)S
2836 V
(will)190 708 A
928(contain)S
12 C
(STD)219 1314 A
12 Y1
1533(3)S
12 C
(NOTFOUND)584 1593 A
12 R
2177(.)S
3072 V
708(Required)S
1181(Rights:)S
3212 V
(Access)344 1062 A
1436(to)S
1560(at)S
1678(least)S
1931(one)S
2135(column)S
2527(of)S
2658(the)S
2836(directory)S
3304(containing)S
(each)222 3844 A
4096(entry.)S
3588 V
12 I
708(sp)S
12 Y1
815(3)S
12 I
875(traverse)S
3824 V
11 C
(errstat)469 1068 A
3964 V
1068(sp)S
11 Y1
1202(3)S
11 C
(traverse\(dir,)871 1257 A
(path,)335 2195 A
(last\))335 2597 A
4104 V
(capset)402 1068 A
(*dir;)335 1537 A
4244 V
(char)268 1068 A
(**path;)469 1470 A
4384 V
(capset)402 1068 A
(*last;)402 1537 A
4584 V
12 I
708(Sp)S
12 Y1
828(3)S
12 I
888(traverse)S
12 R
1341(returns)S
1725(in)S
12 I
(*path)274 1866 A
12 R
2197(a)S
2298(pointer)S
2688(to)S
2829(the)S
3024(last)S
(component)536 3240 A
3823(of)S
3971(the)S
4166(path)S
4421(name)S
(initially)378 4730 A
5155(in)S
4724 V
12 I
(*path)274 708 A
12 R
992(.)S
1083(It)S
1189(also)S
1415(returns)S
1782(in)S
12 I
1906(last)S
12 R
2121(the)S
(capability)478 2299 A
2807(for)S
2979(the)S
3157(directory)S
3625(up)S
(until)222 3775 A
4027(the)S
4205(last)S
(component)536 4404 A
4970(of)S
5101(the)S
4864 V
708(path)S
946(\(relative)S
1382(to)S
1506(the)S
1684(directory)S
12 I
2152(dir)S
12 R
2303(\).)S
5040 V
708(There)S
1028(are)S
1214(several)S
1595(special)S
1969(cases.)S
2322(The)S
2547(path)S
2792(name)S
12 I
3091(/)S
12 R
3172(which)S
(will)190 3506 A
3734(return)S
4062(a)S
4154(zero)S
4401(length)S
4741(path)S
4987(name)S
5180 V
708(in)S
12 I
837(path)S
12 R
1096(and)S
1305(the)S
(capability-set)654 1488 A
2177(for)S
2354(the)S
2537(root)S
2767(directory.)S
3300(The)S
3523(names)S
12 I
3866(dot)S
12 R
4030(\(.\))S
4206(and)S
12 I
4414(dot-dot)S
12 R
4773(\(..\))S
4979(at)S
5101(the)S
5320 V
708(end)S
914(of)S
1047(a)S
1133(path)S
1373(name)S
(will)190 1667 A
1890(not)S
2077(be)S
2224(normalized)S
2802(away.)S
3151(A)S
3272(path)S
3513(name)S
3808(which)S
4137(contains)S
4573(no)S
12 I
4726(/)S
12 R
4803(character)S
5460 V
(will)190 708 A
928(return)S
1248(in)S
12 I
1372(last)S
12 R
1587(the)S
(capability-set)654 1765 A
2449(in)S
12 I
2573(dir)S
12 R
2754(and)S
12 I
2958(path)S
12 R
(will)190 3212 A
3432(be)S
3576(unchanged.)S
5696 V
708(Required)S
1181(Rights:)S
5836 V
(Access)344 1062 A
1436(to)S
1560(at)S
1678(least)S
1931(one)S
2135(column)S
2527(of)S
2658(the)S
2836(directory)S
3304(containing)S
(each)222 3844 A
4096(element)S
4510(of)S
4641(the)S
5976 V
1062(path.)S
6316 V
12 B
708(See)S
913(Also)S
6492 V
12 R
708(chm\(U\),)S
(chbul\(A\),)468 1202 A
1756(del\(U\),)S
2190(dir\(U\),)S
2611(mkd\(U\),)S
3111(get\(U\),)S
3545(put\(U\),)S
3986(rpc\(L\),)S
4414(soap\(A\),)S
4922(std\(L\),)S
6632 V
708(std)S
12 Y1
849(3)S
12 R
909(age\(A\),)S
1307(std)S
12 Y1
1448(3)S
12 R
1508(destroy\(U\),)S
2094(std)S
12 Y1
2235(3)S
12 R
2295(info\(U\),)S
2720(std)S
12 Y1
2861(3)S
12 R
(copy\(U\),)434 2921 A
3385(std)S
12 Y1
3526(3)S
12 R
3586(restrict\(U\),)S
4155(std)S
12 Y1
4296(3)S
12 R
4356(touch\(U\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(373)180 5069 A
7920 V
EP
%%Page: 374 380
BP
/slant 0 def
/height 0 def
500 V
12 R
708(sp)S
12 Y1
815(3)S
12 R
875(dir)S
1030(\(L\))S
2567(Library)S
2961(Routines)S
4771(sp)S
12 Y1
4878(3)S
12 R
4938(dir)S
5093(\(L\))S
860 V
1745(\(in)S
1910(libraries:)S
2373(libamoeba.a,)S
3021(libkernel.a,)S
3596(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(sp)S
12 Y1
815(3)S
12 R
875(dir)S
12 R-1
1040(-)S
12 R
1168(routines)S
1588(which)S
1914(implement)S
2462(the)S
2640(POSIX-like)S
3244(directory)S
3712(commands)S
4265(for)S
4437(the)S
4615(Soap)S
4886(Server)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("sp)201 1311 A
11 Y1
1512(3)S
11 C
(dir.h")402 1567 A
2182 V
(void)268 708 A
1043(sp)S
11 Y1
1177(3)S
11 C
(closedir\(dd\))804 1232 A
2322 V
708(SP)S
11 Y1
842(3)S
11 C
(DIR)201 897 A
(*sp)201 1165 A
11 Y1
1366(3)S
11 C
(opendir\(name\))871 1421 A
2462 V
(struct)402 708 A
1177(sp)S
11 Y1
1311(3)S
11 C
(direct)402 1366 A
(*sp)201 1835 A
11 Y1
2036(3)S
11 C
(readdir\(dd\))737 2091 A
2602 V
(void)268 708 A
1043(sp)S
11 Y1
1177(3)S
11 C
(rewinddir\(dd\))871 1232 A
2742 V
(void)268 708 A
1043(sp)S
11 Y1
1177(3)S
11 C
(seekdir\(dd,)737 1232 A
(pos\))268 2036 A
2882 V
(long)268 708 A
1043(sp)S
11 Y1
1177(3)S
11 C
(telldir\(dd\))737 1232 A
3222 V
12 B
708(Description)S
3398 V
12 R
708(This)S
979(set)S
1170(of)S
1327(routines)S
1773(implement)S
2348(an)S
(interface)426 2519 A
3002(to)S
3153(the)S
3358(Soap)S
3656(Server)S
4030(which)S
4383(is)S
4521(similar)S
4916(to)S
5067(that)S
3538 V
708(required)S
1171(by)S
1350(POSIX.)S
1820(However)S
2324(the)S
2531(management)S
3208(of)S
3367(the)S
12 I
3573(errno)S
12 R
3909(variable)S
4358(is)S
4497(not)S
(done.)264 4709 A
5061(The)S
3678 V
708(POSIX)S
1089(versions)S
1522(of)S
1653(these)S
1932(functions)S
2412(are)S
2591(available)S
3059(in)S
3183(the)S
3361(Amoeba)S
3801(libraries.)S
4030 V
12 I
708(sp)S
12 Y1
815(3)S
12 I
875(closedir)S
4266 V
11 C
(void)268 1068 A
4406 V
1068(sp)S
11 Y1
1202(3)S
11 C
(closedir\(dd\))804 1257 A
4546 V
1068(SP)S
11 Y1
1202(3)S
11 C
(DIR)201 1257 A
(*dd;)268 1525 A
4746 V
12 R
708(This)S
968(routine)S
1356(closes)S
1697(the)S
1890(directory)S
2373(pointed)S
2780(to)S
2919(by)S
12 I
3084(dd)S
12 R
3260(and)S
3480(frees)S
3763(any)S
3983(associated)S
4527(resources.)S
12 I
5091(Dd)S
4886 V
12 R
708(must)S
973(point)S
1251(to)S
1375(a)S
1459(directory)S
1927(opened)S
2305(by)S
12 I
2455(sp)S
12 Y1
2562(3)S
12 I
2622(opendir)S
12 R
3007(.)S
5202 V
12 I
708(sp)S
12 Y1
815(3)S
12 I
875(opendir)S
5438 V
11 C
1068(SP)S
11 Y1
1202(3)S
11 C
(DIR)201 1257 A
1525(*)S
5578 V
1068(sp)S
11 Y1
1202(3)S
11 C
(opendir\(name\))871 1257 A
5718 V
(char)268 1068 A
(*name;)402 1403 A
5918 V
12 R
708(This)S
958(routine)S
1336(opens)S
1652(the)S
1835(directory)S
2308(whose)S
2652(path)S
2895(name)S
3192(is)S
12 I
3308(name)S
12 R
3580(,)S
3645(allocates)S
4105(storage,)S
(fills)190 4520 A
4745(it)S
4849(with)S
5101(the)S
6058 V
708(details)S
1060(of)S
1196(the)S
1379(directory)S
1852(and)S
2061(returns)S
2433(a)S
2522(pointer)S
2900(to)S
3029(the)S
3212(allocated)S
3685(data.)S
3982(This)S
4232(pointer)S
4610(must)S
4880(be)S
5028(used)S
6198 V
708(in)S
835(subsequent)S
1404(operations)S
1941(on)S
2094(the)S
2275(directory.)S
2806(If)S
2922(the)S
12 I
3104(name)S
12 R
3410(does)S
3665(not)S
3853(exist,)S
4146(is)S
4261(not)S
4449(a)S
4537(directory,)S
5039(or)S
5174(if)S
6338 V
708(memory)S
1141(allocation)S
1649(fails)S
1889(or)S
2020(reading)S
2413(the)S
2591(directory)S
3059(fails,)S
3329(the)S
3507(routine)S
3880(returns)S
4247(the)S
4425(NULL-pointer.)S
7700 V
(374)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 375 381
BP
/slant 0 def
/height 0 def
500 V
12 R
708(sp)S
12 Y1
815(3)S
12 R
875(dir)S
1030(\(L\))S
2567(Library)S
2961(Routines)S
4771(sp)S
12 Y1
4878(3)S
12 R
4938(dir)S
5093(\(L\))S
860 V
12 I
708(sp)S
12 Y1
815(3)S
12 I
(readdir)362 875 A
1096 V
11 C
(struct)402 1068 A
1537(sp)S
11 Y1
1671(3)S
11 C
(direct)402 1726 A
2195(*)S
1236 V
1068(sp)S
11 Y1
1202(3)S
11 C
(readdir\(dd\))737 1257 A
1376 V
1068(SP)S
11 Y1
1202(3)S
11 C
(DIR)201 1257 A
(*dd;)268 1525 A
1576 V
12 R
708(This)S
957(routine)S
1334(returns)S
1705(a)S
1793(pointer)S
2170(to)S
2298(the)S
2480(next)S
2722(directory)S
3194(entry)S
3477(in)S
3605(the)S
3788(directory)S
4261(pointed)S
4658(to)S
4787(by)S
12 I
4942(dd)S
12 R
5072(.)S
5167(If)S
1716 V
708(there)S
991(are)S
1180(no)S
1340(more)S
1629(entries)S
1993(in)S
2127(the)S
2315(directory)S
2793(it)S
2900(returns)S
3276(the)S
3463(NULL-pointer.)S
4270(The)S
4497(structure)S
4961(of)S
5101(the)S
1856 V
708(directory)S
1176(entry)S
1455(is)S
1566(defined)S
1959(in)S
12 I
2083(sp)S
12 Y1
2190(3)S
12 I
2250(dir.h)S
12 R
2491(.)S
2172 V
12 I
708(sp)S
12 Y1
815(3)S
12 I
(rewinddir)476 875 A
2408 V
11 C
(void)268 1068 A
2548 V
1068(sp)S
11 Y1
1202(3)S
11 C
(rewinddir\(dd\))871 1257 A
2688 V
1068(SP)S
11 Y1
1202(3)S
11 C
(DIR)201 1257 A
(*dd;)268 1525 A
2888 V
12 R
708(This)S
955(routine)S
1330(moves)S
1677(the)S
1857(current)S
(position)389 2233 A
2654(within)S
2996(the)S
3176(directory)S
3646(specified)S
4116(by)S
12 I
4268(dd)S
12 R
4430(to)S
4556(the)S
4737(beginning.)S
3028 V
708(A)S
826(subsequent)S
1392(read)S
(will)190 1631 A
1851(return)S
2171(the)S
2349(first)S
2576(entry)S
2855(in)S
2979(the)S
3157(directory.)S
3344 V
12 I
708(sp)S
12 Y1
815(3)S
12 I
(seekdir)350 875 A
3580 V
11 C
(void)268 1068 A
3720 V
1068(sp)S
11 Y1
1202(3)S
11 C
(seekdir\(dd,)737 1257 A
(pos\))268 2061 A
3860 V
1068(SP)S
11 Y1
1202(3)S
11 C
(DIR)201 1257 A
(*dd;)268 1525 A
4000 V
(long)268 1068 A
(pos;)268 1403 A
4200 V
12 R
708(This)S
973(routine)S
1366(moves)S
1732(the)S
1931(current)S
(position)389 2326 A
2766(within)S
3127(the)S
3326(directory)S
3815(specified)S
4304(by)S
12 I
4475(dd)S
12 R
4656(to)S
4801(the)S
5000(entry)S
4340 V
708(number)S
12 I
1107(pos)S
12 R
1284(.)S
1374(A)S
1492(subsequent)S
2058(read)S
(will)190 2297 A
2517(return)S
2837(the)S
3015(entry)S
3294(at)S
(position)389 3412 A
12 I
3831(pos)S
12 R
4008(.)S
4656 V
12 I
708(sp)S
12 Y1
815(3)S
12 I
875(telldir)S
4892 V
11 C
(long)268 1068 A
5032 V
1068(sp)S
11 Y1
1202(3)S
11 C
(telldir\(dd\))737 1257 A
5172 V
1068(SP)S
11 Y1
1202(3)S
11 C
(DIR)201 1257 A
(*dd;)268 1525 A
5372 V
12 R
708(This)S
953(routine)S
1326(returns)S
1693(the)S
1871(current)S
(position)389 2245 A
2664(in)S
2788(the)S
2966(directory)S
3434(specified)S
3902(by)S
12 I
4052(dd)S
12 R
4182(.)S
5652 V
12 B
708(See)S
913(Also)S
5828 V
12 R
708(posix\(L\),)S
1185(soap\(L\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(375)180 5069 A
7920 V
EP
%%Page: 376 382
BP
/slant 0 def
/height 0 def
500 V
12 R
708(sp)S
12 Y1
815(3)S
12 R
875(mask)S
1150(\(L\))S
2567(Library)S
2961(Routines)S
4651(sp)S
12 Y1
4758(3)S
12 R
4818(mask)S
5093(\(L\))S
860 V
2033(\(in)S
2198(libraries:)S
2661(libamoeba.a,)S
3309(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(sp)S
12 Y1
815(3)S
12 R
875(mask)S
12 R-1
1160(-)S
12 R
1288(returns)S
1655(the)S
1833(information)S
2435(from)S
2701(the)S
12 C
(SPMASK)438 2879 A
12 R
3347(environment)S
3988(variable)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("capset.h")670 1311 A
2182 V
(#include)536 708 A
("soap/soap.h")871 1311 A
2462 V
(int)201 708 A
2602 V
708(sp)S
11 Y1
842(3)S
11 C
(mask\(ncols,)737 897 A
(cols\))335 1701 A
2742 V
(int)201 708 A
(ncols;)402 976 A
2882 V
(long)268 708 A
(cols[];)469 1043 A
3222 V
12 B
708(Description)S
3398 V
12 I
708(Sp)S
12 Y1
828(3)S
12 I
888(mask)S
12 R
1206(reads)S
1522(the)S
1730(string)S
2066(environment)S
2737(variable)S
12 C
(SPMASK)438 3188 A
12 R
3686(and)S
3920(returns)S
4317(the)S
4525(column)S
4947(masks)S
3538 V
708(described)S
1205(therein)S
1575(in)S
12 I
1702(cols)S
12 R
1907(.)S
2000(The)S
2221(parameter)S
12 I
2740(ncols)S
12 R
3038(gives)S
3326(the)S
3507(size)S
3729(of)S
3863(the)S
4044(array)S
12 I
4327(cols)S
12 R
4532(.)S
4625(The)S
4846(function)S
3678 V
708(returns)S
1076(the)S
1255(actual)S
1577(number)S
1978(of)S
2111(columns)S
2552(it)S
(filled)257 2652 A
2941(in.)S
3127(If)S
3241(the)S
3421(environment)S
4064(variable)S
4487(is)S
4600(not)S
4786(defined)S
5181(it)S
3818 V
708(returns)S
1075(0xFF)S
1359(for)S
1531(the)S
1709(number)S
2108(of)S
2239(columns)S
2678(specified)S
3146(by)S
12 I
3296(ncols)S
12 R
3561(.)S
3994 V
708(The)S
926(value)S
1218(of)S
12 C
(SPMASK)438 1350 A
12 R
1819(is)S
1931(used)S
2183(by)S
2334(several)S
(utilities)365 2709 A
3105(to)S
3230(provide)S
3630(a)S
3715(default)S
4083(set)S
4249(of)S
4381(column)S
4774(masks)S
5107(for)S
4134 V
708(new)S
940(directory)S
1408(entries.)S
4450 V
12 I
708(Environment)S
1363(Variables)S
4626 V
12 C
(SPMASK)438 708 A
12 R
1182(is)S
1299(expected)S
1765(to)S
1895(be)S
2045(a)S
2135(colon)S
2439(separated)S
2933(list)S
3119(of)S
3257(rights)S
3570(masks.)S
3969(The)S
4194(default)S
4568(base)S
4820(is)S
4938(10)S
5095(but)S
4766 V
708(base)S
953(16)S
1103(can)S
1301(be)S
1445(used)S
1696(by)S
(preceding)477 1846 A
2353(the)S
2531(digits)S
2830(with)S
3076(0x.)S
3286(For)S
3484(example,)S
4966 V
11 C
(SPMASK=0xff:0xf:0x2:0x8)1541 1068 A
5306 V
12 B
708(See)S
913(Also)S
5482 V
12 R
708(soap\(A\),)S
1159(soap\(L\).)S
7700 V
(376)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 377 383
BP
/slant 0 def
/height 0 def
500 V
12 R
708(sp)S
12 Y1
815(3)S
12 R
875(mkdir)S
1184(\(L\))S
2567(Library)S
2961(Routines)S
4617(sp)S
12 Y1
4724(3)S
12 R
4784(mkdir)S
5093(\(L\))S
860 V
2033(\(in)S
2198(libraries:)S
2661(libamoeba.a,)S
3309(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(sp)S
12 Y1
815(3)S
12 R
875(mkdir)S
12 R-1
1194(-)S
12 R
1322(create)S
1643(and)S
1847(install)S
2174(a)S
2258(Soap)S
2529(directory)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("capset.h")670 1311 A
2182 V
(#include)536 708 A
("soap/soap.h")871 1311 A
2462 V
(int)201 708 A
2602 V
708(sp)S
11 Y1
842(3)S
11 C
(mkdir\(start,)804 897 A
(path,)335 1768 A
(colnames\))603 2170 A
2742 V
(capset)402 708 A
(*start;)469 1177 A
2882 V
(char)268 708 A
(*path;)402 1043 A
3022 V
(char)268 708 A
(**colnames;)737 1043 A
3362 V
12 B
708(Description)S
3538 V
12 R
708(This)S
989(function)S
1458(creates)S
1862(a)S
1982(soap)S
2269(directory.)S
2833(It)S
2974(is)S
3121(merely)S
3525(a)S
(convenience,)634 3646 A
4347(replacing)S
4865(calls)S
5155(to)S
3678 V
12 I
708(sp)S
12 Y1
815(3)S
12 I
875(traverse)S
12 R
1282(,)S
12 I
1342(sp)S
12 Y1
1449(3)S
12 I
1509(create)S
12 R
1822(,)S
12 I
1882(sp)S
12 Y1
1989(3)S
12 I
2049(mask)S
12 R
2308(,)S
12 I
2368(sp)S
12 Y1
2475(3)S
12 I
(append)354 2535 A
12 R
2929(and)S
3133(some)S
3418(error)S
3685(checking.)S
3854 V
708(The)S
952(arguments)S
12 I
1512(start)S
12 R
1800(and)S
12 I
2030(path)S
12 R
2310(together)S
2763(specify)S
3169(the)S
3373(name)S
3691(of)S
3848(the)S
4052(directory)S
4546(to)S
4697(be)S
4868(created.)S
3994 V
708(Normally,)S
12 I
1258(start)S
12 R
1545(is)S
12 C
1681(SP)S
12 Y1
1827(3)S
12 C
(DEFAULT)511 1887 A
12 R
2453(and)S
12 I
2681(path)S
12 R
2959(is)S
3094(the)S
3296(absolute)S
3753(or)S
3908(relative)S
4327(path)S
4589(name)S
4905(for)S
5101(the)S
4134 V
708(directory)S
1176(to)S
1300(be)S
1444(created.)S
1886(If)S
12 I
1999(start)S
12 R
2262(is)S
2374(not)S
12 C
2559(SP)S
12 Y1
2705(3)S
12 C
(DEFAULT)511 2765 A
12 R
3276(,)S
12 I
3337(path)S
12 R
3592(specifies)S
4048(the)S
4227(path)S
4466(name)S
4759(relative)S
5155(to)S
4274 V
708(the)S
886(directory)S
1354(specified)S
1822(by)S
1972(the)S
(capability-set)654 2150 A
12 I
2834(start.)S
4450 V
12 R
708(The)S
949(argument)S
12 I
1459(colnames)S
12 R
1979(specifies)S
2457(the)S
2658(number)S
3080(of)S
3234(columns)S
3696(of)S
3850(the)S
4051(new)S
4306(directory)S
4798(and)S
5026(their)S
4590 V
708(names.)S
1127(It)S
(should)321 1252 A
1623(be)S
1787(a)S
1891(NULL-pointer)S
2649(or)S
2800(a)S
2904(pointer)S
3297(to)S
3441(a)S
3544(NULL-terminated)S
4477(array)S
4776(of)S
4926(strings)S
4730 V
708(giving)S
1050(the)S
1232(column)S
1628(names.)S
2031(If)S
2147(it)S
2249(is)S
2364(a)S
2452(NULL-pointer,)S
3224(the)S
3406(new)S
3642(directory)S
4115(has)S
4311(three)S
4589(columns)S
5033(with)S
4870 V
708(names)S
12 I
1060(owner)S
12 R
1371(,)S
12 I
(group)287 1443 A
12 R
1782(and)S
12 I
1998(other)S
12 R
2263(.)S
2365(A)S
2495(directory)S
2975(can)S
3185(have)S
3455(at)S
3585(most)S
12 C
3862(SP)S
12 Y1
4008(3)S
12 C
(MAXCOLUMNS)730 4068 A
12 R
4840(columns)S
5010 V
708(\(this)S
954(is)S
1065(typically)S
1519(4\).)S
5186 V
708(The)S
974(directory)S
1490(is)S
1650(appended)S
2191(to)S
2364(its)S
2558(parent)S
2940(directory)S
3457(with)S
3752(column)S
4193(masks)S
4574(computed)S
5129(by)S
5326 V
12 I
708(sp)S
12 Y1
815(3)S
12 I
875(mask)S
12 R
1134(\(L\).)S
5642 V
12 I
(Diagnostics)578 708 A
5818 V
12 R
708(Error)S
1002(returns)S
1376(are)S
1562(those)S
1854(returned)S
2296(by)S
2454(the)S
2640(Soap)S
2919(routines)S
3347(called.)S
3735(In)S
3874(particular,)S
12 I
4408(path)S
12 R
4670(must)S
4943(not)S
5135(be)S
5958 V
708(empty,)S
1092(and)S
1318(its)S
1485(last)S
(component)536 1706 A
2294(must)S
2581(be)S
2746(a)S
(non-existent)598 2851 A
3500(entry)S
3800(in)S
3945(an)S
4110(existing)S
4544(directory)S
5033(with)S
6098 V
708(create)S
1029(and)S
1233(append)S
1611(rights.)S
1977(If)S
2089(an)S
2233(error)S
2500(occurs,)S
2876(all)S
3028(resources)S
3516(allocated)S
3984(by)S
4134(the)S
4312(call)S
4518(are)S
4697(released.)S
6414 V
12 I
708(Environment)S
1363(Variables)S
6590 V
12 C
(SPMASK)438 708 A
12 R
1176(as)S
1307(used)S
1558(by)S
12 I
1708(sp)S
12 Y1
1815(3)S
12 I
1875(mask)S
12 R
2134(\(L\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(377)180 5069 A
7920 V
EP
%%Page: 378 384
BP
/slant 0 def
/height 0 def
500 V
12 R
708(sp)S
12 Y1
815(3)S
12 R
875(mkdir)S
1184(\(L\))S
2567(Library)S
2961(Routines)S
4617(sp)S
12 Y1
4724(3)S
12 R
4784(mkdir)S
5093(\(L\))S
860 V
12 B
708(Example)S
1036 V
12 R
708(The)S
926(following)S
1427(is)S
1538(the)S
1716(source)S
2062(to)S
2186(the)S
(utility)290 2364 A
12 I
2684(mkd)S
12 R
2896(.)S
2986(It)S
3091(creates)S
3459(directories)S
4002(named)S
4354(by)S
4504(its)S
4649(arguments.)S
1236 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
1376 V
(#include)536 708 A
("cmdreg.h")670 1311 A
1516 V
(#include)536 708 A
("stderr.h")670 1311 A
1656 V
(#include)536 708 A
("capset.h")670 1311 A
1796 V
(#include)536 708 A
("soap/soap.h")871 1311 A
2076 V
(#include)536 708 A
("stdio.h")603 1311 A
2356 V
(main\(argc,)670 708 A
(argv\))335 1445 A
2496 V
(int)201 708 A
(argc;)335 976 A
2636 V
(char)268 708 A
(**argv;)469 1043 A
2776 V
708({)S
2916 V
(char)268 976 A
(*err)268 1311 A
11 Y1
1579(3)S
11 C
(why\(\);)402 1634 A
3196 V
(int)201 976 A
1244(i;)S
3336 V
(int)201 976 A
(err;)268 1244 A
3476 V
(int)201 976 A
(sts;)268 1244 A
3756 V
976(if)S
(\(argc)335 1177 A
1579(<)S
1713(2\))S
1914({)S
3896 V
(fprintf\(stderr,)1005 1244 A
("Usage:)469 2316 A
2852(%s)S
(name)268 3053 A
(...\\n",)469 3388 A
(argv[0]\);)603 3924 A
4036 V
(exit\(1\);)536 1244 A
4176 V
976(})S
4316 V
(sts)201 976 A
1244(=)S
1378(0;)S
4456 V
(for)201 976 A
1244(\(i)S
1445(=)S
1579(1;)S
1780(i)S
1914(<)S
(argc;)335 2048 A
(++i\))268 2450 A
2785({)S
4596 V
(err)201 1244 A
1512(=)S
1646(sp)S
11 Y1
1780(3)S
11 C
(mkdir\(SP)536 1835 A
11 Y1
2371(3)S
11 C
(DEFAULT,)536 2426 A
(argv[i],)536 3029 A
(\(char)335 3632 A
(**\)NULL\);)603 4034 A
4736 V
1244(if)S
(\(err)268 1445 A
1780(!=)S
(STD)201 1981 A
11 Y1
2182(3)S
11 C
(OK\))201 2237 A
2505({)S
4876 V
(fprintf\(stderr,)1005 1512 A
("%s:)268 2584 A
(can't)335 2919 A
(create)402 3321 A
3790(%s)S
(\(%s\)\\n",)536 3991 A
5016 V
(argv[0],)536 1780 A
(argv[i],)536 2383 A
(err)201 2986 A
11 Y1
3187(3)S
11 C
(why\(err\)\);)670 3242 A
5156 V
(sts)201 1512 A
1780(=)S
1914(1;)S
5296 V
1244(})S
5436 V
976(})S
5576 V
(exit\(sts\);)670 976 A
5716 V
708(})S
6056 V
12 B
708(See)S
913(Also)S
6232 V
12 R
708(soap\(L\),)S
1145(sp)S
12 Y1
1252(3)S
12 R
1312(mask\(L\).)S
7700 V
(378)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 379 385
BP
/slant 0 def
/height 0 def
500 V
12 R
708(std)S
869(\(L\))S
2567(Library)S
2961(Routines)S
4932(std)S
5093(\(L\))S
860 V
1745(\(in)S
1910(libraries:)S
2373(libamoeba.a,)S
3021(libkernel.a,)S
3596(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(std)S
12 R-1
879(-)S
12 R
(interface)426 1007 A
1463(for)S
1635(standard)S
2075(server)S
2402(commands)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("module/stdcmd.h")1139 1311 A
2322 V
(errstat)469 708 A
(std)201 1244 A
11 Y1
1445(3)S
11 C
(age\(cap\))536 1500 A
2462 V
(errstat)469 708 A
(std)201 1244 A
11 Y1
1445(3)S
11 C
(copy\(servercap,)1005 1500 A
(origcap,)536 2572 A
(newcap\))469 3175 A
2602 V
(errstat)469 708 A
(std)201 1244 A
11 Y1
1445(3)S
11 C
(destroy\(cap\))804 1500 A
2742 V
(errstat)469 708 A
(std)201 1244 A
11 Y1
1445(3)S
11 C
(getparams\(cap,)938 1500 A
(parambuf,)603 2505 A
(bufsz,)402 3175 A
(paramlen,)603 3644 A
(nparams\))536 4314 A
2882 V
(errstat)469 708 A
(std)201 1244 A
11 Y1
1445(3)S
11 C
(info\(cap,)603 1500 A
(infobuf,)536 2170 A
(bufsz,)402 2773 A
(len\))268 3242 A
3022 V
(errstat)469 708 A
(std)201 1244 A
11 Y1
1445(3)S
11 C
(restrict\(cap,)871 1500 A
(mask,)335 2438 A
(newcap\))469 2840 A
3162 V
(errstat)469 708 A
(std)201 1244 A
11 Y1
1445(3)S
11 C
(setparams\(cap,)938 1500 A
(parambuf,)603 2505 A
(bufsz,)402 3175 A
(nparams\))536 3644 A
3302 V
(errstat)469 708 A
(std)201 1244 A
11 Y1
1445(3)S
11 C
(status\(cap,)737 1500 A
(buf,)268 2304 A
2639(n,)S
(len\))268 2840 A
3442 V
(errstat)469 708 A
(std)201 1244 A
11 Y1
1445(3)S
11 C
(touch\(cap\))670 1500 A
3582 V
(errstat)469 708 A
(std)201 1244 A
11 Y1
1445(3)S
11 C
(ntouch\(svr)670 1500 A
11 Y1
2170(3)S
11 C
(port,)335 2225 A
2627(n,)S
(privbuf,)536 2828 A
(num)201 3431 A
11 Y1
3632(3)S
11 C
(done\))335 3687 A
3922 V
12 B
708(Description)S
4098 V
12 R
708(The)S
12 I
944(std)S
12 R
(module)362 1143 A
1553(provides)S
2018(the)S
(interface)426 2215 A
2690(to)S
2833(the)S
3030(standard)S
3489(commands)S
4061(which)S
4406(are)S
(supported)476 4604 A
5129(by)S
4238 V
708(nearly)S
1043(all)S
1197(servers.)S
1633(The)S
1852(purpose)S
2265(of)S
2397(these)S
2677(routines)S
3098(is)S
3210(to)S
3335(provide)S
3735(a)S
3820(standard)S
4261(way)S
4494(for)S
4667(programs)S
5155(to)S
4378 V
708(deal)S
958(with)S
1222(common)S
1692(aspects)S
2090(of)S
2239(servers.)S
2691(For)S
2907(precise)S
3300(details)S
(about)268 3666 A
3983(rights)S
4308(bits)S
4532(and)S
4755(whether)S
5195(a)S
4518 V
708(particular)S
1204(server)S
1531(handles)S
1930(a)S
2014(particular)S
12 I
2510(std)S
12 R
2691(call,)S
2927(consult)S
3306(the)S
3484(manual)S
3870(entry)S
4149(for)S
4321(the)S
4499(server.)S
4834 V
12 I
708(Errors)S
5010 V
12 R
708(The)S
937(value)S
1240(of)S
1382(all)S
1545(the)S
12 I
1734(std)S
12 R
1926(functions)S
2417(is)S
2539(the)S
2728(error)S
3006(status.)S
3383(All)S
3580(the)S
12 I
3769(std)S
12 R
3961(stubs)S
4251(return)S
4583(only)S
4839(standard)S
5150 V
708(error)S
976(codes)S
1282(\(as)S
1455(defined)S
1849(in)S
12 I
1974(stderr.h)S
12 R
2363(\).)S
2494(They)S
2772(all)S
2924(use)S
3115(transactions)S
3724(and)S
3928(therefore,)S
4427(in)S
(addition)396 4551 A
4977(to)S
5101(the)S
5290 V
708(errors)S
1022(described)S
1516(below,)S
1872(may)S
2110(all)S
2262(return)S
2582(the)S
2760(RPC)S
3017(error)S
3284(codes)S
3589(which)S
3915(relate)S
4216(to)S
4340(transaction)S
4902(errors.)S
5606 V
12 I
708(Warning)S
5782 V
12 R
708(Some)S
1041(older)S
1348(servers)S
1750(may)S
2016(return)S
12 C
(STD)219 2364 A
12 Y1
2583(3)S
12 C
(CAPBAD)438 2643 A
12 R
3139(instead)S
3541(of)S
12 C
(STD)219 3701 A
12 Y1
3920(3)S
12 C
(DENIED)438 3980 A
12 R
4477(when)S
4798(there)S
5100(are)S
5922 V
708(insufficient)S
1291(rights)S
1597(for)S
1769(an)S
1913(operation.)S
6238 V
12 I
708(std)S
12 Y1
849(3)S
12 I
909(age)S
6474 V
11 C
(errstat)469 1068 A
6614 V
(std)201 1068 A
11 Y1
1269(3)S
11 C
(age\(cap\))536 1324 A
6754 V
(capability)670 1068 A
(*cap;)335 1805 A
6954 V
12 I
708(Std)S
12 Y1
862(3)S
12 I
922(age)S
12 R
1142(is)S
1259(used)S
1516(to)S
1646(tell)S
1838(a)S
1928(server)S
2261(to)S
2392(perform)S
2820(a)S
2911(garbage)S
3331(collection)S
3846(cycle.)S
4199(The)S
4424(parameter)S
12 I
4947(cap)S
12 R
5168(is)S
7094 V
708(the)S
886(super)S
(capability)478 1178 A
1686(for)S
1858(the)S
2036(server.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(379)180 5069 A
7920 V
EP
%%Page: 380 386
BP
/slant 0 def
/height 0 def
500 V
12 R
708(std)S
869(\(L\))S
2567(Library)S
2961(Routines)S
4932(std)S
5093(\(L\))S
920 V
708(Required)S
1181(Rights:)S
1060 V
1062(All)S
1248(rights)S
1554(bits)S
1759(must)S
2024(be)S
2168(set)S
2333(in)S
12 I
2457(cap)S
12 R
2661(to)S
2785(perform)S
3206(the)S
3384(operation.)S
1356 V
708(Error)S
(Conditions:)563 995 A
1496 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(CAPBAD)438 1341 A
12 R
1779(:)S
1969(the)S
(capability)478 2147 A
2655(was)S
2874(invalid.)S
1636 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(DENIED)438 1341 A
12 R
1779(:)S
1969(insufficient)S
2552(rights.)S
2012 V
12 I
708(std)S
12 Y1
849(3)S
12 I
909(copy)S
2248 V
11 C
(errstat)469 1068 A
2388 V
(std)201 1068 A
11 Y1
1269(3)S
11 C
(copy\(server,)804 1324 A
(orig,)335 2195 A
(new\))268 2597 A
2528 V
(capability)670 1068 A
(*server;)536 1805 A
2668 V
(capability)670 1068 A
(*orig;)402 1805 A
2808 V
(capability)670 1068 A
(*new;)335 1805 A
3008 V
12 I
708(Std)S
12 Y1
862(3)S
12 I
922(copy)S
12 R
1190(requests)S
1617(the)S
1795(server)S
2122(specified)S
2590(by)S
12 I
2740(server)S
12 R
3083(to)S
3207(make)S
3499(a)S
(copy)234 3583 A
3847(of)S
3978(the)S
4156(object)S
4482(specified)S
4950(by)S
5101(the)S
3148 V
(capability)478 708 A
12 I
1224(orig)S
12 R
1473(and)S
1685(returns)S
2060(in)S
12 I
2192(new)S
12 R
2434(the)S
(capability)478 2620 A
3136(for)S
3316(the)S
3501(new)S
(copy)234 3740 A
4011(of)S
4149(the)S
4334(object.)S
4727(The)S
4952(server)S
3288 V
(should)321 708 A
1064(check)S
1381(that)S
1598(the)S
1782(type)S
2026(of)S
2163(object)S
2495(that)S
2713(it)S
2817(is)S
2934(being)S
3238(asked)S
3549(to)S
(copy)234 3679 A
3949(is)S
4066(the)S
4250(type)S
4494(of)S
4631(object)S
4963(that)S
5181(it)S
3428 V
708(manages.)S
1259(Servers)S
1691(that)S
1941(manage)S
(physical)403 2385 A
2856(objects)S
3267(\(such)S
3596(as)S
3764(disks\))S
4120(may)S
4395(not)S
4616(perform)S
5074(this)S
3568 V
708(command.)S
3804 V
708(Required)S
1181(Rights:)S
3944 V
1062(The)S
12 I
1315(server)S
12 R
(capability)478 1683 A
2226(must)S
2526(have)S
2819(the)S
3032(server's)S
3482(create)S
3838(right)S
4132(\(if)S
4313(any\))S
4594(and)S
4834(the)S
12 I
5048(orig)S
4084 V
12 R
(capability)478 1062 A
1570(must)S
1835(give)S
2073(read)S
2312(permission.)S
4380 V
708(Error)S
(Conditions:)563 995 A
4520 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(CAPBAD)438 1341 A
12 R
1779(:)S
1969(the)S
12 I
2147(server)S
12 R
(capability)478 2480 A
2988(or)S
12 I
3119(orig)S
12 R
(capability)478 3350 A
3858(was)S
4077(invalid.)S
4660 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(DENIED)438 1341 A
12 R
1779(:)S
1969(the)S
2147(create)S
2468(right)S
2727(was)S
2946(not)S
3130(defined)S
3523(in)S
12 I
3647(server)S
12 R
(capability,)508 3980 A
4800 V
1969(the)S
2147(read)S
2386(right)S
2645(was)S
2864(not)S
3048(defined)S
3441(in)S
3565(the)S
12 I
3743(orig)S
12 R
(capability.)508 3974 A
4940 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(COMBAD)438 1341 A
12 R
1779(:)S
1969(the)S
2147(server)S
2474(specified)S
2942(by)S
12 I
3092(server)S
12 R
3425(does)S
3676(not)S
3860(perform)S
5080 V
1969(the)S
(copy)234 2147 A
2411(operation.)S
5456 V
12 I
708(std)S
12 Y1
849(3)S
12 I
909(destroy)S
5692 V
11 C
(errstat)469 1068 A
5832 V
(std)201 1068 A
11 Y1
1269(3)S
11 C
(destroy\(cap\))804 1324 A
5972 V
(capability)670 1068 A
(*cap;)335 1805 A
6172 V
12 I
708(Std)S
12 Y1
862(3)S
12 I
922(destroy)S
12 R
1318(requests)S
1745(the)S
1923(server)S
2250(to)S
2374(destroy)S
2760(the)S
2938(object)S
3264(specified)S
3732(by)S
12 I
3882(cap)S
12 R
4066(.)S
6408 V
708(Required)S
1181(Rights:)S
6548 V
1062(Write)S
1369(and/or)S
1708(destroy)S
2094(rights.)S
6844 V
708(Error)S
(Conditions:)563 995 A
6984 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(CAPBAD)438 1341 A
12 R
1779(:)S
1969(invalid)S
(capability.)508 2335 A
7124 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(DENIED)438 1341 A
12 R
1779(:)S
1969(insufficient)S
2552(rights.)S
7700 V
(380)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 381 387
BP
/slant 0 def
/height 0 def
500 V
12 R
708(std)S
869(\(L\))S
2567(Library)S
2961(Routines)S
4932(std)S
5093(\(L\))S
860 V
12 I
708(std)S
12 Y1
849(3)S
12 I
909(getparams)S
1096 V
11 C
(errstat)469 1068 A
1236 V
(std)201 1068 A
11 Y1
1269(3)S
11 C
(getparams\(cap,)938 1324 A
(parambuf,)603 2329 A
(bufsz,)402 2999 A
(paramlen,)603 3468 A
(nparams\))536 4138 A
1376 V
(capability)670 1068 A
(*cap;)335 1805 A
1516 V
(char)268 1068 A
(*parambuf;)670 1805 A
1656 V
(int)201 1068 A
(bufsz;)402 1872 A
1796 V
(int)201 1068 A
(*paramlen;)670 1805 A
1936 V
(int)201 1068 A
(*nparams;)603 1805 A
2136 V
12 I
708(Std)S
12 Y1
862(3)S
12 I
922(getparams)S
12 R
1485(requests)S
1925(from)S
2204(the)S
2395(server)S
2736(a)S
2834(description)S
3416(of)S
3561(the)S
3753(runtime)S
4174(parameters)S
4751(associated)S
2276 V
708(with)S
975(the)S
1174(object)S
1521(specified)S
2009(by)S
2179(the)S
(capability)478 2377 A
12 I
2905(cap)S
12 R
3089(.)S
3199(The)S
3437(description)S
4025(is)S
4156(returned)S
4610(in)S
4754(the)S
4952(buffer)S
2416 V
12 I
708(parambuf)S
12 R
1219(which)S
1547(is)S
12 I
1660(bufsz)S
12 R
1950(bytes)S
(long.)244 2237 A
2543(The)S
2763(size)S
2985(of)S
3119(the)S
3300(buffer)S
3630(returned)S
4067(by)S
4220(the)S
4401(server)S
4731(is)S
4845(returned)S
2556 V
708(in)S
12 I
844(paramlen)S
12 R
1317(;)S
1393(the)S
1583(number)S
1994(of)S
2137(parameters)S
2712(is)S
2835(returned)S
3280(in)S
12 I
(nparams)422 3415 A
12 R
3847(.)S
3948(The)S
4177(output)S
4526(parameters)S
5100(are)S
2696 V
708(only)S
989(valid)S
1298(when)S
12 C
(STD)219 1627 A
12 Y1
1846(3)S
12 C
1906(OK)S
12 R
2119(is)S
2268(returned.)S
2800(For)S
(each)222 3036 A
3326(parameter)S
3880(there)S
4191(are)S
4408(four)S
4678(consecutive)S
2836 V
708(\(NULL-terminated\))S
1723(strings)S
2095(in)S
2238(the)S
2435(buffer:)S
2815(its)S
12 I
2979(name)S
12 R
3251(,)S
3329(its)S
12 I
3492(type)S
12 R
3704(,)S
3782(a)S
3884(short)S
12 I
4174(description)S
12 R
(telling)310 4776 A
5134(its)S
2976 V
708(meaning,)S
1206(and)S
1432(finally)S
1801(its)S
1968(current)S
12 I
2364(value)S
12 R
2636(.)S
2748(Note)S
3036(that)S
(non-string)497 3270 A
3819(values,)S
4210(such)S
4484(as)S
4638(integers)S
5075(and)S
3116 V
(booleans,)459 708 A
(will)190 1197 A
1417(have)S
1675(to)S
1799(be)S
(converted)477 1943 A
2450(to)S
2574(strings)S
2927(by)S
3077(the)S
3255(server)S
3582(itself.)S
3352 V
708(Required)S
1181(Rights:)S
3492 V
1062(It)S
1181(is)S
1306(up)S
1470(to)S
1608(the)S
1800(server)S
2141(to)S
2279(decide)S
2639(which)S
2979(rights)S
3299(it)S
3411(requires)S
3846(in)S
3984(order)S
4284(to)S
4422(reveal)S
4763(parameter)S
3632 V
(settings)370 1062 A
1470(for)S
1650(an)S
1802(object.)S
2196(Note)S
2470(also)S
2703(that)S
2923(the)S
3109(server)S
3444(may)S
3690(have)S
3956(both)S
4207(per-object)S
4736(and)S
4947(global)S
3772 V
1062(parameters.)S
1705(The)S
1943(latter)S
(should)321 2244 A
2615(be)S
2779(retrieved)S
3261(from)S
3548(the)S
3747(server)S
4095(by)S
4266(presenting)S
4821(its)S
4987(super)S
3912 V
(capability.)508 1062 A
4208 V
708(Error)S
(Conditions:)563 995 A
4348 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(CAPBAD)438 1341 A
12 R
1779(:)S
1969(invalid)S
(capability.)508 2335 A
4488 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(DENIED)438 1341 A
12 R
1779(:)S
1969(insufficient)S
2552(rights.)S
4864 V
12 I
708(std)S
12 Y1
849(3)S
12 I
909(info)S
5100 V
11 C
(errstat)469 1068 A
5240 V
(std)201 1068 A
11 Y1
1269(3)S
11 C
(info\(cap,)603 1324 A
(info,)335 1994 A
2396(n,)S
(len\))268 2597 A
5380 V
(capability)670 1068 A
(*cap;)335 1805 A
5520 V
(char)268 1068 A
(*info;)402 1805 A
5660 V
(int)201 1068 A
1805(n;)S
5800 V
(int)201 1068 A
(*len;)335 1805 A
6000 V
12 I
708(Std)S
12 Y1
862(3)S
12 I
922(info)S
12 R
1187(requests)S
1651(from)S
1954(the)S
2169(server)S
2534(for)S
2744(\(short\))S
3136(character)S
3650(array)S
3968(that)S
4218(describes)S
4737(the)S
4953(object)S
6140 V
708(specified)S
1192(by)S
1358(the)S
(capability)478 1552 A
12 I
2076(cap)S
12 R
2260(.)S
2366(The)S
2599(string)S
2920(is)S
3046(returned)S
3495(in)S
3634(the)S
3827(buffer)S
12 I
4169(info)S
12 R
4412(which)S
4753(is)S
12 I
4879(n)S
12 R
4994(bytes)S
6280 V
(long.)244 708 A
1014(The)S
1234(size)S
1455(of)S
1588(the)S
1768(buffer)S
2097(returned)S
2533(by)S
2685(the)S
2865(server)S
3194(is)S
3307(returned)S
3743(in)S
12 I
3869(*len)S
12 R
4087(.)S
4180(If)S
4295(the)S
4476(function)S
4912(returns)S
6420 V
12 C
(STD)219 708 A
12 Y1
927(3)S
12 C
987(OK)S
12 R
1171(then)S
1417(the)S
1603(value)S
1903(returned)S
2345(in)S
12 I
2477(*len)S
12 R
(will)190 2733 A
2961(be)S
3113(less)S
3333(than)S
3579(or)S
3717(equal)S
4016(to)S
12 I
4147(n)S
12 R
4254(and)S
12 I
4465(buf)S
12 R
(will)190 4666 A
4893(contain)S
6560 V
708(the)S
886(complete)S
1360(status)S
1666(message.)S
6736 V
708(If)S
829(the)S
1016(buffer)S
1352(provided)S
1821(was)S
2050(too)S
2244(small)S
2547(to)S
2681(contain)S
3077(the)S
3265(data,)S
3537(the)S
3725(error)S
12 C
(STD)219 4002 A
12 Y1
4221(3)S
12 C
(OVERFLOW)584 4281 A
12 R
(will)190 4905 A
5135(be)S
6876 V
708(returned)S
(along)268 1152 A
1460(with)S
1716(the)S
1904(first)S
12 I
2141(n)S
12 R
2251(bytes)S
2546(of)S
2687(the)S
2874(information.)S
3545(The)S
3772(value)S
4073(returned)S
4516(in)S
12 I
4649(*len)S
12 R
(will)190 4906 A
5135(be)S
7016 V
708(the)S
886(size)S
1105(the)S
1283(buffer)S
1610(needs)S
1915(to)S
2039(be)S
2183(to)S
2307(contain)S
2693(all)S
2845(the)S
3023(data.)S
7192 V
708(If)S
820(any)S
1024(other)S
1303(error)S
1570(is)S
1681(returned)S
2115(then)S
2353(the)S
2531(value)S
2823(of)S
12 I
2954(*len)S
12 R
(will)190 3202 A
3422(not)S
3606(be)S
3750(modified.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(381)180 5069 A
7920 V
EP
%%Page: 382 388
BP
/slant 0 def
/height 0 def
500 V
12 R
708(std)S
869(\(L\))S
2567(Library)S
2961(Routines)S
4932(std)S
5093(\(L\))S
920 V
708(Required)S
1181(Rights:)S
1060 V
1062(The)S
1280(object's)S
1694(read)S
1933(right.)S
1356 V
708(Error)S
(Conditions:)563 995 A
1496 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(CAPBAD)438 1341 A
12 R
1779(:)S
1969(invalid)S
(capability.)508 2335 A
1636 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(DENIED)438 1341 A
12 R
1779(:)S
1969(insufficient)S
2552(rights.)S
1776 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(OVERFLOW)584 1341 A
12 R
1925(:)S
1969(the)S
2147(info)S
2372(buffer)S
2699(was)S
2918(too)S
3102(small.)S
2152 V
12 I
708(std)S
12 Y1
849(3)S
12 I
909(restrict)S
2388 V
11 C
(errstat)469 1068 A
2528 V
(std)201 1068 A
11 Y1
1269(3)S
11 C
(restrict\(cap,)871 1324 A
(mask,)335 2262 A
(new\))268 2664 A
2668 V
(capability)670 1068 A
(*cap;)335 1872 A
2808 V
(rights)402 1068 A
11 Y1
1470(3)S
11 C
(bits)268 1525 A
(mask;)335 1860 A
2948 V
(capability)670 1068 A
(*new;)335 1872 A
3148 V
12 I
708(Std)S
12 Y1
862(3)S
12 I
922(restrict)S
12 R
1317(requests)S
1748(the)S
1930(server)S
2261(managing)S
2771(the)S
2953(object)S
3283(specified)S
3755(by)S
12 I
3910(cap)S
12 R
4129(to)S
(produce)389 4258 A
4682(a)S
(capability)478 4771 A
3288 V
708(with)S
954(the)S
1132(rights)S
1438(removed)S
1891(that)S
2103(are)S
2282(not)S
2466(set)S
2631(in)S
12 I
2755(mask.)S
12 R
3074(The)S
3292(new)S
(capability)478 3524 A
4032(is)S
4143(returned)S
4577(in)S
12 I
4701(new)S
12 R
4905(.)S
3464 V
708(It)S
(should)321 824 A
1186(be)S
1341(noted)S
1650(that)S
12 I
1873(std)S
12 Y1
2014(3)S
12 I
2074(restrict)S
12 R
2476(does)S
2738(not)S
2934(do)S
3096(a)S
3192(transaction)S
3766(with)S
4024(the)S
4214(server)S
4553(and)S
4769(verify)S
5101(the)S
3604 V
(capability)478 708 A
1218(if)S
1325(all)S
1479(the)S
1659(rights)S
1967(are)S
2148(present)S
2530(in)S
2656(the)S
(capability.)508 2836 A
3406(This)S
3652(means)S
3992(that)S
4205(it)S
4304(can)S
4503(return)S
12 C
(STD)219 4824 A
12 Y1
5043(3)S
12 C
5103(OK)S
3744 V
12 R
708(and)S
924(a)S
1020(restricted)S
(capability)478 1515 A
2036(even)S
2307(when)S
2612(the)S
2803(original)S
(capability)478 3223 A
3744(had)S
3961(an)S
4118(invalid)S
4497(check)S
4822(field.)S
5148(In)S
3884 V
708(this)S
913(case)S
1152(the)S
1330(restricted)S
(capability)478 1813 A
(will)190 2321 A
2541(also)S
2766(be)S
2910(invalid.)S
4120 V
708(Required)S
1181(Rights:)S
4260 V
1062(None.)S
4556 V
708(Error)S
(Conditions:)563 995 A
4696 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(CAPBAD)438 1341 A
12 R
1779(:)S
1969(invalid)S
(capability.)508 2335 A
5072 V
12 I
708(std)S
12 Y1
849(3)S
12 I
909(setparams)S
5308 V
11 C
(errstat)469 1068 A
5448 V
(std)201 1068 A
11 Y1
1269(3)S
11 C
(setparams\(cap,)938 1324 A
(parambuf,)603 2329 A
(paramlen,)603 2999 A
(nparams\))536 3669 A
5588 V
(capability)670 1068 A
(*cap;)335 1805 A
5728 V
(char)268 1068 A
(*parambuf;)670 1805 A
5868 V
(int)201 1068 A
(bufsz;)402 1872 A
6008 V
(int)201 1068 A
(nparams;)536 1872 A
6208 V
12 I
708(Std)S
12 Y1
862(3)S
12 I
922(setparams)S
12 R
1461(is)S
1574(used)S
1828(to)S
1955(set)S
2123(a)S
2210(number)S
2612(of)S
2746(the)S
2927(server's)S
3345(runtime)S
3755(parameters)S
4321(associated)S
4852(with)S
5101(the)S
6348 V
708(object)S
1055(specified)S
1544(by)S
(capability)478 1715 A
12 I
2244(cap)S
12 R
2428(.)S
2539(The)S
2777(requested)S
3291(parameter)S
3827(assignments)S
4468(are)S
4667(specified)S
5155(in)S
6488 V
12 I
708(parambuf)S
12 R
1225(which)S
1559(is)S
12 I
1678(bufsz)S
12 R
1975(bytes)S
(long.)244 2269 A
2582(The)S
2809(number)S
3217(of)S
3357(parameter)S
3882(assignments)S
4512(in)S
4645(the)S
4832(buffer)S
5168(is)S
6628 V
708(specified)S
1188(by)S
12 I
(nparams)422 1350 A
12 R
1782(.)S
1884(For)S
(each)222 2094 A
2358(assignment,)S
2974(there)S
3258(are)S
3448(two)S
3671(consecutive)S
4283(\(NULL-terminated\))S
6768 V
708(strings)S
1069(in)S
1201(the)S
1387(buffer:)S
1756(the)S
1942(parameter's)S
12 I
2554(name)S
12 R
2826(,)S
2894(and)S
3106(its)S
3259(new)S
12 I
3499(value)S
12 R
3771(.)S
3869(Note)S
4143(that)S
4363(the)S
4549(server)S
4885(itself)S
5168(is)S
6908 V
(responsible)551 708 A
1324(for)S
(converting)517 1531 A
2113(a)S
(supplied)409 2231 A
2704(string)S
3044(value)S
3370(to)S
3528(integer,)S
3959(when)S
4285(a)S
4403(parameter's)S
5041(type)S
7048 V
708(requires)S
1129(this.)S
7700 V
(382)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 383 389
BP
/slant 0 def
/height 0 def
500 V
12 R
708(std)S
869(\(L\))S
2567(Library)S
2961(Routines)S
4932(std)S
5093(\(L\))S
920 V
708(Required)S
1181(Rights:)S
1060 V
1062(It)S
1184(is)S
1312(up)S
1479(to)S
1620(the)S
1815(server)S
2159(to)S
2300(decide)S
2664(which)S
3008(rights)S
3332(it)S
3448(requires)S
3887(for)S
4077(changing)S
4567(the)S
4763(parameter)S
1200 V
(settings)370 1062 A
1473(of)S
1615(an)S
1770(object.)S
2167(Note)S
2444(also)S
2680(that)S
2903(the)S
3092(server)S
3430(may)S
3679(have)S
3947(both)S
4201(per-object)S
4733(and)S
4947(global)S
1340 V
1062(parameters.)S
1685(The)S
1903(latter)S
(should)321 2184 A
2535(be)S
2679(changed)S
3111(by)S
3261(means)S
3600(of)S
3731(the)S
3909(server's)S
4324(super)S
(capability.)508 4616 A
1636 V
708(Error)S
(Conditions:)563 995 A
1776 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(CAPBAD)438 1341 A
12 R
1779(:)S
1969(invalid)S
(capability.)508 2335 A
1916 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(DENIED)438 1341 A
12 R
1779(:)S
1969(insufficient)S
2552(rights.)S
2056 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(ARGBAD)438 1341 A
12 R
1779(:)S
1969(parameter)S
2485(value)S
2777(out)S
2961(of)S
3092(range,)S
2196 V
1969(or)S
2100(too)S
2284(many)S
2582(parameter)S
(settings.)400 3098 A
2572 V
12 I
708(std)S
12 Y1
849(3)S
12 I
909(status)S
2808 V
11 C
(errstat)469 1068 A
2948 V
(std)201 1068 A
11 Y1
1269(3)S
11 C
(status\(cap,)737 1324 A
(buf,)268 2128 A
2463(n,)S
(len\))268 2664 A
3088 V
(capability)670 1068 A
(*cap;)335 1805 A
3228 V
(char)268 1068 A
(*buf;)335 1805 A
3368 V
(int)201 1068 A
1805(n;)S
3508 V
(int)201 1068 A
(*len;)335 1805 A
3708 V
12 I
708(Std)S
12 Y1
862(3)S
12 I
922(status)S
12 R
1268(requests)S
1719(the)S
1921(server)S
2272(for)S
2468(a)S
2576(character)S
3077(array)S
3382(containing)S
3947(current)S
4346(status)S
4677(information)S
3848 V
(about)268 708 A
1009(the)S
1190(server)S
1520(specified)S
1991(by)S
2144(the)S
(capability)478 2325 A
12 I
2836(cap)S
12 R
3020(.)S
3113(The)S
3334(data)S
3569(is)S
3683(returned)S
4120(in)S
4247(the)S
4428(buffer)S
12 I
4757(buf)S
12 R
4953(which)S
3988 V
708(is)S
12 I
838(n)S
12 R
957(bytes)S
(long.)244 1261 A
1584(The)S
1821(size)S
2059(of)S
2209(the)S
2406(buffer)S
2752(returned)S
3205(by)S
3374(the)S
3571(server)S
3917(is)S
4047(returned)S
4500(in)S
12 I
4643(*len)S
12 R
4861(.)S
4970(If)S
5101(the)S
4128 V
708(function)S
1152(returns)S
12 C
(STD)219 1530 A
12 Y1
1749(3)S
12 C
1809(OK)S
12 R
1996(then)S
12 I
2245(*len)S
12 R
(will)190 2504 A
2735(be)S
2890(less)S
3113(than)S
3362(or)S
3504(equal)S
3807(to)S
12 I
3942(n)S
12 R
4053(and)S
12 I
4268(buf)S
12 R
(will)190 4473 A
4704(contain)S
5101(the)S
4268 V
708(complete)S
1182(status)S
1488(message.)S
4444 V
708(If)S
829(the)S
1016(buffer)S
1352(provided)S
1821(was)S
2050(too)S
2244(small)S
2547(to)S
2681(contain)S
3077(the)S
3265(data,)S
3537(the)S
3725(error)S
12 C
(STD)219 4002 A
12 Y1
4221(3)S
12 C
(OVERFLOW)584 4281 A
12 R
(will)190 4905 A
5135(be)S
4584 V
708(returned)S
(along)268 1148 A
1452(with)S
1704(the)S
1888(first)S
12 I
2121(n)S
12 R
2227(bytes)S
2518(of)S
2655(the)S
2839(status)S
3151(information.)S
3819(The)S
4043(value)S
4341(in)S
12 I
4471(*len)S
12 R
(will)190 4725 A
4951(be)S
5101(the)S
4724 V
708(size)S
927(the)S
1105(buffer)S
1432(needs)S
1737(to)S
1861(be)S
2005(to)S
2129(contain)S
2515(all)S
2667(the)S
2845(data.)S
4900 V
708(If)S
820(any)S
1024(other)S
1303(error)S
1570(is)S
1681(returned)S
2115(then)S
2353(the)S
2531(value)S
2823(in)S
12 I
2947(len)S
12 R
(will)190 3135 A
3355(not)S
3539(be)S
3683(modified.)S
5076 V
708(NB.)S
936(The)S
1154(character)S
1630(array)S
1910(is)S
2021(not)S
2205(NULL-terminated.)S
5312 V
708(Required)S
1181(Rights:)S
5452 V
1062(Some)S
1371(servers)S
1749(require)S
2127(more)S
2410(rights)S
2720(than)S
2962(others)S
3292(depending)S
3828(on)S
3982(the)S
(sensitivity)498 4165 A
4698(of)S
4834(the)S
5017(data.)S
5592 V
1062(Generally)S
1611(read)S
1890(permission)S
2491(is)S
2642(required,)S
3146(but)S
3369(some)S
3693(servers)S
4106(require)S
4519(that)S
4770(the)S
4987(super)S
5732 V
(capability)478 1062 A
1570(be)S
1714(presented.)S
6028 V
708(Error)S
(Conditions:)563 995 A
6168 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(CAPBAD)438 1341 A
12 R
1779(:)S
1969(invalid)S
(capability.)508 2335 A
6308 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(DENIED)438 1341 A
12 R
1779(:)S
1969(insufficient)S
2552(rights.)S
6448 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(OVERFLOW)584 1341 A
12 R
1925(:)S
(input)248 1969 A
2247(buffer)S
2574(was)S
2793(too)S
2977(small.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(383)180 5069 A
7920 V
EP
%%Page: 384 390
BP
/slant 0 def
/height 0 def
500 V
12 R
708(std)S
869(\(L\))S
2567(Library)S
2961(Routines)S
4932(std)S
5093(\(L\))S
860 V
12 I
708(std)S
12 Y1
849(3)S
12 I
909(touch)S
1096 V
11 C
(errstat)469 1068 A
1236 V
(std)201 1068 A
11 Y1
1269(3)S
11 C
(touch\(cap\))670 1324 A
1376 V
(capability)670 1068 A
(*cap;)335 1805 A
1576 V
12 I
708(Std)S
12 Y1
862(3)S
12 I
922(touch)S
12 R
1230(is)S
1341(used)S
1592(to)S
1716(tell)S
1902(the)S
2080(server)S
2407(not)S
2591(to)S
2715(garbage)S
3128(collect)S
3482(the)S
3660(object)S
3986(specified)S
4454(by)S
12 I
4604(cap)S
12 R
4788(.)S
1812 V
708(Required)S
1181(Rights:)S
1952 V
1062(None.)S
2248 V
708(Error)S
(Conditions:)563 995 A
2388 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(CAPBAD)438 1341 A
12 R
1779(:)S
1969(invalid)S
(capability.)508 2335 A
2764 V
12 I
708(std)S
12 Y1
849(3)S
12 I
909(ntouch)S
3000 V
11 C
(errstat)469 1068 A
3140 V
(std)201 1068 A
11 Y1
1269(3)S
11 C
(ntouch\(svr)670 1324 A
11 Y1
1994(3)S
11 C
(port,)335 2049 A
2451(n,)S
(privbuf,)536 2652 A
(num)201 3255 A
11 Y1
3456(3)S
11 C
(done\))335 3511 A
3280 V
(port)268 1068 A
(*svr)268 1604 A
11 Y1
1872(3)S
11 C
(port;)335 1927 A
3420 V
(int)201 1068 A
1604(n;)S
3560 V
(private)469 1068 A
(*privbuf;)603 1604 A
3700 V
(int)201 1068 A
(*num)268 1604 A
11 Y1
1872(3)S
11 C
(done;)335 1927 A
3900 V
12 I
708(Std)S
12 Y1
862(3)S
12 I
922(ntouch)S
12 R
1293(is)S
1407(used)S
1661(to)S
1789(tell)S
1979(the)S
2161(server)S
2492(whose)S
2835(service)S
3213(port)S
3442(is)S
12 I
3557(svr)S
12 Y1
3705(3)S
12 I
3765(port)S
12 R
4010(not)S
4198(to)S
4326(garbage)S
4743(collect)S
5101(the)S
4040 V
12 I
708(n)S
12 R
813(objects)S
1191(specified)S
1664(by)S
1819(the)S
2002(private)S
2374(parts)S
2645(of)S
(capabilities)553 2781 A
3369(in)S
3498(the)S
3681(array)S
12 I
3966(privbuf)S
12 R
4325(.)S
4420(On)S
4603(completion)S
5181(it)S
4180 V
708(returns)S
1080(the)S
1263(number)S
1667(of)S
1803(objects)S
(successfully)592 2181 A
2808(touched)S
3225(in)S
12 I
3354(num)S
12 Y1
3562(3)S
12 I
(done)234 3622 A
12 R
3866(.)S
3961(There)S
4279(is)S
4396(no)S
(upper)275 4552 A
4863(limit)S
5129(on)S
4320 V
708(the)S
901(value)S
1208(of)S
12 I
1354(n)S
12 R
1424(,)S
1499(but)S
12 I
1698(std)S
12 Y1
1839(3)S
12 I
1899(ntouch)S
12 R
2282(may)S
2535(use)S
2741(more)S
3035(than)S
3288(one)S
3507(RPC)S
3778(to)S
3916(execute)S
4330(the)S
4522(touches)S
4935(if)S
12 I
5054(n)S
12 R
5168(is)S
4460 V
708(sufficiently)S
1312(large.)S
1666(The)S
1905(value)S
2218(of)S
2370(the)S
2569(function)S
3023(is)S
12 C
(STD)219 3155 A
12 Y1
3374(3)S
12 C
3434(OK)S
12 R
3631(if)S
3757(all)S
3930(the)S
4129(specified)S
4618(objects)S
5012(were)S
4600 V
(successfully)592 708 A
1332(touched.)S
1806(If)S
1920(any)S
2126(of)S
2259(the)S
(capabilities)553 2439 A
3024(presented)S
3520(were)S
3788(rejected)S
4204(by)S
4355(the)S
4534(server)S
4862(then)S
5101(the)S
4740 V
708(error)S
975(status)S
1281(of)S
1412(the)S
1590(last)S
1789(error)S
2056(generated)S
2557(is)S
2668(returned.)S
4976 V
708(Required)S
1181(Rights:)S
5116 V
1062(None.)S
5412 V
708(Error)S
(Conditions:)563 995 A
5552 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(ARGBAD)438 1341 A
12 R
1779(:)S
1969(n)S
2059(<=)S
2225(0.)S
5692 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(CAPBAD)438 1341 A
12 R
1779(:)S
1969(invalid)S
(capability.)508 2335 A
6032 V
12 B
708(See)S
913(Also)S
6208 V
12 R
708(std)S
12 Y1
849(3)S
12 R
909(age\(A\),)S
1375(std)S
12 Y1
1516(3)S
12 R
(copy\(U\),)434 1576 A
2108(std)S
12 Y1
2249(3)S
12 R
2309(destroy\(U\),)S
2964(std)S
12 Y1
3105(3)S
12 R
3165(info\(U\),)S
3659(std)S
12 Y1
3800(3)S
12 R
3860(params\(A\),)S
4509(std)S
12 Y1
4650(3)S
12 R
4710(restrict\(U\),)S
6348 V
708(std)S
12 Y1
849(3)S
12 R
909(status\(U\),)S
1415(std)S
12 Y1
1556(3)S
12 R
1616(touch\(U\).)S
7700 V
(384)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 385 391
BP
/slant 0 def
/height 0 def
500 V
12 R
(sun4m)321 708 A
12 Y1
1029(3)S
12 R
1089(timer)S
1366(\(L\))S
2567(Library)S
2961(Routines)S
(sun4m)321 4435 A
12 Y1
4756(3)S
12 R
4816(timer)S
5093(\(L\))S
860 V
2166(\(in)S
2331(libraries:)S
2794(libamoeba.a)S
3412(\(sparc\)\))S
1210 V
12 B
708(Name)S
1386 V
12 R
(sun4m)321 708 A
12 Y1
1029(3)S
12 R
1089(timer)S
12 R-1
1376(-)S
12 R
(microsecond)618 1504 A
2152(resolution)S
2666(timer)S
2953(on)S
3103(the)S
(sun4m)321 3281 A
3632(machines)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("machdep/dev/sun4m)1206 1311 A
11 Y1
2517(3)S
11 C
(timer.h")536 2572 A
2182 V
(errstat)469 708 A
(sun4m)335 1244 A
11 Y1
1579(3)S
11 C
(timer)335 1634 A
11 Y1
1969(3)S
11 C
(init\(hostname\))938 2024 A
2322 V
(long)268 708 A
(sun4m)335 1043 A
11 Y1
1378(3)S
11 C
(timer)335 1433 A
11 Y1
1768(3)S
11 C
(diff\(start,)737 1823 A
(stop\))335 2627 A
2462 V
(struct)402 708 A
(sun4m)335 1177 A
11 Y1
1512(3)S
11 C
(timer)335 1567 A
11 Y1
1902(3)S
11 C
(regs)268 1957 A
2292(*)S
(sun4m)335 2426 A
11 Y1
2761(3)S
11 C
(timer)335 2816 A
11 Y1
3151(3)S
11 C
(getptr\(\))536 3206 A
2602 V
(uint32)402 708 A
(sun4m)335 1177 A
11 Y1
1512(3)S
11 C
(timer)335 1567 A
11 Y1
1902(3)S
11 C
(micro\(\))469 1957 A
2942 V
12 B
708(Description)S
3118 V
12 R
708(The)S
957(timer)S
1276(resolution)S
1822(provided)S
2313(by)S
12 I
2495(sys)S
12 Y1
2643(3)S
12 I
(milli)224 2703 A
12 R
2937(\(L\))S
3155(varies)S
3507(from)S
(milliseconds)612 3805 A
4479(to)S
(deciseconds,)614 4635 A
3258 V
708(depending)S
1268(on)S
1446(the)S
1652(architecture)S
2284(on)S
2461(which)S
2814(it)S
2939(is)S
3077(executed.)S
3624(The)S
3869(SPARCstations)S
4678(of)S
4836(the)S
5041(type)S
3398 V
12 C
(sun4m)365 708 A
12 R
1109(provide)S
1514(a)S
(microsecond)618 1604 A
2258(resolution)S
2778(timer)S
3071(which)S
3403(can)S
3607(be)S
(accessed)424 3757 A
4217(by)S
4374(user)S
4613(programs.)S
5167(If)S
3538 V
708(the)S
904(timer)S
1209(is)S
1338(present)S
1735(on)S
1902(a)S
2003(host,)S
2281(its)S
(capability)478 2443 A
2968(is)S
(published)469 3096 A
(under)275 3612 A
3934(the)S
4129(name)S
12 I
4438(usertimer)S
12 R
4960(in)S
5101(the)S
3678 V
708(kernel)S
1044(directory)S
1515(of)S
1649(the)S
1830(host)S
2065(where)S
2396(it)S
2498(is)S
2613(available.)S
3145(Programs)S
(running)375 3643 A
4052(on)S
4206(that)S
4422(host)S
4657(can)S
4859(map)S
5101(the)S
3818 V
708(timer)S
995(into)S
1213(their)S
1466(address)S
(space,)299 1859 A
2188(thus)S
2419(avoiding)S
2871(the)S
3049(time)S
3295(delays)S
3634(due)S
3838(to)S
3962(system)S
4328(call)S
4534(overhead.)S
4134 V
12 I
(sun4m)315 708 A
12 Y1
1023(3)S
12 I
1083(timer)S
12 Y1
1340(3)S
12 I
1400(init)S
4370 V
11 C
(errstat)469 1068 A
4510 V
(sun4m)335 1068 A
11 Y1
1403(3)S
11 C
(timer)335 1458 A
11 Y1
1793(3)S
11 C
(init\(hostname\))938 1848 A
4650 V
(char)268 1068 A
1403(*)S
(hostname;)603 1537 A
4850 V
12 I
(Sun4m)328 708 A
12 Y1
1036(3)S
12 I
1096(timer)S
12 Y1
1353(3)S
12 I
1413(init)S
12 R
1626(attempts)S
2078(to)S
2213(map)S
2462(the)S
2651(user)S
2894(timer)S
(capability)478 3192 A
3711(from)S
3988(the)S
4177(kernel)S
(running)375 4522 A
4939(on)S
5101(the)S
4990 V
708(host)S
12 I
960(hostname)S
12 R
1484(into)S
1723(the)S
1922(address)S
(space)269 2336 A
2656(of)S
2808(the)S
3007(current)S
3402(process.)S
3875(It)S
4000(is)S
4131(mapped)S
4563(read/write.)S
5167(If)S
5130 V
12 I
708(hostname)S
12 R
1236(is)S
1372(the)S
1575(NULL-pointer)S
2338(then)S
2601(it)S
2724(uses)S
2987(the)S
3190(name)S
3507(in)S
3656(the)S
3859(string)S
4191(environment)S
4858(variable)S
5270 V
12 C
708(AX)S
12 Y1
854(3)S
12 C
(HOST)292 914 A
12 R
1206(.)S
1298(If)S
1412(this)S
1619(is)S
1732(not)S
1918(defined)S
2313(the)S
2493(error)S
12 C
(STD)219 2762 A
12 Y1
2981(3)S
12 C
(ARGBAD)438 3041 A
12 R
3511(is)S
3624(returned.)S
12 C
4120(AX)S
12 Y1
4266(3)S
12 C
(HOST)292 4326 A
12 R
4649(is)S
4761(defined)S
5155(in)S
5410 V
708(the)S
886(string)S
1192(environment)S
1833(by)S
1983(the)S
2161(programs)S
12 I
2648(ax)S
12 R
2772(\(U\))S
2972(and)S
12 I
3176(gax)S
12 R
3360(\(U\).)S
5586 V
708(The)S
954(process)S
1375(must)S
1668(be)S
(running)375 1840 A
2273(on)S
2451(the)S
2657(host)S
2916(with)S
3190(the)S
3396(specified)S
3892(name.)S
4272(Otherwise)S
4830(it)S
4956(is)S
5095(not)S
5726 V
708(possible)S
1135(to)S
1260(map)S
1499(in)S
1624(the)S
1803(segment.)S
2297(The)S
12 I
2516(usertimer)S
12 R
3022(can)S
3221(be)S
3366(mapped)S
3779(in)S
3904(by)S
(multiple)404 4055 A
4489(processes)S
4983(at)S
5101(the)S
5866 V
708(same)S
989(time.)S
1297(Therefore)S
1808(it)S
1908(advisable)S
2397(to)S
2523(let)S
2677(the)S
2857(timer)S
3146(run)S
3339(freely,)S
(though)334 3685 A
4051(it)S
4151(is)S
4264(possible)S
4692(to)S
4818(write)S
5101(the)S
6006 V
708(timer)S
995(registers,)S
1467(in)S
1591(principle.)S
6302 V
708(Error)S
(Conditions:)563 995 A
6442 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(ARGBAD)438 1341 A
12 R
1779(:)S
1969(No)S
2147(valid)S
2419(hostname)S
2912(specified.)S
6582 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(NOMEM)365 1341 A
12 R
1706(:)S
1969(no)S
2119(free)S
2339(virtual)S
2686(address)S
(space)269 3079 A
3378(to)S
3502(map)S
3740(in)S
3864(timer)S
4151(segment.)S
6722 V
1062(errors)S
1376(from)S
1642(host)S
12 Y1
1843(3)S
12 R
(lookup.)364 1903 A
6862 V
1062(errors)S
1376(from)S
1642(dir)S
12 Y1
1777(3)S
12 R
(lookup.)364 1837 A
7002 V
1062(errors)S
1376(from)S
1642(seg)S
12 Y1
1803(3)S
12 R
1863(map.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(385)180 5069 A
7920 V
EP
%%Page: 386 392
BP
/slant 0 def
/height 0 def
500 V
12 R
(sun4m)321 708 A
12 Y1
1029(3)S
12 R
1089(timer)S
1366(\(L\))S
2567(Library)S
2961(Routines)S
(sun4m)321 4435 A
12 Y1
4756(3)S
12 R
4816(timer)S
5093(\(L\))S
860 V
12 I
(sun4m)315 708 A
12 Y1
1023(3)S
12 I
1083(timer)S
12 Y1
1340(3)S
12 I
(diff)162 1400 A
1096 V
11 C
(long)268 1068 A
1236 V
(sun4m)335 1068 A
11 Y1
1403(3)S
11 C
(timer)335 1458 A
11 Y1
1793(3)S
11 C
(diff\(start,)737 1848 A
(stop\))335 2652 A
1376 V
(union)335 1068 A
(sun4m)335 1470 A
11 Y1
1805(3)S
11 C
(timer)335 1860 A
2262(*)S
(start;)402 2396 A
1516 V
(union)335 1068 A
(sun4m)335 1470 A
11 Y1
1805(3)S
11 C
(timer)335 1860 A
2262(*)S
(stop;)335 2396 A
1716 V
12 I
(Sun4m)328 708 A
12 Y1
1036(3)S
12 I
1096(timer)S
12 Y1
1353(3)S
12 I
(diff)162 1413 A
12 R
(converts)410 1615 A
2055(the)S
2233(time)S
2479(difference)S
12 C
(stop)292 3002 A
12 C-1
3304(-)S
12 C
(start)365 3387 A
12 R
3782(into)S
(microseconds.)695 4000 A
2012 V
708(Error)S
(Conditions:)563 995 A
2152 V
1062(None.)S
2528 V
12 I
(sun4m)315 708 A
12 Y1
1023(3)S
12 I
1083(timer)S
12 Y1
1340(3)S
12 I
1400(getptr)S
2764 V
11 C
(struct)402 1068 A
(sun4m)335 1537 A
11 Y1
1872(3)S
11 C
(timer)335 1927 A
11 Y1
2262(3)S
11 C
(regs)268 2317 A
2652(*)S
2904 V
(sun4m)335 1068 A
11 Y1
1403(3)S
11 C
(timer)335 1458 A
11 Y1
1793(3)S
11 C
(getptr\(\))536 1848 A
3104 V
12 I
(Sun4m)328 708 A
12 Y1
1036(3)S
12 I
1096(timer)S
12 Y1
1353(3)S
12 I
1413(getptr)S
12 R
1755(returns)S
2135(a)S
2232(pointer)S
2618(to)S
2756(the)S
2948(mapped-in)S
3509(timer)S
3810(registers.)S
4326(If)S
4452(the)S
4644(registers)S
5100(are)S
3244 V
708(not)S
892(mapped)S
1304(in)S
1428(it)S
1526(returns)S
1893(NULL.)S
3540 V
708(Error)S
(Conditions:)563 995 A
3680 V
1062(None.)S
4056 V
12 I
(sun4m)315 708 A
12 Y1
1023(3)S
12 I
1083(timer)S
12 Y1
1340(3)S
12 I
1400(micro)S
4292 V
11 C
(uint32)402 1068 A
4432 V
(sun4m)335 1068 A
11 Y1
1403(3)S
11 C
(timer)335 1458 A
11 Y1
1793(3)S
11 C
(micro\(\))469 1848 A
4632 V
12 I
(Sun4m)328 708 A
12 Y1
1036(3)S
12 I
1096(timer)S
12 Y1
1353(3)S
12 I
1413(micro)S
12 R
1736(reads)S
2022(the)S
2200(current)S
2574(timer)S
2861(and)S
3065(returns)S
3432(the)S
3610(time)S
3856(in)S
(microseconds.)695 3980 A
4928 V
708(Error)S
(Conditions:)563 995 A
5068 V
1062(If)S
1174(the)S
1352(timer)S
1639(registers)S
2081(are)S
2260(not)S
2444(mapped)S
2856(in,)S
(calling)330 3010 A
3370(this)S
3575(function)S
(will)190 4008 A
4228(cause)S
4527(an)S
4671(exception.)S
5444 V
12 I
708(Warnings)S
5620 V
12 R
708(If)S
822(more)S
1103(than)S
1343(one)S
1550(process)S
1946(maps)S
2234(in)S
2361(the)S
12 I
2542(usertimer)S
12 R
3050(and)S
3257(one)S
3464(or)S
3598(them)S
3873(modifies)S
4330(the)S
4511(behavior)S
4967(of)S
5101(the)S
5760 V
708(timer)S
995(then)S
1233(the)S
1411(other)S
(will)190 1690 A
1910(not)S
2094(obtain)S
2426(meaningful)S
3007(timing)S
3353(information.)S
6040 V
12 B
708(Example)S
6216 V
12 R
708(An)S
889(example)S
1332(of)S
1466(the)S
1647(use)S
1841(of)S
1975(these)S
2257(routines)S
2680(can)S
2881(be)S
(found)281 3028 A
3342(in)S
3469(the)S
12 I
3650(test)S
12 R
3863(suite)S
4126(for)S
4302(Amoeba,)S
4776(in)S
4904(the)S
5086(file)S
6356 V
12 I
(src/test/performance/cpu/timertest.c)1755 708 A
12 R
2473(.)S
6636 V
12 B
708(See)S
913(Also)S
6812 V
12 R
708(sys)S
12 Y1
862(3)S
12 R
(milli\(L\).)416 922 A
7700 V
(386)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 387 393
BP
/slant 0 def
/height 0 def
500 V
12 R
708(syssvr)S
1030(\(L\))S
2567(Library)S
2961(Routines)S
4771(syssvr)S
5093(\(L\))S
860 V
2033(\(in)S
2198(libraries:)S
2661(libamoeba.a,)S
3309(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(syssvr)S
12 R-1
1040(-)S
12 R
1168(the)S
1346(kernel)S
1679(systhread)S
2166(server)S
2493(client)S
(interface)426 2793 A
3249(stubs)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("cmdreg.h")670 1311 A
2182 V
(#include)536 708 A
("stderr.h")670 1311 A
2322 V
(#include)536 708 A
("server/systask/systask.h")1742 1311 A
2602 V
(errstat)469 708 A
(sys)201 1244 A
11 Y1
1445(3)S
11 C
(boot\(cap,)603 1500 A
(kernelcap,)670 2170 A
(commandline,)804 2907 A
(flags\))402 3778 A
2742 V
(errstat)469 708 A
(sys)201 1244 A
11 Y1
1445(3)S
11 C
(chgcap\(cap,)737 1500 A
(timeout,)536 2304 A
(chkfields\))670 2907 A
2882 V
(errstat)469 708 A
(sys)201 1244 A
11 Y1
1445(3)S
11 C
(kstat\(cap,)670 1500 A
(flag,)335 2237 A
(buf,)268 2639 A
(bufsz,)402 2974 A
(result\))469 3443 A
3022 V
(errstat)469 708 A
(sys)201 1244 A
11 Y1
1445(3)S
11 C
(printbuf\(cap,)871 1500 A
(buf,)268 2438 A
(bufsz,)402 2773 A
(offset,)469 3242 A
(num)201 3778 A
11 Y1
3979(3)S
11 C
(bytes\))402 4034 A
3362 V
12 B
708(Description)S
3538 V
12 R
708(These)S
1042(stubs)S
1336(provide)S
1751(a)S
1851(part)S
2086(of)S
2233(the)S
2427(programmer's)S
(interface)426 3160 A
3632(to)S
3772(the)S
12 I
3966(syssvr)S
12 R
4318(in)S
4458(the)S
4652(kernel.)S
5061(The)S
3678 V
12 I
708(syssvr)S
12 R
1067(also)S
(supports)409 1315 A
1777(certain)S
12 I
(soap)227 2161 A
12 R
2398(\(L\),)S
12 I
2637(bullet)S
12 R
2923(\(L\))S
3132(and)S
12 I
3358(std)S
12 R
3509(\(L\))S
3717(commands.)S
4352(See)S
12 I
4579(syssvr)S
12 R
4885(\(A\))S
5107(for)S
3818 V
708(more)S
987(details.)S
4134 V
12 I
708(Errors)S
4310 V
12 R
708(All)S
902(functions)S
1390(return)S
1719(the)S
1906(error)S
2182(status)S
2497(of)S
2637(the)S
2824(operation.)S
3380(They)S
3667(return)S
3996(only)S
4249(standard)S
4698(error)S
4974(codes)S
4450 V
708(\(see)S
12 I
947(stderr.h)S
12 R
1336(\).)S
1480(All)S
1679(the)S
1870(stubs)S
(involve)362 2161 A
2566(transactions)S
3188(and)S
3405(so)S
3555(in)S
(addition)396 3692 A
4131(to)S
4268(the)S
4459(errors)S
4785(described)S
4590 V
708(below,)S
1069(all)S
1226(stubs)S
1509(may)S
1752(return)S
2077(any)S
2286(of)S
2423(the)S
2607(standard)S
3053(RPC)S
3316(error)S
3589(codes.)S
3960(If)S
(illegal)304 4078 A
4418(parameters)S
4987(\(such)S
4730 V
708(as)S
852(NULL-pointers)S
1650(or)S
1794(negative)S
2247(buffer)S
2587(sizes\))S
2907(are)S
3099(given,)S
3439(exceptions)S
3998(may)S
4248(occur)S
4559(rather)S
4885(than)S
5135(an)S
4870 V
708(error)S
975(status)S
1281(being)S
1579(returned.)S
2073(The)S
2291(behavior)S
2744(is)S
2855(not)S
3039(well)S
3279(defined)S
(under)275 3672 A
3977(these)S
(conditions.)533 4256 A
5186 V
12 I
708(Functions)S
5502 V
708(sys)S
12 Y1
856(3)S
12 I
(boot)214 916 A
5738 V
11 C
(errstat)469 1068 A
5878 V
(sys)201 1068 A
11 Y1
1269(3)S
11 C
(boot\(cap,)603 1324 A
(kernelcap,)670 1994 A
(commandline,)804 2731 A
(flags\))402 3602 A
6018 V
(capability)670 1068 A
(*cap;)335 1805 A
6158 V
(capability)670 1068 A
(*kernelcap;)737 1805 A
6298 V
(char)268 1068 A
(*commandline;)871 1403 A
6438 V
(int)201 1068 A
(flags;)402 1336 A
6638 V
12 I
708(Sys)S
12 Y1
869(3)S
12 I
(boot)214 929 A
12 R
1207(requests)S
1658(that)S
1894(the)S
2096(kernel)S
2453(whose)S
12 I
2816(syssvr)S
12 R
3176(listens)S
3541(to)S
(capability)478 3690 A
12 I
4223(cap)S
12 R
(should)321 4462 A
4838(load)S
5101(the)S
6778 V
708(kernel)S
1047(binary)S
1391(specified)S
1864(by)S
12 I
2019(kernelcap)S
12 R
2541(and)S
2750(start)S
(running)375 2995 A
3405(it.)S
3568(The)S
3791(kernel)S
4129(is)S
4245(probably)S
4709(stored)S
5040(on)S
5195(a)S
6918 V
708(file)S
905(server.)S
1296(The)S
12 I
(commandline)652 1518 A
12 R
2214(and)S
12 I
2422(flags)S
12 R
(will)190 2701 A
2925(be)S
3073(passed)S
3429(to)S
3557(the)S
3739(new)S
3975(kernel)S
4313(in)S
4442(implementations)S
7058 V
708(where)S
1047(this)S
1264(is)S
1387(possible.)S
1885(This)S
2142(request)S
2534(has)S
2737(the)S
2926(effect)S
3245(of)S
3387(terminating)S
3987(all)S
4150(current)S
4535(activity)S
4940(on)S
5101(the)S
7198 V
708(host.)S
1000(In)S
1133(the)S
1313(future,)S
1665(one)S
1871(of)S
2004(the)S
2184(flags)S
2452(might)S
2766(be)S
2912(to)S
3038(migrate)S
3441(existing)S
3856(activity)S
4252(to)S
4378(other)S
4659(hosts)S
4939(before)S
7338 V
(rebooting.)493 708 A
7700 V
2683(Amoeba)S
3123(5.3)S
(387)180 5069 A
7920 V
EP
%%Page: 388 394
BP
/slant 0 def
/height 0 def
500 V
12 R
708(syssvr)S
1030(\(L\))S
2567(Library)S
2961(Routines)S
4771(syssvr)S
5093(\(L\))S
920 V
708(Required)S
1181(Rights:)S
1060 V
12 C
(SYS)219 1062 A
12 Y1
1281(3)S
12 C
(RGT)219 1341 A
12 Y1
1560(3)S
12 C
(BOOT)292 1620 A
1436 V
12 I
708(sys)S
12 Y1
856(3)S
12 I
916(chgcap)S
1672 V
11 C
(errstat)469 1068 A
1812 V
(sys)201 1068 A
11 Y1
1269(3)S
11 C
(chgcap\(cap,)737 1324 A
(timeout,)536 2128 A
(chkfields\))670 2731 A
1952 V
(capability)670 1068 A
(*cap;)335 1805 A
2092 V
(interval)536 1068 A
(timeout;)536 1671 A
2232 V
(port)268 1068 A
(chkfields[3];)871 1403 A
2432 V
12 I
708(Sys)S
12 Y1
869(3)S
12 I
929(chgcap)S
12 R
1320(requests)S
1750(that)S
1966(the)S
2148(kernel)S
2485(whose)S
12 I
2828(syssvr)S
12 R
3168(listens)S
3512(to)S
(capability)478 3640 A
12 I
4152(cap)S
12 R
(should)321 4370 A
4725(change)S
5101(the)S
2572 V
708(check)S
1021(fields)S
1322(of)S
1454(the)S
1632(kernel)S
1965(directory)S
2433(server,)S
2790(the)S
2968(syssvr)S
3300(and)S
3504(the)S
3682(process)S
4075(server)S
4402(to)S
4526(those)S
4811(specified)S
2712 V
708(in)S
862(the)S
1070(array)S
12 I
1380(chkfields)S
12 R
1821(.)S
1941(Unless)S
2332(changed)S
2795(by)S
2976(a)S
3091(subsequent)S
3688(call)S
3925(to)S
12 I
4080(sys)S
12 Y1
4228(3)S
12 I
4288(chgcap)S
12 R
4646(,)S
4737(the)S
4946(kernel)S
2852 V
708(directory)S
1212(server)S
(capability)478 1575 A
(will)190 2119 A
2375(revert)S
2725(to)S
2885(its)S
3066(default)S
3469(value)S
3797(after)S
12 I
4087(timeout)S
12 R
(seconds.)412 4527 A
5034(This)S
2992 V
708(function)S
1141(is)S
1252(used)S
1503(by)S
1653(the)S
1831(reservation)S
2400(system)S
2766(to)S
2890(reserve)S
3271(a)S
3355(kernel)S
3688(for)S
3860(exclusive)S
4347(use.)S
3168 V
708(Note)S
1002(that)S
1242(if)S
12 I
1375(chkfield)S
12 R
1769([0])S
1969(is)S
2108(NULL)S
2490(then)S
2757(the)S
2964(kernel)S
3326(directory)S
3823(server)S
(capability)478 4179 A
(will)190 4716 A
4965(revert)S
3308 V
708(immediately)S
1379(to)S
1538(its)S
1718(default)S
2120(value.)S
2507(This)S
2787(can)S
3020(be)S
3199(used)S
3485(to)S
(undo)240 3644 A
3949(the)S
4161(effects)S
4550(of)S
4715(a)S
4833(previous)S
3448 V
12 I
708(sys)S
12 Y1
856(3)S
12 I
916(chgcap)S
12 R
1304(before)S
1644(the)S
12 I
1822(timeout)S
12 R
2226(has)S
2417(expired.)S
3684 V
708(Required)S
1181(Rights:)S
3824 V
12 C
(SYS)219 1062 A
12 Y1
1281(3)S
12 C
(RGT)219 1341 A
12 Y1
1560(3)S
12 C
(ALL)219 1620 A
4200 V
12 I
708(sys)S
12 Y1
856(3)S
12 I
916(kstat)S
4436 V
11 C
(errstat)469 1068 A
4576 V
(sys)201 1068 A
11 Y1
1269(3)S
11 C
(kstat\(cap,)670 1324 A
(flag,)335 2061 A
(buf,)268 2463 A
(bufsz,)402 2798 A
(num)201 3267 A
11 Y1
3468(3)S
11 C
(bytes\))402 3523 A
4716 V
(capability)670 1068 A
(*cap;)335 1805 A
4856 V
(char)268 1068 A
(flag;)335 1403 A
4996 V
(char)268 1068 A
(*buf;)335 1403 A
5136 V
(bufsize)469 1068 A
(bufsz;)402 1604 A
5276 V
(int)201 1068 A
(*num)268 1336 A
11 Y1
1604(3)S
11 C
(bytes;)402 1659 A
5476 V
12 R
708(Each)S
981(Amoeba)S
1422(kernel)S
1756(provides)S
2203(a)S
2288(set)S
2455(of)S
2588(internal)S
2991(routines)S
3413(which)S
3741(print)S
4002(the)S
4182(current)S
4558(state)S
4813(of)S
4946(kernel)S
5616 V
708(data)S
951(as)S
1093(ascii)S
1357(strings)S
1721(into)S
1950(a)S
2045(buffer.)S
12 I
2443(Sys)S
12 Y1
2604(3)S
12 I
2664(kstat)S
12 R
2944(requests)S
3382(that)S
3605(the)S
3794(kernel)S
4138(print)S
4408(some)S
4704(kernel)S
5047(data)S
5756 V
708(selected)S
1130(by)S
12 I
1281(flag)S
12 R
1510(into)S
12 I
1729(buf)S
12 R
1925(\(whose)S
2307(size)S
2528(is)S
12 I
2641(bufsz\).)S
12 R
3002(The)S
3222(number)S
3623(of)S
3756(bytes)S
4043(of)S
4176(data)S
4410(returned)S
4846(in)S
12 I
4972(buf)S
12 R
5168(is)S
5896 V
708(returned)S
1142(in)S
12 I
1266(num)S
12 Y1
1474(3)S
12 I
1534(bytes)S
12 R
1793(.)S
6072 V
708(Since)S
1009(kernels)S
1392(may)S
1633(have)S
1894(different)S
2346(configurations)S
3078(there)S
3354(is)S
3468(a)S
3555(special)S
3925(flag,)S
12 I
4177(?)S
12 R
4280(which)S
(will)190 4609 A
4832(return)S
5155(in)S
6212 V
12 I
708(buf)S
12 R
903(a)S
988(list)S
1168(of)S
1299(flags)S
(supported)476 1565 A
2071(by)S
2221(the)S
2399(kernel)S
2732(and)S
2936(a)S
3020(short)S
3292(description)S
3860(of)S
(each.)252 3991 A
4303(With)S
4575(one)S
4779(exception)S
6352 V
708(this)S
913(set)S
1078(of)S
1209(flags)S
(corresponds)584 1475 A
2089(exactly)S
2469(to)S
2594(those)S
2880(commands)S
3434(that)S
3647(can)S
3846(be)S
3991(given)S
4290(at)S
4409(the)S
4588(console)S
4988(using)S
6492 V
708(the)S
12 I
894(home)S
12 R
1204(key)S
1416(\(CTRL)S
12 R-1
1765(-)S
12 Y1
1833(3)S
12 R
1893(\))S
1972(followed)S
2441(by)S
2598(the)S
2783(appropriate)S
3372(letter.)S
3720(The)S
12 I
3945(flag)S
4180(r)S
12 R
4274(is)S
4392(always)S
(illegal)304 4766 A
5107(for)S
6632 V
708(the)S
12 I
886(sys)S
12 Y1
1034(3)S
12 I
1094(kstat)S
12 R
1363(function.)S
6868 V
708(Required)S
1181(Rights:)S
7008 V
1062(These)S
1422(depend)S
1841(on)S
2032(the)S
(sensitivity)498 2251 A
2820(of)S
2993(the)S
3213(data)S
3487(or)S
3660(operation)S
4189(requested.)S
4785(Typically)S
7148 V
12 C
(SYS)219 1062 A
12 Y1
1281(3)S
12 C
(RGT)219 1341 A
12 Y1
1560(3)S
12 C
(READ)292 1620 A
12 R
1942(is)S
2053(a)S
2137(minimum.)S
7700 V
(388)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 389 395
BP
/slant 0 def
/height 0 def
500 V
12 R
708(syssvr)S
1030(\(L\))S
2567(Library)S
2961(Routines)S
4771(syssvr)S
5093(\(L\))S
920 V
708(Error)S
(Conditions:)563 995 A
1060 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(ARGBAD)438 1341 A
12 R
1969(an)S
2113(invalid)S
2479(flag)S
2698(was)S
2917(given.)S
1436 V
12 I
708(sys)S
12 Y1
856(3)S
12 I
916(printbuf)S
1672 V
11 C
(errstat)469 1068 A
1812 V
(sys)201 1068 A
11 Y1
1269(3)S
11 C
(printbuf\(cap,)871 1324 A
(buf,)268 2262 A
(bufsz,)402 2597 A
(offset,)469 3066 A
(num)201 3602 A
11 Y1
3803(3)S
11 C
(bytes\))402 3858 A
1952 V
(capability)670 1068 A
(*cap;)335 1805 A
2092 V
(char)268 1068 A
(*buf;)335 1403 A
2232 V
(bufsize)469 1068 A
(bufsz;)402 1604 A
2372 V
(int)201 1068 A
(*offset;)536 1336 A
2512 V
(int)201 1068 A
(*num)268 1336 A
11 Y1
1604(3)S
11 C
(bytes;)402 1659 A
2712 V
12 R
708(Each)S
990(Amoeba)S
1440(maintains)S
1951(a)S
(copy)234 2045 A
2319(of)S
2461(messages)S
2959(printed)S
3343(on)S
3504(its)S
3660(console)S
4070(which)S
4407(originated)S
4939(within)S
2852 V
708(the)S
909(kernel.)S
1325(This)S
1593(is)S
1727(kept)S
1988(in)S
2135(a)S
2242(circular)S
2667(buffer)S
3017(which)S
3366(is)S
3500(guaranteed)S
4084(to)S
4231(fit)S
4392(in)S
4538(one)S
4764(RPC)S
5043(call.)S
2992 V
12 I
708(Sys)S
12 Y1
869(3)S
12 I
929(printbuf)S
12 R
1374(requests)S
1818(the)S
2013(kernel)S
(running)375 2363 A
2785(on)S
2952(machine)S
3409(with)S
3672(the)S
(capability)478 3867 A
12 I
4392(cap)S
12 R
4623(to)S
4764(return)S
5101(the)S
3132 V
708(contents)S
1151(of)S
1292(its)S
1447(console)S
1856(buffer)S
2193(in)S
12 I
2327(buf)S
12 R
2491(.)S
12 I
2591(Bufsz)S
12 R
2903(specifies)S
3368(the)S
3556(size)S
3785(of)S
12 I
3926(buf)S
12 R
4130(in)S
4264(bytes.)S
4619(The)S
4846(function)S
3272 V
708(returns)S
1090(in)S
12 I
1229(offset)S
12 R
1547(the)S
1740(starting)S
(position)389 2149 A
2583(of)S
2730(the)S
2924(circular)S
3342(buffer)S
3685(and)S
12 I
3905(num)S
12 Y1
4113(3)S
12 I
4173(bytes)S
12 R
4478(tells)S
4727(how)S
4981(many)S
3412 V
708(bytes)S
993(of)S
1124(data)S
1356(were)S
1623(returned)S
2057(in)S
12 I
2181(buf)S
12 R
2345(.)S
3648 V
708(Required)S
1181(Rights:)S
3788 V
12 C
(SYS)219 1062 A
12 Y1
1281(3)S
12 C
(RGT)219 1341 A
12 Y1
1560(3)S
12 C
(READ)292 1620 A
4128 V
12 B
708(Example)S
4304 V
12 R
708(The)S
953(main)S
1253(use)S
1472(of)S
1631(these)S
1938(routines)S
2386(is)S
2525(in)S
2677(the)S
2883(programs)S
12 I
3398(kstat)S
12 R
3637(\(A\))S
12 I
3865(printbuf)S
12 R
4264(\(A\))S
4492(and)S
12 I
(reboot)315 4724 A
12 R
5049(\(A\).)S
4444 V
708(However,)S
1213(below)S
1539(is)S
1650(a)S
1734(simple)S
2087(program)S
2527(that)S
2739(demonstrates)S
3408(the)S
3586(use)S
3777(of)S
3908(some)S
4193(of)S
4324(the)S
4502(routines.)S
4644 V
11 C
(#include)536 708 A
("amtools.h")737 1311 A
4784 V
(#include)536 708 A
("sys/printbuf.h")1072 1311 A
5064 V
(main\(argc,)670 708 A
(argv\))335 1445 A
5204 V
(int)201 708 A
(argc;)335 976 A
5344 V
(char)268 708 A
(*argv[];)536 1043 A
5484 V
708({)S
5624 V
(capability)670 976 A
(mach;)335 1713 A
5764 V
(errstat)469 976 A
(err;)268 1512 A
5904 V
(char)268 976 A
(buf[30000];)737 1311 A
6044 V
(int)201 976 A
(len,)268 1244 A
(offset;)469 1579 A
6324 V
976(if)S
(\(argc)335 1177 A
1579(!=)S
1780(2\))S
1981({)S
6464 V
(fprintf\(stderr,)1005 1292 A
("Usage:)469 2364 A
2900(%s)S
(mach-cap\\n",)804 3101 A
(argv[0]\);)603 3972 A
6604 V
(exit\(2\);)536 1292 A
6744 V
976(})S
7700 V
12 R
2683(Amoeba)S
3123(5.3)S
(389)180 5069 A
7920 V
EP
%%Page: 390 396
BP
/slant 0 def
/height 0 def
500 V
12 R
708(syssvr)S
1030(\(L\))S
2567(Library)S
2961(Routines)S
4771(syssvr)S
5093(\(L\))S
920 V
11 C
976(if)S
(\(\(err)335 1177 A
1579(=)S
(name)268 1713 A
11 Y1
1981(3)S
11 C
(lookup\(argv[1],)1005 2036 A
(&mach\)\))469 3108 A
3644(!=)S
(STD)201 3845 A
11 Y1
4046(3)S
11 C
(OK\))201 4101 A
4369({)S
1060 V
(fprintf\(stderr,)1005 1292 A
("%s:)268 2364 A
(cannot)402 2699 A
(lookup)402 3168 A
3637(%s)S
(\(%s\)\\n",)536 3838 A
1200 V
(argv[0],)536 1876 A
(argv[1],)536 2479 A
(err)201 3082 A
11 Y1
3283(3)S
11 C
(why\(err\)\);)670 3338 A
1340 V
(exit\(1\);)536 1292 A
1480 V
976(})S
1620 V
(err)201 976 A
1244(=)S
(sys)201 1378 A
11 Y1
1579(3)S
11 C
(kstat\(&mach,)804 1634 A
('?',)268 2505 A
(buf,)268 2840 A
(sizeof\(buf\),)804 3175 A
(&len\);)402 4046 A
1760 V
976(if)S
(\(err)268 1177 A
1512(==)S
(STD)201 1713 A
11 Y1
1914(3)S
11 C
(OK\))201 1969 A
1900 V
(printf\("%.*s\\n",)1072 1292 A
(len,)268 2431 A
(buf\);)335 2766 A
2040 V
(else)268 976 A
2180 V
(fprintf\(stderr,)1005 1292 A
("%s:)268 2364 A
(cannot)402 2699 A
(kstat)335 3168 A
3570(%s)S
(\(%s\)\\n",)536 3771 A
2320 V
(argv[0],)536 1876 A
(argv[1],)536 2479 A
(err)201 3082 A
11 Y1
3283(3)S
11 C
(why\(err\)\);)670 3338 A
2600 V
(err)201 976 A
1244(=)S
(sys)201 1378 A
11 Y1
1579(3)S
11 C
(printbuf\(&mach,)1005 1634 A
(buf,)268 2706 A
(sizeof\(buf\),)804 3041 A
(&offset,)536 3912 A
(&len\);)402 4515 A
2740 V
976(if)S
(\(err)268 1177 A
1512(==)S
(STD)201 1713 A
11 Y1
1914(3)S
11 C
(OK\))201 1969 A
2237({)S
2371(/*)S
(print)335 2572 A
(circular)536 2974 A
(buffer)402 3577 A
4046(*/)S
2880 V
(char)268 1292 A
1627(*)S
1761(p)S
1895(=)S
(buf)201 2029 A
2297(+)S
(offset;)469 2431 A
3020 V
1292(do)S
1493({)S
3160 V
1560(if)S
1761(\(p)S
1962(>=)S
(buf)201 2163 A
2431(+)S
(len\))268 2565 A
3300 V
1876(p)S
2010(=)S
(buf;)268 2144 A
3440 V
(printchar\(*p++\);)1072 1560 A
3580 V
1292(})S
(while)335 1426 A
1828(\(p)S
2029(!=)S
(buf)201 2230 A
2498(+)S
(offset\);)536 2632 A
3720 V
(putchar\('\\n'\);)938 1292 A
3860 V
976(})S
(else)268 1110 A
4000 V
(fprintf\(stderr,)1005 1292 A
("%s:)268 2364 A
(cannot)402 2699 A
(printbuf)536 3168 A
3771(%s)S
(\(%s\)\\n",)536 3972 A
4140 V
(argv[0],)536 1876 A
(argv[1],)536 2479 A
(err)201 3082 A
11 Y1
3283(3)S
11 C
(why\(err\)\);)670 3338 A
4280 V
708(})S
4516 V
12 R
708(The)S
930(function)S
12 I
1367(printchar)S
12 R
1867(is)S
1982(not)S
2170(shown)S
2519(here.)S
2822(It)S
2931(simply)S
3294(takes)S
3578(care)S
3816(of)S
(unprintable)551 3952 A
4538(characters)S
5066(in)S
5195(a)S
4656 V
708(nice)S
940(way.)S
4936 V
12 B
708(See)S
913(Also)S
5112 V
12 R
708(bullet\(L\),)S
1227(kstat\(A\),)S
1713(printbuf\(A\),)S
2361(soap\(L\),)S
2826(std\(L\),)S
3211(std)S
12 Y1
3352(3)S
12 R
3412(age\(A\),)S
3838(std)S
12 Y1
3979(3)S
12 R
4039(destroy\(U\),)S
4653(std)S
12 Y1
4794(3)S
12 R
4854(info\(U\),)S
5252 V
708(std)S
12 Y1
849(3)S
12 R
(copy\(U\),)434 909 A
1373(std)S
12 Y1
1514(3)S
12 R
1574(restrict\(U\),)S
2143(std)S
12 Y1
2284(3)S
12 R
2344(touch\(U\),)S
2842(syssvr\(A\).)S
7700 V
(390)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 391 397
BP
/slant 0 def
/height 0 def
500 V
12 R
708(sys)S
12 Y1
862(3)S
12 R
(milli)230 922 A
1172(\(L\))S
2567(Library)S
2961(Routines)S
4629(sys)S
12 Y1
4783(3)S
12 R
(milli)230 4843 A
5093(\(L\))S
860 V
2350(\(in)S
2515(libraries:)S
2978(libamoeba.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(sys)S
12 Y1
862(3)S
12 R
(milli)230 922 A
12 R-1
1182(-)S
12 R
1310(return)S
1630(time)S
1876(in)S
(milliseconds)612 2000 A
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("module/syscall.h")1206 1311 A
2182 V
(unsigned)536 708 A
(long)268 1311 A
2322 V
(sys)201 708 A
11 Y1
909(3)S
11 C
(milli\(\))469 964 A
2662 V
12 B
708(Description)S
2838 V
12 I
708(Sys)S
12 Y1
869(3)S
12 I
(milli)224 929 A
12 R
1194(returns)S
1562(the)S
1741(number)S
2141(of)S
(milliseconds)612 2273 A
2916(since)S
3196(an)S
(unknown)448 3341 A
3820(origin.)S
4200(It)S
4307(wraps)S
4629(after)S
4885(2)S
4977(**)S
5129(32)S
2978 V
(milliseconds,)642 708 A
1396(which)S
1738(is)S
(about)268 1865 A
2178(50)S
2343(days.)S
2669(It)S
2789(is)S
2915(used)S
3181(for)S
3368(measuring)S
3917(time)S
4178(intervals)S
4641(by)S
(calling)330 4806 A
5181(it)S
3118 V
708(once)S
966(at)S
1084(the)S
1262(start)S
1502(of)S
1633(an)S
1777(event)S
2069(and)S
2273(again)S
2565(at)S
2683(the)S
2861(end)S
3065(and)S
3269(comparing)S
3816(the)S
3994(difference.)S
3434 V
12 I
708(Warnings)S
3610 V
12 R
708(The)S
926(granularity)S
1488(of)S
1619(the)S
1797(hardware)S
2279(clock)S
2571(is)S
2682(sometimes)S
3230(bigger)S
3569(than)S
3807(a)S
(millisecond.)595 3891 A
3890 V
12 B
708(Example)S
4066 V
12 R
708(This)S
963(function)S
1406(returns)S
1784(the)S
1973(time)S
2230(it)S
2339(takes)S
2629(to)S
2764(compute)S
3221(the)S
3410(sine)S
3646(of)S
3788(its)S
3944(argument,)S
4472(in)S
(milliseconds.)642 4607 A
4206 V
708(By)S
898(computing)S
1464(it)S
1582(several)S
1976(times,)S
2319(it)S
2437(increases)S
2932(the)S
(accuracy)431 3130 A
3611(of)S
3762(the)S
3960(measurement)S
4656(by)S
4826(reducing)S
4346 V
708(errors)S
1022(due)S
1226(to)S
1350(the)S
1528(granularity)S
2090(of)S
2221(the)S
2399(system)S
2765(clock.)S
4546 V
11 C
(#define)469 708 A
(MUCH)268 1244 A
(10000)335 1579 A
4826 V
(unsigned)536 708 A
(long)268 1311 A
(sin)201 1646 A
11 Y1
1847(3)S
11 C
(time\(f\))469 1902 A
4966 V
(double)402 976 A
1445(f;)S
5106 V
708({)S
5246 V
(unsigned)536 976 A
(long)268 1579 A
(start;)402 1914 A
5386 V
(register)536 976 A
(int)201 1579 A
1847(i;)S
5526 V
(double)402 976 A
1445(r,)S
(sin\(\);)402 1646 A
5806 V
(start)335 976 A
1378(=)S
(sys)201 1512 A
11 Y1
1713(3)S
11 C
(milli\(\);)536 1768 A
5946 V
(for)201 976 A
1244(\(i)S
1445(=)S
(MUCH;)335 1579 A
(i--;)268 1981 A
2316(r)S
2450(=)S
(sin\(f\)\))469 2584 A
6086 V
1292(;)S
6226 V
(return)402 976 A
(\(sys)268 1445 A
11 Y1
1713(3)S
11 C
(milli\(\))469 1768 A
2304(-)S
(start)335 2438 A
2840(+)S
(MUCH)268 2974 A
3309(/)S
3443(2\))S
3644(/)S
(MUCH;)335 3778 A
6366 V
708(})S
6706 V
12 B
708(See)S
913(Also)S
6882 V
12 R
(sun4m)321 708 A
12 Y1
1029(3)S
12 R
1089(timer\(L\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(391)180 5069 A
7920 V
EP
%%Page: 392 398
BP
/slant 0 def
/height 0 def
500 V
12 R
708(sys)S
12 Y1
862(3)S
12 R
922(newthread)S
1447(\(L\))S
2567(Library)S
2961(Routines)S
4354(sys)S
12 Y1
4508(3)S
12 R
4568(newthread)S
5093(\(L\))S
860 V
2350(\(in)S
2515(libraries:)S
2978(libamoeba.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(sys)S
12 Y1
862(3)S
12 R
922(newthread)S
12 R-1
1457(-)S
12 R
1585(low-level)S
2074(thread)S
2407(management)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("thread.h")670 1311 A
2182 V
(int)201 708 A
(sys)201 976 A
11 Y1
1177(3)S
11 C
(newthread\(func,)1005 1232 A
(sp,)201 2304 A
(local\))402 2572 A
2322 V
(void)268 708 A
(exitthread\(done\))1072 1043 A
2462 V
(struct)402 708 A
(thread)402 1177 A
11 Y1
1579(3)S
11 C
(data)268 1634 A
(*sys)268 1969 A
11 Y1
2237(3)S
11 C
(getlocal\(\))670 2292 A
2602 V
(void)268 708 A
(thread)402 1043 A
11 Y1
1445(3)S
11 C
1500(en)S
11 Y1
1634(3)S
11 C
(preempt\(thread)938 1689 A
11 Y1
2627(3)S
11 C
(local)335 2682 A
11 Y1
3017(3)S
11 C
(addr\))335 3072 A
2942 V
12 B
708(Description)S
3118 V
708(Beware!)S
12 R
1232(This)S
1511(manual)S
1931(page)S
2223(is)S
2368(only)S
2646(presented)S
3174(for)S
3380(completeness.)S
4156(Application)S
4792(programs)S
3258 V
(should)321 708 A
1059(use)S
12 I
1250(thread)S
12 R
1575(\(L\))S
1761(to)S
1885(create)S
2206(threads)S
2586(and)S
2790(to)S
2914(manipulate)S
3482(glocal)S
3808(data.)S
3434 V
708(The)S
940(calls)S
12 I
1207(sys)S
12 Y1
1355(3)S
12 I
1415(newthread)S
12 R
1934(,)S
12 I
(exitthread)491 2009 A
12 R
2510(,)S
12 I
2585(sys)S
12 Y1
2733(3)S
12 I
2793(getlocal)S
12 R
3238(and)S
12 I
3457(thread)S
12 Y1
3772(3)S
12 I
3832(en)S
12 Y1
3946(3)S
12 I
4006(preempt)S
12 R
4458(form)S
4739(the)S
4932(lowest)S
3574 V
708(level)S
(interface)426 998 A
1478(to)S
1625(Amoeba's)S
(multiple)404 2176 A
2633(threads)S
(facility.)375 3036 A
3494(In)S
3648(the)S
3849(current)S
4246(version)S
4655(of)S
4809(Amoeba,)S
3714 V
708(threads)S
1089(by)S
1240(default)S
1608(run)S
(till)136 1800 A
1967(completion:)S
2576(another)S
2970(thread)S
3304(in)S
3429(a)S
3515(process)S
3910(is)S
4023(only)S
4269(run)S
4462(if)S
4569(a)S
4655(thread)S
4990(exits,)S
3854 V
708(executes)S
1201(a)S
1331(blocking)S
1829(system)S
2241(call)S
2493(\(for)S
2752(example,)S
3268(see)S
12 I
3499(rpc)S
12 R
3670(\(L\)\))S
3943(or)S
4120(calls)S
12 I
4419(threadswitch)S
12 R
5053(\(see)S
3994 V
708(thread)S
12 Y1
1011(3)S
12 R
1071(scheduling)S
1692(\(L\)\).)S
2048(Preemptive)S
2699(scheduling)S
3321(must)S
3655(be)S
3868(requested)S
(explicitly)458 4431 A
4988(using)S
4134 V
12 I
708(thread)S
12 Y1
1023(3)S
12 I
(enable)322 1083 A
12 Y1
1405(3)S
12 I
1465(preemption)S
12 R
2085(\(see)S
12 I
2340(thread)S
12 Y1
2655(3)S
12 I
2715(scheduling)S
12 R
3248(\(L\)\).)S
3563(Programs)S
(should)321 4085 A
4464(not)S
4676(rely)S
4923(on)S
5101(the)S
4274 V
708(current)S
1083(default)S
1451(scheduling)S
2005(policy.)S
2398(They)S
(should)321 2677 A
3030(always)S
3399(properly)S
3841(protect)S
4210(their)S
(access)310 4465 A
4807(to)S
4933(shared)S
4414 V
708(data)S
940(with)S
1186(mutexes)S
1619(\(see)S
12 I
1845(mutex)S
12 R
2145(\(L\)\).)S
4590 V
708(To)S
885(allow)S
1198(the)S
1389(implementation)S
2192(of)S
12 I
2337(glocal)S
12 R
2693(data)S
2939(\(see)S
12 I
3179(thread)S
12 R
3504(\(L\)\),)S
(each)222 3775 A
4041(thread)S
4388(has)S
4593(an)S
4751(associated)S
4730 V
708(``local)S
1063(value''.)S
1504(This)S
1756(local)S
2029(value)S
2328(is)S
2446(stored)S
2778(in)S
2908(the)S
3092(kernel's)S
3519(per-thread)S
4054(data.)S
4352(It)S
4463(can)S
4667(be)S
4817(retrieved)S
4870 V
708(at)S
830(any)S
1039(time)S
1290(by)S
(calling)330 1445 A
12 I
1810(sys)S
12 Y1
1958(3)S
12 I
2018(getlocal\(\))S
12 R
2500(.)S
2595(A)S
2718(thread's)S
3144(local)S
3415(value)S
3712(is)S
3828(set)S
3998(once)S
4261(and)S
4470(for)S
4647(all)S
4804(when)S
5101(the)S
5010 V
708(thread)S
1045(is)S
1160(created;)S
1579(the)S
1760(main)S
2035(thread's)S
2459(local)S
2728(value)S
3023(is)S
3137(zero,)S
3409(for)S
3584(other)S
3866(threads)S
4249(the)S
4430(value)S
4725(is)S
4839(the)S
5020(third)S
5150 V
708(argument)S
1195(passed)S
1547(to)S
12 I
1671(sys)S
12 Y1
1819(3)S
12 I
1879(newthread)S
12 R
2398(.)S
5326 V
708(A)S
(copy)234 858 A
1154(of)S
1317(the)S
1527(local)S
1825(value)S
2150(of)S
2314(the)S
2525(current)S
2932(thread)S
3298(is)S
3442(usually)S
3854(kept)S
4125(in)S
4282(the)S
4493(global)S
4858(variable)S
5466 V
12 Y1
708(3)S
12 I
768(thread)S
12 Y1
1083(3)S
12 I
1143(local)S
12 R
1395(.)S
1488(When)S
1809(the)S
1990(program)S
2433(only)S
2680(uses)S
(non-preemptive)766 2921 A
3720(scheduling,)S
4305(this)S
4512(variable)S
4935(can)S
5135(be)S
5606 V
708(kept)S
954(up-to-date)S
1490(by)S
1648(the)S
1834(system)S
2208(call)S
2422(stubs)S
2708(\(executing)S
3257(in)S
3389(user)S
(space\):)344 3629 A
4011(on)S
4169(entry,)S
(each)222 4486 A
4747(stub)S
4987(saves)S
5746 V
708(the)S
901(current)S
1290(value)S
1597(of)S
12 Y1
1742(3)S
12 I
1802(thread)S
12 Y1
2117(3)S
12 I
2177(local)S
12 R
2473(on)S
2637(the)S
2829(stack;)S
3156(before)S
3510(returning,)S
4028(it)S
4140(restores)S
12 Y1
4562(3)S
12 I
4622(thread)S
12 Y1
4937(3)S
12 I
4997(local)S
5886 V
12 R
708(from)S
976(the)S
1156(stack.)S
1497(Certain)S
1886(architectures)S
2539(use)S
2732(a)S
2819(different)S
3271(strategy)S
3688(whereby)S
12 Y1
4138(3)S
12 I
4198(thread)S
12 Y1
4513(3)S
12 I
4573(local)S
12 R
4858(variable)S
6026 V
708(is)S
827(not)S
1019(saved;)S
1366(instead,)S
1777(a)S
12 Y
1869(-)S
12 R
1935(1)S
2033(is)S
2152(stored)S
2486(in)S
2618(it)S
2724(when)S
3024(the)S
3210(call)S
3424(returns.)S
3859(The)S
4085(routines)S
4512(that)S
4731(implement)S
6166 V
12 I
708(thread)S
12 R
1033(\(L\))S
(know)268 1230 A
1539(this)S
1755(and)S
1970(test)S
12 Y1
2181(3)S
12 I
2241(thread)S
12 Y1
2556(3)S
12 I
2616(local)S
12 R
2910(for)S
12 Y
3094(-)S
12 R
3160(1,)S
3292(and)S
3508(use)S
12 I
3711(sys)S
12 Y1
3859(3)S
12 I
3919(getlocal)S
12 R
4361(to)S
4497(restore)S
4870(the)S
5060(true)S
6306 V
708(local)S
990(value.)S
1358(\(There)S
1728(are)S
1923(also)S
2164(interactions)S
2776(with)S
3037(signal)S
3371(catchers)S
3814(that)S
4041(are)S
4235(taken)S
4542(care)S
4790(of)S
4936(by)S
5101(the)S
6446 V
708(implementation)S
1498(of)S
12 I
(signals)342 1629 A
12 R
1981(\(L\).\))S
6622 V
708(When)S
1044(preemptive)S
1637(scheduling)S
2208(is)S
2337(used,)S
2637(a)S
2740(different)S
3208(mechanism)S
3808(is)S
3938(required.)S
4451(The)S
4688(system)S
5073(call)S
6762 V
12 I
708(thread)S
12 Y1
1023(3)S
12 I
1083(en)S
12 Y1
1197(3)S
12 I
1257(preempt)S
12 R
1664(,)S
1788(which)S
(should)321 2178 A
2593(only)S
2901(be)S
3109(called)S
3493(via)S
12 I
3735(thread)S
12 Y1
4050(3)S
12 I
(enable)322 4110 A
12 Y1
4432(3)S
12 I
4492(preemption)S
12 R
5053(\(see)S
6902 V
12 I
708(thread)S
12 Y1
1023(3)S
12 I
1083(scheduling)S
12 R
1616(\(L\)\),)S
1873(has)S
2064(a)S
2148(parameter)S
2664(that)S
(will)190 2876 A
3096(cause)S
3395(the)S
3573(kernel)S
3906(to)S
(update)322 4030 A
4383(the)S
12 Y1
4562(3)S
12 I
4622(thread)S
12 Y1
4937(3)S
12 I
4997(local)S
7042 V
12 R
708(pointer)S
1081(whenever)S
1582(a)S
1666(thread)S
1999(is)S
2110(being)S
2408(rescheduled.)S
7218 V
(Because)403 708 A
1199(the)S
1435(thread's)S
1914(local)S
2238(value)S
2588(and)S
2851(the)S
12 Y1
3088(3)S
12 I
3148(thread)S
12 Y1
3463(3)S
12 I
3523(local)S
12 R
3864(variable)S
4344(are)S
4582(used)S
4892(by)S
5101(the)S
7700 V
(392)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 393 399
BP
/slant 0 def
/height 0 def
500 V
12 R
708(sys)S
12 Y1
862(3)S
12 R
922(newthread)S
1447(\(L\))S
2567(Library)S
2961(Routines)S
4354(sys)S
12 Y1
4508(3)S
12 R
4568(newthread)S
5093(\(L\))S
860 V
708(implementation)S
1500(of)S
12 I
1633(thread)S
12 R
1958(\(L\),)S
2176(they)S
(should)321 2416 A
2769(not)S
2955(be)S
3100(touched)S
3513(by)S
3664(application)S
4233(programs.)S
4781(In)S
4913(fact)S
5127(all)S
1000 V
708(calls)S
981(described)S
1495(in)S
1639(this)S
1864(manual)S
2270(page)S
2548(are)S
2747(unsafe)S
3113(in)S
3257(programs)S
3764(that)S
3997(use)S
12 I
4209(thread)S
12 R
4534(\(L\);)S
4775(and)S
5000(since)S
1140 V
12 I
708(thread)S
12 R
1033(\(L\))S
1233(is)S
1358(used)S
1623(by)S
12 I
1786(stdio)S
12 R
2074(and)S
2291(many)S
2602(other)S
2894(functions)S
3387(described)S
3894(in)S
12 I
4031(ansi)S
12 Y1
4232(3)S
12 I
4292(C)S
12 R
4382(\(L\))S
4581(and)S
12 I
4798(posix)S
12 R
5063(\(L\),)S
1280 V
708(they)S
967(are)S
1167(unsafe)S
1534(in)S
1679(almost)S
2053(all)S
2226(programs.)S
2794(Furthermore,)S
3481(the)S
3680(current)S
4075(thread)S
4429(package)S
4876(may)S
5135(be)S
1420 V
(replaced)411 708 A
1149(by)S
1299(one)S
1503(that)S
1715(runs)S
1953(entirely)S
2354(in)S
2478(user)S
(space)269 2710 A
3009(and)S
3213(these)S
3492(routines)S
3912(would)S
4244(then)S
4482(be)S
4626(obsolete.)S
1736 V
12 I
708(Functions)S
2052 V
708(sys)S
12 Y1
856(3)S
12 I
916(newthread)S
2288 V
11 C
(int)201 1068 A
2428 V
(sys)201 1068 A
11 Y1
1269(3)S
11 C
(newthread\(func,)1005 1324 A
(sp,)201 2396 A
(local\))402 2664 A
2568 V
(void)268 1068 A
(\(*func\)\(\);)670 1403 A
2708 V
(struct)402 1068 A
(thread)402 1537 A
11 Y1
1939(3)S
11 C
(data)268 1994 A
(*sp;)268 2329 A
2848 V
(struct)402 1068 A
(thread)402 1537 A
11 Y1
1939(3)S
11 C
(data)268 1994 A
(*local;)469 2329 A
3048 V
12 I
708(Sys)S
12 Y1
869(3)S
12 I
929(newthread)S
12 R
1478(is)S
1589(the)S
1767(low)S
1979(level)S
2245(kernel)S
2579(stub)S
2811(to)S
2936(spawn)S
3276(a)S
3361(new)S
3594(thread)S
3928(in)S
4053(the)S
4232(current)S
4607(process.)S
5061(The)S
3188 V
708(thread's)S
1148(execution)S
1667(starts)S
1973(with)S
2238(a)S
2341(call)S
2566(to)S
(\(*func\)\(\))439 2709 A
3197(with)S
3461(no)S
3629(arguments.)S
4241(The)S
4477(function)S
(should)321 4928 A
3328 V
708(never)S
1017(return.)S
1407(The)S
1635(stack)S
1924(pointer)S
2307(of)S
2448(the)S
2636(new)S
2878(thread)S
3221(is)S
(initialized)486 3342 A
3868(to)S
12 I
4002(sp)S
12 R
4119(;)S
4193(the)S
4381(local)S
4657(value)S
4959(of)S
5101(the)S
3468 V
708(new)S
945(thread)S
1283(is)S
(initialized)486 1399 A
1920(to)S
12 I
2048(local)S
12 R
2300(.)S
2394(Note)S
2664(that)S
2880(the)S
3062(stack)S
3345(pointer)S
3722(must)S
3991(point)S
4273(to)S
4401(at)S
4523(least)S
(512)180 4780 A
4994(bytes)S
3608 V
708(of)S
(space.)299 839 A
1198(Otherwise)S
1728(the)S
(calling)330 1906 A
2266(program)S
(will)190 2706 A
2926(be)S
(killed.)306 3070 A
3784 V
708(The)S
944(new)S
1194(thread)S
1545(does)S
1814(not)S
2016(run)S
2225(immediately;)S
2913(the)S
3109(current)S
3502(thread)S
3854(keeps)S
(running)375 4178 A
(until)222 4602 A
4873(it)S
4990(exits,)S
3924 V
708(blocks)S
1053(or)S
1184(calls)S
12 I
1437(threadswitch.)S
4100 V
708(Sys)S
12 Y1
869(3)S
12 I
929(newthread)S
12 R
1484(returns)S
12 Y
1857(-)S
12 R
1923(1)S
(upon)240 2019 A
2296(failure)S
2651(\(caused)S
3058(by)S
3215(lack)S
3454(of)S
3592(resources)S
4087(to)S
4218(create)S
4546(another)S
4946(thread)S
4240 V
708(in)S
832(the)S
1010(kernel\))S
1384(and)S
1588(zero)S
(upon)240 1827 A
(success.)393 2097 A
4556 V
12 I
(exitthread)491 708 A
4792 V
11 C
(void)268 1068 A
4932 V
(exitthread\(done\))1072 1068 A
5072 V
(long)268 1068 A
(*done;)402 1403 A
5272 V
12 I
(Exitthread)511 708 A
12 R
1284(is)S
1420(the)S
1623(low)S
1860(level)S
2151(kernel)S
2509(stub)S
2765(to)S
2914(exit)S
3151(a)S
3260(thread.)S
3678(When)S
4022(the)S
4226(thread)S
4585(is)S
4722(created)S
5129(by)S
5412 V
12 I
708(thread)S
12 Y1
1023(3)S
12 I
1083(newthread)S
12 R
1644(it)S
1754(is)S
1877(advisable)S
2375(to)S
2510(exit)S
2733(the)S
2922(thread)S
3266(using)S
12 I
3568(thread)S
12 Y1
3883(3)S
12 I
3943(exit)S
12 R
4170(\(see)S
12 I
4407(thread)S
12 R
4732(\(L\)\),)S
5000(since)S
5552 V
12 I
(exitthread)491 708 A
12 R
1253(does)S
1518(not)S
(cleanup)376 1716 A
2137(previously)S
2692(allocated)S
3175(stacks)S
3516(or)S
3662(memory)S
4110(blocks.)S
4530(The)S
4763(parameter)S
5692 V
12 I
(done)234 708 A
12 R
993(specifies)S
1459(the)S
1648(address)S
2052(of)S
2194(a)S
2289(variable)S
2721(that)S
(will)190 2944 A
3175(be)S
3330(set)S
3506(to)S
3641(one)S
3856(by)S
4017(the)S
4206(kernel)S
4550(as)S
(soon)227 4692 A
4960(as)S
5101(the)S
5832 V
708(thread)S
1047(has)S
1244(exited.)S
1636(This)S
1887(allows)S
2240(others)S
2572(threads)S
2958(to)S
3088(see)S
3279(when)S
3577(it)S
3681(is)S
3798(safe)S
4030(to)S
4160(free)S
4387(the)S
4572(resources)S
5067(that)S
5972 V
708(were)S
985(allocated)S
1463(for)S
1645(the)S
1833(thread.)S
2236(When)S
2564(the)S
(calling)330 2752 A
3122(thread)S
3465(is)S
3586(a)S
3680(server)S
4017(and)S
4231(it)S
4339(is)S
4460(serving)S
4856(a)S
4949(client,)S
6112 V
708(the)S
886(client)S
(will)190 1186 A
(receive)351 1406 A
1787(an)S
12 C
(RPC)219 1931 A
12 Y1
2150(3)S
12 C
(FAILURE)511 2210 A
12 R
2751(\(see)S
12 I
2977(rpc)S
12 R
3148(\(L\)\).)S
12 I
(Exitthread)511 3435 A
12 R
3986(never)S
4285(returns.)S
6428 V
12 I
708(sys)S
12 Y1
856(3)S
12 I
916(getlocal)S
6664 V
11 C
(struct)402 1068 A
(thread)402 1537 A
11 Y1
1939(3)S
11 C
(data)268 1994 A
2329(*)S
6804 V
(sys)201 1068 A
11 Y1
1269(3)S
11 C
(getlocal\(\))670 1324 A
7004 V
12 I
708(Sys)S
12 Y1
869(3)S
12 I
929(getlocal)S
12 R
1359(returns)S
1726(the)S
12 Y1
1904(3)S
12 I
1964(thread)S
12 Y1
2279(3)S
12 I
2339(local)S
12 R
2621(value)S
2913(for)S
3085(a)S
3169(thread)S
3502(\(see)S
(above\).)359 3728 A
7700 V
2683(Amoeba)S
3123(5.3)S
(393)180 5069 A
7920 V
EP
%%Page: 394 400
BP
/slant 0 def
/height 0 def
500 V
12 R
708(sys)S
12 Y1
862(3)S
12 R
922(newthread)S
1447(\(L\))S
2567(Library)S
2961(Routines)S
4354(sys)S
12 Y1
4508(3)S
12 R
4568(newthread)S
5093(\(L\))S
860 V
12 I
708(thread)S
12 Y1
1023(3)S
12 I
1083(en)S
12 Y1
1197(3)S
12 I
1257(preempt)S
1096 V
11 C
(void)268 1068 A
1236 V
(thread)402 1068 A
11 Y1
1470(3)S
11 C
1525(en)S
11 Y1
1659(3)S
11 C
(preempt\(thread)938 1714 A
11 Y1
2652(3)S
11 C
(local)335 2707 A
11 Y1
3042(3)S
11 C
(addr\))335 3097 A
1376 V
(struct)402 1068 A
(thread)402 1537 A
11 Y1
1939(3)S
11 C
(data)268 1994 A
(**thread)536 2329 A
11 Y1
2865(3)S
11 C
(local)335 2920 A
11 Y1
3255(3)S
11 C
(addr;)335 3310 A
1576 V
12 I
708(Thread)S
12 Y1
1056(3)S
12 I
1116(en)S
12 Y1
1230(3)S
12 I
1290(preempt)S
12 R
1738(enables)S
2142(preemptive)S
2728(scheduling)S
3292(for)S
3475(the)S
(calling)330 3664 A
4035(process.)S
4499(It)S
4615(also)S
4852(requests)S
1716 V
708(the)S
895(kernel)S
1237(to)S
(update)322 1370 A
1731(the)S
1917(pointer)S
2298(whose)S
2645(address)S
3046(is)S
3165(given)S
3471(as)S
3610(argument)S
4105(whenever)S
4614(a)S
4706(new)S
4946(thread)S
1856 V
708(within)S
1058(the)S
1246(process)S
1649(is)S
1770(scheduled.)S
2353(The)S
2581(pointer)S
2964(is)S
3085(set)S
3260(to)S
3394(the)S
3582(``local)S
3940(value'')S
4325(of)S
4467(the)S
4656(thread)S
5000(to)S
5135(be)S
1996 V
708(run)S
899(next.)S
1197(Typically,)S
1721(the)S
1899(user)S
2131(level)S
2397(stub)S
12 I
2628(thread)S
12 Y1
2943(3)S
12 I
(enable)322 3003 A
12 Y1
3325(3)S
12 I
3385(preemption)S
12 R
(will)190 3976 A
4196(just)S
4401(do)S
2196 V
11 C
(thread)402 1068 A
11 Y1
1470(3)S
11 C
1525(en)S
11 Y1
1659(3)S
11 C
(preempt\(&)603 1714 A
11 Y1
2317(3)S
11 C
(thread)402 2372 A
11 Y1
2774(3)S
11 C
(local\);)469 2829 A
2536 V
12 B
708(See)S
913(Also)S
2712 V
12 R
708(ansi)S
12 Y1
903(3)S
12 R
963(C\(L\),)S
1259(posix\(L\),)S
1736(rpc\(L\),)S
2107(signals\(L\),)S
2659(thread\(L\),)S
3178(thread)S
12 Y1
3481(3)S
12 R
3541(scheduling\(L\).)S
7700 V
(394)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 395 401
BP
/slant 0 def
/height 0 def
500 V
12 R
708(tape)S
930(\(L\))S
2567(Library)S
2961(Routines)S
4871(tape)S
5093(\(L\))S
860 V
2075(\(in)S
2240(libraries:)S
2703(libamoeba,)S
3267(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(tape)S
12 R-1
940(-)S
12 R
1068(tape)S
1300(server)S
1627(stubs)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("module/tape.h")1005 1311 A
2322 V
(errstat)469 708 A
(tape)268 1244 A
11 Y1
1512(3)S
11 C
(erase\(cap\))670 1567 A
2462 V
(errstat)469 708 A
(tape)268 1244 A
11 Y1
1512(3)S
11 C
(fpos\(cap,)603 1567 A
(pos\))268 2237 A
2602 V
(errstat)469 708 A
(tape)268 1244 A
11 Y1
1512(3)S
11 C
(fskip\(cap,)670 1567 A
(count\))402 2304 A
2742 V
(errstat)469 708 A
(tape)268 1244 A
11 Y1
1512(3)S
11 C
(load\(cap\))603 1567 A
2882 V
(errstat)469 708 A
(tape)268 1244 A
11 Y1
1512(3)S
11 C
(read\(cap,)603 1567 A
(buf,)268 2237 A
(record)402 2572 A
11 Y1
2974(3)S
11 C
(size,)335 3029 A
(xread\))402 3431 A
3022 V
(errstat)469 708 A
(tape)268 1244 A
11 Y1
1512(3)S
11 C
(rewind\(cap,)737 1567 A
(immediate\))670 2371 A
3162 V
(errstat)469 708 A
(tape)268 1244 A
11 Y1
1512(3)S
11 C
(rpos\(cap,)603 1567 A
(pos\))268 2237 A
3302 V
(errstat)469 708 A
(tape)268 1244 A
11 Y1
1512(3)S
11 C
(rskip\(cap,)670 1567 A
(count\))402 2304 A
3442 V
(errstat)469 708 A
(tape)268 1244 A
11 Y1
1512(3)S
11 C
(status\(cap,)737 1567 A
(buf,)268 2371 A
(size\))335 2706 A
3582 V
(errstat)469 708 A
(tape)268 1244 A
11 Y1
1512(3)S
11 C
(unload\(cap\))737 1567 A
3722 V
(errstat)469 708 A
(tape)268 1244 A
11 Y1
1512(3)S
11 C
(write\(cap,)670 1567 A
(buf,)268 2304 A
(record)402 2639 A
11 Y1
3041(3)S
11 C
(size,)335 3096 A
(xwritten\))603 3498 A
3862 V
(errstat)469 708 A
(tape)268 1244 A
11 Y1
1512(3)S
11 C
(write)335 1567 A
11 Y1
1902(3)S
11 C
(eof\(cap\))536 1957 A
4002 V
(char)268 708 A
(*tape)335 1043 A
11 Y1
1378(3)S
11 C
(why\(err\))536 1433 A
4342 V
12 B
708(Description)S
4518 V
12 R
(Along)302 708 A
1084(with)S
1374(the)S
1596(standard)S
2080(server)S
2452(stubs)S
2775(\(see)S
12 I
3046(std\(L\)\))S
12 R
3462(the)S
3685(tape)S
3962(server)S
4334(stubs)S
4657(provide)S
5101(the)S
4658 V
708(programmer's)S
(interface)426 1425 A
1881(to)S
2005(the)S
2183(tape)S
2415(server.)S
4974 V
12 I
708(Errors)S
5150 V
12 R
708(All)S
908(functions)S
1402(return)S
1736(the)S
1928(error)S
2209(status)S
2529(of)S
2674(the)S
2866(operation.)S
3427(The)S
3659(user)S
(interface)426 3905 A
4375(to)S
4513(the)S
4705(tape)S
4952(server)S
5290 V
708(returns)S
1085(standard)S
1535(error)S
1812(codes)S
2127(\(as)S
2309(defined)S
2712(in)S
12 I
2846(stderr.h)S
12 R
3235(\))S
3316(and)S
3530(tape)S
3772(errors)S
4096(which)S
4432(are)S
4621(listed)S
4923(below.)S
5430 V
708(Since)S
1010(all)S
1165(the)S
1346(stubs)S
(involve)362 1627 A
2022(transactions)S
2635(they)S
2877(may)S
3119(return)S
3443(any)S
3651(of)S
3786(the)S
3968(standard)S
4412(RPC)S
4673(error)S
4944(codes.)S
5570 V
708(A)S
829(valid)S
(capability)478 1104 A
1615(is)S
1729(required)S
2166(for)S
2341(all)S
2496(tape)S
2731(operations.)S
3327(Tape)S
3601(stubs)S
(will)190 3881 A
4103(return)S
12 C
(STD)219 4425 A
12 Y1
4644(3)S
12 C
(CAPBAD)438 4704 A
12 R
5174(if)S
5710 V
708(an)S
853(invalid)S
(capability)478 1220 A
1729(is)S
1841(used.)S
2153(If)S
(illegal)304 2266 A
2601(parameters)S
3165(\(such)S
3458(as)S
3590(NULL-pointers)S
4377(or)S
4510(negative)S
4952(buffer)S
5850 V
708(sizes\))S
1046(are)S
1256(given,)S
1615(exceptions)S
2193(may)S
2461(occur)S
2790(rather)S
3134(than)S
3402(an)S
3576(error)S
3873(status)S
4209(being)S
4537(returned.)S
5061(The)S
5990 V
708(behavior)S
1161(is)S
1272(not)S
1456(well)S
1696(defined)S
(under)275 2089 A
2394(these)S
(conditions.)533 2673 A
6166 V
708(The)S
926(following)S
1427(tape)S
1659(errors)S
1973(are)S
2152(defined:)S
6342 V
12 C
(TAPE)292 708 A
12 Y1
1000(3)S
12 C
(NOTAPE)438 1060 A
12 R
2208(The)S
2426(tape)S
2658(unit)S
2876(is)S
(off-line)365 2987 A
3382(or)S
3513(there)S
3786(is)S
3897(no)S
4047(tape)S
4279(available.)S
6518 V
12 C
(TAPE)292 708 A
12 Y1
1000(3)S
12 C
(WRITE)365 1060 A
12 Y1
1425(3)S
12 C
(PROT)292 1485 A
12 R
2208(The)S
2426(tape)S
2658(is)S
2769(write)S
3050(protected.)S
6694 V
12 C
(TAPE)292 708 A
12 Y1
1000(3)S
12 C
(CMD)219 1060 A
12 Y1
1279(3)S
12 C
(ABORTED)511 1339 A
12 R
2208(The)S
2426(last)S
2625(command)S
3131(has)S
3322(been)S
3580(aborted.)S
6870 V
12 C
(TAPE)292 708 A
12 Y1
1000(3)S
12 C
(BOT)219 1060 A
12 Y1
1279(3)S
12 C
(ERR)219 1339 A
12 R
2208(While)S
(repositioning,)668 2534 A
3232(hit)S
3390(begin)S
3688(of)S
3819(tape)S
4051(marker.)S
7046 V
12 C
(TAPE)292 708 A
12 Y1
1000(3)S
12 C
(EOF)219 1060 A
12 R
(Found)307 2208 A
2545(an)S
2689(EOF)S
2948(marker.)S
7222 V
12 C
(TAPE)292 708 A
12 Y1
1000(3)S
12 C
(REC)219 1060 A
12 Y1
1279(3)S
12 C
(DAT)219 1339 A
12 Y1
1558(3)S
12 C
(TRUNC)365 1618 A
12 R
2208(Tape)S
2480(record)S
(longer)309 2820 A
3159(than)S
3397(expected.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(395)180 5069 A
7920 V
EP
%%Page: 396 402
BP
/slant 0 def
/height 0 def
500 V
12 R
708(tape)S
930(\(L\))S
2567(Library)S
2961(Routines)S
4871(tape)S
5093(\(L\))S
860 V
12 C
(TAPE)292 708 A
12 Y1
1000(3)S
12 C
(POS)219 1060 A
12 Y1
1279(3)S
12 C
(LOST)292 1339 A
12 R
2208(Tape)S
2480(record)S
(position)389 2820 A
3239(lost.)S
1036 V
12 C
(TAPE)292 708 A
12 Y1
1000(3)S
12 C
(EOT)219 1060 A
12 R
2208(End)S
2432(of)S
2563(tape)S
(reached.)407 2795 A
1212 V
12 C
(TAPE)292 708 A
12 Y1
1000(3)S
12 C
(MEDIA)365 1060 A
12 Y1
1425(3)S
12 C
(ERR)219 1485 A
12 R
2208(Tape)S
2480(format)S
2834(error.)S
1388 V
708(The)S
933(user)S
(should)321 1172 A
1530(be)S
1681(aware)S
2009(that)S
2228(the)S
2413(maximum)S
2941(transfer)S
3351(size)S
3578(\(record)S
3967(reads/writes\))S
4634(is)S
4753(dependent)S
1528 V
708(on)S
885(hardware)S
1394(\(the)S
1640(tape)S
1899(controllers\))S
2516(and)S
2746(the)S
2950(maximum)S
3496(transaction)S
4084(buffer)S
4437(size)S
4682(of)S
4839(Amoeba)S
1668 V
(\(30,000)371 708 A
1109(bytes,)S
1424(truncated)S
1905(to)S
2029(29K\).)S
1984 V
12 I
708(tape)S
12 Y1
916(3)S
12 I
(load)214 976 A
2220 V
11 C
(errstat)469 1068 A
2360 V
(tape)268 1068 A
11 Y1
1336(3)S
11 C
(load\(cap\))603 1391 A
2500 V
(capability)670 1068 A
(*cap;)335 1805 A
2700 V
12 I
708(Tape)S
12 Y1
949(3)S
12 I
(load)214 1009 A
12 R
1267(loads)S
1556(a)S
1644(tape)S
1880(on)S
2034(the)S
2216(tape)S
2452(unit)S
2674(identified)S
3173(by)S
12 I
3327(cap)S
12 R
3545(and)S
(positions)436 3753 A
4223(it)S
4325(at)S
4448(the)S
4631(beginning)S
5148(of)S
2840 V
708(medium.)S
3156 V
12 I
708(tape)S
12 Y1
916(3)S
12 I
976(read)S
3392 V
11 C
(errstat)469 1068 A
3532 V
(tape)268 1068 A
11 Y1
1336(3)S
11 C
(read\(cap,)603 1391 A
(buf,)268 2061 A
(record)402 2396 A
11 Y1
2798(3)S
11 C
(size,)335 2853 A
(xread\))402 3255 A
3672 V
(capability)670 1068 A
(*cap;)335 1805 A
3812 V
(bufptr)402 1068 A
(buf;)268 1537 A
3952 V
(bufsize)469 1068 A
(record)402 1604 A
11 Y1
2006(3)S
11 C
(size;)335 2061 A
4092 V
(bufsize)469 1068 A
(*xread;)469 1604 A
4292 V
12 I
708(Tape)S
12 Y1
949(3)S
12 I
1009(read)S
12 R
1270(reads)S
12 I
1556(record)S
12 Y1
1878(3)S
12 I
1938(size)S
12 R
2160(bytes)S
2445(from)S
2711(the)S
2889(tape)S
3121(specified)S
3589(by)S
12 I
3739(cap)S
12 R
3953(to)S
4078(buffer)S
12 I
4406(buf)S
12 R
4570(.)S
4661(The)S
4880(number)S
4432 V
708(of)S
853(bytes)S
1152(actually)S
1580(read)S
1833(is)S
1958(returned)S
2406(in)S
12 I
2544(xread)S
12 R
2829(.)S
2932(If)S
12 I
3057(record)S
12 Y1
3379(3)S
12 I
3439(size)S
12 R
3674(bytes)S
3972(are)S
4164(requested)S
4671(from)S
4950(a)S
5047(tape)S
4572 V
708(while)S
1008(the)S
1186(tape)S
1418(record)S
1758(is)S
1869(larger,)S
12 I
2213(tape)S
12 Y1
2421(3)S
12 I
2481(read)S
12 R
(will)190 2742 A
2962(fail)S
3155(\()S
12 C
(TAPE)292 3196 A
12 Y1
3488(3)S
12 C
(REC)219 3548 A
12 Y1
3767(3)S
12 C
(DAT)219 3827 A
12 Y1
4046(3)S
12 C
(TRUNC)365 4106 A
12 R
4471(\).)S
4888 V
12 I
708(tape)S
12 Y1
916(3)S
12 I
976(write)S
5124 V
11 C
(errstat)469 1068 A
5264 V
(tape)268 1068 A
11 Y1
1336(3)S
11 C
(write\(cap,)670 1391 A
(buf,)268 2128 A
(record)402 2463 A
11 Y1
2865(3)S
11 C
(size,)335 2920 A
(xwritten\))603 3322 A
5404 V
(capability)670 1068 A
(*cap;)335 1805 A
5544 V
(bufptr)402 1068 A
(buf;)268 1537 A
5684 V
(bufsize)469 1068 A
(record)402 1604 A
11 Y1
2006(3)S
11 C
(size;)335 2061 A
5824 V
(bufsize)469 1068 A
(*xwritten;)670 1604 A
6024 V
12 I
708(Tape)S
12 Y1
949(3)S
12 I
1009(write)S
12 R
1325(writes)S
12 I
1681(record)S
12 Y1
2003(3)S
12 I
2063(size)S
12 R
2313(bytes)S
2626(from)S
2920(buffer)S
12 I
3275(buf)S
12 R
3497(to)S
3649(the)S
3855(tape)S
4115(specified)S
4611(by)S
12 I
4789(cap.)S
12 R
5061(The)S
6164 V
708(number)S
1107(of)S
1238(bytes)S
1523(actually)S
(written)345 1937 A
2312(is)S
2423(returned)S
2857(in)S
12 I
(xwritten.)427 2981 A
6480 V
708(tape)S
12 Y1
916(3)S
12 I
976(write)S
12 Y1
1225(3)S
12 I
1285(eof)S
6716 V
11 C
(errstat)469 1068 A
6856 V
(tape)268 1068 A
11 Y1
1336(3)S
11 C
(write)335 1391 A
11 Y1
1726(3)S
11 C
(eof\(cap\))536 1781 A
6996 V
(capability)670 1068 A
(*cap;)335 1805 A
7232 V
12 I
708(Tape)S
12 Y1
949(3)S
12 I
1009(write)S
12 Y1
1258(3)S
12 I
1318(eof)S
12 R
1506(writes)S
1834(an)S
12 I
1978(End-Of-File)S
12 R
2612(marker)S
2986(on)S
3136(the)S
3314(tape)S
3546(specified)S
4014(by)S
12 I
4164(cap.)S
7700 V
12 R
(396)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 397 403
BP
/slant 0 def
/height 0 def
500 V
12 R
708(tape)S
930(\(L\))S
2567(Library)S
2961(Routines)S
4871(tape)S
5093(\(L\))S
860 V
12 I
708(tape)S
12 Y1
916(3)S
12 I
976(rewind)S
1096 V
11 C
(errstat)469 1068 A
1236 V
(tape)268 1068 A
11 Y1
1336(3)S
11 C
(rewind\(cap,)737 1391 A
(immediate\))670 2195 A
1376 V
(capability)670 1068 A
(*cap;)335 1805 A
1516 V
(int)201 1068 A
(immediate;)670 1336 A
1716 V
12 I
708(Tape)S
12 Y1
949(3)S
12 I
1009(rewind)S
12 R
1401(rewinds)S
1832(the)S
2027(tape)S
2276(specified)S
2761(by)S
12 I
2928(cap)S
12 R
3160(to)S
3302(its)S
3465(beginning.)S
4055(When)S
12 I
4391(immediate)S
12 R
4955(is)S
5084(set,)S
1856 V
12 I
708(tape)S
12 Y1
916(3)S
12 I
976(rewind)S
12 R
1351(returns)S
1718(immediately)S
(without)370 2354 A
(waiting)364 2754 A
3148(for)S
3320(the)S
3498(rewind)S
3865(to)S
3989(complete.)S
2172 V
12 I
708(tape)S
12 Y1
916(3)S
12 I
(unload)334 976 A
2408 V
11 C
(errstat)469 1068 A
2548 V
(tape)268 1068 A
11 Y1
1336(3)S
11 C
(unload\(cap\))737 1391 A
2688 V
(capability)670 1068 A
(*cap;)335 1805 A
2888 V
12 I
708(Tape)S
12 Y1
949(3)S
12 I
(unload)334 1009 A
12 R
1396(rewinds)S
1823(and)S
2040(unloads)S
2458(the)S
2649(tape)S
2894(specified)S
3375(by)S
12 I
3539(cap.)S
12 R
3797(This)S
4056(command)S
4576(does)S
4841(not)S
5039(wait)S
3028 V
(until)222 708 A
976(the)S
1170(tape)S
1418(is)S
(physically)497 1545 A
(rewound)423 2088 A
2557(and)S
2777(unloaded.)S
3324(Some)S
3644(tape)S
3891(controllers)S
(cannot)322 4455 A
4822(unload)S
5195(a)S
3168 V
708(tape)S
972(by)S
1154(themselves;)S
1788(they)S
2058(rewind)S
2457(the)S
2667(tape)S
2931(and)S
3167(wait)S
3439(for)S
3644(an)S
3821(operator)S
4288(to)S
4445(unload)S
4836(the)S
5047(tape)S
3308 V
708(manually.)S
3624 V
12 I
708(tape)S
12 Y1
916(3)S
12 I
976(rskip)S
3860 V
11 C
(errstat)469 1068 A
4000 V
(tape)268 1068 A
11 Y1
1336(3)S
11 C
(rskip\(cap,)670 1391 A
(count\))402 2128 A
4140 V
(capability)670 1068 A
(*cap;)335 1805 A
4280 V
(int32)335 1068 A
(count;)402 1470 A
4480 V
12 I
708(Tape)S
12 Y1
949(3)S
12 I
1009(rskip)S
12 R
1322(skips)S
12 I
(count)268 1631 A
12 R
1970(records)S
2388(on)S
2569(the)S
2778(tape)S
3041(specified)S
3540(by)S
12 I
3721(cap.)S
12 R
(Positive)390 3996 A
(counts)315 4447 A
4823(result)S
5155(in)S
4620 V
708(forward)S
1144(record)S
1505(skipping,)S
2001(negative)S
(counts)315 2462 A
2828(result)S
3149(in)S
3294(backward)S
3816(record)S
4176(skipping.)S
4701(Since)S
5020(EOF)S
4760 V
708(markers)S
1136(are)S
1322(normal)S
1702(tape)S
1941(records)S
2335(for)S
2514(certain)S
2882(tape)S
3122(controllers)S
3679(skipping)S
4132(records)S
4527(might)S
4847(result)S
5155(in)S
4900 V
708(skipping)S
1153(files)S
(without)370 1393 A
1793(noticing.)S
2279(After)S
2567(a)S
2651(record)S
2991(skip,)S
3252(the)S
3430(tape)S
3662(file)S
(position)389 3855 A
4274(may)S
4512(be)S
4656(uncertain.)S
5276 V
12 I
708(tape)S
12 Y1
916(3)S
12 I
976(rpos)S
5512 V
11 C
(errstat)469 1068 A
5652 V
(tape)268 1068 A
11 Y1
1336(3)S
11 C
(rpos\(cap,)603 1391 A
(pos\))268 2061 A
5792 V
(capability)670 1068 A
(*cap;)335 1805 A
5932 V
(int32)335 1068 A
(*pos;)335 1470 A
6132 V
12 I
708(Tape)S
12 Y1
949(3)S
12 I
1009(rpos)S
12 R
1263(returns)S
1630(the)S
1808(current)S
2182(tape)S
2414(record)S
(position)389 2754 A
3173(in)S
3297(the)S
3475(variable)S
3896(pointed)S
4288(to)S
4412(by)S
12 I
4562(pos.)S
6448 V
708(tape)S
12 Y1
916(3)S
12 I
976(fpos)S
6684 V
11 C
(errstat)469 1068 A
6824 V
(tape)268 1068 A
11 Y1
1336(3)S
11 C
(fpos\(cap,)603 1391 A
(pos\))268 2061 A
6964 V
(capability)670 1068 A
(*cap;)335 1805 A
7104 V
(int32)335 1068 A
(*pos;)335 1470 A
7304 V
12 I
708(Tape)S
12 Y1
949(3)S
12 I
1009(fpos)S
12 R
1250(returns)S
1617(the)S
1795(current)S
2169(tape)S
2401(file)S
(position)389 2594 A
3013(in)S
3137(the)S
3315(variable)S
3736(pointed)S
4128(to)S
4252(by)S
12 I
4402(pos.)S
7700 V
12 R
2683(Amoeba)S
3123(5.3)S
(397)180 5069 A
7920 V
EP
%%Page: 398 404
BP
/slant 0 def
/height 0 def
500 V
12 R
708(tape)S
930(\(L\))S
2567(Library)S
2961(Routines)S
4871(tape)S
5093(\(L\))S
860 V
12 I
708(tape)S
12 Y1
916(3)S
12 I
976(fskip)S
1096 V
11 C
(errstat)469 1068 A
1236 V
(tape)268 1068 A
11 Y1
1336(3)S
11 C
(fskip\(cap,)670 1391 A
(count\))402 2128 A
1376 V
(capability)670 1068 A
(*cap;)335 1805 A
1516 V
(int32)335 1068 A
(count;)402 1470 A
1716 V
12 I
708(Tape)S
12 Y1
949(3)S
12 I
1009(fskip)S
12 R
1286(skips)S
12 I
(count)268 1572 A
12 R
1889(EOF)S
2157(markers)S
2587(on)S
2746(the)S
2933(tape)S
3174(specified)S
3651(by)S
12 I
3810(cap.)S
12 R
(Positive)390 4063 A
(counts)315 4492 A
4846(result)S
5155(in)S
1856 V
708(forward)S
1133(file)S
1336(skipping,)S
1821(negative)S
(counts)315 2271 A
2626(result)S
2935(in)S
3068(backward)S
3578(file)S
3780(skipping.)S
4294(A)S
4421(forward)S
4845(tape)S
5086(file)S
1996 V
708(skip)S
942(causes)S
1291(the)S
1472(tape)S
1707(to)S
1834(be)S
(positioned)503 1981 A
2517(at)S
2638(the)S
2819(beginning)S
3334(of)S
3468(the)S
3649(desired)S
4032(file,)S
4258(a)S
4346(backward)S
4851(file)S
5048(skip)S
2136 V
708(causes)S
1054(the)S
1232(tape)S
1464(to)S
1588(be)S
(positioned)503 1732 A
2265(at)S
2383(the)S
2561(end)S
2765(of)S
2896(the)S
3074(desired)S
3454(file)S
3647(\(actually)S
4102(at)S
4220(the)S
4398(EOF)S
4657(marker\).)S
2452 V
12 I
708(tape)S
12 Y1
916(3)S
12 I
976(erase)S
2688 V
11 C
(errstat)469 1068 A
2828 V
(tape)268 1068 A
11 Y1
1336(3)S
11 C
(erase\(cap\))670 1391 A
2968 V
(capability)670 1068 A
(*cap;)335 1805 A
3168 V
12 I
708(Tape)S
12 Y1
949(3)S
12 I
1009(erase)S
12 R
1311(formats)S
1712(the)S
1890(complete)S
2364(tape)S
2596(specified)S
3064(by)S
12 I
3214(cap.)S
12 R
3458(The)S
3676(current)S
4050(data)S
4282(is)S
4393(destroyed.)S
3484 V
12 I
708(tape)S
12 Y1
916(3)S
12 I
976(status)S
3720 V
11 C
(errstat)469 1068 A
3860 V
(tape)268 1068 A
11 Y1
1336(3)S
11 C
(status\(cap,)737 1391 A
(buf,)268 2195 A
(size\))335 2530 A
4000 V
(capability)670 1068 A
(*cap;)335 1805 A
4140 V
(bufptr)402 1068 A
(*buf;)335 1537 A
4280 V
(bufsize)469 1068 A
(size;)335 1604 A
4480 V
12 I
708(Tape)S
12 Y1
949(3)S
12 I
1009(status)S
12 R
1340(returns)S
1716(a)S
1809(NULL-terminated)S
2732(ASCII)S
3088(string)S
3403(in)S
3536(buffer)S
12 I
3872(buf)S
12 R
4075(which)S
4410(reports)S
4786(the)S
4973(status)S
4620 V
708(of)S
839(the)S
1017(tape)S
1249(specified)S
1717(by)S
12 I
1867(cap.)S
12 R
2111(The)S
2329(ASCII)S
2676(string)S
2982(size)S
3201(is)S
12 I
3312(size.)S
4936 V
708(tape)S
12 Y1
916(3)S
12 I
976(why)S
5172 V
11 C
(char)268 1068 A
1403(*)S
5312 V
(tape)268 1068 A
11 Y1
1336(3)S
11 C
(why\(err\))536 1391 A
5452 V
(errstat)469 1068 A
(err;)268 1604 A
5652 V
12 I
708(Tape)S
12 Y1
949(3)S
12 I
1009(why)S
12 R
1260(returns)S
1644(a)S
1745(NULL-terminated)S
2676(ASCII)S
3040(string)S
3364(which)S
3708(describes)S
4207(the)S
4403(tape)S
4653(error)S
12 I
4938(err.)S
12 R
5174(It)S
5792 V
708(calls)S
12 I
961(err)S
12 Y1
1109(3)S
12 I
1169(why)S
12 R
1403(\(see)S
12 I
1629(error)S
12 R
1894(\(L\)\))S
2121(if)S
2226(it)S
2324(does)S
2575(not)S
(recognize)471 2759 A
3260(the)S
3438(error)S
3705(code.)S
6072 V
12 B
708(Examples)S
6248 V
12 R
708(The)S
951(following)S
1477(example)S
1942(loads)S
2252(a)S
2361(tape,)S
2648(skips)S
2952(10)S
3128(records,)S
3571(reads)S
3883(a)S
3993(record)S
4359(of)S
12 I
4516(size)S
12 R
4764(bytes)S
5075(and)S
6388 V
708(unloads)S
1113(the)S
1291(tape.)S
7700 V
(398)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 399 405
BP
/slant 0 def
/height 0 def
500 V
12 R
708(tape)S
930(\(L\))S
2567(Library)S
2961(Routines)S
4871(tape)S
5093(\(L\))S
920 V
11 C
1068(do)S
11 Y1
1202(3)S
11 C
(tape\(cap,)603 1257 A
(buf,)268 1927 A
(size\))335 2262 A
1060 V
(capability)670 1068 A
(*cap;)335 1805 A
1200 V
(bufptr)402 1068 A
(buf;)268 1604 A
1340 V
(bufsize)469 1068 A
(size;)335 1604 A
1480 V
1068({)S
1620 V
(errstat)469 1336 A
(rv;)201 1872 A
1760 V
(bufsize)469 1336 A
(xread;)402 1872 A
2040 V
1336(/*)S
(load)268 1537 A
(tape)268 1872 A
2207(*/)S
2180 V
1336(if)S
(\(\(rv)268 1537 A
1872(=)S
(tape)268 2006 A
11 Y1
2274(3)S
11 C
(load\(cap\)\))670 2329 A
3066(!=)S
(STD)201 3267 A
11 Y1
3468(3)S
11 C
(OK\))201 3523 A
3791({)S
2320 V
(printf\("Cannot)938 1652 A
(load)268 2657 A
(tape:)335 2992 A
(%s\\n",)402 3394 A
(tape)268 3863 A
11 Y1
4131(3)S
11 C
(why\(rv\)\);)603 4186 A
2460 V
(exit\(1\);)536 1652 A
2600 V
1336(})S
2880 V
1336(/*)S
(skip)268 1537 A
1872(10)S
(records)469 2073 A
(forwards)536 2609 A
3212(*/)S
3020 V
1336(if)S
(\(\(rv)268 1537 A
1872(=)S
(tape)268 2006 A
11 Y1
2274(3)S
11 C
(rskip\(cap,)670 2329 A
(10\)\))268 3066 A
3401(!=)S
(STD)201 3602 A
11 Y1
3803(3)S
11 C
(OK\))201 3858 A
4126({)S
3160 V
(printf\("Cannot)938 1652 A
(skip)268 2657 A
2992(on)S
(tape:)335 3193 A
(%s\\n",)402 3595 A
(tape)268 4064 A
11 Y1
4332(3)S
11 C
(why\(rv\)\);)603 4387 A
3300 V
(exit\(1\);)536 1652 A
3440 V
1336(})S
3720 V
1336(/*)S
(read)268 1537 A
1872(a)S
(record)402 2006 A
2475(of)S
(size)268 2676 A
(bytes)335 3011 A
3413(*/)S
3860 V
1336(if)S
(\(\(rv)268 1537 A
1872(=)S
(tape)268 2006 A
11 Y1
2274(3)S
11 C
(read\(cap,)603 2329 A
(buf,)268 2999 A
(size,)335 3334 A
(&xread\)\))536 3736 A
4339(!=)S
(STD)201 4540 A
11 Y1
4741(3)S
11 C
(OK\))201 4796 A
5064({)S
4000 V
(printf\("Cannot)938 1652 A
(read)268 2657 A
(tape:)335 2992 A
(%s\\n",)402 3394 A
(tape)268 3863 A
11 Y1
4131(3)S
11 C
(why\(rv\)\);)603 4186 A
4140 V
(exit\(1\);)536 1652 A
4280 V
1336(})S
4560 V
1336(/*)S
(unload)402 1537 A
(the)201 2006 A
(tape)268 2274 A
2609(*/)S
4700 V
1336(if)S
(\(\(rv)268 1537 A
1872(=)S
(tape)268 2006 A
11 Y1
2274(3)S
11 C
(unload\(cap\)\))804 2329 A
3200(!=)S
(STD)201 3401 A
11 Y1
3602(3)S
11 C
(OK\))201 3657 A
3925({)S
4840 V
(printf\("Cannot)938 1652 A
(unload)402 2657 A
(tape:)335 3126 A
(%s\\n",)402 3528 A
(tape)268 3997 A
11 Y1
4265(3)S
11 C
(why\(rv\)\);)603 4320 A
4980 V
(exit\(1\);)536 1652 A
5120 V
1336(})S
5260 V
(return\(xread\);)938 1336 A
5400 V
1068(})S
5740 V
12 B
708(See)S
913(Also)S
5916 V
12 R
708(error\(L\),)S
1161(std\(L\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(399)180 5069 A
7920 V
EP
%%Page: 400 406
BP
/slant 0 def
/height 0 def
500 V
12 R
708(thread)S
1031(\(L\))S
2567(Library)S
2961(Routines)S
4770(thread)S
5093(\(L\))S
860 V
2350(\(in)S
2515(libraries:)S
2978(libamoeba.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(thread)S
12 R-1
1041(-)S
12 R
1169(thread)S
1502(creation)S
1923(and)S
2127(thread)S
2460(memory)S
2893(management)S
(module)362 3541 A
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("thread.h")670 1311 A
2322 V
(int)201 708 A
(thread)402 976 A
11 Y1
1378(3)S
11 C
(newthread\(func,)1005 1433 A
(stsize,)469 2505 A
(param,)402 3041 A
(psize\))402 3510 A
2462 V
(int)201 708 A
(thread)402 976 A
11 Y1
1378(3)S
11 C
(exit\(\))402 1433 A
2602 V
(char)268 708 A
(*thread)469 1043 A
11 Y1
1512(3)S
11 C
(alloc\(index,)804 1567 A
(size\))335 2438 A
2742 V
(char)268 708 A
(*thread)469 1043 A
11 Y1
1512(3)S
11 C
(param\(size\))737 1567 A
2882 V
(char)268 708 A
(*thread)469 1043 A
11 Y1
1512(3)S
11 C
(realloc\(index,)938 1567 A
(size\))335 2572 A
3222 V
12 B
708(Description)S
3398 V
12 R
708(The)S
12 I
959(thread)S
12 R
(module)362 1347 A
1772(provides)S
2251(the)S
2462(programming)S
(interface)426 3183 A
3672(to)S
3830(create,)S
4215(destroy)S
4635(and)S
4873(manage)S
3538 V
708(concurrent)S
1257(threads.)S
1698(Each)S
1971(thread)S
2305(can)S
2504(start)S
2745(executing)S
3246(a)S
3331(separate)S
3760(routine;)S
4168(they)S
4407(do)S
4558(not)S
4743(all)S
4896(have)S
5155(to)S
3678 V
708(execute)S
1114(the)S
1298(same)S
1583(function.)S
2083(Each)S
2362(thread)S
2702(in)S
2833(a)S
(multi-threaded)714 2924 A
3675(process)S
4075(shares)S
4415(the)S
4600(same)S
4886(address)S
3818 V
(space.)299 708 A
1077(It)S
1192(has)S
1393(its)S
1548(own)S
1796(stack)S
2085(and)S
2299(program)S
(counter)363 2749 A
3152(but)S
3346(otherwise)S
3858(shares)S
4201(the)S
4389(text,)S
4641(data)S
4882(and)S
5095(bss)S
3958 V
708(segments)S
1195(of)S
1333(the)S
1518(process.)S
(Because)403 1978 A
2418(it)S
2523(is)S
2641(sometimes)S
3196(useful)S
3529(to)S
3660(have)S
3926(data)S
4166(global)S
4506(within)S
4854(a)S
4946(thread)S
4098 V
708(but)S
929(not)S
(accessible)492 1150 A
1709(outside)S
2125(the)S
2340(thread,)S
12 I
2740(glocal)S
12 R
3119(data)S
3387(is)S
3534(provided.)S
4089(See)S
4330(the)S
4544(description)S
5148(of)S
4238 V
12 I
708(thread)S
12 Y1
1023(3)S
12 I
1083(alloc)S
12 R
1365(below)S
1691(for)S
1863(details)S
2210(of)S
2341(how)S
2579(to)S
2703(allocate)S
3111(and)S
3315(use)S
12 I
3506(glocal)S
12 R
3848(data.)S
4414 V
708(The)S
949(threads)S
1352(are)S
1554(currently)S
2045(scheduled)S
(non-preemptively)860 2581 A
3495(by)S
3669(default.)S
4120(Preemptive)S
4726(scheduling)S
4554 V
708(must)S
976(be)S
1123(enabled)S
(explicitly)458 1532 A
2023(using)S
12 I
2317(thread)S
12 Y1
2632(3)S
12 I
(enable)322 2692 A
12 Y1
3014(3)S
12 I
3074(preemption)S
12 R
3635(\(see)S
12 I
3864(thread)S
12 Y1
4179(3)S
12 I
4239(scheduling)S
12 R
4772(\(L\)\).)S
5061(It)S
5168(is)S
4694 V
708(important)S
1213(to)S
1341(protect)S
(accesses)411 1712 A
2157(to)S
2285(global)S
2621(data)S
2857(with)S
3107(mutexes)S
3544(\(see)S
12 I
3774(mutex)S
12 R
4074(\(L\)\).)S
4365(It)S
4474(is)S
4589(possible)S
5019(for)S
5195(a)S
4834 V
708(thread)S
1046(to)S
1175(request)S
1560(that)S
1777(it)S
1880(be)S
2029(rescheduled)S
2642(using)S
12 I
2937(threadswitch)S
12 R
3605(\(see)S
12 I
3835(thread)S
12 Y1
4150(3)S
12 I
4210(scheduling)S
12 R
4743(\(L\)\).)S
5034(This)S
4974 V
708(can)S
906(be)S
1050(very)S
1295(useful)S
1621(in)S
1745(the)S
1923(presence)S
2377(of)S
(non-preemptive)766 2508 A
3304(scheduling.)S
5150 V
12 B
708(NB.)S
12 R
966(If)S
1078(a)S
1162(program)S
1602(is)S
(multi-threaded)714 1713 A
2457(it)S
2555(is)S
2666(not)S
2850(safe)S
3077(to)S
3202(use)S
11 R
3392(UNIX)S
12 R
3700(emulation)S
4215(routines)S
4636(in)S
4761(more)S
5041(than)S
5290 V
708(one)S
924(thread)S
1269(of)S
1412(the)S
1602(program.)S
11 R
2110(UNIX)S
12 R
2429(is)S
2552(not)S
(multi-threaded)714 2748 A
3504(and)S
3719(therefore)S
4199(the)S
4388(emulation)S
4913(is)S
5035(only)S
5430 V
708(likely)S
1017(to)S
1144(be)S
1291(correct)S
1662(if)S
1770(confined)S
2226(to)S
2353(a)S
2440(single)S
2762(thread)S
3098(of)S
3233(a)S
3321(program.)S
3825(For)S
4027(example,)S
4501(a)S
4589(program)S
5033(with)S
5570 V
708(several)S
1097(threads)S
1492(where)S
1834(one)S
2053(is)S
2179(in)S
12 I
2317(read)S
12 R
(waiting)364 2592 A
3000(for)S
(input)248 3186 A
3478(from)S
3758(a)S
3856(terminal)S
4305(and)S
4523(another)S
4930(does)S
5195(a)S
5710 V
12 I
708(fork)S
12 R
949(may)S
1193(well)S
1439(hang)S
(until)222 1709 A
1967(the)S
2151(read)S
2396(is)S
2513(satisfied.)S
3014(The)S
12 I
3238(exit)S
12 R
3460(routine)S
3840(has)S
4038(been)S
4303(modified)S
4777(to)S
4908(force)S
5195(a)S
5850 V
708(close)S
996(on)S
1155(all)S
1316(descriptors,)S
1916(even)S
2182(if)S
2295(they)S
2541(are)S
2728(held)S
2974(by)S
3132(another)S
3533(thread)S
3874(and)S
4086(no)S
4244(guarantees)S
4800(are)S
4987(made)S
5990 V
708(on)S
858(the)S
1036(correctness)S
1612(of)S
1743(any)S
(resulting)424 1947 A
(input)248 2401 A
2679(or)S
2810(output)S
3148(if)S
12 I
3253(exit)S
12 R
3469(is)S
3580(called)S
3900(in)S
4024(such)S
4275(circumstances.)S
7700 V
(400)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 401 407
BP
/slant 0 def
/height 0 def
500 V
12 R
708(thread)S
1031(\(L\))S
2567(Library)S
2961(Routines)S
4770(thread)S
5093(\(L\))S
860 V
12 I
708(Functions)S
1212 V
708(thread)S
12 Y1
1023(3)S
12 I
1083(newthread)S
1448 V
11 C
(int)201 1068 A
1588 V
(thread)402 1068 A
11 Y1
1470(3)S
11 C
(newthread\(func,)1005 1525 A
(stsize,)469 2597 A
(param,)402 3133 A
(psize\))402 3602 A
1728 V
(void)268 1068 A
(\(*func\)\(\);)670 1403 A
1868 V
(int)201 1068 A
(stsize;)469 1336 A
2008 V
(char)268 1068 A
(*param;)469 1403 A
2148 V
(int)201 1068 A
(psize;)402 1336 A
2348 V
12 I
708(Thread)S
12 Y1
1056(3)S
12 I
1116(newthread)S
12 R
1680(spawns)S
2081(a)S
2181(new)S
2429(thread)S
2778(and)S
2998(starts)S
3301(it)S
3415(at)S
3549(function)S
12 I
3998(func)S
12 R
4216(.)S
12 I
4322(Thread)S
12 Y1
4670(3)S
12 I
4730(newthread)S
2488 V
12 R
708(allocates)S
1187(a)S
1295(thread)S
1652(stack)S
1955(of)S
12 I
2110(stsize)S
12 R
2437(bytes.)S
12 I
2806(Stsize)S
12 R
3146(must)S
3435(be)S
3603(at)S
3745(least)S
(512)180 4022 A
4256(bytes)S
4564(or)S
4718(the)S
(calling)330 4919 A
2628 V
708(program)S
(will)190 1218 A
1508(be)S
(killed.)306 1722 A
2158(Parameters)S
2798(can)S
3066(be)S
3280(passed)S
3702(to)S
3896(the)S
4145(new)S
4448(thread)S
4852(via)S
5101(the)S
2768 V
12 I
708(thread)S
12 Y1
1023(3)S
12 I
1083(newthread)S
12 R
1643(parameters)S
12 I
2217(param)S
12 R
2583(and)S
12 I
2797(psize)S
12 R
3049(.)S
12 I
3149(Param)S
12 R
3528(is)S
3649(a)S
3743(pointer)S
4126(to)S
4260(the)S
4448(data)S
4690(structure)S
5155(to)S
2908 V
708(pass,)S
12 I
990(psize)S
12 R
1286(is)S
1411(the)S
1603(size)S
1836(of)S
1981(the)S
2173(data)S
2419(structure.)S
12 I
2948(Param)S
12 R
3331(must)S
3610(be)S
3768(allocated)S
4250(by)S
4414(a)S
4513(member)S
4955(of)S
5101(the)S
3048 V
12 I
708(malloc)S
12 R
1111(family)S
1491(\(see)S
12 I
1750(malloc)S
12 R
2090(\(L\)\))S
2350(since)S
2662(the)S
2873(clean)S
3192(up)S
3375(when)S
3700(the)S
3911(thread)S
4277(exits)S
(will)190 4569 A
4822(free)S
5074(this)S
3188 V
708(memory.)S
1218(Memory)S
1681(allocated)S
2166(using)S
12 I
2474(thread)S
12 Y1
2789(3)S
12 I
2849(alloc)S
12 R
(cannot)322 3148 A
3517(be)S
3678(used!)S
4017(When)S
4352(no)S
4519(parameters)S
5100(are)S
3328 V
708(passed,)S
12 I
1100(param)S
12 R
1465(must)S
1740(be)S
1894(a)S
1988(NULL-pointer)S
2736(and)S
12 I
2950(psize)S
12 R
3242(must)S
3517(be)S
3671(zero.)S
3979(Once)S
4274(the)S
4461(thread)S
4803(exits,)S
5101(the)S
3468 V
708(allocated)S
1176(stack)S
1455(and)S
1659(parameter)S
2175(area)S
2408(are)S
2587(freed.)S
2927(The)S
3145(function)S
12 I
3578(func)S
12 R
3826(is)S
3937(called)S
4257(as)S
4388(follows:)S
3668 V
11 C
(\(*func\)\(param,)938 1068 A
(psize\))402 2073 A
3808 V
(char)268 1068 A
(*param;)469 1403 A
3948 V
(int)201 1068 A
(psize;)402 1336 A
4148 V
12 R
708(If)S
820(the)S
998(called)S
1318(function)S
1751(returns,)S
2148(the)S
2326(thread)S
2659(exits.)S
4324 V
12 I
708(Thread)S
12 Y1
1056(3)S
12 I
1116(newthread)S
12 R
1703(returns)S
2109(zero)S
(upon)240 2387 A
2696(failures)S
3130(\(insufficient)S
3793(memory)S
4265(or)S
4435(out)S
4658(of)S
4828(threads\),)S
4464 V
708(otherwise)S
1210(a)S
(positive)383 1294 A
1707(value)S
1999(is)S
2110(returned.)S
4640 V
708(Note)S
993(that)S
1224(not)S
1427(all)S
1598(threads)S
1997(are)S
2195(created)S
2595(equal.)S
2966(When)S
3303(a)S
3406(process)S
3819(first)S
4066(starts)S
4373(it)S
4491(consists)S
4924(of)S
5075(one)S
4780 V
708(thread)S
1069(which)S
1423(starts)S
1738(the)S
1944(routine)S
12 I
2345(main\(\))S
12 R
2679(.)S
2797(If)S
2937(main)S
3237(returns)S
3631(then)S
12 I
3896(exit\(\))S
12 R
4221(is)S
4359(called)S
4706(which)S
(will)190 5059 A
4920 V
708(terminate)S
1208(the)S
1397(entire)S
1715(process)S
2119(immediately.)S
2826(If)S
2950(it)S
3060(is)S
3183(desired)S
3575(that)S
12 I
3799(main)S
12 R
4093(terminate)S
4594(and)S
4810(the)S
5000(other)S
5060 V
708(threads)S
1088(continue)S
1534(then)S
1772(it)S
1870(must)S
2135(not)S
2319(return)S
2639(but)S
2823(call)S
12 I
3029(thread)S
12 Y1
3344(3)S
12 I
3404(exit)S
12 R
3620(\(described)S
4155(below\).)S
5236 V
708(Typically,)S
1257(when)S
1574(a)S
1683(new)S
1941(thread)S
2300(is)S
2437(created)S
2844(the)S
3048(parent)S
3407(continues)S
3926(to)S
4076(execute)S
(until)222 4502 A
4780(it)S
4904(blocks.)S
5376 V
708(However,)S
1235(if)S
1362(preemptive)S
1959(scheduling)S
2533(is)S
2665(enabled)S
3092(\(see)S
12 I
3339(thread)S
12 Y1
3654(3)S
12 I
3714(scheduling)S
12 R
4247(\(L\)\))S
4495(then)S
4754(the)S
4953(newly)S
5516 V
708(created)S
1107(process)S
(will)190 1518 A
1756(have)S
2032(the)S
2228(same)S
2525(priority)S
2937(as)S
3086(the)S
3282(current)S
3674(thread.)S
4085(This)S
4349(means)S
4707(at)S
4844(the)S
5041(next)S
5656 V
708(event)S
1000(\(such)S
1292(as)S
1423(an)S
1567(interrupt\))S
2056(the)S
2234(new)S
2466(thread)S
2799(may)S
3037(be)S
3181(scheduled.)S
5972 V
12 I
708(thread)S
12 Y1
1023(3)S
12 I
1083(exit)S
6208 V
11 C
(int)201 1068 A
6348 V
(thread)402 1068 A
11 Y1
1470(3)S
11 C
(exit\(\))402 1525 A
6548 V
12 I
708(Thread)S
12 Y1
1056(3)S
12 I
1116(exit)S
12 R
1373(stops)S
1692(the)S
1911(current)S
2326(thread.)S
2760(It)S
2906(then)S
3185(frees)S
3493(any)S
3738(glocal)S
4105(memory)S
4579(\(allocated)S
5129(by)S
6688 V
12 I
708(thread)S
12 Y1
1023(3)S
12 I
1083(alloc/thread)S
12 Y1
1674(3)S
12 I
1734(realloc)S
12 R
2087(\),)S
2222(the)S
2434(parameter)S
2983(area)S
3249(and)S
3486(the)S
3697(allocated)S
4198(stack)S
4510(before)S
(exiting.)366 4883 A
6828 V
12 I
708(Thread)S
12 Y1
1056(3)S
12 I
1116(exit)S
12 R
1346(does)S
1611(not)S
1809(return.)S
2203(When)S
2535(the)S
(calling)330 2727 A
3101(thread)S
3448(was)S
3681(a)S
3780(server)S
4122(thread,)S
4500(and)S
4719(it)S
4832(was)S
(still)183 5066 A
6968 V
708(serving)S
1112(a)S
1214(client,)S
1562(the)S
1758(client)S
(will)190 2076 A
(receive)351 2314 A
2713(an)S
12 C
(RPC)219 2875 A
12 Y1
3094(3)S
12 C
(FAILURE)511 3154 A
12 R
3713(\(see)S
12 I
3956(rpc)S
12 R
4127(\(L\)\).)S
4431(If)S
12 I
4560(thread)S
12 Y1
4875(3)S
12 I
4935(exit)S
12 R
5168(is)S
7108 V
708(called)S
1028(in)S
1152(the)S
1330(last)S
1529(thread)S
1862(of)S
1993(a)S
2077(process,)S
2500(the)S
2678(process)S
3071(exits)S
3330(as)S
3461(well)S
3701(\(see)S
12 I
3927(exitprocess)S
12 R
4482(\(L\)\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(401)180 5069 A
7920 V
EP
%%Page: 402 408
BP
/slant 0 def
/height 0 def
500 V
12 R
708(thread)S
1031(\(L\))S
2567(Library)S
2961(Routines)S
4770(thread)S
5093(\(L\))S
860 V
12 I
708(thread)S
12 Y1
1023(3)S
12 I
1083(alloc)S
1096 V
11 C
(char)268 1068 A
1403(*)S
1236 V
(thread)402 1068 A
11 Y1
1470(3)S
11 C
(alloc\(index,)804 1525 A
(size\))335 2396 A
1376 V
(int)201 1068 A
(*index;)469 1336 A
1516 V
(int)201 1068 A
(size;)335 1336 A
1716 V
12 R
708(The)S
935(first)S
1171(time)S
12 I
1426(thread)S
12 Y1
1741(3)S
12 I
1801(alloc)S
12 R
2092(is)S
2212(called)S
2541(\(with)S
12 I
2837(*index)S
3198(==)S
3401(0\))S
12 R
3512(,)S
12 I
3581(thread)S
12 Y1
3896(3)S
12 I
3956(alloc)S
12 R
4247(allocates)S
4711(glocal)S
5047(data)S
1856 V
708(of)S
12 I
863(size)S
12 R
1109(bytes)S
1418(and)S
1646(returns)S
2037(the)S
(module)362 2239 A
2655(reference)S
3162(number)S
3585(in)S
12 I
3733(*index)S
12 R
4065(.)S
4179(The)S
4421(allocated)S
4913(data)S
5168(is)S
1996 V
(initialized)486 708 A
1228(to)S
1356(zero.)S
1660(The)S
1883(value)S
2180(of)S
2316(the)S
2499(function)S
2937(is)S
3053(a)S
3142(pointer)S
3520(to)S
3649(the)S
3832(glocal)S
4163(data.)S
(Successive)531 4460 A
5026(calls)S
2136 V
708(to)S
12 I
843(thread)S
12 Y1
1158(3)S
12 I
1218(alloc)S
12 R
1511(with)S
1768(the)S
1957(previously)S
2507(assigned)S
(module)362 2963 A
3365(reference)S
3858(number)S
4267(result)S
4577(in)S
4711(returning)S
5195(a)S
2276 V
708(pointer)S
1081(to)S
1205(the)S
1383(previously)S
1923(allocated)S
2391(memory.)S
2452 V
12 I
708(Thread)S
12 Y1
1056(3)S
12 I
1116(alloc)S
12 R
1410(returns)S
1789(a)S
1885(NULL-pointer)S
2635(on)S
2797(insufficient)S
3392(memory)S
3837(or)S
3980(when)S
4285(a)S
(successive)511 4382 A
4936(call)S
5155(to)S
2592 V
12 I
708(thread)S
12 Y1
1023(3)S
12 I
1083(alloc)S
12 R
1370(has)S
1566(a)S
1655(different)S
2109(size)S
2333(parameter)S
2854(than)S
3097(in)S
3226(the)S
3409(original)S
3821(call.)S
4092(In)S
4228(this)S
4437(case,)S
4710(the)S
4892(already)S
2732 V
708(allocated)S
1176(memory)S
1609(is)S
1720(not)S
1904(modified)S
2371(or)S
2502(freed.)S
2908 V
708(Consider)S
1187(an)S
1344(example.)S
(Suppose)408 1857 A
2308(a)S
2406(function)S
2853(in)S
2991(a)S
3089(single-threaded)S
3880(program)S
4334(that)S
4560(uses)S
4812(a)S
4910(\(static\))S
3048 V
708(global)S
1040(variable.)S
1521(For)S
1719(example,)S
3248 V
11 C
(static)402 1068 A
(long)268 1537 A
(sum;)268 1872 A
3388 V
(long)268 1068 A
(add\(x\))402 1403 A
3528 V
(long)268 1068 A
1403(x;)S
3668 V
1068({)S
3808 V
(sum)201 1336 A
1604(+=)S
1805(x;)S
3948 V
(return)402 1336 A
(sum;)268 1805 A
4088 V
1068(})S
4288 V
12 R
708(Now)S
(suppose)388 995 A
1434(this)S
1660(function)S
2114(must)S
2401(be)S
2567(used)S
2840(in)S
2986(a)S
(multi-threaded)714 3092 A
3858(program,)S
4350(where)S
4699(the)S
4899(threads)S
4428 V
708(perform)S
1135(independent)S
1761(computations.)S
2508(This)S
2759(means)S
3104(a)S
3194(separate)S
12 I
3628(sum)S
12 R
3869(variable)S
4295(is)S
4411(required)S
4850(for)S
(each)222 5027 A
4568 V
708(thread.)S
1105(If)S
1221(the)S
1403(number)S
1806(of)S
1941(threads)S
2325(is)S
(known)328 2440 A
2802(in)S
2930(advance,)S
3390(the)S
3572(threads)S
3956(could)S
4259(be)S
4408(numbered)S
4926(and)S
5135(an)S
4708 V
708(array)S
999(indexed)S
1422(by)S
1583(thread)S
1927(numbers)S
2384(could)S
2693(maintained)S
3272(\(assuming)S
3810(a)S
3905(thread)S
4249(can)S
4457(find)S
4692(out)S
4886(its)S
5041(own)S
4848 V
708(thread)S
1049(number,)S
1486(which)S
1820(is)S
1940(not)S
2133(trivial)S
2463(unless)S
2804(a)S
2897(parameter)S
3422(is)S
3542(added)S
3869(to)S
12 I
(add)180 4002 A
12 R
4231(for)S
4412(this)S
4626(purpose\).)S
5148(In)S
4988 V
708(general,)S
1125(however,)S
1602(this)S
1807(is)S
1918(too)S
2102(complex.)S
2608(A)S
2726(simpler)S
3120(solution)S
3539(is)S
3650(to)S
3774(use)S
12 I
3965(thread)S
12 Y1
4280(3)S
12 I
4340(alloc)S
12 R
4592(.)S
5188 V
11 C
(#include)536 1068 A
("thread.h")670 1671 A
5328 V
(static)402 1068 A
(int)201 1537 A
(ident;)402 1805 A
5468 V
(long)268 1068 A
(add\(x\))402 1403 A
5608 V
(long)268 1068 A
1403(x;)S
5748 V
1068({)S
5888 V
(long)268 1336 A
1671(*p)S
11 Y1
1805(3)S
11 C
(sum;)268 1860 A
6028 V
1336(p)S
11 Y1
1403(3)S
11 C
(sum)201 1458 A
1726(=)S
(\(long)335 1860 A
2262(*\))S
(thread)402 2463 A
11 Y1
2865(3)S
11 C
(alloc\(&ident,)871 2920 A
(sizeof\(long\)\);)938 3858 A
6168 V
1336(*p)S
11 Y1
1470(3)S
11 C
(sum)201 1525 A
1793(+=)S
1994(x;)S
6308 V
(return)402 1336 A
1805(*p)S
11 Y1
1939(3)S
11 C
(sum;)268 1994 A
6448 V
1068(})S
6648 V
12 R
(Because)403 708 A
1145(there)S
1422(may)S
1664(be)S
1812(several)S
2190(functions)S
2674(in)S
2802(a)S
2890(program)S
3334(that)S
3550(need)S
3812(a)S
3900(block)S
4202(of)S
4338(glocal)S
4669(memory)S
5107(for)S
6788 V
708(private)S
1091(use,)S
12 I
1328(thread)S
12 Y1
1643(3)S
12 I
1703(alloc)S
12 R
2001(has)S
2208(an)S
12 I
2368(ident)S
12 R
2665(parameter)S
3196(that)S
3423(indicates)S
3899(the)S
(identity)370 4092 A
4507(of)S
4653(the)S
4846(memory)S
6928 V
708(block)S
1037(\(not)S
1293(the)S
(calling)330 1502 A
1894(thread!\).)S
2401(This)S
2678(must)S
2975(be)S
3151(the)S
3361(address)S
3786(of)S
3949(a)S
4065(global)S
4429(integer)S
4828(variable,)S
7068 V
708(statically)S
(initialized)486 1252 A
1843(to)S
2042(zero.\262)S
2477(This)S
2798(variable)S
3295(is)S
3482(used)S
3809(for)S
12 I
4057(thread)S
12 Y1
4372(3)S
12 I
4432(alloc)S
12 R
4684('s)S
4878(internal)S
7188 V
10 Y1
708(3)S
(33333333333333)700 728 A
7308 V
10 R
708(\262)S
787(To)S
928(be)S
1052(precise,)S
1392(the)S
1544(variable)S
1898(must)S
2122(have)S
2341(global)S
2621(lifetime)S
2964(\(`static)S
3274(duration')S
3672(in)S
3779(Standard)S
4166(C)S
(jargon\);)319 4262 A
4611(it)S
4697(may)S
7428 V
708(have)S
923(local)S
1144(scope,)S
1423(i.e.,)S
1596(it)S
1677(may)S
1875(be)S
1995(a)S
2065(static)S
2303(variable)S
2653(declared)S
3020(in)S
3123(a)S
3193(function.)S
7700 V
12 R
(402)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 403 409
BP
/slant 0 def
/height 0 def
500 V
12 R
708(thread)S
1031(\(L\))S
2567(Library)S
2961(Routines)S
4770(thread)S
5093(\(L\))S
860 V
708(administration;)S
1489(its)S
1651(contents)S
2101(must)S
2383(never)S
2699(be)S
2860(touched)S
3290(by)S
3458(the)S
(calling)330 3654 A
4032(function.)S
4543(Functions)S
5067(that)S
1000 V
708(need)S
970(to)S
1098(use)S
1293(the)S
1475(same)S
1758(block)S
2060(of)S
2195(glocal)S
2525(data)S
2760(must)S
3028(use)S
3222(the)S
3403(same)S
12 I
3685(ident)S
12 R
3970(variable.)S
4454(For)S
4655(consistency,)S
1140 V
708(all)S
870(calls)S
1133(using)S
1434(the)S
1622(same)S
12 I
1911(ident)S
12 R
2203(variable)S
2634(must)S
2909(pass)S
3157(the)S
3345(same)S
3635(block)S
3944(size.)S
4234(To)S
4409(change)S
4792(the)S
4981(block)S
1280 V
708(size,)S
12 I
957(thread)S
12 Y1
1272(3)S
12 I
1332(realloc)S
12 R
1715(can)S
1913(be)S
2057(used.)S
1596 V
12 I
708(thread)S
12 Y1
1023(3)S
12 I
1083(realloc)S
1832 V
11 C
(char)268 1068 A
1403(*)S
1972 V
(thread)402 1068 A
11 Y1
1470(3)S
11 C
(realloc\(index,)938 1525 A
(size\))335 2530 A
2112 V
(int)201 1068 A
(*index;)469 1336 A
2252 V
(int)201 1068 A
(size;)335 1336 A
2452 V
12 I
708(Thread)S
12 Y1
1056(3)S
12 I
1116(realloc)S
12 R
1504(is)S
1620(used)S
1876(to)S
2005(change)S
2382(the)S
2565(size)S
2789(of)S
2925(the)S
3108(block)S
3411(of)S
3547(glocal)S
3878(memory)S
4316(associated)S
4849(with)S
5101(the)S
2592 V
(module)362 708 A
1107(reference)S
1597(number)S
12 I
2003(*index)S
12 R
2371(that)S
2589(was)S
2814(previously)S
3360(allocated)S
3834(by)S
12 I
3990(thread)S
12 Y1
4305(3)S
12 I
4365(alloc)S
12 R
4617(.)S
4713(It)S
4824(allocates)S
2732 V
708(a)S
798(new)S
1036(glocal)S
1368(memory)S
1807(block)S
2111(of)S
12 I
2248(size)S
12 R
2476(bytes)S
2767(and)S
(initializes)473 2977 A
3486(it)S
3591(to)S
3722(zero.)S
4028(It)S
4140(then)S
4385(copies)S
4731(to)S
4862(the)S
5047(new)S
2872 V
708(memory)S
1142(block)S
1441(however)S
1889(much)S
2188(of)S
2320(the)S
2499(old)S
2684(data)S
2917(that)S
(will)190 3130 A
3351(fit)S
3490(in)S
3614(it.)S
3772(When)S
12 I
4090(thread)S
12 Y1
4405(3)S
12 I
4465(realloc)S
12 R
4848(is)S
4959(called)S
3012 V
708(with)S
12 I
954(*index)S
12 R
1316(equal)S
1608(to)S
1732(zero)S
1971(it)S
2069(operates)S
2503(as)S
12 I
2634(thread)S
12 Y1
2949(3)S
12 I
3009(alloc)S
12 R
3261(.)S
3188 V
12 I
708(Thread)S
12 Y1
1056(3)S
12 I
1116(realloc)S
12 R
1500(returns)S
1868(a)S
1953(NULL-pointer)S
2692(on)S
2844(insufficient)S
3429(memory.)S
3924(It)S
4031(does)S
4284(not)S
4470(free)S
4692(the)S
4872(original)S
3328 V
708(glocal)S
1034(data)S
1266(in)S
1390(this)S
1595(case)S
1834(so)S
1971(that)S
2183(it)S
2281(can)S
(still)183 2479 A
2692(be)S
(accessed)424 2836 A
3290(or)S
3421(the)S
3599(reallocation)S
4202(retried)S
4550(later.)S
3504 V
12 B
708(Note)S
991(Well)S
12 R
1233(:)S
1307(As)S
1482(a)S
1576(temporary)S
2114(hack,)S
12 I
2412(thread)S
12 Y1
2727(3)S
12 I
2787(realloc)S
12 R
3180(never)S
3489(frees)S
3766(the)S
3954(previous)S
(copy)234 4411 A
4686(of)S
4828(the)S
5017(data.)S
3644 V
708(This)S
958(must)S
1228(be)S
(done)234 1377 A
1645(in)S
1773(the)S
(calling)330 1955 A
2319(program)S
2763(using)S
12 I
3058(free)S
12 R
3291(\(see)S
12 I
3521(malloc)S
12 R
3861(\(L\)\).)S
4152(It)S
4261(is)S
4376(not)S
4564(recommended)S
3784 V
708(that)S
920(this)S
1125(routine)S
1498(be)S
1642(used)S
(until)222 1893 A
2145(this)S
2350(feature)S
2718(is)S
2829(removed.)S
4100 V
12 I
708(thread)S
12 Y1
1023(3)S
12 I
1083(param)S
4336 V
11 C
(char)268 1068 A
1403(*)S
4476 V
(thread)402 1068 A
11 Y1
1470(3)S
11 C
(param\(size\))737 1525 A
4616 V
(int)201 1068 A
(*size;)402 1336 A
4816 V
12 I
708(Thread)S
12 Y1
1056(3)S
12 I
1116(param)S
12 R
1477(returns)S
1850(the)S
2034(parameter)S
2556(pointer)S
2936(which)S
3269(was)S
(initially)378 3495 A
3910(passed)S
4269(to)S
4400(the)S
(initial)284 4585 A
4906(routine)S
4956 V
708(of)S
839(the)S
1017(current)S
1391(thread.)S
1784(It)S
1889(returns)S
2256(the)S
2434(size)S
2653(of)S
2784(the)S
2962(parameter)S
3478(in)S
12 I
3602(*size)S
12 R
3854(.)S
5272 V
12 I
708(Warnings)S
5448 V
12 R
708(The)S
12 I
946(thread)S
12 R
(module)362 1321 A
1733(uses)S
1991(the)S
2189(global)S
2541(variable)S
12 Y1
2982(3)S
12 I
3042(thread)S
12 Y1
3357(3)S
12 I
3417(local)S
12 R
3719(\(see)S
12 I
3966(sys)S
12 Y1
4114(3)S
12 I
4174(newthread)S
12 R
4693(\(L\)\))S
4941(for)S
5134(its)S
5588 V
708(administration.)S
5868 V
12 B
708(Example)S
6044 V
12 R
708(The)S
936(following)S
1447(example)S
1897(shows)S
2239(thread)S
2582(creation)S
3013(and)S
3227(the)S
3415(use)S
3616(of)S
3758(glocal)S
4095(memory.)S
12 I
4599(Ref)S
12 Y1
4761(3)S
12 I
4821(nr)S
12 R
4979(is)S
5101(the)S
6184 V
(module)362 708 A
1129(reference)S
1641(number.)S
2129(Each)S
2430(time)S
2705(the)S
2912(signal)S
3260(handler)S
3682(is)S
3822(activated,)S
4348(the)S
4554(glocal)S
4908(data)S
5168(is)S
6324 V
708(fetched)S
1095(which)S
(belongs)375 1421 A
1826(to)S
1950(the)S
(running)375 2128 A
2533(thread)S
2866(and)S
3070(this)S
(module.)392 3275 A
6524 V
11 C
(#define)469 708 A
(NTHREADS)536 1244 A
1847(5)S
6664 V
(#define)469 708 A
(STKSIZE)469 1244 A
(8096)268 1847 A
6804 V
(#define)469 708 A
(SIZE)268 1292 A
(100)201 1895 A
7014 V
(static)402 708 A
(int)201 1177 A
(ref)201 1445 A
11 Y1
1646(3)S
11 C
(nr;)201 1701 A
7700 V
12 R
2683(Amoeba)S
3123(5.3)S
(403)180 5069 A
7920 V
EP
%%Page: 404 410
BP
/slant 0 def
/height 0 def
500 V
12 R
708(thread)S
1031(\(L\))S
2567(Library)S
2961(Routines)S
4770(thread)S
5093(\(L\))S
920 V
11 C
(void)268 708 A
1060 V
(worker)402 708 A
11 Y1
1110(3)S
11 C
(thread\(param,)871 1165 A
(size\))335 2103 A
1200 V
(char)268 708 A
1043(*)S
(param;)402 1177 A
1340 V
(int)201 708 A
(size;)335 976 A
1480 V
708({)S
1620 V
(char)268 976 A
(*ptr;)335 1311 A
1760 V
(int)201 976 A
1244(i;)S
1970 V
976(if)S
(\(size)335 1177 A
1579(==)S
(sizeof)402 1780 A
(\(int\)\))402 2249 A
2718({)S
2110 V
1292(i)S
1426(=)S
(*\(int)335 1560 A
1962(*\))S
(param;)402 2163 A
2250 V
(printf\("Thread)938 1292 A
2297(%d)S
(started\\n",)737 2498 A
(i\);)201 3302 A
2390 V
976(})S
2530 V
976(/*)S
(Initially)603 1177 A
(allocate)536 1847 A
(memory)402 2450 A
(and)201 2919 A
(fetch)335 3187 A
(module)402 3589 A
(ref.)268 4058 A
(number)402 4393 A
4862(*/)S
2670 V
976(if)S
(\(\(ptr)335 1177 A
1579(=)S
(thread)402 1713 A
11 Y1
2115(3)S
11 C
(alloc\(&ref)670 2170 A
11 Y1
2840(3)S
11 C
(nr,)201 2895 A
(SIZE\)\))402 3163 A
3632(==)S
3833(0\))S
4034({)S
2810 V
(fprintf\(stderr,)1005 1244 A
("worker)469 2316 A
11 Y1
2785(3)S
11 C
(thread:)469 2840 A
(cannot)402 3376 A
(thread)402 3845 A
11 Y1
4247(3)S
11 C
(alloc.\\n"\);)737 4302 A
2950 V
(thread)402 1244 A
11 Y1
1646(3)S
11 C
(exit\(\);)469 1701 A
3090 V
976(})S
3230 V
(strcpy\(ptr,)737 976 A
("Peter)402 1780 A
(was)201 2249 A
(here"\);)469 2517 A
3370 V
(...)201 976 A
3510 V
708(})S
3770 V
(main\(\))402 708 A
3910 V
708({)S
4050 V
(int)201 976 A
1244(i;)S
4190 V
(char)268 976 A
1311(*)S
1445(p;)S
4400 V
(for)201 976 A
1244(\(i)S
1445(=)S
1579(0;)S
1780(i)S
1914(<)S
(NTHREADS;)603 2048 A
(i++\))268 2718 A
3053({)S
4540 V
1292(if)S
(\(\(p)201 1493 A
1761(=)S
(malloc\(sizeof)871 1895 A
(\(int\)\)\))469 2833 A
3369(==)S
3570(0\))S
3771({)S
4680 V
(printf\("malloc)938 1560 A
(failed\\n"\);)737 2565 A
4820 V
(exit\(1\);)536 1560 A
4960 V
1292(})S
5100 V
(*\(int)335 1292 A
(*\)p)201 1694 A
1962(=)S
2096(i;)S
5240 V
1292(if)S
(\(!thread)536 1493 A
11 Y1
2029(3)S
11 C
(newthread\(worker)1072 2084 A
11 Y1
3156(3)S
11 C
(thread,)469 3211 A
(STKSZ,)402 3747 A
4216(p,)S
(sizeof)402 4417 A
(\(int\)\)\))469 4886 A
5422({)S
5380 V
(printf\("thread)938 1560 A
11 Y1
2498(3)S
11 C
(newthread)603 2553 A
(failed\\n"\);)737 3223 A
5520 V
(exit\(1\);)536 1560 A
5660 V
1292(})S
5800 V
976(})S
5940 V
976(/*)S
1177(Do)S
(not)201 1378 A
(wait)268 1646 A
(for)201 1981 A
(threads)469 2249 A
2785(to)S
(exit)268 2986 A
3321(*/)S
6080 V
(thread)402 976 A
11 Y1
1378(3)S
11 C
(exit\(\);)469 1433 A
6220 V
708(})S
6560 V
12 B
708(See)S
913(Also)S
6736 V
12 R
708(exitprocess\(L\),)S
1469(malloc\(L\),)S
2015(rpc\(L\),)S
2386(sys)S
12 Y1
2540(3)S
12 R
2600(newthread\(L\),)S
3321(thread)S
12 Y1
3624(3)S
12 R
3684(scheduling\(L\).)S
7700 V
(404)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 405 411
BP
/slant 0 def
/height 0 def
500 V
12 R
708(thread)S
12 Y1
1011(3)S
12 R
1071(scheduling)S
1614(\(L\))S
2567(Library)S
2961(Routines)S
4187(thread)S
12 Y1
4490(3)S
12 R
4550(scheduling)S
5093(\(L\))S
860 V
2350(\(in)S
2515(libraries:)S
2978(libamoeba.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(thread)S
12 Y1
1011(3)S
12 R
1071(scheduling)S
12 R-1
1624(-)S
12 R
1752(routines)S
2172(to)S
2296(control)S
2669(scheduling)S
3222(between)S
3656(threads)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("thread.h")670 1311 A
2182 V
(void)268 708 A
(threadswitch\(\))938 1043 A
2322 V
(void)268 708 A
(thread)402 1043 A
11 Y1
1445(3)S
11 C
(enable)402 1500 A
11 Y1
1902(3)S
11 C
(preemption\(\))804 1957 A
2462 V
(void)268 708 A
(thread)402 1043 A
11 Y1
1445(3)S
11 C
(get)201 1500 A
11 Y1
1701(3)S
11 C
(max)201 1756 A
11 Y1
1957(3)S
11 C
(priority\(max\))871 2012 A
2602 V
(void)268 708 A
(thread)402 1043 A
11 Y1
1445(3)S
11 C
(set)201 1500 A
11 Y1
1701(3)S
11 C
(priority\(new,)871 1756 A
(old\))268 2694 A
2942 V
12 B
708(Description)S
3118 V
12 R
708(These)S
1029(routines)S
1451(can)S
1651(be)S
1797(used)S
2050(to)S
2176(alter)S
2425(the)S
2605(scheduling)S
3160(algorithm)S
3663(used)S
3917(for)S
4092(selecting)S
4556(threads)S
4939(within)S
3258 V
708(a)S
796(process.)S
1253(They)S
1535(do)S
1689(not)S
1877(alter)S
2128(the)S
2310(scheduling)S
2867(algorithm)S
3372(between)S
3810(processes.)S
4368(Nor)S
4590(can)S
4791(they)S
5032(alter)S
3398 V
708(the)S
900(scheduling)S
1467(algorithm)S
1982(between)S
2430(kernel)S
2777(threads.)S
3232(The)S
3465(threads)S
3860(in)S
3999(the)S
4192(kernel)S
4540(always)S
4922(have)S
5195(a)S
3538 V
708(higher)S
1059(priority)S
1465(than)S
1715(those)S
2012(of)S
2155(user)S
2398(processes.)S
2963(All)S
3160(user)S
3403(processes)S
3908(have)S
4177(equal)S
4480(priority)S
4885(and)S
5100(are)S
3678 V
708(scheduled)S
(round-robin)577 1221 A
1828(with)S
2074(time-slicing.)S
3854 V
708(The)S
946(default)S
1333(scheduling)S
1906(between)S
2360(threads)S
2760(within)S
3120(a)S
3224(process)S
3638(is)S
(non-preemptive.)796 3770 A
4647(Threads)S
5088(run)S
3994 V
(until)222 708 A
975(they)S
1227(block)S
1539(or)S
1684(terminate.)S
2247(Threads)S
2681(block)S
2993(when)S
3299(they)S
3551(make)S
3857(a)S
3955(blocking)S
4421(system)S
4801(call.)S
5081(For)S
4134 V
708(example,)S
1186(an)S
1338(RPC)S
1604(\(see)S
12 I
1839(rpc)S
12 R
2010(\(L\)\),)S
2276(a)S
12 I
2369(grp)S
12 R
2546(\(L\))S
2741(function)S
3183(or)S
3323(a)S
12 I
3416(mu)S
12 Y1
3564(3)S
12 I
3624(lock)S
12 R
3875(\(see)S
12 I
4110(mutex)S
12 R
4410(\(L\)\).)S
4706(Since)S
5014(most)S
4274 V
708(library)S
1073(routines,)S
1534(e.g.,)S
12 I
1779(sema)S
12 Y1
2028(3)S
12 I
2088(up,)S
2289(sema)S
12 Y1
2538(3)S
12 I
2598(down)S
12 R
2868(,)S
12 I
2939(printf)S
12 R
3259(and)S
12 I
3474(open)S
12 R
3718(,)S
3789(do)S
3949(an)S
4103(RPC)S
4370(or)S
4511(use)S
4712(mutexes)S
5155(to)S
4414 V
708(protect)S
1111(shared)S
1493(variables,)S
2027(it)S
2161(is)S
2308(highly)S
2682(likely)S
3024(that)S
3272(a)S
3392(library)S
3782(call)S
(will)190 4024 A
4280(block.)S
4674(When)S
(non-)221 5028 A
4554 V
708(preemptive)S
1302(scheduling)S
1874(between)S
2326(threads)S
2724(is)S
2853(used)S
3122(it)S
3238(is)S
3367(sometimes)S
(necessary)471 3933 A
4452(for)S
4642(a)S
4744(process)S
5155(to)S
4694 V
708(voluntarily)S
1276(give)S
1521(up)S
1678(control)S
2058(so)S
2202(that)S
2421(another)S
2821(thread)S
3161(can)S
3367(run.)S
3626(That)S
(functionality)619 3886 A
4543(is)S
4662(provided)S
5129(by)S
4834 V
12 I
708(threadswitch)S
12 R
1342(.)S
5010 V
708(However,)S
1242(it)S
1370(is)S
1511(possible)S
1967(to)S
2121(enable)S
2497(preemptive)S
3102(scheduling)S
3685(between)S
4149(threads)S
4559(and)S
4793(to)S
4947(assign)S
5150 V
708(different)S
(priorities)439 1163 A
1638(to)S
1768(threads.)S
2214(In)S
2351(this)S
2562(case)S
2807(the)S
2991(highest)S
3376(priority)S
3776(thread)S
4115(that)S
4333(is)S
(runnable)423 4450 A
(will)190 4909 A
5135(be)S
5290 V
708(scheduled)S
1237(when)S
1545(the)S
1739(process)S
2148(is)S
2275(selected)S
2712(to)S
2852(run.)S
3119(The)S
3353(lowest)S
3716(priority)S
4126(for)S
4315(a)S
4416(thread)S
4766(is)S
4894(0.)S
5061(The)S
5430 V
708(highest)S
1123(is)S
1270(that)S
1518(returned)S
1988(by)S
12 I
2174(thread)S
12 Y1
2489(3)S
12 I
2549(get)S
12 Y1
2697(3)S
12 I
2757(max)S
12 Y1
2959(3)S
12 I
3019(priority)S
12 R
3399(.)S
3525(Time-slicing)S
4210(takes)S
(place)256 4524 A
4845(between)S
5570 V
708(threads.)S
1156(The)S
1382(effect)S
1698(of)S
(priorities)439 1837 A
2314(is)S
2433(confined)S
2894(to)S
3026(within)S
3374(the)S
3560(process.)S
4021(It)S
4134(is)S
4253(not)S
4445(the)S
4632(case)S
4880(that)S
5101(the)S
5710 V
708(highest)S
1087(priority)S
1481(thread)S
1814(from)S
2080(all)S
2232(processes)S
2726(is)S
2837(selected.)S
6026 V
12 I
708(Functions)S
6378 V
708(threadswitch)S
6614 V
11 C
(void)268 1068 A
6754 V
(threadswitch\(\))938 1068 A
6954 V
12 I
708(Threadswitch)S
12 R
1422(causes)S
1785(the)S
1980(current)S
2371(thread)S
2721(to)S
2863(stop)S
(running)375 3112 A
3535(and)S
3757(the)S
3953(scheduler)S
4465(to)S
4607(be)S
4769(called.)S
5167(If)S
7094 V
708(preemptive)S
1284(scheduling)S
1838(is)S
1950(disabled)S
2383(\(the)S
2602(default)S
2969(case\))S
3249(then)S
3487(if)S
3592(there)S
3865(is)S
3976(another)S
(runnable)423 4369 A
4822(thread)S
5155(in)S
7234 V
708(the)S
890(same)S
1173(process)S
1570(it)S
(will)190 1672 A
1896(be)S
2045(the)S
2228(next)S
2471(thread)S
2809(to)S
2938(run)S
3134(in)S
3263(that)S
3480(process.)S
3938(Note,)S
4239(however,)S
4721(that)S
4938(it)S
5041(may)S
7700 V
2683(Amoeba)S
3123(5.3)S
(405)180 5069 A
7920 V
EP
%%Page: 406 412
BP
/slant 0 def
/height 0 def
500 V
12 R
708(thread)S
12 Y1
1011(3)S
12 R
1071(scheduling)S
1614(\(L\))S
2567(Library)S
2961(Routines)S
4187(thread)S
12 Y1
4490(3)S
12 R
4550(scheduling)S
5093(\(L\))S
860 V
708(not)S
896(be)S
1044(run)S
1239(immediately.)S
1938(Under)S
2274(certain)S
2638(circumstances)S
3358(a)S
3445(thread)S
3781(in)S
3908(another)S
4304(process)S
4700(may)S
4941(be)S
5088(run)S
1000 V
708(first.)S
995(When)S
1313(no)S
1463(other)S
1742(thread)S
2075(is)S
(runnable,)453 2186 A
2669(the)S
(calling)330 2847 A
3207(thread)S
3540(is)S
3651(immediately)S
4287(restarted.)S
1176 V
708(If)S
829(preemptive)S
1413(scheduling)S
1975(is)S
2095(activated)S
2572(then)S
2819(it)S
2926(gives)S
3220(up)S
3379(control)S
3761(to)S
3894(the)S
4081(next)S
4328(thread)S
4671(of)S
4812(the)S
5000(same)S
1316 V
708(priority.)S
1174(The)S
1404(next)S
1653(thread)S
(will)190 1997 A
2228(run)S
2430(if)S
2546(there)S
2830(is)S
2952(no)S
(runnable)423 3113 A
3577(thread)S
3921(with)S
4178(higher)S
4528(priority.)S
4993(Once)S
1456 V
708(again,)S
1030(it)S
1128(is)S
1239(possible)S
1665(that)S
1877(a)S
1961(thread)S
2294(from)S
2560(another)S
2953(process)S
3346(may)S
3584(be)S
3728(run)S
3919(first.)S
1772 V
12 I
708(thread)S
12 Y1
1023(3)S
12 I
1083(get)S
12 Y1
1231(3)S
12 I
1291(max)S
12 Y1
1493(3)S
12 I
1553(priority)S
2008 V
11 C
(void)268 1068 A
2148 V
(thread)402 1068 A
11 Y1
1470(3)S
11 C
(get)201 1525 A
11 Y1
1726(3)S
11 C
(max)201 1781 A
11 Y1
1982(3)S
11 C
(priority\(max\))871 2037 A
2288 V
(long)268 1068 A
1403(*)S
(max;)268 1537 A
2488 V
12 I
708(Thread)S
12 Y1
1056(3)S
12 I
1116(get)S
12 Y1
1264(3)S
12 I
1324(max)S
12 Y1
1526(3)S
12 I
1586(priority)S
12 R
1997(returns)S
2365(in)S
12 I
2490(*max)S
12 R
2793(the)S
2973(maximum)S
3495(legal)S
3763(priority)S
4159(which)S
4487(can)S
4687(be)S
4833(assigned)S
2628 V
708(to)S
837(a)S
926(thread.)S
1324(This)S
1574(call)S
1785(may)S
2028(be)S
(done)234 2177 A
2446(at)S
2569(any)S
2778(time,)S
3059(regardless)S
3586(of)S
3722(whether)S
4147(preemptive)S
4726(scheduling)S
2768 V
708(is)S
819(enabled)S
1225(or)S
1356(not.)S
3084 V
12 I
708(thread)S
12 Y1
1023(3)S
12 I
1083(set)S
12 Y1
1218(3)S
12 I
1278(priority)S
3320 V
11 C
(void)268 1068 A
3460 V
(thread)402 1068 A
11 Y1
1470(3)S
11 C
(set)201 1525 A
11 Y1
1726(3)S
11 C
(priority\(new,)871 1781 A
(old\))268 2719 A
3600 V
(long)268 1068 A
(new;)268 1403 A
3740 V
(long)268 1068 A
1403(*)S
(old;)268 1537 A
3940 V
12 I
708(Thread)S
12 Y1
1056(3)S
12 I
1116(set)S
12 Y1
1251(3)S
12 I
1311(priority)S
12 R
1728(sets)S
1947(the)S
2132(priority)S
2533(of)S
2671(the)S
2856(current)S
3238(thread)S
3579(to)S
12 I
3711(new)S
12 R
3953(and)S
4165(calls)S
4426(the)S
4612(scheduler.)S
5174(It)S
4080 V
708(returns)S
1076(in)S
12 I
1201(*old)S
12 R
1456(the)S
1635(previous)S
2082(priority)S
2477(of)S
2609(the)S
2787(thread.)S
3180(The)S
3398(value)S
3690(of)S
12 I
3821(new)S
12 R
4055(must)S
4320(be)S
4464(in)S
4588(the)S
4766(range)S
5065(0)S
5155(to)S
4220 V
708(the)S
896(maximum)S
1426(priority)S
1830(\(as)S
2012(returned)S
2456(by)S
12 I
2616(thread)S
12 Y1
2931(3)S
12 I
2991(get)S
12 Y1
3139(3)S
12 I
3199(max)S
12 Y1
3401(3)S
12 I
3461(priority)S
12 R
3841(\).)S
3982(It)S
4097(is)S
4218(a)S
4313(programming)S
5012(error)S
4360 V
708(to)S
844(attempt)S
1250(to)S
1386(set)S
1563(a)S
1659(thread's)S
2092(priority)S
2498(if)S
2614(preemptive)S
3200(scheduling)S
3764(is)S
3886(not)S
4081(enabled)S
4498(or)S
4640(to)S
4775(set)S
4951(it)S
5060(to)S
5195(a)S
4500 V
708(value)S
1000(outside)S
1379(the)S
1557(range)S
1856(of)S
1987(legal)S
2253(values.)S
4816 V
12 I
708(thread)S
12 Y1
1023(3)S
12 I
(enable)322 1083 A
12 Y1
1405(3)S
12 I
1465(preemption)S
5052 V
11 C
(void)268 1068 A
5192 V
(thread)402 1068 A
11 Y1
1470(3)S
11 C
(enable)402 1525 A
11 Y1
1927(3)S
11 C
(preemption\(\))804 1982 A
5392 V
12 I
708(Thread)S
12 Y1
1056(3)S
12 I
(enable)322 1116 A
12 Y1
1438(3)S
12 I
1498(preemption)S
12 R
2102(enables)S
2509(preemptive)S
3098(priority)S
3506(scheduling)S
4073(between)S
4521(threads)S
4915(for)S
5101(the)S
5532 V
708(current)S
1093(process.)S
1557(Once)S
1853(preemptive)S
2438(scheduling)S
3001(has)S
3202(been)S
3470(enabled)S
3886(it)S
(cannot)322 3994 A
4356(be)S
4510(disabled.)S
5013(Note)S
5672 V
708(that)S
936(all)S
1104(threads)S
1500(present)S
1896(in)S
2036(a)S
2136(process)S
(will)190 2545 A
2781(have)S
3055(priority)S
3465(0)S
3572(immediately)S
4225(after)S
4496(this)S
4718(function)S
5168(is)S
5812 V
708(called.)S
5988 V
708(For)S
907(programs)S
1395(with)S
1642(threads)S
2023(of)S
2155(different)S
(priorities)439 2606 A
3077(it)S
3177(is)S
3290(a)S
(good)240 3376 A
3648(idea)S
3882(to)S
4008(enable)S
4356(preemption)S
4939(before)S
6128 V
708(the)S
889(other)S
1171(threads)S
1554(are)S
1736(created.)S
2180(In)S
2314(this)S
2522(way,)S
12 I
2787(main\(\))S
12 R
3154(can)S
3354(alter)S
3603(its)S
3750(priority)S
4146(from)S
4414(its)S
4561(default)S
4930(of)S
5063(0)S
5155(to)S
6268 V
708(a)S
815(level)S
1104(higher)S
1466(than)S
1727(the)S
1928(intended)S
(priorities)439 2397 A
2889(of)S
3044(the)S
3246(child)S
3542(threads.)S
(Initially,)415 4006 A
(each)222 4475 A
4751(new)S
5007(child)S
6408 V
708(thread)S
(will)190 1054 A
1287(have)S
1558(the)S
1749(same)S
2041(priority)S
2448(as)S
12 I
2592(main\(\))S
12 R
2969(but)S
3166(must)S
3444(set)S
3621(its)S
3778(priority)S
4184(to)S
4320(the)S
4510(correct)S
4890(\(lower\))S
6548 V
708(level)S
977(before)S
1320(doing)S
1627(anything)S
2082(else.)S
2364(This)S
(should)321 2613 A
2968(lead)S
3204(to)S
12 I
3332(main\(\))S
12 R
3700(being)S
4002(resumed)S
4446(immediately)S
5086(if)S
5195(a)S
6688 V
708(child)S
983(thread)S
1318(happens)S
1745(to)S
1871(run.)S
2124(Thus)S
12 I
2397(main\(\))S
12 R
2763(can)S
2963(complete)S
(initialization)614 3439 A
4085(of)S
4218(threads)S
4600(before)S
4942(any)S
5148(of)S
6828 V
708(the)S
889(child)S
1164(threads)S
1547(begins)S
1895(work.)S
2237(Then)S
2518(it)S
2619(can)S
2820(set)S
2988(its)S
3136(priority)S
3533(to)S
3660(the)S
3841(correct)S
4212(level)S
4481(for)S
4657(the)S
4839(program)S
6968 V
708(to)S
840(perform)S
1269(its)S
1422(function.)S
1923(This)S
2176(is)S
2295(much)S
2601(simpler)S
3003(than)S
3249(using)S
3548(mutexes)S
3988(to)S
4119(enforce)S
4520(the)S
4705(completion)S
7108 V
708(of)S
(initialization)614 839 A
1483(before)S
1823(a)S
1907(program)S
2347(starts)S
2634(its)S
2779(work.)S
7700 V
(406)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 407 413
BP
/slant 0 def
/height 0 def
500 V
12 R
708(thread)S
12 Y1
1011(3)S
12 R
1071(scheduling)S
1614(\(L\))S
2567(Library)S
2961(Routines)S
4187(thread)S
12 Y1
4490(3)S
12 R
4550(scheduling)S
5093(\(L\))S
860 V
12 I
708(Warning)S
1036 V
12 R
708(If)S
821(a)S
906(process)S
1300(that)S
1513(has)S
1705(enabled)S
2112(preemptive)S
2688(scheduling)S
3242(forks)S
3522(\(using)S
3856(the)S
4036(Ajax)S
4304(emulation\))S
4861(then)S
5101(the)S
1176 V
708(child)S
987(process)S
(will)190 1387 A
1614(be)S
1765(scheduled)S
2285(preemptively)S
2960(but)S
3150(the)S
3334(threads)S
(will)190 3720 A
3946(not)S
4136(inherit)S
4489(the)S
(priorities)439 4673 A
5148(of)S
1316 V
708(the)S
886(parent.)S
1279(They)S
(will)190 1557 A
1777(all)S
1929(have)S
2187(priority)S
2581(zero.)S
1596 V
12 B
708(Example)S
1772 V
12 R
708(The)S
933(following)S
1441(demonstrates)S
2118(how)S
2364(to)S
2496(enable)S
2850(preemptive)S
3433(scheduling)S
3994(and)S
4206(to)S
4338(assign)S
(priorities)439 4678 A
5155(to)S
1912 V
708(threads.)S
2112 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2252 V
(#include)536 708 A
("thread.h")670 1311 A
2532 V
(void)268 708 A
2672 V
(mate\(p,)469 708 A
(sz\))201 1244 A
2812 V
(char)268 708 A
1043(*)S
1177(p;)S
2952 V
(int)201 708 A
(sz;)201 976 A
3092 V
708({)S
3232 V
(long)268 976 A
(old;)268 1311 A
3512 V
(thread)402 976 A
11 Y1
1378(3)S
11 C
(set)201 1433 A
11 Y1
1634(3)S
11 C
(priority\(\(long\))1005 1689 A
2761(1,)S
(&old\);)402 2962 A
3652 V
(...)201 976 A
3792 V
708(})S
4072 V
(main\(\))402 708 A
4212 V
708({)S
4352 V
(long)268 976 A
(old;)268 1311 A
4492 V
(long)268 976 A
(max;)268 1311 A
4772 V
(thread)402 976 A
11 Y1
1378(3)S
11 C
(enable)402 1433 A
11 Y1
1835(3)S
11 C
(preemption\(\);)871 1890 A
4912 V
(thread)402 976 A
11 Y1
1378(3)S
11 C
(get)201 1433 A
11 Y1
1634(3)S
11 C
(max)201 1689 A
11 Y1
1890(3)S
11 C
(priority\(&max\);)1005 1945 A
5052 V
(thread)402 976 A
11 Y1
1378(3)S
11 C
(set)201 1433 A
11 Y1
1634(3)S
11 C
(priority\(max,)871 1689 A
(&old\);)402 2627 A
3096(/*)S
(set)201 3297 A
(priority)536 3565 A
4168(to)S
(max)201 4369 A
4637(*/)S
5192 V
976(if)S
(\(thread)469 1177 A
11 Y1
1646(3)S
11 C
(newthread\(mate,)1005 1701 A
(4096,)335 2773 A
(\(char)335 3175 A
3577(*\))S
3778(0,)S
3979(0\))S
4180(==)S
4381(0\))S
4582({)S
5332 V
(printf\("thread)938 1292 A
11 Y1
2230(3)S
11 C
(newthread)603 2285 A
(failed0\);)603 2955 A
5472 V
(exit\(1\);)536 1292 A
5612 V
976(})S
5752 V
(...)201 976 A
5892 V
708(})S
6232 V
12 B
708(See)S
913(Also)S
6408 V
12 R
708(thread\(L\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(407)180 5069 A
7920 V
EP
%%Page: 408 414
BP
/slant 0 def
/height 0 def
500 V
12 R
708(tios)S
903(\(L\))S
2567(Library)S
2961(Routines)S
4898(tios)S
5093(\(L\))S
860 V
1745(\(in)S
1910(libraries:)S
2373(libamoeba.a,)S
3021(libamunix.a,)S
3655(libkernel.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(tios)S
12 R-1
913(-)S
12 R
1041(termios-style)S
1705(terminal)S
2140(control)S
(interface)426 2513 A
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("termios.h")737 1311 A
2115(/*)S
2316(or)S
("posix/termios.h")1139 2517 A
3723(*/)S
2302 V
(errstat)469 708 A
(tios)268 1244 A
11 Y1
1512(3)S
11 C
(drain\(tty\))670 1567 A
2442 V
(errstat)469 708 A
(tios)268 1244 A
11 Y1
1512(3)S
11 C
(flow\(tty,)603 1567 A
(action\))469 2237 A
2582 V
(errstat)469 708 A
(tios)268 1244 A
11 Y1
1512(3)S
11 C
(flush\(tty,)670 1567 A
(queue)335 2304 A
11 Y1
2639(3)S
11 C
(selector\))603 2694 A
2722 V
(errstat)469 708 A
(tios)268 1244 A
11 Y1
1512(3)S
11 C
(getattr\(tty,)804 1567 A
(tp\))201 2438 A
2862 V
(errstat)469 708 A
(tios)268 1244 A
11 Y1
1512(3)S
11 C
(getwsize\(tty,)871 1567 A
(width,)402 2505 A
(length\))469 2974 A
3002 V
(errstat)469 708 A
(tios)268 1244 A
11 Y1
1512(3)S
11 C
(sendbrk\(tty,)804 1567 A
(duration\))603 2438 A
3142 V
(errstat)469 708 A
(tios)268 1244 A
11 Y1
1512(3)S
11 C
(setattr\(tty,)804 1567 A
(optional)536 2438 A
11 Y1
2974(3)S
11 C
(actions,)536 3029 A
(tp\))201 3632 A
3402 V
(char)268 708 A
(*tc)201 1043 A
11 Y1
1244(3)S
11 C
(marshal\(buf,)804 1299 A
2170(t,)S
(same)268 2371 A
11 Y1
2639(3)S
11 C
(byte)268 2694 A
11 Y1
2962(3)S
11 C
(order\))402 3017 A
3542 V
(char)268 708 A
(*tc)201 1043 A
11 Y1
1244(3)S
11 C
(unmarshal\(buf,)938 1299 A
(tp,)201 2304 A
(same)268 2572 A
11 Y1
2840(3)S
11 C
(byte)268 2895 A
11 Y1
3163(3)S
11 C
(order\))402 3218 A
3802 V
(#include)536 708 A
("sys/ioctl.h")871 1311 A
2249(/*)S
2450(or)S
("posix/sys/ioctl.h")1273 2651 A
3991(*/)S
4082 V
(void)268 708 A
1043(tc)S
11 Y1
1177(3)S
11 C
(frombsd\(tp,)737 1232 A
(sgp,)268 2036 A
(tcp,)268 2371 A
(ltcp,)335 2706 A
(local)335 3108 A
11 Y1
3443(3)S
11 C
(mode)268 3498 A
11 Y1
3766(3)S
11 C
3821(p\))S
4222 V
(void)268 708 A
1043(tc)S
11 Y1
1177(3)S
11 C
(tobsd\(tp,)603 1232 A
(sgp,)268 1902 A
(tcp,)268 2237 A
(ltcp,)335 2572 A
(local)335 2974 A
11 Y1
3309(3)S
11 C
(mode)268 3364 A
11 Y1
3632(3)S
11 C
3687(p\))S
4502 V
(void)268 708 A
1043(tc)S
11 Y1
1177(3)S
11 C
(tosysv\(tp,)670 1232 A
(sysv)268 1969 A
11 Y1
2237(3)S
11 C
(tp\))201 2292 A
4642 V
(void)268 708 A
1043(tc)S
11 Y1
1177(3)S
11 C
(fromsysv\(tp,)804 1232 A
(sysv)268 2103 A
11 Y1
2371(3)S
11 C
(tp\))201 2426 A
4982 V
12 B
708(Description)S
5158 V
12 R
708(This)S
(module)362 975 A
1389(contains)S
1844(the)S
(capability-based)794 2044 A
(counterparts)599 2890 A
3541(of)S
3694(the)S
12 I
3894(termios)S
12 R
4321(function)S
4777(calls)S
5053(\(see)S
5298 V
12 I
708(posix)S
12 R
973(\(L\)\).)S
1262(These)S
1583(operations)S
2118(are)S
(supported)476 2298 A
2805(by)S
2956(several)S
3331(servers,)S
3736(including)S
12 I
4223(ax)S
12 R
4347(\(U\),)S
12 I
4578(xterm)S
12 R
4896(and)S
5101(the)S
5438 V
708(console)S
1116(driver)S
1445(in)S
1578(the)S
1765(kernel.)S
2167(The)S
2394(functions)S
12 I
2883(tc)S
12 Y1
2971(3)S
12 I
3031(marshal)S
12 R
3476(and)S
12 I
3689(tc)S
12 Y1
3777(3)S
12 I
3837(unmarshal)S
12 R
4402(help)S
4649(servers)S
5033(with)S
5578 V
708(packing)S
1153(and)S
(unpacking)502 1390 A
1955(a)S
12 I
2072(struct)S
12 R
2358(termios)S
2785(The)S
3035(functions)S
12 I
3547(tc)S
12 Y1
3635(3)S
12 I
3695(frombsd)S
12 R
4163(and)S
12 I
4399(tc)S
12 Y1
4487(3)S
12 I
4547(tobsd)S
12 R
4880(provide)S
5718 V
(conversion)530 708 A
1277(from)S
1552(and)S
1765(to)S
1898(structures)S
2410(used)S
2671(by)S
2831(BSD's)S
3194(tty)S
3362(ioctl's.)S
3766(Similarly)S
4258(the)S
12 I
4446(tc)S
12 Y1
4534(3)S
12 I
4594(fromsysv)S
12 R
5075(and)S
5858 V
12 I
708(tc)S
12 Y1
796(3)S
12 I
856(tosysv)S
12 R
1205(functions)S
1698(provide)S
(conversion)530 2110 A
2683(from)S
2962(and)S
3179(to)S
3316(the)S
3507(structures)S
4021(used)S
4284(by)S
11 R
4444(UNIX)S
12 R
4763(System)S
5161(V)S
5998 V
708(ioctl's.)S
6314 V
12 I
708(tios)S
12 Y1
883(3)S
12 I
943(*)S
6550 V
11 C
(errstat)469 1068 A
6690 V
(tios)268 1068 A
11 Y1
1336(3)S
11 C
(drain\(tty\))670 1391 A
6830 V
(capability)670 1068 A
(*tty;)335 1805 A
7700 V
12 R
(408)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 409 415
BP
/slant 0 def
/height 0 def
500 V
12 R
708(tios)S
903(\(L\))S
2567(Library)S
2961(Routines)S
4898(tios)S
5093(\(L\))S
920 V
11 C
(errstat)469 1068 A
1060 V
(tios)268 1068 A
11 Y1
1336(3)S
11 C
(flow\(tty,)603 1391 A
(action\))469 2061 A
1200 V
(capability)670 1068 A
(*tty;)335 1805 A
1340 V
(int)201 1068 A
(action;)469 1336 A
1600 V
(errstat)469 1068 A
1740 V
(tios)268 1068 A
11 Y1
1336(3)S
11 C
(flush\(tty,)670 1391 A
(queue)335 2128 A
11 Y1
2463(3)S
11 C
(selector\))603 2518 A
1880 V
(capability)670 1068 A
(*tty;)335 1805 A
2020 V
(int)201 1068 A
(queue)335 1336 A
11 Y1
1671(3)S
11 C
(selector;)603 1726 A
2280 V
(errstat)469 1068 A
2420 V
(tios)268 1068 A
11 Y1
1336(3)S
11 C
(getattr\(tty,)804 1391 A
(tp\))201 2262 A
2560 V
(capability)670 1068 A
(*tty;)335 1805 A
2700 V
(struct)402 1068 A
(termios)469 1537 A
(*tp;)268 2073 A
2408(/*)S
(out)201 2609 A
2877(*/)S
2960 V
(errstat)469 1068 A
3100 V
(tios)268 1068 A
11 Y1
1336(3)S
11 C
(sendbrk\(tty,)804 1391 A
(duration\))603 2262 A
3240 V
(capability)670 1068 A
(*tty;)335 1805 A
3380 V
(int)201 1068 A
(duration;)603 1336 A
3640 V
(errstat)469 1068 A
3780 V
(tios)268 1068 A
11 Y1
1336(3)S
11 C
(setattr\(tty,)804 1391 A
(optional)536 2262 A
11 Y1
2798(3)S
11 C
(actions,)536 2853 A
(tp\))201 3456 A
3920 V
(capability)670 1068 A
(*tty;)335 1805 A
4060 V
(int)201 1068 A
(optional)536 1336 A
11 Y1
1872(3)S
11 C
(actions;)536 1927 A
4200 V
(struct)402 1068 A
(termios)469 1537 A
(*tp;)268 2073 A
2408(/*)S
2609(in)S
2810(*/)S
4400 V
12 R
708(There)S
1024(is)S
1138(a)S
1225(one-to-one)S
(correspondence)759 1783 A
2576(between)S
3014(these)S
3297(calls)S
3554(and)S
3762(the)S
3944(POSIX)S
4329(calls,)S
4616(replacing)S
5101(the)S
4540 V
708(file)S
902(descriptor)S
1418(parameter)S
1935(to)S
2060(the)S
2239(POSIX)S
2621(call)S
2828(by)S
2979(a)S
(capability)478 3064 A
3573(pointer)S
3947(parameter)S
4464(to)S
4589(the)S
12 I
4768(tios)S
12 Y1
4943(3)S
12 R
5043(call,)S
4680 V
708(and)S
941(the)S
12 I
1148(tc)S
12 R
1305(name)S
1626(prefix)S
1975(with)S
12 I
2251(tios)S
12 Y1
2426(3)S
12 R
2496(.)S
2616(See)S
2851(the)S
3059(POSIX)S
3470(standard)S
3940(for)S
4142(an)S
4316(explanation)S
4940(of)S
5101(the)S
4820 V
708(semantics.)S
1276(See)S
12 I
1481(posix)S
12 R
1746(\(L\))S
1932(for)S
2104(Amoeba-dependent)S
3081(information.)S
5116 V
708(Error)S
(Conditions:)563 995 A
5256 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(COMBAD)438 1341 A
12 R
1779(:)S
1969(operation)S
2456(not)S
(supported)476 2640 A
3146(by)S
3296(server.)S
5396 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(CAPBAD)438 1341 A
12 R
1779(:)S
1969(invalid)S
(capability.)508 2335 A
5536 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(DENIED)438 1341 A
12 R
1779(:)S
1969(insufficient)S
2552(rights.)S
5736 V
708(RPC)S
965(errors)S
1279(are)S
1458(also)S
1683(possible,)S
2139(as)S
2270(well)S
2510(as)S
2641(other)S
2920(errors)S
3234(depending)S
3766(on)S
3916(the)S
4094(server)S
4421(implementation.)S
6052 V
12 I
708(tios)S
12 Y1
883(3)S
12 I
943(getwsize)S
6288 V
11 C
(errstat)469 1068 A
6428 V
(tios)268 1068 A
11 Y1
1336(3)S
11 C
(getwsize\(tty,)871 1391 A
(width,)402 2329 A
(length\))469 2798 A
6568 V
(capability)670 1068 A
(*tty;)335 1805 A
6708 V
(int)201 1068 A
(*width;)469 1336 A
1872(/*)S
(out)201 2073 A
2341(*/)S
6848 V
(int)201 1068 A
(*length;)536 1336 A
1939(/*)S
(out)201 2140 A
2408(*/)S
7048 V
12 R
708(This)S
960(routine)S
1340(returns)S
1714(the)S
1899(dimensions)S
2486(of)S
2624(the)S
2809(screen)S
3157(area)S
3398(of)S
3537(the)S
3723(terminal)S
4166(device.)S
4580(This)S
4833(provides)S
7188 V
(support)362 708 A
1125(for)S
(window)390 1322 A
1767(systems)S
2205(where)S
(windows)437 2557 A
3049(may)S
3312(have)S
3595(a)S
3704(variable)S
4150(size)S
4394(and)S
4623(screen-based)S
7328 V
708(programs)S
1195(need)S
1453(to)S
(enquire)363 1577 A
1970(of)S
2101(the)S
2279(size)S
2498(of)S
2629(the)S
2807(screen)S
3147(area.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(409)180 5069 A
7920 V
EP
%%Page: 410 416
BP
/slant 0 def
/height 0 def
500 V
12 R
708(tios)S
903(\(L\))S
2567(Library)S
2961(Routines)S
4898(tios)S
5093(\(L\))S
860 V
12 I
708(tc)S
12 Y1
796(3)S
12 I
856(marshal,)S
1312(tc)S
12 Y1
1400(3)S
12 I
1460(unmarshal)S
1096 V
11 C
(char)268 1068 A
1403(*)S
1236 V
1068(tc)S
11 Y1
1202(3)S
11 C
(marshal\(buf,)804 1257 A
2128(t,)S
(same)268 2329 A
11 Y1
2597(3)S
11 C
(byte)268 2652 A
11 Y1
2920(3)S
11 C
(order\))402 2975 A
1376 V
(char)268 1068 A
(*buf;)335 1403 A
1805(/*)S
(out)201 2006 A
2274(*/)S
1516 V
(termios)469 1068 A
1604(t;)S
1805(/*)S
(in;)201 2006 A
2274(by)S
(value!)402 2475 A
2944(*/)S
1656 V
(int)201 1068 A
(same)268 1336 A
11 Y1
1604(3)S
11 C
(byte)268 1659 A
11 Y1
1927(3)S
11 C
(order;)402 1982 A
1916 V
(char)268 1068 A
1403(*)S
2056 V
1068(tc)S
11 Y1
1202(3)S
11 C
(unmarshal\(buf,)938 1257 A
(tp,)201 2262 A
(same)268 2530 A
11 Y1
2798(3)S
11 C
(byte)268 2853 A
11 Y1
3121(3)S
11 C
(order\))402 3176 A
2196 V
(char)268 1068 A
(*buf;)335 1403 A
1805(/*)S
2006(in)S
2207(*/)S
2336 V
(termios)469 1068 A
(*t;)201 1604 A
1872(/*)S
(out)201 2073 A
2341(*/)S
2476 V
(int)201 1068 A
(same)268 1336 A
11 Y1
1604(3)S
11 C
(byte)268 1659 A
11 Y1
1927(3)S
11 C
(order;)402 1982 A
2676 V
12 R
708(Function)S
12 I
1186(tc)S
12 Y1
1274(3)S
12 I
1334(marshal)S
12 R
1789(packs)S
2114(a)S
2218(struct)S
2538(termios)S
2952(value)S
3264(into)S
3502(the)S
3700(buffer)S
4047(argument,)S
4584(and)S
4808(returns)S
5195(a)S
2816 V
708(pointer)S
1089(to)S
1221(the)S
1407(next)S
1653(free)S
1881(byte)S
2127(in)S
2259(the)S
2445(buffer.)S
2840(Function)S
12 I
3307(tc)S
12 Y1
3395(3)S
12 I
3455(unmarshal)S
12 R
(unpacks)395 4019 A
4451(the)S
4636(buffer)S
4970(into)S
5195(a)S
2956 V
708(struct)S
1011(termios)S
1408(variable,)S
1863(and)S
2071(returns)S
2442(a)S
2530(pointer)S
2907(to)S
3035(the)S
3217(next)S
3459(data)S
3695(byte)S
3937(in)S
4065(the)S
4247(buffer.)S
4638(Both)S
4906(use)S
5101(the)S
3096 V
708(flag)S
951(``same)S
12 Y1
1282(3)S
12 R
1342(byte)S
12 Y1
1550(3)S
12 R
(order'')338 1610 A
2002(to)S
2149(determine)S
2687(whether)S
3131(to)S
3278(swap)S
3580(bytes)S
3888(or)S
4042(not.)S
4309(There)S
4645(is)S
4779(no)S
4952(buffer)S
3236 V
708(overflow)S
1176(detection,)S
1680(nor)S
1871(are)S
2050(other)S
2329(error)S
(conditions)503 2596 A
3129(detected.)S
3552 V
12 I
708(tc)S
12 Y1
796(3)S
12 I
856(frombsd,)S
1312(tc)S
12 Y1
1400(3)S
12 I
1460(tobsd)S
3788 V
11 C
(void)268 1068 A
3928 V
1068(tc)S
11 Y1
1202(3)S
11 C
(frombsd\(tp,)737 1257 A
(sgp,)268 2061 A
(tcp,)268 2396 A
(ltcp,)335 2731 A
(local)335 3133 A
11 Y1
3468(3)S
11 C
(mode)268 3523 A
11 Y1
3791(3)S
11 C
3846(p\))S
4068 V
(struct)402 1068 A
(termios)469 1537 A
(*tp;)268 2073 A
2408(/*)S
(out)201 2609 A
2877(*/)S
4208 V
(struct)402 1068 A
(sgttyb)402 1537 A
(*sgp;)335 2006 A
2408(/*)S
2609(in)S
2810(*/)S
4348 V
(struct)402 1068 A
(tchars)402 1537 A
(*tcp;)335 2006 A
2408(/*)S
2609(in)S
2810(*/)S
4488 V
(struct)402 1068 A
(ltchars)469 1537 A
(*ltcp;)402 2073 A
2542(/*)S
2743(in)S
2944(*/)S
4628 V
(int)201 1068 A
(*local)402 1336 A
11 Y1
1738(3)S
11 C
(mode)268 1793 A
11 Y1
2061(3)S
11 C
2116(p;)S
2317(/*)S
2518(in)S
2719(*/)S
4888 V
(void)268 1068 A
5028 V
1068(tc)S
11 Y1
1202(3)S
11 C
(tobsd\(tp,)603 1257 A
(sgp,)268 1927 A
(tcp,)268 2262 A
(ltcp,)335 2597 A
(local)335 2999 A
11 Y1
3334(3)S
11 C
(mode)268 3389 A
11 Y1
3657(3)S
11 C
3712(p\))S
5168 V
(struct)402 1068 A
(termios)469 1537 A
(*tp;)268 2073 A
2408(/*)S
2609(in)S
2810(*/)S
5308 V
(struct)402 1068 A
(sgttyb)402 1537 A
(*sgp;)335 2006 A
2408(/*)S
(out)201 2609 A
2877(*/)S
5448 V
(struct)402 1068 A
(tchars)402 1537 A
(*tcp;)335 2006 A
2408(/*)S
(out)201 2609 A
2877(*/)S
5588 V
(struct)402 1068 A
(ltchars)469 1537 A
(*ltcp;)402 2073 A
2542(/*)S
(out)201 2743 A
3011(*/)S
5728 V
(int)201 1068 A
(*local)402 1336 A
11 Y1
1738(3)S
11 C
(mode)268 1793 A
11 Y1
2061(3)S
11 C
2116(p;)S
2317(/*)S
(out)201 2518 A
2786(*/)S
5928 V
12 R
708(These)S
1042(functions)S
(convert)363 1537 A
1945(a)S
2044(struct)S
2359(termios)S
2768(from/to)S
3177(a)S
(couple)322 3276 A
3643(of)S
3790(BSD-style)S
4341(tty)S
4515(control)S
4904(blocks.)S
6068 V
708(No)S
894(error)S
(conditions)503 1169 A
1710(are)S
1897(detected.)S
2399(NOTE:)S
2795(These)S
3122(functions)S
3610(are)S
12 B
3797(not)S
12 R
4003(present)S
4391(in)S
4523(the)S
4708(library)S
5069(if)S
5181(it)S
6208 V
708(was)S
927(compiled)S
1407(with)S
1653(the)S
1831(flag)S
12 C
(SYSV)292 2050 A
12 R
2342(.)S
7700 V
(410)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 411 417
BP
/slant 0 def
/height 0 def
500 V
12 R
708(tios)S
903(\(L\))S
2567(Library)S
2961(Routines)S
4898(tios)S
5093(\(L\))S
860 V
12 I
708(tc)S
12 Y1
796(3)S
12 I
856(fromsysv,)S
1347(tc)S
12 Y1
1435(3)S
12 I
1495(tosysv)S
1096 V
11 C
(void)268 1068 A
1403(tc)S
11 Y1
1537(3)S
11 C
(tosysv\(tp,)670 1592 A
(sysv)268 2329 A
11 Y1
2597(3)S
11 C
(tp\))201 2652 A
1236 V
(struct)402 1068 A
(termios)469 1537 A
(*tp;)268 2073 A
1376 V
(char)268 1068 A
(*sysv)335 1403 A
11 Y1
1738(3)S
11 C
(tp;)201 1793 A
1656 V
(void)268 1068 A
1403(tc)S
11 Y1
1537(3)S
11 C
(fromsysv\(tp,)804 1592 A
(sysv)268 2463 A
11 Y1
2731(3)S
11 C
(tp\))201 2786 A
1796 V
(struct)402 1068 A
(termios)469 1537 A
(*tp;)268 2073 A
1996 V
12 R
708(These)S
1049(functions)S
(convert)363 1551 A
1966(an)S
2133(Amoeba)S
2596(style)S
2878(termios)S
3295(struct)S
3618(from/to)S
4035(a)S
11 R
4140(UNIX)S
12 R
4470(System)S
4879(V)S
5020(style)S
2136 V
708(termios)S
1104(struct.)S
1466(NOTE:)S
1856(These)S
2177(functions)S
2659(are)S
2840(only)S
3086(present)S
3468(in)S
3593(the)S
3772(library)S
4127(if)S
4233(it)S
4332(was)S
4552(compiled)S
5033(with)S
2276 V
708(the)S
886(flag)S
12 C
(SYSV)292 1105 A
12 R
1397(.)S
2592 V
12 I
708(Warnings)S
2768 V
12 R
708(Most)S
986(servers)S
1360(only)S
1604(implement)S
12 I
2152(tios)S
12 Y1
2327(3)S
12 I
2387(\(get,set\)attr)S
12 R
2967(,)S
3027(not)S
3211(the)S
3389(other)S
12 I
3668(tios)S
12 R
3883(stubs.)S
2944 V
708(Code)S
1007(compiled)S
1502(for)S
11 R
1687(UNIX)S
12 R
2009(must)S
2289(include)S
2690(Amoeba's)S
12 I
3233(termios.h)S
12 R
3742(to)S
3881(get)S
4075(the)S
4269(proper)S
(definition)471 4631 A
5148(of)S
3084 V
12 I
708(struct)S
1014(termios)S
12 R
1388(,)S
1448(but)S
11 R
1630(UNIX)S
12 R
1907('s)S
12 I
2025(sys/ioctl.h)S
12 R
2553(to)S
2677(get)S
2855(the)S
3033(proper)S
(definition)471 3379 A
3880(of)S
4011(the)S
4189(ioctl)S
4435(structs.)S
3260 V
708(The)S
12 I
931(tc)S
12 Y1
1019(3)S
12 I
1079(\(un\)marshal)S
12 R
(interface)426 1723 A
2185(may)S
2429(go)S
2585(away)S
2877(or)S
3014(change)S
3392(in)S
3522(the)S
3706(future.)S
4092(If)S
(you)180 4210 A
4426(decide)S
4778(to)S
4908(write)S
5195(a)S
3400 V
708(server)S
1064(that)S
1305(implements)S
1929(the)S
12 I
2136(tios)S
12 Y1
2311(3)S
12 R
2439(functions,)S
(you)180 2977 A
(should)321 3215 A
3594(consider)S
4062(using)S
12 I
4381(ail)S
12 R
4519(\(U\))S
4747(instead)S
5148(of)S
3540 V
12 I
708(tc)S
12 Y1
796(3)S
12 I
856(\(un\)marshal)S
12 R
1464(.)S
3716 V
708(There)S
(should)321 1021 A
1372(be)S
1516(no)S
1666(reason)S
2012(to)S
2136(use)S
12 I
2327(tc)S
12 Y1
2415(3)S
12 I
2475(\(to,from\)bsd)S
12 R
3087(.)S
4032 V
12 I
708(Note)S
4208 V
12 R
708(The)S
926(kernel)S
1259(library)S
1613(contains)S
2046(the)S
12 I
2224(tc)S
12 Y1
2312(3)S
12 I
2372(*)S
12 R
2472(functions)S
2952(but)S
3136(not)S
3320(the)S
12 I
3498(tios)S
12 Y1
3673(3)S
12 I
3733(*)S
12 R
3833(ones.)S
4488 V
12 B
708(Example)S
4664 V
12 R
708(For)S
906(an)S
1050(example)S
1490(of)S
1621(using)S
12 I
1912(tc)S
12 Y1
2000(3)S
12 I
2060(\(un\)marshal)S
12 R
2668(,)S
2728(see)S
2913(the)S
3091(source)S
3437(for)S
12 I
3609(ax)S
12 R
3733(\(U\).)S
3993(For)S
4191(examples)S
4678(of)S
4809(using)S
5101(the)S
4804 V
12 I
708(tios)S
12 Y1
883(3)S
12 R
994(stubs)S
1283(and)S
1498(the)S
1687(only)S
1941(uses)S
2189(of)S
12 I
2330(tc)S
12 Y1
2418(3)S
12 I
2478(\(from,to\)bsd)S
12 R
3090(,)S
3160(see)S
3355(the)S
3543(source)S
3899(for)S
4081(ioctl)S
4337(\(see)S
12 I
4573(posix)S
12 R
4838(\(L\)\))S
5075(and)S
4944 V
12 I
708(ax)S
12 R
832(\(U\).)S
5224 V
12 B
708(See)S
913(Also)S
5400 V
12 R
(IEEE)263 708 A
1001(Std)S
(1003.1-1988)611 1192 A
1833(\(POSIX\),)S
2326(section)S
2699(7.)S
5576 V
708(BSD)S
973(manual)S
1359(pages)S
12 I
1664(ioctl)S
12 R
1890(\(2\),)S
12 I
2092(tty)S
12 R
2224(\(4\).)S
5752 V
708(ail\(U\),)S
1060(ax\(U\),)S
1404(posix\(L\).)S
7700 V
2683(Amoeba)S
3123(5.3)S
(411)180 5069 A
7920 V
EP
%%Page: 412 418
BP
/slant 0 def
/height 0 def
500 V
12 R
708(tod)S
882(\(L\))S
2567(Library)S
2961(Routines)S
4919(tod)S
5093(\(L\))S
860 V
2033(\(in)S
2198(libraries:)S
2661(libamoeba.a,)S
3309(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(tod)S
12 R-1
892(-)S
12 R
1020(the)S
1198(Time-Of-Day)S
1897(server)S
(interface)426 2224 A
2680(stubs)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("module/tod.h")938 1311 A
2322 V
(errstat)469 708 A
(tod)201 1244 A
11 Y1
1445(3)S
11 C
(defcap\(\))536 1500 A
2462 V
(void)268 708 A
(tod)201 1043 A
11 Y1
1244(3)S
11 C
(setcap\(tod)670 1299 A
11 Y1
1969(3)S
11 C
(cap\))268 2024 A
2602 V
(errstat)469 708 A
(tod)201 1244 A
11 Y1
1445(3)S
11 C
(gettime\(sec,)804 1500 A
(msec,)335 2371 A
(tz,)201 2773 A
(dst\))268 3041 A
2742 V
(errstat)469 708 A
(tod)201 1244 A
11 Y1
1445(3)S
11 C
(settime\(sec,)804 1500 A
(msec\))335 2371 A
3082 V
12 B
708(Description)S
3258 V
12 R
708(This)S
(module)362 960 A
1359(provides)S
1812(the)S
(interface)426 1997 A
2460(to)S
2591(the)S
2776(time)S
3030(of)S
3169(day)S
3381(service.)S
3823(There)S
4144(may)S
4390(be)S
4542(more)S
4829(than)S
5075(one)S
3398 V
708(time)S
964(of)S
1105(day)S
1319(server)S
1656(on)S
1816(an)S
1970(Amoeba)S
2420(network)S
2857(and)S
3071(it)S
3179(is)S
3300(possible)S
3735(to)S
3868(select)S
4184(a)S
4277(particular)S
4782(server,)S
5148(or)S
3538 V
708(simply)S
1067(use)S
1258(the)S
1436(default)S
1803(server)S
2130(when)S
(getting)336 2422 A
2788(or)S
(setting)323 2919 A
3272(the)S
3450(time.)S
3854 V
12 I
708(Functions)S
4206 V
708(tod)S
12 Y1
862(3)S
12 I
922(defcap)S
4442 V
11 C
(errstat)469 1068 A
4582 V
(tod)201 1068 A
11 Y1
1269(3)S
11 C
(defcap\(\))536 1324 A
4782 V
12 R
708(This)S
957(routine)S
1334(is)S
1449(used)S
1705(to)S
1834(set)S
2004(the)S
2187(time)S
2438(of)S
2574(day)S
2783(server)S
3115(to)S
3244(be)S
3393(used)S
3649(by)S
3804(calls)S
4062(to)S
4191(get)S
4374(or)S
4510(set)S
4680(the)S
4863(time.)S
5174(It)S
4922 V
708(finds)S
1024(the)S
(capability)478 1246 A
1798(for)S
2014(a)S
2142(time-of-day)S
2788(server)S
3158(as)S
3332(follows.)S
3829(It)S
3977(uses)S
4258(the)S
12 C
(TOD)219 4479 A
12 R
(capability)478 4771 A
5062 V
708(environment)S
1388(variable)S
1848(if)S
1992(it)S
2129(exists.)S
2535(Otherwise)S
3105(it)S
(looks)261 3243 A
3574(up)S
12 C
(DEF)219 3764 A
12 Y1
3983(3)S
12 C
(TODSVR)438 4043 A
12 R
4551(as)S
4722(defined)S
5155(in)S
5202 V
12 I
708(ampolicy.h)S
12 R
1290(\(which)S
1665(is)S
1784(typically)S
12 I
(/profile/cap/todsvr/default)1271 2246 A
12 R
3527(\).)S
3666(The)S
(capability)478 3892 A
4408(is)S
4527(stored)S
4861(in)S
4992(static)S
5342 V
708(data)S
940(inside)S
1259(the)S
(module.)392 1437 A
1889(Be)S
2053(careful)S
2421(when)S
2713(trying)S
3032(to)S
3156(use)S
(multiple)404 3347 A
3781(time)S
4027(of)S
4158(day)S
4362(servers.)S
5518 V
708(The)S
949(function)S
1405(returns)S
12 C
(STD)219 1795 A
12 Y1
2014(3)S
12 C
2074(OK)S
12 R
2274(if)S
2403(it)S
(successfully)592 2525 A
(looked)328 3171 A
3553(up)S
3727(the)S
(capability)478 3929 A
4461(in)S
4609(the)S
4811(directory)S
5658 V
708(server.)S
1095(Otherwise)S
1625(it)S
1723(returns)S
2090(the)S
2268(error)S
2535(status)S
2841(from)S
3107(the)S
3285(directory)S
3753(server)S
(look-up.)405 4080 A
5974 V
12 I
708(tod)S
12 Y1
862(3)S
12 I
922(setcap)S
6210 V
11 C
(void)268 1068 A
6350 V
(tod)201 1068 A
11 Y1
1269(3)S
11 C
(setcap\(tod)670 1324 A
11 Y1
1994(3)S
11 C
(cap\))268 2049 A
6490 V
(capability)670 1068 A
(*tod)268 1805 A
11 Y1
2073(3)S
11 C
(cap;)268 2128 A
6726 V
12 I
708(Tod)S
12 Y1
895(3)S
12 I
955(setcap)S
12 R
1308(sets)S
1524(to)S
12 I
1652(tod)S
12 Y1
1806(3)S
12 I
1866(cap)S
12 R
2084(the)S
2266(pointer)S
2643(to)S
2771(the)S
(capability)478 2953 A
3465(for)S
3641(the)S
3823(time)S
4073(of)S
4209(day)S
4418(server)S
4750(to)S
4879(be)S
5028(used)S
6866 V
708(in)S
835(subsequent)S
1404(calls)S
1660(to)S
12 I
1787(tod)S
12 Y1
1941(3)S
12 I
(gettime)358 2001 A
12 R
2402(and)S
12 I
2609(tod)S
12 Y1
2763(3)S
12 I
(settime)345 2823 A
12 R
3178(.)S
3271(The)S
3492(address)S
3888(of)S
4022(the)S
(capability)478 4203 A
4714(is)S
4827(stored)S
5155(in)S
7006 V
708(static)S
995(data)S
1227(inside)S
1546(the)S
(module.)392 1724 A
2176(Be)S
2340(careful)S
2708(when)S
3000(trying)S
3319(to)S
3443(use)S
(multiple)404 3634 A
4068(time)S
4314(of)S
4445(day)S
4649(servers.)S
7700 V
(412)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 413 419
BP
/slant 0 def
/height 0 def
500 V
12 R
708(tod)S
882(\(L\))S
2567(Library)S
2961(Routines)S
4919(tod)S
5093(\(L\))S
860 V
12 I
708(tod)S
12 Y1
862(3)S
12 I
(gettime)358 922 A
1096 V
11 C
(errstat)469 1068 A
1236 V
(tod)201 1068 A
11 Y1
1269(3)S
11 C
(gettime\(sec,)804 1324 A
(msec,)335 2195 A
(tz,)201 2597 A
(dst\))268 2865 A
1376 V
(long)268 1068 A
(*sec;)335 1403 A
1516 V
(int)201 1068 A
(*msec;)402 1336 A
1656 V
(int)201 1068 A
(*tz;)268 1336 A
1796 V
(int)201 1068 A
(*dst;)335 1336 A
1996 V
12 I
708(Tod)S
12 Y1
895(3)S
12 I
(gettime)358 955 A
12 R
1357(gets)S
1586(the)S
1768(time)S
2018(from)S
2288(the)S
2470(time-of-day)S
3077(server.)S
3468(It)S
(fills)190 3577 A
3801(the)S
(long)214 3983 A
4231(integer)S
4603(pointed)S
5000(to)S
5129(by)S
2136 V
12 I
708(sec)S
12 R
911(with)S
1165(the)S
1350(number)S
1756(of)S
(seconds)382 1894 A
2313(since)S
2599(the)S
2784(epoch,)S
3139(January)S
3552(1,)S
(1970,)270 3679 A
3986(and)S
4197(the)S
4382(integer)S
4756(pointed)S
5155(to)S
2276 V
708(by)S
12 I
860(msec)S
12 R
1145(with)S
1393(the)S
1573(number)S
1974(of)S
(milliseconds)612 2107 A
2751(since)S
3032(the)S
3212(value)S
3507(in)S
12 I
3634(sec)S
12 R
3799(.)S
3892(The)S
4113(integer)S
4483(pointed)S
4878(to)S
5005(by)S
12 I
5158(tz)S
2416 V
12 R
708(is)S
(filled)257 824 A
1116(in)S
1244(with)S
1494(the)S
1676(local)S
1946(time)S
2196(zone,)S
2488(measured)S
2986(in)S
3114(minutes)S
3531(of)S
3666(time)S
3916(westward)S
4416(from)S
4686(Greenwich.)S
2556 V
708(The)S
933(integer)S
1307(pointed)S
1706(to)S
1837(by)S
12 I
1994(dst)S
12 R
2182(is)S
(filled)257 2300 A
2594(in)S
2725(with)S
2978(a)S
(non-zero)430 3069 A
3536(value)S
3835(if)S
3947(Daylight)S
4409(Saving)S
4782(time)S
5036(is)S
5155(in)S
2696 V
708(effect.)S
2872 V
12 I
708(Tod)S
12 Y1
895(3)S
12 I
(gettime)358 955 A
12 R
1377(calls)S
12 I
1654(tod)S
12 Y1
1808(3)S
12 I
1868(defcap)S
12 R
2254(if)S
2383(it)S
2505(has)S
2720(not)S
2929(already)S
3341(been)S
3624(called,)S
3999(so)S
4161(it)S
4284(is)S
4420(not)S
(necessary)471 4629 A
5155(to)S
3012 V
(explicitly)458 708 A
1196(call)S
12 I
1402(tod)S
12 Y1
1556(3)S
12 I
1616(defcap)S
12 R
1978(or)S
12 I
2109(tod)S
12 Y1
2263(3)S
12 I
2323(setcap)S
12 R
2672(before)S
12 I
3012(tod)S
12 Y1
3166(3)S
12 I
(gettime)358 3226 A
12 R
3594(.)S
3248 V
708(Required)S
1181(Rights:)S
3388 V
1062(None)S
3684 V
708(Error)S
(Conditions:)563 995 A
3824 V
12 C
(RPC)219 1062 A
12 R
1311(errors)S
1969(if)S
2074(the)S
2252(server)S
2579(is)S
2690(not)S
2874(available.)S
4200 V
12 I
708(tod)S
12 Y1
862(3)S
12 I
(settime)345 922 A
4436 V
11 C
(errstat)469 1068 A
4576 V
(tod)201 1068 A
11 Y1
1269(3)S
11 C
(settime\(sec,)804 1324 A
(msec\))335 2195 A
4716 V
(long)268 1068 A
(sec;)268 1403 A
4856 V
(int)201 1068 A
(msec;)335 1336 A
5056 V
12 I
708(Tod)S
12 Y1
895(3)S
12 I
(settime)345 955 A
12 R
1366(sets)S
1604(the)S
1808(time)S
2081(of)S
2239(the)S
2444(time-of-day)S
3074(server)S
3428(as)S
3586(selected)S
4034(by)S
4211(either)S
12 I
4545(tod)S
12 Y1
4699(3)S
12 I
4759(defcap)S
12 R
5148(or)S
5196 V
12 I
708(tod)S
12 Y1
862(3)S
12 I
922(setcap)S
12 R
1241(.)S
5372 V
12 I
708(Tod)S
12 Y1
895(3)S
12 I
(settime)345 955 A
12 R
1365(calls)S
12 I
1643(tod)S
12 Y1
1797(3)S
12 I
1857(defcap)S
12 R
2244(if)S
2374(it)S
2497(has)S
2713(not)S
2922(already)S
3334(been)S
3618(called,)S
3994(so)S
4157(it)S
4281(is)S
4418(not)S
(necessary)471 4628 A
5155(to)S
5512 V
(explicitly)458 708 A
1196(call)S
12 I
1402(tod)S
12 Y1
1556(3)S
12 I
1616(defcap)S
12 R
1978(or)S
12 I
2109(tod)S
12 Y1
2263(3)S
12 I
2323(setcap)S
12 R
2672(before)S
12 I
3012(tod)S
12 Y1
3166(3)S
12 I
(settime)345 3226 A
12 R
3581(.)S
5748 V
708(Required)S
1181(Rights:)S
5888 V
1062(All)S
1248(rights)S
1554(bits)S
1759(must)S
2024(be)S
2168(on.)S
6184 V
708(Error)S
(Conditions:)563 995 A
6324 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(DENIED)438 1341 A
12 R
1969(if)S
2074(any)S
2278(rights)S
2584(are)S
2763(not)S
2947(on.)S
6464 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(CAPBAD)438 1341 A
12 R
1969(if)S
2074(the)S
(capability)478 2252 A
2760(is)S
2871(invalid.)S
6604 V
12 C
(RPC)219 1062 A
12 R
1311(errors)S
1969(if)S
2074(the)S
2252(server)S
2579(is)S
2690(not)S
2874(available.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(413)180 5069 A
7920 V
EP
%%Page: 414 420
BP
/slant 0 def
/height 0 def
500 V
12 R
708(tod)S
882(\(L\))S
2567(Library)S
2961(Routines)S
4919(tod)S
5093(\(L\))S
860 V
12 I
708(Environment)S
1363(Variables)S
1036 V
12 C
(TOD)219 708 A
12 R-1
957(-)S
12 R
1055(environment)S
(capability)478 1696 A
2204(for)S
2376(a)S
2460(tod)S
2644(server.)S
1352 V
12 I
708(Warnings)S
1528 V
12 R
708(The)S
939(granularity)S
1515(of)S
1660(the)S
1852(clock)S
2158(is)S
2283(server)S
2624(dependent.)S
3224(Time)S
3524(values)S
3877(are)S
4070(truncated)S
4565(as)S
(opposed)401 4710 A
5155(to)S
1668 V
(rounded.)425 708 A
1844 V
708(If)S
824(the)S
(capability)478 1006 A
1518(whose)S
1861(address)S
2258(is)S
2373(handed)S
2755(to)S
12 I
2884(tod)S
12 Y1
3038(3)S
12 I
3098(setcap)S
12 R
3452(is)S
(overwritten,)590 3568 A
4193(the)S
4376(new)S
4613(value)S
(will)190 4910 A
5135(be)S
1984 V
708(used)S
959(in)S
1083(subsequent)S
1649(calls)S
1902(to)S
12 I
2026(tod)S
12 Y1
2180(3)S
12 I
(gettime)358 2240 A
12 R
2638(and)S
12 I
2842(tod)S
12 Y1
2996(3)S
12 I
(settime)345 3056 A
12 R
3411(.)S
2160 V
708(If)S
12 I
820(tod)S
12 Y1
974(3)S
12 I
(gettime)358 1034 A
12 R
1432(or)S
12 I
1563(tod)S
12 Y1
1717(3)S
12 I
(settime)345 1777 A
12 R
2162(fails,)S
2432(it)S
(undoes)341 2530 A
2901(the)S
3079(effect)S
3387(of)S
3518(any)S
3722(previous)S
12 I
4168(tod)S
12 Y1
4322(3)S
12 I
4382(setcap)S
12 R
4701(.)S
2440 V
12 B
708(See)S
913(Also)S
2616 V
12 R
708(date\(U\),)S
1140(ctime\(L\),)S
1626(posix\(L\),)S
2103(rpc\(L\).)S
7700 V
(414)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 415 421
BP
/slant 0 def
/height 0 def
500 V
12 R
(uniqport)409 708 A
1137(\(L\))S
2567(Library)S
2961(Routines)S
(uniqport)409 4664 A
5093(\(L\))S
860 V
2033(\(in)S
2198(libraries:)S
2661(libamoeba.a,)S
3309(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
(uniqport)409 708 A
12 R-1
1147(-)S
12 R
1275(generate)S
1716(a)S
(random)369 1800 A
2199(port)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("module/rnd.h")938 1311 A
2182 V
(void)268 708 A
(uniqport\(p\))737 1043 A
2322 V
(void)268 708 A
(uniqport)536 1043 A
11 Y1
1579(3)S
11 C
(reinit\(\))536 1634 A
2662 V
12 B
708(Description)S
2838 V
12 R
708(Routines)S
1167(to)S
1291(generate)S
1732(unique)S
2090(RPC)S
2347(and)S
(group)281 2551 A
2862(communication)S
3644(ports)S
3916(and)S
4120(check)S
4432(fields.)S
3154 V
12 I
(uniqport)415 708 A
3390 V
11 C
(void)268 1068 A
3530 V
(uniqport\(p\))737 1068 A
3670 V
(port)268 1068 A
1403(*)S
1537(p;)S
3906 V
12 I
(Uniqport)443 708 A
12 R
(produces)436 1196 A
1667(a)S
(non-NULL,)575 1757 A
(random)369 2368 A
12 I
2773(port)S
12 R
2984(.)S
3080(In)S
3217(general)S
3610(the)S
3794(result)S
(should)321 4100 A
4457(be)S
4607(unique)S
4971(to)S
5101(the)S
4046 V
708(system.)S
1137(It)S
1245(is)S
1359(useful)S
1688(for)S
1863(servers)S
2240(that)S
2455(need)S
2716(to)S
2843(create)S
3167(new)S
3402(check)S
3717(fields)S
4020(or)S
4154(a)S
4241(new)S
4476(port)S
4704(to)S
4830(listen)S
5125(to.)S
4186 V
708(It)S
813(uses)S
1051(a)S
(random)369 1135 A
1534(number)S
1933(server)S
2260(to)S
2384(get)S
2562(the)S
2740(seed)S
2985(for)S
3157(the)S
(random)369 3335 A
3734(number)S
4133(generator.)S
4502 V
12 I
(uniqport)415 708 A
12 Y1
1123(3)S
12 I
1183(reinit)S
4738 V
11 C
(void)268 1068 A
4878 V
(uniqport)536 1068 A
11 Y1
1604(3)S
11 C
(reinit\(\))536 1659 A
5114 V
12 I
(Uniqport)443 708 A
12 Y1
1151(3)S
12 I
1211(reinit)S
12 R
1523(causes)S
1878(the)S
2065(next)S
2312(call)S
2528(to)S
12 I
(uniqport)415 2662 A
12 R
3127(to)S
(choose)335 3261 A
3636(a)S
3730(new)S
3972(seed)S
4227(for)S
4409(the)S
4597(generation)S
5148(of)S
5254 V
(random)369 708 A
1107(numbers.)S
5570 V
12 I
708(Environment)S
1363(Variables)S
5746 V
12 R
708(If)S
834(set,)S
12 C
(RANDOM)438 1043 A
12 R
1525(determines)S
2101(which)S
(random)369 2441 A
2854(number)S
3267(server)S
3608(to)S
3746(use)S
3951(when)S
4257(generating)S
4812(the)S
5004(seed.)S
5886 V
708(Otherwise)S
1238(the)S
1416(default)S
(random)369 1783 A
2182(server)S
2509(is)S
2620(used.)S
6202 V
12 I
708(Warnings)S
6378 V
12 R
708(It)S
821(is)S
940(possible)S
1374(that)S
1594(the)S
1780(port)S
2013(generated)S
2522(is)S
2641(not)S
2833(unique)S
3199(within)S
3547(the)S
3733(system.)S
4167(If)S
4287(it)S
4393(is)S
4512(to)S
4644(be)S
4796(used)S
5055(as)S
5195(a)S
6518 V
12 I
708(port)S
12 R
958(then)S
1205(it)S
1312(may)S
1559(be)S
(necessary)471 1712 A
2222(to)S
2354(test)S
2561(to)S
2693(see)S
2886(if)S
(anyone)348 2999 A
3385(is)S
3504(already)S
3899(listening)S
4354(to)S
4486(that)S
4706(port)S
4939(before)S
6658 V
708(using)S
1002(it.)S
1163(This)S
1411(is)S
(done)234 1525 A
1792(by)S
1945(doing)S
2252(a)S
12 I
2339(std)S
12 Y1
2480(3)S
12 I
2540(info)S
12 R
2771(\(see)S
12 I
3000(std)S
12 R
3151(\(L\)\))S
3381(on)S
3534(the)S
3715(port)S
3943(with)S
4192(a)S
4279(short)S
4555(locate)S
4879(timeout)S
6798 V
708(\(say)S
940(2)S
(seconds\).)453 1030 A
7700 V
2683(Amoeba)S
3123(5.3)S
(415)180 5069 A
7920 V
EP
%%Page: 416 422
BP
/slant 0 def
/height 0 def
500 V
12 R
(uniqport)409 708 A
1137(\(L\))S
2567(Library)S
2961(Routines)S
(uniqport)409 4664 A
5093(\(L\))S
860 V
12 B
708(Example)S
1096 V
11 C
(#include)536 1068 A
("amoeba.h")670 1671 A
1236 V
(#include)536 1068 A
("module/rnd.h")938 1671 A
1516 V
(port)268 1068 A
(listen;)469 1403 A
1796 V
(uniqport\(&listen\);)1206 1068 A
2136 V
12 B
708(See)S
913(Also)S
2312 V
12 R
708(rnd\(L\),)S
1085(rpc\(L\).)S
7700 V
(416)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 417 423
BP
/slant 0 def
/height 0 def
500 V
12 R
708(vdisk)S
989(\(L\))S
2567(Library)S
2961(Routines)S
4812(vdisk)S
5093(\(L\))S
860 V
2033(\(in)S
2198(libraries:)S
2661(libamoeba.a,)S
3309(libamunix.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(vdisk)S
12 R-1
999(-)S
12 R
1127(the)S
1305(virtual)S
1652(disk)S
1883(server)S
2210(client)S
(interface)426 2510 A
2966(stubs)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("cmdreg.h")670 1311 A
2182 V
(#include)536 708 A
("stderr.h")670 1311 A
2322 V
(#include)536 708 A
("module/disk.h")1005 1311 A
2602 V
(errstat)469 708 A
(disk)268 1244 A
11 Y1
1512(3)S
11 C
(info\(cap,)603 1567 A
(buf,)268 2237 A
(size,)335 2572 A
(cnt\))268 2974 A
2742 V
(errstat)469 708 A
(disk)268 1244 A
11 Y1
1512(3)S
11 C
(read\(cap,)603 1567 A
(l2vblksz,)603 2237 A
(start,)402 2907 A
(numblocks,)670 3376 A
(buf\))268 4113 A
2882 V
(errstat)469 708 A
(disk)268 1244 A
11 Y1
1512(3)S
11 C
(size\(cap,)603 1567 A
(l2vblksz,)603 2237 A
(size\))335 2907 A
3022 V
(errstat)469 708 A
(disk)268 1244 A
11 Y1
1512(3)S
11 C
(write\(cap,)670 1567 A
(l2vblksz,)603 2304 A
(start,)402 2974 A
(numblocks,)670 3443 A
(buf\))268 4180 A
3162 V
(errstat)469 708 A
(disk)268 1244 A
11 Y1
1512(3)S
11 C
(getgeometry\(cap,)1072 1567 A
(geom\))335 2706 A
3502 V
12 B
708(Description)S
3678 V
12 R
(Along)302 708 A
1082(with)S
1370(the)S
1590(standard)S
2072(server)S
2442(stubs)S
2763(\(see)S
12 I
3032(std)S
12 R
3183(\(L\)\))S
3453(the)S
3674(virtual)S
4064(disk)S
4338(stubs)S
4659(provide)S
5101(the)S
3818 V
708(programmer's)S
(interface)426 1433 A
1897(to)S
2029(the)S
2215(Virtual)S
2598(Disk)S
2865(Server.)S
3280(The)S
3506(Virtual)S
3888(Disk)S
4154(Server)S
4508(allows)S
4862(the)S
5047(user)S
3958 V
708(to)S
845(specify)S
1238(the)S
1429(size)S
1661(of)S
1805(the)S
1996(block)S
2307(they)S
2558(wish)S
2830(to)S
2967(use)S
3171(in)S
3308(the)S
3499(call.)S
3778(This)S
4036(is)S
(convenient)530 4160 A
4733(for)S
4918(certain)S
4098 V
708(applications)S
1332(which)S
1667(work)S
1955(most)S
2229(effectively)S
2788(with)S
3043(a)S
3136(particular)S
3641(block)S
3947(size)S
4174(and)S
4386(do)S
4544(not)S
4736(wish)S
5003(to)S
5135(be)S
4238 V
708(concerned)S
1239(with)S
1489(the)S
(physical)403 1672 A
(reality.)341 2110 A
2516(The)S
2739(block)S
3042(size)S
3266(must)S
3536(be)S
3685(a)S
3774(power)S
4112(of)S
4248(2.)S
4403(To)S
4572(enforce)S
4971(this)S
5181(it)S
4378 V
708(must)S
988(be)S
1147(specified)S
1630(in)S
1769(the)S
1962(call)S
2183(as)S
2329(the)S
2522(logarithm)S
3038(base)S
3297(2)S
3401(of)S
3546(the)S
3738(desired)S
4132(block)S
4444(size.)S
4737(It)S
4856(must)S
5135(be)S
4518 V
708(greater)S
1076(than)S
12 C
1314(D)S
12 Y1
1387(3)S
12 C
(PHYS)292 1447 A
12 Y1
1739(3)S
12 C
(SHIFT)365 1799 A
12 R
2194(\(see)S
12 I
2420(disk/disk.h)S
12 R
2944(\).)S
4834 V
12 I
708(Types)S
5010 V
12 R
708(The)S
937(file)S
12 I
1141(server/disk/disk.h)S
12 R
2043(\(which)S
2421(is)S
2543(included)S
3000(by)S
12 I
(module/disk.h)675 3161 A
12 R
3846(\))S
3928(defines)S
4319(the)S
4508(type)S
12 I
4757(disk)S
12 Y1
4952(3)S
12 I
(addr)227 5012 A
5150 V
12 R
708(which)S
1034(is)S
1145(a)S
1229(disk)S
1460(address.)S
1913(It)S
2018(is)S
2129(implemented)S
2791(as)S
2922(a)S
3006(large)S
3279(integer.)S
5466 V
12 I
(Access)330 708 A
5642 V
12 R
(Access)344 708 A
1102(to)S
1247(the)S
1446(disk)S
1698(is)S
1830(determined)S
2426(on)S
2597(the)S
2796(basis)S
3089(of)S
3241(rights)S
3568(in)S
3713(the)S
(capability)478 3912 A
4441(given)S
4760(with)S
(each)222 5027 A
5782 V
708(command.)S
5958 V
708(The)S
926(following)S
1427(rights)S
1733(are)S
1912(defined)S
2305(in)S
2429(Virtual)S
2804(Disk)S
3063(Server)S
(capabilities:)587 3410 A
6194 V
12 C
(RGT)219 1068 A
12 Y1
1287(3)S
12 C
(WRITE)365 1347 A
12 R
2202(permission)S
2763(to)S
2887(write)S
3168(to)S
3292(the)S
3470(disk.)S
6334 V
12 C
(RGT)219 1068 A
12 Y1
1287(3)S
12 C
(READ)292 1347 A
12 R
2202(permission)S
2763(to)S
2887(read)S
3126(the)S
3304(disk.)S
6710 V
12 I
708(Errors)S
6886 V
12 R
708(All)S
903(functions)S
1392(return)S
1721(the)S
1908(error)S
2184(status)S
2499(of)S
2639(the)S
2826(operation.)S
3382(The)S
3609(user)S
(interface)426 3850 A
4315(to)S
4448(the)S
4635(Virtual)S
5020(Disk)S
7026 V
708(Server)S
1083(returns)S
1478(only)S
1750(standard)S
2218(error)S
2513(codes)S
2846(\(as)S
3046(defined)S
3466(in)S
12 I
3617(stderr.h)S
12 R
4006(\).)S
4164(All)S
4377(the)S
4582(stubs)S
(involve)362 4887 A
7166 V
708(transactions)S
1323(and)S
1533(so)S
1676(in)S
(addition)396 1806 A
2238(to)S
2368(the)S
2552(errors)S
2872(described)S
3373(below,)S
3736(all)S
3895(stubs)S
4180(may)S
4425(return)S
4752(any)S
4963(of)S
5101(the)S
7306 V
708(standard)S
1180(RPC)S
1469(error)S
1768(codes.)S
2165(A)S
2315(valid)S
(capability)478 2619 A
3159(is)S
3302(required)S
3768(for)S
3972(all)S
4156(operations)S
4722(and)S
4958(so)S
5127(all)S
7700 V
2683(Amoeba)S
3123(5.3)S
(417)180 5069 A
7920 V
EP
%%Page: 418 424
BP
/slant 0 def
/height 0 def
500 V
12 R
708(vdisk)S
989(\(L\))S
2567(Library)S
2961(Routines)S
4812(vdisk)S
5093(\(L\))S
860 V
708(operations)S
(will)190 1249 A
1476(return)S
12 C
(STD)219 1803 A
12 Y1
2022(3)S
12 C
(CAPBAD)438 2082 A
12 R
2557(if)S
2669(an)S
2820(invalid)S
(capability)478 3193 A
3708(is)S
3826(used.)S
4144(If)S
4263(the)S
4449(required)S
4891(right\(s\))S
1000 V
708(are)S
892(not)S
1081(present)S
1466(then)S
12 C
(STD)219 1708 A
12 Y1
1927(3)S
12 C
(DENIED)438 1987 A
12 R
(will)190 2459 A
2683(be)S
2831(returned.)S
3329(If)S
3445(an)S
3593(invalid)S
3963(blocksize)S
4454(is)S
4569(specified)S
5041(then)S
1140 V
12 C
(STD)219 708 A
12 Y1
927(3)S
12 C
(ARGBAD)438 987 A
12 R
1464(is)S
1584(returned.)S
2087(If)S
(illegal)304 2208 A
2551(parameters)S
3123(\(such)S
3425(as)S
3566(NULL-pointers)S
4361(or)S
4502(negative)S
4952(buffer)S
1280 V
708(sizes\))S
1046(are)S
1256(given,)S
1615(exceptions)S
2193(may)S
2461(occur)S
2790(rather)S
3134(than)S
3402(an)S
3576(error)S
3873(status)S
4209(being)S
4537(returned.)S
5061(The)S
1420 V
708(behavior)S
1161(is)S
1272(not)S
1456(well)S
1696(defined)S
(under)275 2089 A
2394(these)S
(conditions.)533 2673 A
1736 V
12 I
708(Functions)S
2052 V
708(disk)S
12 Y1
903(3)S
12 I
963(getgeometry)S
2288 V
11 C
(errstat)469 1068 A
2428 V
(disk)268 1068 A
11 Y1
1336(3)S
11 C
(getgeometry\(cap,)1072 1391 A
(geom\))335 2530 A
2568 V
(capability)670 1068 A
(*cap;)335 1805 A
2708 V
(geometry)536 1068 A
(*geom;)402 1671 A
2908 V
12 I
708(Disk)S
12 Y1
931(3)S
12 I
991(getgeometry)S
12 R
1650(returns)S
2037(in)S
12 I
2181(geom)S
12 R
2504(the)S
2703(disk)S
2955(geometry)S
3463(information)S
4086(for)S
4279(the)S
4478(first)S
12 I
(piece)256 4726 A
12 R
5043(of)S
5195(a)S
3048 V
708(virtual)S
1058(disk.)S
1352(It)S
1460(is)S
1574(only)S
1821(intended)S
2269(for)S
2443(use)S
2636(on)S
12 I
(bootp)274 2788 A
12 R
(partitions)458 3104 A
3594(\(which)S
3963(are)S
(physical)403 4144 A
4579(disks\).)S
4960(These)S
3188 V
708(consist)S
1075(of)S
1207(exactly)S
1588(one)S
(piece.)286 1793 A
2140(However)S
2616(if)S
2722(applied)S
3109(to)S
3234(a)S
3319(virtual)S
3667(disk)S
3899(consisting)S
4421(of)S
4554(more)S
4835(than)S
5075(one)S
3328 V
(piece)256 708 A
994(it)S
1092(returns)S
1459(the)S
1637(geometry)S
2124(of)S
2255(the)S
2433(first)S
(piece.)286 2660 A
3564 V
708(Required)S
1181(Rights:)S
3704 V
12 C
(RGT)219 1062 A
12 Y1
1281(3)S
12 C
(READ)292 1341 A
4000 V
12 R
708(Error)S
(Conditions:)563 995 A
4140 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(SYSERR)438 1341 A
12 R
1779(:)S
1969(If)S
2081(the)S
2259(data)S
2491(returned)S
2925(was)S
3144(insufficient)S
3727(for)S
3899(a)S
3983(full)S
4280 V
1969(geometry)S
2456(struct.)S
4656 V
12 I
708(disk)S
12 Y1
903(3)S
12 I
963(info)S
4892 V
11 C
(errstat)469 1068 A
5032 V
(disk)268 1068 A
11 Y1
1336(3)S
11 C
(info\(cap,)603 1391 A
(buf,)268 2061 A
(size,)335 2396 A
(cnt\))268 2798 A
5172 V
(capability)670 1068 A
(*cap;)335 1805 A
5312 V
1068(dk)S
11 Y1
1202(3)S
11 C
(info)268 1257 A
11 Y1
1525(3)S
11 C
(data)268 1580 A
(*buf;)335 1915 A
5452 V
(int)201 1068 A
(size;)335 1336 A
5592 V
(int)201 1068 A
(*cnt;)335 1336 A
5792 V
12 I
708(Disk)S
12 Y1
931(3)S
12 I
991(info)S
12 R
1220(returns)S
1588(information)S
(about)268 2191 A
2491(the)S
(physical)403 2671 A
3106(disk)S
(partitions)458 3339 A
3829(that)S
4043(comprise)S
4519(the)S
4699(virtual)S
5048(disk)S
5932 V
708(specified)S
1176(by)S
12 I
1326(cap)S
12 R
1510(.)S
1600(The)S
1818(data)S
2050(returned)S
2484(consists)S
2897(of:)S
6108 V
958(unit)S
1176(number)S
1575(of)S
1706(the)S
1884(virtual)S
2231(disk)S
2462(\(type:)S
12 I
(long\))255 2775 A
6248 V
12 R
958(disk)S
1189(address)S
1582(of)S
1713(the)S
1891(first)S
2118(block)S
2416(in)S
2540(the)S
(partition)411 2718 A
3159(available)S
3627(to)S
3751(the)S
3929(user)S
4161(\(type:)S
12 I
4474(disk)S
12 Y1
4669(3)S
12 I
(addr\))268 4729 A
6388 V
12 R
958(number)S
1357(of)S
1488(disk)S
1719(blocks)S
2064(available)S
2532(in)S
2656(the)S
(partition)411 2834 A
3275(\(type:)S
12 I
3588(disk)S
12 Y1
3783(3)S
12 I
(addr\))268 3843 A
6564 V
12 R
708(It)S
849(returns)S
1252(the)S
1466(data)S
1734(in)S
12 I
1894(buf)S
12 R
2124(\(which)S
2527(contains)S
2996(room)S
3317(for)S
12 I
3525(size)S
12 R
3783(sets)S
4031(of)S
4199(data\).)S
4569(The)S
4824(structure)S
6704 V
12 I
708(dk)S
12 Y1
822(3)S
12 I
882(info)S
12 Y1
1070(3)S
12 I
1130(data)S
12 R
1400(is)S
1527(defined)S
1936(in)S
2076(the)S
2270(include)S
2672(file)S
12 I
2881(server/disk/disk.h)S
12 R
3742(.)S
12 I
3848(Disk)S
12 Y1
4071(3)S
12 I
4131(info)S
12 R
4375(returns)S
4758(in)S
12 I
4898(cnt)S
12 R
5101(the)S
6844 V
708(number)S
1112(of)S
1248(units)S
1518(of)S
1654(information)S
2262(returned.)S
2762(NB.)S
3026(If)S
3144(more)S
(partitions)458 3429 A
3923(are)S
4108(available)S
4582(than)S
4826(fit)S
4971(in)S
5101(the)S
6984 V
708(buffer)S
1035(provided)S
1494(it)S
(will)190 1592 A
1812(return)S
2132(the)S
2310(number)S
2709(asked)S
3014(for)S
(without)370 3186 A
3586(complaint)S
4100(or)S
4231(warning.)S
7700 V
(418)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 419 425
BP
/slant 0 def
/height 0 def
500 V
12 R
708(vdisk)S
989(\(L\))S
2567(Library)S
2961(Routines)S
4812(vdisk)S
5093(\(L\))S
920 V
708(Required)S
1181(Rights:)S
1060 V
12 C
(RGT)219 1062 A
12 Y1
1281(3)S
12 C
(READ)292 1341 A
1356 V
12 R
708(Error)S
(Conditions:)563 995 A
1496 V
12 C
(STD)219 1062 A
12 Y1
1281(3)S
12 C
(SYSERR)438 1341 A
12 R
1779(:)S
1969(If)S
2081(the)S
2259(data)S
2491(returned)S
2925(was)S
3144(insufficient)S
3727(for)S
3899(a)S
3983(full)S
1636 V
1969(dk)S
12 Y1
2089(3)S
12 R
2149(info)S
12 Y1
2344(3)S
12 R
2404(data)S
2636(struct.)S
2012 V
12 I
708(disk)S
12 Y1
903(3)S
12 I
963(read)S
2248 V
11 C
(errstat)469 1068 A
2388 V
(disk)268 1068 A
11 Y1
1336(3)S
11 C
(read\(cap,)603 1391 A
(l2vblksz,)603 2061 A
(start,)402 2731 A
(numblocks,)670 3200 A
(buf\))268 3937 A
2528 V
(capability)670 1068 A
(*cap;)335 1805 A
2668 V
(int)201 1068 A
(l2vblksz;)603 1336 A
2808 V
(disk)268 1068 A
11 Y1
1336(3)S
11 C
(addr)268 1391 A
(start;)402 1726 A
2948 V
(disk)268 1068 A
11 Y1
1336(3)S
11 C
(addr)268 1391 A
(numblocks;)670 1726 A
3088 V
(bufptr)402 1068 A
(buf;)268 1537 A
3288 V
12 I
708(Disk)S
12 Y1
931(3)S
12 I
991(read)S
12 R
1255(reads)S
1544(exactly)S
12 I
1927(numblocks)S
12 R
2488(of)S
2623(the)S
2805(size)S
3028(specified)S
3500(by)S
12 I
3654(l2vblksz)S
12 R
4088(\(i.e.,)S
4341(the)S
4523(disk)S
4758(block)S
5060(size)S
3428 V
708(is)S
820(2)S
3380 V
9 I
880(l)S
9 R
920(2)S
9 I
965(vblksz)S
3428 V
12 R
1197(\),)S
1299(starting)S
1694(at)S
1813(block)S
2112(number)S
12 I
2512(start)S
12 R
2744(,)S
2804(from)S
3070(the)S
3248(virtual)S
3595(disk)S
3826(specified)S
4294(by)S
12 I
4444(cap)S
12 R
4628(.)S
4718(The)S
4936(data)S
5168(is)S
3568 V
708(returned)S
1153(in)S
1288(the)S
1477(buffer)S
1815(pointed)S
2218(to)S
2353(by)S
12 I
2514(buf)S
12 R
2678(.)S
2779(If)S
2902(it)S
3011(fails)S
3262(to)S
3397(read)S
3647(exactly)S
4039(the)S
4229(right)S
(amount)362 4500 A
4904(of)S
5047(data)S
3708 V
708(then)S
946(it)S
(will)190 1044 A
1264(return)S
1584(an)S
1728(error)S
1995(status.)S
3944 V
708(Required)S
1181(Rights:)S
4084 V
12 C
(RGT)219 1062 A
12 Y1
1281(3)S
12 C
(READ)292 1341 A
4460 V
12 I
708(Disk)S
12 Y1
931(3)S
12 I
991(size)S
4696 V
11 C
(errstat)469 1068 A
4836 V
(disk)268 1068 A
11 Y1
1336(3)S
11 C
(size\(cap,)603 1391 A
(l2vblksz,)603 2061 A
(size\))335 2731 A
4976 V
(capability)670 1068 A
(*cap;)335 1805 A
5116 V
(int)201 1068 A
(l2vblksz;)603 1336 A
5256 V
(disk)268 1068 A
11 Y1
1336(3)S
11 C
(addr)268 1391 A
(*size;)402 1726 A
5456 V
12 I
708(Disk)S
12 Y1
931(3)S
12 I
991(size)S
12 R
1215(returns)S
1584(in)S
12 I
1710(size)S
12 R
1902(,)S
1964(the)S
2144(number)S
2545(of)S
2678(blocks)S
3025(of)S
3158(the)S
3338(size)S
3559(specified)S
4029(by)S
12 I
4182(l2vblksz)S
12 R
4615(\(i.e.,)S
4867(the)S
5048(disk)S
5596 V
708(block)S
1006(size)S
1225(is)S
1336(2)S
5548 V
9 I
1396(l)S
9 R
1436(2)S
9 I
1481(vblksz)S
5596 V
12 R
1713(\),)S
1814(available)S
2282(on)S
2432(the)S
2610(virtual)S
2957(disk)S
3188(specified)S
3656(by)S
12 I
3806(cap)S
12 R
3990(.)S
5832 V
708(Required)S
1181(Rights:)S
5972 V
12 C
(RGT)219 1062 A
12 Y1
1281(3)S
12 C
(READ)292 1341 A
7700 V
12 R
2683(Amoeba)S
3123(5.3)S
(419)180 5069 A
7920 V
EP
%%Page: 420 426
BP
/slant 0 def
/height 0 def
500 V
12 R
708(vdisk)S
989(\(L\))S
2567(Library)S
2961(Routines)S
4812(vdisk)S
5093(\(L\))S
860 V
12 I
708(disk)S
12 Y1
903(3)S
12 I
963(write)S
1096 V
11 C
(errstat)469 1068 A
1236 V
(disk)268 1068 A
11 Y1
1336(3)S
11 C
(write\(cap,)670 1391 A
(l2vblksz,)603 2128 A
(start,)402 2798 A
(numblocks,)670 3267 A
(buf\))268 4004 A
1376 V
(capability)670 1068 A
(*cap;)335 1805 A
1516 V
(int)201 1068 A
(l2vblksz;)603 1336 A
1656 V
(disk)268 1068 A
11 Y1
1336(3)S
11 C
(addr)268 1391 A
(start;)402 1726 A
1796 V
(disk)268 1068 A
11 Y1
1336(3)S
11 C
(addr)268 1391 A
(numblocks;)670 1726 A
1936 V
(bufptr)402 1068 A
(buf;)268 1537 A
2136 V
12 I
708(Disk)S
12 Y1
931(3)S
12 I
991(write)S
12 R
1298(writes)S
1644(the)S
12 I
1840(numblocks)S
12 R
2415(blocks)S
2778(in)S
12 I
2920(buf)S
12 R
3084(,)S
3162(whose)S
3519(block-size)S
4065(is)S
4194(specified)S
4680(by)S
12 I
4849(l2vblksz)S
2276 V
12 R
708(\(i.e.,)S
966(the)S
1153(disk)S
1393(block)S
1700(size)S
1928(is)S
2048(2)S
2228 V
9 I
2108(l)S
9 R
2148(2)S
9 I
2193(vblksz)S
2276 V
12 R
2425(\),)S
2535(to)S
2668(the)S
2855(virtual)S
3210(disk)S
3449(specified)S
3925(by)S
12 I
4083(cap)S
12 R
4267(,)S
4335(beginning)S
4855(at)S
4981(block)S
2416 V
12 I
708(start)S
12 R
940(.)S
2652 V
708(Required)S
1181(Rights:)S
2792 V
12 C
(RGT)219 1062 A
12 Y1
1281(3)S
12 C
(WRITE)365 1341 A
3132 V
12 B
708(See)S
913(Also)S
3308 V
12 R
708(dread\(A\),)S
1289(dwrite\(A\),)S
1913(std\(L\),)S
2353(std)S
12 Y1
2494(3)S
12 R
2554(age\(A\),)S
3035(std)S
12 Y1
3176(3)S
12 R
(copy\(U\),)434 3236 A
3783(std)S
12 Y1
3924(3)S
12 R
3984(destroy\(U\),)S
4653(std)S
12 Y1
4794(3)S
12 R
4854(info\(U\),)S
3448 V
708(std)S
12 Y1
849(3)S
12 R
909(restrict\(U\),)S
1478(std)S
12 Y1
1619(3)S
12 R
1679(touch\(U\),)S
2177(vdisk\(A\).)S
7700 V
(420)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 421 427
BP
/slant 0 def
/height 0 def
500 V
12 R
708(virtcirc)S
1080(\(L\))S
2567(Library)S
2961(Routines)S
4721(virtcirc)S
5093(\(L\))S
860 V
2350(\(in)S
2515(libraries:)S
2978(libamoeba.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
708(virtcirc)S
12 R-1
1090(-)S
12 R
1218(virtual)S
1565(circuits,)S
(full-duplex)538 1983 A
2551(interprocess)S
3167(communication)S
3949(channels)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("semaphore.h")871 1311 A
2182 V
(#include)536 708 A
("vc.h")402 1311 A
2462 V
(int)201 708 A
976(vc)S
11 Y1
1110(3)S
11 C
(avail\(vc,)603 1165 A
(which\))402 1835 A
2602 V
(void)268 708 A
1043(vc)S
11 Y1
1177(3)S
11 C
(close\(vc,)603 1232 A
(which\))402 1902 A
2742 V
(struct)402 708 A
1177(vc)S
(*vc)201 1378 A
11 Y1
1579(3)S
11 C
(create\(iport,)871 1634 A
(oport,)402 2572 A
(isize,)402 3041 A
(osize\))402 3510 A
2882 V
(int)201 708 A
976(vc)S
11 Y1
1110(3)S
11 C
(getp\(vc,)536 1165 A
(buf,)268 1768 A
(blocking\))603 2103 A
3022 V
(void)268 708 A
1043(vc)S
11 Y1
1177(3)S
11 C
(getpdone\(vc,)804 1232 A
(size\))335 2103 A
3162 V
(int)201 708 A
976(vc)S
11 Y1
1110(3)S
11 C
(putp\(vc,)536 1165 A
(buf,)268 1768 A
(blocking\))603 2103 A
3302 V
(void)268 708 A
1043(vc)S
11 Y1
1177(3)S
11 C
(putpdone\(vc,)804 1232 A
(size\))335 2103 A
3442 V
(int)201 708 A
976(vc)S
11 Y1
1110(3)S
11 C
(read\(vc,)536 1165 A
(buf,)268 1768 A
(size\))335 2103 A
3582 V
(int)201 708 A
976(vc)S
11 Y1
1110(3)S
11 C
(readall\(vc,)737 1165 A
(buf,)268 1969 A
(size\))335 2304 A
3722 V
(void)268 708 A
1043(vc)S
11 Y1
1177(3)S
11 C
(setsema\(vc,)737 1232 A
(sema\))335 2036 A
3862 V
(void)268 708 A
1043(vc)S
11 Y1
1177(3)S
11 C
(warn\(vc,)536 1232 A
(which,)402 1835 A
(rtn,)268 2304 A
(arg\))268 2639 A
4002 V
(int)201 708 A
976(vc)S
11 Y1
1110(3)S
11 C
(write\(vc,)603 1165 A
(buf,)268 1835 A
(len\))268 2170 A
4342 V
12 B
708(Description)S
4518 V
12 R
708(The)S
12 I
956(virtual)S
1339(circuit)S
12 R
(module)362 1726 A
2148(provides)S
2624(a)S
2739(collection)S
3278(of)S
3440(routines)S
3891(to)S
4046(manage)S
4483(virtual)S
4861(circuits.)S
4658 V
708(Virtual)S
1088(circuits)S
1481(are)S
(full-duplex)538 1665 A
2238(interprocess)S
2858(communication)S
3644(\(IPC\))S
3948(channels.)S
4465(A)S
4587(virtual)S
4938(circuit)S
4798 V
708(consists)S
1149(of)S
1308(an)S
(input)248 1480 A
1786(and)S
2018(an)S
2190(output)S
2556(channel,)S
3020(which)S
3375(can)S
3602(be)S
3775(concurrently)S
4446(read)S
4714(or)S
(written.)375 4874 A
4938 V
708(Virtual)S
1086(circuit)S
1430(users)S
1712(write)S
1996(data)S
2230(to)S
2356(the)S
2536(output)S
2876(channel)S
3284(and)S
3490(read)S
3731(data)S
3965(from)S
4233(the)S
(input)248 4413 A
4693(channel.)S
5161(A)S
5078 V
708(close)S
989(on)S
1141(an)S
1287(output)S
1627(channel)S
2035(causes)S
2383(an)S
2529(end)S
2735(of)S
2868(file)S
3063(\(EOF\))S
3406(to)S
3532(be)S
(transmitted.)576 3679 A
4318(This)S
4566(does)S
4820(not)S
5007(flush)S
5218 V
708(the)S
909(current)S
1306(contents)S
1762(of)S
1916(the)S
2117(local)S
2406(output)S
2767(and)S
2994(remote)S
(input)248 3384 A
3685(channels.)S
4221(A)S
4362(close)S
4663(on)S
4835(an)S
(input)248 5001 A
5358 V
708(channel)S
1121(causes)S
1474(a)S
(hangup)354 1565 A
1956(\(HUP\))S
2318(to)S
2449(be)S
(transmitted)546 2600 A
3183(and)S
3394(the)S
3579(current)S
3961(contents)S
4402(of)S
4541(the)S
4727(local)S
(input)248 5001 A
5498 V
708(and)S
912(remote)S
1279(output)S
1617(channels)S
2070(are)S
2249(flushed.)S
5674 V
708(Internally,)S
1246(the)S
(input)248 1430 A
1714(and)S
1924(output)S
2269(channels)S
2729(consist)S
3102(of)S
3240(a)S
3331(thread)S
3671(and)S
3882(a)S
3973(circular)S
4382(buffer.)S
4776(The)S
(input)248 5001 A
5814 V
708(channel)S
1115(is)S
1227(a)S
1312(client)S
1612(thread)S
1945(which)S
(receives)398 2271 A
2699(data)S
2931(from)S
3197(the)S
3375(remote)S
3742(server)S
4069(and)S
4273(writes)S
4601(it)S
4699(to)S
4823(the)S
(input)248 5001 A
5954 V
708(circular)S
1134(buffer.)S
1545(The)S
1787(output)S
2149(channel)S
2579(is)S
2714(a)S
2822(server)S
3173(thread)S
3530(which)S
3880(reads)S
4190(data)S
4447(from)S
4738(the)S
4941(output)S
6094 V
708(circular)S
1110(buffer)S
1437(and)S
1641(transmits)S
2116(it)S
2214(to)S
2338(the)S
2516(remote)S
2883(client.)S
6270 V
708(The)S
933(virtual)S
1287(circuit)S
1635(structure)S
2097(and)S
2308(various)S
2702(other)S
2989(constants)S
3477(\(for)S
3698(example,)S
12 C
4176(VC)S
12 Y1
4322(3)S
12 C
4382(IN)S
12 R
4528(,)S
12 C
4596(VC)S
12 Y1
4742(3)S
12 C
(OUT)219 4802 A
12 R
5021(\))S
5100(are)S
6410 V
708(defined)S
1101(in)S
1225(the)S
1403(header)S
1756(file)S
12 I
1949(vc.h)S
12 R
2157(.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(421)180 5069 A
7920 V
EP
%%Page: 422 428
BP
/slant 0 def
/height 0 def
500 V
12 R
708(virtcirc)S
1080(\(L\))S
2567(Library)S
2961(Routines)S
4721(virtcirc)S
5093(\(L\))S
860 V
12 I
708(vc)S
12 Y1
816(3)S
12 I
876(create)S
1096 V
11 C
(struct)402 1068 A
1537(vc)S
1738(*)S
1236 V
1068(vc)S
11 Y1
1202(3)S
11 C
(create\(iport,)871 1257 A
(oport,)402 2195 A
(isize,)402 2664 A
(osize\))402 3133 A
1376 V
(port)268 1068 A
(*iport,)469 1403 A
(*oport;)469 1939 A
1516 V
(int)201 1068 A
(isize,)402 1336 A
(osize;)402 1805 A
1716 V
12 I
708(Vc)S
12 Y1
836(3)S
12 I
896(create)S
12 R
1260(creates)S
1649(a)S
1755(virtual)S
2124(circuit.)S
2547(It)S
2674(starts)S
2983(an)S
(input)248 3149 A
3449(channel)S
3877(of)S
4030(size)S
12 I
4271(isize)S
12 R
4549(and)S
4775(an)S
4941(output)S
1856 V
708(channel)S
1120(of)S
1257(size)S
12 I
1482(osize)S
12 R
1734(.)S
1830(The)S
2054(local)S
2326(output)S
2670(channel)S
(connects)423 3082 A
3540(to)S
3669(the)S
3852(remote)S
(input)248 4224 A
4507(channel)S
4918(via)S
5101(the)S
1996 V
708(put)S
901(port)S
12 I
(oport)261 1135 A
12 R
1406(.)S
1505(The)S
1732(local)S
(input)248 2007 A
2294(channel)S
2709(waits)S
3005(for)S
3186(a)S
3279(remote)S
3655(output)S
4002(channel)S
4417(to)S
(connect)376 4551 A
4967(to)S
5101(the)S
2136 V
708(local)S
999(get)S
1202(port)S
12 I
1452(iport.)S
1782(Vc)S
12 Y1
1910(3)S
12 I
1970(create)S
12 R
2338(returns)S
2730(a)S
2839(virtual)S
3211(circuit)S
3577(reference)S
4085(pointer.)S
4543(The)S
4785(local)S
5075(and)S
2276 V
708(remote)S
12 I
1085(vc)S
12 Y1
1193(3)S
12 I
1253(create)S
12 R
1606(must)S
1881(be)S
2035(called)S
2365(within)S
2715(the)S
2903(time)S
3160(limit)S
3431(of)S
3573(a)S
3668(locate)S
3999(timeout)S
4410(\(typically)S
4916(5)S
5017(secs,)S
2416 V
708(see)S
12 I
893(rpc)S
12 R
1064(\(L\)\).)S
1351(Otherwise)S
1881(a)S
1965(lost)S
(connection)530 2170 A
(will)190 2730 A
2950(be)S
3094(detected.)S
2592 V
708(A)S
826(NULL-pointer)S
1564(is)S
1675(returned)S
(upon)240 2109 A
2379(failure)S
2727(\(insufficient)S
3351(memory,)S
3814(out)S
3998(of)S
4129(threads\).)S
2908 V
12 I
708(vc)S
12 Y1
816(3)S
12 I
876(close)S
3144 V
11 C
(void)268 1068 A
3284 V
1068(vc)S
11 Y1
1202(3)S
11 C
(close\(vc,)603 1257 A
(which\))402 1927 A
3424 V
(struct)402 1068 A
1537(vc)S
(*vc;)268 1738 A
3564 V
(int)201 1068 A
(which;)402 1336 A
3764 V
12 I
708(Vc)S
12 Y1
836(3)S
12 I
896(close)S
12 R
1185(closes)S
1511(one)S
1715(or)S
1846(both)S
2090(channels)S
2544(of)S
2676(the)S
2855(virtual)S
3203(circuit.)S
3605(A)S
3724(closed)S
4064(channel)S
4471(may)S
4710(not)S
4895(be)S
5040(read)S
3904 V
708(or)S
(written)345 843 A
1222(any)S
1430(more.)S
12 I
1773(Which)S
12 R
2126(can)S
2328(either)S
2639(be)S
12 C
2787(VC)S
12 Y1
2933(3)S
12 C
2993(IN)S
12 R
3139(,)S
12 C
3203(VC)S
12 Y1
3349(3)S
12 C
(OUT)219 3409 A
12 R
3662(or)S
12 C
3796(VC)S
12 Y1
3942(3)S
12 C
(BOTH)292 4002 A
12 R
4294(.)S
12 C
4387(VC)S
12 Y1
4533(3)S
12 C
4593(IN)S
12 R
4772(closes)S
5101(the)S
4044 V
(input)248 708 A
1000(channel,)S
12 C
1450(VC)S
12 Y1
1596(3)S
12 C
(OUT)219 1656 A
12 R
1919(closes)S
2259(the)S
2451(output)S
2804(channel)S
3225(and)S
12 C
3444(VC)S
12 Y1
3590(3)S
12 C
(BOTH)292 3650 A
12 R
3987(closes)S
4328(both)S
4587(channels.)S
5115(To)S
4184 V
708(break)S
1027(down)S
1345(a)S
(connection)530 1449 A
2029(completely,)S
2647(both)S
2911(channels)S
3384(of)S
3535(the)S
3733(virtual)S
4100(circuit)S
4461(must)S
4746(be)S
4910(closed.)S
4324 V
708(Closing)S
12 C
1123(VC)S
12 Y1
1269(3)S
12 C
(OUT)219 1329 A
12 R
1588(does)S
1849(not)S
2043(flush)S
2325(the)S
2513(contents)S
2957(of)S
3099(the)S
3288(local)S
3565(output)S
3914(and)S
4129(remote)S
(input)248 4507 A
4796(channels.)S
4464 V
708(Closing)S
12 C
1123(VC)S
12 Y1
1269(3)S
12 C
1329(IN)S
12 R
1515(does)S
1776(flush)S
2058(the)S
2246(local)S
(input)248 2522 A
2809(and)S
3022(remote)S
3398(output)S
3745(channels.)S
4267(By)S
4446(default)S
12 I
4822(vc)S
12 Y1
4930(3)S
12 I
4990(close)S
4604 V
12 R
708(operates)S
(synchronously:)737 1151 A
1927(it)S
2034(waits)S
(until)222 2331 A
2593(the)S
(connection)530 2781 A
3351(is)S
3472(completely)S
4050(broken)S
4425(before)S
4775(returning.)S
4744 V
708(When)S
12 C
1048(VC)S
12 Y1
1194(3)S
12 C
(ASYNC)365 1254 A
12 R
1671(is)S
1804(added)S
2144(to)S
2290(the)S
2490(parameter)S
12 I
3027(which)S
12 R
3325(,)S
12 I
3406(vc)S
12 Y1
3514(3)S
12 I
3574(close)S
12 R
3884(operates)S
(asynchronously:)791 4339 A
5181(it)S
4884 V
708(does)S
976(not)S
1177(wait)S
(until)222 1434 A
1703(the)S
(connections)577 1899 A
2524(are)S
2721(broken)S
3104(down.)S
3480(Once)S
3784(both)S
4046(channels)S
4517(are)S
4714(closed,)S
5101(the)S
5024 V
708(virtual)S
1055(circuit)S
1396(reference)S
1879(pointer)S
2252(may)S
2490(not)S
2674(be)S
(accessed)424 2818 A
3272(any)S
3476(more.)S
5340 V
12 I
708(vc)S
12 Y1
816(3)S
12 I
876(read,)S
1157(vc)S
12 Y1
1265(3)S
12 I
(readall)349 1325 A
5576 V
11 C
(int)201 1068 A
5716 V
1068(vc)S
11 Y1
1202(3)S
11 C
(read\(vc,)536 1257 A
(buf,)268 1860 A
(size\))335 2195 A
5856 V
(struct)402 1068 A
1537(vc)S
(*vc;)268 1738 A
5996 V
(bufptr)402 1068 A
(buf;)268 1805 A
6136 V
(int)201 1068 A
(size;)335 1805 A
6396 V
(int)201 1068 A
6536 V
1068(vc)S
11 Y1
1202(3)S
11 C
(readall\(vc,)737 1257 A
(buf,)268 2061 A
(size\))335 2396 A
6676 V
(struct)402 1068 A
1537(vc)S
(*vc;)268 1738 A
6816 V
(bufptr)402 1068 A
(buf;)268 1805 A
6956 V
(int)201 1068 A
(size;)335 1805 A
7156 V
12 R
708(The)S
936(routines)S
12 I
1366(vc)S
12 Y1
1474(3)S
12 I
1534(read)S
12 R
1805(and)S
12 I
2019(vc)S
12 Y1
2127(3)S
12 I
(readall)349 2187 A
12 R
2586(read)S
12 I
2835(size)S
12 R
3067(bytes)S
3362(from)S
3639(the)S
(input)248 3828 A
4117(channel)S
4534(into)S
4763(the)S
4952(buffer)S
7296 V
12 I
708(buf)S
12 R
872(.)S
993(The)S
1242(routine)S
12 I
1646(vc)S
12 Y1
1754(3)S
12 I
1814(read)S
12 R
2105(reads)S
2421(at)S
2569(least)S
2852(one)S
3086(byte)S
3354(and)S
3588(at)S
3736(most)S
12 I
4031(size)S
12 R
4283(bytes.)S
4658(The)S
4906(routine)S
7700 V
(422)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 423 429
BP
/slant 0 def
/height 0 def
500 V
12 R
708(virtcirc)S
1080(\(L\))S
2567(Library)S
2961(Routines)S
4721(virtcirc)S
5093(\(L\))S
860 V
12 I
708(vc)S
12 Y1
816(3)S
12 I
(readall)349 876 A
12 R
1265(reads)S
1551(exactly)S
12 I
1931(size)S
12 R
2153(bytes,)S
2468(unless)S
2800(an)S
12 C
(EOF)219 2944 A
12 R
3193(is)S
(encountered.)621 3304 A
1036 V
12 I
708(Vc)S
12 Y1
836(3)S
12 I
896(read)S
12 R
1180(and)S
12 I
1407(vc)S
12 Y1
1515(3)S
12 I
(readall)349 1575 A
12 R
1987(return)S
2330(the)S
2531(number)S
2953(of)S
3107(bytes)S
3415(read)S
3677(\(including)S
4227(zero\).)S
4591(If)S
4727(an)S
12 C
(EOF)219 4895 A
12 R
5168(is)S
1176 V
(encountered,)621 708 A
1359(the)S
1537(number)S
1936(of)S
2067(bytes)S
2352(read)S
(will)190 2591 A
2811(be)S
2955(smaller)S
3343(than)S
3581(requested.)S
1492 V
12 I
708(vc)S
12 Y1
816(3)S
12 I
876(write)S
1728 V
11 C
(int)201 1068 A
1868 V
1068(vc)S
11 Y1
1202(3)S
11 C
(write\(vc,)603 1257 A
(buf,)268 1927 A
(size\))335 2262 A
2008 V
(struct)402 1068 A
1537(vc)S
(*vc;)268 1738 A
2148 V
(bufptr)402 1068 A
(buf;)268 1805 A
2288 V
(int)201 1068 A
(size;)335 1805 A
2488 V
12 I
708(Vc)S
12 Y1
836(3)S
12 I
896(write)S
12 R
1185(writes)S
12 I
1513(size)S
12 R
1735(bytes)S
2020(from)S
2286(the)S
2464(buffer)S
12 I
2791(buf)S
12 R
2985(to)S
3109(the)S
3287(output)S
3625(channel.)S
2664 V
12 I
708(Vc)S
12 Y1
836(3)S
12 I
896(write)S
12 R
1222(returns)S
12 Y
1626(-)S
12 R
1692(1)S
1819(on)S
2006(failure)S
2391(\(i.e.,)S
2677(broken)S
(connection,)560 3079 A
3706(closed)S
4082(remote)S
(input)248 4486 A
4802(channel\).)S
2804 V
708(Otherwise)S
1238(it)S
1336(returns)S
12 I
1703(size)S
12 R
1895(.)S
3120 V
12 I
708(vc)S
12 Y1
816(3)S
12 I
876(getp,)S
1144(vc)S
12 Y1
1252(3)S
12 I
(getpdone)442 1312 A
3356 V
11 C
(int)201 1068 A
3496 V
1068(vc)S
11 Y1
1202(3)S
11 C
(getp\(vc,)536 1257 A
(buf,)268 1860 A
(blocking\))603 2195 A
3636 V
(struct)402 1068 A
1537(vc)S
(*vc;)268 1738 A
3776 V
(bufptr)402 1068 A
(*buf;)335 1738 A
3916 V
(int)201 1068 A
(blocking;)603 1805 A
4196 V
(void)268 1068 A
1403(vc)S
11 Y1
1537(3)S
11 C
(getpdone\(vc,)804 1592 A
(size\))335 2463 A
4336 V
(struct)402 1068 A
1537(vc)S
(*vc;)268 1738 A
4476 V
(int)201 1068 A
(size;)335 1805 A
4676 V
12 I
708(Vc)S
12 Y1
836(3)S
12 I
896(getp)S
12 R
1160(and)S
12 I
1380(vc)S
12 Y1
1488(3)S
12 I
(getpdone)442 1548 A
12 R
2046(are)S
2241(the)S
2435(virtual)S
2798(circuit)S
3155(equivalents)S
3753(of)S
3901(the)S
4096(circular)S
4515(buffer)S
4859(routines)S
4816 V
12 I
708(cb)S
12 Y1
822(3)S
12 I
882(getp)S
12 R
1147(and)S
12 I
1368(cb)S
12 Y1
1482(3)S
12 I
(getpdone)442 1542 A
12 R
2041(\(see)S
12 I
2284(circbuf)S
12 R
2637(\(L\)\).)S
12 I
2941(Vc)S
12 Y1
3069(3)S
12 I
3129(getp)S
12 R
3394(and)S
12 I
3615(vc)S
12 Y1
3723(3)S
12 I
(getpdone)442 3783 A
12 R
4282(fetch)S
4571(data)S
4819(from)S
5101(the)S
4956 V
708(virtual)S
1055(circuit)S
(input)248 1396 A
1674(channel)S
2080(into)S
2298(the)S
2476(buffer)S
12 I
2803(buf)S
12 R
2967(.)S
5132 V
708(If)S
820(an)S
12 C
(EOF)219 964 A
12 R
1213(is)S
(encountered,)621 1324 A
12 I
1975(vc)S
12 Y1
2083(3)S
12 I
2143(getp)S
12 R
2391(returns)S
2758(zero.)S
5448 V
12 I
708(vc)S
12 Y1
816(3)S
12 I
876(putp,)S
1150(vc)S
12 Y1
1258(3)S
12 I
(putpdone)448 1318 A
5684 V
11 C
(int)201 1068 A
5824 V
1068(vc)S
11 Y1
1202(3)S
11 C
(putp\(vc,)536 1257 A
(buf,)268 1860 A
(blocking\))603 2195 A
5964 V
(struct)402 1068 A
1537(vc)S
(*vc;)268 1738 A
6104 V
(bufptr)402 1068 A
(*buf;)335 1738 A
6244 V
(int)201 1068 A
(blocking;)603 1805 A
6524 V
(void)268 1068 A
1403(vc)S
11 Y1
1537(3)S
11 C
(putpdone\(vc,)804 1592 A
(size\))335 2463 A
6664 V
(struct)402 1068 A
1537(vc)S
(*vc;)268 1738 A
6804 V
(int)201 1068 A
(size;)335 1336 A
7004 V
12 I
708(Vc)S
12 Y1
836(3)S
12 I
896(putp)S
12 R
1167(and)S
12 I
1388(vc)S
12 Y1
1496(3)S
12 I
(putpdone)448 1556 A
12 R
2061(are)S
2257(the)S
2452(virtual)S
2816(circuit)S
3174(equivalents)S
3772(of)S
12 I
3920(cb)S
12 Y1
4034(3)S
12 I
4094(putp)S
12 R
4365(and)S
12 I
4587(cb)S
12 Y1
4701(3)S
12 I
(putpdone)448 4761 A
12 R
5219(.)S
7144 V
708(Instead)S
1097(of)S
(writing)351 1237 A
1627(data)S
1868(to)S
2001(a)S
2094(circular)S
2505(buffer,)S
2871(data)S
3112(is)S
(written)345 3232 A
3616(from)S
3891(the)S
4077(buffer)S
12 I
4412(buf)S
12 R
4614(to)S
4746(the)S
4932(virtual)S
7284 V
708(circuit)S
1049(output)S
1387(channel.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(423)180 5069 A
7920 V
EP
%%Page: 424 430
BP
/slant 0 def
/height 0 def
500 V
12 R
708(virtcirc)S
1080(\(L\))S
2567(Library)S
2961(Routines)S
4721(virtcirc)S
5093(\(L\))S
860 V
12 I
708(Vc)S
12 Y1
836(3)S
12 I
896(putp)S
12 R
1150(returns)S
12 Y
1517(-)S
12 R
1583(1)S
(upon)240 1673 A
1943(failure)S
2291(\(i.e.,)S
2540(broken)S
(connection,)560 2905 A
3495(closed)S
3834(remote)S
(input)248 4201 A
4479(channel\).)S
1176 V
12 I
708(vc)S
12 Y1
816(3)S
12 I
876(avail)S
1412 V
11 C
(int)201 1068 A
1552 V
1068(vc)S
11 Y1
1202(3)S
11 C
(avail\(vc,)603 1257 A
(which\))402 1927 A
1692 V
(struct)402 1068 A
1537(vc)S
(*vc;)268 1738 A
1832 V
(int)201 1068 A
(which;)402 1336 A
2032 V
12 I
708(Vc)S
12 Y1
836(3)S
12 I
896(avail)S
12 R
1178(returns)S
1545(the)S
1723(number)S
2122(of)S
2254(bytes)S
2540(immediately)S
3177(available)S
3646(in)S
3771(the)S
(input)248 3950 A
4229(or)S
4361(output)S
4700(channel.)S
5167(If)S
2172 V
12 C
708(VC)S
12 Y1
854(3)S
12 C
914(IN)S
12 R
1100(is)S
1220(selected,)S
1680(the)S
1867(number)S
2275(of)S
2415(free)S
2644(bytes)S
2938(in)S
3071(the)S
(input)248 3258 A
3545(channel)S
3960(is)S
4080(returned.)S
4583(If)S
12 C
4704(VC)S
12 Y1
4850(3)S
12 C
(OUT)219 4910 A
12 R
5168(is)S
2312 V
708(selected,)S
1159(the)S
1337(number)S
1736(of)S
1867(free)S
2087(bytes)S
2372(in)S
2496(the)S
2674(output)S
3012(channel)S
3418(is)S
3529(returned.)S
2488 V
12 I
708(Vc)S
12 Y1
836(3)S
12 I
896(avail)S
12 R
1178(returns)S
12 Y
1545(-)S
12 R
1611(1)S
1701(when)S
1993(the)S
2171(specified)S
2639(channel)S
3045(is)S
3156(closed.)S
2804 V
12 I
708(vc)S
12 Y1
816(3)S
12 I
876(setsema)S
3040 V
11 C
(void)268 1068 A
3180 V
1068(vc)S
11 Y1
1202(3)S
11 C
(setsema\(vc,)737 1257 A
(sema\))335 2061 A
3320 V
(struct)402 1068 A
1537(vc)S
(*vc;)268 1738 A
3460 V
(semaphore)603 1068 A
(*sema;)402 1738 A
3660 V
12 I
708(Vc)S
12 Y1
836(3)S
12 I
896(setsema)S
12 R
1331(attaches)S
1763(an)S
1918(external)S
(semaphore)524 2350 A
2915(on)S
3076(the)S
(input)248 3265 A
3554(channel.)S
4031(Each)S
4314(time)S
4572(a)S
4668(byte)S
4918(arrives)S
3800 V
708(on)S
888(the)S
(input)248 1096 A
1404(channel)S
1840(or)S
2000(when)S
2321(the)S
(input)248 2528 A
2835(channel)S
3270(is)S
3410(closed,)S
3808(the)S
(semaphore)524 4015 A
4598(is)S
12 I
(upped)294 4738 A
12 R
5101(via)S
3940 V
12 I
708(sema)S
12 Y1
957(3)S
12 I
1017(up)S
12 R
1202(\(see)S
12 I
(semaphore)530 1453 A
12 R
1993(\(L\)\).)S
2305(The)S
(semaphore)524 2548 A
3127(is)S
(initialized)486 3263 A
3804(to)S
3953(the)S
4156(number)S
4580(of)S
4736(data)S
4994(bytes)S
4080 V
708(available)S
1192(in)S
1332(the)S
(input)248 1526 A
1820(channel.)S
2301(This)S
2561(routine)S
2949(is)S
3075(the)S
3268(virtual)S
3630(circuit)S
3986(equivalent)S
4535(of)S
12 I
4681(cb)S
12 Y1
4795(3)S
12 I
4855(setsema)S
4220 V
12 R
708(\(see)S
12 I
934(circbuf)S
12 R
1287(\(L\)\).)S
4536 V
12 I
708(vc)S
12 Y1
816(3)S
12 I
876(warn)S
4772 V
11 C
1068(vc)S
11 Y1
1202(3)S
11 C
(warn\(vc,)536 1257 A
(which,)402 1860 A
(rtn,)268 2329 A
(arg\))268 2664 A
4912 V
(struct)402 1068 A
1537(vc)S
(*vc;)268 1738 A
5052 V
(int)201 1068 A
(which;)402 1336 A
5192 V
(void)268 1068 A
(\(*rtn\)\(\);)603 1403 A
5332 V
(int)201 1068 A
(arg;)268 1336 A
5532 V
12 I
708(Vc)S
12 Y1
836(3)S
12 I
896(warn)S
12 R
1196(sets)S
1421(a)S
1518(warning)S
1958(routine)S
2344(for)S
2529(interesting)S
3084(events.)S
3497(When)S
3829(the)S
(input)248 4021 A
4313(channel)S
4733(is)S
4858(selected)S
5672 V
708(\()S
12 I
749(which)S
12 R
1071(==)S
12 C
1241(VC)S
12 Y1
1387(3)S
12 C
1447(IN)S
12 R
1593(\),)S
1698(the)S
1880(routine)S
12 I
2257(rtn)S
12 R
(will)190 2442 A
2666(be)S
2814(called)S
3137(whenever)S
3641(the)S
(input)248 3822 A
4103(channel)S
4512(is)S
4626(not)S
4813(empty)S
5148(or)S
5812 V
708(when)S
1022(the)S
(input)248 1222 A
1522(channel)S
1950(breaks/closes)S
2648(down.)S
3028(If)S
3162(the)S
3363(output)S
3724(channel)S
4153(is)S
4287(selected)S
4731(\()S
12 I
4772(which)S
12 R
5113(==)S
5952 V
12 C
708(VC)S
12 Y1
854(3)S
12 C
(OUT)219 914 A
12 R
1133(\),)S
1244(the)S
1432(routine)S
(will)190 1814 A
2043(be)S
2196(called)S
2525(whenever)S
3035(the)S
3222(output)S
3569(channel)S
3984(state)S
4246(changes)S
4674(to)S
4807(empty)S
5148(or)S
6092 V
708(when)S
1000(the)S
1178(output)S
1516(channel)S
1922(breaks/closes)S
2598(down.)S
6268 V
708(The)S
926(specified)S
1394(argument)S
12 I
1881(arg)S
12 R
(will)190 2088 A
2308(be)S
2452(passed)S
2804(as)S
2935(argument)S
3422(to)S
12 I
3546(rtn)S
12 R
3697(.)S
6548 V
12 B
708(Example)S
6724 V
12 R
708(The)S
947(following)S
1469(example)S
1930(creates)S
2319(a)S
2425(virtual)S
2794(circuit,)S
3187(the)S
3387(client)S
3709(writes)S
4059(a)S
4165(password)S
(through)375 4674 A
5101(the)S
6864 V
708(virtual)S
1071(circuit)S
(\(``Foo''\),)463 1428 A
1937(which)S
2279(is)S
2406(checked)S
2847(by)S
3012(the)S
3205(server,)S
3577(and)S
3796(some)S
4096(data)S
4343(is)S
4469(transferred.)S
5101(On)S
7004 V
(illegal)304 708 A
1042(passwords)S
1576(or)S
1707(failures,)S
2132(the)S
(connection)530 2310 A
2870(is)S
2981(directly)S
3382(broken)S
3747(by)S
3897(the)S
4075(server.)S
7700 V
(424)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 425 431
BP
/slant 0 def
/height 0 def
500 V
12 R
708(virtcirc)S
1080(\(L\))S
2567(Library)S
2961(Routines)S
4721(virtcirc)S
5093(\(L\))S
920 V
11 C
(#include)536 1068 A
("amoeba.h")670 1671 A
1060 V
(#include)536 1068 A
("vc.h")402 1671 A
1340 V
(some)268 1068 A
11 Y1
1336(3)S
11 C
(server\(icap,)804 1391 A
(ocap\))335 2262 A
1480 V
(capability)670 1068 A
(*icap,)402 1805 A
(*ocap;)402 2274 A
1620 V
1068({)S
1760 V
(struct)402 1336 A
1805(vc)S
(*vc;)268 2006 A
1900 V
(char)268 1336 A
(buf[4],)469 1671 A
(*bp;)268 2207 A
2040 V
(int)201 1336 A
(size;)335 1604 A
2320 V
1336(/*)S
(create)402 1537 A
(the)201 2006 A
(virtual)469 2274 A
(circuit)469 2810 A
3346(*/)S
2460 V
1336(vc)S
1537(=)S
1671(vc)S
11 Y1
1805(3)S
11 C
(create\(icap,)804 1860 A
(ocap,)335 2731 A
(ISIZE,)402 3133 A
(OSIZE\);)469 3602 A
2600 V
1336(if)S
(\(vc)201 1537 A
1805(==)S
2006(0\))S
2740 V
(exit\(1\);)536 1652 A
3020 V
1336(/*)S
(read)268 1537 A
1872(4)S
(bytes)335 2006 A
2408(*/)S
3160 V
1336(if)S
(\(vc)201 1537 A
11 Y1
1738(3)S
11 C
(readall\(vc,)737 1793 A
(buf,)268 2597 A
2932(4\))S
3133(!=)S
3334(4\))S
3535({)S
3300 V
1652(/*)S
1853(on)S
(failures,)603 2054 A
(close)335 2724 A
(down)268 3126 A
(asynchronously)938 3461 A
4466(*/)S
3440 V
1652(vc)S
11 Y1
1786(3)S
11 C
(close\(vc,)603 1841 A
2511(VC)S
11 Y1
2645(3)S
11 C
(BOTH|VC)469 2700 A
11 Y1
3169(3)S
11 C
(ASYNC\);)469 3224 A
3580 V
(exit\(1\);)536 1652 A
3720 V
1336(})S
4000 V
1336(/*)S
(Check)335 1537 A
(password)536 1939 A
2542(*/)S
4140 V
1336(if)S
(\(strcmp\(buf,)804 1537 A
("Foo"\)\))469 2408 A
2944({)S
4280 V
1652(/*)S
(not)201 1853 A
(ok,)201 2121 A
(close)335 2389 A
(down)268 2791 A
3126(*/)S
4420 V
1652(vc)S
11 Y1
1786(3)S
11 C
(close\(vc,)603 1841 A
2511(VC)S
11 Y1
2645(3)S
11 C
(BOTH|VC)469 2700 A
11 Y1
3169(3)S
11 C
(ASYNC\);)469 3224 A
4560 V
(exit\(1\);)536 1652 A
4700 V
1336(})S
4980 V
1336(/*)S
(get)201 1537 A
1805(a)S
(buffer)402 1939 A
(pointer)469 2408 A
2944(to)S
(received)536 3145 A
(data)268 3748 A
4083(*/)S
5120 V
1336(if)S
(\(\(size)402 1537 A
2006(=)S
2140(vc)S
11 Y1
2274(3)S
11 C
(getp\(vc,)536 2329 A
(&bp,)268 2932 A
(1\)\))201 3267 A
3535(==)S
3736(0\))S
3937({)S
5260 V
1652(vc)S
11 Y1
1786(3)S
11 C
(close\(vc,)603 1841 A
2511(VC)S
11 Y1
2645(3)S
11 C
(BOTH|VC)469 2700 A
11 Y1
3169(3)S
11 C
(ASYNC\);)469 3224 A
5400 V
(exit\(1\);)536 1652 A
5540 V
1336(})S
5820 V
1336(/*)S
(well,)335 1537 A
1939(do)S
(something)603 2140 A
2810(*/)S
5960 V
1336(do)S
11 Y1
1470(3)S
11 C
(something\(bp,)871 1525 A
(size\);)402 2463 A
6240 V
1336(/*)S
(mark)268 1537 A
(the)201 1872 A
(data)268 2140 A
(received)536 2475 A
3078(*/)S
6380 V
1336(vc)S
11 Y1
1470(3)S
11 C
(getpdone\(vc,)804 1525 A
(size\);)402 2396 A
6520 V
1336(/*)S
(and)201 1537 A
(close)335 1805 A
(down)268 2207 A
2542(*/)S
6660 V
1336(vc)S
11 Y1
1470(3)S
11 C
(close\(vc,)603 1525 A
2195(VC)S
11 Y1
2329(3)S
11 C
(BOTH|VC)469 2384 A
11 Y1
2853(3)S
11 C
(ASYNC\);)469 2908 A
6800 V
(exit\(0\);)536 1336 A
6940 V
1068(})S
7700 V
12 R
2683(Amoeba)S
3123(5.3)S
(425)180 5069 A
7920 V
EP
%%Page: 426 432
BP
/slant 0 def
/height 0 def
500 V
12 R
708(virtcirc)S
1080(\(L\))S
2567(Library)S
2961(Routines)S
4721(virtcirc)S
5093(\(L\))S
920 V
11 C
(some)268 1068 A
11 Y1
1336(3)S
11 C
(client\(icap,)804 1391 A
(ocap\))335 2262 A
1060 V
(capability)670 1068 A
(*icap,)402 1805 A
(*ocap;)402 2274 A
1200 V
1068({)S
1340 V
(struct)402 1336 A
1805(vc)S
(*vc;)268 2006 A
1480 V
(char)268 1336 A
(buf[10];)536 1671 A
1760 V
1336(/*)S
(create)402 1537 A
(the)201 2006 A
(virtual)469 2274 A
(circuit)469 2810 A
3346(*/)S
1900 V
1336(vc)S
1537(=)S
1671(vc)S
11 Y1
1805(3)S
11 C
(create\(icap,)804 1860 A
(ocap,)335 2731 A
(ISIZE,)402 3133 A
(OSIZE\);)469 3602 A
2040 V
1336(if)S
(\(vc)201 1537 A
1805(==)S
2006(0\))S
2180 V
(exit\(1\);)536 1652 A
2460 V
1336(/*)S
(Close)335 1537 A
(input)335 1939 A
(channel)469 2341 A
2877(*/)S
2600 V
1336(vc)S
11 Y1
1470(3)S
11 C
(close\(vc,)603 1525 A
2195(VC)S
11 Y1
2329(3)S
11 C
(IN\);)268 2384 A
2880 V
1336(/*)S
(Write)335 1537 A
(the)201 1939 A
(password)536 2207 A
2810(to)S
(the)201 3011 A
(server)402 3279 A
3748(*/)S
3020 V
1336(if)S
(\(vc)201 1537 A
11 Y1
1738(3)S
11 C
(write\(vc,)603 1793 A
("Foo",)402 2463 A
2932(4\))S
3133(!=)S
3334(0\))S
3535({)S
3160 V
1652(/*)S
(close)335 1853 A
2255(on)S
(failures)536 2456 A
3059(*/)S
3300 V
1652(vc)S
11 Y1
1786(3)S
11 C
(close\(vc,)603 1841 A
2511(VC)S
11 Y1
2645(3)S
11 C
(OUT\);)335 2700 A
3440 V
(exit\(1\);)536 1652 A
3580 V
1336(})S
3860 V
1336(/*)S
(write)335 1537 A
(some)268 1939 A
(data)268 2274 A
2609(to)S
(the)201 2810 A
(server)402 3078 A
3547(*/)S
4000 V
1336(if)S
(\(vc)201 1537 A
11 Y1
1738(3)S
11 C
(write\(vc,)603 1793 A
(buf,)268 2463 A
(10\))201 2798 A
3066(!=)S
3267(0\))S
3468({)S
4140 V
1652(vc)S
11 Y1
1786(3)S
11 C
(close\(vc,)603 1841 A
2511(VC)S
11 Y1
2645(3)S
11 C
(OUT\);)335 2700 A
4280 V
(exit\(1\);)536 1652 A
4420 V
1336(})S
4700 V
1336(/*)S
(And)201 1537 A
(close)335 1805 A
(down)268 2207 A
2542(*/)S
4840 V
1336(vc)S
11 Y1
1470(3)S
11 C
(close\(vc,)603 1525 A
2195(VC)S
11 Y1
2329(3)S
11 C
(BOTH\);)402 2384 A
4980 V
(exit\(0\);)536 1336 A
5120 V
1068(})S
5460 V
12 B
708(See)S
913(Also)S
5636 V
12 R
708(circbuf\(L\),)S
1268(rpc\(L\),)S
(semaphore\(L\).)710 1639 A
7700 V
(426)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 427 433
BP
/slant 0 def
/height 0 def
500 V
12 R
(x11)180 708 A
908(\(L\))S
2567(Library)S
2961(Routines)S
(x11)180 4893 A
5093(\(L\))S
860 V
2350(\(in)S
2515(libraries:)S
2978(libamoeba.a\))S
1210 V
12 B
708(Name)S
1386 V
12 R
(x11)180 708 A
12 R-1
918(-)S
12 R
1046(the)S
1224(X)S
1342(server)S
(interface)426 1669 A
2125(stubs)S
1666 V
12 B
708(Synopsis)S
1902 V
11 C
(#include)536 708 A
("amoeba.h")670 1311 A
2042 V
(#include)536 708 A
("server/x11/Xamoeba.h")1474 1311 A
2302 V
(errstat)469 708 A
(x11)201 1244 A
11 Y1
1445(3)S
11 C
(reinit\(server\))938 1500 A
2442 V
(errstat)469 708 A
(x11)201 1244 A
11 Y1
1445(3)S
11 C
(shutdown\(server\))1072 1500 A
2782 V
12 B
708(Description)S
2958 V
12 R
708(These)S
1043(routines)S
1479(provide)S
1894(control)S
2283(over)S
2545(X)S
2680(servers)S
3071(to)S
3212(user)S
3461(programs.)S
4025(They)S
4320(are)S
4516(not)S
4717(part)S
4953(of)S
5101(the)S
3098 V
708(standard)S
1148(X)S
(interface)426 1266 A
1722(provided)S
2181(by)S
2331(the)S
2509(X11)S
2747(libraries.)S
3414 V
12 I
708(Functions)S
3730 V
708(x11)S
12 Y1
882(3)S
12 I
942(reinit)S
3966 V
11 C
(errstat)469 1068 A
4106 V
(x11)201 1068 A
11 Y1
1269(3)S
11 C
(reinit\(server\))938 1324 A
4246 V
(capability)670 1068 A
(*server;)536 1805 A
4446 V
12 I
708(X11)S
12 Y1
902(3)S
12 I
962(reinit)S
12 R
1280(sends)S
1593(a)S
1692(message)S
2147(to)S
2286(the)S
2480(X)S
2614(server)S
2957(asking)S
3318(it)S
3432(to)S
(re-initialize)562 3572 A
4180(itself.)S
4530(As)S
4711(a)S
4811(result)S
5127(all)S
4586 V
(connections)577 708 A
1333(are)S
(dropped,)425 1530 A
2003(all)S
(windows)437 2173 A
2658(are)S
2855(closed)S
3212(and)S
3434(various)S
3838(resources)S
4344(are)S
4541(released.)S
5046(It)S
5168(is)S
4726 V
708(commonly)S
1270(used)S
1537(when)S
(logging)368 1845 A
2259(out,)S
2489(or)S
2636(before)S
(logging)368 2992 A
3406(in,)S
3576(to)S
3716(ensure)S
4079(a)S
4180(clean)S
4483(display)S
(without)370 4879 A
4866 V
708(dangling)S
(connections.)607 1160 A
5182 V
12 I
708(x11)S
12 Y1
882(3)S
12 I
942(shutdown)S
5418 V
11 C
(errstat)469 1068 A
5558 V
(x11)201 1068 A
11 Y1
1269(3)S
11 C
(shutdown\(server\))1072 1324 A
5698 V
(capability)670 1068 A
(*server;)536 1805 A
5898 V
12 I
708(X11)S
12 Y1
902(3)S
12 I
962(shutdown)S
12 R
1465(asks)S
1705(the)S
1885(addressed)S
2395(X)S
2516(server)S
2846(to)S
2973(terminate.)S
3525(This)S
3773(results)S
4123(in)S
4250(an)S
4397(orderly)S
4780(shutdown)S
6038 V
708(of)S
883(all)S
(connections,)607 1079 A
1760(after)S
2058(which)S
2428(the)S
2650(server)S
3021(exits.)S
3384(It)S
3533(is)S
3688(useful)S
4057(when)S
(shutting)389 4392 A
4854(down)S
5195(a)S
6178 V
708(workstation.)S
6458 V
12 B
708(Diagnostics)S
6634 V
12 R
708(Only)S
980(RPC)S
1237(errors)S
1551(can)S
1749(be)S
1893(returned.)S
7700 V
2683(Amoeba)S
3123(5.3)S
(427)180 5069 A
7920 V
EP
%%Page: 428 434
BP
/slant 0 def
/height 0 def
500 V
12 R
(x11)180 708 A
908(\(L\))S
2567(Library)S
2961(Routines)S
(x11)180 4893 A
5093(\(L\))S
860 V
12 B
708(Example)S
1036 V
12 R
708(The)S
944(following)S
1463(code)S
1739(fragment)S
(\(without)411 2225 A
2684(any)S
2906(error)S
3191(checking\))S
3716(does)S
3985(a)S
(lookup)334 4087 A
4469(of)S
4618(the)S
4815(X)S
4952(server)S
1176 V
708(specified)S
1176(on)S
1326(the)S
1504(command)S
2010(line)S
2222(and)S
2426(asks)S
2664(it)S
2762(to)S
2886(terminate.)S
1376 V
11 C
(#include)536 1068 A
("amoeba.h")670 1671 A
1516 V
(#include)536 1068 A
("ampolicy.h")804 1671 A
1656 V
(#include)536 1068 A
("server/x11/Xamoeba.h")1474 1671 A
1936 V
(main\(argc,)670 1068 A
(argv\))335 1805 A
2076 V
(int)201 1068 A
(argc;)335 1336 A
2216 V
(char)268 1068 A
(**argv;)469 1403 A
2356 V
1068({)S
2496 V
(capability)670 1336 A
(scap;)335 2073 A
2636 V
(char)268 1336 A
(sname[100];)737 1671 A
2916 V
(sprintf\(sname,)938 1336 A
("%s/%s",)536 2341 A
(DEF)201 2944 A
11 Y1
3145(3)S
11 C
(XSVRDIR,)536 3200 A
(argv[1]\);)603 3803 A
3056 V
(name)268 1336 A
11 Y1
1604(3)S
11 C
(lookup\(sname,)871 1659 A
(&scap\);)469 2597 A
3196 V
(x11)201 1336 A
11 Y1
1537(3)S
11 C
(shutdown\(&scap\);)1072 1592 A
3336 V
1068(})S
3676 V
12 B
708(See)S
913(Also)S
3852 V
12 R
708(X)S
826(documentation.)S
7700 V
(428)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 429 435
BP
/slant 0 def
/height 0 def
940 V
14 B
2719(8)S
2894(Index)S
1176 V
12 R
708(The)S
926(italic)S
1200(references)S
1730(in)S
1854(the)S
2032(index)S
2330(are)S
2509(to)S
2633(programs)S
3120(or)S
3251(routines)S
3671(described)S
4165(in)S
4289(this)S
4494(manual.)S
1492 V
708(.)S
1772 V
21 R
708(A)S
2052 V
12 R
708(abort,)S
(165)180 1017 A
2192 V
708(aborting)S
1141(system)S
1507(calls,)S
(361)180 1790 A
2332 V
708(ACK,)S
1024(7,)S
1144(26-29,)S
1485(33,)S
1665(36,)S
1845(45,)S
2025(60)S
2472 V
708(ACK)S
994(description)S
1562(file,)S
1785(29-33)S
2612 V
708(ACKFE)S
1135(environment)S
1776(variable,)S
2227(29)S
2752 V
708(aging,)S
(152)180 1036 A
2892 V
708(AIL,)S
971(4,)S
1091(7,)S
1211(10,)S
1391(17,)S
1571(20,)S
1751(22,)S
1931(68,)S
2111(76)S
3032 V
708(AIL)S
941(code)S
1199(generator,)S
1717(76)S
3172 V
708(AIL)S
941(reference)S
1424(manual,)S
1840(68)S
3312 V
708(Ajax,)S
1004(7,)S
1124(38,)S
(295)180 1304 A
3452 V
708(AJAX)S
12 Y1
1019(3)S
12 R
1079(DEBUG)S
1527(environment)S
2168(variable,)S
(295)180 2619 A
3592 V
708(AJAX)S
12 Y1
1019(3)S
12 R
1079(TRACE)S
1505(environment)S
2146(variable,)S
(295)180 2597 A
3732 V
708(amake,)S
1084(7,)S
(83-104)341 1204 A
3872 V
708(am)S
12 Y1
856(3)S
12 R
916(exerrors.h,)S
(167)180 1464 A
4012 V
708(AMEX)S
12 Y1
1065(3)S
12 R
1125(GETDEF,)S
(169)180 1650 A
4152 V
708(AMEX)S
12 Y1
1065(3)S
12 R
1125(MALLOC,)S
(169)180 1696 A
4292 V
708(AMEX)S
12 Y1
1065(3)S
12 R
1125(NOCAPS,)S
(169)180 1663 A
4432 V
708(AMEX)S
12 Y1
1065(3)S
12 R
(NOHOST,)523 1125 A
(169)180 1678 A
4572 V
708(AMEX)S
12 Y1
1065(3)S
12 R
1125(NOPROG,)S
(169)180 1684 A
4712 V
708(AMEX)S
12 Y1
1065(3)S
12 R
(PDLOOKUP,)678 1125 A
(169)180 1833 A
4852 V
708(AMEX)S
12 Y1
1065(3)S
12 R
1125(PDREAD,)S
(169)180 1670 A
4992 V
708(AMEX)S
12 Y1
1065(3)S
12 R
1125(PDSHORT,)S
(169)180 1737 A
5132 V
708(AMEX)S
12 Y1
1065(3)S
12 R
1125(PDSIZE,)S
(169)180 1596 A
5272 V
708(AMEX)S
12 Y1
1065(3)S
12 R
1125(SEGCREATE,)S
(169)180 1884 A
5412 V
708(AMEX)S
12 Y1
1065(3)S
12 R
(STACKOV,)603 1125 A
(169)180 1758 A
5552 V
12 I
708(ampolicy.h)S
12 R
1242(,)S
(113)180 1302 A
5692 V
708(ANSI)S
1022(C,)S
12 I
1192(see)S
12 R
1377(STD)S
1636(C)S
5832 V
708(a.out,)S
1006(36,)S
(167)180 1186 A
5972 V
12 I
708(ar)S
12 Y1
815(3)S
12 I
875(cap)S
12 R
1049(,)S
(114)180 1109 A
6112 V
708(architecture,)S
(170)180 1342 A
6252 V
708(architecture)S
1312(identifier,)S
(308)180 1818 A
6392 V
708(architecture-independence,)S
(119)180 2047 A
6532 V
708(ARCHSIZE,)S
(308)180 1360 A
6672 V
708(argc,)S
(192)180 977 A
6812 V
708(argv,)S
(192)180 983 A
6952 V
12 I
708(ar)S
12 Y1
815(3)S
12 I
875(port)S
12 R
1076(,)S
(114)180 1136 A
7092 V
12 I
708(ar)S
12 Y1
815(3)S
12 I
875(priv)S
12 R
1070(,)S
(114)180 1130 A
7232 V
12 I
708(ar)S
12 Y1
815(3)S
12 I
875(tocap)S
12 R
1143(,)S
(114)180 1203 A
1492 V
12 I
3130(ar)S
12 Y1
3237(3)S
12 I
(toport)295 3297 A
12 R
3592(,)S
(114)180 3652 A
1632 V
12 I
3130(ar)S
12 Y1
3237(3)S
12 I
3297(topriv)S
12 R
3586(,)S
(114)180 3646 A
1772 V
3130(ASCII,)S
(114)180 3507 A
1912 V
12 I
3130(asctime)S
12 R
3501(,)S
(147,)210 3561 A
(149)180 3801 A
2052 V
(asynchronous)663 3130 A
3823(communication,)S
(358)180 4635 A
2192 V
3130(atomic)S
3490(commit,)S
(127)180 3920 A
2332 V
3130(atomic)S
3490(file)S
3683(creation,)S
4134(6)S
2472 V
3130(AWK,)S
(105)180 3480 A
2612 V
3130(ax,)S
(385,)210 3304 A
(408)180 3544 A
2752 V
3130(AX)S
12 Y1
3306(3)S
12 R
3366(HOST,)S
(385)180 3743 A
3032 V
21 R
3130(B)S
3312 V
12 R
3130(back)S
3388(end,)S
3622(26)S
3452 V
3130(back-end,)S
3633(29)S
3592 V
3130(BASIC,)S
3546(7,)S
3666(25)S
3732 V
3130(BAWK,)S
(105)180 3560 A
3872 V
12 I
3130(b)S
12 Y1
3190(3)S
12 I
3250(create)S
12 R
3553(,)S
(127,)210 3613 A
(131)180 3853 A
4012 V
12 I
3130(b)S
12 Y1
3190(3)S
12 I
3250(delete)S
12 R
3540(,)S
(127,)210 3600 A
(133)180 3840 A
4152 V
12 I
3130(b)S
12 Y1
3190(3)S
12 I
3250(disk)S
12 Y1
3445(3)S
12 I
3505(compact)S
12 R
3915(,)S
(127-128)401 3975 A
4292 V
12 I
3130(b)S
12 Y1
3190(3)S
12 I
3250(fsck)S
12 R
3439(,)S
(127,)210 3499 A
(129)180 3739 A
4432 V
3130(binary)S
(semaphores,)601 3469 A
(275)180 4100 A
4572 V
12 I
3130(b)S
12 Y1
3190(3)S
12 I
3250(insert)S
12 R
3526(,)S
(127,)210 3586 A
(132)180 3826 A
4712 V
3130(blocking)S
3582(signals,)S
(358)180 3978 A
4852 V
3130(blocking)S
3582(system)S
3948(calls,)S
(302)180 4231 A
4992 V
12 I
3130(b)S
12 Y1
3190(3)S
12 I
3250(modify)S
12 R
3580(,)S
(127,)210 3640 A
(131)180 3880 A
5132 V
12 I
3130(bprintf)S
12 R
3459(,)S
(117)180 3519 A
5272 V
12 I
3130(b)S
12 Y1
3190(3)S
12 I
3250(read)S
12 R
3471(,)S
(127,)210 3531 A
(130)180 3771 A
5412 V
3130(broadcast,)S
3654(5,)S
(183)180 3774 A
5552 V
3130(broken)S
(connection,)560 3495 A
(421)180 4085 A
5692 V
12 I
3130(b)S
12 Y1
3190(3)S
12 I
3250(size)S
12 R
3432(,)S
(127,)210 3492 A
(129)180 3732 A
5832 V
3130(bss)S
3314(segment,)S
3777(5)S
5972 V
12 I
3130(b)S
12 Y1
3190(3)S
12 I
3250(sync)S
12 R
3465(,)S
(127,)210 3525 A
(129)180 3765 A
6112 V
12 I
3130(buf)S
12 Y1
3284(3)S
12 I
3344(get)S
12 Y1
3492(3)S
12 I
3552(cap)S
12 R
3726(,)S
(119)180 3786 A
6252 V
12 I
3130(buf)S
12 Y1
3284(3)S
12 I
3344(get)S
12 Y1
3492(3)S
12 I
3552(capset)S
12 R
3861(,)S
(119)180 3921 A
6392 V
12 I
3130(buf)S
12 Y1
3284(3)S
12 I
3344(get)S
12 Y1
3492(3)S
12 I
3552(int16)S
12 R
3800(,)S
(119)180 3860 A
6532 V
12 I
3130(buf)S
12 Y1
3284(3)S
12 I
3344(get)S
12 Y1
3492(3)S
12 I
3552(int32)S
12 R
3800(,)S
(119)180 3860 A
6672 V
12 I
3130(buf)S
12 Y1
3284(3)S
12 I
3344(get)S
12 Y1
3492(3)S
12 I
(long)214 3552 A
12 R
3766(,)S
3826(14,)S
4006(17)S
6812 V
12 I
3130(buf)S
12 Y1
3284(3)S
12 I
3344(get)S
12 Y1
3492(3)S
12 I
3552(objnum)S
12 R
3914(,)S
(119)180 3974 A
6952 V
12 I
3130(buf)S
12 Y1
3284(3)S
12 I
3344(get)S
12 Y1
3492(3)S
12 I
3552(pd)S
12 R
3672(,)S
(119,)210 3732 A
(293,)210 3972 A
(308,)210 4212 A
(313)180 4452 A
7092 V
12 I
3130(buf)S
12 Y1
3284(3)S
12 I
3344(get)S
12 Y1
3492(3)S
12 I
3552(port)S
12 R
3753(,)S
(119)180 3813 A
7232 V
12 I
3130(buf)S
12 Y1
3284(3)S
12 I
3344(get)S
12 Y1
3492(3)S
12 I
3552(priv)S
12 R
3747(,)S
(119)180 3807 A
7700 V
2683(Amoeba)S
3123(5.3)S
(429)180 5069 A
7920 V
EP
%%Page: 430 436
BP
/slant 0 def
/height 0 def
860 V
12 I
708(buf)S
12 Y1
862(3)S
12 I
922(get)S
12 Y1
1070(3)S
12 I
1130(right)S
12 Y1
1365(3)S
12 I
1425(bits)S
12 R
1600(,)S
(119)180 1660 A
1000 V
12 I
708(buf)S
12 Y1
862(3)S
12 I
922(get)S
12 Y1
1070(3)S
12 I
1130(string)S
12 R
1412(,)S
(119)180 1472 A
1140 V
12 I
708(buf)S
12 Y1
862(3)S
12 I
922(put)S
12 Y1
1076(3)S
12 I
1136(cap)S
12 R
1310(,)S
(119)180 1370 A
1280 V
12 I
708(buf)S
12 Y1
862(3)S
12 I
922(put)S
12 Y1
1076(3)S
12 I
1136(capset)S
12 R
1445(,)S
(119)180 1505 A
1420 V
12 I
708(buf)S
12 Y1
862(3)S
12 I
922(put)S
12 Y1
1076(3)S
12 I
1136(int16)S
12 R
1384(,)S
(119)180 1444 A
1560 V
12 I
708(buf)S
12 Y1
862(3)S
12 I
922(put)S
12 Y1
1076(3)S
12 I
1136(int32)S
12 R
1384(,)S
(119)180 1444 A
1700 V
12 I
708(buf)S
12 Y1
862(3)S
12 I
922(put)S
12 Y1
1076(3)S
12 I
(long)214 1136 A
12 R
1350(,)S
1410(14,)S
1590(17)S
1840 V
12 I
708(buf)S
12 Y1
862(3)S
12 I
922(put)S
12 Y1
1076(3)S
12 I
1136(objnum)S
12 R
1498(,)S
(119)180 1558 A
1980 V
12 I
708(buf)S
12 Y1
862(3)S
12 I
922(put)S
12 Y1
1076(3)S
12 I
1136(pd)S
12 R
1256(,)S
(119,)210 1316 A
(308,)210 1556 A
(313)180 1796 A
2120 V
12 I
708(buf)S
12 Y1
862(3)S
12 I
922(put)S
12 Y1
1076(3)S
12 I
1136(port)S
12 R
1337(,)S
(119)180 1397 A
2260 V
12 I
708(buf)S
12 Y1
862(3)S
12 I
922(put)S
12 Y1
1076(3)S
12 I
1136(priv)S
12 R
1331(,)S
(119)180 1391 A
2400 V
12 I
708(buf)S
12 Y1
862(3)S
12 I
922(put)S
12 Y1
1076(3)S
12 I
1136(right)S
12 Y1
1371(3)S
12 I
1431(bits)S
12 R
1606(,)S
(119)180 1666 A
2540 V
12 I
708(buf)S
12 Y1
862(3)S
12 I
922(put)S
12 Y1
1076(3)S
12 I
1136(string)S
12 R
1418(,)S
(119)180 1478 A
2680 V
12 I
708(bufsize)S
12 R
1044(,)S
1104(8)S
2820 V
12 I
708(buildstack)S
12 R
1205(,)S
(126,)210 1265 A
(192)180 1505 A
2960 V
708(Bullet)S
1034(file,)S
(127)180 1257 A
3100 V
708(Bullet)S
1034(Server,)S
1411(6,)S
1531(24)S
3240 V
708(bullet.h,)S
(127)180 1134 A
3380 V
708(byte-order)S
1243(independence,)S
1967(10,)S
2147(15,)S
2327(20,)S
(119)180 2507 A
3660 V
21 R
708(C)S
3940 V
12 I
708(calloc)S
12 R
1004(,)S
(256-257)401 1064 A
4080 V
(capability,)508 708 A
1270(2,)S
1414(8,)S
(114,)210 1558 A
(152,)210 1822 A
(155,)210 2087 A
(177,)210 2352 A
(180,)210 2617 A
4220 V
(278,)210 708 A
(286,)210 948 A
(318,)210 1188 A
(332)180 1428 A
4360 V
(capability)478 708 A
(cache,)306 1216 A
(134)180 1552 A
4500 V
(capability)478 708 A
1216(environment,)S
(126,)210 1887 A
(167,)210 2127 A
(177,)210 2367 A
(192)180 2607 A
4640 V
(capability-set,)684 708 A
(136,)210 1422 A
(152,)210 1662 A
(365)180 1902 A
4780 V
12 I
708(cap)S
12 Y1
882(3)S
12 I
942(cmp)S
12 R
1144(,)S
(134-135)401 1204 A
4920 V
708(caplist.h,)S
(192)180 1175 A
5060 V
708(capset,)S
(152,)210 1071 A
(365)180 1311 A
5200 V
708(capv,)S
(192)180 996 A
5340 V
12 I
708(cb)S
12 Y1
822(3)S
12 I
882(alloc)S
12 R
1124(,)S
(139-140)401 1184 A
5480 V
12 I
708(cb)S
12 Y1
822(3)S
12 I
882(close)S
12 R
1131(,)S
(139,)210 1191 A
(141)180 1431 A
5620 V
12 I
708(cb)S
12 Y1
822(3)S
12 I
882(empty)S
12 R
1172(,)S
(139,)210 1232 A
(144)180 1472 A
5760 V
12 I
708(cb)S
12 Y1
822(3)S
12 I
882(free)S
12 R
1071(,)S
(139,)210 1131 A
(141)180 1371 A
5900 V
12 I
708(cb)S
12 Y1
822(3)S
12 I
882(full)S
12 R
1044(,)S
(139,)210 1104 A
(144)180 1344 A
6040 V
12 I
708(cb)S
12 Y1
822(3)S
12 I
882(getc)S
12 R
1084(,)S
(139,)210 1144 A
(142)180 1384 A
6180 V
12 I
708(cb)S
12 Y1
822(3)S
12 I
(getpdone)442 882 A
12 R
1324(,)S
(139,)210 1384 A
(143)180 1624 A
6320 V
12 I
708(cb)S
12 Y1
822(3)S
12 I
882(getp)S
12 R
1090(,)S
(139,)210 1150 A
(143)180 1390 A
6460 V
12 I
708(cb)S
12 Y1
822(3)S
12 I
882(gets)S
12 R
1077(,)S
(139,)210 1137 A
(142)180 1377 A
6600 V
12 I
708(cb)S
12 Y1
822(3)S
12 I
882(putc)S
12 R
1090(,)S
(139,)210 1150 A
(141)180 1390 A
6740 V
12 I
708(cb)S
12 Y1
822(3)S
12 I
(putpdone)448 882 A
12 R
1330(,)S
(139,)210 1390 A
(143)180 1630 A
6880 V
12 I
708(cb)S
12 Y1
822(3)S
12 I
882(putp)S
12 R
1096(,)S
(139,)210 1156 A
(143)180 1396 A
7020 V
12 I
708(cb)S
12 Y1
822(3)S
12 I
882(puts)S
12 R
1083(,)S
(139,)210 1143 A
(141)180 1383 A
7160 V
12 I
708(cb)S
12 Y1
822(3)S
12 I
882(setsema)S
12 R
1266(,)S
(139,)210 1326 A
(144)180 1566 A
7300 V
12 I
708(cb)S
12 Y1
822(3)S
12 I
882(trygetc)S
12 R
1219(,)S
(139,)210 1279 A
(142)180 1519 A
860 V
3130(cc,)S
3298(7)S
1000 V
12 I
3130(cc)S
12 Y1
3238(3)S
12 I
3298(init)S
12 R
3460(,)S
(134)180 3520 A
1140 V
12 I
3130(cc)S
12 Y1
3238(3)S
12 I
3298(restrict)S
12 R
3649(,)S
(134)180 3709 A
1280 V
3130(check)S
3442(field,)S
3725(2)S
1420 V
(checkpoint,)560 3130 A
(167,)210 3720 A
(302,)210 3960 A
(308,)210 4200 A
(358)180 4440 A
1560 V
3130(child)S
3402(process,)S
(283)180 3825 A
1700 V
3130(circbuf.h,)S
(139)180 3624 A
1840 V
3130(circular)S
3532(buffer,)S
(139,)210 3889 A
(421)180 4129 A
1980 V
3130(click,)S
(348)180 3426 A
2120 V
3130(client-server)S
3768(model,)S
4130(2,)S
4250(10)S
2260 V
3130(client-to-server)S
3903(signal,)S
(358)180 4252 A
2400 V
3130(clock,)S
(414)180 3452 A
2540 V
3130(closed)S
3469(remote)S
(input)248 3836 A
4114(channel,)S
(421)180 4550 A
2680 V
3130(column)S
3522(masks,)S
(376)180 3884 A
2820 V
3130(column)S
3522(names,)S
(377)180 3891 A
2960 V
3130(comment)S
3610(string,)S
(302)180 3946 A
3100 V
3130(communication,)S
(332)180 3942 A
3240 V
(compiling)490 3130 A
3650(programs,)S
4167(7)S
3380 V
3130(concurrent)S
3678(threads,)S
(139,)210 4088 A
(275,)210 4328 A
(353)180 4568 A
3520 V
3130(configuration)S
3812(management,)S
4490(83)S
3660 V
3130(console)S
3529(buffer,)S
(389)180 3886 A
3800 V
3130(console)S
3529(driver,)S
(408)180 3879 A
3940 V
3130(Coordinated)S
3757(Universal)S
4259(Time,)S
(147-149)401 4575 A
4080 V
3130(core)S
3369(dump,)S
(291)180 3703 A
4220 V
(counting)422 3130 A
(semaphore,)554 3582 A
(353)180 4166 A
4360 V
3130(CPU)S
3395(speed,)S
(302)180 3730 A
4500 V
3130(create)S
3451(directory,)S
(377)180 3949 A
4640 V
(cryptography,)674 3130 A
(301)180 3834 A
4780 V
12 I
3130(cs)S
12 Y1
3231(3)S
12 I
3291(copy)S
12 R
3519(,)S
(136-137)401 3579 A
4920 V
12 I
3130(cs)S
12 Y1
3231(3)S
12 I
3291(free)S
12 R
3480(,)S
(136-137)401 3540 A
5060 V
12 I
3130(cs)S
12 Y1
3231(3)S
12 I
3291(member)S
12 R
3682(,)S
(136-137)401 3742 A
5200 V
12 I
3130(cs)S
12 Y1
3231(3)S
12 I
3291(purge)S
12 R
3572(,)S
(136-137)401 3632 A
5340 V
12 I
3130(cs)S
12 Y1
3231(3)S
12 I
3291(singleton)S
12 R
3734(,)S
(136,)210 3794 A
(138)180 4034 A
5480 V
12 I
3130(ctime)S
12 R
3394(,)S
(147,)210 3454 A
(149)180 3694 A
5620 V
12 I
3130(ctx)S
12 Y1
3272(3)S
12 I
3332(define)S
12 Y1
3628(3)S
12 I
3688(context)S
12 R
4038(,)S
(272)180 4098 A
5760 V
12 I
3130(ctx)S
12 Y1
3272(3)S
12 I
3332(define)S
12 Y1
3628(3)S
12 I
3688(entry)S
12 R
3937(,)S
(273)180 3997 A
5900 V
12 I
3130(ctx)S
12 Y1
3272(3)S
12 I
3332(lookup)S
12 Y1
3660(3)S
12 I
3720(context)S
12 R
4070(,)S
(273)180 4130 A
6040 V
12 I
3130(cwd)S
12 Y1
3324(3)S
12 I
3384(set)S
12 R
3519(,)S
(278,)210 3579 A
(281)180 3819 A
6320 V
21 R
3130(D)S
6600 V
12 R
3130(data)S
3362(segment,)S
3825(5,)S
(308)180 3945 A
6740 V
3130(date,)S
(412)180 3392 A
6880 V
3130(Daylight)S
3584(Saving)S
3949(Time,)S
(149)180 4265 A
7020 V
(debugging,)538 3130 A
(109,)210 3698 A
(302)180 3938 A
7160 V
3130(deviations)S
3657(from)S
3923(STD)S
4182(C,)S
4322(38)S
7300 V
(/dev/tty,)400 3130 A
3560(6)S
7700 V
(430)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 431 437
BP
/slant 0 def
/height 0 def
860 V
12 I
708(dgwalk)S
12 R
1056(,)S
(152)180 1116 A
1000 V
12 I
(dgwexpand)548 708 A
12 R
1256(,)S
(152,)210 1316 A
(154)180 1556 A
1140 V
12 I
(difftime)372 708 A
12 R
1080(,)S
(147,)210 1140 A
(149)180 1380 A
1280 V
12 I
708(dir)S
12 Y1
849(3)S
12 I
(append)354 909 A
12 R
1263(,)S
(155-156)401 1323 A
1420 V
12 I
708(dir)S
12 Y1
849(3)S
12 I
909(breakpath)S
12 R
1398(,)S
(155,)210 1458 A
(157)180 1698 A
1560 V
12 I
708(dir)S
12 Y1
849(3)S
12 I
909(close)S
12 R
1158(,)S
(155,)210 1218 A
(157)180 1458 A
1700 V
12 I
708(dir)S
12 Y1
849(3)S
12 I
909(create)S
12 R
1212(,)S
(155,)210 1272 A
(158)180 1512 A
1840 V
12 I
708(dir)S
12 Y1
849(3)S
12 I
909(delete)S
12 R
1199(,)S
(155,)210 1259 A
(158)180 1499 A
1980 V
708(direct.h,)S
(155)180 1135 A
2120 V
708(directory,)S
(152,)210 1206 A
(365)180 1446 A
2260 V
708(directory)S
1176(creation,)S
(377)180 1627 A
2400 V
708(directory)S
1176(functions,)S
(155,)210 1686 A
(278)180 1926 A
2540 V
708(directory)S
1176(graph,)S
(152)180 1511 A
2680 V
708(directory)S
1176(server,)S
(278,)210 1533 A
(365,)210 1773 A
(374)180 2013 A
2820 V
708(directory)S
1176(server,)S
1533(kernel,)S
(387)180 1896 A
2960 V
12 I
708(dir)S
12 Y1
849(3)S
12 I
909(lookup)S
12 R
1237(,)S
(155,)210 1297 A
(158)180 1537 A
3100 V
12 I
708(dir)S
12 Y1
849(3)S
12 I
909(next)S
12 R
1111(,)S
(155,)210 1171 A
(159)180 1411 A
3240 V
12 I
708(dir)S
12 Y1
849(3)S
12 I
909(open)S
12 R
1143(,)S
(155,)210 1203 A
(159)180 1443 A
3380 V
12 I
708(dir)S
12 Y1
849(3)S
12 I
909(origin)S
12 R
1204(,)S
(155,)210 1264 A
(159)180 1504 A
3520 V
12 I
708(dir)S
12 Y1
849(3)S
12 I
909(replace)S
12 R
1272(,)S
(155,)210 1332 A
(159)180 1572 A
3660 V
12 I
708(dir)S
12 Y1
849(3)S
12 I
909(rewind)S
12 R
1244(,)S
(155,)210 1304 A
(160)180 1544 A
3800 V
12 I
708(dir)S
12 Y1
849(3)S
12 I
909(root)S
12 R
1110(,)S
(155,)210 1170 A
(160)180 1410 A
3940 V
12 I
708(disk)S
12 Y1
903(3)S
12 I
963(info)S
12 R
1151(,)S
(417-418)401 1211 A
4080 V
12 I
708(disk)S
12 Y1
903(3)S
12 I
963(read)S
12 R
1184(,)S
(417,)210 1244 A
(419)180 1484 A
4220 V
12 I
708(disk)S
12 Y1
903(3)S
12 I
963(size)S
12 R
1145(,)S
(417,)210 1205 A
(419)180 1445 A
4360 V
12 I
708(disk)S
12 Y1
903(3)S
12 I
963(write)S
12 R
1212(,)S
(417,)210 1272 A
(420)180 1512 A
4500 V
708(dot)S
892(\(.\),)S
(287)180 1064 A
4640 V
708(dot-dot)S
1087(\(..\),)S
(287)180 1289 A
4920 V
21 R
708(E)S
5200 V
12 R
708(electronic)S
1217(mail,)S
1493(24)S
5340 V
708(EM,)S
949(26-27,)S
1290(33,)S
1470(45,)S
1650(60)S
5480 V
708(End-Of-File,)S
(395)180 1362 A
5620 V
12 I
708(env)S
12 Y1
876(3)S
12 I
936(delete)S
12 R
1226(,)S
(161)180 1286 A
5760 V
708(environ,)S
(192)180 1137 A
5900 V
708(environment,)S
(177)180 1379 A
6040 V
12 I
708(env)S
12 Y1
876(3)S
12 I
936(lookup)S
12 R
1264(,)S
(161)180 1324 A
6180 V
(envp,)264 708 A
(192)180 1002 A
6320 V
12 I
708(env)S
12 Y1
876(3)S
12 I
936(put)S
12 R
1090(,)S
(161-162)401 1150 A
6460 V
708(ERR)S
12 Y1
942(3)S
12 R
(CONVERT,)602 1002 A
1634(8,)S
1754(18)S
6600 V
708(errno,)S
1024(18)S
6740 V
708(error,)S
(163)180 1005 A
6880 V
708(error)S
975(names,)S
(163)180 1344 A
7020 V
12 I
(errstat)323 708 A
12 R
1031(,)S
1091(8)S
7160 V
708(ERR)S
12 Y1
942(3)S
12 R
1002(STATUS,)S
1520(8,)S
1640(13,)S
1820(18)S
7300 V
12 I
708(err)S
12 Y1
856(3)S
12 I
916(why)S
12 R
1110(,)S
1170(13,)S
(163,)210 1350 A
(199,)210 1590 A
(398)180 1830 A
860 V
3130(eth,)S
(197,)210 3338 A
(203)180 3578 A
1000 V
3130(Ethernet,)S
3601(2)S
1140 V
12 I
3130(eth)S
12 Y1
3278(3)S
12 I
3338(ioc)S
12 Y1
3486(3)S
12 I
3546(getopt)S
12 R
3848(,)S
(203,)210 3908 A
(205)180 4148 A
1280 V
12 I
3130(eth)S
12 Y1
3278(3)S
12 I
3338(ioc)S
12 Y1
3486(3)S
12 I
3546(getstat)S
12 R
3869(,)S
(203,)210 3929 A
(205)180 4169 A
1420 V
12 I
3130(eth)S
12 Y1
3278(3)S
12 I
3338(ioc)S
12 Y1
3486(3)S
12 I
3546(setopt)S
12 R
3835(,)S
(203,)210 3895 A
(206)180 4135 A
1560 V
3130(events,)S
(109)180 3499 A
1700 V
3130(EXC)S
12 Y1
3372(3)S
12 R
3432(ABT,)S
(165)180 3734 A
1840 V
3130(EXC)S
12 Y1
3372(3)S
12 R
3432(ACC,)S
(165)180 3740 A
1980 V
3130(EXC)S
12 Y1
3372(3)S
12 R
3432(ARG,)S
(165)180 3748 A
2120 V
3130(EXC)S
12 Y1
3372(3)S
12 R
3432(BPT,)S
(165)180 3713 A
2260 V
3130(EXC)S
12 Y1
3372(3)S
12 R
3432(DIV,)S
(165)180 3709 A
2400 V
3130(EXC)S
12 Y1
3372(3)S
12 R
3432(EMU,)S
(165)180 3761 A
2540 V
3130(exception,)S
(163,)210 3660 A
(165,)210 3900 A
(302)180 4140 A
2680 V
3130(exception)S
3630(names,)S
(163,)210 3999 A
(165)180 4239 A
2820 V
3130(exceptions,)S
(358)180 3707 A
2960 V
3130(EXC)S
12 Y1
3372(3)S
12 R
3432(FPE,)S
(165)180 3700 A
3100 V
3130(EXC)S
12 Y1
3372(3)S
12 R
3432(ILL,)S
(165)180 3681 A
3240 V
3130(EXC)S
12 Y1
3372(3)S
12 R
3432(INS,)S
(165)180 3688 A
3380 V
3130(EXC)S
12 Y1
3372(3)S
12 R
3432(MEM,)S
(165)180 3780 A
3520 V
12 I
(exc)162 3130 A
12 Y1
3292(3)S
12 I
3352(name)S
12 R
3614(,)S
(163)180 3674 A
3660 V
3130(EXC)S
12 Y1
3372(3)S
12 R
(NONE,)368 3432 A
(165)180 3830 A
3800 V
3130(EXC)S
12 Y1
3372(3)S
12 R
(ODD,)294 3432 A
(165)180 3756 A
3940 V
3130(EXC)S
12 Y1
3372(3)S
12 R
3432(SYS,)S
(165,)210 3714 A
(276)180 3954 A
4080 V
12 I
(exec)216 3130 A
12 Y1
3346(3)S
12 I
(file)156 3406 A
12 R
3562(,)S
(126,)210 3622 A
(167-170,)431 3862 A
(302,)210 4323 A
(305,)210 4563 A
(307)180 4803 A
4220 V
12 I
(exec)216 3130 A
12 Y1
3346(3)S
12 I
(findhost)389 3406 A
12 R
3795(,)S
(167,)210 3855 A
(170-171)401 4095 A
4360 V
3130(exec)S
12 Y1
3352(3)S
12 R
(fndhost.h,)482 3412 A
(170)180 3924 A
4500 V
12 I
(exec)216 3130 A
12 R
3346(,)S
(296)180 3406 A
4640 V
12 I
(exec)216 3130 A
12 Y1
3346(3)S
12 I
(multi)250 3406 A
12 Y1
3656(3)S
12 I
(findhost)389 3716 A
12 R
4105(,)S
(168,)210 4165 A
(170)180 4405 A
4780 V
12 I
(exec)216 3130 A
12 Y1
3346(3)S
12 I
3406(pd)S
12 R
3526(,)S
(167-168)401 3586 A
4920 V
3130(executable)S
3678(file,)S
(167,)210 3901 A
(308)180 4141 A
5060 V
3130(execute,)S
(170)180 3560 A
5200 V
3130(execute)S
3530(a)S
3614(process,)S
(302)180 4037 A
5340 V
12 Y1
3130(3)S
12 R
3190(exit,)S
(173)180 3432 A
5480 V
3130(exit)S
3342(status,)S
(173)180 3678 A
5620 V
3130(exitprocess,)S
(173)180 3735 A
5760 V
12 I
3130(exitprocess)S
12 R
3675(,)S
(306)180 3735 A
5900 V
12 I
(exitthread)491 3130 A
12 R
3621(,)S
(306,)210 3681 A
(392-393)401 3921 A
6180 V
21 R
3130(F)S
6460 V
12 R
3130(fast)S
3336(client/slow)S
3899(server)S
4226(problem,)S
4689(24)S
6600 V
3130(fault.h,)S
(302,)210 3503 A
(308,)210 3743 A
(358)180 3983 A
6740 V
(F-box,)318 3130 A
3478(10,)S
(285,)210 3658 A
(301)180 3898 A
6880 V
3130(fcntl.h,)S
(286)180 3503 A
7020 V
3130(file,)S
(286)180 3353 A
7160 V
3130(file)S
(access)310 3323 A
3663(permissions,)S
(295)180 4301 A
7300 V
3130(file)S
3323(descriptors,)S
(283)180 3915 A
7700 V
2683(Amoeba)S
3123(5.3)S
(431)180 5069 A
7920 V
EP
%%Page: 432 438
BP
/slant 0 def
/height 0 def
860 V
12 R
708(file)S
(position,)419 901 A
(395)180 1350 A
1000 V
708(file)S
(update)322 901 A
1253(time,)S
(295)180 1529 A
1140 V
708(files,)S
(127)180 978 A
1280 V
12 I
(findhole)396 708 A
12 R
1104(,)S
(174,)210 1164 A
(348)180 1404 A
1420 V
708(FLIP,)S
1017(3,)S
1137(5,)S
1257(24,)S
(183,)210 1437 A
(320)180 1677 A
1560 V
12 I
(flip)162 708 A
12 Y1
870(3)S
12 I
(broadcast)482 930 A
12 R
1412(,)S
(320,)210 1472 A
(322)180 1712 A
1700 V
12 I
(flip)162 708 A
12 Y1
870(3)S
12 I
930(end)S
12 R
1104(,)S
(320-321)401 1164 A
1840 V
12 I
(flip)162 708 A
12 Y1
870(3)S
12 I
930(init)S
12 R
1092(,)S
(320)180 1152 A
1980 V
12 I
(flip)162 708 A
12 Y1
870(3)S
12 I
(multicast)445 930 A
12 R
1375(,)S
(320,)210 1435 A
(323)180 1675 A
2120 V
12 I
(flip)162 708 A
12 Y1
870(3)S
12 I
930(oneway)S
12 R
1298(,)S
(320,)210 1358 A
(324)180 1598 A
2260 V
12 I
(flip)162 708 A
12 Y1
870(3)S
12 I
(random)375 930 A
12 R
1305(,)S
(320,)210 1365 A
(324)180 1605 A
2400 V
12 I
(flip)162 708 A
12 Y1
870(3)S
12 I
(random)375 930 A
12 Y1
1305(3)S
12 I
1365(reinit)S
12 R
1628(,)S
(320,)210 1688 A
(324)180 1928 A
2540 V
12 I
(flip)162 708 A
12 Y1
870(3)S
12 I
930(register)S
12 R
1307(,)S
(320-321)401 1367 A
2680 V
12 I
(flip)162 708 A
12 Y1
870(3)S
12 I
930(unicast)S
12 R
1279(,)S
(320,)210 1339 A
(322)180 1579 A
2820 V
12 I
(flip)162 708 A
12 Y1
870(3)S
12 I
930(unregister)S
12 R
1427(,)S
(320-321)401 1487 A
2960 V
708(fork,)S
970(6,)S
(283)180 1090 A
3100 V
12 I
708(fork)S
12 R
903(,)S
(296)180 963 A
3240 V
708(FORTRAN,)S
1333(7,)S
1453(25)S
3380 V
708(FPE)S
12 Y1
916(3)S
12 R
(BADARCH,)622 976 A
(170)180 1628 A
3520 V
708(FPE)S
12 Y1
916(3)S
12 R
976(BADPOOLDIR,)S
(170)180 1818 A
3660 V
708(FPE)S
12 Y1
916(3)S
12 R
(NONE,)368 976 A
(170)180 1374 A
3800 V
708(FPE)S
12 Y1
916(3)S
12 R
976(NOPOOLDIR,)S
(170)180 1738 A
3940 V
708(frame)S
1022(pointer,)S
(358)180 1425 A
4080 V
12 I
708(free)S
12 R
897(,)S
(256-257)401 957 A
4220 V
708(fromb,)S
1064(24)S
4360 V
708(front)S
974(end,)S
1208(26)S
4500 V
708(front-end,)S
1219(29)S
4640 V
12 I
708(fsread)S
12 R
1010(,)S
(175)180 1070 A
4780 V
12 I
708(fstat)S
12 R
917(,)S
(299)180 977 A
4920 V
12 I
708(fswrite)S
12 R
1038(,)S
(175)180 1098 A
5060 V
(full-duplex)538 708 A
1276(IPC)S
1494(channel,)S
(421)180 1930 A
5340 V
21 R
708(G)S
5620 V
12 R
708(garbage)S
1121(collection,)S
(152)180 1659 A
5760 V
708(gax,)S
(385)180 942 A
5900 V
12 I
708(getcap)S
12 R
1030(,)S
(177)180 1090 A
6040 V
12 I
708(getcwd)S
12 R
1050(,)S
(297)180 1110 A
6180 V
12 I
708(getinfo)S
12 R
1044(,)S
(174,)210 1104 A
(178,)210 1344 A
(304,)210 1584 A
(349)180 1824 A
6320 V
708(get-port,)S
1152(10,)S
1332(14,)S
1512(21,)S
(333)180 1692 A
6460 V
12 I
708(getreq)S
12 R
1017(,)S
1089(3-4,)S
1322(6,)S
1454(10-11,)S
1807(13-14,)S
2160(21,)S
(109,)210 2353 A
(332-)221 2606 A
6600 V
(333,)210 708 A
(335-338,)431 948 A
(359)180 1409 A
6740 V
708(gid,)S
(295)180 922 A
6880 V
708(glocal)S
1034(data,)S
1296(5,)S
(392,)210 1416 A
(400-403)401 1656 A
7020 V
708(GMT,)S
(147)180 1037 A
7160 V
12 I
708(gmtime)S
12 R
1066(,)S
(147,)210 1126 A
(149)180 1366 A
7300 V
(GNU,)294 708 A
1032(7,)S
1152(25)S
860 V
12 I
3130(gp)S
12 Y1
3250(3)S
12 I
(badport)381 3310 A
12 R
3691(,)S
(180-181)401 3751 A
1000 V
12 I
3130(gp)S
12 Y1
3250(3)S
12 I
(notebad)388 3310 A
12 R
3698(,)S
(180-181)401 3758 A
1140 V
12 I
3130(gp)S
12 Y1
3250(3)S
12 I
3310(std)S
12 Y1
3451(3)S
12 I
3511(copy)S
12 R
3739(,)S
(180)180 3799 A
1280 V
12 I
3130(gp)S
12 Y1
3250(3)S
12 I
3310(std)S
12 Y1
3451(3)S
12 I
3511(destroy)S
12 R
3867(,)S
(180)180 3927 A
1420 V
12 I
3130(gp)S
12 Y1
3250(3)S
12 I
3310(std)S
12 Y1
3451(3)S
12 I
3511(info)S
12 R
3699(,)S
(180)180 3759 A
1560 V
12 I
3130(gp)S
12 Y1
3250(3)S
12 I
3310(std)S
12 Y1
3451(3)S
12 I
3511(restrict)S
12 R
3862(,)S
(180)180 3922 A
1700 V
12 I
3130(gp)S
12 Y1
3250(3)S
12 I
3310(std)S
12 Y1
3451(3)S
12 I
3511(status)S
12 R
3793(,)S
(180)180 3853 A
1840 V
12 I
3130(gp)S
12 Y1
3250(3)S
12 I
3310(std)S
12 Y1
3451(3)S
12 I
3511(touch)S
12 R
3779(,)S
(180)180 3839 A
1980 V
12 I
3130(gp)S
12 Y1
3250(3)S
12 I
3310(trans)S
12 R
3558(,)S
(180-181)401 3618 A
2120 V
(group)281 3130 A
3441(communication,)S
4253(5,)S
(183)180 4373 A
2260 V
12 I
3130(grp)S
12 Y1
3297(3)S
12 I
3357(create)S
12 R
3660(,)S
(183,)210 3720 A
(185)180 3960 A
2400 V
12 I
3130(grp)S
12 Y1
3297(3)S
12 I
3357(forward)S
12 R
3745(,)S
(183,)210 3805 A
(186)180 4045 A
2540 V
12 I
3130(grp)S
12 Y1
3297(3)S
12 I
3357(info)S
12 R
3545(,)S
(183,)210 3605 A
(186)180 3845 A
2680 V
12 I
3130(grp)S
12 Y1
3297(3)S
12 I
3357(join)S
12 R
3545(,)S
(183,)210 3605 A
(187)180 3845 A
2820 V
12 I
3130(grp)S
12 Y1
3297(3)S
12 I
3357(leave)S
12 R
3613(,)S
(183,)210 3673 A
(187)180 3913 A
2960 V
12 I
3130(grp)S
12 Y1
3297(3)S
12 I
(receive)351 3357 A
12 R
3708(,)S
(183,)210 3768 A
(187)180 4008 A
3100 V
12 I
3130(grp)S
12 Y1
3297(3)S
12 I
3357(reset)S
12 R
3593(,)S
(183,)210 3653 A
(188)180 3893 A
3240 V
12 I
3130(grp)S
12 Y1
3297(3)S
12 I
3357(send)S
12 R
3578(,)S
(183,)210 3638 A
(189)180 3878 A
3380 V
12 I
3130(grp)S
12 Y1
3297(3)S
12 I
3357(set)S
12 R
3492(,)S
(183,)210 3552 A
(189)180 3792 A
3660 V
21 R
3130(H)S
3940 V
12 R
3130(header)S
3483(files,)S
3753(38,)S
(111,)210 3933 A
(295)180 4173 A
4080 V
12 I
3130(header)S
12 R
3465(,)S
3525(8,)S
3645(18)S
4220 V
3130(host,)S
(168)180 3391 A
4360 V
3130(host)S
3361(name,)S
(170,)210 3683 A
(194)180 3923 A
4500 V
12 I
3130(host)S
12 Y1
3331(3)S
12 I
3391(lookup)S
12 R
3719(,)S
(194)180 3779 A
4640 V
12 I
3130(HTONL)S
12 R
3520(,)S
(197-198)401 3580 A
4780 V
12 I
3130(htonl)S
12 R
3378(,)S
(197-198)401 3438 A
4920 V
12 I
3130(HTONS)S
12 R
3513(,)S
(197-198)401 3573 A
5060 V
12 I
3130(htons)S
12 R
3391(,)S
(197-198)401 3451 A
5340 V
21 R
3130(I)S
5620 V
12 R
3130(immutable,)S
(127)180 3708 A
5760 V
3130(in-core)S
3504(segment,)S
(351)180 3967 A
5900 V
(initial)284 3130 A
3444(program)S
(counter,)393 3884 A
(308)180 4307 A
6040 V
(initial)284 3130 A
3444(stack)S
3723(pointer,)S
(308)180 4126 A
6180 V
(input)248 3130 A
3408(channel,)S
(421)180 3844 A
6320 V
3130(Internet)S
3538(Protocol,)S
(197,)210 4008 A
(203,)210 4248 A
(209,)210 4488 A
(216,)210 4728 A
(223)180 4968 A
6460 V
3130(interprocess)S
3746(communication,)S
(332)180 4558 A
6600 V
3130(interrupt,)S
(358)180 3608 A
6740 V
3130(ioctl,)S
(408)180 3406 A
6880 V
3130(IP,)S
(197,)210 3298 A
(203,)210 3538 A
(209,)210 3778 A
(216,)210 4018 A
(223)180 4258 A
7020 V
3130(ip,)S
(197,)210 3284 A
(209)180 3524 A
7160 V
12 I
3130(ip)S
12 Y1
3224(3)S
12 I
3284(host)S
12 Y1
3485(3)S
12 I
3545(lookup)S
12 R
3873(,)S
(194-195)401 3933 A
7300 V
12 I
3130(ip)S
12 Y1
3224(3)S
12 I
3284(ioc)S
12 Y1
3432(3)S
12 I
3492(getconf)S
12 R
3848(,)S
(209,)210 3908 A
(211)180 4148 A
7700 V
(432)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 433 439
BP
/slant 0 def
/height 0 def
860 V
12 I
708(ip)S
12 Y1
802(3)S
12 I
862(ioc)S
12 Y1
1010(3)S
12 I
1070(getopt)S
12 R
1372(,)S
(209,)210 1432 A
(211)180 1672 A
1000 V
12 I
708(ip)S
12 Y1
802(3)S
12 I
862(ioc)S
12 Y1
1010(3)S
12 I
1070(getroute)S
12 R
1473(,)S
(209,)210 1533 A
(211)180 1773 A
1140 V
12 I
708(ip)S
12 Y1
802(3)S
12 I
862(ioc)S
12 Y1
1010(3)S
12 I
1070(setconf)S
12 R
1413(,)S
(209,)210 1473 A
(212)180 1713 A
1280 V
12 I
708(ip)S
12 Y1
802(3)S
12 I
862(ioc)S
12 Y1
1010(3)S
12 I
1070(setopt)S
12 R
1359(,)S
(209,)210 1419 A
(213)180 1659 A
1420 V
12 I
708(ip)S
12 Y1
802(3)S
12 I
862(ioc)S
12 Y1
1010(3)S
12 I
1070(setroute)S
12 R
1460(,)S
(209,)210 1520 A
(214)180 1760 A
1560 V
708(ISO)S
934(C,)S
12 I
1104(see)S
12 R
1289(STD)S
1548(C)S
1840 V
21 R
708(K)S
2120 V
12 I
(kill)156 708 A
12 R
864(,)S
(297)180 924 A
2260 V
708(kstat,)S
(387)180 997 A
2540 V
21 R
708(L)S
2820 V
12 R
708(led,)S
916(36)S
2960 V
708(libajax.a,)S
1182(7)S
3100 V
708(libamoeba.a,)S
1356(7)S
3240 V
708(libamunix.a,)S
1342(24)S
3380 V
(libmod2.a,)516 708 A
1254(7)S
3520 V
708(libpc.a,)S
1094(7,)S
1214(47)S
3660 V
708(library,)S
(230,)210 1092 A
(251,)210 1332 A
(295)180 1572 A
3800 V
12 I
708(link)S
12 R
890(,)S
(298)180 950 A
3940 V
708(load)S
946(average,)S
(302)180 1383 A
4080 V
708(load)S
946(balancing,)S
(170)180 1476 A
4220 V
708(local,)S
(392)180 1004 A
4360 V
708(local)S
974(get)S
1152(port,)S
(421)180 1407 A
4500 V
708(local)S
974(time,)S
(147)180 1250 A
4640 V
12 I
(localtime)452 708 A
12 R
1160(,)S
(147,)210 1220 A
(149)180 1460 A
4780 V
708(locate)S
1028(timeout,)S
1458(4)S
5060 V
21 R
708(M)S
5340 V
12 R
708(main,)S
(192)180 1010 A
5480 V
708(main)S
(calling)330 980 A
1340(sequence,)S
(192)180 1843 A
5620 V
708(make,)S
1030(83)S
5760 V
12 I
708(malloc)S
12 R
1038(,)S
(256)180 1098 A
5900 V
708(MAP)S
12 Y1
970(3)S
12 R
(AND)264 1030 A
12 Y1
1294(3)S
12 R
1354(DESTROY,)S
(310)180 1973 A
6040 V
708(MAP)S
12 Y1
970(3)S
12 R
1030(BINARY,)S
(310)180 1555 A
6180 V
708(MAP)S
12 Y1
970(3)S
12 R
1030(GROWDOWN,)S
(310)180 1838 A
6320 V
708(MAP)S
12 Y1
970(3)S
12 R
1030(GROWMASK,)S
(310)180 1810 A
6460 V
708(MAP)S
12 Y1
970(3)S
12 R
1030(GROWNOT,)S
(310)180 1710 A
6600 V
708(MAP)S
12 Y1
970(3)S
12 R
1030(GROWUP,)S
(310)180 1615 A
6740 V
708(MAP)S
12 Y1
970(3)S
12 R
1030(INPLACE,)S
(310)180 1602 A
6880 V
708(MAP)S
12 Y1
970(3)S
12 R
1030(PROTMASK,)S
(310)180 1749 A
7020 V
708(MAP)S
12 Y1
970(3)S
12 R
(READONLY,)698 1030 A
(310)180 1758 A
7160 V
708(MAP)S
12 Y1
970(3)S
12 R
1030(READWRITE,)S
(310)180 1803 A
7300 V
708(MAP)S
12 Y1
970(3)S
12 R
1030(SPECIAL,)S
(310)180 1581 A
860 V
3130(MAP)S
12 Y1
3392(3)S
12 R
3452(SYMTAB,)S
(310)180 4016 A
1000 V
3130(MAP)S
12 Y1
3392(3)S
12 R
3452(SYSTEM,)S
(310)180 3989 A
1140 V
3130(MAP)S
12 Y1
3392(3)S
12 R
3452(TYPEDATA,)S
(310)180 4153 A
1280 V
3130(MAP)S
12 Y1
3392(3)S
12 R
3452(TYPEMASK,)S
(310)180 4165 A
1420 V
3130(MAP)S
12 Y1
3392(3)S
12 R
(TYPETEXT,)643 3452 A
(310)180 4125 A
1560 V
3130(marshaling,)S
3728(10,)S
3908(17-18,)S
4249(21)S
1700 V
3130(MAX)S
12 Y1
3413(3)S
12 R
(RANDOM,)569 3473 A
(330)180 4072 A
1840 V
3130(memory,)S
(351)180 3593 A
1980 V
3130(memory)S
3563(management,)S
(302)180 4241 A
2120 V
3130(memory)S
3563(mapping,)S
(174)180 4045 A
2260 V
3130(message,)S
(332)180 3600 A
2400 V
3130(message)S
3570(transaction,)S
(332)180 4162 A
2540 V
(millisecond,)595 3130 A
(391)180 3755 A
2680 V
12 I
3130(mkdir)S
12 R
3413(,)S
(298)180 3473 A
2820 V
12 I
(mkfifo)304 3130 A
12 R
3434(,)S
(298)180 3494 A
2960 V
12 I
3130(mktime)S
12 R
3482(,)S
(147,)210 3542 A
(149)180 3782 A
3100 V
(Modula-2,)506 3130 A
3666(7,)S
3786(25,)S
3966(60,)S
(230)180 4146 A
3240 V
(Modula-2)476 3130 A
3636(conformance,)S
4328(60)S
3380 V
(module/disk.h,)717 3130 A
(417)180 3877 A
3520 V
3130(MON)S
12 Y1
3413(3)S
12 R
3473(EVENT,)S
(109)180 3931 A
3660 V
12 I
3130(MON)S
12 Y1
3399(3)S
12 I
(EVENT)369 3459 A
12 R
3828(,)S
(258)180 3888 A
3800 V
3130(monitor,)S
(109)180 3573 A
3940 V
12 I
3130(monitor.h)S
12 R
3603(,)S
(258)180 3663 A
4080 V
3130(MON)S
12 Y1
3413(3)S
12 R
3473(SETBUF,)S
(109)180 3983 A
4220 V
12 I
3130(MON)S
12 Y1
3399(3)S
12 I
3459(SETBUF)S
12 R
3896(,)S
(258)180 3956 A
4360 V
12 I
3130(msg)S
12 Y1
3325(3)S
12 I
3385(define)S
12 Y1
3681(3)S
12 I
3741(grp)S
12 Y1
3908(3)S
12 I
3968(entry)S
12 R
4217(,)S
(270)180 4277 A
4500 V
12 I
3130(msg)S
12 Y1
3325(3)S
12 I
3385(delete)S
12 R
3675(,)S
(265)180 3735 A
4640 V
12 I
3130(MSG)S
12 Y1
3379(3)S
12 I
3439(ENTRY)S
12 R
3801(,)S
(264)180 3861 A
4780 V
12 I
3130(msg)S
12 Y1
3325(3)S
12 I
3385(get)S
12 Y1
3533(3)S
12 I
3593(float)S
12 R
3815(,)S
(263)180 3875 A
4920 V
12 I
3130(msg)S
12 Y1
3325(3)S
12 I
3385(get)S
12 Y1
3533(3)S
12 I
3593(int)S
12 R
3721(,)S
(263)180 3781 A
5060 V
12 I
3130(msg)S
12 Y1
3325(3)S
12 I
3385(get)S
12 Y1
3533(3)S
12 I
3593(port)S
12 R
3794(,)S
(263)180 3854 A
5200 V
12 I
3130(msg)S
12 Y1
3325(3)S
12 I
3385(get)S
12 Y1
3533(3)S
12 I
3593(string)S
12 R
3875(,)S
(264)180 3935 A
5340 V
12 I
3130(msg)S
12 Y1
3325(3)S
12 I
3385(grp)S
12 Y1
3552(3)S
12 I
3612(join)S
12 R
3800(,)S
(268)180 3860 A
5480 V
12 I
3130(msg)S
12 Y1
3325(3)S
12 I
3385(grp)S
12 Y1
3552(3)S
12 I
3612(leave)S
12 R
3868(,)S
(269)180 3928 A
5620 V
12 I
3130(msg)S
12 Y1
3325(3)S
12 I
3385(grp)S
12 Y1
3552(3)S
12 I
3612(num)S
12 Y1
3820(3)S
12 I
3880(members)S
12 R
4318(,)S
(270)180 4378 A
5760 V
12 I
3130(msg)S
12 Y1
3325(3)S
12 I
3385(grp)S
12 Y1
3552(3)S
12 I
(receive)351 3612 A
12 R
3963(,)S
(270)180 4023 A
5900 V
12 I
3130(msg)S
12 Y1
3325(3)S
12 I
3385(grp)S
12 Y1
3552(3)S
12 I
3612(send)S
12 R
3833(,)S
(269)180 3893 A
6040 V
12 I
3130(msg)S
12 Y1
3325(3)S
12 I
(increfcount)551 3385 A
12 R
3936(,)S
(265)180 3996 A
6180 V
12 I
3130(msg)S
12 Y1
3325(3)S
12 I
3385(newmsg)S
12 R
3774(,)S
(261)180 3834 A
6320 V
12 I
3130(msg)S
12 Y1
3325(3)S
12 I
(printaccess)551 3385 A
12 R
3936(,)S
(266)180 3996 A
6460 V
12 I
3130(msg)S
12 Y1
3325(3)S
12 I
3385(put)S
12 R
3539(,)S
(261)180 3599 A
6600 V
12 I
3130(msg)S
12 Y1
3325(3)S
12 I
3385(put)S
12 Y1
3539(3)S
12 I
3599(int)S
12 R
3727(,)S
(261-262)401 3787 A
6740 V
12 I
3130(msg)S
12 Y1
3325(3)S
12 I
3385(put)S
12 Y1
3539(3)S
12 I
3599(port)S
12 R
3800(,)S
(262)180 3860 A
6880 V
12 I
3130(msg)S
12 Y1
3325(3)S
12 I
3385(put)S
12 Y1
3539(3)S
12 I
3599(string)S
12 R
3881(,)S
(262)180 3941 A
7020 V
12 I
3130(msg)S
12 Y1
3325(3)S
12 I
3385(rewind)S
12 R
3720(,)S
(265)180 3780 A
7160 V
12 I
3130(msg)S
12 Y1
3325(3)S
12 I
3385(rpc)S
12 R
3546(,)S
(262-264)401 3606 A
7300 V
12 I
3130(msg)S
12 Y1
3325(3)S
12 I
3385(rpc)S
12 Y1
3546(3)S
12 I
3606(rcv)S
12 R
3761(,)S
(265)180 3821 A
7700 V
2683(Amoeba)S
3123(5.3)S
(433)180 5069 A
7920 V
EP
%%Page: 434 440
BP
/slant 0 def
/height 0 def
860 V
12 I
708(msg)S
12 Y1
903(3)S
12 I
963(rpc)S
12 Y1
1124(3)S
12 I
1184(reply)S
12 R
1433(,)S
(266)180 1493 A
1000 V
12 I
708(MSG)S
12 Y1
957(3)S
12 I
1017(SENDER)S
12 Y1
1467(3)S
12 I
1527(NAME)S
12 R
1856(,)S
(264)180 1916 A
1140 V
12 I
708(msg)S
12 Y1
903(3)S
12 I
963(sender)S
12 Y1
1285(3)S
12 I
1345(port)S
12 R
1546(,)S
(264)180 1606 A
1280 V
12 I
708(mu)S
12 Y1
856(3)S
12 I
916(init)S
12 R
1078(,)S
(275-276)401 1138 A
1420 V
12 I
708(mu)S
12 Y1
856(3)S
12 I
916(lock)S
12 R
1118(,)S
(275-276,)431 1178 A
(306,)210 1639 A
(359)180 1879 A
1560 V
(multicast,)475 708 A
1213(5,)S
(183)180 1333 A
1700 V
(multithreaded)673 708 A
1411(programming,)S
2129(5,)S
2249(11)S
1840 V
12 I
708(mu)S
12 Y1
856(3)S
12 I
916(trylock)S
12 R
1253(,)S
(275-276,)431 1313 A
(306,)210 1774 A
(359)180 2014 A
1980 V
12 I
708(mu)S
12 Y1
856(3)S
12 I
916(unlock)S
12 R
1238(,)S
(275-276)401 1298 A
2260 V
21 R
708(N)S
2540 V
12 R
708(name)S
1000(server,)S
(365)180 1357 A
2680 V
12 I
708(name)S
12 Y1
970(3)S
12 I
(append)354 1030 A
12 R
1384(,)S
1444(12,)S
(279)180 1624 A
2820 V
12 I
708(name)S
12 Y1
970(3)S
12 I
1030(breakpath)S
12 R
1519(,)S
(280)180 1579 A
2960 V
12 I
708(name)S
12 Y1
970(3)S
12 I
1030(create)S
12 R
1333(,)S
(281)180 1393 A
3100 V
12 I
708(name)S
12 Y1
970(3)S
12 I
1030(delete)S
12 R
1320(,)S
(281)180 1380 A
3240 V
708(name.h,)S
(278)180 1120 A
3380 V
12 I
708(name)S
12 Y1
970(3)S
12 I
1030(lookup)S
12 R
1358(,)S
1418(18,)S
(282)180 1598 A
3520 V
12 I
708(name)S
12 Y1
970(3)S
12 I
1030(replace)S
12 R
1393(,)S
(280)180 1453 A
3660 V
708(network)S
1135(protocol,)S
1598(3,)S
1718(24)S
3800 V
12 I
708(newproc)S
12 R
1123(,)S
1183(6,)S
(283)180 1303 A
3940 V
12 I
708(newprocp)S
12 R
1183(,)S
(283)180 1243 A
4080 V
708(newsoapgraph,)S
(113)180 1466 A
4220 V
708(newuser,)S
(113)180 1172 A
4360 V
708(NILBUF,)S
1206(18)S
4500 V
12 I
708(NTOHL)S
12 R
1098(,)S
(197-198)401 1158 A
4640 V
12 I
708(ntohl)S
12 R
956(,)S
(197-198)401 1016 A
4780 V
12 I
708(NTOHS)S
12 R
1091(,)S
(197-198)401 1151 A
4920 V
12 I
708(ntohs)S
12 R
969(,)S
(197-198)401 1029 A
5060 V
708(NULLPORT,)S
1401(8)S
5340 V
21 R
708(O)S
5620 V
12 R
708(object)S
1034(naming,)S
(155)180 1456 A
5760 V
708(object)S
1034(number,)S
1463(2)S
5900 V
708(object-based,)S
1380(2)S
6040 V
708(object-oriented,)S
1502(2)S
6180 V
708(objnum,)S
(318)180 1136 A
6320 V
12 I
708(oneC)S
12 Y1
962(3)S
12 I
1022(sum)S
12 R
1217(,)S
(197,)210 1277 A
(199)180 1517 A
6460 V
708(one-way)S
1155(function,)S
(301,)210 1618 A
(333)180 1858 A
6600 V
12 I
708(one)S
12 Y1
882(3)S
12 I
942(way)S
12 R
1136(,)S
(285)180 1196 A
6740 V
708(open,)S
(286)180 1002 A
6880 V
12 I
708(opencap)S
12 R
1116(,)S
(286)180 1176 A
7020 V
12 I
708(open)S
12 R
942(,)S
(298)180 1002 A
7160 V
708(Orca,)S
1005(5,)S
1125(7)S
7300 V
708(O)S
12 Y1
796(3)S
12 R
(RDONLY,)536 856 A
(286)180 1422 A
860 V
3130(O)S
12 Y1
3218(3)S
12 R
3278(RDWR,)S
(286)180 3700 A
1000 V
3130(output)S
3468(channel,)S
(421)180 3904 A
1140 V
3130(owner)S
(capability,)508 3463 A
(302)180 4001 A
1280 V
3130(O)S
12 Y1
3218(3)S
12 R
3278(WRONLY,)S
(286)180 3870 A
1560 V
21 R
3130(P)S
1840 V
12 R
3130(page)S
3388(size,)S
(302,)210 3637 A
(308)180 3877 A
1980 V
3130(pascal,)S
(251)180 3493 A
2120 V
3130(Pascal,)S
3500(7,)S
3620(25,)S
3800(45)S
2260 V
3130(Pascal)S
3470(comformance,)S
4196(45)S
2400 V
3130(PATH)S
3477(environment)S
4118(variable,)S
(283,)210 4569 A
(287)180 4809 A
2540 V
3130(path)S
3368(name)S
3660(resolution,)S
(296)180 4204 A
2680 V
3130(path)S
3368(names,)S
(287)180 3737 A
2820 V
3130(path)S
3368(normalization,)S
(287)180 4101 A
2960 V
12 I
3130(path)S
12 Y1
3344(3)S
12 I
(capnorm)429 3404 A
12 R
3833(,)S
(287,)210 3893 A
(289)180 4133 A
3100 V
12 I
3130(path)S
12 Y1
3344(3)S
12 I
3404(cs)S
12 Y1
3505(3)S
12 I
3565(norm)S
12 R
3820(,)S
(287,)210 3880 A
(289)180 4120 A
3240 V
12 I
3130(path)S
12 Y1
3344(3)S
12 I
3404(first)S
12 R
3600(,)S
(287)180 3660 A
3380 V
3130(path.h,)S
(287)180 3488 A
3520 V
12 I
3130(path)S
12 Y1
3344(3)S
12 I
3404(lookup)S
12 R
3732(,)S
(287-288)401 3792 A
3660 V
12 I
3130(path)S
12 Y1
3344(3)S
12 I
3404(norm)S
12 R
3659(,)S
(287-288)401 3719 A
3800 V
12 I
3130(path)S
12 Y1
3344(3)S
12 I
3404(rnorm)S
12 R
3706(,)S
(287,)210 3766 A
(289)180 4006 A
3940 V
3130(pattern)S
3497(matching,)S
(327)180 4007 A
4080 V
12 I
3130(pd)S
12 Y1
3250(3)S
12 I
3310(arch)S
12 R
3531(,)S
(308,)210 3591 A
(312)180 3831 A
4220 V
12 I
3130(pdmalloc)S
12 R
3580(,)S
(293,)210 3640 A
(308,)210 3880 A
(313)180 4120 A
4360 V
12 I
3130(pd)S
12 Y1
3250(3)S
12 I
3310(preserve)S
12 R
3727(,)S
(291)180 3787 A
4500 V
12 I
3130(pd)S
12 Y1
3250(3)S
12 I
3310(read)S
12 R
3531(,)S
(293)180 3591 A
4640 V
12 I
3130(pd)S
12 Y1
3250(3)S
12 I
3310(read)S
12 Y1
3531(3)S
12 I
(multiple)398 3591 A
12 R
3989(,)S
(293)180 4049 A
4780 V
3130(PD)S
12 Y1
3285(3)S
12 R
3345(SD,)S
(308)180 3560 A
4920 V
12 I
3130(pd)S
12 Y1
3250(3)S
12 I
3310(size)S
12 R
3492(,)S
(308,)210 3552 A
(312)180 3792 A
5060 V
3130(PD)S
12 Y1
3285(3)S
12 R
3345(TD,)S
(308)180 3567 A
5200 V
3130(per-thread)S
3659(data,)S
(392)180 3921 A
5340 V
3130(per-thread)S
3659(global)S
3991(data,)S
(400)180 4253 A
5480 V
(physical)403 3130 A
3563(disk,)S
(417)180 3824 A
5620 V
3130(pipe,)S
3398(6,)S
(175)180 3518 A
5760 V
(pool)214 3130 A
3374(directory,)S
(170)180 3872 A
5900 V
3130(port,)S
(114,)210 3385 A
(318,)210 3625 A
(332,)210 3865 A
(415)180 4105 A
6040 V
3130(PORTCMP,)S
3753(8)S
6180 V
12 I
3130(port)S
12 R
3331(,)S
3391(8)S
6320 V
3130(POSIX,)S
3541(6-7,)S
3762(38,)S
(147,)210 3942 A
(286,)210 4182 A
(295)180 4422 A
6460 V
3130(POSIX)S
3511(conformance,)S
(295)180 4203 A
6600 V
3130(POSIX,)S
3541(deviations)S
4068(from)S
4334(,)S
(295)180 4394 A
6740 V
3130(preemptive)S
3705(scheduling,)S
4288(6,)S
(405-406)401 4408 A
6880 V
3130(printbuf,)S
(387)180 3580 A
7020 V
12 I
(priv2pub)435 3130 A
12 R
3565(,)S
3625(10,)S
3805(12,)S
(285,)210 3985 A
(301,)210 4225 A
(333)180 4465 A
7160 V
3130(private,)S
(114,)210 3527 A
(318)180 3767 A
7300 V
3130(private)S
3497(port,)S
(301)180 3752 A
7700 V
(434)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 435 441
BP
/slant 0 def
/height 0 def
860 V
12 I
708(procentry)S
12 R
1178(,)S
(315-316)401 1238 A
1000 V
708(process,)S
(167,)210 1131 A
(170,)210 1371 A
(173,)210 1611 A
(178,)210 1851 A
(348,)210 2091 A
(351)180 2331 A
1140 V
708(process)S
(capability,)508 1101 A
(178,)210 1639 A
(302)180 1879 A
1280 V
708(process)S
1101(continuation,)S
(302)180 1765 A
1420 V
708(process)S
1101(creation,)S
(167)180 1552 A
1560 V
708(process)S
1102(descriptor,)S
(167,)210 1649 A
(170,)210 1891 A
(173,)210 2133 A
(178,)210 2375 A
(291,)210 2617 A
1700 V
(293,)210 708 A
(302,)210 948 A
(308)180 1188 A
1840 V
708(process)S
1101(execution,)S
(283)180 1631 A
1980 V
708(process)S
1101(migration,)S
(308)180 1632 A
2120 V
708(process)S
1101(owner,)S
(167,)210 1464 A
(302)180 1704 A
2260 V
708(process)S
1101(server,)S
(170,)210 1458 A
(302)180 1698 A
2400 V
708(process)S
1101(termination,)S
(302)180 1720 A
2540 V
708(process)S
12 Y1
1071(3)S
12 R
1131(d,)S
(308)180 1251 A
2680 V
708(PROCESS)S
12 Y1
1231(3)S
12 R
1291(LIST)S
12 Y1
1547(3)S
12 R
1607(NAME,)S
(302)180 2024 A
2820 V
708(processor,)S
(167)180 1232 A
2960 V
708(processor)S
(pool,)244 1202 A
(167,)210 1476 A
(170)180 1716 A
3100 V
708(PROCESS)S
12 Y1
1231(3)S
12 R
1291(SVR)S
12 Y1
1526(3)S
12 R
1586(NAME,)S
(168,)210 2003 A
(302)180 2243 A
3240 V
12 I
(procexit)397 708 A
12 R
1105(,)S
(315-316)401 1165 A
3380 V
708(proc.h,)S
(167,)210 1073 A
(178,)210 1313 A
(302)180 1553 A
3520 V
12 I
708(pro)S
12 Y1
875(3)S
12 I
(exec)216 935 A
12 R
1151(,)S
(167,)210 1211 A
(302-304)401 1451 A
3660 V
12 I
708(prof)S
12 Y1
909(3)S
12 I
969(dump)S
12 R
1237(,)S
(315-316)401 1297 A
3800 V
(profiling,)454 708 A
(315)180 1192 A
3940 V
12 I
708(pro)S
12 Y1
875(3)S
12 I
935(getcomment)S
12 R
1521(,)S
(302,)210 1581 A
(305)180 1821 A
4080 V
12 I
708(pro)S
12 Y1
875(3)S
12 I
935(getdef)S
12 R
1231(,)S
(302-303)401 1291 A
4220 V
12 I
708(pro)S
12 Y1
875(3)S
12 I
(getload)362 935 A
12 R
1297(,)S
(302-303)401 1357 A
4360 V
12 I
708(pro)S
12 Y1
875(3)S
12 I
935(getowner)S
12 R
1384(,)S
(302,)210 1444 A
(305)180 1684 A
4500 V
708(program)S
1148(arguments,)S
(126,)210 1712 A
(167,)210 1952 A
(283)180 2192 A
4640 V
708(program)S
(counter,)393 1148 A
1571(5)S
4780 V
708(programming,)S
1426(67)S
4920 V
708(programming)S
(languages,)513 1396 A
1939(7,)S
2059(25)S
5060 V
708(programming)S
1396(model,)S
1758(2)S
5200 V
12 I
708(pro)S
12 Y1
875(3)S
12 I
935(setcomment)S
12 R
1508(,)S
(302,)210 1568 A
(305)180 1808 A
5340 V
12 I
708(pro)S
12 Y1
875(3)S
12 I
935(setowner)S
12 R
1371(,)S
(302,)210 1431 A
(305,)210 1671 A
(307)180 1911 A
5480 V
12 I
708(pro)S
12 Y1
875(3)S
12 I
(sgetload)409 935 A
12 R
1344(,)S
(304)180 1404 A
5620 V
12 I
708(pro)S
12 Y1
875(3)S
12 I
935(stun)S
12 R
1136(,)S
(173,)210 1196 A
(302,)210 1436 A
(306-307)401 1676 A
5760 V
12 I
708(pro)S
12 Y1
875(3)S
12 I
(swapproc)468 935 A
12 R
1403(,)S
(302,)210 1463 A
(304)180 1703 A
5900 V
708(prv,)S
929(2)S
6040 V
12 I
708(prv)S
12 Y1
869(3)S
12 I
929(decode)S
12 R
1271(,)S
1331(3,)S
1451(14,)S
(318)180 1631 A
6180 V
12 I
708(prv)S
12 Y1
869(3)S
12 I
929(encode)S
12 R
1271(,)S
1331(3,)S
1451(12,)S
(318)180 1631 A
6320 V
12 I
708(prv)S
12 Y1
869(3)S
12 I
929(number)S
12 R
1298(,)S
1358(14,)S
(318-319)401 1538 A
6460 V
708(PS)S
12 Y1
842(3)S
12 R
902(CHECKPOINT,)S
(302)180 1730 A
6600 V
708(PSR)S
12 Y1
922(3)S
12 R
(DELETE,)488 982 A
(351)180 1500 A
6740 V
708(PSR)S
12 Y1
922(3)S
12 R
982(READ,)S
(351)180 1372 A
6880 V
708(PSR)S
12 Y1
922(3)S
12 R
982(WRITE,)S
(351)180 1425 A
7020 V
12 I
708(ps)S
12 Y1
815(3)S
12 I
875(segcreate)S
12 R
1339(,)S
(351-352)401 1399 A
7160 V
12 I
708(ps)S
12 Y1
815(3)S
12 I
875(segwrite)S
12 R
1285(,)S
(351-352)401 1345 A
7300 V
(public)302 708 A
1040(port,)S
(301)180 1295 A
860 V
3130(put-port,)S
3580(10,)S
3760(14,)S
(333,)210 3940 A
(339,)210 4180 A
(421)180 4420 A
1000 V
12 I
3130(putrep)S
12 R
3445(,)S
3505(3,)S
3625(11,)S
3805(13,)S
(109,)210 3985 A
(332,)210 4225 A
(335-338,)431 4465 A
(359)180 4926 A
1280 V
21 R
3130(R)S
1560 V
12 R
(RANDOM,)569 3130 A
(330)180 3729 A
1700 V
(random)369 3130 A
3529(generator,)S
(330)180 4047 A
1840 V
(random)369 3130 A
3529(number,)S
(324,)210 3958 A
(330,)210 4198 A
(415)180 4438 A
1980 V
(random)369 3130 A
3529(server,)S
(330)180 3886 A
2120 V
3130(RARP,)S
(197)180 3505 A
2260 V
12 I
(readdir)362 3130 A
12 R
3492(,)S
(297)180 3552 A
2400 V
12 I
3130(realloc)S
12 R
3473(,)S
(256-257)401 3533 A
2540 V
12 I
3130(re)S
12 Y1
3231(3)S
12 I
3291(comp)S
12 R
3553(,)S
(327)180 3613 A
2680 V
3130(record)S
(position,)419 3470 A
(395)180 3919 A
2820 V
12 I
3130(re)S
12 Y1
3231(3)S
12 I
(exec)216 3291 A
12 R
3507(,)S
(327-328)401 3567 A
2960 V
3130(regular)S
3504(expression,)S
(327)180 4081 A
3100 V
3130(replication,)S
(152)180 3709 A
3240 V
3130(reply,)S
(332)180 3439 A
3380 V
3130(request,)S
(332)180 3540 A
3520 V
3130(rewind,)S
(395)180 3527 A
3660 V
3130(rights,)S
3466(2)S
3800 V
3130(rights)S
12 Y1
3406(3)S
12 R
3466(bits,)S
(318)180 3701 A
3940 V
12 I
3130(rmdir)S
12 R
3406(,)S
(299)180 3466 A
4080 V
12 I
3130(rnd)S
12 Y1
3297(3)S
12 I
3357(defcap)S
12 R
3679(,)S
(330)180 3739 A
4220 V
12 I
3130(rnd)S
12 Y1
3297(3)S
12 I
(getrandom)523 3357 A
12 R
3880(,)S
(330-331)401 3940 A
4360 V
12 I
3130(rnd)S
12 Y1
3297(3)S
12 I
3357(setcap)S
12 R
3666(,)S
(330)180 3726 A
4500 V
(round-robin,)607 3130 A
3767(5,)S
(405)180 3887 A
4640 V
3130(RPC,)S
3434(2-4,)S
3672(10,)S
3869(17,)S
4067(24,)S
(109,)210 4265 A
(183,)210 4523 A
(186,)210 4781 A
(258,)210 5039 A
4780 V
(301,)210 3130 A
(332-333,)431 3370 A
(335-340,)431 3831 A
(342,)210 4292 A
(358)180 4532 A
4920 V
3130(RPC)S
3387(buffer,)S
(119)180 3744 A
5060 V
3130(RPC)S
12 Y1
3357(3)S
12 R
3417(ABORTED,)S
(302)180 4049 A
5200 V
3130(RPC)S
12 Y1
3357(3)S
12 R
3417(FAILURE,)S
(392)180 3989 A
5340 V
12 I
3130(rpc)S
12 R
3291(,)S
(274)180 3351 A
5480 V
3130(run)S
3321(server,)S
(168,)210 3678 A
(170-171)401 3918 A
5620 V
(runnable)423 3130 A
3583(thread,)S
(405)180 3946 A
5760 V
3130(RUN)S
12 Y1
3386(3)S
12 R
3446(SERVER)S
3939(environment)S
4580(variable,)S
(171)180 5031 A
5900 V
3130(run-time)S
3578(start-off,)S
(192)180 4031 A
6180 V
21 R
3130(S)S
6460 V
12 I
3130(sak)S
12 Y1
3291(3)S
12 I
(exec)216 3351 A
12 Y1
3567(3)S
12 I
3627(trans)S
12 R
3875(,)S
(343-344)401 3935 A
6600 V
12 I
3130(sak)S
12 Y1
3291(3)S
12 I
3351(list)S
12 Y1
3500(3)S
12 I
3560(job)S
12 R
3714(,)S
(343,)210 3774 A
(345)180 4014 A
6740 V
12 I
3130(sak)S
12 Y1
3291(3)S
12 I
3351(make)S
12 Y1
3607(3)S
12 I
(transfile)404 3667 A
12 R
4071(,)S
(343-344,)431 4131 A
(346)180 4592 A
6880 V
12 I
3130(sak)S
12 Y1
3291(3)S
12 I
3351(submit)S
12 Y1
3674(3)S
12 I
3734(job)S
12 R
3888(,)S
(343-344,)431 3948 A
(346)180 4409 A
7020 V
3130(scheduling,)S
3713(5,)S
(405)180 3833 A
7160 V
3130(searching,)S
(327)180 3654 A
7300 V
12 I
3130(seg)S
12 Y1
3291(3)S
12 I
3351(grow)S
12 R
3598(,)S
(348-349)401 3658 A
7700 V
2683(Amoeba)S
3123(5.3)S
(435)180 5069 A
7920 V
EP
%%Page: 436 442
BP
/slant 0 def
/height 0 def
860 V
12 I
708(seg)S
12 Y1
869(3)S
12 I
929(map)S
12 R
1137(,)S
(174,)210 1197 A
(178,)210 1437 A
(348-349,)431 1677 A
(352,)210 2138 A
(359)180 2378 A
1000 V
708(segment,)S
(174,)210 1171 A
(178,)210 1411 A
(348,)210 1651 A
(351)180 1891 A
1140 V
708(segment)S
1141(descriptor,)S
(308)180 1686 A
1280 V
708(segment)S
1141(identifier,)S
(178,)210 1647 A
(348)180 1887 A
1420 V
708(segment)S
1141(map,)S
(178)180 1409 A
1560 V
708(segment)S
1141(mapping,)S
(308)180 1623 A
1700 V
708(segment)S
12 Y1
1111(3)S
12 R
1171(d,)S
(308)180 1291 A
1840 V
12 I
708(seg)S
12 Y1
869(3)S
12 I
929(unmap)S
12 R
1257(,)S
(348-349)401 1317 A
1980 V
12 I
708(sema)S
12 Y1
957(3)S
12 I
1017(down)S
12 R
1277(,)S
(353-356)401 1337 A
2120 V
12 I
708(sema)S
12 Y1
957(3)S
12 I
1017(init)S
12 R
1179(,)S
(353,)210 1239 A
(356)180 1479 A
2260 V
12 I
708(sema)S
12 Y1
957(3)S
12 I
(level)230 1017 A
12 R
1247(,)S
(353-354)401 1307 A
2400 V
12 I
708(sema)S
12 Y1
957(3)S
12 I
1017(mdown)S
12 R
1365(,)S
(353,)210 1425 A
(355)180 1665 A
2540 V
12 I
708(sema)S
12 Y1
957(3)S
12 I
1017(mup)S
12 R
1225(,)S
(353,)210 1285 A
(355)180 1525 A
2680 V
(semaphore,)554 708 A
(139,)210 1292 A
(353,)210 1532 A
(421)180 1772 A
2820 V
(semaphore.h,)644 708 A
(139,)210 1382 A
(353,)210 1622 A
(421)180 1862 A
2960 V
12 I
708(sema)S
12 Y1
957(3)S
12 I
1017(trydown)S
12 R
1412(,)S
(353-355)401 1472 A
3100 V
12 I
708(sema)S
12 Y1
957(3)S
12 I
1017(trymdown)S
12 R
1500(,)S
(353,)210 1560 A
(355)180 1800 A
3240 V
12 I
708(sema)S
12 Y1
957(3)S
12 I
1017(up)S
12 R
1137(,)S
(353-355)401 1197 A
3380 V
708(server)S
1035(port,)S
1290(2)S
3520 V
708(service)S
1082(timeout,)S
1512(4)S
3660 V
708(session)S
1087(server,)S
1444(6-7)S
3800 V
12 I
708(setpgid)S
12 R
1057(,)S
(297)180 1117 A
3940 V
12 I
708(setsid)S
12 R
984(,)S
(297)180 1044 A
4080 V
708(shared-memory,)S
1528(5)S
4220 V
708(shell)S
967(variables,)S
(192)180 1465 A
4360 V
12 I
708(sigaction)S
12 R
1151(,)S
(297)180 1211 A
4500 V
12 I
708(sig)S
12 Y1
849(3)S
12 I
909(block)S
12 R
1171(,)S
(358,)210 1231 A
(361-362)401 1471 A
4640 V
12 I
708(sig)S
12 Y1
849(3)S
12 I
909(catch)S
12 R
1171(,)S
(358,)210 1231 A
(360-362)401 1471 A
4780 V
12 I
708(sig)S
12 Y1
849(3)S
12 I
909(mu)S
12 Y1
1057(3)S
12 I
1117(lock)S
12 R
1319(,)S
(275,)210 1379 A
(358)180 1619 A
4920 V
12 I
708(sig)S
12 Y1
849(3)S
12 I
909(mu)S
12 Y1
1057(3)S
12 I
1117(trylock)S
12 R
1454(,)S
(275,)210 1514 A
(358)180 1754 A
5060 V
12 I
708(sig)S
12 Y1
849(3)S
12 I
909(mu)S
12 Y1
1057(3)S
12 I
1117(unlock)S
12 R
1439(,)S
(275,)210 1499 A
(358)180 1739 A
5200 V
708(signal)S
1027(catcher,)S
(358)180 1438 A
5340 V
708(signal)S
1027(generation,)S
(358)180 1598 A
5480 V
708(signal)S
1027(number,)S
(358)180 1456 A
5620 V
708(signal)S
1027(vector,)S
(358)180 1390 A
5760 V
708(signals,)S
1104(6,)S
(283,)210 1224 A
(358)180 1464 A
5900 V
12 I
(signals)342 708 A
12 R
1050(,)S
(296)180 1110 A
6040 V
708(signals.h,)S
(358)180 1194 A
6180 V
708(signature,)S
(332)180 1212 A
6320 V
(signum,)385 708 A
(358)180 1123 A
6460 V
12 I
708(sig)S
12 Y1
849(3)S
12 I
909(raise)S
12 R
1151(,)S
(358,)210 1211 A
(360)180 1451 A
6600 V
708(SIG)S
12 Y1
904(3)S
12 R
964(TRANS,)S
(358)180 1421 A
6740 V
12 I
708(sig)S
12 Y1
849(3)S
12 I
(unblock)382 909 A
12 R
1291(,)S
(358,)210 1351 A
(361)180 1591 A
6880 V
12 I
708(sig)S
12 Y1
849(3)S
12 I
909(uniq)S
12 R
1123(,)S
(358,)210 1183 A
(360)180 1423 A
7020 V
708(sig)S
12 Y1
849(3)S
12 R
909(vector,)S
(358)180 1272 A
7160 V
12 I
708(sleep)S
12 R
957(,)S
(297)180 1017 A
7300 V
708(SOAP,)S
(152,)210 1078 A
(278,)210 1318 A
(365,)210 1558 A
(374,)210 1798 A
(377)180 2038 A
860 V
12 I
3130(sp)S
12 Y1
3237(3)S
12 I
(append)354 3297 A
12 R
3651(,)S
(365,)210 3711 A
(367-368)401 3951 A
1000 V
12 I
3130(sp)S
12 Y1
3237(3)S
12 I
3297(chmod)S
12 R
3619(,)S
(365,)210 3679 A
(368)180 3919 A
1140 V
12 I
3130(sp)S
12 Y1
3237(3)S
12 I
3297(closedir)S
12 R
3687(,)S
(374)180 3747 A
1280 V
12 I
3130(sp)S
12 Y1
3237(3)S
12 I
3297(create)S
12 R
3600(,)S
(365,)210 3660 A
(368)180 3900 A
1420 V
12 I
3130(sp)S
12 Y1
3237(3)S
12 I
3297(delete)S
12 R
3587(,)S
(365,)210 3647 A
(369)180 3887 A
1560 V
3130(SP)S
12 Y1
3264(3)S
12 R
3324(DIR,)S
(365)180 3593 A
1700 V
12 I
3130(sp)S
12 Y1
3237(3)S
12 I
3297(discard)S
12 R
3659(,)S
(365,)210 3719 A
(369)180 3959 A
1840 V
12 I
3130(sp)S
12 Y1
3237(3)S
12 I
3297(getmasks)S
12 R
3741(,)S
(365,)210 3801 A
(369)180 4041 A
1980 V
12 I
3130(sp)S
12 Y1
3237(3)S
12 I
(getseqno)429 3297 A
12 R
3726(,)S
(365,)210 3786 A
(370)180 4026 A
2120 V
12 I
3130(sp)S
12 Y1
3237(3)S
12 I
3297(install)S
12 R
3600(,)S
(365,)210 3660 A
(370,)210 3900 A
(372)180 4140 A
2260 V
12 I
3130(sp)S
12 Y1
3237(3)S
12 I
3297(list)S
12 R
3446(,)S
(365,)210 3506 A
(371)180 3746 A
2400 V
12 I
3130(sp)S
12 Y1
3237(3)S
12 I
3297(lookup)S
12 R
3625(,)S
(365,)210 3685 A
(372)180 3925 A
2540 V
3130(SPMASK)S
3644(environment)S
4285(variable,)S
(376-377)401 4736 A
2680 V
12 I
3130(sp)S
12 Y1
3237(3)S
12 I
3297(mask)S
12 R
3546(,)S
(376-377)401 3606 A
2820 V
12 I
3130(sp)S
12 Y1
3237(3)S
12 I
3297(mkdir)S
12 R
3580(,)S
(377)180 3640 A
2960 V
12 I
3130(sp)S
12 Y1
3237(3)S
12 I
3297(opendir)S
12 R
3672(,)S
(374)180 3732 A
3100 V
12 I
3130(sp)S
12 Y1
3237(3)S
12 I
(readdir)362 3297 A
12 R
3659(,)S
(374-375)401 3719 A
3240 V
12 I
3130(sp)S
12 Y1
3237(3)S
12 I
3297(replace)S
12 R
3660(,)S
(365,)210 3720 A
(372)180 3960 A
3380 V
12 I
3130(sp)S
12 Y1
3237(3)S
12 I
(rewinddir)476 3297 A
12 R
3773(,)S
(374-375)401 3833 A
3520 V
12 I
3130(sp)S
12 Y1
3237(3)S
12 I
(seekdir)350 3297 A
12 R
3647(,)S
(374-375)401 3707 A
3660 V
12 I
3130(sp)S
12 Y1
3237(3)S
12 I
3297(setlookup)S
12 R
3760(,)S
(365,)210 3820 A
(372)180 4060 A
3800 V
12 I
3130(sp)S
12 Y1
3237(3)S
12 I
3297(telldir)S
12 R
3594(,)S
(374-375)401 3654 A
3940 V
12 I
3130(sp)S
12 Y1
3237(3)S
12 I
3297(traverse)S
12 R
3694(,)S
(365,)210 3754 A
(373)180 3994 A
4080 V
3130(stack)S
3409(format,)S
(192)180 3793 A
4220 V
3130(stack)S
3409(pointer,)S
3812(5,)S
(126)180 3932 A
4360 V
3130(stack)S
3409(segment,)S
3872(5,)S
(126,)210 3992 A
(308)180 4232 A
4500 V
3130(stack)S
3409(size,)S
(168)180 3658 A
4640 V
12 Y1
3130(3)S
12 R
3190(stackfix,)S
(192)180 3634 A
4780 V
3130(standard)S
3570(commands,)S
4153(8,)S
4273(21,)S
(379)180 4453 A
4920 V
3130(standard)S
3570(error)S
3837(codes,)S
4172(8)S
5060 V
3130(standard)S
3570(time,)S
(147)180 3846 A
5200 V
3130(standard)S
3570(types,)S
3885(8)S
5340 V
12 I
3130(stat)S
12 R
3305(,)S
(299)180 3365 A
5480 V
3130(static,)S
(400)180 3447 A
5620 V
3130(STD)S
3389(C,)S
3529(7,)S
3649(25,)S
3829(38,)S
(111,)210 4009 A
(295)180 4249 A
5760 V
3130(STD)S
3389(C)S
3499(conformance,)S
4191(38,)S
(111)180 4371 A
5900 V
3130(STD)S
3389(C)S
(support,)392 3499 A
3921(38,)S
(111)180 4101 A
6040 V
12 I
3130(std)S
12 Y1
3271(3)S
12 I
3331(age)S
12 R
3505(,)S
(379)180 3565 A
6180 V
12 I
3130(std)S
12 Y1
3271(3)S
12 I
3331(copy)S
12 R
3559(,)S
(379-380)401 3619 A
6320 V
12 I
3130(std)S
12 Y1
3271(3)S
12 I
3331(destroy)S
12 R
3687(,)S
(379-380)401 3747 A
6460 V
12 I
3130(std)S
12 R
3271(,)S
(181,)210 3331 A
(343)180 3571 A
6600 V
12 I
3130(std)S
12 Y1
3271(3)S
12 I
3331(getparams)S
12 R
3841(,)S
(379,)210 3901 A
(381)180 4141 A
6740 V
12 I
3130(std)S
12 Y1
3271(3)S
12 I
3331(info)S
12 R
3519(,)S
(379,)210 3579 A
(381)180 3819 A
6880 V
3130(STD)S
12 Y1
3359(3)S
12 R
3419(INTR,)S
(358)180 3762 A
7020 V
3130(stdio,)S
(117)180 3425 A
7160 V
12 I
3130(std)S
12 Y1
3271(3)S
12 I
3331(ntouch)S
12 R
3659(,)S
(379,)210 3719 A
(384)180 3959 A
7300 V
3130(STD)S
12 Y1
3359(3)S
12 R
3419(RESTRICT,)S
(366)180 4049 A
7700 V
(436)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 437 443
BP
/slant 0 def
/height 0 def
860 V
12 R
708(std)S
12 Y1
849(3)S
12 R
909(restrict,)S
(366)180 1308 A
1000 V
12 I
708(std)S
12 Y1
849(3)S
12 I
909(restrict)S
12 R
1260(,)S
(319,)210 1320 A
(379,)210 1560 A
(382)180 1800 A
1140 V
12 I
708(std)S
12 Y1
849(3)S
12 I
909(setparams)S
12 R
1406(,)S
(379,)210 1466 A
(382)180 1706 A
1280 V
12 I
708(std)S
12 Y1
849(3)S
12 I
909(status)S
12 R
1191(,)S
(379,)210 1251 A
(383)180 1491 A
1420 V
12 I
708(std)S
12 Y1
849(3)S
12 I
909(touch)S
12 R
1177(,)S
(379,)210 1237 A
(384)180 1477 A
1560 V
708(stream,)S
(175)180 1092 A
1700 V
708(string)S
1014(environment,)S
(126,)210 1685 A
(167,)210 1925 A
(283)180 2165 A
1840 V
708(strip,)S
984(36)S
1980 V
708(struct)S
1008(termios,)S
(408)180 1432 A
2120 V
708(struct)S
1008(thread)S
12 Y1
1311(3)S
12 R
1371(idle,)S
(308)180 1613 A
2260 V
708(struct)S
1008(thread)S
12 Y1
1311(3)S
12 R
1371(kstate,)S
(308)180 1714 A
2400 V
708(struct)S
1008(thread)S
12 Y1
1311(3)S
12 R
1371(ustate,)S
(308)180 1714 A
2540 V
708(struct)S
1008(tm,)S
(147)180 1196 A
2680 V
708(stub)S
939(compiler,)S
1430(68)S
2820 V
708(stub)S
939(routine,)S
1342(4)S
2960 V
708(stun,)S
969(6,)S
(276-277)401 1089 A
3100 V
708(stun)S
939(a)S
1023(process,)S
(302)180 1446 A
3240 V
708(stun)S
939(code,)S
(302)180 1227 A
3380 V
708(summer)S
1128(time,)S
(147)180 1404 A
3520 V
12 I
(sun4m)315 708 A
12 Y1
1023(3)S
12 I
1083(timer)S
12 Y1
1340(3)S
12 I
(diff)162 1400 A
12 R
1562(,)S
(385-386)401 1622 A
3660 V
12 I
(sun4m)315 708 A
12 Y1
1023(3)S
12 I
1083(timer)S
12 Y1
1340(3)S
12 I
1400(getptr)S
12 R
1689(,)S
(385-386)401 1749 A
3800 V
12 I
(sun4m)315 708 A
12 Y1
1023(3)S
12 I
1083(timer)S
12 Y1
1340(3)S
12 I
1400(init)S
12 R
1562(,)S
(385)180 1622 A
3940 V
12 I
(sun4m)315 708 A
12 Y1
1023(3)S
12 I
1083(timer)S
12 Y1
1340(3)S
12 I
1400(micro)S
12 R
1683(,)S
(385-386)401 1743 A
4080 V
12 I
708(super)S
12 Y1
976(3)S
12 I
1036(host)S
12 Y1
1237(3)S
12 I
1297(lookup)S
12 R
1625(,)S
(194)180 1685 A
4220 V
708(synchronization,)S
1540(5,)S
(139,)210 1660 A
(275,)210 1900 A
(353)180 2140 A
4360 V
12 I
708(sys)S
12 Y1
856(3)S
12 I
(boot)214 916 A
12 R
1130(,)S
(387)180 1190 A
4500 V
12 I
708(sys)S
12 Y1
856(3)S
12 I
916(chgcap)S
12 R
1264(,)S
(387)180 1324 A
4640 V
12 I
708(sys)S
12 Y1
856(3)S
12 I
916(getlocal)S
12 R
1306(,)S
(392-393)401 1366 A
4780 V
708(sys/ioctl.h,)S
(408)180 1262 A
4920 V
12 I
708(sys)S
12 Y1
856(3)S
12 I
916(kstat)S
12 R
1145(,)S
(387-388)401 1205 A
5060 V
12 I
708(sys)S
12 Y1
856(3)S
12 I
(milli)224 916 A
12 R
1140(,)S
(391)180 1200 A
5200 V
12 I
708(sys)S
12 Y1
856(3)S
12 I
916(newthread)S
12 R
1425(,)S
(392-393,)431 1485 A
(403)180 1946 A
5340 V
12 I
708(sys)S
12 Y1
856(3)S
12 I
916(printbuf)S
12 R
1305(,)S
(387,)210 1365 A
(389)180 1605 A
5480 V
708(sys)S
12 Y1
862(3)S
12 R
922(setvec,)S
(165)180 1285 A
5620 V
12 I
708(sys)S
12 Y1
856(3)S
12 I
(setvec)297 916 A
12 R
1213(,)S
(358,)210 1273 A
(361-363)401 1513 A
5760 V
12 I
708(sys)S
12 Y1
856(3)S
12 I
916(sigret)S
12 R
1192(,)S
(358,)210 1252 A
(362-363)401 1492 A
5900 V
708(syssvr,)S
(387)180 1070 A
6040 V
708(systask.h,)S
(387)180 1207 A
6180 V
708(system)S
1074(catcher,)S
(358)180 1485 A
6320 V
708(sys/types.h,)S
(147)180 1301 A
6600 V
21 R
708(T)S
6880 V
12 R
708(tape)S
940(controllers,)S
(395)180 1519 A
7020 V
708(tape)S
940(marker,)S
(395)180 1344 A
7160 V
708(tape)S
940(record,)S
(395)180 1310 A
7300 V
708(tape)S
940(server,)S
(395)180 1297 A
860 V
3130(TAPE)S
12 Y1
3433(3)S
12 R
3493(BOT)S
12 Y1
3735(3)S
12 R
3795(ERR,)S
(395)180 4089 A
1000 V
3130(TAPE)S
12 Y1
3433(3)S
12 R
3493(CMD)S
12 Y1
3768(3)S
12 R
3828(ABORTED,)S
(395)180 4460 A
1140 V
3130(TAPE)S
12 Y1
3433(3)S
12 R
3493(EOF,)S
(395)180 3782 A
1280 V
3130(TAPE)S
12 Y1
3433(3)S
12 R
3493(EOT,)S
(395)180 3789 A
1420 V
12 I
3130(tape)S
12 Y1
3338(3)S
12 I
3398(erase)S
12 R
3660(,)S
(395,)210 3720 A
(398)180 3960 A
1560 V
12 I
3130(tape)S
12 Y1
3338(3)S
12 I
3398(fpos)S
12 R
3599(,)S
(395,)210 3659 A
(397)180 3899 A
1700 V
12 I
3130(tape)S
12 Y1
3338(3)S
12 I
3398(fskip)S
12 R
3627(,)S
(395,)210 3687 A
(398)180 3927 A
1840 V
3130(tape.h,)S
(395)180 3482 A
1980 V
12 I
3130(tape)S
12 Y1
3338(3)S
12 I
(load)214 3398 A
12 R
3612(,)S
(395-396)401 3672 A
2120 V
3130(TAPE)S
12 Y1
3433(3)S
12 R
3493(MEDIA)S
12 Y1
3891(3)S
12 R
3951(ERR,)S
(395)180 4245 A
2260 V
3130(TAPE)S
12 Y1
3433(3)S
12 R
3493(NOTAPE,)S
(395)180 4032 A
2400 V
3130(TAPE)S
12 Y1
3433(3)S
12 R
3493(POS)S
12 Y1
3715(3)S
12 R
3775(LOST,)S
(395)180 4138 A
2540 V
12 I
3130(tape)S
12 Y1
3338(3)S
12 I
3398(read)S
12 R
3619(,)S
(395-396)401 3679 A
2680 V
3130(TAPE)S
12 Y1
3433(3)S
12 R
3493(REC)S
12 Y1
3727(3)S
12 R
3787(DAT)S
12 Y1
4037(3)S
12 R
4097(TRUNC,)S
(395)180 4567 A
2820 V
12 I
3130(tape)S
12 Y1
3338(3)S
12 I
3398(rewind)S
12 R
3733(,)S
(395,)210 3793 A
(397)180 4033 A
2960 V
12 I
3130(tape)S
12 Y1
3338(3)S
12 I
3398(rpos)S
12 R
3612(,)S
(395,)210 3672 A
(397)180 3912 A
3100 V
12 I
3130(tape)S
12 Y1
3338(3)S
12 I
3398(rskip)S
12 R
3640(,)S
(395,)210 3700 A
(397)180 3940 A
3240 V
12 I
3130(tape)S
12 Y1
3338(3)S
12 I
3398(status)S
12 R
3680(,)S
(395,)210 3740 A
(398)180 3980 A
3380 V
12 I
3130(tape)S
12 Y1
3338(3)S
12 I
(unload)334 3398 A
12 R
3732(,)S
(395,)210 3792 A
(397)180 4032 A
3520 V
12 I
3130(tape)S
12 Y1
3338(3)S
12 I
3398(why)S
12 R
3592(,)S
(395,)210 3652 A
(398)180 3892 A
3660 V
12 I
3130(tape)S
12 Y1
3338(3)S
12 I
3398(write)S
12 Y1
3647(3)S
12 I
3707(eof)S
12 R
3855(,)S
(395-396)401 3915 A
3800 V
12 I
3130(tape)S
12 Y1
3338(3)S
12 I
3398(write)S
12 R
3647(,)S
(395-396)401 3707 A
3940 V
3130(TAPE)S
12 Y1
3433(3)S
12 R
3493(WRITE)S
12 Y1
3876(3)S
12 R
3936(PROT,)S
(395)180 4305 A
4080 V
12 I
3130(tc)S
12 Y1
3218(3)S
12 I
3278(frombsd)S
12 R
3674(,)S
(408,)210 3734 A
(410)180 3974 A
4220 V
12 I
3130(tc)S
12 Y1
3218(3)S
12 I
3278(fromsysv)S
12 R
3709(,)S
(408,)210 3769 A
(411)180 4009 A
4360 V
12 I
3130(tc)S
12 Y1
3218(3)S
12 I
3278(marshal)S
12 R
3674(,)S
(408,)210 3734 A
(410)180 3974 A
4500 V
3130(TCP,)S
(197,)210 3411 A
(216)180 3651 A
4640 V
3130(tcp,)S
(197,)210 3338 A
(216)180 3578 A
4780 V
12 I
3130(tcp)S
12 Y1
3278(3)S
12 I
3338(ioc)S
12 Y1
3486(3)S
12 I
(connect)376 3546 A
12 R
3922(,)S
(216,)210 3982 A
(218)180 4222 A
4920 V
12 I
3130(tcp)S
12 Y1
3278(3)S
12 I
3338(ioc)S
12 Y1
3486(3)S
12 I
3546(getconf)S
12 R
3902(,)S
(216,)210 3962 A
(218)180 4202 A
5060 V
12 I
3130(tcp)S
12 Y1
3278(3)S
12 I
3338(ioc)S
12 Y1
3486(3)S
12 I
3546(getopt)S
12 R
3848(,)S
(216,)210 3908 A
(218)180 4148 A
5200 V
12 I
3130(tcp)S
12 Y1
3278(3)S
12 I
3338(ioc)S
12 Y1
3486(3)S
12 I
3546(listen)S
12 R
3809(,)S
(216,)210 3869 A
(219)180 4109 A
5340 V
12 I
3130(tcp)S
12 Y1
3278(3)S
12 I
3338(ioc)S
12 Y1
3486(3)S
12 I
3546(setconf)S
12 R
3889(,)S
(216,)210 3949 A
(219)180 4189 A
5480 V
12 I
3130(tcp)S
12 Y1
3278(3)S
12 I
3338(ioc)S
12 Y1
3486(3)S
12 I
3546(setopt)S
12 R
3835(,)S
(216,)210 3895 A
(221)180 4135 A
5620 V
12 I
3130(tcp)S
12 Y1
3278(3)S
12 I
3338(ioc)S
12 Y1
3486(3)S
12 I
3546(shutdown)S
12 R
4007(,)S
(216,)210 4067 A
(222)180 4307 A
5760 V
3130(TCP/IP,)S
3553(7,)S
3673(24,)S
(197,)210 3853 A
(203,)210 4093 A
(209,)210 4333 A
(216)180 4573 A
5900 V
12 I
3130(tcpip)S
12 Y1
3372(3)S
12 I
(keepalive)458 3432 A
12 Y1
3890(3)S
12 I
3950(cap)S
12 R
4124(,)S
(197,)210 4184 A
(200)180 4424 A
6040 V
12 I
3130(tcpip)S
12 Y1
3372(3)S
12 I
(keepalive)458 3432 A
12 R
3890(,)S
(197,)210 3950 A
(200)180 4190 A
6180 V
12 I
3130(tcpip)S
12 Y1
3372(3)S
12 I
3432(mkcap)S
12 R
3748(,)S
(197,)210 3808 A
(200)180 4048 A
6320 V
12 I
3130(tcpip)S
12 Y1
3372(3)S
12 I
3432(open)S
12 R
3666(,)S
(197,)210 3726 A
(201)180 3966 A
6460 V
12 I
3130(tcpip)S
12 Y1
3372(3)S
12 I
3432(read)S
12 R
3653(,)S
(197,)210 3713 A
(201,)210 3953 A
(204,)210 4193 A
(210,)210 4433 A
(217,)210 4673 A
(224)180 4913 A
6600 V
12 I
3130(tcpip)S
12 Y1
3372(3)S
12 I
(unkeepalive)578 3432 A
12 Y1
4010(3)S
12 I
4070(cap)S
12 R
4244(,)S
(197,)210 4304 A
(200)180 4544 A
6740 V
12 I
3130(tcpip)S
12 Y1
3372(3)S
12 I
3432(why)S
12 R
3626(,)S
(197,)210 3686 A
(199)180 3926 A
6880 V
12 I
3130(tcpip)S
12 Y1
3372(3)S
12 I
3432(write)S
12 R
3681(,)S
(197,)210 3741 A
(201,)210 3981 A
(204,)210 4221 A
(210,)210 4461 A
(217,)210 4701 A
(224)180 4941 A
7020 V
12 I
3130(tc)S
12 Y1
3218(3)S
12 I
3278(tobsd)S
12 R
3539(,)S
(408,)210 3599 A
(410)180 3839 A
7160 V
12 I
3130(tc)S
12 Y1
3218(3)S
12 I
3278(tosysv)S
12 R
3574(,)S
(408,)210 3634 A
(411)180 3874 A
7300 V
12 I
3130(tc)S
12 Y1
3218(3)S
12 I
3278(unmarshal)S
12 R
3794(,)S
(408,)210 3854 A
(410)180 4094 A
7700 V
2683(Amoeba)S
3123(5.3)S
(437)180 5069 A
7920 V
EP
%%Page: 438 444
BP
/slant 0 def
/height 0 def
860 V
12 R
708(TD)S
12 Y1
870(3)S
12 R
930(NEXT,)S
(308)180 1314 A
1000 V
708(TDX)S
12 Y1
958(3)S
12 R
1018(IDLE,)S
(308)180 1355 A
1140 V
708(TDX)S
12 Y1
958(3)S
12 R
1018(KSTATE,)S
(308)180 1543 A
1280 V
708(TDX)S
12 Y1
958(3)S
12 R
1018(USTATE,)S
(308)180 1543 A
1420 V
708(telnet,)S
1038(24)S
1560 V
708(TERM)S
12 Y1
1043(3)S
12 R
1103(EXCEPTION,)S
(302)180 1837 A
1700 V
708(termination,)S
(173)180 1327 A
1840 V
708(termios,)S
(408)180 1132 A
1980 V
708(termios.h,)S
(408)180 1222 A
2120 V
708(TERM)S
12 Y1
1043(3)S
12 R
1103(NORMAL,)S
(173,)210 1688 A
(302)180 1928 A
2260 V
708(TERM)S
12 Y1
1043(3)S
12 R
(STUNNED,)597 1103 A
(302)180 1730 A
2400 V
708(text)S
920(segment,)S
1383(5,)S
(308)180 1503 A
2540 V
708(thread,)S
1071(5,)S
1191(12)S
2680 V
708(thread)S
1041(creation,)S
(392,)210 1492 A
(400)180 1732 A
2820 V
708(thread)S
1041(descriptor,)S
(308)180 1586 A
2960 V
708(thread)S
1041(memory)S
1474(management,)S
(400)180 2152 A
3100 V
12 I
708(thread)S
12 Y1
1023(3)S
12 I
1083(alloc)S
12 R
1325(,)S
(400-403)401 1385 A
3240 V
708(thread)S
12 Y1
1011(3)S
12 R
1071(d,)S
(308)180 1191 A
3380 V
12 I
708(thread)S
12 Y1
1023(3)S
12 I
(enable)322 1083 A
12 Y1
1405(3)S
12 I
1465(preemption)S
12 R
2016(,)S
(405-406)401 2076 A
3520 V
12 I
708(thread)S
12 Y1
1023(3)S
12 I
1083(en)S
12 Y1
1197(3)S
12 I
1257(preempt)S
12 R
1654(,)S
(392,)210 1714 A
(394)180 1954 A
3660 V
708(thread)S
12 Y1
1011(3)S
12 R
1071(exit,)S
(401)180 1313 A
3800 V
12 I
708(thread)S
12 Y1
1023(3)S
12 I
1083(exit)S
12 R
1259(,)S
(400)180 1319 A
3940 V
12 I
708(thread)S
12 Y1
1023(3)S
12 I
1083(get)S
12 Y1
1231(3)S
12 I
1291(max)S
12 Y1
1493(3)S
12 I
1553(priority)S
12 R
1923(,)S
(405-406)401 1983 A
4080 V
708(thread.h,)S
(400)180 1161 A
4220 V
12 I
708(thread)S
12 Y1
1023(3)S
12 I
1083(newthread)S
12 R
1592(,)S
1652(12,)S
(400-401)401 1832 A
4360 V
12 I
708(thread)S
12 Y1
1023(3)S
12 I
1083(param)S
12 R
1398(,)S
(400,)210 1458 A
(403)180 1698 A
4500 V
12 I
708(thread)S
12 Y1
1023(3)S
12 I
1083(realloc)S
12 R
1426(,)S
(400-401,)431 1486 A
(403)180 1947 A
4640 V
12 I
708(thread)S
12 Y1
1023(3)S
12 I
1083(set)S
12 Y1
1218(3)S
12 I
1278(priority)S
12 R
1648(,)S
(405-406)401 1708 A
4780 V
12 I
708(threadswitch)S
12 R
1332(,)S
1392(6,)S
(405)180 1512 A
4920 V
708(time,)S
(147,)210 984 A
(412)180 1224 A
5060 V
708(time)S
954(of)S
1085(day,)S
(412)180 1319 A
5200 V
12 I
708(timeout)S
12 R
1072(,)S
1132(3-4,)S
(332,)210 1353 A
(337)180 1593 A
5340 V
12 I
708(times)S
12 R
965(,)S
(297)180 1025 A
5480 V
708(time-slice,)S
1248(5,)S
(405)180 1368 A
5620 V
708(time)S
12 Y1
924(3)S
12 R
984(t,)S
(147)180 1078 A
5760 V
708(timezone,)S
(147)180 1212 A
5900 V
708(timing,)S
(391,)210 1084 A
(412)180 1324 A
6040 V
12 I
708(tios)S
12 Y1
883(3)S
12 I
943(drain)S
12 R
1204(,)S
(408)180 1264 A
6180 V
12 I
708(tios)S
12 Y1
883(3)S
12 I
943(flow)S
12 R
1151(,)S
(408-409)401 1211 A
6320 V
12 I
708(tios)S
12 Y1
883(3)S
12 I
943(flush)S
12 R
1178(,)S
(408-409)401 1238 A
6460 V
12 I
708(tios)S
12 Y1
883(3)S
12 I
943(getattr)S
12 R
1266(,)S
(408-409)401 1326 A
6600 V
12 I
708(tios)S
12 Y1
883(3)S
12 I
(sendbrk)382 943 A
12 R
1325(,)S
(408-409)401 1385 A
6740 V
12 I
708(tios)S
12 Y1
883(3)S
12 I
943(setattr)S
12 R
1253(,)S
(408-409)401 1313 A
6880 V
708(tob,)S
922(24)S
7020 V
708(TOD)S
988(environment)S
1629(variable,)S
(412,)210 2080 A
(414)180 2320 A
7160 V
12 I
708(tod)S
12 Y1
862(3)S
12 I
922(defcap)S
12 R
1244(,)S
(412-413)401 1304 A
7300 V
12 I
708(tod)S
12 Y1
862(3)S
12 I
(gettime)358 922 A
12 R
1280(,)S
(412-414)401 1340 A
860 V
12 I
3130(tod)S
12 Y1
3284(3)S
12 I
3344(setcap)S
12 R
3653(,)S
(412-414)401 3713 A
1000 V
12 I
3130(tod)S
12 Y1
3284(3)S
12 I
(settime)345 3344 A
12 R
3689(,)S
(412-414)401 3749 A
1140 V
3130(transaction,)S
(332)180 3722 A
1280 V
3130(transaction)S
3692(buffer,)S
(119)180 4049 A
1420 V
12 I
3130(trans)S
12 R
3378(,)S
3464(3-4,)S
3711(6,)S
3857(18,)S
(109,)210 4063 A
(332-333,)431 4330 A
(335-340,)431 4818 A
1560 V
(359)180 3130 A
1700 V
3130(traverse,)S
(152)180 3575 A
1840 V
3130(ttn,)S
3318(24)S
1980 V
3130(tty,)S
(175)180 3318 A
2120 V
3130(tty)S
3288(control,)S
(408)180 3691 A
2260 V
3130(types,)S
3445(8)S
2400 V
3130(TZ)S
3308(environment)S
3949(variable,)S
(147,)210 4400 A
(149-150)401 4640 A
2540 V
3130(tzfile,)S
(147)180 3441 A
2680 V
12 I
3130(tzname)S
12 R
3473(,)S
(147,)210 3533 A
(149)180 3773 A
2820 V
12 I
3130(tzset)S
12 R
3346(,)S
(147)180 3406 A
3100 V
21 R
3130(U)S
3380 V
12 R
3130(UDP,)S
(197,)210 3433 A
(223)180 3673 A
3520 V
(udp,)210 3130 A
(197,)210 3370 A
(223)180 3610 A
3660 V
12 I
(udp)180 3130 A
12 Y1
3310(3)S
12 I
3370(close)S
12 R
3619(,)S
(223,)210 3679 A
(228)180 3919 A
3800 V
12 I
(udp)180 3130 A
12 Y1
3310(3)S
12 I
(connect)376 3370 A
12 R
3746(,)S
(223,)210 3806 A
(227)180 4046 A
3940 V
12 I
(udp)180 3130 A
12 Y1
3310(3)S
12 I
3370(destroy)S
12 R
3726(,)S
(223,)210 3786 A
(228)180 4026 A
4080 V
12 I
(udp)180 3130 A
12 Y1
3310(3)S
12 I
3370(ioc)S
12 Y1
3518(3)S
12 I
3578(getopt)S
12 R
3880(,)S
(223,)210 3940 A
(225)180 4180 A
4220 V
12 I
(udp)180 3130 A
12 Y1
3310(3)S
12 I
3370(ioc)S
12 Y1
3518(3)S
12 I
3578(setopt)S
12 R
3867(,)S
(223,)210 3927 A
(225)180 4167 A
4360 V
12 I
(udp)180 3130 A
12 Y1
3310(3)S
12 I
3370(read)S
12 Y1
3591(3)S
12 I
3651(msg)S
12 R
3846(,)S
(223,)210 3906 A
(228)180 4146 A
4500 V
12 I
(udp)180 3130 A
12 Y1
3310(3)S
12 I
(reconnect)477 3370 A
12 R
3847(,)S
(223,)210 3907 A
(227)180 4147 A
4640 V
12 I
(udp)180 3130 A
12 Y1
3310(3)S
12 I
3370(write)S
12 Y1
3619(3)S
12 I
3679(msg)S
12 R
3874(,)S
(223,)210 3934 A
(228)180 4174 A
4780 V
3130(uid,)S
(295)180 3344 A
4920 V
12 I
3130(umask)S
12 R
3439(,)S
(298)180 3499 A
5060 V
12 I
(uniqport)415 3130 A
12 R
3545(,)S
3605(2,)S
3725(4,)S
3845(12,)S
(415)180 4025 A
5200 V
12 I
(uniqport)415 3130 A
12 Y1
3545(3)S
12 I
3605(reinit)S
12 R
3868(,)S
(415)180 3928 A
5340 V
3130(UNIX,)S
3495(24)S
5480 V
12 I
3130(unlink)S
12 R
3432(,)S
(298)180 3492 A
5620 V
3130(UNREGISTERED)S
12 Y1
4046(3)S
12 R
4106(FIRST)S
12 Y1
4435(3)S
12 R
4495(COM,)S
4830(9,)S
4950(11)S
5760 V
3130(UNREGISTERED)S
12 Y1
4046(3)S
12 R
4106(FIRST)S
12 Y1
4435(3)S
12 R
4495(ERR,)S
4789(9)S
5900 V
3130(user)S
3362(name,)S
(302)180 3684 A
6040 V
3130(UTC,)S
(147,)210 3432 A
(149-150)401 3672 A
6320 V
21 R
3130(V)S
6600 V
12 R
3130(VC)S
12 Y1
3298(3)S
12 R
3358(ASYNC,)S
(422,)210 3829 A
(424)180 4069 A
6740 V
12 I
3130(vc)S
12 Y1
3238(3)S
12 I
3298(avail)S
12 R
3540(,)S
(421,)210 3600 A
(424)180 3840 A
6880 V
3130(VC)S
12 Y1
3298(3)S
12 R
3358(BOTH,)S
(422,)210 3748 A
(424-425)401 3988 A
7020 V
12 I
3130(vc)S
12 Y1
3238(3)S
12 I
3298(close)S
12 R
3547(,)S
(421-422,)431 3607 A
(425)180 4068 A
7160 V
12 I
3130(vc)S
12 Y1
3238(3)S
12 I
3298(create)S
12 R
3601(,)S
(421-422,)431 3661 A
(424-425)401 4122 A
7300 V
12 I
3130(vc)S
12 Y1
3238(3)S
12 I
(getpdone)442 3298 A
12 R
3740(,)S
(421,)210 3800 A
(423-424)401 4040 A
7700 V
(438)180 708 A
2683(Amoeba)S
3123(5.3)S
7920 V
EP
%%Page: 439 445
BP
/slant 0 def
/height 0 def
860 V
12 I
708(vc)S
12 Y1
816(3)S
12 I
876(getp)S
12 R
1084(,)S
(421,)210 1144 A
(423-424)401 1384 A
1000 V
708(vc.h,)S
(421)180 972 A
1140 V
708(VC)S
12 Y1
876(3)S
12 R
936(IN,)S
(421-422,)431 1125 A
(424-425)401 1586 A
1280 V
708(VC)S
12 Y1
876(3)S
12 R
936(OUT,)S
(421-422,)431 1246 A
(424-425)401 1707 A
1420 V
12 I
708(vc)S
12 Y1
816(3)S
12 I
(putpdone)448 876 A
12 R
1324(,)S
(421,)210 1384 A
(423)180 1624 A
1560 V
12 I
708(vc)S
12 Y1
816(3)S
12 I
876(putp)S
12 R
1090(,)S
(421,)210 1150 A
(423)180 1390 A
1700 V
12 I
708(vc)S
12 Y1
816(3)S
12 I
(readall)349 876 A
12 R
1225(,)S
(421-422,)431 1285 A
(424)180 1746 A
1840 V
12 I
708(vc)S
12 Y1
816(3)S
12 I
876(read)S
12 R
1097(,)S
(421-423)401 1157 A
1980 V
12 I
708(vc)S
12 Y1
816(3)S
12 I
876(setsema)S
12 R
1260(,)S
(421,)210 1320 A
(424)180 1560 A
2120 V
12 I
708(vc)S
12 Y1
816(3)S
12 I
876(warn)S
12 R
1123(,)S
(421,)210 1183 A
(424)180 1423 A
2260 V
12 I
708(vc)S
12 Y1
816(3)S
12 I
876(write)S
12 R
1125(,)S
(421,)210 1185 A
(423,)210 1425 A
(425)180 1665 A
2400 V
708(virtual)S
1055(circuit,)S
(421)180 1426 A
2540 V
708(virtual)S
1055(disk,)S
(417)180 1316 A
2680 V
708(virtual)S
1055(memory,)S
(348)180 1518 A
2820 V
708(virtual)S
1055(memory)S
(layout,)332 1488 A
(174,)210 1850 A
(178,)210 2090 A
(302)180 2330 A
3100 V
21 R
708(W)S
3380 V
12 Y1
708(3)S
12 R
768(WORK)S
1168(environment)S
1809(variable,)S
(295)180 2260 A
3520 V
708(write)S
989(protected,)S
(395)180 1500 A
3800 V
21 R
708(X)S
4080 V
12 R
708(X)S
(windows,)467 826 A
(427)180 1323 A
4220 V
12 I
708(x11)S
12 Y1
882(3)S
12 I
942(reinit)S
12 R
1205(,)S
(427)180 1265 A
4360 V
12 I
708(x11)S
12 Y1
882(3)S
12 I
942(shutdown)S
12 R
1403(,)S
(427)180 1463 A
4640 V
21 R
708(Z)S
4920 V
12 R
708(zic,)S
(147-148)401 910 A
5060 V
708(zoneinfo,)S
(147)180 1191 A
7700 V
2683(Amoeba)S
3123(5.3)S
(439)180 5069 A
7920 V
EP
%%Trailer
%%DocumentFonts: Times-Roman Times-Bold Times-Italic Courier Symbol Troff
%%Pages: 445
